var pP=e=>{throw TypeError(e)};var h0=(e,t,r)=>t.has(e)||pP("Cannot "+r);var F=(e,t,r)=>(h0(e,t,"read from private field"),r?r.call(e):t.get(e)),Ve=(e,t,r)=>t.has(e)?pP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Pe=(e,t,r,n)=>(h0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ht=(e,t,r)=>(h0(e,t,"access private method"),r);var Lp=(e,t,r,n)=>({set _(s){Pe(e,t,s,r)},get _(){return F(e,t,n)}});function dz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p$={exports:{}},ax={},g$={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km=Symbol.for("react.element"),fz=Symbol.for("react.portal"),hz=Symbol.for("react.fragment"),mz=Symbol.for("react.strict_mode"),pz=Symbol.for("react.profiler"),gz=Symbol.for("react.provider"),vz=Symbol.for("react.context"),yz=Symbol.for("react.forward_ref"),xz=Symbol.for("react.suspense"),bz=Symbol.for("react.memo"),wz=Symbol.for("react.lazy"),gP=Symbol.iterator;function jz(e){return e===null||typeof e!="object"?null:(e=gP&&e[gP]||e["@@iterator"],typeof e=="function"?e:null)}var v$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y$=Object.assign,x$={};function Rd(e,t,r){this.props=e,this.context=t,this.refs=x$,this.updater=r||v$}Rd.prototype.isReactComponent={};Rd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b$(){}b$.prototype=Rd.prototype;function P_(e,t,r){this.props=e,this.context=t,this.refs=x$,this.updater=r||v$}var E_=P_.prototype=new b$;E_.constructor=P_;y$(E_,Rd.prototype);E_.isPureReactComponent=!0;var vP=Array.isArray,w$=Object.prototype.hasOwnProperty,A_={current:null},j$={key:!0,ref:!0,__self:!0,__source:!0};function S$(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)w$.call(t,n)&&!j$.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Km,type:e,key:i,ref:o,props:s,_owner:A_.current}}function Sz(e,t){return{$$typeof:Km,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function O_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Km}function _z(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var yP=/\/+/g;function m0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_z(""+e.key):t.toString(36)}function Rg(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Km:case fz:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+m0(o,0):n,vP(s)?(r="",e!=null&&(r=e.replace(yP,"$&/")+"/"),Rg(s,t,r,"",function(u){return u})):s!=null&&(O_(s)&&(s=Sz(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yP,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",vP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+m0(i,l);o+=Rg(i,t,r,c,s)}else if(c=jz(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+m0(i,l++),o+=Rg(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bp(e,t,r){if(e==null)return e;var n=[],s=0;return Rg(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Nz(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bn={current:null},$g={transition:null},kz={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:$g,ReactCurrentOwner:A_};function _$(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:Bp,forEach:function(e,t,r){Bp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bp(e,function(){t++}),t},toArray:function(e){return Bp(e,function(t){return t})||[]},only:function(e){if(!O_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=Rd;vt.Fragment=hz;vt.Profiler=pz;vt.PureComponent=P_;vt.StrictMode=mz;vt.Suspense=xz;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kz;vt.act=_$;vt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=y$({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=A_.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w$.call(t,c)&&!j$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Km,type:e.type,key:s,ref:i,props:n,_owner:o}};vt.createContext=function(e){return e={$$typeof:vz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gz,_context:e},e.Consumer=e};vt.createElement=S$;vt.createFactory=function(e){var t=S$.bind(null,e);return t.type=e,t};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:yz,render:e}};vt.isValidElement=O_;vt.lazy=function(e){return{$$typeof:wz,_payload:{_status:-1,_result:e},_init:Nz}};vt.memo=function(e,t){return{$$typeof:bz,type:e,compare:t===void 0?null:t}};vt.startTransition=function(e){var t=$g.transition;$g.transition={};try{e()}finally{$g.transition=t}};vt.unstable_act=_$;vt.useCallback=function(e,t){return Bn.current.useCallback(e,t)};vt.useContext=function(e){return Bn.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return Bn.current.useDeferredValue(e)};vt.useEffect=function(e,t){return Bn.current.useEffect(e,t)};vt.useId=function(){return Bn.current.useId()};vt.useImperativeHandle=function(e,t,r){return Bn.current.useImperativeHandle(e,t,r)};vt.useInsertionEffect=function(e,t){return Bn.current.useInsertionEffect(e,t)};vt.useLayoutEffect=function(e,t){return Bn.current.useLayoutEffect(e,t)};vt.useMemo=function(e,t){return Bn.current.useMemo(e,t)};vt.useReducer=function(e,t,r){return Bn.current.useReducer(e,t,r)};vt.useRef=function(e){return Bn.current.useRef(e)};vt.useState=function(e){return Bn.current.useState(e)};vt.useSyncExternalStore=function(e,t,r){return Bn.current.useSyncExternalStore(e,t,r)};vt.useTransition=function(){return Bn.current.useTransition()};vt.version="18.3.1";g$.exports=vt;var v=g$.exports;const M=It(v),ix=dz({__proto__:null,default:M},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cz=v,Pz=Symbol.for("react.element"),Ez=Symbol.for("react.fragment"),Az=Object.prototype.hasOwnProperty,Oz=Cz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tz={key:!0,ref:!0,__self:!0,__source:!0};function N$(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Az.call(t,n)&&!Tz.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Pz,type:e,key:i,ref:o,props:s,_owner:Oz.current}}ax.Fragment=Ez;ax.jsx=N$;ax.jsxs=N$;p$.exports=ax;var a=p$.exports,k$={exports:{}},Ns={},C$={exports:{}},P$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,$){var K=P.length;P.push($);e:for(;0<K;){var te=K-1>>>1,B=P[te];if(0<s(B,$))P[te]=$,P[K]=B,K=te;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var $=P[0],K=P.pop();if(K!==$){P[0]=K;e:for(var te=0,B=P.length,G=B>>>1;te<G;){var re=2*(te+1)-1,ae=P[re],ke=re+1,J=P[ke];if(0>s(ae,K))ke<B&&0>s(J,ae)?(P[te]=J,P[ke]=K,te=ke):(P[te]=ae,P[re]=K,te=re);else if(ke<B&&0>s(J,K))P[te]=J,P[ke]=K,te=ke;else break e}}return $}function s(P,$){var K=P.sortIndex-$.sortIndex;return K!==0?K:P.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,x=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=P)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function _(P){if(m=!1,w(P),!x)if(r(c)!==null)x=!0,D(j);else{var $=r(u);$!==null&&V(_,$.startTime-P)}}function j(P,$){x=!1,m&&(m=!1,y(k),k=-1),p=!0;var K=h;try{for(w($),f=r(c);f!==null&&(!(f.expirationTime>$)||P&&!A());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var B=te(f.expirationTime<=$);$=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),w($)}else n(c);f=r(c)}if(f!==null)var G=!0;else{var re=r(u);re!==null&&V(_,re.startTime-$),G=!1}return G}finally{f=null,h=K,p=!1}}var S=!1,N=null,k=-1,C=5,E=-1;function A(){return!(e.unstable_now()-E<C)}function R(){if(N!==null){var P=e.unstable_now();E=P;var $=!0;try{$=N(!0,P)}finally{$?T():(S=!1,N=null)}}else S=!1}var T;if(typeof g=="function")T=function(){g(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,O=I.port2;I.port1.onmessage=R,T=function(){O.postMessage(null)}}else T=function(){b(R,0)};function D(P){N=P,S||(S=!0,T())}function V(P,$){k=b(function(){P(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,D(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var K=h;h=$;try{return P()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var K=h;h=P;try{return $()}finally{h=K}},e.unstable_scheduleCallback=function(P,$,K){var te=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?te+K:te):K=te,P){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,P={id:d++,callback:$,priorityLevel:P,startTime:K,expirationTime:B,sortIndex:-1},K>te?(P.sortIndex=K,t(u,P),r(c)===null&&P===r(u)&&(m?(y(k),k=-1):m=!0,V(_,K-te))):(P.sortIndex=B,t(c,P),x||p||(x=!0,D(j))),P},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(P){var $=h;return function(){var K=h;h=$;try{return P.apply(this,arguments)}finally{h=K}}}})(P$);C$.exports=P$;var Iz=C$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rz=v,js=Iz;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E$=new Set,xh={};function pc(e,t){qu(e,t),qu(e+"Capture",t)}function qu(e,t){for(xh[e]=t,e=0;e<t.length;e++)E$.add(t[e])}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yw=Object.prototype.hasOwnProperty,$z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xP={},bP={};function Mz(e){return Yw.call(bP,e)?!0:Yw.call(xP,e)?!1:$z.test(e)?bP[e]=!0:(xP[e]=!0,!1)}function Dz(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lz(e,t,r,n){if(t===null||typeof t>"u"||Dz(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Un(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hn[e]=new Un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hn[t]=new Un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hn[e]=new Un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hn[e]=new Un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hn[e]=new Un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hn[e]=new Un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hn[e]=new Un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hn[e]=new Un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hn[e]=new Un(e,5,!1,e.toLowerCase(),null,!1,!1)});var T_=/[\-:]([a-z])/g;function I_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T_,I_);hn[t]=new Un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T_,I_);hn[t]=new Un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T_,I_);hn[t]=new Un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hn[e]=new Un(e,1,!1,e.toLowerCase(),null,!1,!1)});hn.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hn[e]=new Un(e,1,!1,e.toLowerCase(),null,!0,!0)});function R_(e,t,r,n){var s=hn.hasOwnProperty(t)?hn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lz(t,r,s,n)&&(r=null),n||s===null?Mz(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $i=Rz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Up=Symbol.for("react.element"),eu=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),$_=Symbol.for("react.strict_mode"),Qw=Symbol.for("react.profiler"),A$=Symbol.for("react.provider"),O$=Symbol.for("react.context"),M_=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),Zw=Symbol.for("react.suspense_list"),D_=Symbol.for("react.memo"),Yi=Symbol.for("react.lazy"),T$=Symbol.for("react.offscreen"),wP=Symbol.iterator;function mf(e){return e===null||typeof e!="object"?null:(e=wP&&e[wP]||e["@@iterator"],typeof e=="function"?e:null)}var ir=Object.assign,p0;function Ff(e){if(p0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);p0=t&&t[1]||""}return`
`+p0+e}var g0=!1;function v0(e,t){if(!e||g0)return"";g0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{g0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ff(e):""}function Fz(e){switch(e.tag){case 5:return Ff(e.type);case 16:return Ff("Lazy");case 13:return Ff("Suspense");case 19:return Ff("SuspenseList");case 0:case 2:case 15:return e=v0(e.type,!1),e;case 11:return e=v0(e.type.render,!1),e;case 1:return e=v0(e.type,!0),e;default:return""}}function Jw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tu:return"Fragment";case eu:return"Portal";case Qw:return"Profiler";case $_:return"StrictMode";case Xw:return"Suspense";case Zw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O$:return(e.displayName||"Context")+".Consumer";case A$:return(e._context.displayName||"Context")+".Provider";case M_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D_:return t=e.displayName||null,t!==null?t:Jw(e.type)||"Memo";case Yi:t=e._payload,e=e._init;try{return Jw(e(t))}catch{}}return null}function Bz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jw(t);case 8:return t===$_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function I$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uz(e){var t=I$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vp(e){e._valueTracker||(e._valueTracker=Uz(e))}function R$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=I$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function tv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ej(e,t){var r=t.checked;return ir({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function jP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Oo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $$(e,t){t=t.checked,t!=null&&R_(e,"checked",t,!1)}function tj(e,t){$$(e,t);var r=Oo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rj(e,t.type,r):t.hasOwnProperty("defaultValue")&&rj(e,t.type,Oo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function SP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function rj(e,t,r){(t!=="number"||tv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bf=Array.isArray;function yu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Oo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function nj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return ir({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _P(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(he(92));if(Bf(r)){if(1<r.length)throw Error(he(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Oo(r)}}function M$(e,t){var r=Oo(t.value),n=Oo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function NP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function D$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?D$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qp,L$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qp=qp||document.createElement("div"),qp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vz=["Webkit","ms","Moz","O"];Object.keys(Zf).forEach(function(e){Vz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zf[t]=Zf[e]})});function F$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zf.hasOwnProperty(e)&&Zf[e]?(""+t).trim():t+"px"}function B$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=F$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var qz=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aj(e,t){if(t){if(qz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function ij(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oj=null;function L_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lj=null,xu=null,bu=null;function kP(e){if(e=Qm(e)){if(typeof lj!="function")throw Error(he(280));var t=e.stateNode;t&&(t=dx(t),lj(e.stateNode,e.type,t))}}function U$(e){xu?bu?bu.push(e):bu=[e]:xu=e}function V$(){if(xu){var e=xu,t=bu;if(bu=xu=null,kP(e),t)for(e=0;e<t.length;e++)kP(t[e])}}function q$(e,t){return e(t)}function z$(){}var y0=!1;function W$(e,t,r){if(y0)return e(t,r);y0=!0;try{return q$(e,t,r)}finally{y0=!1,(xu!==null||bu!==null)&&(z$(),V$())}}function wh(e,t){var r=e.stateNode;if(r===null)return null;var n=dx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,t,typeof r));return r}var cj=!1;if(wi)try{var pf={};Object.defineProperty(pf,"passive",{get:function(){cj=!0}}),window.addEventListener("test",pf,pf),window.removeEventListener("test",pf,pf)}catch{cj=!1}function zz(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Jf=!1,rv=null,nv=!1,uj=null,Wz={onError:function(e){Jf=!0,rv=e}};function Hz(e,t,r,n,s,i,o,l,c){Jf=!1,rv=null,zz.apply(Wz,arguments)}function Kz(e,t,r,n,s,i,o,l,c){if(Hz.apply(this,arguments),Jf){if(Jf){var u=rv;Jf=!1,rv=null}else throw Error(he(198));nv||(nv=!0,uj=u)}}function gc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function H$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function CP(e){if(gc(e)!==e)throw Error(he(188))}function Gz(e){var t=e.alternate;if(!t){if(t=gc(e),t===null)throw Error(he(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return CP(s),e;if(i===n)return CP(s),t;i=i.sibling}throw Error(he(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(he(189))}}if(r.alternate!==n)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:t}function K$(e){return e=Gz(e),e!==null?G$(e):null}function G$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=G$(e);if(t!==null)return t;e=e.sibling}return null}var Y$=js.unstable_scheduleCallback,PP=js.unstable_cancelCallback,Yz=js.unstable_shouldYield,Qz=js.unstable_requestPaint,vr=js.unstable_now,Xz=js.unstable_getCurrentPriorityLevel,F_=js.unstable_ImmediatePriority,Q$=js.unstable_UserBlockingPriority,sv=js.unstable_NormalPriority,Zz=js.unstable_LowPriority,X$=js.unstable_IdlePriority,ox=null,$a=null;function Jz(e){if($a&&typeof $a.onCommitFiberRoot=="function")try{$a.onCommitFiberRoot(ox,e,void 0,(e.current.flags&128)===128)}catch{}}var ha=Math.clz32?Math.clz32:r9,e9=Math.log,t9=Math.LN2;function r9(e){return e>>>=0,e===0?32:31-(e9(e)/t9|0)|0}var zp=64,Wp=4194304;function Uf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function av(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Uf(l):(i&=o,i!==0&&(n=Uf(i)))}else o=r&~s,o!==0?n=Uf(o):i!==0&&(n=Uf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ha(t),s=1<<r,n|=e[r],t&=~s;return n}function n9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ha(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=n9(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function dj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Z$(){var e=zp;return zp<<=1,!(zp&4194240)&&(zp=64),e}function x0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ha(t),e[t]=r}function a9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ha(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function B_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ha(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ft=0;function J$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eM,U_,tM,rM,nM,fj=!1,Hp=[],yo=null,xo=null,bo=null,jh=new Map,Sh=new Map,to=[],i9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EP(e,t){switch(e){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":xo=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":jh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sh.delete(t.pointerId)}}function gf(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Qm(t),t!==null&&U_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function o9(e,t,r,n,s){switch(t){case"focusin":return yo=gf(yo,e,t,r,n,s),!0;case"dragenter":return xo=gf(xo,e,t,r,n,s),!0;case"mouseover":return bo=gf(bo,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return jh.set(i,gf(jh.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Sh.set(i,gf(Sh.get(i)||null,e,t,r,n,s)),!0}return!1}function sM(e){var t=xl(e.target);if(t!==null){var r=gc(t);if(r!==null){if(t=r.tag,t===13){if(t=H$(r),t!==null){e.blockedOn=t,nM(e.priority,function(){tM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);oj=n,r.target.dispatchEvent(n),oj=null}else return t=Qm(r),t!==null&&U_(t),e.blockedOn=r,!1;t.shift()}return!0}function AP(e,t,r){Mg(e)&&r.delete(t)}function l9(){fj=!1,yo!==null&&Mg(yo)&&(yo=null),xo!==null&&Mg(xo)&&(xo=null),bo!==null&&Mg(bo)&&(bo=null),jh.forEach(AP),Sh.forEach(AP)}function vf(e,t){e.blockedOn===t&&(e.blockedOn=null,fj||(fj=!0,js.unstable_scheduleCallback(js.unstable_NormalPriority,l9)))}function _h(e){function t(s){return vf(s,e)}if(0<Hp.length){vf(Hp[0],e);for(var r=1;r<Hp.length;r++){var n=Hp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(yo!==null&&vf(yo,e),xo!==null&&vf(xo,e),bo!==null&&vf(bo,e),jh.forEach(t),Sh.forEach(t),r=0;r<to.length;r++)n=to[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<to.length&&(r=to[0],r.blockedOn===null);)sM(r),r.blockedOn===null&&to.shift()}var wu=$i.ReactCurrentBatchConfig,iv=!0;function c9(e,t,r,n){var s=Ft,i=wu.transition;wu.transition=null;try{Ft=1,V_(e,t,r,n)}finally{Ft=s,wu.transition=i}}function u9(e,t,r,n){var s=Ft,i=wu.transition;wu.transition=null;try{Ft=4,V_(e,t,r,n)}finally{Ft=s,wu.transition=i}}function V_(e,t,r,n){if(iv){var s=hj(e,t,r,n);if(s===null)E0(e,t,n,ov,r),EP(e,n);else if(o9(s,e,t,r,n))n.stopPropagation();else if(EP(e,n),t&4&&-1<i9.indexOf(e)){for(;s!==null;){var i=Qm(s);if(i!==null&&eM(i),i=hj(e,t,r,n),i===null&&E0(e,t,n,ov,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else E0(e,t,n,null,r)}}var ov=null;function hj(e,t,r,n){if(ov=null,e=L_(n),e=xl(e),e!==null)if(t=gc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=H$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ov=e,null}function aM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xz()){case F_:return 1;case Q$:return 4;case sv:case Zz:return 16;case X$:return 536870912;default:return 16}default:return 16}}var po=null,q_=null,Dg=null;function iM(){if(Dg)return Dg;var e,t=q_,r=t.length,n,s="value"in po?po.value:po.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Dg=s.slice(e,1<n?1-n:void 0)}function Lg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kp(){return!0}function OP(){return!1}function ks(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kp:OP,this.isPropagationStopped=OP,this}return ir(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kp)},persist:function(){},isPersistent:Kp}),t}var $d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z_=ks($d),Ym=ir({},$d,{view:0,detail:0}),d9=ks(Ym),b0,w0,yf,lx=ir({},Ym,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yf&&(yf&&e.type==="mousemove"?(b0=e.screenX-yf.screenX,w0=e.screenY-yf.screenY):w0=b0=0,yf=e),b0)},movementY:function(e){return"movementY"in e?e.movementY:w0}}),TP=ks(lx),f9=ir({},lx,{dataTransfer:0}),h9=ks(f9),m9=ir({},Ym,{relatedTarget:0}),j0=ks(m9),p9=ir({},$d,{animationName:0,elapsedTime:0,pseudoElement:0}),g9=ks(p9),v9=ir({},$d,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y9=ks(v9),x9=ir({},$d,{data:0}),IP=ks(x9),b9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j9[e])?!!t[e]:!1}function W_(){return S9}var _9=ir({},Ym,{key:function(e){if(e.key){var t=b9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W_,charCode:function(e){return e.type==="keypress"?Lg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N9=ks(_9),k9=ir({},lx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RP=ks(k9),C9=ir({},Ym,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W_}),P9=ks(C9),E9=ir({},$d,{propertyName:0,elapsedTime:0,pseudoElement:0}),A9=ks(E9),O9=ir({},lx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T9=ks(O9),I9=[9,13,27,32],H_=wi&&"CompositionEvent"in window,eh=null;wi&&"documentMode"in document&&(eh=document.documentMode);var R9=wi&&"TextEvent"in window&&!eh,oM=wi&&(!H_||eh&&8<eh&&11>=eh),$P=" ",MP=!1;function lM(e,t){switch(e){case"keyup":return I9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ru=!1;function $9(e,t){switch(e){case"compositionend":return cM(t);case"keypress":return t.which!==32?null:(MP=!0,$P);case"textInput":return e=t.data,e===$P&&MP?null:e;default:return null}}function M9(e,t){if(ru)return e==="compositionend"||!H_&&lM(e,t)?(e=iM(),Dg=q_=po=null,ru=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oM&&t.locale!=="ko"?null:t.data;default:return null}}var D9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!D9[e.type]:t==="textarea"}function uM(e,t,r,n){U$(n),t=lv(t,"onChange"),0<t.length&&(r=new z_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var th=null,Nh=null;function L9(e){wM(e,0)}function cx(e){var t=au(e);if(R$(t))return e}function F9(e,t){if(e==="change")return t}var dM=!1;if(wi){var S0;if(wi){var _0="oninput"in document;if(!_0){var LP=document.createElement("div");LP.setAttribute("oninput","return;"),_0=typeof LP.oninput=="function"}S0=_0}else S0=!1;dM=S0&&(!document.documentMode||9<document.documentMode)}function FP(){th&&(th.detachEvent("onpropertychange",fM),Nh=th=null)}function fM(e){if(e.propertyName==="value"&&cx(Nh)){var t=[];uM(t,Nh,e,L_(e)),W$(L9,t)}}function B9(e,t,r){e==="focusin"?(FP(),th=t,Nh=r,th.attachEvent("onpropertychange",fM)):e==="focusout"&&FP()}function U9(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cx(Nh)}function V9(e,t){if(e==="click")return cx(t)}function q9(e,t){if(e==="input"||e==="change")return cx(t)}function z9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var va=typeof Object.is=="function"?Object.is:z9;function kh(e,t){if(va(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Yw.call(t,s)||!va(e[s],t[s]))return!1}return!0}function BP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function UP(e,t){var r=BP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=BP(r)}}function hM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mM(){for(var e=window,t=tv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=tv(e.document)}return t}function K_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function W9(e){var t=mM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hM(r.ownerDocument.documentElement,r)){if(n!==null&&K_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=UP(r,i);var o=UP(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var H9=wi&&"documentMode"in document&&11>=document.documentMode,nu=null,mj=null,rh=null,pj=!1;function VP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pj||nu==null||nu!==tv(n)||(n=nu,"selectionStart"in n&&K_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rh&&kh(rh,n)||(rh=n,n=lv(mj,"onSelect"),0<n.length&&(t=new z_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=nu)))}function Gp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var su={animationend:Gp("Animation","AnimationEnd"),animationiteration:Gp("Animation","AnimationIteration"),animationstart:Gp("Animation","AnimationStart"),transitionend:Gp("Transition","TransitionEnd")},N0={},pM={};wi&&(pM=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function ux(e){if(N0[e])return N0[e];if(!su[e])return e;var t=su[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pM)return N0[e]=t[r];return e}var gM=ux("animationend"),vM=ux("animationiteration"),yM=ux("animationstart"),xM=ux("transitionend"),bM=new Map,qP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(e,t){bM.set(e,t),pc(t,[e])}for(var k0=0;k0<qP.length;k0++){var C0=qP[k0],K9=C0.toLowerCase(),G9=C0[0].toUpperCase()+C0.slice(1);Vo(K9,"on"+G9)}Vo(gM,"onAnimationEnd");Vo(vM,"onAnimationIteration");Vo(yM,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(xM,"onTransitionEnd");qu("onMouseEnter",["mouseout","mouseover"]);qu("onMouseLeave",["mouseout","mouseover"]);qu("onPointerEnter",["pointerout","pointerover"]);qu("onPointerLeave",["pointerout","pointerover"]);pc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pc("onBeforeInput",["compositionend","keypress","textInput","paste"]);pc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vf));function zP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Kz(n,t,void 0,e),e.currentTarget=null}function wM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;zP(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;zP(s,l,u),i=c}}}if(nv)throw e=uj,nv=!1,uj=null,e}function Qt(e,t){var r=t[bj];r===void 0&&(r=t[bj]=new Set);var n=e+"__bubble";r.has(n)||(jM(t,e,2,!1),r.add(n))}function P0(e,t,r){var n=0;t&&(n|=4),jM(r,e,n,t)}var Yp="_reactListening"+Math.random().toString(36).slice(2);function Ch(e){if(!e[Yp]){e[Yp]=!0,E$.forEach(function(r){r!=="selectionchange"&&(Y9.has(r)||P0(r,!1,e),P0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yp]||(t[Yp]=!0,P0("selectionchange",!1,t))}}function jM(e,t,r,n){switch(aM(t)){case 1:var s=c9;break;case 4:s=u9;break;default:s=V_}r=s.bind(null,t,r,e),s=void 0,!cj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function E0(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=xl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}W$(function(){var u=i,d=L_(r),f=[];e:{var h=bM.get(e);if(h!==void 0){var p=z_,x=e;switch(e){case"keypress":if(Lg(r)===0)break e;case"keydown":case"keyup":p=N9;break;case"focusin":x="focus",p=j0;break;case"focusout":x="blur",p=j0;break;case"beforeblur":case"afterblur":p=j0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=TP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=h9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=P9;break;case gM:case vM:case yM:p=g9;break;case xM:p=A9;break;case"scroll":p=d9;break;case"wheel":p=T9;break;case"copy":case"cut":case"paste":p=y9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=RP}var m=(t&4)!==0,b=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,w;g!==null;){w=g;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=wh(g,y),_!=null&&m.push(Ph(g,_,w)))),b)break;g=g.return}0<m.length&&(h=new p(h,x,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==oj&&(x=r.relatedTarget||r.fromElement)&&(xl(x)||x[ji]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?xl(x):null,x!==null&&(b=gc(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=TP,_="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=RP,_="onPointerLeave",y="onPointerEnter",g="pointer"),b=p==null?h:au(p),w=x==null?h:au(x),h=new m(_,g+"leave",p,r,d),h.target=b,h.relatedTarget=w,_=null,xl(d)===u&&(m=new m(y,g+"enter",x,r,d),m.target=w,m.relatedTarget=b,_=m),b=_,p&&x)t:{for(m=p,y=x,g=0,w=m;w;w=Ac(w))g++;for(w=0,_=y;_;_=Ac(_))w++;for(;0<g-w;)m=Ac(m),g--;for(;0<w-g;)y=Ac(y),w--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=Ac(m),y=Ac(y)}m=null}else m=null;p!==null&&WP(f,h,p,m,!1),x!==null&&b!==null&&WP(f,b,x,m,!0)}}e:{if(h=u?au(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=F9;else if(DP(h))if(dM)j=q9;else{j=U9;var S=B9}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=V9);if(j&&(j=j(e,u))){uM(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&rj(h,"number",h.value)}switch(S=u?au(u):window,e){case"focusin":(DP(S)||S.contentEditable==="true")&&(nu=S,mj=u,rh=null);break;case"focusout":rh=mj=nu=null;break;case"mousedown":pj=!0;break;case"contextmenu":case"mouseup":case"dragend":pj=!1,VP(f,r,d);break;case"selectionchange":if(H9)break;case"keydown":case"keyup":VP(f,r,d)}var N;if(H_)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ru?lM(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(oM&&r.locale!=="ko"&&(ru||k!=="onCompositionStart"?k==="onCompositionEnd"&&ru&&(N=iM()):(po=d,q_="value"in po?po.value:po.textContent,ru=!0)),S=lv(u,k),0<S.length&&(k=new IP(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=cM(r),N!==null&&(k.data=N)))),(N=R9?$9(e,r):M9(e,r))&&(u=lv(u,"onBeforeInput"),0<u.length&&(d=new IP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}wM(f,t)})}function Ph(e,t,r){return{instance:e,listener:t,currentTarget:r}}function lv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wh(e,r),i!=null&&n.unshift(Ph(e,i,s)),i=wh(e,t),i!=null&&n.push(Ph(e,i,s))),e=e.return}return n}function Ac(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function WP(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=wh(r,i),c!=null&&o.unshift(Ph(r,c,l))):s||(c=wh(r,i),c!=null&&o.push(Ph(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Q9=/\r\n?/g,X9=/\u0000|\uFFFD/g;function HP(e){return(typeof e=="string"?e:""+e).replace(Q9,`
`).replace(X9,"")}function Qp(e,t,r){if(t=HP(t),HP(e)!==t&&r)throw Error(he(425))}function cv(){}var gj=null,vj=null;function yj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xj=typeof setTimeout=="function"?setTimeout:void 0,Z9=typeof clearTimeout=="function"?clearTimeout:void 0,KP=typeof Promise=="function"?Promise:void 0,J9=typeof queueMicrotask=="function"?queueMicrotask:typeof KP<"u"?function(e){return KP.resolve(null).then(e).catch(eW)}:xj;function eW(e){setTimeout(function(){throw e})}function A0(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),_h(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);_h(t)}function wo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function GP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Md=Math.random().toString(36).slice(2),Oa="__reactFiber$"+Md,Eh="__reactProps$"+Md,ji="__reactContainer$"+Md,bj="__reactEvents$"+Md,tW="__reactListeners$"+Md,rW="__reactHandles$"+Md;function xl(e){var t=e[Oa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ji]||r[Oa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=GP(e);e!==null;){if(r=e[Oa])return r;e=GP(e)}return t}e=r,r=e.parentNode}return null}function Qm(e){return e=e[Oa]||e[ji],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function au(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function dx(e){return e[Eh]||null}var wj=[],iu=-1;function qo(e){return{current:e}}function Jt(e){0>iu||(e.current=wj[iu],wj[iu]=null,iu--)}function Ht(e,t){iu++,wj[iu]=e.current,e.current=t}var To={},_n=qo(To),Qn=qo(!1),Hl=To;function zu(e,t){var r=e.type.contextTypes;if(!r)return To;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xn(e){return e=e.childContextTypes,e!=null}function uv(){Jt(Qn),Jt(_n)}function YP(e,t,r){if(_n.current!==To)throw Error(he(168));Ht(_n,t),Ht(Qn,r)}function SM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(he(108,Bz(e)||"Unknown",s));return ir({},r,n)}function dv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Hl=_n.current,Ht(_n,e),Ht(Qn,Qn.current),!0}function QP(e,t,r){var n=e.stateNode;if(!n)throw Error(he(169));r?(e=SM(e,t,Hl),n.__reactInternalMemoizedMergedChildContext=e,Jt(Qn),Jt(_n),Ht(_n,e)):Jt(Qn),Ht(Qn,r)}var ii=null,fx=!1,O0=!1;function _M(e){ii===null?ii=[e]:ii.push(e)}function nW(e){fx=!0,_M(e)}function zo(){if(!O0&&ii!==null){O0=!0;var e=0,t=Ft;try{var r=ii;for(Ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ii=null,fx=!1}catch(s){throw ii!==null&&(ii=ii.slice(e+1)),Y$(F_,zo),s}finally{Ft=t,O0=!1}}return null}var ou=[],lu=0,fv=null,hv=0,Ts=[],Is=0,Kl=null,di=1,fi="";function ll(e,t){ou[lu++]=hv,ou[lu++]=fv,fv=e,hv=t}function NM(e,t,r){Ts[Is++]=di,Ts[Is++]=fi,Ts[Is++]=Kl,Kl=e;var n=di;e=fi;var s=32-ha(n)-1;n&=~(1<<s),r+=1;var i=32-ha(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,di=1<<32-ha(t)+s|r<<s|n,fi=i+e}else di=1<<i|r<<s|n,fi=e}function G_(e){e.return!==null&&(ll(e,1),NM(e,1,0))}function Y_(e){for(;e===fv;)fv=ou[--lu],ou[lu]=null,hv=ou[--lu],ou[lu]=null;for(;e===Kl;)Kl=Ts[--Is],Ts[Is]=null,fi=Ts[--Is],Ts[Is]=null,di=Ts[--Is],Ts[Is]=null}var xs=null,ys=null,er=!1,oa=null;function kM(e,t){var r=$s(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function XP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xs=e,ys=wo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xs=e,ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Kl!==null?{id:di,overflow:fi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$s(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xs=e,ys=null,!0):!1;default:return!1}}function jj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sj(e){if(er){var t=ys;if(t){var r=t;if(!XP(e,t)){if(jj(e))throw Error(he(418));t=wo(r.nextSibling);var n=xs;t&&XP(e,t)?kM(n,r):(e.flags=e.flags&-4097|2,er=!1,xs=e)}}else{if(jj(e))throw Error(he(418));e.flags=e.flags&-4097|2,er=!1,xs=e}}}function ZP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xs=e}function Xp(e){if(e!==xs)return!1;if(!er)return ZP(e),er=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yj(e.type,e.memoizedProps)),t&&(t=ys)){if(jj(e))throw CM(),Error(he(418));for(;t;)kM(e,t),t=wo(t.nextSibling)}if(ZP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ys=wo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ys=null}}else ys=xs?wo(e.stateNode.nextSibling):null;return!0}function CM(){for(var e=ys;e;)e=wo(e.nextSibling)}function Wu(){ys=xs=null,er=!1}function Q_(e){oa===null?oa=[e]:oa.push(e)}var sW=$i.ReactCurrentBatchConfig;function xf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var n=r.stateNode}if(!n)throw Error(he(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function Zp(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function JP(e){var t=e._init;return t(e._payload)}function PM(e){function t(y,g){if(e){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=No(y,g),y.index=0,y.sibling=null,y}function i(y,g,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,w,_){return g===null||g.tag!==6?(g=L0(w,y.mode,_),g.return=y,g):(g=s(g,w),g.return=y,g)}function c(y,g,w,_){var j=w.type;return j===tu?d(y,g,w.props.children,_,w.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Yi&&JP(j)===g.type)?(_=s(g,w.props),_.ref=xf(y,g,w),_.return=y,_):(_=Wg(w.type,w.key,w.props,null,y.mode,_),_.ref=xf(y,g,w),_.return=y,_)}function u(y,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=F0(w,y.mode,_),g.return=y,g):(g=s(g,w.children||[]),g.return=y,g)}function d(y,g,w,_,j){return g===null||g.tag!==7?(g=Fl(w,y.mode,_,j),g.return=y,g):(g=s(g,w),g.return=y,g)}function f(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=L0(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Up:return w=Wg(g.type,g.key,g.props,null,y.mode,w),w.ref=xf(y,null,g),w.return=y,w;case eu:return g=F0(g,y.mode,w),g.return=y,g;case Yi:var _=g._init;return f(y,_(g._payload),w)}if(Bf(g)||mf(g))return g=Fl(g,y.mode,w,null),g.return=y,g;Zp(y,g)}return null}function h(y,g,w,_){var j=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(y,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Up:return w.key===j?c(y,g,w,_):null;case eu:return w.key===j?u(y,g,w,_):null;case Yi:return j=w._init,h(y,g,j(w._payload),_)}if(Bf(w)||mf(w))return j!==null?null:d(y,g,w,_,null);Zp(y,w)}return null}function p(y,g,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,l(g,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Up:return y=y.get(_.key===null?w:_.key)||null,c(g,y,_,j);case eu:return y=y.get(_.key===null?w:_.key)||null,u(g,y,_,j);case Yi:var S=_._init;return p(y,g,w,S(_._payload),j)}if(Bf(_)||mf(_))return y=y.get(w)||null,d(g,y,_,j,null);Zp(g,_)}return null}function x(y,g,w,_){for(var j=null,S=null,N=g,k=g=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var E=h(y,N,w[k],_);if(E===null){N===null&&(N=C);break}e&&N&&E.alternate===null&&t(y,N),g=i(E,g,k),S===null?j=E:S.sibling=E,S=E,N=C}if(k===w.length)return r(y,N),er&&ll(y,k),j;if(N===null){for(;k<w.length;k++)N=f(y,w[k],_),N!==null&&(g=i(N,g,k),S===null?j=N:S.sibling=N,S=N);return er&&ll(y,k),j}for(N=n(y,N);k<w.length;k++)C=p(N,y,k,w[k],_),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),g=i(C,g,k),S===null?j=C:S.sibling=C,S=C);return e&&N.forEach(function(A){return t(y,A)}),er&&ll(y,k),j}function m(y,g,w,_){var j=mf(w);if(typeof j!="function")throw Error(he(150));if(w=j.call(w),w==null)throw Error(he(151));for(var S=j=null,N=g,k=g=0,C=null,E=w.next();N!==null&&!E.done;k++,E=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var A=h(y,N,E.value,_);if(A===null){N===null&&(N=C);break}e&&N&&A.alternate===null&&t(y,N),g=i(A,g,k),S===null?j=A:S.sibling=A,S=A,N=C}if(E.done)return r(y,N),er&&ll(y,k),j;if(N===null){for(;!E.done;k++,E=w.next())E=f(y,E.value,_),E!==null&&(g=i(E,g,k),S===null?j=E:S.sibling=E,S=E);return er&&ll(y,k),j}for(N=n(y,N);!E.done;k++,E=w.next())E=p(N,y,k,E.value,_),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),g=i(E,g,k),S===null?j=E:S.sibling=E,S=E);return e&&N.forEach(function(R){return t(y,R)}),er&&ll(y,k),j}function b(y,g,w,_){if(typeof w=="object"&&w!==null&&w.type===tu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Up:e:{for(var j=w.key,S=g;S!==null;){if(S.key===j){if(j=w.type,j===tu){if(S.tag===7){r(y,S.sibling),g=s(S,w.props.children),g.return=y,y=g;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Yi&&JP(j)===S.type){r(y,S.sibling),g=s(S,w.props),g.ref=xf(y,S,w),g.return=y,y=g;break e}r(y,S);break}else t(y,S);S=S.sibling}w.type===tu?(g=Fl(w.props.children,y.mode,_,w.key),g.return=y,y=g):(_=Wg(w.type,w.key,w.props,null,y.mode,_),_.ref=xf(y,g,w),_.return=y,y=_)}return o(y);case eu:e:{for(S=w.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(y,g.sibling),g=s(g,w.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=F0(w,y.mode,_),g.return=y,y=g}return o(y);case Yi:return S=w._init,b(y,g,S(w._payload),_)}if(Bf(w))return x(y,g,w,_);if(mf(w))return m(y,g,w,_);Zp(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(y,g.sibling),g=s(g,w),g.return=y,y=g):(r(y,g),g=L0(w,y.mode,_),g.return=y,y=g),o(y)):r(y,g)}return b}var Hu=PM(!0),EM=PM(!1),mv=qo(null),pv=null,cu=null,X_=null;function Z_(){X_=cu=pv=null}function J_(e){var t=mv.current;Jt(mv),e._currentValue=t}function _j(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ju(e,t){pv=e,X_=cu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kn=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(X_!==e)if(e={context:e,memoizedValue:t,next:null},cu===null){if(pv===null)throw Error(he(308));cu=e,pv.dependencies={lanes:0,firstContext:e}}else cu=cu.next=e;return t}var bl=null;function eN(e){bl===null?bl=[e]:bl.push(e)}function AM(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,eN(t)):(r.next=s.next,s.next=r),t.interleaved=r,Si(e,n)}function Si(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qi=!1;function tN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,jt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Si(e,r)}return s=n.interleaved,s===null?(t.next=t,eN(n)):(t.next=s.next,s.next=t),n.interleaved=t,Si(e,r)}function Fg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,B_(e,r)}}function eE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function gv(e,t,r,n){var s=e.updateQueue;Qi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,m=l;switch(h=t,p=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(p,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,h=typeof x=="function"?x.call(p,f,h):x,h==null)break e;f=ir({},f,h);break e;case 2:Qi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Yl|=o,e.lanes=o,e.memoizedState=f}}function tE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(he(191,s));s.call(n)}}}var Xm={},Ma=qo(Xm),Ah=qo(Xm),Oh=qo(Xm);function wl(e){if(e===Xm)throw Error(he(174));return e}function rN(e,t){switch(Ht(Oh,t),Ht(Ah,e),Ht(Ma,Xm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sj(t,e)}Jt(Ma),Ht(Ma,t)}function Ku(){Jt(Ma),Jt(Ah),Jt(Oh)}function TM(e){wl(Oh.current);var t=wl(Ma.current),r=sj(t,e.type);t!==r&&(Ht(Ah,e),Ht(Ma,r))}function nN(e){Ah.current===e&&(Jt(Ma),Jt(Ah))}var nr=qo(0);function vv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var T0=[];function sN(){for(var e=0;e<T0.length;e++)T0[e]._workInProgressVersionPrimary=null;T0.length=0}var Bg=$i.ReactCurrentDispatcher,I0=$i.ReactCurrentBatchConfig,Gl=0,ar=null,qr=null,en=null,yv=!1,nh=!1,Th=0,aW=0;function vn(){throw Error(he(321))}function aN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!va(e[r],t[r]))return!1;return!0}function iN(e,t,r,n,s,i){if(Gl=i,ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bg.current=e===null||e.memoizedState===null?cW:uW,e=r(n,s),nh){i=0;do{if(nh=!1,Th=0,25<=i)throw Error(he(301));i+=1,en=qr=null,t.updateQueue=null,Bg.current=dW,e=r(n,s)}while(nh)}if(Bg.current=xv,t=qr!==null&&qr.next!==null,Gl=0,en=qr=ar=null,yv=!1,t)throw Error(he(300));return e}function oN(){var e=Th!==0;return Th=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?ar.memoizedState=en=e:en=en.next=e,en}function Us(){if(qr===null){var e=ar.alternate;e=e!==null?e.memoizedState:null}else e=qr.next;var t=en===null?ar.memoizedState:en.next;if(t!==null)en=t,qr=e;else{if(e===null)throw Error(he(310));qr=e,e={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},en===null?ar.memoizedState=en=e:en=en.next=e}return en}function Ih(e,t){return typeof t=="function"?t(e):t}function R0(e){var t=Us(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=qr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Gl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,ar.lanes|=d,Yl|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,va(n,t.memoizedState)||(Kn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ar.lanes|=i,Yl|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $0(e){var t=Us(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);va(i,t.memoizedState)||(Kn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function IM(){}function RM(e,t){var r=ar,n=Us(),s=t(),i=!va(n.memoizedState,s);if(i&&(n.memoizedState=s,Kn=!0),n=n.queue,lN(DM.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||en!==null&&en.memoizedState.tag&1){if(r.flags|=2048,Rh(9,MM.bind(null,r,n,s,t),void 0,null),rn===null)throw Error(he(349));Gl&30||$M(r,t,s)}return s}function $M(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function MM(e,t,r,n){t.value=r,t.getSnapshot=n,LM(t)&&FM(e)}function DM(e,t,r){return r(function(){LM(t)&&FM(e)})}function LM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!va(e,r)}catch{return!0}}function FM(e){var t=Si(e,1);t!==null&&ma(t,e,1,-1)}function rE(e){var t=ka();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:e},t.queue=e,e=e.dispatch=lW.bind(null,ar,e),[t.memoizedState,e]}function Rh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function BM(){return Us().memoizedState}function Ug(e,t,r,n){var s=ka();ar.flags|=e,s.memoizedState=Rh(1|t,r,void 0,n===void 0?null:n)}function hx(e,t,r,n){var s=Us();n=n===void 0?null:n;var i=void 0;if(qr!==null){var o=qr.memoizedState;if(i=o.destroy,n!==null&&aN(n,o.deps)){s.memoizedState=Rh(t,r,i,n);return}}ar.flags|=e,s.memoizedState=Rh(1|t,r,i,n)}function nE(e,t){return Ug(8390656,8,e,t)}function lN(e,t){return hx(2048,8,e,t)}function UM(e,t){return hx(4,2,e,t)}function VM(e,t){return hx(4,4,e,t)}function qM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zM(e,t,r){return r=r!=null?r.concat([e]):null,hx(4,4,qM.bind(null,t,e),r)}function cN(){}function WM(e,t){var r=Us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&aN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HM(e,t){var r=Us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&aN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function KM(e,t,r){return Gl&21?(va(r,t)||(r=Z$(),ar.lanes|=r,Yl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kn=!0),e.memoizedState=r)}function iW(e,t){var r=Ft;Ft=r!==0&&4>r?r:4,e(!0);var n=I0.transition;I0.transition={};try{e(!1),t()}finally{Ft=r,I0.transition=n}}function GM(){return Us().memoizedState}function oW(e,t,r){var n=_o(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},YM(e))QM(t,r);else if(r=AM(e,t,r,n),r!==null){var s=Ln();ma(r,e,n,s),XM(r,t,n)}}function lW(e,t,r){var n=_o(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(YM(e))QM(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,va(l,o)){var c=t.interleaved;c===null?(s.next=s,eN(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=AM(e,t,s,n),r!==null&&(s=Ln(),ma(r,e,n,s),XM(r,t,n))}}function YM(e){var t=e.alternate;return e===ar||t!==null&&t===ar}function QM(e,t){nh=yv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function XM(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,B_(e,r)}}var xv={readContext:Bs,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},cW={readContext:Bs,useCallback:function(e,t){return ka().memoizedState=[e,t===void 0?null:t],e},useContext:Bs,useEffect:nE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ug(4194308,4,qM.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ug(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ug(4,2,e,t)},useMemo:function(e,t){var r=ka();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ka();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=oW.bind(null,ar,e),[n.memoizedState,e]},useRef:function(e){var t=ka();return e={current:e},t.memoizedState=e},useState:rE,useDebugValue:cN,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=rE(!1),t=e[0];return e=iW.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ar,s=ka();if(er){if(r===void 0)throw Error(he(407));r=r()}else{if(r=t(),rn===null)throw Error(he(349));Gl&30||$M(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,nE(DM.bind(null,n,i,e),[e]),n.flags|=2048,Rh(9,MM.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ka(),t=rn.identifierPrefix;if(er){var r=fi,n=di;r=(n&~(1<<32-ha(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Th++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uW={readContext:Bs,useCallback:WM,useContext:Bs,useEffect:lN,useImperativeHandle:zM,useInsertionEffect:UM,useLayoutEffect:VM,useMemo:HM,useReducer:R0,useRef:BM,useState:function(){return R0(Ih)},useDebugValue:cN,useDeferredValue:function(e){var t=Us();return KM(t,qr.memoizedState,e)},useTransition:function(){var e=R0(Ih)[0],t=Us().memoizedState;return[e,t]},useMutableSource:IM,useSyncExternalStore:RM,useId:GM,unstable_isNewReconciler:!1},dW={readContext:Bs,useCallback:WM,useContext:Bs,useEffect:lN,useImperativeHandle:zM,useInsertionEffect:UM,useLayoutEffect:VM,useMemo:HM,useReducer:$0,useRef:BM,useState:function(){return $0(Ih)},useDebugValue:cN,useDeferredValue:function(e){var t=Us();return qr===null?t.memoizedState=e:KM(t,qr.memoizedState,e)},useTransition:function(){var e=$0(Ih)[0],t=Us().memoizedState;return[e,t]},useMutableSource:IM,useSyncExternalStore:RM,useId:GM,unstable_isNewReconciler:!1};function Js(e,t){if(e&&e.defaultProps){t=ir({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Nj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ir({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var mx={isMounted:function(e){return(e=e._reactInternals)?gc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ln(),s=_o(e),i=vi(n,s);i.payload=t,r!=null&&(i.callback=r),t=jo(e,i,s),t!==null&&(ma(t,e,s,n),Fg(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ln(),s=_o(e),i=vi(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=jo(e,i,s),t!==null&&(ma(t,e,s,n),Fg(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ln(),n=_o(e),s=vi(r,n);s.tag=2,t!=null&&(s.callback=t),t=jo(e,s,n),t!==null&&(ma(t,e,n,r),Fg(t,e,n))}};function sE(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!kh(r,n)||!kh(s,i):!0}function ZM(e,t,r){var n=!1,s=To,i=t.contextType;return typeof i=="object"&&i!==null?i=Bs(i):(s=Xn(t)?Hl:_n.current,n=t.contextTypes,i=(n=n!=null)?zu(e,s):To),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function aE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&mx.enqueueReplaceState(t,t.state,null)}function kj(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},tN(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Bs(i):(i=Xn(t)?Hl:_n.current,s.context=zu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Nj(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&mx.enqueueReplaceState(s,s.state,null),gv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Gu(e,t){try{var r="",n=t;do r+=Fz(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function M0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fW=typeof WeakMap=="function"?WeakMap:Map;function JM(e,t,r){r=vi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){wv||(wv=!0,Dj=n),Cj(e,t)},r}function e4(e,t,r){r=vi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Cj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Cj(e,t),typeof n!="function"&&(So===null?So=new Set([this]):So.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function iE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fW;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=kW.bind(null,e,t,r),t.then(e,e))}function oE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lE(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vi(-1,1),t.tag=2,jo(r,t,1))),r.lanes|=1),e)}var hW=$i.ReactCurrentOwner,Kn=!1;function On(e,t,r,n){t.child=e===null?EM(t,null,r,n):Hu(t,e.child,r,n)}function cE(e,t,r,n,s){r=r.render;var i=t.ref;return ju(t,s),n=iN(e,t,r,n,i,s),r=oN(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_i(e,t,s)):(er&&r&&G_(t),t.flags|=1,On(e,t,n,s),t.child)}function uE(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!vN(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,t4(e,t,i,n,s)):(e=Wg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:kh,r(o,n)&&e.ref===t.ref)return _i(e,t,s)}return t.flags|=1,e=No(i,n),e.ref=t.ref,e.return=t,t.child=e}function t4(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(kh(i,n)&&e.ref===t.ref)if(Kn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Kn=!0);else return t.lanes=e.lanes,_i(e,t,s)}return Pj(e,t,r,n,s)}function r4(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(du,cs),cs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ht(du,cs),cs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ht(du,cs),cs|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ht(du,cs),cs|=n;return On(e,t,s,r),t.child}function n4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pj(e,t,r,n,s){var i=Xn(r)?Hl:_n.current;return i=zu(t,i),ju(t,s),r=iN(e,t,r,n,i,s),n=oN(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_i(e,t,s)):(er&&n&&G_(t),t.flags|=1,On(e,t,r,s),t.child)}function dE(e,t,r,n,s){if(Xn(r)){var i=!0;dv(t)}else i=!1;if(ju(t,s),t.stateNode===null)Vg(e,t),ZM(t,r,n),kj(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bs(u):(u=Xn(r)?Hl:_n.current,u=zu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&aE(t,o,n,u),Qi=!1;var h=t.memoizedState;o.state=h,gv(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Qn.current||Qi?(typeof d=="function"&&(Nj(t,r,d,n),c=t.memoizedState),(l=Qi||sE(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,OM(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Js(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bs(c):(c=Xn(r)?Hl:_n.current,c=zu(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&aE(t,o,n,c),Qi=!1,h=t.memoizedState,o.state=h,gv(t,n,o,s);var x=t.memoizedState;l!==f||h!==x||Qn.current||Qi?(typeof p=="function"&&(Nj(t,r,p,n),x=t.memoizedState),(u=Qi||sE(t,r,u,n,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ej(e,t,r,n,i,s)}function Ej(e,t,r,n,s,i){n4(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&QP(t,r,!1),_i(e,t,i);n=t.stateNode,hW.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Hu(t,e.child,null,i),t.child=Hu(t,null,l,i)):On(e,t,l,i),t.memoizedState=n.state,s&&QP(t,r,!0),t.child}function s4(e){var t=e.stateNode;t.pendingContext?YP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&YP(e,t.context,!1),rN(e,t.containerInfo)}function fE(e,t,r,n,s){return Wu(),Q_(s),t.flags|=256,On(e,t,r,n),t.child}var Aj={dehydrated:null,treeContext:null,retryLane:0};function Oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function a4(e,t,r){var n=t.pendingProps,s=nr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ht(nr,s&1),e===null)return Sj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vx(o,n,0,null),e=Fl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Oj(r),t.memoizedState=Aj,e):uN(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return mW(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=No(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=No(l,i):(i=Fl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Oj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Aj,n}return i=e.child,e=i.sibling,n=No(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function uN(e,t){return t=vx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jp(e,t,r,n){return n!==null&&Q_(n),Hu(t,e.child,null,r),e=uN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mW(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=M0(Error(he(422))),Jp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=vx({mode:"visible",children:n.children},s,0,null),i=Fl(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Hu(t,e.child,null,o),t.child.memoizedState=Oj(o),t.memoizedState=Aj,i);if(!(t.mode&1))return Jp(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(he(419)),n=M0(i,n,void 0),Jp(e,t,o,n)}if(l=(o&e.childLanes)!==0,Kn||l){if(n=rn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Si(e,s),ma(n,e,s,-1))}return gN(),n=M0(Error(he(421))),Jp(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=CW.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ys=wo(s.nextSibling),xs=t,er=!0,oa=null,e!==null&&(Ts[Is++]=di,Ts[Is++]=fi,Ts[Is++]=Kl,di=e.id,fi=e.overflow,Kl=t),t=uN(t,n.children),t.flags|=4096,t)}function hE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_j(e.return,t,r)}function D0(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function i4(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(On(e,t,n.children,r),n=nr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hE(e,r,t);else if(e.tag===19)hE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ht(nr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&vv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),D0(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}D0(t,!0,r,null,i);break;case"together":D0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _i(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,r=No(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=No(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function pW(e,t,r){switch(t.tag){case 3:s4(t),Wu();break;case 5:TM(t);break;case 1:Xn(t.type)&&dv(t);break;case 4:rN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ht(mv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ht(nr,nr.current&1),t.flags|=128,null):r&t.child.childLanes?a4(e,t,r):(Ht(nr,nr.current&1),e=_i(e,t,r),e!==null?e.sibling:null);Ht(nr,nr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return i4(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ht(nr,nr.current),n)break;return null;case 22:case 23:return t.lanes=0,r4(e,t,r)}return _i(e,t,r)}var o4,Tj,l4,c4;o4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tj=function(){};l4=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,wl(Ma.current);var i=null;switch(r){case"input":s=ej(e,s),n=ej(e,n),i=[];break;case"select":s=ir({},s,{value:void 0}),n=ir({},n,{value:void 0}),i=[];break;case"textarea":s=nj(e,s),n=nj(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=cv)}aj(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};c4=function(e,t,r,n){r!==n&&(t.flags|=4)};function bf(e,t){if(!er)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function yn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gW(e,t,r){var n=t.pendingProps;switch(Y_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(t),null;case 1:return Xn(t.type)&&uv(),yn(t),null;case 3:return n=t.stateNode,Ku(),Jt(Qn),Jt(_n),sN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,oa!==null&&(Bj(oa),oa=null))),Tj(e,t),yn(t),null;case 5:nN(t);var s=wl(Oh.current);if(r=t.type,e!==null&&t.stateNode!=null)l4(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(he(166));return yn(t),null}if(e=wl(Ma.current),Xp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Oa]=t,n[Eh]=i,e=(t.mode&1)!==0,r){case"dialog":Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":case"embed":Qt("load",n);break;case"video":case"audio":for(s=0;s<Vf.length;s++)Qt(Vf[s],n);break;case"source":Qt("error",n);break;case"img":case"image":case"link":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"input":jP(n,i),Qt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Qt("invalid",n);break;case"textarea":_P(n,i),Qt("invalid",n)}aj(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Qp(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Qp(n.textContent,l,e),s=["children",""+l]):xh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qt("scroll",n)}switch(r){case"input":Vp(n),SP(n,i,!0);break;case"textarea":Vp(n),NP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=cv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=D$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Oa]=t,e[Eh]=n,o4(e,t,!1,!1),t.stateNode=e;e:{switch(o=ij(r,n),r){case"dialog":Qt("cancel",e),Qt("close",e),s=n;break;case"iframe":case"object":case"embed":Qt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Vf.length;s++)Qt(Vf[s],e);s=n;break;case"source":Qt("error",e),s=n;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),s=n;break;case"details":Qt("toggle",e),s=n;break;case"input":jP(e,n),s=ej(e,n),Qt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ir({},n,{value:void 0}),Qt("invalid",e);break;case"textarea":_P(e,n),s=nj(e,n),Qt("invalid",e);break;default:s=n}aj(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?B$(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&L$(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bh(e,c):typeof c=="number"&&bh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qt("scroll",e):c!=null&&R_(e,i,c,o))}switch(r){case"input":Vp(e),SP(e,n,!1);break;case"textarea":Vp(e),NP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Oo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?yu(e,!!n.multiple,i,!1):n.defaultValue!=null&&yu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=cv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yn(t),null;case 6:if(e&&t.stateNode!=null)c4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(he(166));if(r=wl(Oh.current),wl(Ma.current),Xp(t)){if(n=t.stateNode,r=t.memoizedProps,n[Oa]=t,(i=n.nodeValue!==r)&&(e=xs,e!==null))switch(e.tag){case 3:Qp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Oa]=t,t.stateNode=n}return yn(t),null;case 13:if(Jt(nr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(er&&ys!==null&&t.mode&1&&!(t.flags&128))CM(),Wu(),t.flags|=98560,i=!1;else if(i=Xp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(he(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[Oa]=t}else Wu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yn(t),i=!1}else oa!==null&&(Bj(oa),oa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nr.current&1?Wr===0&&(Wr=3):gN())),t.updateQueue!==null&&(t.flags|=4),yn(t),null);case 4:return Ku(),Tj(e,t),e===null&&Ch(t.stateNode.containerInfo),yn(t),null;case 10:return J_(t.type._context),yn(t),null;case 17:return Xn(t.type)&&uv(),yn(t),null;case 19:if(Jt(nr),i=t.memoizedState,i===null)return yn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)bf(i,!1);else{if(Wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vv(e),o!==null){for(t.flags|=128,bf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ht(nr,nr.current&1|2),t.child}e=e.sibling}i.tail!==null&&vr()>Yu&&(t.flags|=128,n=!0,bf(i,!1),t.lanes=4194304)}else{if(!n)if(e=vv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!er)return yn(t),null}else 2*vr()-i.renderingStartTime>Yu&&r!==1073741824&&(t.flags|=128,n=!0,bf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=vr(),t.sibling=null,r=nr.current,Ht(nr,n?r&1|2:r&1),t):(yn(t),null);case 22:case 23:return pN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?cs&1073741824&&(yn(t),t.subtreeFlags&6&&(t.flags|=8192)):yn(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function vW(e,t){switch(Y_(t),t.tag){case 1:return Xn(t.type)&&uv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ku(),Jt(Qn),Jt(_n),sN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nN(t),null;case 13:if(Jt(nr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Wu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jt(nr),null;case 4:return Ku(),null;case 10:return J_(t.type._context),null;case 22:case 23:return pN(),null;case 24:return null;default:return null}}var eg=!1,bn=!1,yW=typeof WeakSet=="function"?WeakSet:Set,Te=null;function uu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dr(e,t,n)}else r.current=null}function Ij(e,t,r){try{r()}catch(n){dr(e,t,n)}}var mE=!1;function xW(e,t){if(gj=iv,e=mM(),K_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vj={focusedElem:e,selectionRange:r},iv=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,b=x.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Js(t.type,m),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(_){dr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return x=mE,mE=!1,x}function sh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ij(t,r,i)}s=s.next}while(s!==n)}}function px(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Rj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function u4(e){var t=e.alternate;t!==null&&(e.alternate=null,u4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Oa],delete t[Eh],delete t[bj],delete t[tW],delete t[rW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function d4(e){return e.tag===5||e.tag===3||e.tag===4}function pE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $j(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=cv));else if(n!==4&&(e=e.child,e!==null))for($j(e,t,r),e=e.sibling;e!==null;)$j(e,t,r),e=e.sibling}function Mj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Mj(e,t,r),e=e.sibling;e!==null;)Mj(e,t,r),e=e.sibling}var dn=null,na=!1;function zi(e,t,r){for(r=r.child;r!==null;)f4(e,t,r),r=r.sibling}function f4(e,t,r){if($a&&typeof $a.onCommitFiberUnmount=="function")try{$a.onCommitFiberUnmount(ox,r)}catch{}switch(r.tag){case 5:bn||uu(r,t);case 6:var n=dn,s=na;dn=null,zi(e,t,r),dn=n,na=s,dn!==null&&(na?(e=dn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dn.removeChild(r.stateNode));break;case 18:dn!==null&&(na?(e=dn,r=r.stateNode,e.nodeType===8?A0(e.parentNode,r):e.nodeType===1&&A0(e,r),_h(e)):A0(dn,r.stateNode));break;case 4:n=dn,s=na,dn=r.stateNode.containerInfo,na=!0,zi(e,t,r),dn=n,na=s;break;case 0:case 11:case 14:case 15:if(!bn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ij(r,t,o),s=s.next}while(s!==n)}zi(e,t,r);break;case 1:if(!bn&&(uu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){dr(r,t,l)}zi(e,t,r);break;case 21:zi(e,t,r);break;case 22:r.mode&1?(bn=(n=bn)||r.memoizedState!==null,zi(e,t,r),bn=n):zi(e,t,r);break;default:zi(e,t,r)}}function gE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yW),t.forEach(function(n){var s=PW.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ys(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:dn=l.stateNode,na=!1;break e;case 3:dn=l.stateNode.containerInfo,na=!0;break e;case 4:dn=l.stateNode.containerInfo,na=!0;break e}l=l.return}if(dn===null)throw Error(he(160));f4(i,o,s),dn=null,na=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){dr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h4(t,e),t=t.sibling}function h4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ys(t,e),Na(e),n&4){try{sh(3,e,e.return),px(3,e)}catch(m){dr(e,e.return,m)}try{sh(5,e,e.return)}catch(m){dr(e,e.return,m)}}break;case 1:Ys(t,e),Na(e),n&512&&r!==null&&uu(r,r.return);break;case 5:if(Ys(t,e),Na(e),n&512&&r!==null&&uu(r,r.return),e.flags&32){var s=e.stateNode;try{bh(s,"")}catch(m){dr(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&$$(s,i),ij(l,o);var u=ij(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?B$(s,f):d==="dangerouslySetInnerHTML"?L$(s,f):d==="children"?bh(s,f):R_(s,d,f,u)}switch(l){case"input":tj(s,i);break;case"textarea":M$(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?yu(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?yu(s,!!i.multiple,i.defaultValue,!0):yu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Eh]=i}catch(m){dr(e,e.return,m)}}break;case 6:if(Ys(t,e),Na(e),n&4){if(e.stateNode===null)throw Error(he(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){dr(e,e.return,m)}}break;case 3:if(Ys(t,e),Na(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{_h(t.containerInfo)}catch(m){dr(e,e.return,m)}break;case 4:Ys(t,e),Na(e);break;case 13:Ys(t,e),Na(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hN=vr())),n&4&&gE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(bn=(u=bn)||d,Ys(t,e),bn=u):Ys(t,e),Na(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Te=e,d=e.child;d!==null;){for(f=Te=d;Te!==null;){switch(h=Te,p=h.child,h.tag){case 0:case 11:case 14:case 15:sh(4,h,h.return);break;case 1:uu(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){dr(n,r,m)}}break;case 5:uu(h,h.return);break;case 22:if(h.memoizedState!==null){yE(f);continue}}p!==null?(p.return=h,Te=p):yE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=F$("display",o))}catch(m){dr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){dr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ys(t,e),Na(e),n&4&&gE(e);break;case 21:break;default:Ys(t,e),Na(e)}}function Na(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(d4(r)){var n=r;break e}r=r.return}throw Error(he(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(bh(s,""),n.flags&=-33);var i=pE(e);Mj(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=pE(e);$j(e,l,o);break;default:throw Error(he(161))}}catch(c){dr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bW(e,t,r){Te=e,m4(e)}function m4(e,t,r){for(var n=(e.mode&1)!==0;Te!==null;){var s=Te,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||eg;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||bn;l=eg;var u=bn;if(eg=o,(bn=c)&&!u)for(Te=s;Te!==null;)o=Te,c=o.child,o.tag===22&&o.memoizedState!==null?xE(s):c!==null?(c.return=o,Te=c):xE(s);for(;i!==null;)Te=i,m4(i),i=i.sibling;Te=s,eg=l,bn=u}vE(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Te=i):vE(e)}}function vE(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bn||px(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!bn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Js(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tE(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tE(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&_h(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}bn||t.flags&512&&Rj(t)}catch(h){dr(t,t.return,h)}}if(t===e){Te=null;break}if(r=t.sibling,r!==null){r.return=t.return,Te=r;break}Te=t.return}}function yE(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Te=r;break}Te=t.return}}function xE(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{px(4,t)}catch(c){dr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){dr(t,s,c)}}var i=t.return;try{Rj(t)}catch(c){dr(t,i,c)}break;case 5:var o=t.return;try{Rj(t)}catch(c){dr(t,o,c)}}}catch(c){dr(t,t.return,c)}if(t===e){Te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Te=l;break}Te=t.return}}var wW=Math.ceil,bv=$i.ReactCurrentDispatcher,dN=$i.ReactCurrentOwner,Ds=$i.ReactCurrentBatchConfig,jt=0,rn=null,kr=null,fn=0,cs=0,du=qo(0),Wr=0,$h=null,Yl=0,gx=0,fN=0,ah=null,Hn=null,hN=0,Yu=1/0,ni=null,wv=!1,Dj=null,So=null,tg=!1,go=null,jv=0,ih=0,Lj=null,qg=-1,zg=0;function Ln(){return jt&6?vr():qg!==-1?qg:qg=vr()}function _o(e){return e.mode&1?jt&2&&fn!==0?fn&-fn:sW.transition!==null?(zg===0&&(zg=Z$()),zg):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:aM(e.type)),e):1}function ma(e,t,r,n){if(50<ih)throw ih=0,Lj=null,Error(he(185));Gm(e,r,n),(!(jt&2)||e!==rn)&&(e===rn&&(!(jt&2)&&(gx|=r),Wr===4&&ro(e,fn)),Zn(e,n),r===1&&jt===0&&!(t.mode&1)&&(Yu=vr()+500,fx&&zo()))}function Zn(e,t){var r=e.callbackNode;s9(e,t);var n=av(e,e===rn?fn:0);if(n===0)r!==null&&PP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&PP(r),t===1)e.tag===0?nW(bE.bind(null,e)):_M(bE.bind(null,e)),J9(function(){!(jt&6)&&zo()}),r=null;else{switch(J$(n)){case 1:r=F_;break;case 4:r=Q$;break;case 16:r=sv;break;case 536870912:r=X$;break;default:r=sv}r=j4(r,p4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function p4(e,t){if(qg=-1,zg=0,jt&6)throw Error(he(327));var r=e.callbackNode;if(Su()&&e.callbackNode!==r)return null;var n=av(e,e===rn?fn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Sv(e,n);else{t=n;var s=jt;jt|=2;var i=v4();(rn!==e||fn!==t)&&(ni=null,Yu=vr()+500,Ll(e,t));do try{_W();break}catch(l){g4(e,l)}while(!0);Z_(),bv.current=i,jt=s,kr!==null?t=0:(rn=null,fn=0,t=Wr)}if(t!==0){if(t===2&&(s=dj(e),s!==0&&(n=s,t=Fj(e,s))),t===1)throw r=$h,Ll(e,0),ro(e,n),Zn(e,vr()),r;if(t===6)ro(e,n);else{if(s=e.current.alternate,!(n&30)&&!jW(s)&&(t=Sv(e,n),t===2&&(i=dj(e),i!==0&&(n=i,t=Fj(e,i))),t===1))throw r=$h,Ll(e,0),ro(e,n),Zn(e,vr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(he(345));case 2:cl(e,Hn,ni);break;case 3:if(ro(e,n),(n&130023424)===n&&(t=hN+500-vr(),10<t)){if(av(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ln(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=xj(cl.bind(null,e,Hn,ni),t);break}cl(e,Hn,ni);break;case 4:if(ro(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ha(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=vr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wW(n/1960))-n,10<n){e.timeoutHandle=xj(cl.bind(null,e,Hn,ni),n);break}cl(e,Hn,ni);break;case 5:cl(e,Hn,ni);break;default:throw Error(he(329))}}}return Zn(e,vr()),e.callbackNode===r?p4.bind(null,e):null}function Fj(e,t){var r=ah;return e.current.memoizedState.isDehydrated&&(Ll(e,t).flags|=256),e=Sv(e,t),e!==2&&(t=Hn,Hn=r,t!==null&&Bj(t)),e}function Bj(e){Hn===null?Hn=e:Hn.push.apply(Hn,e)}function jW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!va(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ro(e,t){for(t&=~fN,t&=~gx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ha(t),n=1<<r;e[r]=-1,t&=~n}}function bE(e){if(jt&6)throw Error(he(327));Su();var t=av(e,0);if(!(t&1))return Zn(e,vr()),null;var r=Sv(e,t);if(e.tag!==0&&r===2){var n=dj(e);n!==0&&(t=n,r=Fj(e,n))}if(r===1)throw r=$h,Ll(e,0),ro(e,t),Zn(e,vr()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cl(e,Hn,ni),Zn(e,vr()),null}function mN(e,t){var r=jt;jt|=1;try{return e(t)}finally{jt=r,jt===0&&(Yu=vr()+500,fx&&zo())}}function Ql(e){go!==null&&go.tag===0&&!(jt&6)&&Su();var t=jt;jt|=1;var r=Ds.transition,n=Ft;try{if(Ds.transition=null,Ft=1,e)return e()}finally{Ft=n,Ds.transition=r,jt=t,!(jt&6)&&zo()}}function pN(){cs=du.current,Jt(du)}function Ll(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Z9(r)),kr!==null)for(r=kr.return;r!==null;){var n=r;switch(Y_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&uv();break;case 3:Ku(),Jt(Qn),Jt(_n),sN();break;case 5:nN(n);break;case 4:Ku();break;case 13:Jt(nr);break;case 19:Jt(nr);break;case 10:J_(n.type._context);break;case 22:case 23:pN()}r=r.return}if(rn=e,kr=e=No(e.current,null),fn=cs=t,Wr=0,$h=null,fN=gx=Yl=0,Hn=ah=null,bl!==null){for(t=0;t<bl.length;t++)if(r=bl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}bl=null}return e}function g4(e,t){do{var r=kr;try{if(Z_(),Bg.current=xv,yv){for(var n=ar.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}yv=!1}if(Gl=0,en=qr=ar=null,nh=!1,Th=0,dN.current=null,r===null||r.return===null){Wr=1,$h=t,kr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=fn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=oE(o);if(p!==null){p.flags&=-257,lE(p,o,l,i,t),p.mode&1&&iE(i,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){iE(i,u,t),gN();break e}c=Error(he(426))}}else if(er&&l.mode&1){var b=oE(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lE(b,o,l,i,t),Q_(Gu(c,l));break e}}i=c=Gu(c,l),Wr!==4&&(Wr=2),ah===null?ah=[i]:ah.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=JM(i,c,t);eE(i,y);break e;case 1:l=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(So===null||!So.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=e4(i,l,t);eE(i,_);break e}}i=i.return}while(i!==null)}x4(r)}catch(j){t=j,kr===r&&r!==null&&(kr=r=r.return);continue}break}while(!0)}function v4(){var e=bv.current;return bv.current=xv,e===null?xv:e}function gN(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),rn===null||!(Yl&268435455)&&!(gx&268435455)||ro(rn,fn)}function Sv(e,t){var r=jt;jt|=2;var n=v4();(rn!==e||fn!==t)&&(ni=null,Ll(e,t));do try{SW();break}catch(s){g4(e,s)}while(!0);if(Z_(),jt=r,bv.current=n,kr!==null)throw Error(he(261));return rn=null,fn=0,Wr}function SW(){for(;kr!==null;)y4(kr)}function _W(){for(;kr!==null&&!Yz();)y4(kr)}function y4(e){var t=w4(e.alternate,e,cs);e.memoizedProps=e.pendingProps,t===null?x4(e):kr=t,dN.current=null}function x4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vW(r,t),r!==null){r.flags&=32767,kr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wr=6,kr=null;return}}else if(r=gW(r,t,cs),r!==null){kr=r;return}if(t=t.sibling,t!==null){kr=t;return}kr=t=e}while(t!==null);Wr===0&&(Wr=5)}function cl(e,t,r){var n=Ft,s=Ds.transition;try{Ds.transition=null,Ft=1,NW(e,t,r,n)}finally{Ds.transition=s,Ft=n}return null}function NW(e,t,r,n){do Su();while(go!==null);if(jt&6)throw Error(he(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(a9(e,i),e===rn&&(kr=rn=null,fn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tg||(tg=!0,j4(sv,function(){return Su(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ds.transition,Ds.transition=null;var o=Ft;Ft=1;var l=jt;jt|=4,dN.current=null,xW(e,r),h4(r,e),W9(vj),iv=!!gj,vj=gj=null,e.current=r,bW(r),Qz(),jt=l,Ft=o,Ds.transition=i}else e.current=r;if(tg&&(tg=!1,go=e,jv=s),i=e.pendingLanes,i===0&&(So=null),Jz(r.stateNode),Zn(e,vr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(wv)throw wv=!1,e=Dj,Dj=null,e;return jv&1&&e.tag!==0&&Su(),i=e.pendingLanes,i&1?e===Lj?ih++:(ih=0,Lj=e):ih=0,zo(),null}function Su(){if(go!==null){var e=J$(jv),t=Ds.transition,r=Ft;try{if(Ds.transition=null,Ft=16>e?16:e,go===null)var n=!1;else{if(e=go,go=null,jv=0,jt&6)throw Error(he(331));var s=jt;for(jt|=4,Te=e.current;Te!==null;){var i=Te,o=i.child;if(Te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Te=u;Te!==null;){var d=Te;switch(d.tag){case 0:case 11:case 15:sh(8,d,i)}var f=d.child;if(f!==null)f.return=d,Te=f;else for(;Te!==null;){d=Te;var h=d.sibling,p=d.return;if(u4(d),d===u){Te=null;break}if(h!==null){h.return=p,Te=h;break}Te=p}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}Te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Te=o;else e:for(;Te!==null;){if(i=Te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sh(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Te=y;break e}Te=i.return}}var g=e.current;for(Te=g;Te!==null;){o=Te;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Te=w;else e:for(o=g;Te!==null;){if(l=Te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:px(9,l)}}catch(j){dr(l,l.return,j)}if(l===o){Te=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Te=_;break e}Te=l.return}}if(jt=s,zo(),$a&&typeof $a.onPostCommitFiberRoot=="function")try{$a.onPostCommitFiberRoot(ox,e)}catch{}n=!0}return n}finally{Ft=r,Ds.transition=t}}return!1}function wE(e,t,r){t=Gu(r,t),t=JM(e,t,1),e=jo(e,t,1),t=Ln(),e!==null&&(Gm(e,1,t),Zn(e,t))}function dr(e,t,r){if(e.tag===3)wE(e,e,r);else for(;t!==null;){if(t.tag===3){wE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(So===null||!So.has(n))){e=Gu(r,e),e=e4(t,e,1),t=jo(t,e,1),e=Ln(),t!==null&&(Gm(t,1,e),Zn(t,e));break}}t=t.return}}function kW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ln(),e.pingedLanes|=e.suspendedLanes&r,rn===e&&(fn&r)===r&&(Wr===4||Wr===3&&(fn&130023424)===fn&&500>vr()-hN?Ll(e,0):fN|=r),Zn(e,t)}function b4(e,t){t===0&&(e.mode&1?(t=Wp,Wp<<=1,!(Wp&130023424)&&(Wp=4194304)):t=1);var r=Ln();e=Si(e,t),e!==null&&(Gm(e,t,r),Zn(e,r))}function CW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),b4(e,r)}function PW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(he(314))}n!==null&&n.delete(t),b4(e,r)}var w4;w4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qn.current)Kn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Kn=!1,pW(e,t,r);Kn=!!(e.flags&131072)}else Kn=!1,er&&t.flags&1048576&&NM(t,hv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vg(e,t),e=t.pendingProps;var s=zu(t,_n.current);ju(t,r),s=iN(null,t,n,e,s,r);var i=oN();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xn(n)?(i=!0,dv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tN(t),s.updater=mx,t.stateNode=s,s._reactInternals=t,kj(t,n,e,r),t=Ej(null,t,n,!0,i,r)):(t.tag=0,er&&i&&G_(t),On(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=AW(n),e=Js(n,e),s){case 0:t=Pj(null,t,n,e,r);break e;case 1:t=dE(null,t,n,e,r);break e;case 11:t=cE(null,t,n,e,r);break e;case 14:t=uE(null,t,n,Js(n.type,e),r);break e}throw Error(he(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),Pj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),dE(e,t,n,s,r);case 3:e:{if(s4(t),e===null)throw Error(he(387));n=t.pendingProps,i=t.memoizedState,s=i.element,OM(e,t),gv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Gu(Error(he(423)),t),t=fE(e,t,n,r,s);break e}else if(n!==s){s=Gu(Error(he(424)),t),t=fE(e,t,n,r,s);break e}else for(ys=wo(t.stateNode.containerInfo.firstChild),xs=t,er=!0,oa=null,r=EM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wu(),n===s){t=_i(e,t,r);break e}On(e,t,n,r)}t=t.child}return t;case 5:return TM(t),e===null&&Sj(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,yj(n,s)?o=null:i!==null&&yj(n,i)&&(t.flags|=32),n4(e,t),On(e,t,o,r),t.child;case 6:return e===null&&Sj(t),null;case 13:return a4(e,t,r);case 4:return rN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hu(t,null,n,r):On(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),cE(e,t,n,s,r);case 7:return On(e,t,t.pendingProps,r),t.child;case 8:return On(e,t,t.pendingProps.children,r),t.child;case 12:return On(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ht(mv,n._currentValue),n._currentValue=o,i!==null)if(va(i.value,o)){if(i.children===s.children&&!Qn.current){t=_i(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=vi(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),_j(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(he(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),_j(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}On(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ju(t,r),s=Bs(s),n=n(s),t.flags|=1,On(e,t,n,r),t.child;case 14:return n=t.type,s=Js(n,t.pendingProps),s=Js(n.type,s),uE(e,t,n,s,r);case 15:return t4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),Vg(e,t),t.tag=1,Xn(n)?(e=!0,dv(t)):e=!1,ju(t,r),ZM(t,n,s),kj(t,n,s,r),Ej(null,t,n,!0,e,r);case 19:return i4(e,t,r);case 22:return r4(e,t,r)}throw Error(he(156,t.tag))};function j4(e,t){return Y$(e,t)}function EW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(e,t,r,n){return new EW(e,t,r,n)}function vN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AW(e){if(typeof e=="function")return vN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===M_)return 11;if(e===D_)return 14}return 2}function No(e,t){var r=e.alternate;return r===null?(r=$s(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wg(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")vN(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case tu:return Fl(r.children,s,i,t);case $_:o=8,s|=8;break;case Qw:return e=$s(12,r,t,s|2),e.elementType=Qw,e.lanes=i,e;case Xw:return e=$s(13,r,t,s),e.elementType=Xw,e.lanes=i,e;case Zw:return e=$s(19,r,t,s),e.elementType=Zw,e.lanes=i,e;case T$:return vx(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A$:o=10;break e;case O$:o=9;break e;case M_:o=11;break e;case D_:o=14;break e;case Yi:o=16,n=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=$s(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Fl(e,t,r,n){return e=$s(7,e,n,t),e.lanes=r,e}function vx(e,t,r,n){return e=$s(22,e,n,t),e.elementType=T$,e.lanes=r,e.stateNode={isHidden:!1},e}function L0(e,t,r){return e=$s(6,e,null,t),e.lanes=r,e}function F0(e,t,r){return t=$s(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OW(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x0(0),this.expirationTimes=x0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yN(e,t,r,n,s,i,o,l,c){return e=new OW(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$s(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tN(i),e}function TW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function S4(e){if(!e)return To;e=e._reactInternals;e:{if(gc(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(Xn(r))return SM(e,r,t)}return t}function _4(e,t,r,n,s,i,o,l,c){return e=yN(r,n,!0,e,s,i,o,l,c),e.context=S4(null),r=e.current,n=Ln(),s=_o(r),i=vi(n,s),i.callback=t??null,jo(r,i,s),e.current.lanes=s,Gm(e,s,n),Zn(e,n),e}function yx(e,t,r,n){var s=t.current,i=Ln(),o=_o(s);return r=S4(r),t.context===null?t.context=r:t.pendingContext=r,t=vi(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=jo(s,t,o),e!==null&&(ma(e,s,o,i),Fg(e,s,o)),o}function _v(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function xN(e,t){jE(e,t),(e=e.alternate)&&jE(e,t)}function IW(){return null}var N4=typeof reportError=="function"?reportError:function(e){console.error(e)};function bN(e){this._internalRoot=e}xx.prototype.render=bN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));yx(e,t,null,null)};xx.prototype.unmount=bN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ql(function(){yx(null,e,null,null)}),t[ji]=null}};function xx(e){this._internalRoot=e}xx.prototype.unstable_scheduleHydration=function(e){if(e){var t=rM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<to.length&&t!==0&&t<to[r].priority;r++);to.splice(r,0,e),r===0&&sM(e)}};function wN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function SE(){}function RW(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=_v(o);i.call(u)}}var o=_4(t,n,e,0,null,!1,!1,"",SE);return e._reactRootContainer=o,e[ji]=o.current,Ch(e.nodeType===8?e.parentNode:e),Ql(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=_v(c);l.call(u)}}var c=yN(e,0,!1,null,null,!1,!1,"",SE);return e._reactRootContainer=c,e[ji]=c.current,Ch(e.nodeType===8?e.parentNode:e),Ql(function(){yx(t,c,r,n)}),c}function wx(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=_v(o);l.call(c)}}yx(t,o,e,s)}else o=RW(r,t,e,s,n);return _v(o)}eM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Uf(t.pendingLanes);r!==0&&(B_(t,r|1),Zn(t,vr()),!(jt&6)&&(Yu=vr()+500,zo()))}break;case 13:Ql(function(){var n=Si(e,1);if(n!==null){var s=Ln();ma(n,e,1,s)}}),xN(e,1)}};U_=function(e){if(e.tag===13){var t=Si(e,134217728);if(t!==null){var r=Ln();ma(t,e,134217728,r)}xN(e,134217728)}};tM=function(e){if(e.tag===13){var t=_o(e),r=Si(e,t);if(r!==null){var n=Ln();ma(r,e,t,n)}xN(e,t)}};rM=function(){return Ft};nM=function(e,t){var r=Ft;try{return Ft=e,t()}finally{Ft=r}};lj=function(e,t,r){switch(t){case"input":if(tj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=dx(n);if(!s)throw Error(he(90));R$(n),tj(n,s)}}}break;case"textarea":M$(e,r);break;case"select":t=r.value,t!=null&&yu(e,!!r.multiple,t,!1)}};q$=mN;z$=Ql;var $W={usingClientEntryPoint:!1,Events:[Qm,au,dx,U$,V$,mN]},wf={findFiberByHostInstance:xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MW={bundleType:wf.bundleType,version:wf.version,rendererPackageName:wf.rendererPackageName,rendererConfig:wf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=K$(e),e===null?null:e.stateNode},findFiberByHostInstance:wf.findFiberByHostInstance||IW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rg.isDisabled&&rg.supportsFiber)try{ox=rg.inject(MW),$a=rg}catch{}}Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$W;Ns.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wN(t))throw Error(he(200));return TW(e,t,null,r)};Ns.createRoot=function(e,t){if(!wN(e))throw Error(he(299));var r=!1,n="",s=N4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=yN(e,1,!1,null,null,r,!1,n,s),e[ji]=t.current,Ch(e.nodeType===8?e.parentNode:e),new bN(t)};Ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=K$(t),e=e===null?null:e.stateNode,e};Ns.flushSync=function(e){return Ql(e)};Ns.hydrate=function(e,t,r){if(!bx(t))throw Error(he(200));return wx(null,e,t,!0,r)};Ns.hydrateRoot=function(e,t,r){if(!wN(e))throw Error(he(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=N4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=_4(t,null,e,1,r??null,s,!1,i,o),e[ji]=t.current,Ch(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new xx(t)};Ns.render=function(e,t,r){if(!bx(t))throw Error(he(200));return wx(null,e,t,!1,r)};Ns.unmountComponentAtNode=function(e){if(!bx(e))throw Error(he(40));return e._reactRootContainer?(Ql(function(){wx(null,null,e,!1,function(){e._reactRootContainer=null,e[ji]=null})}),!0):!1};Ns.unstable_batchedUpdates=mN;Ns.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bx(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return wx(e,t,r,!1,n)};Ns.version="18.3.1-next-f1338f8080-20240426";function k4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k4)}catch(e){console.error(e)}}k4(),k$.exports=Ns;var vc=k$.exports;const DW=It(vc);var C4,_E=vc;C4=_E.createRoot,_E.hydrateRoot;function LW(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~n?n:~i?i:s.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var P4={exports:{}},E4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=v;function FW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BW=typeof Object.is=="function"?Object.is:FW,UW=Qu.useState,VW=Qu.useEffect,qW=Qu.useLayoutEffect,zW=Qu.useDebugValue;function WW(e,t){var r=t(),n=UW({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return qW(function(){s.value=r,s.getSnapshot=t,B0(s)&&i({inst:s})},[e,r,t]),VW(function(){return B0(s)&&i({inst:s}),e(function(){B0(s)&&i({inst:s})})},[e]),zW(r),r}function B0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!BW(e,r)}catch{return!0}}function HW(e,t){return t()}var KW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HW:WW;E4.useSyncExternalStore=Qu.useSyncExternalStore!==void 0?Qu.useSyncExternalStore:KW;P4.exports=E4;var A4=P4.exports;const GW=ix.useInsertionEffect,YW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QW=YW?v.useLayoutEffect:v.useEffect,XW=GW||QW,O4=e=>{const t=v.useRef([e,(...r)=>t[0](...r)]).current;return XW(()=>{t[0]=e}),t[1]},ZW="popstate",jN="pushState",SN="replaceState",JW="hashchange",NE=[ZW,jN,SN,JW],e7=e=>{for(const t of NE)addEventListener(t,e);return()=>{for(const t of NE)removeEventListener(t,e)}},T4=(e,t)=>A4.useSyncExternalStore(e7,e,t),kE=()=>location.search,t7=({ssrSearch:e}={})=>T4(kE,e!=null?()=>e:kE),CE=()=>location.pathname,r7=({ssrPath:e}={})=>T4(CE,e!=null?()=>e:CE),n7=(e,{replace:t=!1,state:r=null}={})=>history[t?SN:jN](r,"",e),s7=(e={})=>[r7(e),n7],PE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[PE]>"u"){for(const e of[jN,SN]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,PE,{value:!0})}const a7=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",I4=(e="")=>e==="/"?"":e,i7=(e,t)=>e[0]==="~"?e.slice(1):I4(t)+e,o7=(e="",t)=>a7(Uj(I4(e)),Uj(t)),l7=e=>e[0]==="?"?e.slice(1):e,Uj=e=>{try{return decodeURI(e)}catch{return e}},c7=e=>Uj(l7(e)),R4={hook:s7,searchHook:t7,parser:LW,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},$4=v.createContext(R4),Dd=()=>v.useContext($4),M4={},D4=v.createContext(M4),L4=()=>v.useContext(D4),jx=e=>{const[t,r]=e.hook(e);return[o7(e.base,t),O4((n,s)=>e.aroundNav(r,i7(n,e.base),s))]},ss=()=>jx(Dd()),F4=()=>{const e=Dd();return c7(e.searchHook(e))},B4=(e,t,r,n)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},u7=({children:e,...t})=>{var d,f,h;const r=Dd(),n=t.hook?R4:r;let s=n;const[i,o=t.ssrSearch??""]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs),t.searchHook=t.searchHook??((h=t.hook)==null?void 0:h.searchHook);let l=v.useRef({}),c=l.current,u=c;for(let p in n){const x=p==="base"?n[p]+(t[p]??""):t[p]??n[p];c===u&&x!==u[p]&&(l.current=u={...u}),u[p]=x,(x!==n[p]||x!==s[p])&&(s=u)}return v.createElement($4.Provider,{value:s,children:e})},EE=({children:e,component:t},r)=>t?v.createElement(t,{params:r}):typeof e=="function"?e(r):e,d7=e=>{let t=v.useRef(M4);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,s])=>s!==r[n])?e:r},it=({path:e,nest:t,match:r,...n})=>{const s=Dd(),[i]=jx(s),[o,l,c]=r??B4(s.parser,e,i,t),u=d7({...L4(),...l});if(!o)return null;const d=c?v.createElement(u7,{base:c},EE(n,u)):EE(n,u);return v.createElement(D4.Provider,{value:u,children:d})},le=v.forwardRef((e,t)=>{const r=Dd(),[n,s]=jx(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,transition:p,...x}=e,m=O4(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),s(o,e)))}),b=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&v.isValidElement(u)?v.cloneElement(u,{onClick:m,href:b}):v.createElement("a",{...x,onClick:m,href:b,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),U4=e=>Array.isArray(e)?e.flatMap(t=>U4(t&&t.type===v.Fragment?t.props.children:t)):[e],V4=({children:e,location:t})=>{const r=Dd(),[n]=jx(r);for(const s of U4(e)){let i=0;if(v.isValidElement(s)&&(i=B4(r.parser,s.props.path,t||n,s.props.nest))[0])return v.cloneElement(s,{match:i})}return null};var Ld=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},f7={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ao,C_,s$,h7=(s$=class{constructor(){Ve(this,ao,f7);Ve(this,C_,!1)}setTimeoutProvider(e){Pe(this,ao,e)}setTimeout(e,t){return F(this,ao).setTimeout(e,t)}clearTimeout(e){F(this,ao).clearTimeout(e)}setInterval(e,t){return F(this,ao).setInterval(e,t)}clearInterval(e){F(this,ao).clearInterval(e)}},ao=new WeakMap,C_=new WeakMap,s$),jl=new h7;function m7(e){setTimeout(e,0)}var Xl=typeof window>"u"||"Deno"in globalThis;function Tn(){}function p7(e,t){return typeof e=="function"?e(t):e}function Vj(e){return typeof e=="number"&&e>=0&&e!==1/0}function q4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ko(e,t){return typeof e=="function"?e(t):e}function Os(e,t){return typeof e=="function"?e(t):e}function AE(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==_N(o,t.options))return!1}else if(!Mh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function OE(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Zl(t.options.mutationKey)!==Zl(i))return!1}else if(!Mh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function _N(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zl)(e)}function Zl(e){return JSON.stringify(e,(t,r)=>qj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Mh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Mh(e[r],t[r])):!1}var g7=Object.prototype.hasOwnProperty;function z4(e,t){if(e===t)return e;const r=TE(e)&&TE(t);if(!r&&!(qj(e)&&qj(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<s:g7.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=z4(f,h);l[d]=p,p===f&&c++}return s===o&&c===s?e:l}function Nv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function TE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qj(e){if(!IE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!IE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function IE(e){return Object.prototype.toString.call(e)==="[object Object]"}function v7(e){return new Promise(t=>{jl.setTimeout(t,e)})}function zj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?z4(e,t):t}function y7(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function x7(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var NN=Symbol();function W4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===NN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function H4(e,t){return typeof e=="function"?e(...t):!!e}var El,io,Ou,a$,b7=(a$=class extends Ld{constructor(){super();Ve(this,El);Ve(this,io);Ve(this,Ou);Pe(this,Ou,t=>{if(!Xl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,io)||this.setEventListener(F(this,Ou))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,io))==null||t.call(this),Pe(this,io,void 0))}setEventListener(t){var r;Pe(this,Ou,t),(r=F(this,io))==null||r.call(this),Pe(this,io,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){F(this,El)!==t&&(Pe(this,El,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof F(this,El)=="boolean"?F(this,El):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},El=new WeakMap,io=new WeakMap,Ou=new WeakMap,a$),kN=new b7;function Wj(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var w7=m7;function j7(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=w7;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var zr=j7(),Tu,oo,Iu,i$,S7=(i$=class extends Ld{constructor(){super();Ve(this,Tu,!0);Ve(this,oo);Ve(this,Iu);Pe(this,Iu,t=>{if(!Xl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,oo)||this.setEventListener(F(this,Iu))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,oo))==null||t.call(this),Pe(this,oo,void 0))}setEventListener(t){var r;Pe(this,Iu,t),(r=F(this,oo))==null||r.call(this),Pe(this,oo,t(this.setOnline.bind(this)))}setOnline(t){F(this,Tu)!==t&&(Pe(this,Tu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return F(this,Tu)}},Tu=new WeakMap,oo=new WeakMap,Iu=new WeakMap,i$),kv=new S7;function _7(e){return Math.min(1e3*2**e,3e4)}function K4(e){return(e??"online")==="online"?kv.isOnline():!0}var Hj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function G4(e){let t=!1,r=0,n;const s=Wj(),i=()=>s.status!=="pending",o=m=>{var b;if(!i()){const y=new Hj(m);h(y),(b=e.onCancel)==null||b.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>kN.isFocused()&&(e.networkMode==="always"||kv.isOnline())&&e.canRun(),d=()=>K4(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),s.resolve(m))},h=m=>{i()||(n==null||n(),s.reject(m))},p=()=>new Promise(m=>{var b;n=y=>{(i()||u())&&m(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(i())return;let m;const b=r===0?e.initialPromise:void 0;try{m=b??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var S;if(i())return;const g=e.retry??(Xl?0:3),w=e.retryDelay??_7,_=typeof w=="function"?w(r,y):w,j=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,y);if(t||!j){h(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),v7(_).then(()=>u()?void 0:p()).then(()=>{t?h(y):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),s)}}var Al,o$,Y4=(o$=class{constructor(){Ve(this,Al)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vj(this.gcTime)&&Pe(this,Al,jl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xl?1/0:5*60*1e3))}clearGcTimeout(){F(this,Al)&&(jl.clearTimeout(F(this,Al)),Pe(this,Al,void 0))}},Al=new WeakMap,o$),Ol,Ru,As,Tl,Zr,Vm,Il,ta,ri,l$,N7=(l$=class extends Y4{constructor(t){super();Ve(this,ta);Ve(this,Ol);Ve(this,Ru);Ve(this,As);Ve(this,Tl);Ve(this,Zr);Ve(this,Vm);Ve(this,Il);Pe(this,Il,!1),Pe(this,Vm,t.defaultOptions),this.setOptions(t.options),this.observers=[],Pe(this,Tl,t.client),Pe(this,As,F(this,Tl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Pe(this,Ol,$E(this.options)),this.state=t.state??F(this,Ol),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,Zr))==null?void 0:t.promise}setOptions(t){if(this.options={...F(this,Vm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=$E(this.options);r.data!==void 0&&(this.setState(RE(r.data,r.dataUpdatedAt)),Pe(this,Ol,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,As).remove(this)}setData(t,r){const n=zj(this.state.data,t,this.options);return ht(this,ta,ri).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ht(this,ta,ri).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=F(this,Zr))==null?void 0:n.promise;return(s=F(this,Zr))==null||s.cancel(t),r?r.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Ol))}isActive(){return this.observers.some(t=>Os(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===NN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ko(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!q4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,Zr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,Zr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,As).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(F(this,Zr)&&(F(this,Il)?F(this,Zr).cancel({revert:!0}):F(this,Zr).cancelRetry()),this.scheduleGc()),F(this,As).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ht(this,ta,ri).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,x,m,b,y,g,w;if(this.state.fetchStatus!=="idle"&&((c=F(this,Zr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Zr))return F(this,Zr).continueRetry(),F(this,Zr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(j=>j.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Pe(this,Il,!0),n.signal)})},i=()=>{const _=W4(this.options,r),S=(()=>{const N={client:F(this,Tl),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return Pe(this,Il,!1),this.options.persister?this.options.persister(_,S,this):_(S)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Tl),state:this.state,fetchFn:i};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Pe(this,Ru,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ht(this,ta,ri).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Pe(this,Zr,G4({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof Hj&&_.revert&&this.setState({...F(this,Ru),fetchStatus:"idle"}),n.abort()},onFail:(_,j)=>{ht(this,ta,ri).call(this,{type:"failed",failureCount:_,error:j})},onPause:()=>{ht(this,ta,ri).call(this,{type:"pause"})},onContinue:()=>{ht(this,ta,ri).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await F(this,Zr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=F(this,As).config).onSuccess)==null||p.call(h,_,this),(m=(x=F(this,As).config).onSettled)==null||m.call(x,_,this.state.error,this),_}catch(_){if(_ instanceof Hj){if(_.silent)return F(this,Zr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw ht(this,ta,ri).call(this,{type:"error",error:_}),(y=(b=F(this,As).config).onError)==null||y.call(b,_,this),(w=(g=F(this,As).config).onSettled)==null||w.call(g,this.state.data,_,this),_}finally{this.scheduleGc()}}},Ol=new WeakMap,Ru=new WeakMap,As=new WeakMap,Tl=new WeakMap,Zr=new WeakMap,Vm=new WeakMap,Il=new WeakMap,ta=new WeakSet,ri=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Q4(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...RE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Pe(this,Ru,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),zr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,As).notify({query:this,type:"updated",action:t})})},l$);function Q4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:K4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function RE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $E(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var qn,xt,qm,Pn,Rl,$u,oi,lo,zm,Mu,Du,$l,Ml,co,Lu,Tt,qf,Kj,Gj,Yj,Qj,Xj,Zj,Jj,X4,c$,k7=(c$=class extends Ld{constructor(t,r){super();Ve(this,Tt);Ve(this,qn);Ve(this,xt);Ve(this,qm);Ve(this,Pn);Ve(this,Rl);Ve(this,$u);Ve(this,oi);Ve(this,lo);Ve(this,zm);Ve(this,Mu);Ve(this,Du);Ve(this,$l);Ve(this,Ml);Ve(this,co);Ve(this,Lu,new Set);this.options=r,Pe(this,qn,t),Pe(this,lo,null),Pe(this,oi,Wj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,xt).addObserver(this),ME(F(this,xt),this.options)?ht(this,Tt,qf).call(this):this.updateResult(),ht(this,Tt,Qj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return e1(F(this,xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return e1(F(this,xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ht(this,Tt,Xj).call(this),ht(this,Tt,Zj).call(this),F(this,xt).removeObserver(this)}setOptions(t){const r=this.options,n=F(this,xt);if(this.options=F(this,qn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Os(this.options.enabled,F(this,xt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ht(this,Tt,Jj).call(this),F(this,xt).setOptions(this.options),r._defaulted&&!Nv(this.options,r)&&F(this,qn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,xt),observer:this});const s=this.hasListeners();s&&DE(F(this,xt),n,this.options,r)&&ht(this,Tt,qf).call(this),this.updateResult(),s&&(F(this,xt)!==n||Os(this.options.enabled,F(this,xt))!==Os(r.enabled,F(this,xt))||ko(this.options.staleTime,F(this,xt))!==ko(r.staleTime,F(this,xt)))&&ht(this,Tt,Kj).call(this);const i=ht(this,Tt,Gj).call(this);s&&(F(this,xt)!==n||Os(this.options.enabled,F(this,xt))!==Os(r.enabled,F(this,xt))||i!==F(this,co))&&ht(this,Tt,Yj).call(this,i)}getOptimisticResult(t){const r=F(this,qn).getQueryCache().build(F(this,qn),t),n=this.createResult(r,t);return P7(this,n)&&(Pe(this,Pn,n),Pe(this,$u,this.options),Pe(this,Rl,F(this,xt).state)),n}getCurrentResult(){return F(this,Pn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&F(this,oi).status==="pending"&&F(this,oi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){F(this,Lu).add(t)}getCurrentQuery(){return F(this,xt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=F(this,qn).defaultQueryOptions(t),n=F(this,qn).getQueryCache().build(F(this,qn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ht(this,Tt,qf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,Pn)))}createResult(t,r){var C;const n=F(this,xt),s=this.options,i=F(this,Pn),o=F(this,Rl),l=F(this,$u),u=t!==n?t.state:F(this,qm),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const E=this.hasListeners(),A=!E&&ME(t,r),R=E&&DE(t,n,r,s);(A||R)&&(f={...f,...Q4(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:m,status:b}=f;p=f.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let E;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,y=!0):E=typeof r.placeholderData=="function"?r.placeholderData((C=F(this,Du))==null?void 0:C.state.data,F(this,Du)):r.placeholderData,E!==void 0&&(b="success",p=zj(i==null?void 0:i.data,E,r),h=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===F(this,zm))p=F(this,Mu);else try{Pe(this,zm,r.select),p=r.select(p),p=zj(i==null?void 0:i.data,p,r),Pe(this,Mu,p),Pe(this,lo,null)}catch(E){Pe(this,lo,E)}F(this,lo)&&(x=F(this,lo),p=F(this,Mu),m=Date.now(),b="error");const g=f.fetchStatus==="fetching",w=b==="pending",_=b==="error",j=w&&g,S=p!==void 0,k={status:b,fetchStatus:f.fetchStatus,isPending:w,isSuccess:b==="success",isError:_,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!w,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:CN(t,r),refetch:this.refetch,promise:F(this,oi),isEnabled:Os(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=T=>{k.status==="error"?T.reject(k.error):k.data!==void 0&&T.resolve(k.data)},A=()=>{const T=Pe(this,oi,k.promise=Wj());E(T)},R=F(this,oi);switch(R.status){case"pending":t.queryHash===n.queryHash&&E(R);break;case"fulfilled":(k.status==="error"||k.data!==R.value)&&A();break;case"rejected":(k.status!=="error"||k.error!==R.reason)&&A();break}}return k}updateResult(){const t=F(this,Pn),r=this.createResult(F(this,xt),this.options);if(Pe(this,Rl,F(this,xt).state),Pe(this,$u,this.options),F(this,Rl).data!==void 0&&Pe(this,Du,F(this,xt)),Nv(r,t))return;Pe(this,Pn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!F(this,Lu).size)return!0;const o=new Set(i??F(this,Lu));return this.options.throwOnError&&o.add("error"),Object.keys(F(this,Pn)).some(l=>{const c=l;return F(this,Pn)[c]!==t[c]&&o.has(c)})};ht(this,Tt,X4).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ht(this,Tt,Qj).call(this)}},qn=new WeakMap,xt=new WeakMap,qm=new WeakMap,Pn=new WeakMap,Rl=new WeakMap,$u=new WeakMap,oi=new WeakMap,lo=new WeakMap,zm=new WeakMap,Mu=new WeakMap,Du=new WeakMap,$l=new WeakMap,Ml=new WeakMap,co=new WeakMap,Lu=new WeakMap,Tt=new WeakSet,qf=function(t){ht(this,Tt,Jj).call(this);let r=F(this,xt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Tn)),r},Kj=function(){ht(this,Tt,Xj).call(this);const t=ko(this.options.staleTime,F(this,xt));if(Xl||F(this,Pn).isStale||!Vj(t))return;const n=q4(F(this,Pn).dataUpdatedAt,t)+1;Pe(this,$l,jl.setTimeout(()=>{F(this,Pn).isStale||this.updateResult()},n))},Gj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,xt)):this.options.refetchInterval)??!1},Yj=function(t){ht(this,Tt,Zj).call(this),Pe(this,co,t),!(Xl||Os(this.options.enabled,F(this,xt))===!1||!Vj(F(this,co))||F(this,co)===0)&&Pe(this,Ml,jl.setInterval(()=>{(this.options.refetchIntervalInBackground||kN.isFocused())&&ht(this,Tt,qf).call(this)},F(this,co)))},Qj=function(){ht(this,Tt,Kj).call(this),ht(this,Tt,Yj).call(this,ht(this,Tt,Gj).call(this))},Xj=function(){F(this,$l)&&(jl.clearTimeout(F(this,$l)),Pe(this,$l,void 0))},Zj=function(){F(this,Ml)&&(jl.clearInterval(F(this,Ml)),Pe(this,Ml,void 0))},Jj=function(){const t=F(this,qn).getQueryCache().build(F(this,qn),this.options);if(t===F(this,xt))return;const r=F(this,xt);Pe(this,xt,t),Pe(this,qm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},X4=function(t){zr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(F(this,Pn))}),F(this,qn).getQueryCache().notify({query:F(this,xt),type:"observerResultsUpdated"})})},c$);function C7(e,t){return Os(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ME(e,t){return C7(e,t)||e.state.data!==void 0&&e1(e,t,t.refetchOnMount)}function e1(e,t,r){if(Os(t.enabled,e)!==!1&&ko(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&CN(e,t)}return!1}function DE(e,t,r,n){return(e!==t||Os(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&CN(e,r)}function CN(e,t){return Os(t.enabled,e)!==!1&&e.isStaleByTime(ko(t.staleTime,e))}function P7(e,t){return!Nv(e.getCurrentResult(),t)}function LE(e){return{onFetch:(t,r)=>{var d,f,h,p,x;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=W4(t.options,t.fetchOptions),g=async(w,_,j)=>{if(m)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return b(A),A})(),k=await y(N),{maxPages:C}=t.options,E=j?x7:y7;return{pages:E(w.pages,k,C),pageParams:E(w.pageParams,_,C)}};if(s&&i.length){const w=s==="backward",_=w?E7:FE,j={pages:i,pageParams:o},S=_(n,j);l=await g(j,S,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:FE(n,l);if(c>0&&_==null)break;l=await g(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,b;return(b=(m=t.options).persister)==null?void 0:b.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function FE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function E7(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Wm,Pa,En,Dl,Ea,Ki,u$,A7=(u$=class extends Y4{constructor(t){super();Ve(this,Ea);Ve(this,Wm);Ve(this,Pa);Ve(this,En);Ve(this,Dl);Pe(this,Wm,t.client),this.mutationId=t.mutationId,Pe(this,En,t.mutationCache),Pe(this,Pa,[]),this.state=t.state||Z4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,Pa).includes(t)||(F(this,Pa).push(t),this.clearGcTimeout(),F(this,En).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Pe(this,Pa,F(this,Pa).filter(r=>r!==t)),this.scheduleGc(),F(this,En).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,Pa).length||(this.state.status==="pending"?this.scheduleGc():F(this,En).remove(this))}continue(){var t;return((t=F(this,Dl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,x,m,b,y,g,w,_,j,S,N,k,C;const r=()=>{ht(this,Ea,Ki).call(this,{type:"continue"})},n={client:F(this,Wm),meta:this.options.meta,mutationKey:this.options.mutationKey};Pe(this,Dl,G4({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(E,A)=>{ht(this,Ea,Ki).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{ht(this,Ea,Ki).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,En).canRun(this)}));const s=this.state.status==="pending",i=!F(this,Dl).canStart();try{if(s)r();else{ht(this,Ea,Ki).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=F(this,En).config).onMutate)==null?void 0:l.call(o,t,this,n));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));A!==this.state.context&&ht(this,Ea,Ki).call(this,{type:"pending",context:A,variables:t,isPaused:i})}const E=await F(this,Dl).start();return await((f=(d=F(this,En).config).onSuccess)==null?void 0:f.call(d,E,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,E,t,this.state.context,n)),await((m=(x=F(this,En).config).onSettled)==null?void 0:m.call(x,E,null,this.state.variables,this.state.context,this,n)),await((y=(b=this.options).onSettled)==null?void 0:y.call(b,E,null,t,this.state.context,n)),ht(this,Ea,Ki).call(this,{type:"success",data:E}),E}catch(E){try{throw await((w=(g=F(this,En).config).onError)==null?void 0:w.call(g,E,t,this.state.context,this,n)),await((j=(_=this.options).onError)==null?void 0:j.call(_,E,t,this.state.context,n)),await((N=(S=F(this,En).config).onSettled)==null?void 0:N.call(S,void 0,E,this.state.variables,this.state.context,this,n)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,E,t,this.state.context,n)),E}finally{ht(this,Ea,Ki).call(this,{type:"error",error:E})}}finally{F(this,En).runNext(this)}}},Wm=new WeakMap,Pa=new WeakMap,En=new WeakMap,Dl=new WeakMap,Ea=new WeakSet,Ki=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zr.batch(()=>{F(this,Pa).forEach(n=>{n.onMutationUpdate(t)}),F(this,En).notify({mutation:this,type:"updated",action:t})})},u$);function Z4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var li,ra,Hm,d$,O7=(d$=class extends Ld{constructor(t={}){super();Ve(this,li);Ve(this,ra);Ve(this,Hm);this.config=t,Pe(this,li,new Set),Pe(this,ra,new Map),Pe(this,Hm,0)}build(t,r,n){const s=new A7({client:t,mutationCache:this,mutationId:++Lp(this,Hm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){F(this,li).add(t);const r=ng(t);if(typeof r=="string"){const n=F(this,ra).get(r);n?n.push(t):F(this,ra).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,li).delete(t)){const r=ng(t);if(typeof r=="string"){const n=F(this,ra).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&F(this,ra).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ng(t);if(typeof r=="string"){const n=F(this,ra).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=ng(t);if(typeof r=="string"){const s=(n=F(this,ra).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zr.batch(()=>{F(this,li).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,li).clear(),F(this,ra).clear()})}getAll(){return Array.from(F(this,li))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>OE(r,n))}findAll(t={}){return this.getAll().filter(r=>OE(t,r))}notify(t){zr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return zr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Tn))))}},li=new WeakMap,ra=new WeakMap,Hm=new WeakMap,d$);function ng(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ci,uo,zn,ui,bi,Hg,t1,f$,T7=(f$=class extends Ld{constructor(r,n){super();Ve(this,bi);Ve(this,ci);Ve(this,uo);Ve(this,zn);Ve(this,ui);Pe(this,ci,r),this.setOptions(n),this.bindMethods(),ht(this,bi,Hg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=F(this,ci).defaultMutationOptions(r),Nv(this.options,n)||F(this,ci).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,zn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Zl(n.mutationKey)!==Zl(this.options.mutationKey)?this.reset():((s=F(this,zn))==null?void 0:s.state.status)==="pending"&&F(this,zn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,zn))==null||r.removeObserver(this)}onMutationUpdate(r){ht(this,bi,Hg).call(this),ht(this,bi,t1).call(this,r)}getCurrentResult(){return F(this,uo)}reset(){var r;(r=F(this,zn))==null||r.removeObserver(this),Pe(this,zn,void 0),ht(this,bi,Hg).call(this),ht(this,bi,t1).call(this)}mutate(r,n){var s;return Pe(this,ui,n),(s=F(this,zn))==null||s.removeObserver(this),Pe(this,zn,F(this,ci).getMutationCache().build(F(this,ci),this.options)),F(this,zn).addObserver(this),F(this,zn).execute(r)}},ci=new WeakMap,uo=new WeakMap,zn=new WeakMap,ui=new WeakMap,bi=new WeakSet,Hg=function(){var n;const r=((n=F(this,zn))==null?void 0:n.state)??Z4();Pe(this,uo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},t1=function(r){zr.batch(()=>{var n,s,i,o,l,c,u,d;if(F(this,ui)&&this.hasListeners()){const f=F(this,uo).variables,h=F(this,uo).context,p={client:F(this,ci),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=F(this,ui)).onSuccess)==null||s.call(n,r.data,f,h,p),(o=(i=F(this,ui)).onSettled)==null||o.call(i,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=F(this,ui)).onError)==null||c.call(l,r.error,f,h,p),(d=(u=F(this,ui)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(F(this,uo))})})},f$),Aa,h$,I7=(h$=class extends Ld{constructor(t={}){super();Ve(this,Aa);this.config=t,Pe(this,Aa,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??_N(s,r);let o=this.get(i);return o||(o=new N7({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){F(this,Aa).has(t.queryHash)||(F(this,Aa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=F(this,Aa).get(t.queryHash);r&&(t.destroy(),r===t&&F(this,Aa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,Aa).get(t)}getAll(){return[...F(this,Aa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>AE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>AE(t,n)):r}notify(t){zr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){zr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Aa=new WeakMap,h$),cr,fo,ho,Fu,Bu,mo,Uu,Vu,m$,R7=(m$=class{constructor(e={}){Ve(this,cr);Ve(this,fo);Ve(this,ho);Ve(this,Fu);Ve(this,Bu);Ve(this,mo);Ve(this,Uu);Ve(this,Vu);Pe(this,cr,e.queryCache||new I7),Pe(this,fo,e.mutationCache||new O7),Pe(this,ho,e.defaultOptions||{}),Pe(this,Fu,new Map),Pe(this,Bu,new Map),Pe(this,mo,0)}mount(){Lp(this,mo)._++,F(this,mo)===1&&(Pe(this,Uu,kN.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,cr).onFocus())})),Pe(this,Vu,kv.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,cr).onOnline())})))}unmount(){var e,t;Lp(this,mo)._--,F(this,mo)===0&&((e=F(this,Uu))==null||e.call(this),Pe(this,Uu,void 0),(t=F(this,Vu))==null||t.call(this),Pe(this,Vu,void 0))}isFetching(e){return F(this,cr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,fo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,cr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=F(this,cr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ko(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return F(this,cr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=F(this,cr).get(n.queryHash),i=s==null?void 0:s.state.data,o=p7(t,i);if(o!==void 0)return F(this,cr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return zr.batch(()=>F(this,cr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,cr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=F(this,cr);zr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=F(this,cr);return zr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=zr.batch(()=>F(this,cr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Tn).catch(Tn)}invalidateQueries(e,t={}){return zr.batch(()=>(F(this,cr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=zr.batch(()=>F(this,cr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Tn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=F(this,cr).build(this,t);return r.isStaleByTime(ko(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tn).catch(Tn)}fetchInfiniteQuery(e){return e.behavior=LE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tn).catch(Tn)}ensureInfiniteQueryData(e){return e.behavior=LE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return kv.isOnline()?F(this,fo).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,cr)}getMutationCache(){return F(this,fo)}getDefaultOptions(){return F(this,ho)}setDefaultOptions(e){Pe(this,ho,e)}setQueryDefaults(e,t){F(this,Fu).set(Zl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,Fu).values()],r={};return t.forEach(n=>{Mh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){F(this,Bu).set(Zl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,Bu).values()],r={};return t.forEach(n=>{Mh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,ho).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_N(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===NN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,ho).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,cr).clear(),F(this,fo).clear()}},cr=new WeakMap,fo=new WeakMap,ho=new WeakMap,Fu=new WeakMap,Bu=new WeakMap,mo=new WeakMap,Uu=new WeakMap,Vu=new WeakMap,m$),J4=v.createContext(void 0),eD=e=>{const t=v.useContext(J4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$7=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(J4.Provider,{value:e,children:t})),tD=v.createContext(!1),M7=()=>v.useContext(tD);tD.Provider;function D7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var L7=v.createContext(D7()),F7=()=>v.useContext(L7),B7=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},U7=e=>{v.useEffect(()=>{e.clearReset()},[e])},V7=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||H4(r,[e.error,n])),q7=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},z7=(e,t)=>e.isLoading&&e.isFetching&&!t,W7=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,BE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function H7(e,t,r){var f,h,p,x,m;const n=M7(),s=F7(),i=eD(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",q7(o),B7(o,s),U7(s);const l=!i.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(b=>{const y=d?c.subscribe(zr.batchCalls(b)):Tn;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o)},[o,c]),W7(o,u))throw BE(o,c,s);if(V7({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,o,u),o.experimental_prefetchInRender&&!Xl&&z7(u,n)){const b=l?BE(o,c,s):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;b==null||b.catch(Tn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function we(e,t){return H7(e,k7)}function Re(e,t){const r=eD(),[n]=v.useState(()=>new T7(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const s=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(zr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(Tn)},[n]);if(s.error&&H4(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function rD(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Oe(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await rD(n),n}const nD=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await rD(r),await r.json())},Se=new R7({defaultOptions:{queries:{queryFn:nD({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),K7=1,G7=1e6;let U0=0;function Y7(){return U0=(U0+1)%Number.MAX_SAFE_INTEGER,U0.toString()}const V0=new Map,UE=e=>{if(V0.has(e))return;const t=setTimeout(()=>{V0.delete(e),oh({type:"REMOVE_TOAST",toastId:e})},G7);V0.set(e,t)},Q7=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,K7)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?UE(r):e.toasts.forEach(n=>{UE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Kg=[];let Gg={toasts:[]};function oh(e){Gg=Q7(Gg,e),Kg.forEach(t=>{t(Gg)})}function X7({...e}){const t=Y7(),r=s=>oh({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>oh({type:"DISMISS_TOAST",toastId:t});return oh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Et(){const[e,t]=v.useState(Gg);return v.useEffect(()=>(Kg.push(t),()=>{const r=Kg.indexOf(t);r>-1&&Kg.splice(r,1)}),[e]),{...e,toast:X7,dismiss:r=>oh({type:"DISMISS_TOAST",toastId:r})}}function fe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function VE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Fn(...e){return t=>{let r=!1;const n=e.map(s=>{const i=VE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():VE(e[s],null)}}}}function Ze(...e){return v.useCallback(Fn(...e),e)}function Z7(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function gn(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...x}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=v.useMemo(()=>x,Object.values(x));return a.jsx(m.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,x=v.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,J7(s,...t)]}function J7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function qE(e){const t=eH(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(rH);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function eH(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=sH(s),l=nH(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Fn(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tH=Symbol("radix.slottable");function rH(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tH}function nH(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function sH(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Zm(e){const t=e+"CollectionProvider",[r,n]=gn(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:b,children:y}=m,g=M.useRef(null),w=M.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:w,collectionRef:g,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=qE(l),u=M.forwardRef((m,b)=>{const{scope:y,children:g}=m,w=i(l,y),_=Ze(b,w.collectionRef);return a.jsx(c,{ref:_,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=qE(d),p=M.forwardRef((m,b)=>{const{scope:y,children:g,...w}=m,_=M.useRef(null),j=Ze(b,_),S=i(d,y);return M.useEffect(()=>(S.itemMap.set(_,{ref:_,...w}),()=>void S.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:j,children:g})});p.displayName=d;function x(m){const b=i(e+"CollectionConsumer",m);return M.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((S,N)=>w.indexOf(S.ref.current)-w.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},x,n]}function aH(e){const t=iH(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(lH);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function iH(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=uH(s),l=cH(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Fn(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oH=Symbol("radix.slottable");function lH(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oH}function cH(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function uH(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=dH.reduce((e,t)=>{const r=aH(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function PN(e,t){e&&vc.flushSync(()=>e.dispatchEvent(t))}function mr(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function fH(e,t=globalThis==null?void 0:globalThis.document){const r=mr(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var hH="DismissableLayer",r1="dismissableLayer.update",mH="dismissableLayer.pointerDownOutside",pH="dismissableLayer.focusOutside",zE,sD=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(sD),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),x=Ze(t,N=>f(N)),m=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(b),g=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=y,j=vH(N=>{const k=N.target,C=[...u.branches].some(E=>E.contains(k));!_||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=yH(N=>{const k=N.target;[...u.branches].some(E=>E.contains(k))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return fH(N=>{g===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),WE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=zE)}},[d,h,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),WE())},[d,u]),v.useEffect(()=>{const N=()=>p({});return document.addEventListener(r1,N),()=>document.removeEventListener(r1,N)},[]),a.jsx(Ae.div,{...c,ref:x,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,S.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,j.onPointerDownCapture)})});yc.displayName=hH;var gH="DismissableLayerBranch",aD=v.forwardRef((e,t)=>{const r=v.useContext(sD),n=v.useRef(null),s=Ze(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Ae.div,{...e,ref:s})});aD.displayName=gH;function vH(e,t=globalThis==null?void 0:globalThis.document){const r=mr(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){iD(mH,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function yH(e,t=globalThis==null?void 0:globalThis.document){const r=mr(e),n=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!n.current&&iD(pH,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function WE(){const e=new CustomEvent(r1);document.dispatchEvent(e)}function iD(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?PN(s,i):s.dispatchEvent(i)}var xH=yc,bH=aD,pr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},wH="Portal",Fd=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=v.useState(!1);pr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?DW.createPortal(a.jsx(Ae.div,{...n,ref:t}),o):null});Fd.displayName=wH;function jH(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Qr=e=>{const{present:t,children:r}=e,n=SH(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=Ze(n.ref,_H(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};Qr.displayName="Presence";function SH(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=jH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=sg(n.current);i.current=l==="mounted"?u:"none"},[l]),pr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=sg(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),pr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=sg(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(i.current=sg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function sg(e){return(e==null?void 0:e.animationName)||"none"}function _H(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var NH=ix[" useInsertionEffect ".trim().toString()]||pr;function rs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=kH({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=v.useCallback(d=>{var f;if(l){const h=CH(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function kH({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return NH(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function CH(e){return typeof e=="function"}var oD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PH="VisuallyHidden",Sx=v.forwardRef((e,t)=>a.jsx(Ae.span,{...e,ref:t,style:{...oD,...e.style}}));Sx.displayName=PH;var EH=Sx,EN="ToastProvider",[AN,AH,OH]=Zm("Toast"),[lD]=gn("Toast",[OH]),[TH,_x]=lD(EN),cD=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${EN}\`. Expected non-empty \`string\`.`),a.jsx(AN.Provider,{scope:t,children:a.jsx(TH,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(p=>p+1),[]),onToastRemove:v.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};cD.displayName=EN;var uD="ToastViewport",IH=["F8"],n1="toast.viewportPause",s1="toast.viewportResume",dD=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=IH,label:s="Notifications ({hotkey})",...i}=e,o=_x(uD,r),l=AH(r),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=Ze(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const b=y=>{var w;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),v.useEffect(()=>{const b=c.current,y=f.current;if(x&&b&&y){const g=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(n1);y.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(s1);y.dispatchEvent(S),o.isClosePausedRef.current=!1}},_=S=>{!b.contains(S.relatedTarget)&&w()},j=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",g),b.addEventListener("focusout",_),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",j),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",j),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:b})=>{const g=l().map(w=>{const _=w.ref.current,j=[_,...HH(_)];return b==="forwards"?j:j.reverse()});return(b==="forwards"?g.reverse():g).flat()},[l]);return v.useEffect(()=>{const b=f.current;if(b){const y=g=>{var j,S,N;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const k=document.activeElement,C=g.shiftKey;if(g.target===b&&C){(j=u.current)==null||j.focus();return}const R=m({tabbingDirection:C?"backwards":"forwards"}),T=R.findIndex(I=>I===k);q0(R.slice(T+1))?g.preventDefault():C?(S=u.current)==null||S.focus():(N=d.current)==null||N.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,m]),a.jsxs(bH,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(a1,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});q0(b)}}),a.jsx(AN.Slot,{scope:r,children:a.jsx(Ae.ol,{tabIndex:-1,...i,ref:h})}),x&&a.jsx(a1,{ref:d,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});q0(b)}})]})});dD.displayName=uD;var fD="ToastFocusProxy",a1=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=_x(fD,r);return a.jsx(Sx,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});a1.displayName=fD;var Jm="Toast",RH="toast.swipeStart",$H="toast.swipeMove",MH="toast.swipeCancel",DH="toast.swipeEnd",hD=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=rs({prop:n,defaultProp:s??!0,onChange:i,caller:Jm});return a.jsx(Qr,{present:r||l,children:a.jsx(BH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:mr(e.onPause),onResume:mr(e.onResume),onSwipeStart:fe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:fe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});hD.displayName=Jm;var[LH,FH]=lD(Jm,{onClose(){}}),BH=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...x}=e,m=_x(Jm,r),[b,y]=v.useState(null),g=Ze(t,I=>y(I)),w=v.useRef(null),_=v.useRef(null),j=s||m.duration,S=v.useRef(0),N=v.useRef(j),k=v.useRef(0),{onToastAdd:C,onToastRemove:E}=m,A=mr(()=>{var O;(b==null?void 0:b.contains(document.activeElement))&&((O=m.viewport)==null||O.focus()),o()}),R=v.useCallback(I=>{!I||I===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(A,I))},[A]);v.useEffect(()=>{const I=m.viewport;if(I){const O=()=>{R(N.current),u==null||u()},D=()=>{const V=new Date().getTime()-S.current;N.current=N.current-V,window.clearTimeout(k.current),c==null||c()};return I.addEventListener(n1,D),I.addEventListener(s1,O),()=>{I.removeEventListener(n1,D),I.removeEventListener(s1,O)}}},[m.viewport,j,c,u,R]),v.useEffect(()=>{i&&!m.isClosePausedRef.current&&R(j)},[i,j,m.isClosePausedRef,R]),v.useEffect(()=>(C(),()=>E()),[C,E]);const T=v.useMemo(()=>b?bD(b):null,[b]);return m.viewport?a.jsxs(a.Fragment,{children:[T&&a.jsx(UH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:T}),a.jsx(LH,{scope:r,onClose:A,children:vc.createPortal(a.jsx(AN.ItemSlot,{scope:r,children:a.jsx(xH,{asChild:!0,onEscapeKeyDown:fe(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ae.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:fe(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:fe(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:fe(e.onPointerMove,I=>{if(!w.current)return;const O=I.clientX-w.current.x,D=I.clientY-w.current.y,V=!!_.current,P=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,K=P?$(0,O):0,te=P?0:$(0,D),B=I.pointerType==="touch"?10:2,G={x:K,y:te},re={originalEvent:I,delta:G};V?(_.current=G,ag($H,f,re,{discrete:!1})):HE(G,m.swipeDirection,B)?(_.current=G,ag(RH,d,re,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(O)>B||Math.abs(D)>B)&&(w.current=null)}),onPointerUp:fe(e.onPointerUp,I=>{const O=_.current,D=I.target;if(D.hasPointerCapture(I.pointerId)&&D.releasePointerCapture(I.pointerId),_.current=null,w.current=null,O){const V=I.currentTarget,P={originalEvent:I,delta:O};HE(O,m.swipeDirection,m.swipeThreshold)?ag(DH,p,P,{discrete:!0}):ag(MH,h,P,{discrete:!0}),V.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),UH=e=>{const{__scopeToast:t,children:r,...n}=e,s=_x(Jm,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return zH(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Fd,{asChild:!0,children:a.jsx(Sx,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},VH="ToastTitle",mD=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Ae.div,{...n,ref:t})});mD.displayName=VH;var qH="ToastDescription",pD=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Ae.div,{...n,ref:t})});pD.displayName=qH;var gD="ToastAction",vD=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(xD,{altText:r,asChild:!0,children:a.jsx(ON,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${gD}\`. Expected non-empty \`string\`.`),null)});vD.displayName=gD;var yD="ToastClose",ON=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=FH(yD,r);return a.jsx(xD,{asChild:!0,children:a.jsx(Ae.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,s.onClose)})})});ON.displayName=yD;var xD=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function bD(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),WH(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...bD(n))}}),t}function ag(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?PN(s,i):s.dispatchEvent(i)}var HE=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function zH(e=()=>{}){const t=mr(e);pr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function WH(e){return e.nodeType===e.ELEMENT_NODE}function HH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function q0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var KH=cD,wD=dD,jD=hD,SD=mD,_D=pD,ND=vD,kD=ON;function CD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=CD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ft(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=CD(e))&&(n&&(n+=" "),n+=t);return n}const KE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,GE=ft,ep=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return GE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=KE(d)||KE(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(x=>{let[m,b]=x;return Array.isArray(b)?b.includes({...i,...l}[m]):{...i,...l}[m]===b})?[...u,f,h]:u},[]);return GE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PD=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...YH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:PD("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(e,t)=>{const r=v.forwardRef(({className:n,...s},i)=>v.createElement(QH,{ref:i,iconNode:t,className:PD(`lucide-${GH(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=ue("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=ue("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=ue("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=ue("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=ue("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=ue("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=ue("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=ue("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=ue("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=ue("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ue("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=ue("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=ue("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=ue("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ue("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=ue("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=ue("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=ue("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=ue("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ue("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=ue("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=ue("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=ue("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=ue("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=ue("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=ue("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=ue("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=ue("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ue("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=ue("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=ue("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=ue("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=ue("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=ue("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=ue("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=ue("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=ue("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ue("Spade",[["path",{d:"M5 9c-1.5 1.5-3 3.2-3 5.5A5.5 5.5 0 0 0 7.5 20c1.8 0 3-.5 4.5-2 1.5 1.5 2.7 2 4.5 2a5.5 5.5 0 0 0 5.5-5.5c0-2.3-1.5-4-3-5.5l-7-7-7 7Z",key:"40bo9n"}],["path",{d:"M12 18v4",key:"jadmvz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=ue("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=ue("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=ue("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=ue("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ue("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=ue("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=ue("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_K=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},NK=(e,t)=>({classGroupId:e,validator:t}),BD=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Av="-",rA=[],kK="arbitrary..",CK=e=>{const t=EK(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return PK(o);const l=o.split(Av),c=l[0]===""&&l.length>1?1:0;return UD(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],u=r[o];return c?u?_K(u,c):c:u||rA}return r[o]||rA}}},UD=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],i=r.nextPart.get(s);if(i){const u=UD(e,t+1,i);if(u)return u}const o=r.validators;if(o===null)return;const l=t===0?e.join(Av):e.slice(t).join(Av),c=o.length;for(let u=0;u<c;u++){const d=o[u];if(d.validator(l))return d.classGroupId}},PK=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?kK+n:void 0})(),EK=e=>{const{theme:t,classGroups:r}=e;return AK(r,t)},AK=(e,t)=>{const r=BD();for(const n in e){const s=e[n];BN(s,r,n,t)}return r},BN=(e,t,r,n)=>{const s=e.length;for(let i=0;i<s;i++){const o=e[i];OK(o,t,r,n)}},OK=(e,t,r,n)=>{if(typeof e=="string"){TK(e,t,r);return}if(typeof e=="function"){IK(e,t,r,n);return}RK(e,t,r,n)},TK=(e,t,r)=>{const n=e===""?t:VD(t,e);n.classGroupId=r},IK=(e,t,r,n)=>{if($K(e)){BN(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(NK(r,e))},RK=(e,t,r,n)=>{const s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[l,c]=s[o];BN(c,VD(t,l),r,n)}},VD=(e,t)=>{let r=e;const n=t.split(Av),s=n.length;for(let i=0;i<s;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=BD(),r.nextPart.set(o,l)),r=l}return r},$K=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,MK=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const s=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return s(i,o),o},set(i,o){i in r?r[i]=o:s(i,o)}}},c1="!",nA=":",DK=[],sA=(e,t,r,n,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:s}),LK=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const i=[];let o=0,l=0,c=0,u;const d=s.length;for(let m=0;m<d;m++){const b=s[m];if(o===0&&l===0){if(b===nA){i.push(s.slice(c,m)),c=m+1;continue}if(b==="/"){u=m;continue}}b==="["?o++:b==="]"?o--:b==="("?l++:b===")"&&l--}const f=i.length===0?s:s.slice(c);let h=f,p=!1;f.endsWith(c1)?(h=f.slice(0,-1),p=!0):f.startsWith(c1)&&(h=f.slice(1),p=!0);const x=u&&u>c?u-c:void 0;return sA(i,p,h,x)};if(t){const s=t+nA,i=n;n=o=>o.startsWith(s)?i(o.slice(s.length)):sA(DK,!1,o,void 0,!0)}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},FK=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let s=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",c=t.has(o);l||c?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(o)):s.push(o)}return s.length>0&&(s.sort(),n.push(...s)),n}},BK=e=>({cache:MK(e.cacheSize),parseClassName:LK(e),sortModifiers:FK(e),...CK(e)}),UK=/\s+/,VK=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],l=e.trim().split(UK);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let b=!!m,y=n(b?x.substring(0,m):x);if(!y){if(!b){c=d+(c.length>0?" "+c:c);continue}if(y=n(x),!y){c=d+(c.length>0?" "+c:c);continue}b=!1}const g=h.length===0?"":h.length===1?h[0]:i(h).join(":"),w=p?g+c1:g,_=w+y;if(o.indexOf(_)>-1)continue;o.push(_);const j=s(y,b);for(let S=0;S<j.length;++S){const N=j[S];o.push(w+N)}c=d+(c.length>0?" "+c:c)}return c},qK=(...e)=>{let t=0,r,n,s="";for(;t<e.length;)(r=e[t++])&&(n=qD(r))&&(s&&(s+=" "),s+=n);return s},qD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=qD(e[n]))&&(r&&(r+=" "),r+=t);return r},zK=(e,...t)=>{let r,n,s,i;const o=c=>{const u=t.reduce((d,f)=>f(d),e());return r=BK(u),n=r.cache.get,s=r.cache.set,i=l,l(c)},l=c=>{const u=n(c);if(u)return u;const d=VK(c,r);return s(c,d),d};return i=o,(...c)=>i(qK(...c))},WK=[],Lr=e=>{const t=r=>r[e]||WK;return t.isThemeGetter=!0,t},zD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,WD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,HK=/^\d+\/\d+$/,KK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,QK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oc=e=>HK.test(e),mt=e=>!!e&&!Number.isNaN(Number(e)),Wi=e=>!!e&&Number.isInteger(Number(e)),W0=e=>e.endsWith("%")&&mt(e.slice(0,-1)),Ja=e=>KK.test(e),ZK=()=>!0,JK=e=>GK.test(e)&&!YK.test(e),HD=()=>!1,eG=e=>QK.test(e),tG=e=>XK.test(e),rG=e=>!$e(e)&&!Me(e),nG=e=>Bd(e,YD,HD),$e=e=>zD.test(e),rl=e=>Bd(e,QD,JK),H0=e=>Bd(e,lG,mt),aA=e=>Bd(e,KD,HD),sG=e=>Bd(e,GD,tG),ig=e=>Bd(e,XD,eG),Me=e=>WD.test(e),jf=e=>Ud(e,QD),aG=e=>Ud(e,cG),iA=e=>Ud(e,KD),iG=e=>Ud(e,YD),oG=e=>Ud(e,GD),og=e=>Ud(e,XD,!0),Bd=(e,t,r)=>{const n=zD.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Ud=(e,t,r=!1)=>{const n=WD.exec(e);return n?n[1]?t(n[1]):r:!1},KD=e=>e==="position"||e==="percentage",GD=e=>e==="image"||e==="url",YD=e=>e==="length"||e==="size"||e==="bg-size",QD=e=>e==="length",lG=e=>e==="number",cG=e=>e==="family-name",XD=e=>e==="shadow",uG=()=>{const e=Lr("color"),t=Lr("font"),r=Lr("text"),n=Lr("font-weight"),s=Lr("tracking"),i=Lr("leading"),o=Lr("breakpoint"),l=Lr("container"),c=Lr("spacing"),u=Lr("radius"),d=Lr("shadow"),f=Lr("inset-shadow"),h=Lr("text-shadow"),p=Lr("drop-shadow"),x=Lr("blur"),m=Lr("perspective"),b=Lr("aspect"),y=Lr("ease"),g=Lr("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[..._(),Me,$e],S=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],k=()=>[Me,$e,c],C=()=>[Oc,"full","auto",...k()],E=()=>[Wi,"none","subgrid",Me,$e],A=()=>["auto",{span:["full",Wi,Me,$e]},Wi,Me,$e],R=()=>[Wi,"auto",Me,$e],T=()=>["auto","min","max","fr",Me,$e],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...k()],V=()=>[Oc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],P=()=>[e,Me,$e],$=()=>[..._(),iA,aA,{position:[Me,$e]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",iG,nG,{size:[Me,$e]}],B=()=>[W0,jf,rl],G=()=>["","none","full",u,Me,$e],re=()=>["",mt,jf,rl],ae=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[mt,W0,iA,aA],ie=()=>["","none",x,Me,$e],Y=()=>["none",mt,Me,$e],Q=()=>["none",mt,Me,$e],se=()=>[mt,Me,$e],W=()=>[Oc,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ja],breakpoint:[Ja],color:[ZK],container:[Ja],"drop-shadow":[Ja],ease:["in","out","in-out"],font:[rG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ja],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ja],shadow:[Ja],spacing:["px",mt],text:[Ja],"text-shadow":[Ja],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Oc,$e,Me,b]}],container:["container"],columns:[{columns:[mt,$e,Me,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Wi,"auto",Me,$e]}],basis:[{basis:[Oc,"full","auto",l,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mt,Oc,"auto","initial","none",$e]}],grow:[{grow:["",mt,Me,$e]}],shrink:[{shrink:["",mt,Me,$e]}],order:[{order:[Wi,"first","last","none",Me,$e]}],"grid-cols":[{"grid-cols":E()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":E()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[l,"screen",...V()]}],"min-w":[{"min-w":[l,"screen","none",...V()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",r,jf,rl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Me,H0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",W0,$e]}],"font-family":[{font:[aG,$e,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Me,$e]}],"line-clamp":[{"line-clamp":[mt,"none",Me,H0]}],leading:[{leading:[i,...k()]}],"list-image":[{"list-image":["none",Me,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[mt,"from-font","auto",Me,rl]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[mt,"auto",Me,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wi,Me,$e],radial:["",Me,$e],conic:[Wi,Me,$e]},oG,sG]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mt,Me,$e]}],"outline-w":[{outline:["",mt,jf,rl]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",d,og,ig]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",f,og,ig]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[mt,rl]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",h,og,ig]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[mt,Me,$e]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[Me,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,$e]}],filter:[{filter:["","none",Me,$e]}],blur:[{blur:ie()}],brightness:[{brightness:[mt,Me,$e]}],contrast:[{contrast:[mt,Me,$e]}],"drop-shadow":[{"drop-shadow":["","none",p,og,ig]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",mt,Me,$e]}],"hue-rotate":[{"hue-rotate":[mt,Me,$e]}],invert:[{invert:["",mt,Me,$e]}],saturate:[{saturate:[mt,Me,$e]}],sepia:[{sepia:["",mt,Me,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,$e]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[mt,Me,$e]}],"backdrop-contrast":[{"backdrop-contrast":[mt,Me,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mt,Me,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt,Me,$e]}],"backdrop-invert":[{"backdrop-invert":["",mt,Me,$e]}],"backdrop-opacity":[{"backdrop-opacity":[mt,Me,$e]}],"backdrop-saturate":[{"backdrop-saturate":[mt,Me,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",mt,Me,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mt,"initial",Me,$e]}],ease:[{ease:["linear","initial",y,Me,$e]}],delay:[{delay:[mt,Me,$e]}],animate:[{animate:["none",g,Me,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Me,$e]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:Y()}],"rotate-x":[{"rotate-x":Y()}],"rotate-y":[{"rotate-y":Y()}],"rotate-z":[{"rotate-z":Y()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:se()}],"skew-x":[{"skew-x":se()}],"skew-y":[{"skew-y":se()}],transform:[{transform:[Me,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,$e]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[mt,jf,rl,H0]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dG=zK(uG);function ce(...e){return dG(ft(e))}const fG=KH,ZD=v.forwardRef(({className:e,...t},r)=>a.jsx(wD,{ref:r,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ZD.displayName=wD.displayName;const hG=ep("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),JD=v.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(jD,{ref:n,className:ce(hG({variant:t}),e),...r}));JD.displayName=jD.displayName;const mG=v.forwardRef(({className:e,...t},r)=>a.jsx(ND,{ref:r,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));mG.displayName=ND.displayName;const eL=v.forwardRef(({className:e,...t},r)=>a.jsx(kD,{ref:r,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Ju,{className:"h-4 w-4"})}));eL.displayName=kD.displayName;const tL=v.forwardRef(({className:e,...t},r)=>a.jsx(SD,{ref:r,className:ce("text-sm font-semibold",e),...t}));tL.displayName=SD.displayName;const rL=v.forwardRef(({className:e,...t},r)=>a.jsx(_D,{ref:r,className:ce("text-sm opacity-90",e),...t}));rL.displayName=_D.displayName;function pG(){const{toasts:e}=Et();return a.jsxs(fG,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(JD,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(tL,{children:r}),n&&a.jsx(rL,{children:n})]}),s,a.jsx(eL,{})]},t)}),a.jsx(ZD,{})]})}var gG=ix[" useId ".trim().toString()]||(()=>{}),vG=0;function Er(e){const[t,r]=v.useState(gG());return pr(()=>{r(n=>n??String(vG++))},[e]),t?`radix-${t}`:""}const yG=["top","right","bottom","left"],$o=Math.min,fs=Math.max,Ov=Math.round,lg=Math.floor,Da=e=>({x:e,y:e}),xG={left:"right",right:"left",bottom:"top",top:"bottom"},bG={start:"end",end:"start"};function u1(e,t,r){return fs(e,$o(t,r))}function Ci(e,t){return typeof e=="function"?e(t):e}function Pi(e){return e.split("-")[0]}function Vd(e){return e.split("-")[1]}function UN(e){return e==="x"?"y":"x"}function VN(e){return e==="y"?"height":"width"}const wG=new Set(["top","bottom"]);function Ia(e){return wG.has(Pi(e))?"y":"x"}function qN(e){return UN(Ia(e))}function jG(e,t,r){r===void 0&&(r=!1);const n=Vd(e),s=qN(e),i=VN(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Tv(o)),[o,Tv(o)]}function SG(e){const t=Tv(e);return[d1(e),t,d1(t)]}function d1(e){return e.replace(/start|end/g,t=>bG[t])}const oA=["left","right"],lA=["right","left"],_G=["top","bottom"],NG=["bottom","top"];function kG(e,t,r){switch(e){case"top":case"bottom":return r?t?lA:oA:t?oA:lA;case"left":case"right":return t?_G:NG;default:return[]}}function CG(e,t,r,n){const s=Vd(e);let i=kG(Pi(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(d1)))),i}function Tv(e){return e.replace(/left|right|bottom|top/g,t=>xG[t])}function PG(e){return{top:0,right:0,bottom:0,left:0,...e}}function nL(e){return typeof e!="number"?PG(e):{top:e,right:e,bottom:e,left:e}}function Iv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function cA(e,t,r){let{reference:n,floating:s}=e;const i=Ia(t),o=qN(t),l=VN(o),c=Pi(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Vd(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const EG=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=cA(u,n,c),h=n,p={},x=0;for(let m=0;m<l.length;m++){const{name:b,fn:y}=l[m],{x:g,y:w,data:_,reset:j}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=w??f,p={...p,[b]:{...p[b],..._}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=cA(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Uh(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ci(t,e),x=nL(p),b=l[h?f==="floating"?"reference":"floating":f],y=Iv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Iv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:w,strategy:c}):g);return{top:(y.top-j.top+x.top)/_.y,bottom:(j.bottom-y.bottom+x.bottom)/_.y,left:(y.left-j.left+x.left)/_.x,right:(j.right-y.right+x.right)/_.x}}const AG=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ci(e,t)||{};if(u==null)return{};const f=nL(d),h={x:r,y:n},p=qN(s),x=VN(p),m=await o.getDimensions(u),b=p==="y",y=b?"top":"left",g=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[p]-h[p]-i.floating[x],j=h[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[w]||i.floating[x]);const k=_/2-j/2,C=N/2-m[x]/2-1,E=$o(f[y],C),A=$o(f[g],C),R=E,T=N-m[x]-A,I=N/2-m[x]/2+k,O=u1(R,I,T),D=!c.arrow&&Vd(s)!=null&&I!==O&&i.reference[x]/2-(I<R?E:A)-m[x]/2<0,V=D?I<R?I-R:I-T:0;return{[p]:h[p]+V,data:{[p]:O,centerOffset:I-O-V,...D&&{alignmentOffset:V}},reset:D}}}),OG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...b}=Ci(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Pi(s),g=Ia(l),w=Pi(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!m?[Tv(l)]:SG(l)),S=x!=="none";!h&&S&&j.push(...CG(l,m,x,_));const N=[l,...j],k=await Uh(t,b),C=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[y]),f){const I=jG(s,o,_);C.push(k[I[0]],k[I[1]])}if(E=[...E,{placement:s,overflows:C}],!C.every(I=>I<=0)){var A,R;const I=(((A=i.flip)==null?void 0:A.index)||0)+1,O=N[I];if(O&&(!(f==="alignment"?g!==Ia(O):!1)||E.every(P=>Ia(P.placement)===g?P.overflows[0]>0:!0)))return{data:{index:I,overflows:E},reset:{placement:O}};let D=(R=E.filter(V=>V.overflows[0]<=0).sort((V,P)=>V.overflows[1]-P.overflows[1])[0])==null?void 0:R.placement;if(!D)switch(p){case"bestFit":{var T;const V=(T=E.filter(P=>{if(S){const $=Ia(P.placement);return $===g||$==="y"}return!0}).map(P=>[P.placement,P.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((P,$)=>P[1]-$[1])[0])==null?void 0:T[0];V&&(D=V);break}case"initialPlacement":D=l;break}if(s!==D)return{reset:{placement:D}}}return{}}}};function uA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dA(e){return yG.some(t=>e[t]>=0)}const TG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ci(e,t);switch(n){case"referenceHidden":{const i=await Uh(t,{...s,elementContext:"reference"}),o=uA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dA(o)}}}case"escaped":{const i=await Uh(t,{...s,altBoundary:!0}),o=uA(i,r.floating);return{data:{escapedOffsets:o,escaped:dA(o)}}}default:return{}}}}},sL=new Set(["left","top"]);async function IG(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Pi(r),l=Vd(r),c=Ia(r)==="y",u=sL.has(o)?-1:1,d=i&&c?-1:1,f=Ci(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const RG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await IG(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},$G=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:y,y:g}=b;return{x:y,y:g}}},...c}=Ci(e,t),u={x:r,y:n},d=await Uh(t,c),f=Ia(Pi(s)),h=UN(f);let p=u[h],x=u[f];if(i){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=p+d[b],w=p-d[y];p=u1(g,p,w)}if(o){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=x+d[b],w=x-d[y];x=u1(g,x,w)}const m=l.fn({...t,[h]:p,[f]:x});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},MG=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ci(e,t),d={x:r,y:n},f=Ia(s),h=UN(f);let p=d[h],x=d[f];const m=Ci(l,t),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+b.mainAxis,j=i.reference[h]+i.reference[w]-b.mainAxis;p<_?p=_:p>j&&(p=j)}if(u){var y,g;const w=h==="y"?"width":"height",_=sL.has(Pi(s)),j=i.reference[f]-i.floating[w]+(_&&((y=o.offset)==null?void 0:y[f])||0)+(_?0:b.crossAxis),S=i.reference[f]+i.reference[w]+(_?0:((g=o.offset)==null?void 0:g[f])||0)-(_?b.crossAxis:0);x<j?x=j:x>S&&(x=S)}return{[h]:p,[f]:x}}}},DG=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ci(e,t),d=await Uh(t,u),f=Pi(s),h=Vd(s),p=Ia(s)==="y",{width:x,height:m}=i.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,b=h==="end"?"top":"bottom");const g=m-d.top-d.bottom,w=x-d.left-d.right,_=$o(m-d[b],g),j=$o(x-d[y],w),S=!t.middlewareData.shift;let N=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=g),S&&!h){const E=fs(d.left,0),A=fs(d.right,0),R=fs(d.top,0),T=fs(d.bottom,0);p?k=x-2*(E!==0||A!==0?E+A:fs(d.left,d.right)):N=m-2*(R!==0||T!==0?R+T:fs(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return x!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function Cx(){return typeof window<"u"}function qd(e){return aL(e)?(e.nodeName||"").toLowerCase():"#document"}function bs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ka(e){var t;return(t=(aL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function aL(e){return Cx()?e instanceof Node||e instanceof bs(e).Node:!1}function ya(e){return Cx()?e instanceof Element||e instanceof bs(e).Element:!1}function Ua(e){return Cx()?e instanceof HTMLElement||e instanceof bs(e).HTMLElement:!1}function fA(e){return!Cx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bs(e).ShadowRoot}const LG=new Set(["inline","contents"]);function sp(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=xa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!LG.has(s)}const FG=new Set(["table","td","th"]);function BG(e){return FG.has(qd(e))}const UG=[":popover-open",":modal"];function Px(e){return UG.some(t=>{try{return e.matches(t)}catch{return!1}})}const VG=["transform","translate","scale","rotate","perspective"],qG=["transform","translate","scale","rotate","perspective","filter"],zG=["paint","layout","strict","content"];function zN(e){const t=WN(),r=ya(e)?xa(e):e;return VG.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||qG.some(n=>(r.willChange||"").includes(n))||zG.some(n=>(r.contain||"").includes(n))}function WG(e){let t=Mo(e);for(;Ua(t)&&!ed(t);){if(zN(t))return t;if(Px(t))return null;t=Mo(t)}return null}function WN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HG=new Set(["html","body","#document"]);function ed(e){return HG.has(qd(e))}function xa(e){return bs(e).getComputedStyle(e)}function Ex(e){return ya(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mo(e){if(qd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fA(e)&&e.host||Ka(e);return fA(t)?t.host:t}function iL(e){const t=Mo(e);return ed(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ua(t)&&sp(t)?t:iL(t)}function Vh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=iL(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=bs(s);if(i){const l=f1(o);return t.concat(o,o.visualViewport||[],sp(s)?s:[],l&&r?Vh(l):[])}return t.concat(s,Vh(s,[],r))}function f1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function oL(e){const t=xa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ua(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Ov(r)!==i||Ov(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function HN(e){return ya(e)?e:e.contextElement}function _u(e){const t=HN(e);if(!Ua(t))return Da(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=oL(t);let o=(i?Ov(r.width):r.width)/n,l=(i?Ov(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const KG=Da(0);function lL(e){const t=bs(e);return!WN()||!t.visualViewport?KG:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GG(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==bs(e)?!1:t}function ec(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=HN(e);let o=Da(1);t&&(n?ya(n)&&(o=_u(n)):o=_u(e));const l=GG(i,r,n)?lL(i):Da(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=bs(i),p=n&&ya(n)?bs(n):n;let x=h,m=f1(x);for(;m&&n&&p!==x;){const b=_u(m),y=m.getBoundingClientRect(),g=xa(m),w=y.left+(m.clientLeft+parseFloat(g.paddingLeft))*b.x,_=y.top+(m.clientTop+parseFloat(g.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=_,x=bs(m),m=f1(x)}}return Iv({width:d,height:f,x:c,y:u})}function Ax(e,t){const r=Ex(e).scrollLeft;return t?t.left+r:ec(Ka(e)).left+r}function cL(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Ax(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function YG(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Ka(n),l=t?Px(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Da(1);const d=Da(0),f=Ua(n);if((f||!f&&!i)&&((qd(n)!=="body"||sp(o))&&(c=Ex(n)),Ua(n))){const p=ec(n);u=_u(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?cL(o,c):Da(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function QG(e){return Array.from(e.getClientRects())}function XG(e){const t=Ka(e),r=Ex(e),n=e.ownerDocument.body,s=fs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=fs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ax(e);const l=-r.scrollTop;return xa(n).direction==="rtl"&&(o+=fs(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const hA=25;function ZG(e,t){const r=bs(e),n=Ka(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=WN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Ax(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,x=Math.abs(n.clientWidth-f.clientWidth-p);x<=hA&&(i-=x)}else u<=hA&&(i+=u);return{width:i,height:o,x:l,y:c}}const JG=new Set(["absolute","fixed"]);function eY(e,t){const r=ec(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Ua(e)?_u(e):Da(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function mA(e,t,r){let n;if(t==="viewport")n=ZG(e,r);else if(t==="document")n=XG(Ka(e));else if(ya(t))n=eY(t,r);else{const s=lL(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Iv(n)}function uL(e,t){const r=Mo(e);return r===t||!ya(r)||ed(r)?!1:xa(r).position==="fixed"||uL(r,t)}function tY(e,t){const r=t.get(e);if(r)return r;let n=Vh(e,[],!1).filter(l=>ya(l)&&qd(l)!=="body"),s=null;const i=xa(e).position==="fixed";let o=i?Mo(e):e;for(;ya(o)&&!ed(o);){const l=xa(o),c=zN(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&JG.has(s.position)||sp(o)&&!c&&uL(e,o))?n=n.filter(d=>d!==o):s=l,o=Mo(o)}return t.set(e,n),n}function rY(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Px(t)?[]:tY(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=mA(t,d,s);return u.top=fs(f.top,u.top),u.right=$o(f.right,u.right),u.bottom=$o(f.bottom,u.bottom),u.left=fs(f.left,u.left),u},mA(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nY(e){const{width:t,height:r}=oL(e);return{width:t,height:r}}function sY(e,t,r){const n=Ua(t),s=Ka(t),i=r==="fixed",o=ec(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Da(0);function u(){c.x=Ax(s)}if(n||!n&&!i)if((qd(t)!=="body"||sp(s))&&(l=Ex(t)),n){const p=ec(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?cL(s,l):Da(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function K0(e){return xa(e).position==="static"}function pA(e,t){if(!Ua(e)||xa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ka(e)===r&&(r=r.ownerDocument.body),r}function dL(e,t){const r=bs(e);if(Px(e))return r;if(!Ua(e)){let s=Mo(e);for(;s&&!ed(s);){if(ya(s)&&!K0(s))return s;s=Mo(s)}return r}let n=pA(e,t);for(;n&&BG(n)&&K0(n);)n=pA(n,t);return n&&ed(n)&&K0(n)&&!zN(n)?r:n||WG(e)||r}const aY=async function(e){const t=this.getOffsetParent||dL,r=this.getDimensions,n=await r(e.floating);return{reference:sY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function iY(e){return xa(e).direction==="rtl"}const oY={convertOffsetParentRelativeRectToViewportRelativeRect:YG,getDocumentElement:Ka,getClippingRect:rY,getOffsetParent:dL,getElementRects:aY,getClientRects:QG,getDimensions:nY,getScale:_u,isElement:ya,isRTL:iY};function fL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lY(e,t){let r=null,n;const s=Ka(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const x=lg(f),m=lg(s.clientWidth-(d+h)),b=lg(s.clientHeight-(f+p)),y=lg(d),w={rootMargin:-x+"px "+-m+"px "+-b+"px "+-y+"px",threshold:fs(0,$o(1,c))||1};let _=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!fL(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function cY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=HN(e),d=s||i?[...u?Vh(u):[],...Vh(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&l?lY(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let x,m=c?ec(e):null;c&&b();function b(){const y=ec(e);m&&!fL(m,y)&&r(),m=y,x=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(g=>{s&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const uY=RG,dY=$G,fY=OG,hY=DG,mY=TG,gA=AG,pY=MG,gY=(e,t,r)=>{const n=new Map,s={platform:oY,...r},i={...s.platform,_c:n};return EG(e,t,{...s,platform:i})};var vY=typeof document<"u",yY=function(){},Yg=vY?v.useLayoutEffect:yY;function Rv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Rv(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Rv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function hL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vA(e,t){const r=hL(e);return Math.round(t*r)/r}function G0(e){const t=v.useRef(e);return Yg(()=>{t.current=e}),t}function xY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=v.useState(n);Rv(h,n)||p(n);const[x,m]=v.useState(null),[b,y]=v.useState(null),g=v.useCallback(P=>{P!==S.current&&(S.current=P,m(P))},[]),w=v.useCallback(P=>{P!==N.current&&(N.current=P,y(P))},[]),_=i||x,j=o||b,S=v.useRef(null),N=v.useRef(null),k=v.useRef(d),C=c!=null,E=G0(c),A=G0(s),R=G0(u),T=v.useCallback(()=>{if(!S.current||!N.current)return;const P={placement:t,strategy:r,middleware:h};A.current&&(P.platform=A.current),gY(S.current,N.current,P).then($=>{const K={...$,isPositioned:R.current!==!1};I.current&&!Rv(k.current,K)&&(k.current=K,vc.flushSync(()=>{f(K)}))})},[h,t,r,A,R]);Yg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const I=v.useRef(!1);Yg(()=>(I.current=!0,()=>{I.current=!1}),[]),Yg(()=>{if(_&&(S.current=_),j&&(N.current=j),_&&j){if(E.current)return E.current(_,j,T);T()}},[_,j,T,E,C]);const O=v.useMemo(()=>({reference:S,floating:N,setReference:g,setFloating:w}),[g,w]),D=v.useMemo(()=>({reference:_,floating:j}),[_,j]),V=v.useMemo(()=>{const P={position:r,left:0,top:0};if(!D.floating)return P;const $=vA(D.floating,d.x),K=vA(D.floating,d.y);return l?{...P,transform:"translate("+$+"px, "+K+"px)",...hL(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:K}},[r,l,D.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:T,refs:O,elements:D,floatingStyles:V}),[d,T,O,D,V])}const bY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?gA({element:n.current,padding:s}).fn(r):{}:n?gA({element:n,padding:s}).fn(r):{}}}},wY=(e,t)=>({...uY(e),options:[e,t]}),jY=(e,t)=>({...dY(e),options:[e,t]}),SY=(e,t)=>({...pY(e),options:[e,t]}),_Y=(e,t)=>({...fY(e),options:[e,t]}),NY=(e,t)=>({...hY(e),options:[e,t]}),kY=(e,t)=>({...mY(e),options:[e,t]}),CY=(e,t)=>({...bY(e),options:[e,t]});var PY="Arrow",mL=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Ae.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});mL.displayName=PY;var EY=mL;function KN(e){const[t,r]=v.useState(void 0);return pr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var GN="Popper",[pL,Wo]=gn(GN),[AY,gL]=pL(GN),vL=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return a.jsx(AY,{scope:t,anchor:n,onAnchorChange:s,children:r})};vL.displayName=GN;var yL="PopperAnchor",xL=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=gL(yL,r),o=v.useRef(null),l=Ze(t,o),c=v.useRef(null);return v.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Ae.div,{...s,ref:l})});xL.displayName=yL;var YN="PopperContent",[OY,TY]=pL(YN),bL=v.forwardRef((e,t)=>{var J,ie,Y,Q,se,W;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...m}=e,b=gL(YN,r),[y,g]=v.useState(null),w=Ze(t,z=>g(z)),[_,j]=v.useState(null),S=KN(_),N=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,C=n+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],R=A.length>0,T={padding:E,boundary:A.filter(RY),altBoundary:R},{refs:I,floatingStyles:O,placement:D,isPositioned:V,middlewareData:P}=xY({strategy:"fixed",placement:C,whileElementsMounted:(...z)=>cY(...z,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[wY({mainAxis:s+k,alignmentAxis:o}),c&&jY({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?SY():void 0,...T}),c&&_Y({...T}),NY({...T,apply:({elements:z,rects:oe,availableWidth:qe,availableHeight:Ge})=>{const{width:at,height:Yt}=oe.reference,_t=z.floating.style;_t.setProperty("--radix-popper-available-width",`${qe}px`),_t.setProperty("--radix-popper-available-height",`${Ge}px`),_t.setProperty("--radix-popper-anchor-width",`${at}px`),_t.setProperty("--radix-popper-anchor-height",`${Yt}px`)}}),_&&CY({element:_,padding:l}),$Y({arrowWidth:N,arrowHeight:k}),h&&kY({strategy:"referenceHidden",...T})]}),[$,K]=SL(D),te=mr(x);pr(()=>{V&&(te==null||te())},[V,te]);const B=(J=P.arrow)==null?void 0:J.x,G=(ie=P.arrow)==null?void 0:ie.y,re=((Y=P.arrow)==null?void 0:Y.centerOffset)!==0,[ae,ke]=v.useState();return pr(()=>{y&&ke(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:V?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(Q=P.transformOrigin)==null?void 0:Q.x,(se=P.transformOrigin)==null?void 0:se.y].join(" "),...((W=P.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(OY,{scope:r,placedSide:$,onArrowChange:j,arrowX:B,arrowY:G,shouldHideArrow:re,children:a.jsx(Ae.div,{"data-side":$,"data-align":K,...m,ref:w,style:{...m.style,animation:V?void 0:"none"}})})})});bL.displayName=YN;var wL="PopperArrow",IY={top:"bottom",right:"left",bottom:"top",left:"right"},jL=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=TY(wL,n),o=IY[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(EY,{...s,ref:r,style:{...s.style,display:"block"}})})});jL.displayName=wL;function RY(e){return e!==null}var $Y=e=>({name:"transformOrigin",options:e,fn(t){var b,y,g;const{placement:r,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=SL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=o?f:`${h}px`,m=`${-c}px`):u==="top"?(x=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(x=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x,y:m}}}});function SL(e){const[t,r="center"]=e.split("-");return[t,r]}var Ox=vL,ap=xL,Tx=bL,Ix=jL,MY=Symbol("radix.slottable");function DY(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=MY,t}var[Rx]=gn("Tooltip",[Wo]),$x=Wo(),_L="TooltipProvider",LY=700,h1="tooltip.open",[FY,QN]=Rx(_L),NL=e=>{const{__scopeTooltip:t,delayDuration:r=LY,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(FY,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};NL.displayName=_L;var qh="Tooltip",[BY,Mx]=Rx(qh),kL=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=QN(qh,e.__scopeTooltip),u=$x(t),[d,f]=v.useState(null),h=Er(),p=v.useRef(0),x=o??c.disableHoverableContent,m=l??c.delayDuration,b=v.useRef(!1),[y,g]=rs({prop:n,defaultProp:s??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(h1))):c.onClose(),i==null||i(N)},caller:qh}),w=v.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),_=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,g(!0)},[g]),j=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g(!1)},[g]),S=v.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,g(!0),p.current=0},m)},[m,g]);return v.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx(Ox,{...u,children:a.jsx(BY,{scope:t,contentId:h,open:y,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayedRef.current?S():_()},[c.isOpenDelayedRef,S,_]),onTriggerLeave:v.useCallback(()=>{x?j():(window.clearTimeout(p.current),p.current=0)},[j,x]),onOpen:_,onClose:j,disableHoverableContent:x,children:r})})};kL.displayName=qh;var m1="TooltipTrigger",CL=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Mx(m1,r),i=QN(m1,r),o=$x(r),l=v.useRef(null),c=Ze(t,l,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(ap,{asChild:!0,...o,children:a.jsx(Ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:fe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:fe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:fe(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:fe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:fe(e.onBlur,s.onClose),onClick:fe(e.onClick,s.onClose)})})});CL.displayName=m1;var UY="TooltipPortal",[S$e,VY]=Rx(UY,{forceMount:void 0}),td="TooltipContent",PL=v.forwardRef((e,t)=>{const r=VY(td,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=Mx(td,e.__scopeTooltip);return a.jsx(Qr,{present:n||o.open,children:o.disableHoverableContent?a.jsx(EL,{side:s,...i,ref:t}):a.jsx(qY,{side:s,...i,ref:t})})}),qY=v.forwardRef((e,t)=>{const r=Mx(td,e.__scopeTooltip),n=QN(td,e.__scopeTooltip),s=v.useRef(null),i=Ze(t,s),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=v.useCallback(()=>{l(null),f(!1)},[f]),p=v.useCallback((x,m)=>{const b=x.currentTarget,y={x:x.clientX,y:x.clientY},g=GY(y,b.getBoundingClientRect()),w=YY(y,g),_=QY(m.getBoundingClientRect()),j=ZY([...w,..._]);l(j),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&d){const x=b=>p(b,d),m=b=>p(b,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),v.useEffect(()=>{if(o){const x=m=>{const b=m.target,y={x:m.clientX,y:m.clientY},g=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!XY(y,o);g?h():w&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,h]),a.jsx(EL,{...e,ref:i})}),[zY,WY]=Rx(qh,{isInside:!1}),HY=DY("TooltipContent"),EL=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Mx(td,r),u=$x(r),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(h1,d),()=>document.removeEventListener(h1,d)),[d]),v.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(yc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Tx,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(HY,{children:n}),a.jsx(zY,{scope:r,isInside:!0,children:a.jsx(EH,{id:c.contentId,role:"tooltip",children:s||n})})]})})});PL.displayName=td;var AL="TooltipArrow",KY=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=$x(r);return WY(AL,r).isInside?null:a.jsx(Ix,{...s,...n,ref:t})});KY.displayName=AL;function GY(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function YY(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function QY(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function XY(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function ZY(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),JY(t)}function JY(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var eQ=NL,tQ=kL,rQ=CL,OL=PL;const nQ=eQ,sQ=tQ,aQ=rQ,TL=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(OL,{ref:n,sideOffset:t,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));TL.displayName=OL.displayName;const iQ=3e4,yA=["mousemove","keydown","click","scroll","touchstart"],oQ=5e3;function lQ(e=!1){const[,t]=ss(),{toast:r}=Et(),[n,s]=v.useState(null),i=v.useRef(Date.now()),o=v.useRef(null),l=v.useRef(!1),c=v.useRef(!1),u=v.useCallback(h=>{o.current&&(clearInterval(o.current),o.current=null),c.current=!1,r({variant:"destructive",title:"Session Expired",description:h||"Please log in again to continue."}),setTimeout(()=>{t("/login")},1500)},[r,t]),d=v.useCallback(async()=>{try{const p=await(await Oe("POST","/api/session/heartbeat")).json();p.success&&(s({sessionRemainingMs:p.sessionRemainingMs,inactivityTimeoutMs:p.inactivityTimeoutMs,reauthTimeoutMs:p.reauthTimeoutMs,isActive:!0}),l.current=!1)}catch(h){(h==null?void 0:h.code)==="SESSION_REAUTH_REQUIRED"||(h==null?void 0:h.code)==="SESSION_INACTIVITY_TIMEOUT"?u(h.reason||h.message):((h==null?void 0:h.status)===401||(h==null?void 0:h.status)===403)&&u("Your session has expired. Please log in again.")}},[u]),f=v.useCallback(()=>{const h=Date.now();h-i.current>oQ&&(i.current=h,d())},[d]);return v.useEffect(()=>{if(!(!e||c.current))return c.current=!0,d(),o.current=setInterval(d,iQ),yA.forEach(h=>{window.addEventListener(h,f,{passive:!0})}),()=>{o.current&&(clearInterval(o.current),o.current=null),yA.forEach(h=>{window.removeEventListener(h,f)}),c.current=!1}},[e,d,f]),v.useEffect(()=>{if(n&&n.sessionRemainingMs<6e4&&!l.current){l.current=!0;const h=Math.ceil(n.sessionRemainingMs/6e4);r({variant:"default",title:"Session Expiring Soon",description:`Your session will expire in ${h} minute(s). You will need to log in again.`})}},[n,r]),{sessionState:n,sendHeartbeat:d}}function cQ({children:e}){const{data:t,isLoading:r}=we({queryKey:["/api/auth/user"],retry:!1,staleTime:3e4});return lQ(!r&&!!t),a.jsx(a.Fragment,{children:e})}var Ta=function(){return Ta=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ta.apply(this,arguments)};function zd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function uQ(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function dQ(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const fQ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class XN extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class hQ extends XN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xA extends XN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bA extends XN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var p1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(p1||(p1={}));class mQ{constructor(t,{headers:r={},customFetch:n,region:s=p1.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=fQ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return uQ(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const x=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let b=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const y=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:b}).catch(j=>{throw new hQ(j)}),g=y.headers.get("x-relay-error");if(g&&g==="true")throw new xA(y);if(!y.ok)throw new bA(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield y.json():w==="application/octet-stream"||w==="application/pdf"?_=yield y.blob():w==="text/event-stream"?_=y:w==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof bA||l instanceof xA?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var pQ=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},gQ=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const y=await i.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var x;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new pQ(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const x=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${x}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},vQ=class extends gQ{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const wA=new RegExp("[,()]");var Kc=class extends vQ{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&wA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&wA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},yQ=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Kc({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Kc({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Kc({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Kc({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Kc({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},xQ=class IL{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yQ(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new IL(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Kc({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class bQ{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const wQ="2.89.0",jQ=`realtime-js/${wQ}`,RL="1.0.0",SQ="2.0.0",jA=RL,g1=1e4,_Q=1e3,NQ=100;var Xi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xi||(Xi={}));var Ur;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ur||(Ur={}));var sa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(sa||(sa={}));var v1;(function(e){e.websocket="websocket"})(v1||(v1={}));var gl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gl||(gl={}));class kQ{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let x=new DataView(p),m=0;x.setUint8(m++,this.KINDS.userBroadcastPush),x.setUint8(m++,c.length),x.setUint8(m++,l.length),x.setUint8(m++,o.length),x.setUint8(m++,u.length),x.setUint8(m++,f.length),x.setUint8(m++,r),Array.from(c,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(l,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(u,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>x.setUint8(m++,y.charCodeAt(0)));var b=new Uint8Array(p.byteLength+n.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(n),p.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,x={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class $L{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qt||(qt={}));const SA=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=CQ(o,e,t,s),i),{}):{}},CQ=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?ML(i,o):y1(o)},ML=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return OQ(t,r)}switch(e){case qt.bool:return PQ(t);case qt.float4:case qt.float8:case qt.int2:case qt.int4:case qt.int8:case qt.numeric:case qt.oid:return EQ(t);case qt.json:case qt.jsonb:return AQ(t);case qt.timestamp:return TQ(t);case qt.abstime:case qt.date:case qt.daterange:case qt.int4range:case qt.int8range:case qt.money:case qt.reltime:case qt.text:case qt.time:case qt.timestamptz:case qt.timetz:case qt.tsrange:case qt.tstzrange:return y1(t);default:return y1(t)}},y1=e=>e,PQ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},EQ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AQ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},OQ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ML(t,l))}return e},TQ=e=>typeof e=="string"?e.replace(" ","T"):e,DL=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Y0{constructor(t,r,n={},s=g1){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _A;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_A||(_A={}));class lh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lh.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=lh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=lh.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),x=d.filter(b=>p.indexOf(b.presence_ref)<0),m=f.filter(b=>h.indexOf(b.presence_ref)<0);x.length>0&&(l[u]=x),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var NA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(NA||(NA={}));var ch;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ch||(ch={}));var si;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(si||(si={}));class fu{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Y0(this,sa.join,this.params,this.timeout),this.rejoinTimer=new $L(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ur.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new lh(this),this.broadcastEndpointURL=DL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ur.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ch.PRESENCE]&&this.bindings[ch.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(si.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(si.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(si.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,b=(x=m==null?void 0:m.length)!==null&&x!==void 0?x:0,y=[];for(let g=0;g<b;g++){const w=m[g],{filter:{event:_,schema:j,table:S,filter:N}}=w,k=p&&p[g];if(k&&k.event===_&&fu.isFilterValueEqual(k.schema,j)&&fu.isFilterValueEqual(k.table,S)&&fu.isFilterValueEqual(k.filter,N))y.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Ur.errored,t==null||t(si.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(si.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ur.errored,t==null||t(si.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(si.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ur.joined&&t===ch.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ur.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Y0(this,sa.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ur.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Y0(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>NQ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=sa;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,m,b;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,m,b,y,g,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,j=(x=p.filter)===null||x===void 0?void 0:x.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:m,table:b,commit_timestamp:y,type:g,errors:w}=x;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(x))}p.callback(h,n)})}_isClosed(){return this.state===Ur.closed}_isJoined(){return this.state===Ur.joined}_isJoining(){return this.state===Ur.joining}_isLeaving(){return this.state===Ur.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&fu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(sa.close,{},t)}_onError(t){this._on(sa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ur.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=SA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=SA(t.columns,t.old_record)),r}}const Q0=()=>{},cg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IQ=[1e3,2e3,5e3,1e4],RQ=1e4,$Q=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MQ{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=g1,this.transport=null,this.heartbeatIntervalMs=cg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Q0,this.ref=0,this.reconnectTimer=null,this.vsn=jA,this.logger=Q0,this.conn=null,this.sendBuffer=[],this.serializer=new kQ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${v1.websocket}`,this.httpEndpoint=DL(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bQ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xi.connecting:return gl.Connecting;case Xi.open:return gl.Open;case Xi.closing:return gl.Closing;default:return gl.Closed}}isConnected(){return this.connectionState()===gl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new fu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_Q,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},cg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Xi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xi.open||this.conn.readyState===Xi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(sa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$Q],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:jQ};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(sa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $L(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:g1,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:cg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Q0,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:jA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>IQ[x-1]||RQ,this.vsn){case RL:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,m)=>m(JSON.stringify(x)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(x,m)=>m(JSON.parse(x));break;case SQ:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var zh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function DQ(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function LQ(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function FQ(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=DQ(e.baseUrl,n,s),c=await LQ(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,x=p==null?void 0:p.error;throw new zh((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function ug(e){return e.join("")}var BQ=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ug(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ug(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ug(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ug(e.namespace)}`}),!0}catch(t){if(t instanceof zh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof zh&&r.status===409)return;throw r}}};function Tc(e){return e.join("")}var UQ=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof zh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof zh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},VQ=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=FQ({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new BQ(this.client,t),this.tableOps=new UQ(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Dx=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function rr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var qQ=class extends Dx{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},x1=class extends Dx{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const ZN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zQ=()=>Response,b1=e=>{if(Array.isArray(e))return e.map(r=>b1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=b1(n)}),t},WQ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HQ=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function KQ(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GQ(e){var t=KQ(e,"string");return Wh(t)=="symbol"?t:t+""}function YQ(e,t,r){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){YQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const X0=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},QQ=async(e,t,r)=>{e instanceof await zQ()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new qQ(X0(n),s,i))}).catch(n=>{t(new x1(X0(n),n))}):t(new x1(X0(e),e))},XQ=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(WQ(n)?(s.headers=Ke({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Ke(Ke({},s),r))};async function ip(e,t,r,n,s,i){return new Promise((o,l)=>{e(r,XQ(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>QQ(c,l,n))})}async function Hh(e,t,r,n){return ip(e,"GET",t,r,n)}async function ea(e,t,r,n,s){return ip(e,"POST",t,n,s,r)}async function w1(e,t,r,n,s){return ip(e,"PUT",t,n,s,r)}async function ZQ(e,t,r,n){return ip(e,"HEAD",t,Ke(Ke({},r),{},{noResolveJson:!0}),n)}async function JN(e,t,r,n,s){return ip(e,"DELETE",t,n,s,r)}var JQ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}}};let LL;LL=Symbol.toStringTag;var eX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[LL]="BlobDownloadBuilder",this.promise=null}asStream(){return new JQ(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}}};const tX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var rX=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=ZN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const o=Ke(Ke({},CA),n);let l=Ke(Ke({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ke(Ke({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?w1:ea)(s.fetch,`${s.url}/object/${d}`,i,Ke({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Ke({upsert:CA.upsert},n),d=Ke(Ke({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await w1(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(rr(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=Ke({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await ea(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Dx("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ea(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(rr(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await ea(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(rr(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await ea(n.fetch,`${n.url}/object/sign/${s}`,Ke({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(rr(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await ea(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Ke(Ke({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(rr(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Hh(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new eX(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:b1(await Hh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await ZQ(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rr(n)&&n instanceof x1){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await JN(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=Ke(Ke(Ke({},tX),t),{},{prefix:e||""});return{data:await ea(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(rr(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=Ke({},e);return{data:await ea(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const FL="2.89.0",BL={"X-Client-Info":`storage-js/${FL}`};var nX=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Ke(Ke({},BL),t),this.fetch=ZN(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Hh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Hh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ea(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await w1(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ea(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await JN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},sX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},BL),t),this.fetch=ZN(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ea(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Hh(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await JN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!HQ(e))throw new Dx("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new VQ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const ek={"X-Client-Info":`storage-js/${FL}`,"Content-Type":"application/json"};var UL=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ms(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Z0=class extends UL{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},aX=class extends UL{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const tk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},PA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oX=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Z0(PA(i),n,o))}).catch(()=>{const i=n+"";t(new Z0(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Z0(s.statusText||`HTTP ${n} error`,n,i))}}else t(new aX(PA(e),e))},lX=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(iX(n)?(s.headers=Ke({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Ke(Ke({},s),r)):s};async function cX(e,t,r,n,s,i){return new Promise((o,l)=>{e(r,lX(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>oX(c,l,n))})}async function ps(e,t,r,n,s){return cX(e,"POST",t,n,s,r)}var uX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},ek),t),this.fetch=tk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await ps(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ms(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await ps(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ms(n))return{data:null,error:n};throw n}}},dX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},ek),t),this.fetch=tk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ps(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ps(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ps(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}},fX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},ek),t),this.fetch=tk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await ps(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}},hX=class extends fX{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new mX(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},mX=class extends uX{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new pX(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},pX=class extends dX{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},gX=class extends nX{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new rX(this.url,this.headers,e,this.fetch)}get vectors(){return new hX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sX(this.url+"/iceberg",this.headers,this.fetch)}};const VL="2.89.0",Gc=30*1e3,j1=3,J0=j1*Gc,vX="http://localhost:9999",yX="supabase.auth.token",xX={"X-Client-Info":`gotrue-js/${VL}`},S1="X-Supabase-Api-Version",qL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wX=10*60*1e3;class Kh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jX extends Kh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function SX(e){return Ue(e)&&e.name==="AuthApiError"}class vl extends Kh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Mi extends Kh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class os extends Mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _X(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class Ic extends Mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dg extends Mi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fg extends Mi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function NX(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class EA extends Mi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kX extends Mi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _1 extends Mi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ew(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class AA extends Mi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class N1 extends Mi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),OA=` 	
\r=`.split(""),CX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<OA.length;t+=1)e[OA[t].charCodeAt(0)]=-2;for(let t=0;t<$v.length;t+=1)e[$v[t].charCodeAt(0)]=t;return e})();function TA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($v[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($v[n]),t.queuedBits-=6}}function zL(e,t,r){const n=CX[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function IA(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{AX(o,n,r)};for(let o=0;o<e.length;o+=1)zL(e.charCodeAt(o),s,i);return t.join("")}function PX(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function EX(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}PX(n,t)}}function AX(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Nu(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)zL(e.charCodeAt(s),r,n);return new Uint8Array(t)}function OX(e){const t=[];return EX(e,r=>t.push(r)),new Uint8Array(t)}function Sl(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>TA(s,r,n)),TA(null,r,n),t.join("")}function TX(e){return Math.round(Date.now()/1e3)+e}function IX(){return Symbol("auth-callback")}const cn=()=>typeof window<"u"&&typeof document<"u",nl={tested:!1,writable:!1},WL=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nl.tested)return nl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nl.tested=!0,nl.writable=!0}catch{nl.tested=!0,nl.writable=!1}return nl.writable};function RX(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const HL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$X=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},sl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ln=async(e,t)=>{await e.removeItem(t)};class Lx{constructor(){this.promise=new Lx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Lx.promiseConstructor=Promise;function tw(e){const t=e.split(".");if(t.length!==3)throw new N1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!bX.test(t[n]))throw new N1("JWT not in base64url format");return{header:JSON.parse(IA(t[0])),payload:JSON.parse(IA(t[1])),signature:Nu(t[2]),raw:{header:t[0],payload:t[1]}}}async function MX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DX(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function LX(e){return("0"+e.toString(16)).substr(-2)}function FX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,LX).join("")}async function BX(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function UX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await BX(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rc(e,t,r=!1){const n=FX();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Yc(e,`${t}-code-verifier`,s);const i=await UX(n);return[i,n===i?"plain":"s256"]}const VX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qX(e){const t=e.headers.get(S1);if(!t||!t.match(VX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zX(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WX(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $c(e){if(!HX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KX(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function RA(e){return JSON.parse(JSON.stringify(e))}const ul=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GX=[502,503,504];async function $A(e){var t;if(!$X(e))throw new _1(ul(e),0);if(GX.includes(e.status))throw new _1(ul(e),e.status);let r;try{r=await e.json()}catch(i){throw new vl(ul(i),i)}let n;const s=qX(e);if(s&&s.getTime()>=qL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new AA(ul(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new os}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new AA(ul(r),e.status,r.weak_password.reasons);throw new jX(ul(r),e.status||500,n)}const YX=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function He(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[S1]||(i[S1]=qL["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await QX(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function QX(e,t,r,n,s,i){const o=YX(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new _1(ul(c),0)}if(l.ok||await $A(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await $A(c)}}function Xs(e){var t;let r=null;JX(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=TX(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function MA(e){const t=Xs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function no(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XX(e){return{data:e,error:null}}function ZX(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=zd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function DA(e){return e}function JX(e){return e.access_token&&e.refresh_token&&e.expires_in}const nw=["global","local","others"];class eZ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=HL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=nw[0]){if(nw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nw.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:no})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=zd(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ZX,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:no})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:DA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){$c(t);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:no})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){$c(t);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:no})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){$c(t);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:no})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){$c(t.userId);try{const{data:r,error:n}=await He(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){$c(t.userId),$c(t.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await He(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:DA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await He(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await He(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await He(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function LA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Mc={debug:!!(globalThis&&WL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class KL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tZ extends KL{}async function rZ(e,t,r){Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tZ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function nZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function GL(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function sZ(e){return parseInt(e,16)}function aZ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function iZ(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=GL(e.address),x=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);g+=`
- ${w}`}y+=g}return`${b}
${y}`}class _r extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Mv extends _r{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function oZ({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _r({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _r({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _r({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new _r({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new _r({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new _r({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new _r({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new _r({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(YL(o)){if(i.rp.id!==o)return new _r({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _r({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function lZ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _r({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new _r({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(YL(n)){if(r.rpId!==n)return new _r({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class cZ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const uZ=new cZ;function dZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=zd(e,["challenge","user","excludeCredentials"]),i=Nu(t).buffer,o=Object.assign(Object.assign({},r),{id:Nu(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Nu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function fZ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=zd(e,["challenge","allowCredentials"]),s=Nu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Nu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function hZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Sl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Sl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Sl(new Uint8Array(s.authenticatorData)),clientDataJSON:Sl(new Uint8Array(s.clientDataJSON)),signature:Sl(new Uint8Array(s.signature)),userHandle:s.userHandle?Sl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function YL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function FA(){var e,t;return!!(cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function pZ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mv("Browser returned unexpected credential type",t)}:{data:null,error:new Mv("Empty credential response",t)}}catch(t){return{data:null,error:oZ({error:t,options:e})}}}async function gZ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mv("Browser returned unexpected credential type",t)}:{data:null,error:new Mv("Empty credential response",t)}}catch(t){return{data:null,error:lZ({error:t,options:e})}}}const vZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yZ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Dv(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Dv(l,o):n[i]=Dv(o)}else n[i]=o}return n}function xZ(e,t){return Dv(vZ,e,t||{})}function bZ(e,t){return Dv(yZ,e,t||{})}class wZ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??uZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=xZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await pZ({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=bZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await gZ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Kh("rpId is required for WebAuthn authentication")};try{if(!FA())return{data:null,error:new vl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Kh("rpId is required for WebAuthn registration")};try{if(!FA())return{data:null,error:new vl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in register",o)}}}}nZ();const jZ={url:vX,storageKey:yX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function BA(e,t,r){return await r()}const Dc={};class Gh{get jwks(){var t,r;return(r=(t=Dc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Dc[this.storageKey]=Object.assign(Object.assign({},Dc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Dc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Dc[this.storageKey]=Object.assign(Object.assign({},Dc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},jZ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Gh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Gh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&cn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new eZ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=HL(i.fetch),this.lock=i.lock||BA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&cn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rZ:this.lock=BA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:WL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=LA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=LA(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${VL}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(cn()&&(r=RX(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),cn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),NX(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new vl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xs}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Rc(this.storage,this.storageKey)),i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:x},xform:Xs})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xs})}else throw new dg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await ln(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await ln(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:MA})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:MA})}else throw new dg("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Ic;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:m,wallet:b,statement:y,options:g}=t;let w;if(cn())if(typeof b=="object")w=b;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=GL(j[0]);let N=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=sZ(C)}const k={domain:_.host,address:S,statement:y,uri:_.href,version:"1",chainId:N,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=iZ(k),x=await w.request({method:"personal_sign",params:[aZ(p),S]})}try{const{data:m,error:b}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xs});if(b)throw b;if(!m||!m.session||!m.user){const y=new Ic;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:b})}catch(m){if(Ue(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,p;let x,m;if("message"in t)x=t.message,m=t.signature;else{const{chain:b,wallet:y,statement:g,options:w}=t;let _;if(cn())if(typeof y=="object")_=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),m=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:b,error:y}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Sl(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Xs});if(y)throw y;if(!b||!b.session||!b.user){const g=new Ic;return this._returnResult({data:{user:null,session:null},error:g})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(Ue(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await sl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new kX;const{data:i,error:o}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xs});if(await ln(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Ic;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ln(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xs}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ic;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Rc(this.storage,this.storageKey));const{error:f}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new dg("You must provide either an email or phone number.")}catch(l){if(await ln(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Rc(this.storage,this.storageKey));const u=await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:XX});return!((i=u.data)===null||i===void 0)&&i.url&&cn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await ln(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new os;const{error:s}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await He(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await He(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new dg("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await sl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<J0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await sl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=rw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=KX(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:no}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new os}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:no})})}catch(r){if(Ue(r))return _X(r)&&(await this._removeSession(),await ln(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new os;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Rc(this.storage,this.storageKey));const{data:u,error:d}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:no});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ln(this.storage,`${this.storageKey}-code-verifier`),Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new os;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=tw(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new os;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!cn())throw new fg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new EA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new EA("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new fg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Gc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:m,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await sl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(SX(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await ln(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=IX(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Rc(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ln(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return cn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Xs}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ic}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(await ln(this.storage,`${this.storageKey}-code-verifier`),Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await DX(async s=>(s>0&&await MX(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ew(i)&&Date.now()+o-n<Gc})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),cn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await sl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await sl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Yc(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:rw()}else if(s&&!s.user&&!s.user){const o=await sl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ln(this.storage,this.storageKey+"-user"),await Yc(this.storage,this.storageKey,s)):s.user=rw()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<J0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${J0}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ew(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new os;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Lx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new os;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ue(i)){const o={data:null,error:i};return ew(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ln(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Yc(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=RA(s);await Yc(this.storage,this.storageKey,i)}else{const s=RA(r);await Yc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ln(this.storage,this.storageKey),await ln(this.storage,this.storageKey+"-code-verifier"),await ln(this.storage,this.storageKey+"-user"),this.userStorage&&await ln(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Gc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Gc}ms, refresh threshold is ${j1} ticks`),s<=j1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof KL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Rc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await He(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await He(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?hZ(t.webauthn.credential_response):mZ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:dZ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:fZ(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=tw(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await He(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new os})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new os});const o=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&cn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new os});const o=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&cn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await He(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new os})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await He(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new os})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+wX>s)return n;const{data:i,error:o}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=tw(n);r!=null&&r.allowExpired||zX(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=WX(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,OX(`${l}.${c}`)))throw new N1("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}Gh.nextInstanceID={};const SZ=Gh,_Z="2.89.0";let zf="";typeof Deno<"u"?zf="deno":typeof document<"u"?zf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zf="react-native":zf="node";const NZ={"X-Client-Info":`supabase-js-${zf}/${_Z}`},kZ={headers:NZ},CZ={schema:"public"},PZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},EZ={};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function AZ(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OZ(e){var t=AZ(e,"string");return Yh(t)=="symbol"?t:t+""}function TZ(e,t,r){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){TZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const IZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RZ=()=>Headers,$Z=(e,t,r)=>{const n=IZ(r),s=RZ();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,ur(ur({},o),{},{headers:u}))}};function MZ(e){return e.endsWith("/")?e:e+"/"}function DZ(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:ur(ur({},c),s),auth:ur(ur({},u),i),realtime:ur(ur({},d),o),storage:{},global:ur(ur(ur({},f),l),{},{headers:ur(ur({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function LZ(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(MZ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var FZ=class extends SZ{constructor(e){super(e)}},BZ=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=LZ(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:CZ,realtime:EZ,auth:ur(ur({},PZ),{},{storageKey:o}),global:kZ},c=DZ(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=$Z(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ur({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new xQ(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new gX(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new mQ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FZ({url:this.authUrl.href,headers:ur(ur({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new MQ(this.realtimeUrl.href,ur(ur({},e),{},{params:ur(ur({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const UZ=(e,t,r)=>new BZ(e,t,r);function VZ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}VZ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qZ="https://ttnwtyixezjjubdcquhg.supabase.co",zZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0bnd0eWl4ZXpqanViZGNxdWhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMjM5MjAsImV4cCI6MjA4MTg5OTkyMH0.8yJNyhGSmQbFumwOyBqbuJ6FbLgB55f8lpK0VBfqrE8";let sw=null;function WZ(){return!0}function dl(){return sw||(sw=UZ(qZ,zZ,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})),sw}const Vl=dl(),QL=v.createContext(null);function HZ({children:e}){const[t,r]=v.useState({user:null,session:null,isLoading:!0,isAuthenticated:!1}),n=WZ();v.useEffect(()=>{if(!Vl){r(x=>({...x,isLoading:!1}));return}const h=Vl;h.auth.getSession().then(({data:{session:x}})=>{r({user:(x==null?void 0:x.user)??null,session:x,isLoading:!1,isAuthenticated:!!(x!=null&&x.user)}),x!=null&&x.user&&s(x)});const{data:{subscription:p}}=h.auth.onAuthStateChange(async(x,m)=>{r({user:(m==null?void 0:m.user)??null,session:m,isLoading:!1,isAuthenticated:!!(m!=null&&m.user)}),x==="SIGNED_IN"&&m&&(await s(m),Se.invalidateQueries({queryKey:["/api/auth/user"]})),x==="SIGNED_OUT"&&Se.invalidateQueries({queryKey:["/api/auth/user"]})});return()=>p.unsubscribe()},[n]);const s=async h=>{var p,x,m,b;try{await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h.access_token}`},body:JSON.stringify({supabaseUserId:h.user.id,email:h.user.email,firstName:((p=h.user.user_metadata)==null?void 0:p.firstName)||((x=h.user.user_metadata)==null?void 0:x.first_name),lastName:((m=h.user.user_metadata)==null?void 0:m.lastName)||((b=h.user.user_metadata)==null?void 0:b.last_name)})})}catch(y){console.error("Failed to sync user to backend:",y)}},i=v.useCallback(async(h,p,x)=>{const m=dl(),{error:b}=await m.auth.signUp({email:h,password:p,options:{data:x,emailRedirectTo:`${window.location.origin}/auth/callback`}});return{error:b}},[n]),o=v.useCallback(async(h,p)=>{const x=dl(),{error:m}=await x.auth.signInWithPassword({email:h,password:p});return{error:m}},[n]),l=v.useCallback(async()=>{await dl().auth.signOut(),await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),Se.clear()},[n]),c=v.useCallback(async h=>{const p=dl(),{error:x}=await p.auth.resetPasswordForEmail(h,{redirectTo:`${window.location.origin}/auth/reset-password`});return{error:x}},[n]),u=v.useCallback(async h=>{const p=dl(),{error:x}=await p.auth.updateUser({password:h});return{error:x}},[n]),d=v.useCallback(async h=>{const p=dl(),{error:x}=await p.auth.signInWithOAuth({provider:h,options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:x}},[n]);return a.jsx(QL.Provider,{value:{...t,signUp:i,signIn:o,signInWithOAuth:d,signOut:l,resetPassword:c,updatePassword:u,isSupabaseConfigured:n,useSupabaseAuth:!0},children:e})}function Wd(){const e=v.useContext(QL);if(!e)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e}function KZ(){const[e]=ss(),{data:t}=we({queryKey:["/api/admin/config"],queryFn:async()=>{try{const x=await fetch("/api/admin/config");return x.ok?await x.json():{}}catch{return{}}}}),{data:r,isLoading:n}=we({queryKey:["/api/site-settings"],queryFn:async()=>{try{const x=await fetch("/api/site-settings");if(!x.ok)return{};const m=await x.json();return m&&typeof m=="object"&&!m.message?m:{}}catch{return{}}}}),s=(r==null?void 0:r.whatsapp_button_visible)==="true",i=(r==null?void 0:r.whatsapp_phone)||"",o=(r==null?void 0:r.whatsapp_default_message)||"",l=(r==null?void 0:r.whatsapp_button_text)||"Chat on WhatsApp",c=t==null?void 0:t.adminPath,u=c?e.startsWith(`/${c}`):!1,d=e==="/booking"||e.startsWith("/booking/");if(n||!s||!i||u||d)return null;const f=i.replace(/[^0-9]/g,""),h=window.encodeURIComponent(o),p=`https://wa.me/${f}${o?`?text=${h}`:""}`;return a.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5A] text-white px-4 py-3 rounded-full shadow-lg transition-all duration-300 hover:scale-105 group","data-testid":"button-whatsapp-float","aria-label":l,children:[a.jsx(lK,{className:"w-6 h-6"}),a.jsx("span",{className:"hidden sm:inline font-medium",children:l})]})}var GZ=Symbol.for("react.lazy"),Lv=ix[" use ".trim().toString()];function YZ(e){return typeof e=="object"&&e!==null&&"then"in e}function XL(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===GZ&&"_payload"in e&&YZ(e._payload)}function Fx(e){const t=QZ(e),r=v.forwardRef((n,s)=>{let{children:i,...o}=n;XL(i)&&typeof Lv=="function"&&(i=Lv(i._payload));const l=v.Children.toArray(i),c=l.find(ZZ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var rk=Fx("Slot");function QZ(e){const t=v.forwardRef((r,n)=>{let{children:s,...i}=r;if(XL(s)&&typeof Lv=="function"&&(s=Lv(s._payload)),v.isValidElement(s)){const o=eJ(s),l=JZ(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Fn(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var XZ=Symbol("radix.slottable");function ZZ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===XZ}function JZ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function eJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const nk=ep("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),U=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?rk:"button";return a.jsx(o,{className:ce(nk({variant:t,size:r,className:e})),ref:i,...s})});U.displayName="Button";function tJ(){const[e,t]=v.useState(!1);v.useEffect(()=>{const n=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return a.jsx(U,{size:"icon",variant:"outline",className:`fixed bottom-6 right-20 z-50 rounded-full shadow-lg transition-all duration-300 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border border-border ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,onClick:r,"aria-label":"Scroll to top","data-testid":"button-scroll-to-top",children:a.jsx(XH,{className:"h-4 w-4"})})}function rJ(){const[e]=ss();return v.useEffect(()=>{e.includes("#")||window.scrollTo({top:0,behavior:"instant"})},[e]),null}function op(){const{data:e,isLoading:t,error:r}=we({queryKey:["/api/admin/config"],queryFn:async()=>{const n=await fetch("/api/admin/config",{credentials:"include"});if(!n.ok)throw new Error("Not authorized to access admin config");return n.json()},retry:!1,staleTime:18e5});return{adminPath:(e==null?void 0:e.adminPath)||"admin",isLoading:t,error:r,isAuthorized:!!e&&!r}}const sk="/assets/dark_elegant_sports__61a0b4ec-CXuzKOFY.jpg";function Hd(){const{data:e,isLoading:t,error:r}=we({queryKey:["/api/auth/user"],queryFn:nD({on401:"returnNull"}),retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e,error:r}}function VA(){const[e,t]=v.useState("light");v.useEffect(()=>{const n=localStorage.getItem("qd-theme");n?(t(n),document.documentElement.classList.toggle("dark",n==="dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(t("dark"),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=e==="light"?"dark":"light";t(n),localStorage.setItem("qd-theme",n),document.documentElement.classList.toggle("dark",n==="dark")};return a.jsx(U,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full","data-testid":"button-theme-toggle",children:e==="light"?a.jsx(dK,{className:"w-4 h-4"}):a.jsx(bK,{className:"w-4 h-4"})})}var aw=0;function Bx(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qA()),document.body.insertAdjacentElement("beforeend",e[1]??qA()),aw++,()=>{aw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),aw--}},[])}function qA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var iw="focusScope.autoFocusOnMount",ow="focusScope.autoFocusOnUnmount",zA={bubbles:!1,cancelable:!0},nJ="FocusScope",lp=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=mr(s),d=mr(i),f=v.useRef(null),h=Ze(t,m=>c(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Gi(f.current,{select:!0})},b=function(w){if(p.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Gi(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Gi(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const g=new MutationObserver(y);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),g.disconnect()}}},[n,l,p.paused]),v.useEffect(()=>{if(l){HA.add(p);const m=document.activeElement;if(!l.contains(m)){const y=new CustomEvent(iw,zA);l.addEventListener(iw,u),l.dispatchEvent(y),y.defaultPrevented||(sJ(cJ(ZL(l)),{select:!0}),document.activeElement===m&&Gi(l))}return()=>{l.removeEventListener(iw,u),setTimeout(()=>{const y=new CustomEvent(ow,zA);l.addEventListener(ow,d),l.dispatchEvent(y),y.defaultPrevented||Gi(m??document.body,{select:!0}),l.removeEventListener(ow,d),HA.remove(p)},0)}}},[l,u,d,p]);const x=v.useCallback(m=>{if(!r&&!n||p.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(b&&y){const g=m.currentTarget,[w,_]=aJ(g);w&&_?!m.shiftKey&&y===_?(m.preventDefault(),r&&Gi(w,{select:!0})):m.shiftKey&&y===w&&(m.preventDefault(),r&&Gi(_,{select:!0})):y===g&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Ae.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});lp.displayName=nJ;function sJ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Gi(n,{select:t}),document.activeElement!==r)return}function aJ(e){const t=ZL(e),r=WA(t,e),n=WA(t.reverse(),e);return[r,n]}function ZL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function WA(e,t){for(const r of e)if(!iJ(r,{upTo:t}))return r}function iJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oJ(e){return e instanceof HTMLInputElement&&"select"in e}function Gi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&oJ(e)&&t&&e.select()}}var HA=lJ();function lJ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=KA(e,t),e.unshift(t)},remove(t){var r;e=KA(e,t),(r=e[0])==null||r.resume()}}}function KA(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function cJ(e){return e.filter(t=>t.tagName!=="A")}function uJ(e){const t=dJ(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(hJ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function dJ(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=pJ(s),l=mJ(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Fn(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fJ=Symbol("radix.slottable");function hJ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fJ}function mJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function pJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gJ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Lc=new WeakMap,hg=new WeakMap,mg={},lw=0,JL=function(e){return e&&(e.host||JL(e.parentNode))},vJ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=JL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},yJ=function(e,t,r,n){var s=vJ(t,Array.isArray(e)?e:[e]);mg[r]||(mg[r]=new WeakMap);var i=mg[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),x=p!==null&&p!=="false",m=(Lc.get(h)||0)+1,b=(i.get(h)||0)+1;Lc.set(h,m),i.set(h,b),o.push(h),m===1&&x&&hg.set(h,!0),b===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),lw++,function(){o.forEach(function(f){var h=Lc.get(f)-1,p=i.get(f)-1;Lc.set(f,h),i.set(f,p),h||(hg.has(f)||f.removeAttribute(n),hg.delete(f)),p||f.removeAttribute(r)}),lw--,lw||(Lc=new WeakMap,Lc=new WeakMap,hg=new WeakMap,mg={})}},Ux=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=gJ(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),yJ(n,s,r,"aria-hidden")):function(){return null}},Qg="right-scroll-bar-position",Xg="width-before-scroll-bar",xJ="with-scroll-bars-hidden",bJ="--removed-body-scroll-bar-size";function cw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wJ(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var jJ=typeof window<"u"?v.useLayoutEffect:v.useEffect,GA=new WeakMap;function SJ(e,t){var r=wJ(null,function(n){return e.forEach(function(s){return cw(s,n)})});return jJ(function(){var n=GA.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||cw(l,null)}),i.forEach(function(l){s.has(l)||cw(l,o)})}GA.set(r,e)},[e]),r}function _J(e){return e}function NJ(e,t){t===void 0&&(t=_J);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function kJ(e){e===void 0&&(e={});var t=NJ(null);return t.options=Ta({async:!0,ssr:!1},e),t}var eF=function(e){var t=e.sideCar,r=zd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Ta({},r))};eF.isSideCarExport=!0;function CJ(e,t){return e.useMedium(t),eF}var tF=kJ(),uw=function(){},Vx=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:uw,onWheelCapture:uw,onTouchMoveCapture:uw}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,x=e.noIsolation,m=e.inert,b=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,w=e.gapMode,_=zd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=SJ([r,t]),N=Ta(Ta({},_),s);return v.createElement(v.Fragment,null,d&&v.createElement(j,{sideCar:tF,removeScrollBar:u,shards:f,noRelative:p,noIsolation:x,inert:m,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:w}),o?v.cloneElement(v.Children.only(l),Ta(Ta({},N),{ref:S})):v.createElement(g,Ta({},N,{className:c,ref:S}),l))});Vx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vx.classNames={fullWidth:Xg,zeroRight:Qg};var PJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=PJ();return t&&e.setAttribute("nonce",t),e}function AJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function OJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TJ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=EJ())&&(AJ(t,r),OJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},IJ=function(){var e=TJ();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},rF=function(){var e=IJ(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},RJ={left:0,top:0,right:0,gap:0},dw=function(e){return parseInt(e||"",10)||0},$J=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[dw(r),dw(n),dw(s)]},MJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return RJ;var t=$J(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},DJ=rF(),ku="data-scroll-locked",LJ=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(xJ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ku,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Qg," .").concat(Qg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xg," .").concat(Xg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ku,`] {
    `).concat(bJ,": ").concat(l,`px;
  }
`)},YA=function(){var e=parseInt(document.body.getAttribute(ku)||"0",10);return isFinite(e)?e:0},FJ=function(){v.useEffect(function(){return document.body.setAttribute(ku,(YA()+1).toString()),function(){var e=YA()-1;e<=0?document.body.removeAttribute(ku):document.body.setAttribute(ku,e.toString())}},[])},BJ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;FJ();var i=v.useMemo(function(){return MJ(s)},[s]);return v.createElement(DJ,{styles:LJ(i,!t,s,r?"":"!important")})},k1=!1;if(typeof window<"u")try{var pg=Object.defineProperty({},"passive",{get:function(){return k1=!0,!0}});window.addEventListener("test",pg,pg),window.removeEventListener("test",pg,pg)}catch{k1=!1}var Fc=k1?{passive:!1}:!1,UJ=function(e){return e.tagName==="TEXTAREA"},nF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!UJ(e)&&r[t]==="visible")},VJ=function(e){return nF(e,"overflowY")},qJ=function(e){return nF(e,"overflowX")},QA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=sF(e,n);if(s){var i=aF(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},zJ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},WJ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},sF=function(e,t){return e==="v"?VJ(t):qJ(t)},aF=function(e,t){return e==="v"?zJ(t):WJ(t)},HJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},KJ=function(e,t,r,n,s){var i=HJ(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=aF(e,l),x=p[0],m=p[1],b=p[2],y=m-b-i*x;(x||y)&&sF(e,l)&&(f+=y,h+=x);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},gg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},XA=function(e){return[e.deltaX,e.deltaY]},ZA=function(e){return e&&"current"in e?e.current:e},GJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},QJ=0,Bc=[];function XJ(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(QJ++)[0],i=v.useState(rF)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=dQ([e.lockRef.current],(e.shards||[]).map(ZA),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=gg(m),g=r.current,w="deltaX"in m?m.deltaX:g[0]-y[0],_="deltaY"in m?m.deltaY:g[1]-y[1],j,S=m.target,N=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&N==="h"&&S.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,E=C?C===S||C.contains(S):!1;if(E)return!1;var A=QA(N,S);if(!A)return!0;if(A?j=N:(j=N==="v"?"h":"v",A=QA(N,S)),!A)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=j),!j)return!0;var R=n.current||j;return KJ(R,b,m,R==="h"?w:_)},[]),c=v.useCallback(function(m){var b=m;if(!(!Bc.length||Bc[Bc.length-1]!==i)){var y="deltaY"in b?XA(b):gg(b),g=t.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&GJ(j.delta,y)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(ZA).filter(Boolean).filter(function(j){return j.contains(b.target)}),_=w.length>0?l(b,w[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=v.useCallback(function(m,b,y,g){var w={name:m,delta:b,target:y,should:g,shadowParent:ZJ(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=v.useCallback(function(m){r.current=gg(m),n.current=void 0},[]),f=v.useCallback(function(m){u(m.type,XA(m),m.target,l(m,e.lockRef.current))},[]),h=v.useCallback(function(m){u(m.type,gg(m),m.target,l(m,e.lockRef.current))},[]);v.useEffect(function(){return Bc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Fc),document.addEventListener("touchmove",c,Fc),document.addEventListener("touchstart",d,Fc),function(){Bc=Bc.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Fc),document.removeEventListener("touchmove",c,Fc),document.removeEventListener("touchstart",d,Fc)}},[]);var p=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:YJ(s)}):null,p?v.createElement(BJ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ZJ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JJ=CJ(tF,XJ);var cp=v.forwardRef(function(e,t){return v.createElement(Vx,Ta({},e,{ref:t,sideCar:JJ}))});cp.classNames=Vx.classNames;var qx="Popover",[iF]=gn(qx,[Wo]),up=Wo(),[eee,Ho]=iF(qx),oF=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=up(t),c=v.useRef(null),[u,d]=v.useState(!1),[f,h]=rs({prop:n,defaultProp:s??!1,onChange:i,caller:qx});return a.jsx(Ox,{...l,children:a.jsx(eee,{scope:t,contentId:Er(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:r})})};oF.displayName=qx;var lF="PopoverAnchor",tee=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ho(lF,r),i=up(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return v.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(ap,{...i,...n,ref:t})});tee.displayName=lF;var cF="PopoverTrigger",uF=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ho(cF,r),i=up(r),o=Ze(t,s.triggerRef),l=a.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":pF(s.open),...n,ref:o,onClick:fe(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(ap,{asChild:!0,...i,children:l})});uF.displayName=cF;var ak="PopoverPortal",[ree,nee]=iF(ak,{forceMount:void 0}),dF=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=Ho(ak,t);return a.jsx(ree,{scope:t,forceMount:r,children:a.jsx(Qr,{present:r||i.open,children:a.jsx(Fd,{asChild:!0,container:s,children:n})})})};dF.displayName=ak;var rd="PopoverContent",fF=v.forwardRef((e,t)=>{const r=nee(rd,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=Ho(rd,e.__scopePopover);return a.jsx(Qr,{present:n||i.open,children:i.modal?a.jsx(aee,{...s,ref:t}):a.jsx(iee,{...s,ref:t})})});fF.displayName=rd;var see=uJ("PopoverContent.RemoveScroll"),aee=v.forwardRef((e,t)=>{const r=Ho(rd,e.__scopePopover),n=v.useRef(null),s=Ze(t,n),i=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return Ux(o)},[]),a.jsx(cp,{as:see,allowPinchZoom:!0,children:a.jsx(hF,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:fe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),iee=v.forwardRef((e,t)=>{const r=Ho(rd,e.__scopePopover),n=v.useRef(!1),s=v.useRef(!1);return a.jsx(hF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),hF=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Ho(rd,r),p=up(r);return Bx(),a.jsx(lp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(yc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Tx,{"data-state":pF(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mF="PopoverClose",oee=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ho(mF,r);return a.jsx(Ae.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,()=>s.onOpenChange(!1))})});oee.displayName=mF;var lee="PopoverArrow",cee=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=up(r);return a.jsx(Ix,{...s,...n,ref:t})});cee.displayName=lee;function pF(e){return e?"open":"closed"}var uee=oF,dee=uF,fee=dF,gF=fF;const hee=uee,mee=dee,vF=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(fee,{children:a.jsx(gF,{ref:s,align:t,sideOffset:r,className:ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));vF.displayName=gF.displayName;var pee=v.createContext(void 0);function Kd(e){const t=v.useContext(pee);return e||t||"ltr"}function C1(e,[t,r]){return Math.min(r,Math.max(t,e))}function gee(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var ik="ScrollArea",[yF]=gn(ik),[vee,qs]=yF(ik),xF=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[p,x]=v.useState(null),[m,b]=v.useState(null),[y,g]=v.useState(0),[w,_]=v.useState(0),[j,S]=v.useState(!1),[N,k]=v.useState(!1),C=Ze(t,A=>c(A)),E=Kd(s);return a.jsx(vee,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:b,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:g,onCornerHeightChange:_,children:a.jsx(Ae.div,{dir:E,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});xF.displayName=ik;var bF="ScrollAreaViewport",wF=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=qs(bF,r),l=v.useRef(null),c=Ze(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});wF.displayName=bF;var Ga="ScrollAreaScrollbar",ok=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=qs(Ga,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(yee,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(xee,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(jF,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(lk,{...n,ref:t}):null});ok.displayName=Ga;var yee=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=qs(Ga,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Qr,{present:r||i,children:a.jsx(jF,{"data-state":i?"visible":"hidden",...n,ref:t})})}),xee=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=qs(Ga,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Wx(()=>c("SCROLL_END"),100),[l,c]=gee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),v.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(Qr,{present:r||l!=="hidden",children:a.jsx(lk,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:fe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:fe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),jF=v.forwardRef((e,t)=>{const r=qs(Ga,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=Wx(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return nd(r.viewport,c),nd(r.content,c),a.jsx(Qr,{present:n||i,children:a.jsx(lk,{"data-state":i?"visible":"hidden",...s,ref:t})})}),lk=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=qs(Ga,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=CF(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return Nee(h,o.current,l,p)}return r==="horizontal"?a.jsx(bee,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,p=JA(h,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(wee,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,p=JA(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),bee=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=qs(Ga,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=Ze(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(_F,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),EF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Bv(o.paddingLeft),paddingEnd:Bv(o.paddingRight)}})}})}),wee=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=qs(Ga,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=Ze(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(_F,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),EF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Bv(o.paddingTop),paddingEnd:Bv(o.paddingBottom)}})}})}),[jee,SF]=yF(Ga),_F=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=qs(Ga,r),[x,m]=v.useState(null),b=Ze(t,C=>m(C)),y=v.useRef(null),g=v.useRef(""),w=p.viewport,_=n.content-n.viewport,j=mr(d),S=mr(c),N=Wx(f,10);function k(C){if(y.current){const E=C.clientX-y.current.left,A=C.clientY-y.current.top;u({x:E,y:A})}}return v.useEffect(()=>{const C=E=>{const A=E.target;(x==null?void 0:x.contains(A))&&j(E,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,x,_,j]),v.useEffect(S,[n,S]),nd(x,N),nd(p.content,N),a.jsx(jee,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:mr(i),onThumbPointerUp:mr(o),onThumbPositionChange:S,onThumbPointerDown:mr(l),children:a.jsx(Ae.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:fe(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=x.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:fe(e.onPointerMove,k),onPointerUp:fe(e.onPointerUp,C=>{const E=C.target;E.hasPointerCapture(C.pointerId)&&E.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=g.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Fv="ScrollAreaThumb",NF=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=SF(Fv,e.__scopeScrollArea);return a.jsx(Qr,{present:r||s.hasThumb,children:a.jsx(See,{ref:t,...n})})}),See=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=qs(Fv,r),o=SF(Fv,r),{onThumbPositionChange:l}=o,c=Ze(t,f=>o.onThumbChange(f)),u=v.useRef(void 0),d=Wx(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=kee(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Ae.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:fe(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x,y:m})}),onPointerUp:fe(e.onPointerUp,o.onThumbPointerUp)})});NF.displayName=Fv;var ck="ScrollAreaCorner",kF=v.forwardRef((e,t)=>{const r=qs(ck,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(_ee,{...e,ref:t}):null});kF.displayName=ck;var _ee=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=qs(ck,r),[i,o]=v.useState(0),[l,c]=v.useState(0),u=!!(i&&l);return nd(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),nd(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Ae.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Bv(e){return e?parseInt(e,10):0}function CF(e,t){const r=e/t;return isNaN(r)?0:r}function zx(e){const t=CF(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Nee(e,t,r,n="ltr"){const s=zx(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return PF([c,u],f)(e)}function JA(e,t,r="ltr"){const n=zx(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=C1(e,c);return PF([0,o],[0,l])(u)}function PF(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function EF(e,t){return e>0&&e<t}var kee=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Wx(e,t){const r=mr(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function nd(e,t){const r=mr(t);pr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var AF=xF,Cee=wF,Pee=kF;const OF=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(AF,{ref:n,className:ce("relative overflow-hidden",e),...r,children:[a.jsx(Cee,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(TF,{}),a.jsx(Pee,{})]}));OF.displayName=AF.displayName;const TF=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(ok,{ref:n,orientation:t,className:ce("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(NF,{className:"relative flex-1 rounded-full bg-border"})}));TF.displayName=ok.displayName;function Lt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Do(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const IF=6048e5,Eee=864e5,vg=43200,eO=1440;let Aee={};function dp(){return Aee}function Qh(e,t){var l,c,u,d;const r=dp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Lt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Uv(e){return Qh(e,{weekStartsOn:1})}function RF(e){const t=Lt(e),r=t.getFullYear(),n=Do(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Uv(n),i=Do(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Uv(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function tO(e){const t=Lt(e);return t.setHours(0,0,0,0),t}function Vv(e){const t=Lt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function $F(e,t){const r=tO(e),n=tO(t),s=+r-Vv(r),i=+n-Vv(n);return Math.round((s-i)/Eee)}function Oee(e){const t=RF(e),r=Do(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Uv(r)}function Zg(e,t){const r=Lt(e),n=Lt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Tee(e){return Do(e,Date.now())}function Iee(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ree(e){if(!Iee(e)&&typeof e!="number")return!1;const t=Lt(e);return!isNaN(Number(t))}function $ee(e,t){const r=Lt(e),n=Lt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Mee(e,t){const r=Lt(e),n=Lt(t),s=rO(r,n),i=Math.abs($F(r,n));r.setDate(r.getDate()-s*i);const o=+(rO(r,n)===-s),l=s*(i-o);return l===0?0:l}function rO(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Dee(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Lee(e,t){return+Lt(e)-+Lt(t)}function Fee(e){const t=Lt(e);return t.setHours(23,59,59,999),t}function Bee(e){const t=Lt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Uee(e){const t=Lt(e);return+Fee(t)==+Bee(t)}function Vee(e,t){const r=Lt(e),n=Lt(t),s=Zg(r,n),i=Math.abs($ee(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Zg(r,n)===-s;Uee(Lt(e))&&i===1&&Zg(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function qee(e,t,r){const n=Lee(e,t)/1e3;return Dee(r==null?void 0:r.roundingMethod)(n)}function zee(e){const t=Lt(e),r=Do(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Wee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hee=(e,t,r)=>{let n;const s=Wee[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function fw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Kee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qee={date:fw({formats:Kee,defaultWidth:"full"}),time:fw({formats:Gee,defaultWidth:"full"}),dateTime:fw({formats:Yee,defaultWidth:"full"})},Xee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zee=(e,t,r,n)=>Xee[e];function Sf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Jee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ete={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ste={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ate=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ite={ordinalNumber:ate,era:Sf({values:Jee,defaultWidth:"wide"}),quarter:Sf({values:ete,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sf({values:tte,defaultWidth:"wide"}),day:Sf({values:rte,defaultWidth:"wide"}),dayPeriod:Sf({values:nte,defaultWidth:"wide",formattingValues:ste,defaultFormattingWidth:"wide"})};function _f(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?lte(l,f=>f.test(o)):ote(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function ote(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function lte(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function cte(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const ute=/^(\d+)(th|st|nd|rd)?/i,dte=/\d+/i,fte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hte={any:[/^b/i,/^(a|c)/i]},mte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pte={any:[/1/i,/2/i,/3/i,/4/i]},gte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jte={ordinalNumber:cte({matchPattern:ute,parsePattern:dte,valueCallback:e=>parseInt(e,10)}),era:_f({matchPatterns:fte,defaultMatchWidth:"wide",parsePatterns:hte,defaultParseWidth:"any"}),quarter:_f({matchPatterns:mte,defaultMatchWidth:"wide",parsePatterns:pte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_f({matchPatterns:gte,defaultMatchWidth:"wide",parsePatterns:vte,defaultParseWidth:"any"}),day:_f({matchPatterns:yte,defaultMatchWidth:"wide",parsePatterns:xte,defaultParseWidth:"any"}),dayPeriod:_f({matchPatterns:bte,defaultMatchWidth:"any",parsePatterns:wte,defaultParseWidth:"any"})},MF={code:"en-US",formatDistance:Hee,formatLong:Qee,formatRelative:Zee,localize:ite,match:jte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ste(e){const t=Lt(e);return $F(t,zee(t))+1}function _te(e){const t=Lt(e),r=+Uv(t)-+Oee(t);return Math.round(r/IF)+1}function DF(e,t){var d,f,h,p;const r=Lt(e),n=r.getFullYear(),s=dp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Do(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Qh(o,t),c=Do(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Qh(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Nte(e,t){var l,c,u,d;const r=dp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=DF(e,t),i=Do(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Qh(i,t)}function kte(e,t){const r=Lt(e),n=+Qh(r,t)-+Nte(r,t);return Math.round(n/IF)+1}function Mt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Hi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Mt(s,t.length)}},Uc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Hi.y(e,t)},Y:function(e,t,r,n){const s=DF(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Mt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mt(i,t.length)},R:function(e,t){const r=RF(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Hi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=kte(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Mt(s,t.length)},I:function(e,t,r){const n=_te(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Hi.d(e,t)},D:function(e,t,r){const n=Ste(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Mt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Uc.noon:n===0?s=Uc.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Uc.evening:n>=12?s=Uc.afternoon:n>=4?s=Uc.morning:s=Uc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Hi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Hi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Hi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Hi.s(e,t)},S:function(e,t){return Hi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return aO(n);case"XXXX":case"XX":return fl(n);case"XXXXX":case"XXX":default:return fl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return aO(n);case"xxxx":case"xx":return fl(n);case"xxxxx":case"xxx":default:return fl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sO(n,":");case"OOOO":default:return"GMT"+fl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sO(n,":");case"zzzz":default:return"GMT"+fl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Mt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Mt(n,t.length)}};function sO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Mt(i,2)}function aO(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):fl(e,t)}function fl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Mt(Math.trunc(n/60),2),i=Mt(n%60,2);return r+s+t+i}const iO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},LF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Cte=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return iO(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",iO(n,t)).replace("{{time}}",LF(s,t))},Pte={p:LF,P:Cte},Ete=/^D+$/,Ate=/^Y+$/,Ote=["D","DD","YY","YYYY"];function Tte(e){return Ete.test(e)}function Ite(e){return Ate.test(e)}function Rte(e,t,r){const n=$te(e,t,r);if(console.warn(n),Ote.includes(e))throw new RangeError(n)}function $te(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lte=/^'([^]*?)'?$/,Fte=/''/g,Bte=/[a-zA-Z]/;function sd(e,t,r){var d,f,h,p;const n=dp(),s=n.locale??MF,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=Lt(e);if(!Ree(l))throw new RangeError("Invalid time value");let c=t.match(Dte).map(x=>{const m=x[0];if(m==="p"||m==="P"){const b=Pte[m];return b(x,s.formatLong)}return x}).join("").match(Mte).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const m=x[0];if(m==="'")return{isToken:!1,value:Ute(x)};if(nO[m])return{isToken:!0,value:x};if(m.match(Bte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const m=x.value;(Ite(m)||Tte(m))&&Rte(m,t,String(e));const b=nO[m[0]];return b(l,m,s.localize,u)}).join("")}function Ute(e){const t=e.match(Lte);return t?t[1].replace(Fte,"'"):e}function Vte(e,t,r){const n=dp(),s=(r==null?void 0:r.locale)??n.locale??MF,i=2520,o=Zg(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Lt(t),u=Lt(e)):(c=Lt(e),u=Lt(t));const d=qee(u,c),f=(Vv(u)-Vv(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<eO){const x=Math.round(h/60);return s.formatDistance("aboutXHours",x,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<vg){const x=Math.round(h/eO);return s.formatDistance("xDays",x,l)}else if(h<vg*2)return p=Math.round(h/vg),s.formatDistance("aboutXMonths",p,l)}if(p=Vee(u,c),p<12){const x=Math.round(h/vg);return s.formatDistance("xMonths",x,l)}else{const x=p%12,m=Math.trunc(p/12);return x<3?s.formatDistance("aboutXYears",m,l):x<9?s.formatDistance("overXYears",m,l):s.formatDistance("almostXYears",m+1,l)}}function FF(e,t){return Vte(e,Tee(e),t)}function qte(){const[e,t]=v.useState(!1),{data:r=[],isLoading:n}=we({queryKey:["/api/notifications"]}),{data:s}=we({queryKey:["/api/notifications/unread-count"]}),i=Re({mutationFn:async f=>{await Oe("POST",`/api/notifications/${f}/read`)},onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/notifications"]}),Se.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),o=Re({mutationFn:async()=>{await Oe("POST","/api/notifications/read-all")},onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/notifications"]}),Se.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=Re({mutationFn:async f=>{await Oe("DELETE",`/api/notifications/${f}`)},onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/notifications"]}),Se.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),c=(s==null?void 0:s.count)||0,u=f=>{switch(f){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},d=f=>{f.isRead||i.mutate(f.id),f.link&&t(!1)};return a.jsxs(hee,{open:e,onOpenChange:t,children:[a.jsx(mee,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[a.jsx(Xu,{className:"w-5 h-5"}),c>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] px-1 text-xs font-medium text-white bg-red-500 rounded-full","data-testid":"notification-count",children:c>99?"99+":c})]})}),a.jsxs(vF,{className:"w-80 p-0",align:"end",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[a.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),c>0&&a.jsxs(U,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-mark-all-read",children:[a.jsx(Sn,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),a.jsx(OF,{className:"h-[300px]",children:n?a.jsx("div",{className:"flex items-center justify-center h-20",children:a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-primary border-t-transparent rounded-full"})}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-sm text-muted-foreground",children:[a.jsx(Xu,{className:"w-8 h-8 mb-2 opacity-50"}),a.jsx("p",{children:"No notifications"})]}):a.jsx("div",{className:"divide-y",children:r.map(f=>a.jsx("div",{className:`p-3 group ${f.isRead?"":"bg-muted/50"}`,"data-testid":`notification-item-${f.id}`,children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${u(f.type)}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[f.link?a.jsx(le,{href:f.link,onClick:()=>d(f),children:a.jsx("p",{className:"text-sm font-medium cursor-pointer hover:underline",children:f.title})}):a.jsx("p",{className:"text-sm font-medium",children:f.title}),a.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:f.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:FF(new Date(f.createdAt),{addSuffix:!0})})]}),a.jsxs("div",{className:"flex items-start gap-1 invisible group-hover:visible",children:[!f.isRead&&a.jsx(U,{variant:"ghost",size:"icon",className:"w-6 h-6",onClick:()=>i.mutate(f.id),disabled:i.isPending,"data-testid":`button-mark-read-${f.id}`,children:a.jsx(Sn,{className:"w-3 h-3"})}),a.jsx(U,{variant:"ghost",size:"icon",className:"w-6 h-6 text-destructive",onClick:()=>l.mutate(f.id),disabled:l.isPending,"data-testid":`button-delete-notification-${f.id}`,children:a.jsx(nn,{className:"w-3 h-3"})})]})]})},f.id))})}),a.jsx("div",{className:"p-2 border-t",children:a.jsx(le,{href:"/profile?tab=notifications",onClick:()=>t(!1),children:a.jsx(U,{variant:"ghost",className:"w-full text-xs h-8","data-testid":"button-view-all-notifications",children:"View all notifications"})})})]})]})}var hw="rovingFocusGroup.onEntryFocus",zte={bubbles:!1,cancelable:!0},fp="RovingFocusGroup",[P1,BF,Wte]=Zm(fp),[Hte,Hx]=gn(fp,[Wte]),[Kte,Gte]=Hte(fp),UF=v.forwardRef((e,t)=>a.jsx(P1.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(P1.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Yte,{...e,ref:t})})}));UF.displayName=fp;var Yte=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),p=Ze(t,h),x=Kd(i),[m,b]=rs({prop:o,defaultProp:l??null,onChange:c,caller:fp}),[y,g]=v.useState(!1),w=mr(u),_=BF(r),j=v.useRef(!1),[S,N]=v.useState(0);return v.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(hw,w),()=>k.removeEventListener(hw,w)},[w]),a.jsx(Kte,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:m,onItemFocus:v.useCallback(k=>b(k),[b]),onItemShiftTab:v.useCallback(()=>g(!0),[]),onFocusableItemAdd:v.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:v.useCallback(()=>N(k=>k-1),[]),children:a.jsx(Ae.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:fe(e.onMouseDown,()=>{j.current=!0}),onFocus:fe(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!y){const E=new CustomEvent(hw,zte);if(k.currentTarget.dispatchEvent(E),!E.defaultPrevented){const A=_().filter(D=>D.focusable),R=A.find(D=>D.active),T=A.find(D=>D.id===m),O=[R,T,...A].filter(Boolean).map(D=>D.ref.current);zF(O,d)}}j.current=!1}),onBlur:fe(e.onBlur,()=>g(!1))})})}),VF="RovingFocusGroupItem",qF=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Er(),u=i||c,d=Gte(VF,r),f=d.currentTabStopId===u,h=BF(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:m}=d;return v.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),a.jsx(P1.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Ae.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:fe(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:fe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:fe(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=Zte(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const _=w.indexOf(b.currentTarget);w=d.loop?Jte(w,_+1):w.slice(_+1)}setTimeout(()=>zF(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});qF.displayName=VF;var Qte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xte(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Zte(e,t,r){const n=Xte(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Qte[n]}function zF(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Jte(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var WF=UF,HF=qF;function ere(e){const t=tre(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(nre);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function tre(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=are(s),l=sre(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Fn(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rre=Symbol("radix.slottable");function nre(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rre}function sre(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function are(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var E1=["Enter"," "],ire=["ArrowDown","PageUp","Home"],KF=["ArrowUp","PageDown","End"],ore=[...ire,...KF],lre={ltr:[...E1,"ArrowRight"],rtl:[...E1,"ArrowLeft"]},cre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hp="Menu",[Xh,ure,dre]=Zm(hp),[bc,GF]=gn(hp,[dre,Wo,Hx]),Kx=Wo(),YF=Hx(),[fre,wc]=bc(hp),[hre,mp]=bc(hp),QF=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Kx(t),[c,u]=v.useState(null),d=v.useRef(!1),f=mr(i),h=Kd(s);return v.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),a.jsx(Ox,{...l,children:a.jsx(fre,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(hre,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};QF.displayName=hp;var mre="MenuAnchor",uk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Kx(r);return a.jsx(ap,{...s,...n,ref:t})});uk.displayName=mre;var dk="MenuPortal",[pre,XF]=bc(dk,{forceMount:void 0}),ZF=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=wc(dk,t);return a.jsx(pre,{scope:t,forceMount:r,children:a.jsx(Qr,{present:r||i.open,children:a.jsx(Fd,{asChild:!0,container:s,children:n})})})};ZF.displayName=dk;var Ls="MenuContent",[gre,fk]=bc(Ls),JF=v.forwardRef((e,t)=>{const r=XF(Ls,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=wc(Ls,e.__scopeMenu),o=mp(Ls,e.__scopeMenu);return a.jsx(Xh.Provider,{scope:e.__scopeMenu,children:a.jsx(Qr,{present:n||i.open,children:a.jsx(Xh.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(vre,{...s,ref:t}):a.jsx(yre,{...s,ref:t})})})})}),vre=v.forwardRef((e,t)=>{const r=wc(Ls,e.__scopeMenu),n=v.useRef(null),s=Ze(t,n);return v.useEffect(()=>{const i=n.current;if(i)return Ux(i)},[]),a.jsx(hk,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:fe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),yre=v.forwardRef((e,t)=>{const r=wc(Ls,e.__scopeMenu);return a.jsx(hk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),xre=ere("MenuContent.ScrollLock"),hk=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:x,...m}=e,b=wc(Ls,r),y=mp(Ls,r),g=Kx(r),w=YF(r),_=ure(r),[j,S]=v.useState(null),N=v.useRef(null),k=Ze(t,N,b.onContentChange),C=v.useRef(0),E=v.useRef(""),A=v.useRef(0),R=v.useRef(null),T=v.useRef("right"),I=v.useRef(0),O=x?cp:v.Fragment,D=x?{as:xre,allowPinchZoom:!0}:void 0,V=$=>{var J,ie;const K=E.current+$,te=_().filter(Y=>!Y.disabled),B=document.activeElement,G=(J=te.find(Y=>Y.ref.current===B))==null?void 0:J.textValue,re=te.map(Y=>Y.textValue),ae=Ore(re,K,G),ke=(ie=te.find(Y=>Y.textValue===ae))==null?void 0:ie.ref.current;(function Y(Q){E.current=Q,window.clearTimeout(C.current),Q!==""&&(C.current=window.setTimeout(()=>Y(""),1e3))})(K),ke&&setTimeout(()=>ke.focus())};v.useEffect(()=>()=>window.clearTimeout(C.current),[]),Bx();const P=v.useCallback($=>{var te,B;return T.current===((te=R.current)==null?void 0:te.side)&&Ire($,(B=R.current)==null?void 0:B.area)},[]);return a.jsx(gre,{scope:r,searchRef:E,onItemEnter:v.useCallback($=>{P($)&&$.preventDefault()},[P]),onItemLeave:v.useCallback($=>{var K;P($)||((K=N.current)==null||K.focus(),S(null))},[P]),onTriggerLeave:v.useCallback($=>{P($)&&$.preventDefault()},[P]),pointerGraceTimerRef:A,onPointerGraceIntentChange:v.useCallback($=>{R.current=$},[]),children:a.jsx(O,{...D,children:a.jsx(lp,{asChild:!0,trapped:s,onMountAutoFocus:fe(i,$=>{var K;$.preventDefault(),(K=N.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(yc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(WF,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:fe(c,$=>{y.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Tx,{role:"menu","aria-orientation":"vertical","data-state":p3(b.open),"data-radix-menu-content":"",dir:y.dir,...g,...m,ref:k,style:{outline:"none",...m.style},onKeyDown:fe(m.onKeyDown,$=>{const te=$.target.closest("[data-radix-menu-content]")===$.currentTarget,B=$.ctrlKey||$.altKey||$.metaKey,G=$.key.length===1;te&&($.key==="Tab"&&$.preventDefault(),!B&&G&&V($.key));const re=N.current;if($.target!==re||!ore.includes($.key))return;$.preventDefault();const ke=_().filter(J=>!J.disabled).map(J=>J.ref.current);KF.includes($.key)&&ke.reverse(),Ere(ke)}),onBlur:fe(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:fe(e.onPointerMove,Zh($=>{const K=$.target,te=I.current!==$.clientX;if($.currentTarget.contains(K)&&te){const B=$.clientX>I.current?"right":"left";T.current=B,I.current=$.clientX}}))})})})})})})});JF.displayName=Ls;var bre="MenuGroup",mk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ae.div,{role:"group",...n,ref:t})});mk.displayName=bre;var wre="MenuLabel",e3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ae.div,{...n,ref:t})});e3.displayName=wre;var qv="MenuItem",oO="menu.itemSelect",Gx=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=v.useRef(null),o=mp(qv,e.__scopeMenu),l=fk(qv,e.__scopeMenu),c=Ze(t,i),u=v.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(oO,{bubbles:!0,cancelable:!0});f.addEventListener(oO,p=>n==null?void 0:n(p),{once:!0}),PN(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(t3,{...s,ref:c,disabled:r,onClick:fe(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:fe(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:fe(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||E1.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Gx.displayName=qv;var t3=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=fk(qv,r),l=YF(r),c=v.useRef(null),u=Ze(t,c),[d,f]=v.useState(!1),[h,p]=v.useState("");return v.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[i.children]),a.jsx(Xh.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(HF,{asChild:!0,...l,focusable:!n,children:a.jsx(Ae.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:fe(e.onPointerMove,Zh(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(e.onPointerLeave,Zh(x=>o.onItemLeave(x))),onFocus:fe(e.onFocus,()=>f(!0)),onBlur:fe(e.onBlur,()=>f(!1))})})})}),jre="MenuCheckboxItem",r3=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(o3,{scope:e.__scopeMenu,checked:r,children:a.jsx(Gx,{role:"menuitemcheckbox","aria-checked":zv(r)?"mixed":r,...s,ref:t,"data-state":gk(r),onSelect:fe(s.onSelect,()=>n==null?void 0:n(zv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});r3.displayName=jre;var n3="MenuRadioGroup",[Sre,_re]=bc(n3,{value:void 0,onValueChange:()=>{}}),s3=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=mr(n);return a.jsx(Sre,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(mk,{...s,ref:t})})});s3.displayName=n3;var a3="MenuRadioItem",i3=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=_re(a3,e.__scopeMenu),i=r===s.value;return a.jsx(o3,{scope:e.__scopeMenu,checked:i,children:a.jsx(Gx,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":gk(i),onSelect:fe(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});i3.displayName=a3;var pk="MenuItemIndicator",[o3,Nre]=bc(pk,{checked:!1}),l3=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Nre(pk,r);return a.jsx(Qr,{present:n||zv(i.checked)||i.checked===!0,children:a.jsx(Ae.span,{...s,ref:t,"data-state":gk(i.checked)})})});l3.displayName=pk;var kre="MenuSeparator",c3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});c3.displayName=kre;var Cre="MenuArrow",u3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Kx(r);return a.jsx(Ix,{...s,...n,ref:t})});u3.displayName=Cre;var Pre="MenuSub",[_$e,d3]=bc(Pre),Wf="MenuSubTrigger",f3=v.forwardRef((e,t)=>{const r=wc(Wf,e.__scopeMenu),n=mp(Wf,e.__scopeMenu),s=d3(Wf,e.__scopeMenu),i=fk(Wf,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(uk,{asChild:!0,...u,children:a.jsx(t3,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":p3(r.open),...e,ref:Fn(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:fe(e.onPointerMove,Zh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:fe(e.onPointerLeave,Zh(f=>{var p,x;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(x=r.content)==null?void 0:x.dataset.side,b=m==="right",y=b?-5:5,g=h[b?"left":"right"],w=h[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:g,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:g,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:fe(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||lre[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});f3.displayName=Wf;var h3="MenuSubContent",m3=v.forwardRef((e,t)=>{const r=XF(Ls,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=wc(Ls,e.__scopeMenu),o=mp(Ls,e.__scopeMenu),l=d3(h3,e.__scopeMenu),c=v.useRef(null),u=Ze(t,c);return a.jsx(Xh.Provider,{scope:e.__scopeMenu,children:a.jsx(Qr,{present:n||i.open,children:a.jsx(Xh.Slot,{scope:e.__scopeMenu,children:a.jsx(hk,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:fe(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:fe(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:fe(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=cre[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});m3.displayName=h3;function p3(e){return e?"open":"closed"}function zv(e){return e==="indeterminate"}function gk(e){return zv(e)?"indeterminate":e?"checked":"unchecked"}function Ere(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Are(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Ore(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Are(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Tre(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function Ire(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Tre(r,t)}function Zh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Rre=QF,$re=uk,Mre=ZF,Dre=JF,Lre=mk,Fre=e3,Bre=Gx,Ure=r3,Vre=s3,qre=i3,zre=l3,Wre=c3,Hre=u3,Kre=f3,Gre=m3,Yx="DropdownMenu",[Yre]=gn(Yx,[GF]),Vn=GF(),[Qre,g3]=Yre(Yx),v3=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Vn(t),u=v.useRef(null),[d,f]=rs({prop:s,defaultProp:i??!1,onChange:o,caller:Yx});return a.jsx(Qre,{scope:t,triggerId:Er(),triggerRef:u,contentId:Er(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(Rre,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};v3.displayName=Yx;var y3="DropdownMenuTrigger",x3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=g3(y3,r),o=Vn(r);return a.jsx($re,{asChild:!0,...o,children:a.jsx(Ae.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Fn(t,i.triggerRef),onPointerDown:fe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:fe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});x3.displayName=y3;var Xre="DropdownMenuPortal",b3=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Vn(t);return a.jsx(Mre,{...n,...r})};b3.displayName=Xre;var w3="DropdownMenuContent",j3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=g3(w3,r),i=Vn(r),o=v.useRef(!1);return a.jsx(Dre,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:fe(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:fe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});j3.displayName=w3;var Zre="DropdownMenuGroup",Jre=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Vn(r);return a.jsx(Lre,{...s,...n,ref:t})});Jre.displayName=Zre;var ene="DropdownMenuLabel",S3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Vn(r);return a.jsx(Fre,{...s,...n,ref:t})});S3.displayName=ene;var tne="DropdownMenuItem",_3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Vn(r);return a.jsx(Bre,{...s,...n,ref:t})});_3.displayName=tne;var rne="DropdownMenuCheckboxItem",N3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Vn(r);return a.jsx(Ure,{...s,...n,ref:t})});N3.displayName=rne;var nne="DropdownMenuRadioGroup",sne=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Vn(r);return a.jsx(Vre,{...s,...n,ref:t})});sne.displayName=nne;var ane="DropdownMenuRadioItem",k3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Vn(r);return a.jsx(qre,{...s,...n,ref:t})});k3.displayName=ane;var ine="DropdownMenuItemIndicator",C3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Vn(r);return a.jsx(zre,{...s,...n,ref:t})});C3.displayName=ine;var one="DropdownMenuSeparator",P3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Vn(r);return a.jsx(Wre,{...s,...n,ref:t})});P3.displayName=one;var lne="DropdownMenuArrow",cne=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Vn(r);return a.jsx(Hre,{...s,...n,ref:t})});cne.displayName=lne;var une="DropdownMenuSubTrigger",E3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Vn(r);return a.jsx(Kre,{...s,...n,ref:t})});E3.displayName=une;var dne="DropdownMenuSubContent",A3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Vn(r);return a.jsx(Gre,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A3.displayName=dne;var fne=v3,hne=x3,mne=b3,O3=j3,T3=S3,I3=_3,R3=N3,$3=k3,M3=C3,D3=P3,L3=E3,F3=A3;const pne=fne,gne=hne,vne=v.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(L3,{ref:s,className:ce("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,a.jsx(Gn,{className:"ml-auto"})]}));vne.displayName=L3.displayName;const yne=v.forwardRef(({className:e,...t},r)=>a.jsx(F3,{ref:r,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));yne.displayName=F3.displayName;const B3=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(mne,{children:a.jsx(O3,{ref:n,sideOffset:t,className:ce("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));B3.displayName=O3.displayName;const Jg=v.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(I3,{ref:n,className:ce("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Jg.displayName=I3.displayName;const xne=v.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(R3,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(M3,{children:a.jsx(Sn,{className:"h-4 w-4"})})}),t]}));xne.displayName=R3.displayName;const bne=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs($3,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(M3,{children:a.jsx(tK,{className:"h-2 w-2 fill-current"})})}),t]}));bne.displayName=$3.displayName;const wne=v.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(T3,{ref:n,className:ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));wne.displayName=T3.displayName;const A1=v.forwardRef(({className:e,...t},r)=>a.jsx(D3,{ref:r,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));A1.displayName=D3.displayName;const jne=[{label:"Facilities",href:"/facilities"},{label:"Events & Academies",href:"/events"},{label:"Updates",href:"/roadmap"},{label:"Gallery",href:"/gallery"}];function Ar({onScrollTo:e}){const[t,r]=v.useState(!1),{user:n,isAuthenticated:s}=Hd(),[i]=ss(),{data:o}=we({queryKey:["/api/site-settings"],queryFn:async()=>{try{const y=await fetch("/api/site-settings");if(!y.ok)return{};const g=await y.json();return g&&typeof g=="object"&&!g.message?g:{}}catch{return{}}}}),{data:l}=we({queryKey:["/api/navbar-items"],queryFn:async()=>{try{const y=await fetch("/api/navbar-items");if(!y.ok)return[];const g=await y.json();return Array.isArray(g)?g:[]}catch{return[]}}}),{data:c}=we({queryKey:["/api/admin/config"],enabled:s&&((n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN")}),u=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN",d=y=>{if(i!=="/"){window.location.href=`/#${y}`;return}const g=document.getElementById(y);if(!g)return;const _=g.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:_,behavior:"smooth"}),r(!1)},f=(y,g="")=>(o==null?void 0:o[y])||g,h=f("logo_main_url"),p=f("site_name","The Quarterdeck"),x=f("site_tagline","Sports & Recreation Complex"),m=v.useMemo(()=>!l||l.length===0?jne:l.filter(y=>y.isVisible).sort((y,g)=>(y.sortOrder||0)-(g.sortOrder||0)).map(y=>{var g;return y.href==="/#gallery"?{label:y.label,href:"/gallery"}:y.href==="/#contact"?{label:y.label,href:"/contact"}:(g=y.href)!=null&&g.startsWith("/#")?{label:y.label,section:y.href.replace("/#","")}:{label:y.label,href:y.href}}),[l]),b=y=>{y.href?(r(!1),window.location.href=y.href):y.section&&d(y.section)};return a.jsxs("header",{className:"sticky top-0 z-50 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-15 dark:opacity-25",style:{backgroundImage:`url(${sk})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),a.jsxs("div",{className:"qd-container relative z-10",children:[a.jsxs("nav",{className:"h-[70px] flex items-center justify-between gap-8",children:[a.jsx(le,{href:"/",children:a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-logo",children:[h?a.jsx("img",{src:h,alt:p,className:"h-10 w-auto object-contain","data-testid":"img-site-logo"}):a.jsx("div",{className:"qd-logo-mark",children:"Q"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:p}),a.jsx("div",{className:"text-xs text-primary-foreground/70",children:x})]})]})}),a.jsx("div",{className:"hidden lg:flex items-center gap-7 text-sm text-primary-foreground/70",children:m.map(y=>y.href?a.jsx(le,{href:y.href,children:a.jsx("span",{className:"hover:text-primary-foreground transition-colors cursor-pointer","data-testid":`link-nav-${y.label.toLowerCase()}`,children:y.label})},y.label):a.jsx("button",{onClick:()=>d(y.section),className:"hover:text-primary-foreground transition-colors","data-testid":`link-nav-${y.section}`,children:y.label},y.section))}),a.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[a.jsx(VA,{}),s?a.jsxs(a.Fragment,{children:[a.jsx(qte,{}),a.jsx(le,{href:"/booking",children:a.jsx(U,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})}),a.jsxs(pne,{children:[a.jsx(gne,{asChild:!0,children:a.jsxs(U,{variant:"outline",className:"rounded-full gap-2","data-testid":"button-user-menu",children:[a.jsx(fa,{className:"w-4 h-4"}),(n==null?void 0:n.firstName)||"Account",a.jsx(xc,{className:"w-3 h-3"})]})}),a.jsxs(B3,{align:"end",className:"w-48",children:[a.jsx(le,{href:"/profile",children:a.jsxs(Jg,{className:"cursor-pointer","data-testid":"menu-item-profile",children:[a.jsx(fa,{className:"w-4 h-4 mr-2"}),"My Profile"]})}),u&&(c==null?void 0:c.adminPath)&&a.jsxs(a.Fragment,{children:[a.jsx(A1,{}),a.jsx(le,{href:`/${c.adminPath}`,children:a.jsxs(Jg,{className:"cursor-pointer","data-testid":"menu-item-admin",children:[a.jsx(Ev,{className:"w-4 h-4 mr-2"}),"Admin Dashboard"]})})]}),a.jsx(A1,{}),a.jsx("a",{href:"/api/logout",children:a.jsxs(Jg,{className:"cursor-pointer text-destructive","data-testid":"menu-item-logout",children:[a.jsx(ZE,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(le,{href:"/login",children:a.jsx(U,{variant:"outline",className:"rounded-full","data-testid":"button-login",children:"Log In"})}),a.jsx(le,{href:"/booking",children:a.jsx(U,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})})]})]}),a.jsx("button",{className:"lg:hidden p-2",onClick:()=>r(!t),"aria-label":"Toggle navigation","data-testid":"button-mobile-menu",children:t?a.jsx(Ju,{className:"w-5 h-5 text-primary-foreground"}):a.jsx(LD,{className:"w-5 h-5 text-primary-foreground"})})]}),t&&a.jsxs("div",{className:"lg:hidden flex flex-col gap-2 pb-4 border-t border-primary-foreground/10 pt-4 animate-qd-fade-in",children:[m.map(y=>y.href?a.jsx(le,{href:y.href,children:a.jsx("span",{className:"block text-left py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground cursor-pointer",onClick:()=>r(!1),"data-testid":`link-mobile-nav-${y.label.toLowerCase()}`,children:y.label})},y.label):a.jsx("button",{onClick:()=>b(y),className:"text-left py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground","data-testid":`link-mobile-nav-${y.section}`,children:y.label},y.section)),a.jsxs("div",{className:"flex items-center justify-between border-t border-primary-foreground/10 pt-4 mt-4",children:[a.jsx("span",{className:"text-sm text-primary-foreground/70",children:"Theme"}),a.jsx(VA,{})]}),a.jsx("div",{className:"flex flex-col gap-2 mt-4",children:s?a.jsxs(a.Fragment,{children:[a.jsx(le,{href:"/profile",onClick:()=>r(!1),children:a.jsxs(U,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-profile",children:[a.jsx(fa,{className:"w-4 h-4"}),"My Profile"]})}),u&&(c==null?void 0:c.adminPath)&&a.jsx(le,{href:`/${c.adminPath}`,onClick:()=>r(!1),children:a.jsxs(U,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-admin",children:[a.jsx(Ev,{className:"w-4 h-4"}),"Admin Dashboard"]})}),a.jsx(le,{href:"/booking",onClick:()=>r(!1),children:a.jsx(U,{className:"w-full rounded-full","data-testid":"button-mobile-book",children:"Book Now"})}),a.jsx("a",{href:"/api/logout",children:a.jsxs(U,{variant:"outline",className:"w-full rounded-full gap-2 text-destructive","data-testid":"button-mobile-logout",children:[a.jsx(ZE,{className:"w-4 h-4"}),"Log Out"]})})]}):a.jsx(a.Fragment,{children:a.jsx(le,{href:"/login",children:a.jsx(U,{className:"w-full rounded-full","data-testid":"button-mobile-login",children:"Log In"})})})})]})]})]})}function Or(){const{data:e,isLoading:t}=we({queryKey:["/api/site-settings"],queryFn:async()=>{try{const u=await fetch("/api/site-settings");if(!u.ok)return{};const d=await u.json();return d&&typeof d=="object"&&!d.message?d:{}}catch{return{}}},staleTime:3e5}),r=(u,d="")=>(e==null?void 0:e[u])||d,n=r("site_name","The Quarterdeck"),s=r("site_tagline","Sports & Recreation Complex"),i=r("instagram_url")||r("social_instagram","#"),o=r("facebook_url")||r("social_facebook","#"),l=r("linkedin_url")||r("social_linkedin","#"),c=new Date().getFullYear();return a.jsxs("footer",{className:"qd-footer relative overflow-hidden bg-primary dark:bg-slate-900",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-10 dark:opacity-20",style:{backgroundImage:`url(${sk})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary via-primary/95 to-primary/80 dark:from-slate-900 dark:via-slate-900/95 dark:to-slate-900/80"}),a.jsxs("div",{className:"qd-container relative z-10",children:[a.jsxs("div",{className:"flex flex-wrap justify-between gap-6 items-center",children:[a.jsx(le,{href:"/",children:a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-footer-logo",children:[a.jsx("div",{className:"qd-logo-mark",children:n.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:n}),a.jsx("div",{className:"text-xs text-primary-foreground/70",children:s})]})]})}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(le,{href:"/vision",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-about",children:"About Us"})}),a.jsx(le,{href:"/rules",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-rules",children:"Rules & Safety"})}),a.jsx(le,{href:"/careers",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-careers",children:"Careers"})}),a.jsx(le,{href:"/contact",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-contact",children:"Contact"})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Instagram","data-testid":"link-social-instagram",children:a.jsx(MD,{className:"w-4 h-4"})}),a.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Facebook","data-testid":"link-social-facebook",children:a.jsx(AD,{className:"w-4 h-4"})}),a.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"LinkedIn","data-testid":"link-social-linkedin",children:a.jsx(l1,{className:"w-4 h-4"})})]})]}),a.jsxs("p",{className:"text-center mt-6 text-primary-foreground/60 text-xs",children:[" ",c," ",n,"  All rights reserved."," ",a.jsx(le,{href:"/terms",className:"font-semibold hover:text-primary-foreground cursor-pointer","data-testid":"link-footer-terms",children:"Terms & Conditions"})," | ",a.jsx(le,{href:"/privacy",className:"font-semibold hover:text-primary-foreground cursor-pointer","data-testid":"link-footer-privacy",children:"Privacy Policy"})]})]})]})}function Ot({className:e,...t}){return a.jsx("div",{className:ce("animate-pulse rounded-md bg-muted",e),...t})}function jc(e,t={}){const{data:r=[],isLoading:n}=we({queryKey:["/api/cms/bulk"],staleTime:3e5,retry:!1}),s={};return e.forEach(i=>{const o=r.find(l=>l.key===i);s[i]=(o==null?void 0:o.content)||t[i]||""}),{content:s,isLoading:n,getValue:i=>s[i]||t[i]||""}}const Ye={hero_title:'A bright, premium <span class="qd-hero-highlight">multi-sport arena</span> built for play, performance & community.',hero_subtitle:"The Quarterdeck brings state-of-the-art Padel Tennis, Squash, an Air Rifle Range, a Multipurpose Hall, Bridge Room, and an Open Cafe/Bar experience into a single, purpose-built complex. We are setting the new standard for indoor sports and recreation in Islamabad.",hero_eyebrow:"Target Launch: December 25, 2025",hero_launch_date:"2025-12-25",hero_cta_1:"Explore Facilities",hero_cta_2:"View Site Updates",hero_countdown_label:"Estimated Launch Countdown",hero_status_active:"Construction Active",hero_status_updates:"Transparent progress updates",hero_status_booking:"Early booking & waitlists planned",about_title:"About The Quarterdeck",about_subtitle:"Our core vision: Excellence in Play and Community. We are building Islamabad's premier destination for indoor sports, recreation, and social gathering.",about_cta:"See Our Vision",about_vision_title:"Vision & Philosophy",about_vision_content:"The Quarterdeck is born from a simple idea: that sports facilities should be world-class, accessible, and designed for social connection. We prioritize bright, modern architecture, superior court surfaces, and a welcoming atmosphere. Our aim is to cultivate a vibrant community around Padel, Squash, and recreational activities.",about_vision_content_2:"We are locally invested and committed to transparency throughout the construction and launch phases, ensuring the highest standards of quality and service.",about_tags:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly",about_team_title:"The Project Team",about_team_content:"The project is managed by a consortium of local real estate developers, sports enthusiasts, and seasoned facility operators. We have brought together expertise in engineering, architecture, and sports management to deliver an exceptional facility.",about_team_credits:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation",facilities_title:"Facilities at a Glance",facilities_subtitle:'The complex is engineered for high-performance sports and comfortable recreation. Click "View details" for the dedicated facility pages.',facilities_cta:"Check Court Availability",membership_title:"Membership & Pricing",membership_subtitle:"Choose the membership tier that fits your lifestyle. All members enjoy priority booking, exclusive discounts, and access to our world-class facilities.",membership_cta:"Inquire Now",membership_comparison_title:"Quick Comparison",membership_footer:"Questions about membership? Contact us for more details or to discuss corporate packages.",membership_contact_cta:"Contact for Details",membership_terms_cta:"View Terms & Conditions",founding_tier_name:"Founding Member",founding_tier_label:"Limited & Exclusive",founding_tier_description:"For early supporters and investors who believe in our vision.",founding_tier_price:"PKR 35,000",founding_tier_period:"/month",founding_tier_features:"Lifetime priority booking (14-day window)|25% discount on all court bookings|10 guest passes per month|Access to exclusive Bridge Room|Permanent credit bonus (10%)|VIP parking & locker|Invitation to all exclusive events|Founding member recognition wall",gold_tier_name:"Gold Membership",gold_tier_label:"Premium Access",gold_tier_description:"For serious athletes and frequent players who want the best experience.",gold_tier_price:"PKR 15,000",gold_tier_period:"/month",gold_tier_features:"7-day advance booking window|20% discount on all court bookings|4 guest passes per month|Priority event registration|15% off coaching & clinics|Free equipment rental (2x/month)|Access to member lounge",silver_tier_name:"Silver Membership",silver_tier_label:"Standard Access",silver_tier_description:"Perfect for recreational players who want regular access at great value.",silver_tier_price:"PKR 5,000",silver_tier_period:"/month",silver_tier_features:"5-day advance booking window|10% discount on off-peak bookings|2 guest passes per month|10% off coaching & clinics|Member newsletter & updates|Discounted event entry",guest_tier_name:"Pay-to-Play",guest_tier_label:"Non-Member Access",guest_tier_description:"Try our facilities without commitment. Subject to availability.",guest_tier_price:"Standard",guest_tier_price_suffix:" rates",guest_tier_features:"2-day advance booking window|Access after member priority|Equipment rental available|Guest registration required|Can be upgraded to membership",contact_title:"Contact & Early Interest",contact_subtitle:"Connect with Our Development Team: Use the form to subscribe to our construction updates, inquire about corporate partnerships, or apply for our pre-launch membership waitlist.",contact_form_title:"Early Interest Form",contact_form_subtitle:"Submit your interest below and we'll keep you updated on our progress and launch.",contact_name_label:"Your Name",contact_email_label:"Your Email",contact_message_label:"Your Message/Interest (e.g., Padel Coaching, Corporate Event, Career Inquiry)",contact_submit:"Send Message",contact_email:"info@thequarterdeck.pk",contact_phone:"+92 51 1234567",contact_address:"Sector F-7, Islamabad, Pakistan",contact_socials_title:"Socials & Location",contact_socials_subtitle:"Follow our official channels for the most recent updates and progress photos:",contact_site_status_title:"Site Status",contact_site_status:"The complex is currently under active construction. No public access or walk-ins are permitted for safety reasons. All updates will be digital.",updates_title:"Construction Updates",updates_subtitle:"Transparent updates on progress, timeline, and achievements. Hover over each phase to see milestones.",updates_cta:"View Full Roadmap",gallery_title:"Gallery & Progress Photos",gallery_subtitle:"Visual updates from the construction site and architectural renders of the completed facility.",gallery_cta:"View Full Gallery",rules_title:"Rules & Safety Protocols",rules_subtitle:"Ensuring a safe, respectful, and high-quality environment for all members and guests. These are our key rules.",rules_cta:"View All Rules",careers_title:"Careers at The Quarterdeck",careers_subtitle:"Join our team! We are looking for passionate, high-energy individuals to help us launch and run Islamabad's premier sports complex.",careers_cta:"View Open Positions",events_title:"Events & Programs",events_subtitle:"Join tournaments, training academies, and social events at The Quarterdeck.",leaderboard_title:"Leaderboard",leaderboard_subtitle:"Track your progress and compete with fellow members.",footer_tagline:"Pakistan's Premier Sports & Recreation Complex",footer_copyright:"2024 The Quarterdeck. All rights reserved.",footer_quick_links_title:"Quick Links",footer_facilities_title:"Facilities",footer_legal_title:"Legal",social_instagram:"https://instagram.com/thequarterdeck",social_facebook:"https://facebook.com/thequarterdeck",social_linkedin:"https://linkedin.com/company/thequarterdeck",coming_soon_title:"Something Amazing Is Coming",coming_soon_subtitle:"Opening December 2025: Padel Courts & Cafe/Bar. Construction continues through 2026 for our 3-floor building with Multipurpose Hall, Bridge Room & Air Rifle Range.",coming_soon_description:"The Quarterdeck will feature world-class Padel Tennis courts, Squash facilities, an Air Rifle Range, Multipurpose Hall, Bridge Room, and an Open Cafe/Bar experience.",coming_soon_cta:"Join the Waitlist",coming_soon_progress_label:"Construction Progress",coming_soon_launch_date:"2025-12-25",coming_soon_location:"Islamabad, Pakistan",site_name:"The Quarterdeck",site_tagline:"Sports & Recreation Complex",site_launch_status:"pre-launch",navbar_book_now:"Book Now",navbar_login:"Log In",navbar_signup:"Sign Up",navbar_profile:"Profile",navbar_logout:"Log Out",navbar_admin:"Admin",navbar_dashboard:"Dashboard",footer_about_title:"About The Quarterdeck",footer_about_text:"Pakistan's premier indoor sports and recreation complex, featuring world-class Padel Tennis, Squash, Air Rifle Range, and more.",footer_newsletter_title:"Stay Updated",footer_newsletter_placeholder:"Enter your email",footer_newsletter_button:"Subscribe",footer_address_title:"Visit Us",footer_hours_title:"Opening Hours",footer_hours_weekday:"Mon-Fri: 10:00 AM - 10:00 PM",footer_hours_weekend:"Sat-Sun: 9:00 AM - 11:00 PM",footer_privacy_link:"Privacy Policy",footer_terms_link:"Terms of Service",footer_refund_link:"Refund Policy",booking_title:"Book a Court",booking_subtitle:"Select your facility, date, and time slot",booking_select_venue:"Select Venue",booking_select_facility:"Select Facility",booking_select_date:"Select Date",booking_select_time:"Select Time",booking_select_court:"Select Court",booking_duration_label:"Duration",booking_addons_title:"Add-ons",booking_summary_title:"Booking Summary",booking_confirm_button:"Confirm Booking",booking_cancel_button:"Cancel",booking_payment_title:"Payment Method",booking_no_slots:"No available slots for this date",booking_login_required:"Please log in to book",countdown_days:"Days",countdown_hours:"Hours",countdown_minutes:"Minutes",countdown_seconds:"Seconds",btn_learn_more:"Learn More",btn_view_all:"View All",btn_submit:"Submit",btn_cancel:"Cancel",btn_save:"Save Changes",btn_close:"Close",btn_back:"Go Back",btn_next:"Next",btn_previous:"Previous",whatsapp_phone:"+923001234567",whatsapp_button_text:"Chat on WhatsApp",whatsapp_button_visible:"true",whatsapp_default_message:"Hello, I have a question about The Quarterdeck.",empty_bookings:"You have no bookings yet.",empty_events:"No events scheduled at this time.",empty_leaderboard:"Leaderboard will be available after launch.",error_generic:"Something went wrong. Please try again.",error_network:"Unable to connect. Please check your internet connection.",error_auth_required:"Please log in to continue.",error_permission_denied:"You do not have permission to access this."},O1="/assets/padel_tennis_court_i_37ae0ba3-BrkfenoQ.jpg";function Sne(){const[e,t]=v.useState({days:0,hours:0,minutes:0,seconds:0}),{data:r=[]}=we({queryKey:["/api/cms/bulk"],queryFn:async()=>{const w=await(await fetch("/api/cms/bulk")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),{data:n=[],isLoading:s}=we({queryKey:["/api/construction-phases"],queryFn:async()=>{const w=await(await fetch("/api/construction-phases")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),{data:i=[]}=we({queryKey:["/api/site-images","landing"],queryFn:async()=>{const w=await(await fetch("/api/site-images?page=landing")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),o=v.useMemo(()=>{if(!Array.isArray(i))return O1;const g=i.find(w=>w.section==="hero"&&w.isActive);return(g==null?void 0:g.imageUrl)||O1},[i]),l=v.useMemo(()=>[...n].sort((g,w)=>g.sortOrder-w.sortOrder),[n]),c=v.useMemo(()=>l.find(g=>g.isActive)||l[0],[l]),u=v.useMemo(()=>l.length===0?0:l.reduce((g,w)=>g+w.progress,0)/l.length,[l]),d=g=>{const w=r.find(_=>_.key===g);return(w==null?void 0:w.content)||Ye[g]||""},f=d("hero_launch_date")||"2026-10-01";v.useEffect(()=>{const g=new Date(`${f}T00:00:00`),w=()=>{const j=new Date,S=g.getTime()-j.getTime();if(S>0){const N=Math.floor(S/864e5),k=Math.floor(S%(1e3*60*60*24)/(1e3*60*60)),C=Math.floor(S%(1e3*60*60)/(1e3*60)),E=Math.floor(S%(1e3*60)/1e3);t({days:N,hours:k,minutes:C,seconds:E})}};w();const _=setInterval(w,1e3);return()=>clearInterval(_)},[f]);const h=g=>{const w=document.getElementById(g);if(!w)return;const j=w.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:j,behavior:"smooth"})},p=d("hero_title")||Ye.hero_title,x=d("hero_subtitle")||Ye.hero_subtitle,m=d("hero_eyebrow")||Ye.hero_eyebrow,b=d("hero_cta_1")||"Explore Facilities",y=d("hero_cta_2")||"View Site Updates";return a.jsxs("section",{id:"hero",className:"qd-section pt-12 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${o})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/95 via-white/90 to-white/70 dark:from-slate-900/95 dark:via-slate-900/90 dark:to-slate-900/70"}),a.jsx("div",{className:"qd-container relative z-10",children:a.jsxs("div",{className:"qd-hero-grid",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"qd-eyebrow",children:[a.jsx("span",{className:"qd-eyebrow-dot"})," ",m]}),a.jsx("h1",{className:"qd-hero-title","data-testid":"text-hero-title",dangerouslySetInnerHTML:{__html:p}}),a.jsx("p",{className:"text-muted-foreground max-w-lg mb-6","data-testid":"text-hero-subtitle",children:x}),a.jsxs("div",{className:"qd-countdown",children:[a.jsx("div",{className:"text-xs uppercase tracking-widest text-muted-foreground font-semibold",children:"Estimated Launch Countdown"}),a.jsxs("div",{className:"flex items-center gap-3 font-mono","data-testid":"countdown-timer",children:[a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.days}),a.jsx("span",{className:"qd-countdown-label",children:"Days"})]}),a.jsx("span",{className:"text-xl font-bold text-muted-foreground",children:":"}),a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.hours}),a.jsx("span",{className:"qd-countdown-label",children:"Hours"})]}),a.jsx("span",{className:"text-xl font-bold text-muted-foreground",children:":"}),a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.minutes}),a.jsx("span",{className:"qd-countdown-label",children:"Minutes"})]}),a.jsx("span",{className:"text-xl font-bold text-muted-foreground",children:":"}),a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.seconds}),a.jsx("span",{className:"qd-countdown-label",children:"Seconds"})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[a.jsx(U,{onClick:()=>h("facilities"),className:"rounded-full px-6","data-testid":"button-explore-facilities",children:b}),a.jsx(U,{variant:"outline",onClick:()=>h("updates"),className:"rounded-full px-6","data-testid":"button-view-updates",children:y})]}),a.jsxs("div",{className:"flex flex-wrap gap-6 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"qd-status-dot"})," Construction Active"]}),a.jsx("span",{children:"Transparent progress updates"}),a.jsx("span",{children:"Early booking & waitlists planned"})]})]}),a.jsx("aside",{children:a.jsxs("div",{className:"qd-hero-card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("div",{className:"text-sm uppercase tracking-widest text-muted-foreground",children:"Construction Status"}),s?a.jsx(Ot,{className:"h-6 w-20 rounded-full"}):c?a.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-blue-50 dark:bg-blue-900/30 text-slate-800 dark:text-blue-200 font-semibold uppercase tracking-wide",children:c.label}):a.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-gray-100 dark:bg-slate-700 text-muted-foreground font-semibold uppercase tracking-wide",children:"Planning"})]}),s?a.jsxs(a.Fragment,{children:[a.jsx(Ot,{className:"h-4 w-full mb-2"}),a.jsx(Ot,{className:"h-3 w-full rounded-full"}),a.jsx(Ot,{className:"h-12 w-full mt-4"})]}):c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-2",children:[a.jsxs("span",{children:[c.label,": ",c.title]}),a.jsxs("span",{children:[c.progress,"% Complete"]})]}),a.jsx("div",{className:"qd-progress-track",children:a.jsx("div",{className:"qd-progress-fill",style:{width:`${c.progress}%`}})}),c.highlights&&c.highlights.length>0&&a.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:c.highlights[0]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5",children:[a.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"}),a.jsxs("div",{className:"font-semibold text-sm",children:[l.filter(g=>g.isComplete).length," phases"]})]}),a.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Overall"}),a.jsxs("div",{className:"font-semibold text-sm",children:[Math.round(u),"% done"]})]})]})]}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Construction timeline will be available soon."})]})})]})})]})}function _ne(){const{getValue:e}=jc(["about_title","about_subtitle","about_cta","about_vision_title","about_vision_content","about_vision_content_2","about_tags","about_team_title","about_team_content","about_team_credits"],Ye),t=(e("about_tags")||Ye.about_tags).split(",").map(n=>n.trim()),r=(e("about_team_credits")||Ye.about_team_credits).split("|").map(n=>n.trim());return a.jsx("section",{id:"about",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-about-title",children:e("about_title")||Ye.about_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("about_subtitle")||Ye.about_subtitle})]}),a.jsx(le,{href:"/vision",children:a.jsx(U,{variant:"outline",className:"rounded-full","data-testid":"button-see-vision",children:e("about_cta")||Ye.about_cta})})]}),a.jsxs("div",{className:"qd-dev-grid",children:[a.jsxs("div",{className:"qd-info-card",children:[a.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_vision_title")||Ye.about_vision_title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_vision_content")||Ye.about_vision_content}),a.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:e("about_vision_content_2")||Ye.about_vision_content_2}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-5",children:t.map((n,s)=>a.jsx("span",{className:"qd-tag",children:n},s))})]}),a.jsxs("div",{className:"qd-info-card",children:[a.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_team_title")||Ye.about_team_title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_team_content")||Ye.about_team_content}),a.jsx("ul",{className:"list-disc list-inside mt-4 text-sm space-y-1 text-muted-foreground",children:r.map((n,s)=>a.jsx("li",{children:n},s))})]})]})]})})}var U3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lO=M.createContext&&M.createContext(U3),Nne=["attr","size","title"];function kne(e,t){if(e==null)return{};var r=Cne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(this,arguments)}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){Pne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pne(e,t,r){return t=Ene(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ene(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V3(e){return e&&e.map((t,r)=>M.createElement(t.tag,Hv({key:r},t.attr),V3(t.child)))}function pp(e){return t=>M.createElement(One,Wv({attr:Hv({},e.attr)},t),V3(e.child))}function One(e){var t=r=>{var{attr:n,size:s,title:i}=e,o=kne(e,Nne),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),M.createElement("svg",Wv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Hv(Hv({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&M.createElement("title",null,i),e.children)};return lO!==void 0?M.createElement(lO.Consumer,null,r=>t(r)):t(U3)}function gp(e){return pp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23.05 23.05V488.9H488.9V23.05zm17.9 17.9H471.1V471.1H40.95z"},child:[]}]})(e)}function Lo(e){return pp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M365.6 31c-6.6 0-13.2.6-19.7 1.59-34.5 5.44-66.5 23.14-88.3 44.96-28.8 28.85-49.6 70.85-58.4 111.65-1.6 6.7-2.6 13.6-3.5 20.4L162.2 334l15.8 15.8 124.3-33.5c6.8-.9 13.7-2 20.5-3.5 40.8-8.8 82.8-29.6 111.6-58.4 21.9-21.9 39.6-53.9 45-88.4 5.2-34.5-2.4-72.3-31.9-101.71-23.8-23.93-53.1-33.44-81.9-33.29zm.1 19.29c24.3-.28 47.9 7.49 68.2 27.71 25 24.9 31 55.2 26.3 85-4.6 29.9-20.7 58.8-39.5 77.6-25.4 25.4-64.7 45.2-102 53.2-37.2 8.2-71.2 3.8-87.8-12.9-16.5-16.5-20.9-50.4-12.8-87.7 8.1-37.2 27.8-76.6 53.3-101.94 18.7-18.78 47.7-34.84 77.6-39.55 5.5-.88 11.2-1.36 16.7-1.42zm-166 214.81c3.7 11.3 9.3 21.5 17.5 29.5 8.1 8.2 18.2 14 29.5 17.6l-63 16zm-50.3 83.6L50 448.2l-5.25-5.1-13.71 13.7L55.41 481l13.7-13.6-5.41-5.4 99.5-99.6zm211 45.1c-19.5 0-35.6 16-35.6 35.5s16.1 35.5 35.6 35.5c19.4 0 35.5-16 35.5-35.5s-16.1-35.5-35.5-35.5z"},child:[]}]})(e)}const Gd="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Qx="/assets/indoor_squash_court__c97e350b-C624hay8.jpg",vk="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",Xx="/assets/large_event_hall_int_39cfb773-D7tynaMB.jpg",q3="/assets/elegant_card_game_ro_26fec1dc-B0OzwSTX.jpg",z3="/assets/modern_cafe_bar_inte_bc2874c0-DokhLEuU.jpg",Tne={GiTennisRacket:Lo,GiSquare:gp,Crosshair:tp,Building2:Nn,Coffee:RN,Spade:np},Ine={"padel-tennis":Gd,squash:Qx,"air-rifle-range":vk,"multipurpose-hall":Xx,"bridge-room":q3,"cafe-bar":z3},uO=[{id:"padel",slug:"padel-tennis",name:"Padel Tennis",icon:Lo,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"World-Class Padel Courts: Three premium glass-backed indoor Padel Courts optimized for competitive doubles play and available year-round, regardless of the weather.",footer:"3 courts planned",image:Gd},{id:"squash",slug:"squash",name:"Squash Court",icon:gp,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"Dedicated Squash Facility: A single, premium-grade squash court built to international dimensions. Ideal for focused training, intense solo practice, and eventually, club ladder competitions.",footer:"Planned | 1 court",image:Qx},{id:"air_rifle",slug:"air-rifle-range",name:"Air Rifle Range",icon:tp,category:"Precision Sport",status:"soon",statusLabel:"Opening Soon",description:"Certified Precision Range: A safe, controlled, and sound-dampened indoor range compliant with all safety regulations. Access requires mandatory certification.",footer:"Certificate-based access",image:vk},{id:"hall",slug:"multipurpose-hall",name:"Multipurpose Hall",icon:Nn,category:"Indoor Space",status:"planned",statusLabel:"Planned",description:"Flexible Event & Training Space: A large, adaptable hall suitable for yoga, aerobics, martial arts, corporate workshops, and private functions. Available for flexible, block, and event-based bookings.",footer:"Use-cases evolving",image:Xx},{id:"bridge",slug:"bridge-room",name:"Bridge Room",icon:np,category:"Mind Sport",status:"planned",statusLabel:"Planned",description:"The Mind Sport Lounge: A quiet, temperature-controlled space designed for comfort and concentration, perfect for Bridge, Chess, and other table-based mind sports and social gatherings.",footer:"Table-based bookings",image:q3},{id:"cafe",slug:"cafe-bar",name:"Open Cafe/Bar",icon:RN,category:"Recreation",status:"planned",statusLabel:"Planned",description:"The Quarterdeck Social Hub: A bright, spacious area offering artisanal coffee, healthy refreshments, light meals, and a view overlooking the main courts - perfect for post-match debriefs or casual meetings.",footer:"No booking required",image:z3}];function Rne(e){switch(e){case"ACTIVE":return{status:"active",statusLabel:"Active"};case"OPENING_SOON":return{status:"soon",statusLabel:"Opening Soon"};case"PLANNED":default:return{status:"planned",statusLabel:"Planned"}}}function $ne(){const{getValue:e}=jc(["facilities_title","facilities_subtitle","facilities_cta"],Ye),{data:t,isLoading:r}=we({queryKey:["/api/facilities"]}),n=t&&t.length>0?t.map(s=>{const i=Rne(s.status),o=uO.find(l=>l.slug===s.slug);return{id:s.id,slug:s.slug,name:s.name,icon:Tne[s.icon]||(o==null?void 0:o.icon)||Nn,category:s.category||(o==null?void 0:o.category)||"Facility",status:i.status,statusLabel:i.statusLabel,description:s.description||(o==null?void 0:o.description)||"",footer:`${s.resourceCount||1} ${s.resourceCount===1?"court":"courts"} available`,image:s.imageUrl||Ine[s.slug]||(o==null?void 0:o.image)||Xx}}):uO;return a.jsx("section",{id:"facilities",className:"qd-section",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-facilities-title",children:e("facilities_title")||Ye.facilities_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("facilities_subtitle")||Ye.facilities_subtitle})]}),a.jsx(le,{href:"/booking",children:a.jsx(U,{className:"rounded-full","data-testid":"button-check-availability",children:e("facilities_cta")||Ye.facilities_cta})})]}),r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ut,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.jsx("div",{className:"qd-facility-grid",children:n.map(s=>{const i=s.icon;return a.jsxs("article",{className:"qd-facility-card overflow-hidden","data-testid":`card-facility-${s.slug||s.id}`,children:[a.jsxs("div",{className:"relative h-32 -mx-6 -mt-[1.6rem] mb-4 rounded-t-[20px] overflow-hidden",children:[a.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/90 via-white/30 to-transparent dark:from-slate-800/90 dark:via-slate-800/30"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground uppercase tracking-widest mb-3",children:[a.jsx("span",{children:s.category}),a.jsx("span",{className:`px-3 py-1 rounded-full font-semibold ${s.status==="soon"?"qd-status-soon":s.status==="active"?"qd-status-active":"qd-status-planned"}`,children:s.statusLabel})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(i,{className:"w-5 h-5 text-[#2a4060] dark:text-blue-400"}),a.jsx("h3",{className:"text-xl font-bold",children:s.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-5 min-h-[60px]",children:s.description}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-muted-foreground pt-4 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("span",{children:s.footer}),a.jsx(le,{href:`/facilities/${s.slug}`,children:a.jsx("span",{className:"font-semibold text-[#2a4060] dark:text-blue-400 cursor-pointer hover:underline","data-testid":`link-facility-detail-${s.slug||s.id}`,children:"View details"})})]})]},s.id)})})]})})}const Mne={check:Sn,"check-circle":Ss,clock:Yr,hammer:ID,"hard-hat":RD,rocket:gK,target:Ul};function Dne(){const[e,t]=v.useState(null),{getValue:r}=jc(["updates_title","updates_subtitle","updates_cta"],Ye),{data:n=[],isLoading:s}=we({queryKey:["/api/construction-phases"]}),i=v.useMemo(()=>[...n].sort((c,u)=>c.sortOrder-u.sortOrder),[n]),o=v.useMemo(()=>i.length===0?0:i.reduce((c,u)=>c+u.progress,0)/i.length,[i]),l=c=>c.isComplete?"Complete":c.isActive?`${c.progress}%`:c.timeframe||"Upcoming";return s?a.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsx("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:a.jsxs("div",{children:[a.jsx(Ot,{className:"h-8 w-64 mb-2"}),a.jsx(Ot,{className:"h-4 w-96"})]})}),a.jsxs("div",{className:"relative py-12",children:[a.jsx(Ot,{className:"h-1 w-full rounded-full"}),a.jsx("div",{className:"flex justify-between mt-8",children:[1,2,3,4].map(c=>a.jsxs("div",{className:"flex flex-col items-center",style:{width:"25%"},children:[a.jsx(Ot,{className:"w-14 h-14 rounded-full"}),a.jsx(Ot,{className:"h-4 w-16 mt-4"}),a.jsx(Ot,{className:"h-3 w-24 mt-1"})]},c))})]})]})}):i.length===0?a.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsx("div",{className:"qd-container",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"qd-section-title mb-4",children:"Construction Updates"}),a.jsx("p",{className:"text-muted-foreground",children:"Construction timeline coming soon."})]})})}):a.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-updates-title",children:r("updates_title")||Ye.updates_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:r("updates_subtitle")||Ye.updates_subtitle})]}),a.jsx(le,{href:"/roadmap",children:a.jsxs("span",{className:"text-sm font-semibold text-[#2a4060] dark:text-blue-400 hover:underline cursor-pointer flex items-center gap-1","data-testid":"link-view-roadmap",children:[r("updates_cta")||Ye.updates_cta," ",a.jsx(Gn,{className:"w-4 h-4"})]})})]}),a.jsxs("div",{className:"relative py-12",children:[a.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-gray-200 dark:bg-slate-700 rounded-full transform -translate-y-1/2"}),a.jsx("div",{className:"absolute left-0 top-1/2 h-1 bg-gradient-to-r from-green-500 via-blue-500 to-blue-500 rounded-full transform -translate-y-1/2 transition-all duration-1000 ease-out",style:{width:`${o}%`}}),a.jsx("div",{className:"absolute top-1/2 h-1 w-8 bg-gradient-to-r from-transparent via-white to-transparent rounded-full transform -translate-y-1/2 animate-pulse opacity-80",style:{left:`calc(${o}% - 16px)`}}),a.jsx("div",{className:"relative flex justify-between items-center",children:i.map((c,u)=>{const d=Mne[c.icon]||Yr,f=e===c.id,h=i.length>0?`${100/i.length}%`:"25%";return a.jsxs("div",{className:"relative flex flex-col items-center",style:{width:h},onMouseEnter:()=>t(c.id),onMouseLeave:()=>t(null),children:[a.jsx(le,{href:`/roadmap#${c.id}`,children:a.jsxs("div",{className:`
                        relative z-10 w-14 h-14 rounded-full flex items-center justify-center cursor-pointer
                        transition-all duration-300 ease-out transform
                        ${f?"scale-125":"scale-100"}
                        ${c.isComplete?"bg-green-500 text-white shadow-lg shadow-green-500/30":c.isActive?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 animate-pulse":"bg-white dark:bg-slate-800 text-muted-foreground border-2 border-gray-300 dark:border-slate-600"}
                      `,"data-testid":`timeline-point-${c.id}`,children:[a.jsx(d,{className:"w-6 h-6"}),c.isActive&&a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-400 animate-ping opacity-50"})]})}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("div",{className:`text-sm font-bold ${c.isComplete?"text-green-600 dark:text-green-400":c.isActive?"text-blue-600 dark:text-blue-400":"text-muted-foreground"}`,children:c.label}),a.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:c.title}),a.jsx("div",{className:`text-xs font-semibold mt-1 ${c.isComplete?"text-green-600":c.isActive?"text-blue-600":"text-muted-foreground"}`,children:l(c)})]}),a.jsxs("div",{className:`
                      absolute z-50 w-72 p-4 rounded-xl bg-white dark:bg-slate-800 
                      border border-gray-200 dark:border-slate-700 shadow-2xl
                      transition-all duration-300 ease-out
                      ${f?"opacity-100 visible translate-y-0":"opacity-0 invisible translate-y-2"}
                      ${u>=i.length/2?"right-0":"left-0"}
                    `,style:{top:"100%",marginTop:"80px"},children:[a.jsx("div",{className:`absolute -top-2 w-4 h-4 bg-white dark:bg-slate-800 border-l border-t border-gray-200 dark:border-slate-700 transform rotate-45 ${u>=i.length/2?"right-8":"left-8"}`}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-100 dark:border-slate-700",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c.isComplete?"bg-green-100 dark:bg-green-900/30 text-green-600":c.isActive?"bg-blue-100 dark:bg-blue-900/30 text-blue-600":"bg-gray-100 dark:bg-slate-700 text-muted-foreground"}`,children:a.jsx(d,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-sm",children:c.title}),a.jsx("div",{className:"text-xs text-muted-foreground",children:c.timeframe})]})]}),c.milestones&&c.milestones.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"MILESTONES"}),a.jsx("ul",{className:"space-y-1",children:c.milestones.map((p,x)=>a.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[a.jsx(Sn,{className:`w-3 h-3 mt-0.5 flex-shrink-0 ${c.isComplete?"text-green-500":"text-muted-foreground"}`}),a.jsx("span",{children:p})]},x))})]}),c.highlights&&c.highlights.length>0&&a.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"HIGHLIGHTS"}),a.jsx("ul",{className:"space-y-1",children:c.highlights.map((p,x)=>a.jsxs("li",{className:"flex items-start gap-2 text-xs text-blue-600 dark:text-blue-400",children:[a.jsx(Gn,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:p})]},x))})]})]})]})]},c.id)})})]}),a.jsx("div",{className:"mt-8 p-6 rounded-xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),a.jsxs("div",{className:"text-2xl font-bold text-[#2a4060] dark:text-white mt-1",children:[Math.round(o),"% Complete"]})]}),a.jsx("div",{className:"flex-1 max-w-md",children:a.jsx("div",{className:"h-3 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${o}%`}})})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-green-600",children:i.filter(c=>c.isComplete).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-blue-600",children:i.filter(c=>c.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:i.filter(c=>!c.isComplete&&!c.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})]})})}const yk="/assets/architectural_render_b118ee78-hmTi1mjz.jpg",xk="/assets/architectural_render_cd4dce75-BruYoWlw.jpg",W3="/assets/architectural_render_c7f63aa7-m2TWghKc.jpg",bk="/assets/sports_facility_cons_6b087ae8-Bawvazvq.jpg",H3="/assets/sports_facility_cons_aa71e508-BJWEQx7e.jpg",K3="/assets/sports_facility_cons_44a23ac3-C9MzLDrF.jpg",Lne=[{title:"Complex Exterior Render",type:"render",image:yk,category:"renders"},{title:"Court Construction Progress",type:"photo",image:bk,category:"construction"},{title:"Sports Arena Render",type:"render",image:xk,category:"renders"},{title:"Indoor Facility Build",type:"photo",image:H3,category:"construction"},{title:"Final Design Concept",type:"render",image:W3,category:"renders"},{title:"Structural Framework",type:"photo",image:K3,category:"construction"}];function Fne(){const{getValue:e}=jc(["gallery_title","gallery_subtitle","gallery_cta"],Ye);return a.jsx("section",{id:"gallery",className:"qd-section",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-gallery-title",children:e("gallery_title")||Ye.gallery_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("gallery_subtitle")||Ye.gallery_subtitle})]}),a.jsx(le,{href:"/gallery",children:a.jsxs(U,{variant:"outline",className:"rounded-full","data-testid":"button-view-full-gallery",children:[e("gallery_cta")||Ye.gallery_cta," ",a.jsx(TN,{className:"ml-2 w-4 h-4"})]})})]}),a.jsx("div",{className:"qd-gallery-grid",children:Lne.map((t,r)=>a.jsx(le,{href:`/gallery?category=${t.category}`,children:a.jsxs("div",{className:"qd-gallery-item relative overflow-hidden group cursor-pointer","data-testid":`gallery-item-${r}`,children:[a.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[a.jsx("span",{className:"text-sm text-white font-medium",children:t.title}),a.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${t.type==="render"?"bg-blue-500/80":"bg-amber-500/80"} text-white uppercase tracking-wide`,children:t.type})]})]})},r))})]})})}const Bne="/assets/modern_indoor_sports_8b182ff8-CMa6_W-x.jpg",Une={FOUNDING:rK,GOLD:LN,SILVER:yK,GUEST:pn},dO={FOUNDING:{bg:"bg-amber-500/10",text:"text-amber-500"},GOLD:{bg:"bg-yellow-500/10",text:"text-yellow-600"},SILVER:{bg:"bg-gray-500/10",text:"text-gray-500"},GUEST:{bg:"bg-blue-500/10",text:"text-blue-500"}},fO=[{id:"founding",name:"Founding Member",tier:"FOUNDING",tagline:"Limited & Exclusive",description:"For early supporters and investors who believe in our vision.",price:35e3,billingPeriod:"monthly",featured:!0,closed:!0,benefits:["Lifetime priority booking (14-day window)","25% discount on off-peak bookings (10 AM - 5 PM)","10 guest passes per month","Access to exclusive Bridge Room","Permanent credit bonus (10%)","VIP parking & locker","Invitation to all exclusive events","Founding member recognition wall"],isActive:!0,sortOrder:1},{id:"gold",name:"Gold Membership",tier:"GOLD",tagline:"Premium Access",description:"For serious athletes and frequent players who want the best experience.",price:15e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["7-day advance booking window","20% discount on off-peak bookings (10 AM - 5 PM)","4 guest passes per month","Priority event registration","15% off coaching & clinics","Free equipment rental (2x/month)","Access to member lounge"],isActive:!0,sortOrder:2},{id:"silver",name:"Silver Membership",tier:"SILVER",tagline:"Standard Access",description:"Perfect for recreational players who want regular access at great value.",price:5e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["5-day advance booking window","10% discount on off-peak bookings (10 AM - 5 PM)","2 guest passes per month","10% off coaching & clinics","Member newsletter & updates","Discounted event entry"],isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Non-Member Access",description:"Try our facilities without commitment. Subject to availability.",price:0,billingPeriod:"per visit",featured:!1,closed:!1,benefits:["2-day advance booking window","Access after member priority","Equipment rental available","Guest registration required","Can be upgraded to membership"],isActive:!0,sortOrder:4}],Vne=[{feature:"Advance Booking Window",founding:"14 days",gold:"7 days",silver:"5 days",guest:"2 days"},{feature:"Off-Peak Discount (10 AM - 5 PM)",founding:"25%",gold:"20%",silver:"10%",guest:"None"},{feature:"Monthly Guest Passes",founding:"10",gold:"4",silver:"2",guest:"N/A"},{feature:"Coaching Discount",founding:"20%",gold:"15%",silver:"10%",guest:"None"},{feature:"Event Priority",founding:"VIP",gold:"Priority",silver:"Standard",guest:"Last"}];function qne(){const[e,t]=v.useState(null),{data:r,isLoading:n}=we({queryKey:["/api/pricing-tiers"],queryFn:async()=>{try{const c=await fetch("/api/pricing-tiers");if(!c.ok)return[];const u=await c.json();return Array.isArray(u)?u:[]}catch{return[]}},staleTime:1e3*60*5}),s=v.useMemo(()=>!r||r.length===0?fO:r.filter(c=>c.isActive).sort((c,u)=>(c.sortOrder||0)-(u.sortOrder||0)).map(c=>{var u;return{id:c.id,name:c.name,tier:c.tier,tagline:c.tier==="FOUNDING"?"Limited & Exclusive":c.tier==="GOLD"?"Premium Access":c.tier==="SILVER"?"Standard Access":"Non-Member Access",description:((u=fO.find(d=>d.tier===c.tier))==null?void 0:u.description)||"",price:c.price,billingPeriod:c.billingPeriod||"monthly",featured:c.isPopular||c.tier==="FOUNDING",closed:c.tier==="FOUNDING",benefits:c.benefits||[],isActive:c.isActive,sortOrder:c.sortOrder||0}}),[r]),i=c=>{const u=document.getElementById(c);if(!u)return;const f=u.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:f,behavior:"smooth"})},o=c=>{t(e===c?null:c)},l=(c,u)=>c===0||!c?{amount:"Standard",suffix:" rates"}:{amount:`PKR ${c.toLocaleString()}`,suffix:u==="yearly"?"/year":"/month"};return n?a.jsx("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:a.jsx("div",{className:"qd-container relative z-10",children:a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(c=>a.jsxs("div",{className:"rounded-xl border p-6 bg-white dark:bg-slate-800",children:[a.jsx(Ot,{className:"h-12 w-12 rounded-full mx-auto mb-3"}),a.jsx(Ot,{className:"h-6 w-32 mx-auto mb-2"}),a.jsx(Ot,{className:"h-4 w-24 mx-auto mb-4"}),a.jsx(Ot,{className:"h-8 w-28 mx-auto mb-4"}),a.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(u=>a.jsx(Ot,{className:"h-4 w-full"},u))})]},c))})})}):a.jsxs("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-5 dark:opacity-10",style:{backgroundImage:`url(${Bne})`}}),a.jsxs("div",{className:"qd-container relative z-10",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-membership-title",children:"Membership & Pricing"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:"Choose the membership tier that fits your lifestyle. All members enjoy priority booking, exclusive discounts during off-peak hours (10 AM - 5 PM), and access to our world-class facilities."})]}),a.jsx(U,{className:"rounded-full",onClick:()=>i("contact"),"data-testid":"button-inquire-membership",children:"Inquire Now"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:s.map(c=>{const u=Une[c.tier]||pn,d=dO[c.tier]||dO.GUEST,f=e===c.id,h=c.benefits.length>5,{amount:p,suffix:x}=l(c.price,c.billingPeriod);return a.jsxs("div",{className:`relative rounded-xl border p-6 bg-white dark:bg-slate-800 transition-all duration-300 ${c.featured?"border-amber-500/50 shadow-lg ring-2 ring-amber-500/20":"border-gray-200 dark:border-slate-700"} ${h?"cursor-pointer hover-elevate":""}`,onClick:()=>h&&o(c.id),"data-testid":`membership-tier-${c.tier.toLowerCase()}`,children:[c.closed&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-red-500 text-white text-xs font-bold rounded-full",children:"CLOSED"}),c.featured&&!c.closed&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-amber-500 text-white text-xs font-bold rounded-full",children:"MOST POPULAR"}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full mx-auto mb-3 flex items-center justify-center ${d.bg}`,children:a.jsx(u,{className:`w-6 h-6 ${d.text}`})}),a.jsx("h3",{className:"font-bold text-lg",children:c.name}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:c.tagline})]}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("span",{className:"text-3xl font-bold",children:p}),a.jsx("span",{className:"text-muted-foreground text-sm",children:x})]}),a.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:c.description}),a.jsx("ul",{className:"space-y-2 mb-4",children:(f?c.benefits:c.benefits.slice(0,5)).map((m,b)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[a.jsx(Sn,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:m})]},b))}),h&&a.jsx("button",{onClick:m=>{m.stopPropagation(),o(c.id)},className:"flex items-center justify-center gap-1 w-full text-sm text-muted-foreground mb-4 py-2 rounded-lg transition-colors","data-testid":`button-expand-${c.tier.toLowerCase()}`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(IN,{className:"w-4 h-4"}),"Show less"]}):a.jsxs(a.Fragment,{children:[a.jsx(xc,{className:"w-4 h-4"}),"+",c.benefits.length-5," more benefits"]})}),a.jsx(U,{variant:c.featured?"default":"outline",className:"w-full rounded-full",disabled:c.closed,onClick:m=>{m.stopPropagation(),c.closed||i("contact")},"data-testid":`button-select-${c.tier.toLowerCase()}`,children:c.closed?"Not Available":"Inquire Now"})]},c.id)})}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 p-6 overflow-x-auto",children:[a.jsx("h3",{className:"font-bold text-lg mb-4 text-center",children:"Quick Comparison"}),a.jsxs("table",{className:"w-full min-w-[600px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Feature"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-amber-600",children:"Founding"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-yellow-600",children:"Gold"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-gray-500",children:"Silver"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-blue-500",children:"Guest"})]})}),a.jsx("tbody",{children:Vne.map((c,u)=>a.jsxs("tr",{className:"border-b border-gray-100 dark:border-slate-700/50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:c.feature}),a.jsx("td",{className:"py-3 px-4 text-sm text-center font-medium",children:c.founding}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:c.gold}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:c.silver}),a.jsx("td",{className:"py-3 px-4 text-sm text-center text-muted-foreground",children:c.guest})]},u))})]})]}),a.jsxs("div",{className:"mt-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Questions about membership? Contact us for more details or to discuss corporate packages."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx(U,{variant:"outline",className:"rounded-full",onClick:()=>i("contact"),"data-testid":"button-contact-membership",children:"Contact for Details"}),a.jsx(le,{href:"/terms",children:a.jsx(U,{variant:"ghost",className:"rounded-full text-muted-foreground","data-testid":"button-view-terms-membership",children:"View Terms & Conditions"})})]})]})]})]})}function zne(){const{getValue:e}=jc(["rules_title","rules_subtitle","rules_cta"],Ye),{data:t,isLoading:r}=we({queryKey:["/api/rules"]}),n=(t==null?void 0:t.slice(0,4))||[];return a.jsx("section",{id:"rules",className:"qd-section",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-rules-title",children:e("rules_title")||Ye.rules_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("rules_subtitle")||Ye.rules_subtitle})]}),a.jsx(le,{href:"/rules",children:a.jsxs(U,{variant:"outline",className:"rounded-full","data-testid":"button-view-all-rules",children:[e("rules_cta")||Ye.rules_cta," ",a.jsx(Gn,{className:"w-4 h-4 ml-1"})]})})]}),r?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(ut,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Rules coming soon..."}):a.jsx("div",{className:"qd-rules-grid",children:n.map((s,i)=>a.jsx(le,{href:"/rules",children:a.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`rule-item-${i}`,children:[a.jsx("h4",{className:"font-bold text-foreground mb-2",children:s.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s.content})]})},s.id))})]})})}function Wne(){var s;const{getValue:e}=jc(["careers_title","careers_subtitle","careers_cta"],Ye),{data:t,isLoading:r}=we({queryKey:["/api/careers"]}),n=((s=t==null?void 0:t.filter(i=>i.isActive))==null?void 0:s.slice(0,4))||[];return a.jsx("section",{id:"careers",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-careers-title",children:e("careers_title")||Ye.careers_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("careers_subtitle")||Ye.careers_subtitle})]}),a.jsx(le,{href:"/careers",children:a.jsxs(U,{className:"rounded-full","data-testid":"button-submit-cv",children:[e("careers_cta")||Ye.careers_cta," ",a.jsx(Gn,{className:"w-4 h-4 ml-1"})]})})]}),r?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(ut,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No open positions at the moment. Check back soon!"}):a.jsx("div",{className:"qd-rules-grid",children:n.map((i,o)=>a.jsx(le,{href:"/careers",children:a.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`career-position-${o}`,children:[a.jsx("h4",{className:"font-bold text-foreground mb-2",children:i.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})},i.id))})]})})}function Hne(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Sne,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(_ne,{})}),a.jsx($ne,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(Dne,{})}),a.jsx(Fne,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(qne,{})}),a.jsx(zne,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(Wne,{})})]}),a.jsx(Or,{})]})}const ne=v.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:ce("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ne.displayName="Input";const Kne=ep("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function je({className:e,variant:t,...r}){return a.jsx("div",{className:ce(Kne({variant:t}),e),...r})}function Ca(e){return e.toLocaleString("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0})}function Gne(e,t){const[r,n]=e.split(":").map(Number),s=r*60+n+t,i=Math.floor(s/60),o=s%60;return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function hO(e){const t=parseInt(e.split(":")[0]);return t>=10&&t<17}const Yne="/assets/bottled_mineral_wate_edb6abad-CPxK56g4.jpg",mO={"padel-tennis":Lo,squash:gp,"air-rifle-range":tp,"bridge-room":np,"multipurpose-hall":Nn},Nf={FOUNDING:14,GOLD:7,SILVER:5,GUEST:2},yg=["padel-tennis","squash","air-rifle-range","bridge-room","multipurpose-hall"];function Qne({initialView:e="booking"}){var Ip,hP,mP;const{user:t,isAuthenticated:r}=Hd(),{toast:n}=Et(),[s,i]=v.useState(e),[o,l]=v.useState(null),[c,u]=v.useState("Islamabad"),[d,f]=v.useState(()=>new Date().toISOString().split("T")[0]),[h,p]=v.useState(60),[x,m]=v.useState(1),[b,y]=v.useState(null),[g,w]=v.useState("cash"),[_,j]=v.useState(!1),[S,N]=v.useState("self"),[k,C]=v.useState(""),[E,A]=v.useState(null),[R,T]=v.useState(new Set),[I,O]=v.useState({}),[D,V]=v.useState(!1),[P,$]=v.useState(!1),[K,te]=v.useState(1),[B,G]=v.useState(null),[re,ae]=v.useState("cumulative"),[ke,J]=v.useState(!1),{data:ie}=we({queryKey:["/api/memberships/my"],queryFn:async()=>{try{const q=await fetch("/api/memberships/my",{credentials:"include"});return q.status===404||!q.ok?null:await q.json()}catch{return null}},enabled:r}),{data:Y=[]}=we({queryKey:["/api/leaderboard",re==="cumulative"?void 0:re],queryFn:async()=>{try{const q=re==="cumulative"?"":`?facilityId=${re}`,de=await fetch(`/api/leaderboard${q}`);if(!de.ok)return[];const dt=await de.json();return Array.isArray(dt)?dt:[]}catch{return[]}}}),Q=v.useMemo(()=>{const q=(ie==null?void 0:ie.tier)||"GUEST",de=(ie==null?void 0:ie.status)||"PENDING_PAYMENT",dt=de==="ACTIVE";return{name:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest",email:(t==null?void 0:t.email)||"",creditBalance:(t==null?void 0:t.creditBalance)||0,totalHoursPlayed:(t==null?void 0:t.totalHoursPlayed)||0,guestPasses:(ie==null?void 0:ie.guestPasses)||0,membershipTier:q,membershipStatus:de,membershipNumber:(ie==null?void 0:ie.membershipNumber)||null,membershipExpiry:(ie==null?void 0:ie.validTo)||null,isSafetyCertified:(t==null?void 0:t.isSafetyCertified)||!1,hasSignedWaiver:(t==null?void 0:t.hasSignedWaiver)||!1,isActiveMember:dt}},[t,r,ie]),se=v.useMemo(()=>{const q=Q.membershipTier,dt=Q.isActiveMember&&Nf[q]||2,Le=new Date;return Le.setDate(Le.getDate()+dt),Le.toISOString().split("T")[0]},[Q.membershipTier,Q.isActiveMember]),W=v.useMemo(()=>d<=se,[d,se]);v.useEffect(()=>{const q=new URLSearchParams(window.location.search),de=q.get("success"),dt=q.get("session_id"),Le=q.get("canceled");de==="true"&&dt?Oe("POST","/api/stripe/verify-session",{sessionId:dt}).then(or=>or.json()).then(or=>{or.booking&&(n({title:"Payment Successful!",description:"Your booking has been confirmed and paid."}),Se.invalidateQueries({queryKey:["/api/bookings"]}))}).catch(or=>{n({title:"Payment Verification Failed",description:or.message||"Please contact support if your payment was deducted.",variant:"destructive"})}).finally(()=>{window.history.replaceState({},"",window.location.pathname)}):Le==="true"&&(n({title:"Payment Canceled",description:"Your payment was canceled. No charges were made.",variant:"default"}),window.history.replaceState({},"",window.location.pathname))},[n]);const{data:z=[]}=we({queryKey:["/api/bookings",o==null?void 0:o.id,d],enabled:!!o}),{data:oe=[]}=we({queryKey:["/api/facilities"],queryFn:async()=>{try{const q=await fetch("/api/facilities");if(!q.ok)return[];const de=await q.json();return Array.isArray(de)?de:[]}catch{return[]}}}),{data:qe=[]}=we({queryKey:["/api/venues"],queryFn:async()=>{try{const q=await fetch("/api/venues");if(!q.ok)return[];const de=await q.json();return Array.isArray(de)?de:[]}catch{return[]}}}),{data:Ge=[]}=we({queryKey:["/api/hall-activities"],queryFn:async()=>{try{const q=await fetch("/api/hall-activities");if(!q.ok)return[];const de=await q.json();return Array.isArray(de)?de:[]}catch{return[]}}}),at=v.useMemo(()=>qe.length===0?[]:qe.map(q=>q.city),[qe]),Yt=v.useMemo(()=>Ge.length===0?[]:Ge.map(q=>({value:q.name,label:q.name})),[Ge]),{data:_t=[]}=we({queryKey:["/api/pricing-tiers"]}),wr=v.useMemo(()=>{const q={FOUNDING:0,GOLD:0,SILVER:0,GUEST:0};return _t.forEach(de=>{const Le=(de.benefits||[]).find(or=>or.toLowerCase().includes("discount")&&or.toLowerCase().includes("off-peak"));if(Le){const or=Le.match(/(\d+)%/);or&&(q[de.tier]=parseInt(or[1],10))}}),q},[_t]),L=v.useMemo(()=>new Date(d+"T12:00:00").getDay(),[d]),H=v.useMemo(()=>{if(!o)return null;const q=oe.find(de=>de.slug===o.id);return(q==null?void 0:q.id)||null},[oe,o==null?void 0:o.id]),X=v.useMemo(()=>{const q=qe.find(de=>de.city===c);return(q==null?void 0:q.id)||null},[qe,c]),{data:_e=[]}=we({queryKey:["/api/operating-hours",L],queryFn:async()=>{try{const q=await fetch(`/api/operating-hours?dayOfWeek=${L}`);if(!q.ok)return[];const de=await q.json();return Array.isArray(de)?de:[]}catch{return[]}}}),ve=v.useMemo(()=>{const q=H?_e.find(lr=>!lr.isClosed&&!lr.isHoliday&&lr.facilityId===H&&lr.dayOfWeek===L):null,de=X?_e.find(lr=>!lr.isClosed&&!lr.isHoliday&&lr.venueId===X&&!lr.facilityId&&lr.dayOfWeek===L):null,dt=_e.find(lr=>!lr.isClosed&&!lr.isHoliday&&!lr.facilityId&&!lr.venueId&&lr.dayOfWeek===L),Le=q||de||dt;if(!Le)return[];const or=[],Rp=Le.slotDurationMinutes||60,[$p,hf]=Le.openTime.split(":").map(Number),[Ec,Mp]=Le.closeTime.split(":").map(Number);let Za=$p*60+hf;const Dp=Ec*60+Mp;for(;Za<Dp;){const lr=Math.floor(Za/60),uz=Za%60;or.push(`${lr.toString().padStart(2,"0")}:${uz.toString().padStart(2,"0")}`),Za+=Rp}return or},[_e,L,H,X]),{data:pe=[]}=we({queryKey:["/api/facilities",o==null?void 0:o.id,"addons"],queryFn:async()=>{if(!o)return[];try{const q=await fetch(`/api/facilities/${o.id}/addons`);if(!q.ok)return[];const de=await q.json();return Array.isArray(de)?de:[]}catch{return[]}},enabled:!!(o!=null&&o.id)}),Be={Target:Ul,CircleDot:eK,Droplets:nK,ShieldCheck:Bh,Headphones:aK,Glasses:sK,Coffee:RN,Speaker:xK},yt=v.useMemo(()=>pe.map(q=>({id:q.id,label:q.label,price:q.price,icon:q.icon&&Be[q.icon]||Ul,image:q.imageUrl||Yne})),[pe]),Nt=v.useMemo(()=>{const q={};return oe.forEach(de=>{q[de.id]=de.slug}),q},[oe]),Rt=v.useMemo(()=>oe.length===0?[]:oe.filter(q=>q.status==="ACTIVE").map(q=>({id:q.slug,label:q.name,count:q.resourceCount||1,basePrice:q.basePrice,minPlayers:q.minPlayers||1,icon:mO[q.slug]||Nn,requiresCert:q.requiresCertification||!1,restricted:q.isRestricted||!1})).sort((q,de)=>{const dt=yg.indexOf(q.id),Le=yg.indexOf(de.id);return(dt===-1?999:dt)-(Le===-1?999:Le)}),[oe]),Gs=v.useMemo(()=>oe.map(q=>({id:q.slug,label:q.name,count:q.resourceCount||1,basePrice:q.basePrice,minPlayers:q.minPlayers||1,icon:mO[q.slug]||Nn,requiresCert:q.requiresCertification||!1,restricted:q.isRestricted||!1,status:q.status})).sort((q,de)=>{const dt=yg.indexOf(q.id),Le=yg.indexOf(de.id);return(dt===-1?999:dt)-(Le===-1?999:Le)}),[oe]);v.useEffect(()=>{if(Rt.length>0)if(!o||!Rt.find(q=>q.id===o.id))l(Rt[0]);else{const q=Rt.find(de=>de.id===o.id);q&&(q.count!==o.count||q.basePrice!==o.basePrice)&&l(q)}},[Rt,o==null?void 0:o.id]),v.useEffect(()=>{at.length>0&&!at.includes(c)&&u(at[0])},[at,c]);const{data:Cn=[]}=we({queryKey:["/api/events"]}),_a=Re({mutationFn:async q=>await Oe("POST",`/api/events/${q.eventId}/register`,q),onSuccess:()=>{n({title:"Registration Submitted!",description:"Your registration is pending approval. You'll receive a confirmation email once approved."}),Se.invalidateQueries({queryKey:["/api/events"]})},onError:q=>{n({title:"Registration Failed",description:q.message||"Unable to register for this event.",variant:"destructive"})}}),el=q=>{if(!r||!t){n({title:"Login Required",description:"Please log in to register for events.",variant:"destructive"}),window.location.href="/login";return}_a.mutate({eventId:q.id,fullName:`${t.firstName||""} ${t.lastName||""}`.trim()||"Member",email:t.email||""})},Xa=c!=="Islamabad",tl=Re({mutationFn:async q=>await Oe("POST","/api/bookings",q),onSuccess:(q,de)=>{const dt=de.paymentMethod==="bank_transfer",Le=de.paymentMethod==="cash";n(dt?{title:"Booking Created!",description:"Please complete your bank transfer and share the receipt with us for verification."}:Le?{title:"Booking Created!",description:"Please pay at the facility on your booking date. Your booking will be confirmed upon payment."}:{title:"Booking Created!",description:"Your booking has been successfully created."}),Se.invalidateQueries({queryKey:["/api/bookings"]}),y(null),T(new Set),V(!1),$(!1),te(1)},onError:q=>{n({title:"Booking Failed",description:q.message,variant:"destructive"})}}),Pc=q=>z.some(de=>de.date===d&&de.resourceId===x&&de.startTime===q&&de.status!=="CANCELLED"),uf=async q=>{const de=q.trim().toUpperCase();if(C(de),!de){A(null);return}if(!/^QD-\d{4}$/.test(de)){A(!1);return}J(!0);try{const Le=await fetch(`/api/memberships/validate/${de}`);if(!Le.ok){A(!1);return}const or=await Le.json();A(or.valid===!0)}catch{A(!1)}finally{J(!1)}},Dr=v.useMemo(()=>{if(!b)return null;let dt=o.basePrice/60*h,Le=0;const or=Q.membershipTier,Rp=Q.isActiveMember,$p=hO(b),hf=wr[or]||0;$p&&Rp&&hf>0&&(Le=dt*(hf/100));let Ec=0;R.forEach(Za=>{const Dp=yt.find(lr=>lr.id===Za);if(Dp){const lr=I[Za]??1;Ec+=Dp.price*lr}}),D&&(Ec+=4e3);let Mp=null;if($p&&Rp&&Le>0){const Za=or.charAt(0)+or.slice(1).toLowerCase();Mp=`${hf}% ${Za} (Off-Peak)`}return{basePrice:Math.round(dt),discount:Math.round(Le),discountLabel:Mp,addOnTotal:Ec,totalPrice:Math.round(dt-Le+Ec),date:d,startTime:b,endTime:Gne(b,h)}},[b,o,h,R,I,D,d,Q.membershipTier,Q.isActiveMember,yt,wr]),f0=q=>{const de=new Set(R);de.has(q.id)?de.delete(q.id):(de.add(q.id),O(dt=>({...dt,[q.id]:dt[q.id]??1}))),T(de)},df=(q,de)=>{O(dt=>{const Le=dt[q]??1,or=Math.min(10,Math.max(1,Le+de));return{...dt,[q]:or}})},Ap=async()=>{if(!(!Dr||!b||!o)){if(!W){const q=Q.membershipTier,de=Q.isActiveMember&&Nf[q]||2;n({title:"Date Out of Range",description:`Your membership tier allows booking up to ${de} days in advance.`,variant:"destructive"});return}if(o.id==="multipurpose-hall"&&!B){n({title:"Activity Required",description:"Please select a purpose for the Multipurpose Hall booking.",variant:"destructive"});return}tl.mutate({facilitySlug:o.id,venue:c,resourceId:x,date:d,startTime:b,endTime:Dr.endTime,durationMinutes:h,paymentMethod:g,payerType:S.toUpperCase(),payerMembershipNumber:S==="member"?k:null,basePrice:Dr.basePrice,discount:Dr.discount,addOnTotal:Dr.addOnTotal,totalPrice:Dr.totalPrice,coachBooked:D,isMatchmaking:P,currentPlayers:K,maxPlayers:o.minPlayers,hallActivity:B,addOns:Array.from(R).map(q=>({id:q,quantity:I[q]??1}))})}},Op=q=>{switch(q){case"Academy":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Tournament":return"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300";case"Social":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300";case"Class":return"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-300"}},Tp=Gs.filter(q=>q.id!=="bridge-room"&&q.id!=="multipurpose-hall"),ff=v.useMemo(()=>Y.map(q=>({name:q.playerName||"Member",points:q.rankingPoints,tier:"Member",facility:q.facilityId})),[Y]),qi=()=>{window.location.href="/"};return Rt.length===0||!o?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[700px] bg-white dark:bg-slate-800 rounded-2xl border border-gray-200 dark:border-slate-700 shadow-2xl",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mb-4"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Loading facilities..."})]}):a.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[a.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700 w-full md:w-72 flex-shrink-0 p-6 flex flex-col justify-between shadow-sm",children:[a.jsxs("div",{children:[a.jsx(le,{href:"/",children:a.jsxs("div",{className:"cursor-pointer","data-testid":"link-sidebar-logo",children:[a.jsx("h1",{className:"text-2xl font-extrabold text-[#2a4060] dark:text-sky-400 mb-1 tracking-tight",children:"THE QUARTERDECK"}),a.jsx("p",{className:"text-[11px] text-muted-foreground mb-6 uppercase tracking-[0.18em]",children:"Central Booking Console"})]})}),a.jsxs("nav",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>i("booking"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="booking"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-booking",children:[a.jsx(i1,{className:"w-4 h-4"})," Book Facility"]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>i("events"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="events"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-events",children:[a.jsx(la,{className:"w-4 h-4"})," Events & Academies"]}),a.jsxs("button",{onClick:()=>i("leaderboard"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="leaderboard"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-leaderboard",children:[a.jsx(la,{className:"w-4 h-4"})," Leaderboard"]}),a.jsxs("button",{onClick:()=>i("profile"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="profile"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-profile",children:[a.jsx(fa,{className:"w-4 h-4"})," My Profile"]})]})]})]}),r&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-4 mt-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(tA,{className:"w-5 h-5 text-amber-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Credit Balance"}),a.jsx("p",{className:"text-lg font-bold",children:Ca(Q.creditBalance)})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(eA,{className:"w-5 h-5 text-sky-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Hours Played"}),a.jsxs("p",{className:"text-lg font-bold",children:[Q.totalHoursPlayed," hrs"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(JE,{className:"w-5 h-5 text-emerald-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Guest Passes"}),a.jsx("p",{className:"text-lg font-bold",children:Q.guestPasses})]})]})]})]}),a.jsxs("div",{className:"flex-grow p-4 md:p-8 relative overflow-auto bg-gray-50 dark:bg-slate-900",children:[s==="booking"&&!r&&a.jsx("div",{className:"max-w-md mx-auto mt-16 animate-qd-fade-in",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg text-center",children:[a.jsx(fa,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2","data-testid":"text-auth-required",children:"Sign In Required"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to access the booking system and make reservations."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(le,{href:"/login",className:"block",children:a.jsx(U,{className:"w-full","data-testid":"button-login-booking",children:"Sign In to Continue"})}),a.jsxs(U,{variant:"outline",className:"w-full",onClick:qi,"data-testid":"button-back-home-auth",children:[a.jsx(hs,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})}),s==="booking"&&r&&a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-qd-fade-in",children:[a.jsxs("section",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:qi,className:"rounded-full","data-testid":"button-back-home",children:[a.jsx(hs,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-extrabold","data-testid":"text-booking-title",children:"Central Booking"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your venue, facility, time and extras."})]})]}),a.jsx("div",{className:"mt-3 sm:mt-0",children:a.jsxs("div",{className:"max-w-xs sm:text-right",children:[a.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Venue"}),a.jsx("select",{value:c,onChange:q=>{u(q.target.value),l(Rt[0]),m(1),y(null),T(new Set),O({}),V(!1),$(!1),te(1),G(null)},className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500","data-testid":"select-venue",children:at.map(q=>a.jsx("option",{value:q,children:q},q))}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["Booking preview for: ",c]})]})})]}),Xa&&a.jsxs("section",{className:"relative bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 rounded-2xl p-8 text-center shadow-lg border border-slate-300 dark:border-slate-700",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-sky-500/10 rounded-2xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx(ki,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),a.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["Coming Soon to ",c]}),a.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:["We're expanding! The Quarterdeck ",c," is currently under development. Stay tuned for updates on our upcoming locations."]}),a.jsx(je,{className:"bg-amber-500/10 text-amber-700 dark:text-amber-400 border-amber-500/30",children:"Expected 2026-2027"}),a.jsx("div",{className:"mt-6",children:a.jsx(U,{variant:"outline",onClick:()=>u("Islamabad"),"data-testid":"button-switch-to-islamabad",children:"Switch to Islamabad (Available Now)"})})]})]}),!Xa&&a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"1. Select Facility"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:Rt.map(q=>{const de=q.icon,dt=o.id===q.id,Le=q.restricted&&Q.membershipTier!=="Founding";return a.jsxs("button",{onClick:()=>{Le?n({title:"Restricted Area",description:"Exclusive to Founding Members and Armed Forces.",variant:"destructive"}):(l(q),m(1),y(null),$(!1),G(null))},className:`p-4 rounded-xl shadow-sm border flex flex-col items-center justify-center transition-all relative overflow-hidden cursor-pointer ${Le?"opacity-60 bg-gray-100 dark:bg-slate-700 border-gray-200 dark:border-slate-600":dt?"ring-4 ring-amber-300 bg-white dark:bg-slate-800 border-amber-500":"bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-600 hover:border-sky-500"}`,"data-testid":`button-facility-${q.id}`,children:[a.jsx(de,{className:"w-8 h-8 mb-1 text-[#2a4060] dark:text-sky-400"}),a.jsx("p",{className:"font-semibold text-sm",children:q.label}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[q.count," available"]}),Le&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white text-xs font-bold",children:"RESTRICTED"})]},q.id)})})]}),!Xa&&a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 space-y-4",children:[a.jsxs("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700",children:["2. Select Resource (",o.label,")"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:o.count}).map((q,de)=>a.jsxs("button",{onClick:()=>m(de+1),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${x===de+1?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-resource-${de+1}`,children:["Court ",de+1]},de+1))}),o.id==="multipurpose-hall"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Purpose of Multipurpose Event"}),a.jsxs("select",{value:B||"",onChange:q=>G(q.target.value),className:"w-full p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"select-hall-activity",children:[a.jsx("option",{value:"",children:"-- Select Activity --"}),Yt.map(q=>a.jsx("option",{value:q.value,children:q.label},q.value))]})]}),o.id!=="hall"&&!o.restricted&&a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("label",{className:"text-sm font-medium",children:"Enable Matchmaking (Join a game)"}),a.jsx("button",{onClick:()=>$(!P),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${P?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-matchmaking",children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${P?"translate-x-6":"translate-x-1"}`})})]}),P&&a.jsxs("select",{value:K,onChange:q=>te(parseInt(q.target.value)),className:"w-full p-2 border rounded-lg text-sm bg-sky-50 dark:bg-sky-900/30 border-amber-200 dark:border-amber-700","data-testid":"select-group-size",children:[a.jsx("option",{value:1,children:"Just Me (1)"}),a.jsx("option",{value:2,children:"Pair (2)"}),a.jsx("option",{value:3,children:"Three (3)"})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("label",{className:"text-sm font-medium",children:"Book a coach?"}),a.jsx("button",{onClick:()=>V(!D),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${D?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-coach",children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${D?"translate-x-6":"translate-x-1"}`})})]}),D&&a.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 font-semibold text-right",children:"+4,000 PKR"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[a.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"3. Select Date"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(kn,{className:"w-5 h-5 text-sky-500"}),a.jsx("input",{type:"date",value:d,min:new Date().toISOString().split("T")[0],max:se,onChange:q=>{f(q.target.value),y(null)},className:"flex-1 p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"input-date"})]}),!W&&a.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-1",children:[a.jsx(Rn,{className:"w-3 h-3"}),"Your ",Q.membershipTier," tier allows booking up to ",Nf[Q.membershipTier]||2," days ahead"]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[a.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"4. Select Duration"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[60,90,120].map(q=>a.jsxs("button",{onClick:()=>{p(q),y(null)},className:`px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2 ${h===q?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-duration-${q}`,children:[a.jsx(Yr,{className:"w-4 h-4"}),q," min"]},q))})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[a.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"5. Select Time Slot"}),ve.length===0?a.jsxs("div",{className:"text-center py-4",children:[a.jsx(Yr,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2 animate-pulse"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading available time slots..."})]}):a.jsx("div",{className:"grid grid-cols-5 gap-3",children:ve.map(q=>{const de=Pc(q),dt=b===q,Le=hO(q);return a.jsxs("button",{onClick:()=>!de&&y(q),disabled:de,className:`py-2 px-1 rounded border text-sm font-medium transition relative overflow-hidden ${de?"bg-gray-200 dark:bg-slate-600 text-muted-foreground cursor-not-allowed opacity-70":dt?"bg-green-500 text-white shadow-lg border-green-500":"bg-white dark:bg-slate-700 text-foreground hover:bg-sky-50 dark:hover:bg-slate-600 border-gray-200 dark:border-slate-600"}`,"data-testid":`button-time-${q.replace(":","")}`,children:[q,Le&&!de&&!dt&&a.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-emerald-400 rounded-bl-md"})]},q)})}),ve.length>0&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-400 rounded-full mr-1"}),"Green dot = Off-peak hours (10 AM - 5 PM) - All member tiers get discounts"]})]})]}),a.jsx("div",{className:"md:col-span-1 space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-t-4 border-sky-500",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"6. Extras & Payment"}),Dr?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Add-ons"}),a.jsx("div",{className:"space-y-2",children:yt.map(q=>{const de=R.has(q.id),dt=I[q.id]??1;return a.jsxs("div",{onClick:()=>f0(q),className:`border rounded-xl px-3 py-2 flex items-center gap-3 text-sm transition cursor-pointer hover:shadow-sm ${de?"bg-sky-50 dark:bg-sky-900/30 border-amber-500 text-amber-800 dark:text-amber-300":"bg-white dark:bg-slate-700 border-gray-200 dark:border-slate-600"}`,"data-testid":`addon-${q.id}`,children:[a.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-slate-600",children:a.jsx("img",{src:q.image,alt:q.label,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 text-left min-w-0",children:[a.jsx("p",{className:"font-semibold truncate",children:q.label}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Ca(q.price)," per unit"]})]}),de&&a.jsxs("div",{className:"flex items-center gap-1 text-xs flex-shrink-0",onClick:Le=>Le.stopPropagation(),children:[a.jsx("button",{onClick:()=>df(q.id,-1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:a.jsx(uK,{className:"w-3 h-3"})}),a.jsx("span",{className:"min-w-[1.5rem] text-center font-semibold",children:dt}),a.jsx("button",{onClick:()=>df(q.id,1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:a.jsx(mn,{className:"w-3 h-3"})})]})]},q.id)})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Payer Details"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex gap-4 text-xs",children:[a.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"payer-type",checked:S==="self",onChange:()=>N("self"),className:"accent-sky-600"}),a.jsx("span",{children:"Self (use my account)"})]}),a.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"payer-type",checked:S==="member",onChange:()=>N("member"),className:"accent-sky-600"}),a.jsx("span",{children:"Another member will pay"})]})]}),S==="member"&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-semibold",children:"Membership number of the payer"}),a.jsx(ne,{type:"text",value:k,onChange:q=>uf(q.target.value),placeholder:"e.g. QD-0001",className:"text-xs","data-testid":"input-payer-membership"}),E===!0&&a.jsxs("p",{className:"text-[10px] text-emerald-600 flex items-center gap-1",children:[a.jsx(Sn,{className:"w-3 h-3"})," Membership found."]}),E===!1&&a.jsxs("p",{className:"text-[10px] text-rose-500 flex items-center gap-1",children:[a.jsx(Rn,{className:"w-3 h-3"})," Membership not found."]})]})]})]}),a.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2 border-t pt-4 border-gray-100 dark:border-slate-700",children:"Summary"}),a.jsxs("div",{className:"space-y-1 text-sm mb-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:["Base Rate (",h," min)"]}),a.jsx("span",{children:Ca(Dr.basePrice)})]}),Dr.discount>0&&a.jsxs("div",{className:"flex justify-between text-emerald-600",children:[a.jsxs("span",{children:["Member Discount (",Dr.discountLabel,")"]}),a.jsxs("span",{children:["- ",Ca(Dr.discount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Add-Ons & Coach"}),a.jsxs("span",{children:["+ ",Ca(Dr.addOnTotal)]})]})]}),a.jsxs("div",{className:"flex justify-between border-t border-dashed pt-3 border-gray-200 dark:border-slate-600",children:[a.jsx("span",{className:"font-bold text-lg",children:"TOTAL DUE"}),a.jsx("span",{className:"font-extrabold text-2xl text-sky-700 dark:text-sky-400",children:Ca(Dr.totalPrice)})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{onClick:()=>w("cash"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${g==="cash"?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-cash",children:"Pay On-Site"}),a.jsx("button",{onClick:()=>w("bank_transfer"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${g==="bank_transfer"?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-bank",children:"Bank Transfer"}),a.jsx("button",{onClick:()=>w("credits"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${g==="credits"?"bg-slate-900 text-white border-slate-900 dark:bg-slate-100 dark:text-slate-900 dark:border-slate-100":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-credits",children:"Credits"})]})]}),g==="bank_transfer"&&a.jsxs("div",{className:"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-xl",children:[a.jsx("h5",{className:"font-bold text-purple-800 dark:text-purple-300 text-sm mb-2",children:"Bank Transfer Instructions"}),a.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-400 space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Bank:"})," HBL (Habib Bank Limited)"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Account Title:"})," The Quarterdeck Sports Club"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Account #:"})," 1234-5678-9012-3456"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"IBAN:"})," PK00HABB1234567890123456"]})]}),a.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-3 italic",children:"After payment, please share your receipt with admin for verification. Your booking will be confirmed once payment is verified."})]}),a.jsx(U,{onClick:Ap,disabled:tl.isPending,className:"w-full mt-6 py-3 rounded-xl font-bold bg-sky-600 hover:bg-sky-500 shadow-lg","data-testid":"button-confirm-booking",children:tl.isPending?"Processing...":"Confirm Booking"})]}):a.jsx("p",{className:"text-center text-muted-foreground italic text-sm",children:"Please select a time slot to calculate price."})]})})]})]}),s==="events"&&a.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 animate-qd-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:qi,className:"rounded-full","data-testid":"button-events-back-home",children:[a.jsx(hs,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-events-title",children:"Events & Academy"}),a.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Classes, tournaments and social events."})]}),a.jsx("div",{className:"w-16"})," "]}),Cn.length>0?Gs.map(q=>{const de=q.icon,dt=Cn.filter(Le=>Nt[Le.facilityId]===q.id);return dt.length===0?null:a.jsxs("section",{className:`mb-8 p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-md border-t-4 ${q.id==="padel-tennis"?"border-sky-500":q.id==="air-rifle-range"?"border-red-400":q.id==="squash"?"border-slate-400":q.id==="bridge-room"?"border-blue-500":"border-purple-400"}`,"data-testid":`section-events-${q.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 dark:border-slate-700 pb-3",children:[a.jsx(de,{className:"w-8 h-8 text-[#2a4060] dark:text-sky-400"}),a.jsxs("h3",{className:"text-xl font-extrabold",children:[q.label," Programs"]}),q.status==="PLANNED"&&a.jsx(je,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:dt.map(Le=>a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-5 rounded-xl border border-gray-100 dark:border-slate-600 flex flex-col justify-between","data-testid":`card-event-${Le.id}`,children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:`${Op(Le.type)} text-[10px] font-bold px-2 py-0.5 rounded-full uppercase`,children:Le.type}),a.jsx("span",{className:"text-sm font-semibold text-sky-700 dark:text-sky-400",children:Ca(Le.price)})]}),a.jsx("h4",{className:"font-bold text-lg mb-1",children:Le.title}),a.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:[Le.scheduleDay," at ",Le.scheduleTime||"TBA"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Le.description}),Le.instructor&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Instructor: ",Le.instructor]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Le.enrolledCount||0," / ",Le.capacity," enrolled"]})]}),a.jsx(U,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>el(Le),disabled:_a.isPending||(Le.enrolledCount||0)>=Le.capacity,"data-testid":`button-register-${Le.id}`,children:_a.isPending?"Registering...":(Le.enrolledCount||0)>=Le.capacity?"Full":"Register"})]},Le.id))})]},q.id)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(la,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Available"}),a.jsx("p",{className:"text-muted-foreground",children:"Check back soon for upcoming events and academies."})]})]}),s==="leaderboard"&&a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-qd-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:qi,className:"rounded-full","data-testid":"button-leaderboard-back-home",children:[a.jsx(hs,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-leaderboard-title",children:re==="cumulative"?"Global Arena Leaderboard":`${((Ip=Rt.find(q=>q.id===re))==null?void 0:Ip.label)||""} Top Scorers`}),a.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Top performers across all facilities."})]}),a.jsx("div",{className:"w-16"})," "]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[a.jsx("button",{onClick:()=>ae("cumulative"),className:`px-4 py-2 rounded-full text-sm font-medium transition ${re==="cumulative"?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":"button-leaderboard-cumulative",children:"All Facilities"}),Tp.map(q=>{const de=q.icon;return a.jsxs("button",{onClick:()=>ae(q.id),className:`px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-2 ${re===q.id?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-leaderboard-${q.id}`,children:[a.jsx(de,{className:"w-4 h-4"}),q.label]},q.id)})]}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg overflow-hidden",children:ff.length>0?ff.map((q,de)=>a.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-100 dark:border-slate-700 ${de===0?"bg-amber-50 dark:bg-amber-900/20":de===1?"bg-gray-50 dark:bg-slate-700/50":de===2?"bg-orange-50 dark:bg-orange-900/10":""}`,"data-testid":`leaderboard-entry-${de}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${de===0?"bg-amber-400 text-white":de===1?"bg-gray-400 text-white":de===2?"bg-orange-400 text-white":"bg-gray-200 dark:bg-slate-600 text-muted-foreground"}`,children:de+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:q.name}),a.jsx(je,{variant:"outline",className:"text-xs",children:q.tier})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-extrabold text-xl text-sky-700 dark:text-sky-400",children:q.points}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"points"})]})]},de)):a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(la,{className:"w-16 h-16 mx-auto text-muted-foreground/30 mb-4"}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"No Rankings Yet"}),a.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:re==="cumulative"?"Once members start playing, top performers will appear here!":`Be the first to rank in ${((hP=Tp.find(q=>q.id===re))==null?void 0:hP.label)||"this facility"}!`}),a.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Book a session and start climbing the leaderboard"})]})})]}),s==="profile"&&a.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 animate-qd-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:qi,className:"rounded-full","data-testid":"button-profile-back-home",children:[a.jsx(hs,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold","data-testid":"text-profile-title",children:"My Profile"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Your membership details and stats"})]}),a.jsx("div",{className:"w-16"})]}),a.jsx("div",{className:"bg-gradient-to-r from-[#2a4060] to-[#1e3048] p-6 rounded-2xl shadow-lg text-white",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:r&&t?((mP=t.firstName)==null?void 0:mP.charAt(0))||"M":"G"}),a.jsxs("div",{className:"text-center md:text-left flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold mb-1",children:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest User"}),a.jsx("p",{className:"text-white/70 text-sm mb-3",children:r&&t?t.email:"Not logged in"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[a.jsxs(je,{className:`${Q.membershipTier==="FOUNDING"?"bg-amber-400 text-amber-900":Q.membershipTier==="GOLD"?"bg-yellow-400 text-yellow-900":Q.membershipTier==="SILVER"?"bg-gray-300 text-gray-800":"bg-slate-500 text-white"} font-bold px-3 py-1`,children:[Q.membershipTier," MEMBER"]}),Q.isActiveMember&&a.jsxs(je,{className:"bg-green-500 text-white font-medium px-3 py-1",children:[a.jsx(Sn,{className:"w-3 h-3 mr-1"})," Active"]})]})]}),ie&&a.jsxs("div",{className:"text-center md:text-right bg-white/10 px-4 py-3 rounded-xl",children:[a.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Member ID"}),a.jsx("p",{className:"font-mono font-bold text-lg",children:ie.membershipNumber}),a.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Valid until ",new Date(ie.validTo).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(tA,{className:"w-8 h-8 mx-auto text-amber-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:Ca(Q.creditBalance)}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Credit Balance"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(eA,{className:"w-8 h-8 mx-auto text-sky-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:Q.totalHoursPlayed}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Hours Played"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(JE,{className:"w-8 h-8 mx-auto text-emerald-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:Q.guestPasses}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Guest Passes"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(i1,{className:"w-8 h-8 mx-auto text-purple-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:Nf[Q.membershipTier]||2}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Days Advance"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[a.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[a.jsx(la,{className:"w-4 h-4"})," Membership Benefits"]}),a.jsxs("ul",{className:"space-y-3 text-sm",children:[a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:a.jsxs("span",{className:"font-bold text-amber-600 dark:text-amber-400",children:[wr[Q.membershipTier]||0,"%"]})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Off-Peak Discount"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"10AM - 5PM weekdays"})]})]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center",children:a.jsx(kn,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Booking Window"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Book up to ",Nf[Q.membershipTier]||2," days ahead"]})]})]}),Q.guestPasses>0&&a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:a.jsx(fa,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Guest Passes"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Q.guestPasses," passes remaining"]})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[a.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[a.jsx(Bh,{className:"w-4 h-4"})," Certifications & Waivers"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${Q.isSafetyCertified?"bg-green-50 dark:bg-green-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[Q.isSafetyCertified?a.jsx(Sn,{className:"w-5 h-5 text-green-600"}):a.jsx(Rn,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Air Rifle Safety"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Q.isSafetyCertified?"Certified":"Required for range access"})]})]}),a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${Q.hasSignedWaiver?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[Q.hasSignedWaiver?a.jsx(OD,{className:"w-5 h-5 text-blue-600"}):a.jsx(Rn,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Liability Waiver"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Q.hasSignedWaiver?"Signed":"Sign at reception"})]})]})]})]})]}),!r&&a.jsxs("div",{className:"bg-gradient-to-r from-sky-500 to-blue-600 p-6 rounded-xl text-white text-center",children:[a.jsx(fa,{className:"w-12 h-12 mx-auto mb-3 opacity-80"}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Sign In to Access Full Features"}),a.jsx("p",{className:"text-white/80 text-sm mb-4",children:"View your bookings, manage memberships, and more."}),a.jsx(le,{href:"/login",children:a.jsx(U,{variant:"secondary","data-testid":"button-sign-in",children:"Sign In Now"})})]})]})]})]})}function Xne(){return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full max-w-6xl",children:a.jsx(Qne,{})})})}const me=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const Xe=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));Xe.displayName="CardHeader";const et=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));et.displayName="CardTitle";const Kt=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));Kt.displayName="CardDescription";const ge=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("p-6 pt-0",e),...t}));ge.displayName="CardContent";const Zne=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("flex items-center p-6 pt-0",e),...t}));Zne.displayName="CardFooter";var Zx="Tabs",[Jne]=gn(Zx,[Hx]),G3=Hx(),[ese,wk]=Jne(Zx),Y3=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Kd(l),[f,h]=rs({prop:n,onChange:s,defaultProp:i??"",caller:Zx});return a.jsx(ese,{scope:r,baseId:Er(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Ae.div,{dir:d,"data-orientation":o,...u,ref:t})})});Y3.displayName=Zx;var Q3="TabsList",X3=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=wk(Q3,r),o=G3(r);return a.jsx(WF,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Ae.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});X3.displayName=Q3;var Z3="TabsTrigger",J3=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=wk(Z3,r),l=G3(r),c=r5(o.baseId,n),u=n5(o.baseId,n),d=n===o.value;return a.jsx(HF,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:fe(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:fe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:fe(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});J3.displayName=Z3;var e5="TabsContent",t5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=wk(e5,r),c=r5(l.baseId,n),u=n5(l.baseId,n),d=n===l.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Qr,{present:s||d,children:({present:h})=>a.jsx(Ae.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});t5.displayName=e5;function r5(e,t){return`${e}-trigger-${t}`}function n5(e,t){return`${e}-content-${t}`}var tse=Y3,s5=X3,a5=J3,i5=t5;const Ei=tse,Va=v.forwardRef(({className:e,...t},r)=>a.jsx(s5,{ref:r,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Va.displayName=s5.displayName;const yr=v.forwardRef(({className:e,...t},r)=>a.jsx(a5,{ref:r,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));yr.displayName=a5.displayName;const xr=v.forwardRef(({className:e,...t},r)=>a.jsx(i5,{ref:r,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xr.displayName=i5.displayName;function rse(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...x}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=v.useMemo(()=>x,Object.values(x));return a.jsx(m.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,x=v.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,nse(s,...t)]}function nse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var sse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jk=sse.reduce((e,t)=>{const r=Fx(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ase(){return A4.useSyncExternalStore(ise,()=>!0,()=>!1)}function ise(){return()=>{}}var Sk="Avatar",[ose]=rse(Sk),[lse,o5]=ose(Sk),l5=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=v.useState("idle");return a.jsx(lse,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(jk.span,{...n,ref:t})})});l5.displayName=Sk;var c5="AvatarImage",u5=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=o5(c5,r),l=cse(n,i),c=mr(u=>{s(u),o.onImageLoadingStatusChange(u)});return pr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(jk.img,{...i,ref:t,src:n}):null});u5.displayName=c5;var d5="AvatarFallback",f5=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=o5(d5,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(jk.span,{...s,ref:t}):null});f5.displayName=d5;function pO(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function cse(e,{referrerPolicy:t,crossOrigin:r}){const n=ase(),s=v.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=v.useState(()=>pO(i,e));return pr(()=>{l(pO(i,e))},[i,e]),pr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var h5=l5,m5=u5,p5=f5;const Jh=v.forwardRef(({className:e,...t},r)=>a.jsx(h5,{ref:r,className:ce(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Jh.displayName=h5.displayName;const em=v.forwardRef(({className:e,...t},r)=>a.jsx(m5,{ref:r,className:ce("aspect-square h-full w-full",e),...t}));em.displayName=m5.displayName;const tm=v.forwardRef(({className:e,...t},r)=>a.jsx(p5,{ref:r,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));tm.displayName=p5.displayName;function use(){var N,k;const{user:e,isLoading:t,isAuthenticated:r}=Hd(),n=F4(),i=new URLSearchParams(n).get("tab")||"account",o=v.useRef(null),{toast:l}=Et(),{data:c}=we({queryKey:["/api/memberships/my"],enabled:r}),{data:u=[]}=we({queryKey:["/api/bookings/my"],enabled:r}),{data:d=[],isLoading:f}=we({queryKey:["/api/notifications"],enabled:r}),h=Re({mutationFn:async C=>{await Oe("POST",`/api/notifications/${C}/read`)},onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/notifications"]}),Se.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),p=Re({mutationFn:async()=>{await Oe("POST","/api/notifications/read-all")},onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/notifications"]}),Se.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),x=Re({mutationFn:async C=>{await Oe("DELETE",`/api/notifications/${C}`)},onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/notifications"]}),Se.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),m=Re({mutationFn:async C=>{const E=new FormData;E.append("photo",C);const A=await fetch("/api/user/profile-photo",{method:"POST",body:E,credentials:"include"});if(!A.ok){const R=await A.json();throw new Error(R.message||"Failed to upload photo")}return A.json()},onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/auth/user"]}),l({title:"Photo updated",description:"Your profile photo has been updated successfully."}),o.current&&(o.current.value="")},onError:C=>{l({title:"Upload failed",description:C.message,variant:"destructive"})}}),b=C=>{var A;const E=(A=C.target.files)==null?void 0:A[0];if(E){if(E.size>5*1024*1024){l({title:"File too large",description:"Maximum file size is 5MB",variant:"destructive"});return}m.mutate(E)}},y=new Date().toISOString().split("T")[0],{upcomingBookings:g,pastBookings:w}=v.useMemo(()=>{const C=u.filter(A=>A.date>=y).sort((A,R)=>A.date.localeCompare(R.date)),E=u.filter(A=>A.date<y).sort((A,R)=>R.date.localeCompare(A.date));return{upcomingBookings:C,pastBookings:E}},[u,y]),_=d.filter(C=>!C.isRead).length;if(t)return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),a.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:a.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Profile"})})]}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Ot,{className:"h-12 w-64 mb-8"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(Ot,{className:"h-64"}),a.jsx(Ot,{className:"h-64"})]})]})]}),a.jsx(Or,{})]});if(!r)return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center",children:a.jsx(me,{className:"max-w-md w-full mx-4",children:a.jsxs(ge,{className:"pt-6 text-center",children:[a.jsx(fa,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view your profile and booking history."}),a.jsx(le,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),a.jsx(Or,{})]});const j=C=>{switch(C){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},S=C=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl","data-testid":`booking-entry-${C.id}`,children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:C.venue}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.date," at ",C.startTime," - ",C.endTime]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(je,{variant:C.status==="CONFIRMED"?"default":"secondary",children:C.status}),a.jsx("div",{className:"text-sm font-semibold text-sky-600 mt-1",children:Ca(C.totalPrice)})]})]},C.id);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),a.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:a.jsx("h1",{className:"text-3xl md:text-4xl font-bold","data-testid":"text-profile-title",children:"My Profile"})})]}),a.jsx("div",{className:"qd-container py-6",children:a.jsxs(Ei,{defaultValue:i,className:"space-y-6",children:[a.jsxs(Va,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[a.jsxs(yr,{value:"account","data-testid":"tab-account",children:[a.jsx(fa,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Account"]}),a.jsxs(yr,{value:"bookings","data-testid":"tab-bookings",children:[a.jsx(kn,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Bookings"]}),a.jsxs(yr,{value:"notifications",className:"relative","data-testid":"tab-notifications",children:[a.jsx(Xu,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Notifications",_>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[16px] h-[16px] px-1 text-[10px] font-medium text-white bg-red-500 rounded-full",children:_})]}),a.jsxs(yr,{value:"membership","data-testid":"tab-membership",children:[a.jsx(z0,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Membership"]})]}),a.jsxs(xr,{value:"account",className:"space-y-6",children:[a.jsxs(me,{children:[a.jsx(Xe,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(fa,{className:"w-5 h-5"}),"Account Information"]})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[a.jsxs("div",{className:"relative group",children:[a.jsxs(Jh,{className:"w-24 h-24",children:[a.jsx(em,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`}),a.jsxs(tm,{className:"text-2xl bg-primary/10 text-primary",children:[(N=e==null?void 0:e.firstName)==null?void 0:N[0],(k=e==null?void 0:e.lastName)==null?void 0:k[0]]})]}),a.jsx("button",{type:"button",onClick:()=>{var C;return(C=o.current)==null?void 0:C.click()},className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",disabled:m.isPending,"data-testid":"button-change-photo",children:m.isPending?a.jsx(ut,{className:"w-6 h-6 text-white animate-spin"}):a.jsx(ED,{className:"w-6 h-6 text-white"})}),a.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:b,className:"hidden","data-testid":"input-profile-photo"})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),a.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.email}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on photo to change"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(fa,{className:"w-3 h-3"})," Name"]}),a.jsxs("p",{className:"font-semibold","data-testid":"text-user-name",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(rp,{className:"w-3 h-3"})," Email"]}),a.jsx("p",{className:"font-semibold text-sm truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"Not provided"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx($N,{className:"w-3 h-3"})," Credit Balance"]}),a.jsx("p",{className:"font-semibold text-sky-600","data-testid":"text-credit-balance",children:Ca((e==null?void 0:e.creditBalance)||0)})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(Yr,{className:"w-3 h-3"})," Total Hours Played"]}),a.jsxs("p",{className:"font-semibold","data-testid":"text-hours-played",children:[(e==null?void 0:e.totalHoursPlayed)||0," hrs"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(Zu,{className:"w-3 h-3"})," Safety Certified"]}),a.jsx("p",{className:`font-semibold ${e!=null&&e.isSafetyCertified?"text-green-600":"text-red-600"}`,children:e!=null&&e.isSafetyCertified?"Yes":"No"})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(OD,{className:"w-3 h-3"})," Waiver Signed"]}),a.jsx("p",{className:`font-semibold ${e!=null&&e.hasSignedWaiver?"text-green-600":"text-red-600"}`,children:e!=null&&e.hasSignedWaiver?"Yes":"No"})]})]})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("a",{href:"/api/logout",children:a.jsx(U,{variant:"outline",className:"rounded-full","data-testid":"button-logout",children:"Sign Out"})})})]}),a.jsxs(xr,{value:"bookings",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Your Bookings"}),a.jsx(le,{href:"/booking",children:a.jsx(U,{size:"sm","data-testid":"button-new-booking",children:"New Booking"})})]}),a.jsxs(Ei,{defaultValue:"upcoming",className:"space-y-4",children:[a.jsxs(Va,{children:[a.jsxs(yr,{value:"upcoming",className:"gap-2","data-testid":"tab-upcoming-bookings",children:[a.jsx(i1,{className:"w-4 h-4"}),"Upcoming (",g.length,")"]}),a.jsxs(yr,{value:"past",className:"gap-2","data-testid":"tab-past-bookings",children:[a.jsx(QE,{className:"w-4 h-4"}),"Past (",w.length,")"]})]}),a.jsx(xr,{value:"upcoming",className:"space-y-3",children:g.length>0?g.map(S):a.jsx(me,{children:a.jsxs(ge,{className:"py-12 text-center",children:[a.jsx(kn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming bookings"}),a.jsx(le,{href:"/booking",children:a.jsx(U,{"data-testid":"button-make-first-booking",children:"Book a Facility"})})]})})}),a.jsx(xr,{value:"past",className:"space-y-3",children:w.length>0?w.map(S):a.jsx(me,{children:a.jsxs(ge,{className:"py-12 text-center",children:[a.jsx(QE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No past bookings"})]})})})]})]}),a.jsxs(xr,{value:"notifications",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),_>0&&a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>p.mutate(),disabled:p.isPending,"data-testid":"button-mark-all-notifications-read",children:[p.isPending?a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Mark all read"]})]}),f?a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ot,{className:"h-20"}),a.jsx(Ot,{className:"h-20"}),a.jsx(Ot,{className:"h-20"})]}):d.length===0?a.jsx(me,{children:a.jsxs(ge,{className:"py-12 text-center",children:[a.jsx(Xu,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]})}):a.jsx("div",{className:"space-y-3",children:d.map(C=>a.jsx(me,{className:C.isRead?"":"ring-1 ring-primary/20","data-testid":`notification-card-${C.id}`,children:a.jsx(ge,{className:"py-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${j(C.type)}`}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[C.link?a.jsx(le,{href:C.link,children:a.jsx("p",{className:"font-semibold hover:underline cursor-pointer",children:C.title})}):a.jsx("p",{className:"font-semibold",children:C.title}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:C.createdAt?FF(new Date(C.createdAt),{addSuffix:!0}):""})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[!C.isRead&&a.jsx(U,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>h.mutate(C.id),disabled:h.isPending,"data-testid":`button-mark-notification-read-${C.id}`,children:h.isPending?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):a.jsx(Sn,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",className:"w-8 h-8 text-destructive",onClick:()=>x.mutate(C.id),disabled:x.isPending,"data-testid":`button-delete-notification-${C.id}`,children:x.isPending?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):a.jsx(nn,{className:"w-4 h-4"})})]})]})})]})})},C.id))})]}),a.jsx(xr,{value:"membership",className:"space-y-6",children:a.jsxs(me,{children:[a.jsx(Xe,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(z0,{className:"w-5 h-5"}),"Membership Details"]})}),a.jsx(ge,{className:"space-y-4",children:c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 bg-gradient-to-r from-slate-900 to-slate-700 dark:from-slate-700 dark:to-slate-600 rounded-xl text-white",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-70",children:"Member ID"}),a.jsx("span",{className:"font-mono font-bold","data-testid":"text-membership-number",children:c.membershipNumber})]}),a.jsxs("div",{className:"text-2xl font-bold mb-1",children:[c.tier," Tier"]}),a.jsxs("div",{className:"text-xs opacity-70",children:["Valid until: ",new Date(c.validTo).toLocaleDateString()]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),a.jsx(je,{variant:c.status==="ACTIVE"?"default":"secondary",children:c.status})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(pn,{className:"w-3 h-3"})," Guest Passes"]}),a.jsxs("p",{className:"font-semibold",children:[c.guestPasses," remaining"]})]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(z0,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No active membership"}),a.jsx(le,{href:"/#membership",children:a.jsx(U,{variant:"outline","data-testid":"button-view-membership-options",children:"View Membership Options"})})]})})]})})]})})]}),a.jsx(Or,{})]})}var vp=e=>e.type==="checkbox",_l=e=>e instanceof Date,Wn=e=>e==null;const g5=e=>typeof e=="object";var Tr=e=>!Wn(e)&&!Array.isArray(e)&&g5(e)&&!_l(e),v5=e=>Tr(e)&&e.target?vp(e.target)?e.target.checked:e.target.value:e,dse=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,y5=(e,t)=>e.has(dse(t)),fse=e=>{const t=e.constructor&&e.constructor.prototype;return Tr(t)&&t.hasOwnProperty("isPrototypeOf")},_k=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(_k&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Tr(e)&&fse(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Vr(e[s]));return n}var Jx=e=>/^\w*$/.test(e),fr=e=>e===void 0,Nk=e=>Array.isArray(e)?e.filter(Boolean):[],kk=e=>Nk(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ce=(e,t,r)=>{if(!t||!Tr(e))return r;const n=(Jx(t)?[t]:kk(t)).reduce((s,i)=>Wn(s)?s:s[i],e);return fr(n)||n===e?fr(e[t])?r:e[t]:n},ds=e=>typeof e=="boolean",In=e=>typeof e=="function",$t=(e,t,r)=>{let n=-1;const s=Jx(t)?[t]:kk(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Tr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Kv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ca={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ei={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ck=M.createContext(null);Ck.displayName="HookFormContext";const eb=()=>M.useContext(Ck),hse=e=>{const{children:t,...r}=e;return M.createElement(Ck.Provider,{value:r},t)};var x5=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ca.all&&(t._proxyFormState[o]=!n||ca.all),r&&(r[o]=!0),e[o]}});return s};const Pk=typeof window<"u"?M.useLayoutEffect:M.useEffect;function mse(e){const t=eb(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,l]=M.useState(r._formState),c=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Pk(()=>r._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,i]),M.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),M.useMemo(()=>x5(o,r,c.current,!1),[o,r])}var gs=e=>typeof e=="string",T1=(e,t,r,n,s)=>gs(e)?(n&&t.watch.add(e),Ce(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ce(r,i))):(n&&(t.watchAll=!0),r),I1=e=>Wn(e)||!g5(e);function ua(e,t,r=new WeakSet){if(I1(e)||I1(t))return Object.is(e,t);if(_l(e)&&_l(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(_l(o)&&_l(l)||Tr(o)&&Tr(l)||Array.isArray(o)&&Array.isArray(l)?!ua(o,l,r):!Object.is(o,l))return!1}}return!0}function pse(e){const t=eb(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o,compute:l}=e||{},c=M.useRef(s),u=M.useRef(l),d=M.useRef(void 0),f=M.useRef(r),h=M.useRef(n);u.current=l;const[p,x]=M.useState(()=>{const _=r._getWatch(n,c.current);return u.current?u.current(_):_}),m=M.useCallback(_=>{const j=T1(n,r._names,_||r._formValues,!1,c.current);return u.current?u.current(j):j},[r._formValues,r._names,n]),b=M.useCallback(_=>{if(!i){const j=T1(n,r._names,_||r._formValues,!1,c.current);if(u.current){const S=u.current(j);ua(S,d.current)||(x(S),d.current=S)}else x(j)}},[r._formValues,r._names,i,n]);Pk(()=>((f.current!==r||!ua(h.current,n))&&(f.current=r,h.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:_=>{b(_.values)}})),[r,o,n,b]),M.useEffect(()=>r._removeUnmounted());const y=f.current!==r,g=h.current,w=M.useMemo(()=>{if(i)return null;const _=!y&&!ua(g,n);return y||_?m():null},[i,y,n,g,m]);return w!==null?w:p}function gse(e){const t=eb(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=y5(s._names.array,r),u=M.useMemo(()=>Ce(s._formValues,r,Ce(s._defaultValues,r,o)),[s,r,o]),d=pse({control:s,name:r,defaultValue:u,exact:l}),f=mse({control:s,name:r,exact:l}),h=M.useRef(e),p=M.useRef(void 0),x=M.useRef(s.register(r,{...e.rules,value:d,...ds(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=M.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ce(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ce(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ce(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ce(f.validatingFields,r)},error:{enumerable:!0,get:()=>Ce(f.errors,r)}}),[f,r]),b=M.useCallback(_=>x.current.onChange({target:{value:v5(_),name:r},type:Kv.CHANGE}),[r]),y=M.useCallback(()=>x.current.onBlur({target:{value:Ce(s._formValues,r),name:r},type:Kv.BLUR}),[r,s._formValues]),g=M.useCallback(_=>{const j=Ce(s._fields,r);j&&j._f&&_&&(j._f.ref={focus:()=>In(_.focus)&&_.focus(),select:()=>In(_.select)&&_.select(),setCustomValidity:S=>In(_.setCustomValidity)&&_.setCustomValidity(S),reportValidity:()=>In(_.reportValidity)&&_.reportValidity()})},[s._fields,r]),w=M.useMemo(()=>({name:r,value:d,...ds(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:b,onBlur:y,ref:g}),[r,n,f.disabled,b,y,g,d]);return M.useEffect(()=>{const _=s._options.shouldUnregister||i,j=p.current;j&&j!==r&&!c&&s.unregister(j),s.register(r,{...h.current.rules,...ds(h.current.disabled)?{disabled:h.current.disabled}:{}});const S=(N,k)=>{const C=Ce(s._fields,N);C&&C._f&&(C._f.mount=k)};if(S(r,!0),_){const N=Vr(Ce(s._options.defaultValues,r,h.current.defaultValue));$t(s._defaultValues,r,N),fr(Ce(s._formValues,r))&&$t(s._formValues,r,N)}return!c&&s.register(r),p.current=r,()=>{(c?_&&!s._state.action:_)?s.unregister(r):S(r,!1)}},[r,s,c,i]),M.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),M.useMemo(()=>({field:w,formState:f,fieldState:m}),[w,f,m])}const vse=e=>e.render(gse(e));var b5=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},uh=e=>Array.isArray(e)?e:[e],gO=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function w5(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Tr(s)&&i){const o=w5(s,i);Tr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var An=e=>Tr(e)&&!Object.keys(e).length,Ek=e=>e.type==="file",Gv=e=>{if(!_k)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},j5=e=>e.type==="select-multiple",Ak=e=>e.type==="radio",yse=e=>Ak(e)||vp(e),mw=e=>Gv(e)&&e.isConnected;function xse(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=fr(e)?n++:e[t[n++]];return e}function bse(e){for(const t in e)if(e.hasOwnProperty(t)&&!fr(e[t]))return!1;return!0}function jr(e,t){const r=Array.isArray(t)?t:Jx(t)?[t]:kk(t),n=r.length===1?e:xse(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Tr(n)&&An(n)||Array.isArray(n)&&bse(n))&&jr(e,r.slice(0,-1)),e}var wse=e=>{for(const t in e)if(In(e[t]))return!0;return!1};function S5(e){return Array.isArray(e)||Tr(e)&&!wse(e)}function R1(e,t={}){for(const r in e){const n=e[r];S5(n)?(t[r]=Array.isArray(n)?[]:{},R1(n,t[r])):fr(n)||(t[r]=!0)}return t}function Qc(e,t,r){r||(r=R1(t));for(const n in e){const s=e[n];if(S5(s))fr(t)||I1(r[n])?r[n]=R1(s,Array.isArray(s)?[]:{}):Qc(s,Wn(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!ua(s,i)}}return r}const vO={value:!1,isValid:!1},yO={value:!0,isValid:!0};var _5=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!fr(e[0].attributes.value)?fr(e[0].value)||e[0].value===""?yO:{value:e[0].value,isValid:!0}:yO:vO}return vO},N5=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>fr(e)?e:t?e===""?NaN:e&&+e:r&&gs(e)?new Date(e):n?n(e):e;const xO={isValid:!1,value:null};var k5=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,xO):xO;function bO(e){const t=e.ref;return Ek(t)?t.files:Ak(t)?k5(e.refs).value:j5(t)?[...t.selectedOptions].map(({value:r})=>r):vp(t)?_5(e.refs).value:N5(fr(t.value)?e.ref.value:t.value,e)}var jse=(e,t,r,n)=>{const s={};for(const i of e){const o=Ce(t,i);o&&$t(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Yv=e=>e instanceof RegExp,kf=e=>fr(e)?e:Yv(e)?e.source:Tr(e)?Yv(e.value)?e.value.source:e.value:e,wO=e=>({isOnSubmit:!e||e===ca.onSubmit,isOnBlur:e===ca.onBlur,isOnChange:e===ca.onChange,isOnAll:e===ca.all,isOnTouch:e===ca.onTouched});const jO="AsyncFunction";var Sse=e=>!!e&&!!e.validate&&!!(In(e.validate)&&e.validate.constructor.name===jO||Tr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===jO)),_se=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),SO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const dh=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Ce(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(dh(l,t))break}else if(Tr(l)&&dh(l,t))break}}};function _O(e,t,r){const n=Ce(e,r);if(n||Jx(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Ce(t,i),l=Ce(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var Nse=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return An(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ca.all))},kse=(e,t,r)=>!e||!t||e===t||uh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Cse=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Pse=(e,t)=>!Nk(Ce(e,t)).length&&jr(e,t),Ese=(e,t,r)=>{const n=uh(Ce(e,r));return $t(n,"root",t[r]),$t(e,r,n),e};function NO(e,t,r="validate"){if(gs(e)||Array.isArray(e)&&e.every(gs)||ds(e)&&!e)return{type:r,message:gs(e)?e:"",ref:t}}var Vc=e=>Tr(e)&&!Yv(e)?e:{value:e,message:""},kO=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:x,name:m,valueAsNumber:b,mount:y}=e._f,g=Ce(r,m);if(!y||t.has(m))return{};const w=l?l[0]:o,_=R=>{s&&w.reportValidity&&(w.setCustomValidity(ds(R)?"":R||""),w.reportValidity())},j={},S=Ak(o),N=vp(o),k=S||N,C=(b||Ek(o))&&fr(o.value)&&fr(g)||Gv(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,E=b5.bind(null,m,n,j),A=(R,T,I,O=ei.maxLength,D=ei.minLength)=>{const V=R?T:I;j[m]={type:R?O:D,message:V,ref:o,...E(R?O:D,V)}};if(i?!Array.isArray(g)||!g.length:c&&(!k&&(C||Wn(g))||ds(g)&&!g||N&&!_5(l).isValid||S&&!k5(l).isValid)){const{value:R,message:T}=gs(c)?{value:!!c,message:c}:Vc(c);if(R&&(j[m]={type:ei.required,message:T,ref:w,...E(ei.required,T)},!n))return _(T),j}if(!C&&(!Wn(f)||!Wn(h))){let R,T;const I=Vc(h),O=Vc(f);if(!Wn(g)&&!isNaN(g)){const D=o.valueAsNumber||g&&+g;Wn(I.value)||(R=D>I.value),Wn(O.value)||(T=D<O.value)}else{const D=o.valueAsDate||new Date(g),V=K=>new Date(new Date().toDateString()+" "+K),P=o.type=="time",$=o.type=="week";gs(I.value)&&g&&(R=P?V(g)>V(I.value):$?g>I.value:D>new Date(I.value)),gs(O.value)&&g&&(T=P?V(g)<V(O.value):$?g<O.value:D<new Date(O.value))}if((R||T)&&(A(!!R,I.message,O.message,ei.max,ei.min),!n))return _(j[m].message),j}if((u||d)&&!C&&(gs(g)||i&&Array.isArray(g))){const R=Vc(u),T=Vc(d),I=!Wn(R.value)&&g.length>+R.value,O=!Wn(T.value)&&g.length<+T.value;if((I||O)&&(A(I,R.message,T.message),!n))return _(j[m].message),j}if(p&&!C&&gs(g)){const{value:R,message:T}=Vc(p);if(Yv(R)&&!g.match(R)&&(j[m]={type:ei.pattern,message:T,ref:o,...E(ei.pattern,T)},!n))return _(T),j}if(x){if(In(x)){const R=await x(g,r),T=NO(R,w);if(T&&(j[m]={...T,...E(ei.validate,T.message)},!n))return _(T.message),j}else if(Tr(x)){let R={};for(const T in x){if(!An(R)&&!n)break;const I=NO(await x[T](g,r),w,T);I&&(R={...I,...E(T,I.message)},_(I.message),n&&(j[m]=R))}if(!An(R)&&(j[m]={ref:w,...R},!n))return j}}return _(!0),j};const Ase={mode:ca.onSubmit,reValidateMode:ca.onChange,shouldFocusError:!0};function Ose(e={}){let t={...Ase,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:In(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Tr(t.defaultValues)||Tr(t.values)?Vr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Vr(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:gO(),state:gO()},x=t.criteriaMode===ca.all,m=L=>H=>{clearTimeout(u),u=setTimeout(L,H)},b=async L=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||L)){let H;t.resolver?(H=An((await k()).errors),y()):H=await E(n,!0),H!==r.isValid&&p.state.next({isValid:H})}},y=(L,H)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((L||Array.from(l.mount)).forEach(X=>{X&&(H?$t(r.validatingFields,X,H):jr(r.validatingFields,X))}),p.state.next({validatingFields:r.validatingFields,isValidating:!An(r.validatingFields)}))},g=(L,H=[],X,_e,ve=!0,pe=!0)=>{if(_e&&X&&!t.disabled){if(o.action=!0,pe&&Array.isArray(Ce(n,L))){const Be=X(Ce(n,L),_e.argA,_e.argB);ve&&$t(n,L,Be)}if(pe&&Array.isArray(Ce(r.errors,L))){const Be=X(Ce(r.errors,L),_e.argA,_e.argB);ve&&$t(r.errors,L,Be),Pse(r.errors,L)}if((f.touchedFields||h.touchedFields)&&pe&&Array.isArray(Ce(r.touchedFields,L))){const Be=X(Ce(r.touchedFields,L),_e.argA,_e.argB);ve&&$t(r.touchedFields,L,Be)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Qc(s,i)),p.state.next({name:L,isDirty:R(L,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $t(i,L,H)},w=(L,H)=>{$t(r.errors,L,H),p.state.next({errors:r.errors})},_=L=>{r.errors=L,p.state.next({errors:r.errors,isValid:!1})},j=(L,H,X,_e)=>{const ve=Ce(n,L);if(ve){const pe=Ce(i,L,fr(X)?Ce(s,L):X);fr(pe)||_e&&_e.defaultChecked||H?$t(i,L,H?pe:bO(ve._f)):O(L,pe),o.mount&&!o.action&&b()}},S=(L,H,X,_e,ve)=>{let pe=!1,Be=!1;const yt={name:L};if(!t.disabled){if(!X||_e){(f.isDirty||h.isDirty)&&(Be=r.isDirty,r.isDirty=yt.isDirty=R(),pe=Be!==yt.isDirty);const Nt=ua(Ce(s,L),H);Be=!!Ce(r.dirtyFields,L),Nt?jr(r.dirtyFields,L):$t(r.dirtyFields,L,!0),yt.dirtyFields=r.dirtyFields,pe=pe||(f.dirtyFields||h.dirtyFields)&&Be!==!Nt}if(X){const Nt=Ce(r.touchedFields,L);Nt||($t(r.touchedFields,L,X),yt.touchedFields=r.touchedFields,pe=pe||(f.touchedFields||h.touchedFields)&&Nt!==X)}pe&&ve&&p.state.next(yt)}return pe?yt:{}},N=(L,H,X,_e)=>{const ve=Ce(r.errors,L),pe=(f.isValid||h.isValid)&&ds(H)&&r.isValid!==H;if(t.delayError&&X?(c=m(()=>w(L,X)),c(t.delayError)):(clearTimeout(u),c=null,X?$t(r.errors,L,X):jr(r.errors,L)),(X?!ua(ve,X):ve)||!An(_e)||pe){const Be={..._e,...pe&&ds(H)?{isValid:H}:{},errors:r.errors,name:L};r={...r,...Be},p.state.next(Be)}},k=async L=>(y(L,!0),await t.resolver(i,t.context,jse(L||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async L=>{const{errors:H}=await k(L);if(y(L),L)for(const X of L){const _e=Ce(H,X);_e?$t(r.errors,X,_e):jr(r.errors,X)}else r.errors=H;return H},E=async(L,H,X={valid:!0})=>{for(const _e in L){const ve=L[_e];if(ve){const{_f:pe,...Be}=ve;if(pe){const yt=l.array.has(pe.name),Nt=ve._f&&Sse(ve._f);Nt&&f.validatingFields&&y([pe.name],!0);const Rt=await kO(ve,l.disabled,i,x,t.shouldUseNativeValidation&&!H,yt);if(Nt&&f.validatingFields&&y([pe.name]),Rt[pe.name]&&(X.valid=!1,H))break;!H&&(Ce(Rt,pe.name)?yt?Ese(r.errors,Rt,pe.name):$t(r.errors,pe.name,Rt[pe.name]):jr(r.errors,pe.name))}!An(Be)&&await E(Be,H,X)}}return X.valid},A=()=>{for(const L of l.unMount){const H=Ce(n,L);H&&(H._f.refs?H._f.refs.every(X=>!mw(X)):!mw(H._f.ref))&&ie(L)}l.unMount=new Set},R=(L,H)=>!t.disabled&&(L&&H&&$t(i,L,H),!ua(te(),s)),T=(L,H,X)=>T1(L,l,{...o.mount?i:fr(H)?s:gs(L)?{[L]:H}:H},X,H),I=L=>Nk(Ce(o.mount?i:s,L,t.shouldUnregister?Ce(s,L,[]):[])),O=(L,H,X={})=>{const _e=Ce(n,L);let ve=H;if(_e){const pe=_e._f;pe&&(!pe.disabled&&$t(i,L,N5(H,pe)),ve=Gv(pe.ref)&&Wn(H)?"":H,j5(pe.ref)?[...pe.ref.options].forEach(Be=>Be.selected=ve.includes(Be.value)):pe.refs?vp(pe.ref)?pe.refs.forEach(Be=>{(!Be.defaultChecked||!Be.disabled)&&(Array.isArray(ve)?Be.checked=!!ve.find(yt=>yt===Be.value):Be.checked=ve===Be.value||!!ve)}):pe.refs.forEach(Be=>Be.checked=Be.value===ve):Ek(pe.ref)?pe.ref.value="":(pe.ref.value=ve,pe.ref.type||p.state.next({name:L,values:Vr(i)})))}(X.shouldDirty||X.shouldTouch)&&S(L,ve,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&K(L)},D=(L,H,X)=>{for(const _e in H){if(!H.hasOwnProperty(_e))return;const ve=H[_e],pe=L+"."+_e,Be=Ce(n,pe);(l.array.has(L)||Tr(ve)||Be&&!Be._f)&&!_l(ve)?D(pe,ve,X):O(pe,ve,X)}},V=(L,H,X={})=>{const _e=Ce(n,L),ve=l.array.has(L),pe=Vr(H);$t(i,L,pe),ve?(p.array.next({name:L,values:Vr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&X.shouldDirty&&p.state.next({name:L,dirtyFields:Qc(s,i),isDirty:R(L,pe)})):_e&&!_e._f&&!Wn(pe)?D(L,pe,X):O(L,pe,X),SO(L,l)&&p.state.next({...r,name:L}),p.state.next({name:o.mount?L:void 0,values:Vr(i)})},P=async L=>{o.mount=!0;const H=L.target;let X=H.name,_e=!0;const ve=Ce(n,X),pe=Nt=>{_e=Number.isNaN(Nt)||_l(Nt)&&isNaN(Nt.getTime())||ua(Nt,Ce(i,X,Nt))},Be=wO(t.mode),yt=wO(t.reValidateMode);if(ve){let Nt,Rt;const Gs=H.type?bO(ve._f):v5(L),Cn=L.type===Kv.BLUR||L.type===Kv.FOCUS_OUT,_a=!_se(ve._f)&&!t.resolver&&!Ce(r.errors,X)&&!ve._f.deps||Cse(Cn,Ce(r.touchedFields,X),r.isSubmitted,yt,Be),el=SO(X,l,Cn);$t(i,X,Gs),Cn?(!H||!H.readOnly)&&(ve._f.onBlur&&ve._f.onBlur(L),c&&c(0)):ve._f.onChange&&ve._f.onChange(L);const Xa=S(X,Gs,Cn),tl=!An(Xa)||el;if(!Cn&&p.state.next({name:X,type:L.type,values:Vr(i)}),_a)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Cn&&b():Cn||b()),tl&&p.state.next({name:X,...el?{}:Xa});if(!Cn&&el&&p.state.next({...r}),t.resolver){const{errors:Pc}=await k([X]);if(y([X]),pe(Gs),_e){const uf=_O(r.errors,n,X),Dr=_O(Pc,n,uf.name||X);Nt=Dr.error,X=Dr.name,Rt=An(Pc)}}else y([X],!0),Nt=(await kO(ve,l.disabled,i,x,t.shouldUseNativeValidation))[X],y([X]),pe(Gs),_e&&(Nt?Rt=!1:(f.isValid||h.isValid)&&(Rt=await E(n,!0)));_e&&(ve._f.deps&&(!Array.isArray(ve._f.deps)||ve._f.deps.length>0)&&K(ve._f.deps),N(X,Rt,Nt,Xa))}},$=(L,H)=>{if(Ce(r.errors,H)&&L.focus)return L.focus(),1},K=async(L,H={})=>{let X,_e;const ve=uh(L);if(t.resolver){const pe=await C(fr(L)?L:ve);X=An(pe),_e=L?!ve.some(Be=>Ce(pe,Be)):X}else L?(_e=(await Promise.all(ve.map(async pe=>{const Be=Ce(n,pe);return await E(Be&&Be._f?{[pe]:Be}:Be)}))).every(Boolean),!(!_e&&!r.isValid)&&b()):_e=X=await E(n);return p.state.next({...!gs(L)||(f.isValid||h.isValid)&&X!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:X}:{},errors:r.errors}),H.shouldFocus&&!_e&&dh(n,$,L?ve:l.mount),_e},te=(L,H)=>{let X={...o.mount?i:s};return H&&(X=w5(H.dirtyFields?r.dirtyFields:r.touchedFields,X)),fr(L)?X:gs(L)?Ce(X,L):L.map(_e=>Ce(X,_e))},B=(L,H)=>({invalid:!!Ce((H||r).errors,L),isDirty:!!Ce((H||r).dirtyFields,L),error:Ce((H||r).errors,L),isValidating:!!Ce(r.validatingFields,L),isTouched:!!Ce((H||r).touchedFields,L)}),G=L=>{L&&uh(L).forEach(H=>jr(r.errors,H)),p.state.next({errors:L?r.errors:{}})},re=(L,H,X)=>{const _e=(Ce(n,L,{_f:{}})._f||{}).ref,ve=Ce(r.errors,L)||{},{ref:pe,message:Be,type:yt,...Nt}=ve;$t(r.errors,L,{...Nt,...H,ref:_e}),p.state.next({name:L,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&_e&&_e.focus&&_e.focus()},ae=(L,H)=>In(L)?p.state.subscribe({next:X=>"values"in X&&L(T(void 0,H),X)}):T(L,H,!0),ke=L=>p.state.subscribe({next:H=>{kse(L.name,H.name,L.exact)&&Nse(H,L.formState||f,Yt,L.reRenderRoot)&&L.callback({values:{...i},...r,...H,defaultValues:s})}}).unsubscribe,J=L=>(o.mount=!0,h={...h,...L.formState},ke({...L,formState:{...d,...L.formState}})),ie=(L,H={})=>{for(const X of L?uh(L):l.mount)l.mount.delete(X),l.array.delete(X),H.keepValue||(jr(n,X),jr(i,X)),!H.keepError&&jr(r.errors,X),!H.keepDirty&&jr(r.dirtyFields,X),!H.keepTouched&&jr(r.touchedFields,X),!H.keepIsValidating&&jr(r.validatingFields,X),!t.shouldUnregister&&!H.keepDefaultValue&&jr(s,X);p.state.next({values:Vr(i)}),p.state.next({...r,...H.keepDirty?{isDirty:R()}:{}}),!H.keepIsValid&&b()},Y=({disabled:L,name:H})=>{(ds(L)&&o.mount||L||l.disabled.has(H))&&(L?l.disabled.add(H):l.disabled.delete(H))},Q=(L,H={})=>{let X=Ce(n,L);const _e=ds(H.disabled)||ds(t.disabled);return $t(n,L,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:L}},name:L,mount:!0,...H}}),l.mount.add(L),X?Y({disabled:ds(H.disabled)?H.disabled:t.disabled,name:L}):j(L,!0,H.value),{..._e?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:kf(H.min),max:kf(H.max),minLength:kf(H.minLength),maxLength:kf(H.maxLength),pattern:kf(H.pattern)}:{},name:L,onChange:P,onBlur:P,ref:ve=>{if(ve){Q(L,H),X=Ce(n,L);const pe=fr(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,Be=yse(pe),yt=X._f.refs||[];if(Be?yt.find(Nt=>Nt===pe):pe===X._f.ref)return;$t(n,L,{_f:{...X._f,...Be?{refs:[...yt.filter(mw),pe,...Array.isArray(Ce(s,L))?[{}]:[]],ref:{type:pe.type,name:L}}:{ref:pe}}}),j(L,!1,void 0,pe)}else X=Ce(n,L,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(y5(l.array,L)&&o.action)&&l.unMount.add(L)}}},se=()=>t.shouldFocusError&&dh(n,$,l.mount),W=L=>{ds(L)&&(p.state.next({disabled:L}),dh(n,(H,X)=>{const _e=Ce(n,X);_e&&(H.disabled=_e._f.disabled||L,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(ve=>{ve.disabled=_e._f.disabled||L}))},0,!1))},z=(L,H)=>async X=>{let _e;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ve=Vr(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:Be}=await k();y(),r.errors=pe,ve=Vr(Be)}else await E(n);if(l.disabled.size)for(const pe of l.disabled)jr(ve,pe);if(jr(r.errors,"root"),An(r.errors)){p.state.next({errors:{}});try{await L(ve,X)}catch(pe){_e=pe}}else H&&await H({...r.errors},X),se(),setTimeout(se);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:An(r.errors)&&!_e,submitCount:r.submitCount+1,errors:r.errors}),_e)throw _e},oe=(L,H={})=>{Ce(n,L)&&(fr(H.defaultValue)?V(L,Vr(Ce(s,L))):(V(L,H.defaultValue),$t(s,L,Vr(H.defaultValue))),H.keepTouched||jr(r.touchedFields,L),H.keepDirty||(jr(r.dirtyFields,L),r.isDirty=H.defaultValue?R(L,Vr(Ce(s,L))):R()),H.keepError||(jr(r.errors,L),f.isValid&&b()),p.state.next({...r}))},qe=(L,H={})=>{const X=L?Vr(L):s,_e=Vr(X),ve=An(L),pe=ve?s:_e;if(H.keepDefaultValues||(s=X),!H.keepValues){if(H.keepDirtyValues){const Be=new Set([...l.mount,...Object.keys(Qc(s,i))]);for(const yt of Array.from(Be))Ce(r.dirtyFields,yt)?$t(pe,yt,Ce(i,yt)):V(yt,Ce(pe,yt))}else{if(_k&&fr(L))for(const Be of l.mount){const yt=Ce(n,Be);if(yt&&yt._f){const Nt=Array.isArray(yt._f.refs)?yt._f.refs[0]:yt._f.ref;if(Gv(Nt)){const Rt=Nt.closest("form");if(Rt){Rt.reset();break}}}}if(H.keepFieldsRef)for(const Be of l.mount)V(Be,Ce(pe,Be));else n={}}i=t.shouldUnregister?H.keepDefaultValues?Vr(s):{}:Vr(pe),p.array.next({values:{...pe}}),p.state.next({values:{...pe}})}l={mount:H.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!H.keepIsValid||!!H.keepDirtyValues||!t.shouldUnregister&&!An(pe),o.watch=!!t.shouldUnregister,o.keepIsValid=!!H.keepIsValid,o.action=!1,H.keepErrors||(r.errors={}),p.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:ve?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!ua(L,s)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ve?{}:H.keepDirtyValues?H.keepDefaultValues&&i?Qc(s,i):r.dirtyFields:H.keepDefaultValues&&L?Qc(s,L):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ge=(L,H)=>qe(In(L)?L(i):L,{...t.resetOptions,...H}),at=(L,H={})=>{const X=Ce(n,L),_e=X&&X._f;if(_e){const ve=_e.refs?_e.refs[0]:_e.ref;ve.focus&&setTimeout(()=>{ve.focus(),H.shouldSelect&&In(ve.select)&&ve.select()})}},Yt=L=>{r={...r,...L}},wr={control:{register:Q,unregister:ie,getFieldState:B,handleSubmit:z,setError:re,_subscribe:ke,_runSchema:k,_updateIsValidating:y,_focusError:se,_getWatch:T,_getDirty:R,_setValid:b,_setFieldArray:g,_setDisabledField:Y,_setErrors:_,_getFieldArray:I,_reset:qe,_resetDefaultValues:()=>In(t.defaultValues)&&t.defaultValues().then(L=>{Ge(L,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:W,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return r},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:J,trigger:K,register:Q,handleSubmit:z,watch:ae,setValue:V,getValues:te,reset:Ge,resetField:oe,clearErrors:G,unregister:ie,setError:re,setFocus:at,getFieldState:B};return{...wr,formControl:wr}}function qa(e={}){const t=M.useRef(void 0),r=M.useRef(void 0),[n,s]=M.useState({isDirty:!1,isValidating:!1,isLoading:In(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:In(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!In(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Ose(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,Pk(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),M.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),M.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),M.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),M.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),M.useEffect(()=>{var o;e.values&&!ua(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),M.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=x5(n,i),t.current}const CO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ce(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},C5=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?CO(n.ref,r,e):n.refs&&n.refs.forEach(s=>CO(s,r,e))}},Tse=(e,t)=>{t.shouldUseNativeValidation&&C5(e,t);const r={};for(const n in e){const s=Ce(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(Ise(t.names||Object.keys(e),n)){const o=Object.assign({},Ce(r,n));$t(o,"root",i),$t(r,n,o)}else $t(r,n,i)}return r},Ise=(e,t)=>e.some(r=>r.startsWith(t+"."));var Rse=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=b5(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},za=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&C5({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Tse(Rse(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},kt;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(kt||(kt={}));var PO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(PO||(PO={}));const De=kt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zi=e=>{switch(typeof e){case"undefined":return De.undefined;case"string":return De.string;case"number":return Number.isNaN(e)?De.nan:De.number;case"boolean":return De.boolean;case"function":return De.function;case"bigint":return De.bigint;case"symbol":return De.symbol;case"object":return Array.isArray(e)?De.array:e===null?De.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?De.promise:typeof Map<"u"&&e instanceof Map?De.map:typeof Set<"u"&&e instanceof Set?De.set:typeof Date<"u"&&e instanceof Date?De.date:De.object;default:return De.unknown}},ye=kt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ai extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Ai))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,kt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ai.create=e=>new Ai(e);const $1=(e,t)=>{let r;switch(e.code){case ye.invalid_type:e.received===De.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,kt.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${kt.joinValues(e.keys,", ")}`;break;case ye.invalid_union:r="Invalid input";break;case ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${kt.joinValues(e.options)}`;break;case ye.invalid_enum_value:r=`Invalid enum value. Expected ${kt.joinValues(e.options)}, received '${e.received}'`;break;case ye.invalid_arguments:r="Invalid function arguments";break;case ye.invalid_return_type:r="Invalid function return type";break;case ye.invalid_date:r="Invalid date";break;case ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:kt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ye.custom:r="Invalid input";break;case ye.invalid_intersection_types:r="Intersection results could not be merged";break;case ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,kt.assertNever(e)}return{message:r}};let $se=$1;function Mse(){return $se}const Dse=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Ee(e,t){const r=Mse(),n=Dse({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===$1?void 0:$1].filter(s=>!!s)});e.common.issues.push(n)}class _s{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return nt;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return _s.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return nt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const nt=Object.freeze({status:"aborted"}),Hf=e=>({status:"dirty",value:e}),zs=e=>({status:"valid",value:e}),EO=e=>e.status==="aborted",AO=e=>e.status==="dirty",ad=e=>e.status==="valid",Qv=e=>typeof Promise<"u"&&e instanceof Promise;var Fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Fe||(Fe={}));class Fo{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const OO=(e,t)=>{if(ad(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ai(e.common.issues);return this._error=r,this._error}}};function pt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class St{get description(){return this._def.description}_getType(t){return Zi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Zi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new _s,ctx:{common:t.parent.common,data:t.data,parsedType:Zi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Qv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zi(t)},s=this._parseSync({data:t,path:n.path,parent:n});return OO(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zi(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return ad(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>ad(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zi(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Qv(s)?s:Promise.resolve(s));return OO(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:ye.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new ld({schema:this,typeName:st.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Co.create(this,this._def)}nullable(){return cd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return La.create(this)}promise(){return ey.create(this,this._def)}or(t){return Zv.create([this,t],this._def)}and(t){return Jv.create(this,t,this._def)}transform(t){return new ld({...pt(this._def),schema:this,typeName:st.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new L1({...pt(this._def),innerType:this,defaultValue:r,typeName:st.ZodDefault})}brand(){return new iae({typeName:st.ZodBranded,type:this,...pt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new F1({...pt(this._def),innerType:this,catchValue:r,typeName:st.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Ok.create(this,t)}readonly(){return B1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Lse=/^c[^\s-]{8,}$/i,Fse=/^[0-9a-z]+$/,Bse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Use=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Vse=/^[a-z0-9_-]{21}$/i,qse=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,zse=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Wse=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Hse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let pw;const Kse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Yse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Qse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Zse=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,P5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Jse=new RegExp(`^${P5}$`);function E5(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function eae(e){return new RegExp(`^${E5(e)}$`)}function tae(e){let t=`${P5}T${E5(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function rae(e,t){return!!((t==="v4"||!t)&&Kse.test(e)||(t==="v6"||!t)&&Yse.test(e))}function nae(e,t){if(!qse.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function sae(e,t){return!!((t==="v4"||!t)&&Gse.test(e)||(t==="v6"||!t)&&Qse.test(e))}class hi extends St{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==De.string){const i=this._getOrReturnCtx(t);return Ee(i,{code:ye.invalid_type,expected:De.string,received:i.parsedType}),nt}const n=new _s;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Ee(s,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ee(s,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Wse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"email",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")pw||(pw=new RegExp(Hse,"u")),pw.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"emoji",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Use.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"uuid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Vse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"nanoid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Lse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cuid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Fse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cuid2",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Bse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"ulid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Ee(s,{validation:"url",code:ye.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"regex",code:ye.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:ye.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:ye.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:ye.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?tae(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:ye.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Jse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:ye.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?eae(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:ye.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?zse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"duration",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?rae(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"ip",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?nae(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"jwt",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?sae(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cidr",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Xse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"base64",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Zse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"base64url",code:ye.invalid_string,message:i.message}),n.dirty()):kt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:ye.invalid_string,...Fe.errToObj(n)})}_addCheck(t){return new hi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Fe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Fe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Fe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Fe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Fe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Fe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Fe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Fe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Fe.errToObj(r)})}nonempty(t){return this.min(1,Fe.errToObj(t))}trim(){return new hi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}hi.create=e=>new hi({checks:[],typeName:st.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...pt(e)});function aae(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class tc extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==De.number){const i=this._getOrReturnCtx(t);return Ee(i,{code:ye.invalid_type,expected:De.number,received:i.parsedType}),nt}let n;const s=new _s;for(const i of this._def.checks)i.kind==="int"?kt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:ye.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ye.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ye.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?aae(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:ye.not_finite,message:i.message}),s.dirty()):kt.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,s){return new tc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(t){return new tc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&kt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}tc.create=e=>new tc({checks:[],typeName:st.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...pt(e)});class rc extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==De.bigint)return this._getInvalidInput(t);let n;const s=new _s;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ye.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ye.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):kt.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:ye.invalid_type,expected:De.bigint,received:r.parsedType}),nt}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,s){return new rc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(t){return new rc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}rc.create=e=>new rc({checks:[],typeName:st.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...pt(e)});class Xv extends St{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==De.boolean){const n=this._getOrReturnCtx(t);return Ee(n,{code:ye.invalid_type,expected:De.boolean,received:n.parsedType}),nt}return zs(t.data)}}Xv.create=e=>new Xv({typeName:st.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...pt(e)});class id extends St{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==De.date){const i=this._getOrReturnCtx(t);return Ee(i,{code:ye.invalid_type,expected:De.date,received:i.parsedType}),nt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ee(i,{code:ye.invalid_date}),nt}const n=new _s;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:ye.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:ye.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):kt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new id({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Fe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Fe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}id.create=e=>new id({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:st.ZodDate,...pt(e)});class TO extends St{_parse(t){if(this._getType(t)!==De.symbol){const n=this._getOrReturnCtx(t);return Ee(n,{code:ye.invalid_type,expected:De.symbol,received:n.parsedType}),nt}return zs(t.data)}}TO.create=e=>new TO({typeName:st.ZodSymbol,...pt(e)});class IO extends St{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:ye.invalid_type,expected:De.undefined,received:n.parsedType}),nt}return zs(t.data)}}IO.create=e=>new IO({typeName:st.ZodUndefined,...pt(e)});class RO extends St{_parse(t){if(this._getType(t)!==De.null){const n=this._getOrReturnCtx(t);return Ee(n,{code:ye.invalid_type,expected:De.null,received:n.parsedType}),nt}return zs(t.data)}}RO.create=e=>new RO({typeName:st.ZodNull,...pt(e)});class $O extends St{constructor(){super(...arguments),this._any=!0}_parse(t){return zs(t.data)}}$O.create=e=>new $O({typeName:st.ZodAny,...pt(e)});class MO extends St{constructor(){super(...arguments),this._unknown=!0}_parse(t){return zs(t.data)}}MO.create=e=>new MO({typeName:st.ZodUnknown,...pt(e)});class Bo extends St{_parse(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:ye.invalid_type,expected:De.never,received:r.parsedType}),nt}}Bo.create=e=>new Bo({typeName:st.ZodNever,...pt(e)});class DO extends St{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:ye.invalid_type,expected:De.void,received:n.parsedType}),nt}return zs(t.data)}}DO.create=e=>new DO({typeName:st.ZodVoid,...pt(e)});class La extends St{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==De.array)return Ee(r,{code:ye.invalid_type,expected:De.array,received:r.parsedType}),nt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Ee(r,{code:o?ye.too_big:ye.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ee(r,{code:ye.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ee(r,{code:ye.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Fo(r,o,r.path,l)))).then(o=>_s.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new Fo(r,o,r.path,l)));return _s.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new La({...this._def,minLength:{value:t,message:Fe.toString(r)}})}max(t,r){return new La({...this._def,maxLength:{value:t,message:Fe.toString(r)}})}length(t,r){return new La({...this._def,exactLength:{value:t,message:Fe.toString(r)}})}nonempty(t){return this.min(1,t)}}La.create=(e,t)=>new La({type:e,minLength:null,maxLength:null,exactLength:null,typeName:st.ZodArray,...pt(t)});function Xc(e){if(e instanceof Nr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Co.create(Xc(n))}return new Nr({...e._def,shape:()=>t})}else return e instanceof La?new La({...e._def,type:Xc(e.element)}):e instanceof Co?Co.create(Xc(e.unwrap())):e instanceof cd?cd.create(Xc(e.unwrap())):e instanceof nc?nc.create(e.items.map(t=>Xc(t))):e}class Nr extends St{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=kt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==De.object){const u=this._getOrReturnCtx(t);return Ee(u,{code:ye.invalid_type,expected:De.object,received:u.parsedType}),nt}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Bo&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Fo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Bo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Ee(s,{code:ye.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Fo(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>_s.mergeObjectSync(n,u)):_s.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Fe.errToObj,new Nr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Fe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Nr({...this._def,unknownKeys:"strip"})}passthrough(){return new Nr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Nr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Nr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:st.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Nr({...this._def,catchall:t})}pick(t){const r={};for(const n of kt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Nr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of kt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Nr({...this._def,shape:()=>r})}deepPartial(){return Xc(this)}partial(t){const r={};for(const n of kt.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Nr({...this._def,shape:()=>r})}required(t){const r={};for(const n of kt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Co;)i=i._def.innerType;r[n]=i}return new Nr({...this._def,shape:()=>r})}keyof(){return A5(kt.objectKeys(this.shape))}}Nr.create=(e,t)=>new Nr({shape:()=>e,unknownKeys:"strip",catchall:Bo.create(),typeName:st.ZodObject,...pt(t)});Nr.strictCreate=(e,t)=>new Nr({shape:()=>e,unknownKeys:"strict",catchall:Bo.create(),typeName:st.ZodObject,...pt(t)});Nr.lazycreate=(e,t)=>new Nr({shape:e,unknownKeys:"strip",catchall:Bo.create(),typeName:st.ZodObject,...pt(t)});class Zv extends St{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ai(l.ctx.common.issues));return Ee(r,{code:ye.invalid_union,unionErrors:o}),nt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ai(c));return Ee(r,{code:ye.invalid_union,unionErrors:l}),nt}}get options(){return this._def.options}}Zv.create=(e,t)=>new Zv({options:e,typeName:st.ZodUnion,...pt(t)});function M1(e,t){const r=Zi(e),n=Zi(t);if(e===t)return{valid:!0,data:e};if(r===De.object&&n===De.object){const s=kt.objectKeys(t),i=kt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=M1(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===De.array&&n===De.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=M1(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===De.date&&n===De.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Jv extends St{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(EO(i)||EO(o))return nt;const l=M1(i.value,o.value);return l.valid?((AO(i)||AO(o))&&r.dirty(),{status:r.value,value:l.data}):(Ee(n,{code:ye.invalid_intersection_types}),nt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Jv.create=(e,t,r)=>new Jv({left:e,right:t,typeName:st.ZodIntersection,...pt(r)});class nc extends St{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.array)return Ee(n,{code:ye.invalid_type,expected:De.array,received:n.parsedType}),nt;if(n.data.length<this._def.items.length)return Ee(n,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nt;!this._def.rest&&n.data.length>this._def.items.length&&(Ee(n,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Fo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>_s.mergeArray(r,o)):_s.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new nc({...this._def,rest:t})}}nc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new nc({items:e,typeName:st.ZodTuple,rest:null,...pt(t)})};class LO extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.map)return Ee(n,{code:ye.invalid_type,expected:De.map,received:n.parsedType}),nt;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Fo(n,l,n.path,[u,"key"])),value:i._parse(new Fo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return nt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return nt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}LO.create=(e,t,r)=>new LO({valueType:t,keyType:e,typeName:st.ZodMap,...pt(r)});class rm extends St{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.set)return Ee(n,{code:ye.invalid_type,expected:De.set,received:n.parsedType}),nt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ee(n,{code:ye.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ee(n,{code:ye.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return nt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Fo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new rm({...this._def,minSize:{value:t,message:Fe.toString(r)}})}max(t,r){return new rm({...this._def,maxSize:{value:t,message:Fe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}rm.create=(e,t)=>new rm({valueType:e,minSize:null,maxSize:null,typeName:st.ZodSet,...pt(t)});class FO extends St{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}FO.create=(e,t)=>new FO({getter:e,typeName:st.ZodLazy,...pt(t)});class D1 extends St{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ee(r,{received:r.data,code:ye.invalid_literal,expected:this._def.value}),nt}return{status:"valid",value:t.data}}get value(){return this._def.value}}D1.create=(e,t)=>new D1({value:e,typeName:st.ZodLiteral,...pt(t)});function A5(e,t){return new od({values:e,typeName:st.ZodEnum,...pt(t)})}class od extends St{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{expected:kt.joinValues(n),received:r.parsedType,code:ye.invalid_type}),nt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{received:r.data,code:ye.invalid_enum_value,options:n}),nt}return zs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return od.create(t,{...this._def,...r})}exclude(t,r=this._def){return od.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}od.create=A5;class BO extends St{_parse(t){const r=kt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==De.string&&n.parsedType!==De.number){const s=kt.objectValues(r);return Ee(n,{expected:kt.joinValues(s),received:n.parsedType,code:ye.invalid_type}),nt}if(this._cache||(this._cache=new Set(kt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=kt.objectValues(r);return Ee(n,{received:n.data,code:ye.invalid_enum_value,options:s}),nt}return zs(t.data)}get enum(){return this._def.values}}BO.create=(e,t)=>new BO({values:e,typeName:st.ZodNativeEnum,...pt(t)});class ey extends St{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==De.promise&&r.common.async===!1)return Ee(r,{code:ye.invalid_type,expected:De.promise,received:r.parsedType}),nt;const n=r.parsedType===De.promise?r.data:Promise.resolve(r.data);return zs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ey.create=(e,t)=>new ey({type:e,typeName:st.ZodPromise,...pt(t)});class ld extends St{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===st.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Ee(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return nt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?nt:c.status==="dirty"||r.value==="dirty"?Hf(c.value):c});{if(r.value==="aborted")return nt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?nt:l.status==="dirty"||r.value==="dirty"?Hf(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?nt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?nt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ad(o))return nt;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ad(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):nt);kt.assertNever(s)}}ld.create=(e,t,r)=>new ld({schema:e,typeName:st.ZodEffects,effect:t,...pt(r)});ld.createWithPreprocess=(e,t,r)=>new ld({schema:t,effect:{type:"preprocess",transform:e},typeName:st.ZodEffects,...pt(r)});class Co extends St{_parse(t){return this._getType(t)===De.undefined?zs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Co.create=(e,t)=>new Co({innerType:e,typeName:st.ZodOptional,...pt(t)});class cd extends St{_parse(t){return this._getType(t)===De.null?zs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}cd.create=(e,t)=>new cd({innerType:e,typeName:st.ZodNullable,...pt(t)});class L1 extends St{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===De.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}L1.create=(e,t)=>new L1({innerType:e,typeName:st.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...pt(t)});class F1 extends St{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Qv(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ai(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ai(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}F1.create=(e,t)=>new F1({innerType:e,typeName:st.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...pt(t)});class UO extends St{_parse(t){if(this._getType(t)!==De.nan){const n=this._getOrReturnCtx(t);return Ee(n,{code:ye.invalid_type,expected:De.nan,received:n.parsedType}),nt}return{status:"valid",value:t.data}}}UO.create=e=>new UO({typeName:st.ZodNaN,...pt(e)});class iae extends St{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ok extends St{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?nt:i.status==="dirty"?(r.dirty(),Hf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?nt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Ok({in:t,out:r,typeName:st.ZodPipeline})}}class B1 extends St{_parse(t){const r=this._def.innerType._parse(t),n=s=>(ad(s)&&(s.value=Object.freeze(s.value)),s);return Qv(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}B1.create=(e,t)=>new B1({innerType:e,typeName:st.ZodReadonly,...pt(t)});var st;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(st||(st={}));const Pt=hi.create,oae=tc.create;rc.create;const Tk=Xv.create;id.create;Bo.create;La.create;const Di=Nr.create;Zv.create;Jv.create;nc.create;const VO=D1.create;od.create;ey.create;Co.create;cd.create;const O5={string:e=>hi.create({...e,coerce:!0}),number:e=>tc.create({...e,coerce:!0}),boolean:e=>Xv.create({...e,coerce:!0}),bigint:e=>rc.create({...e,coerce:!0}),date:e=>id.create({...e,coerce:!0})};function lae(e){const t=cae(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(dae);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function cae(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=hae(s),l=fae(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Fn(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uae=Symbol("radix.slottable");function dae(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uae}function fae(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function hae(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var tb="Dialog",[T5,I5]=gn(tb),[mae,wa]=T5(tb),R5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=rs({prop:n,defaultProp:s??!1,onChange:i,caller:tb});return a.jsx(mae,{scope:t,triggerRef:l,contentRef:c,contentId:Er(),titleId:Er(),descriptionId:Er(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};R5.displayName=tb;var $5="DialogTrigger",M5=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wa($5,r),i=Ze(t,s.triggerRef);return a.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$k(s.open),...n,ref:i,onClick:fe(e.onClick,s.onOpenToggle)})});M5.displayName=$5;var Ik="DialogPortal",[pae,D5]=T5(Ik,{forceMount:void 0}),L5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=wa(Ik,t);return a.jsx(pae,{scope:t,forceMount:r,children:v.Children.map(n,o=>a.jsx(Qr,{present:r||i.open,children:a.jsx(Fd,{asChild:!0,container:s,children:o})}))})};L5.displayName=Ik;var ty="DialogOverlay",F5=v.forwardRef((e,t)=>{const r=D5(ty,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=wa(ty,e.__scopeDialog);return i.modal?a.jsx(Qr,{present:n||i.open,children:a.jsx(vae,{...s,ref:t})}):null});F5.displayName=ty;var gae=lae("DialogOverlay.RemoveScroll"),vae=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wa(ty,r);return a.jsx(cp,{as:gae,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ae.div,{"data-state":$k(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),sc="DialogContent",B5=v.forwardRef((e,t)=>{const r=D5(sc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=wa(sc,e.__scopeDialog);return a.jsx(Qr,{present:n||i.open,children:i.modal?a.jsx(yae,{...s,ref:t}):a.jsx(xae,{...s,ref:t})})});B5.displayName=sc;var yae=v.forwardRef((e,t)=>{const r=wa(sc,e.__scopeDialog),n=v.useRef(null),s=Ze(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return Ux(i)},[]),a.jsx(U5,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:fe(e.onFocusOutside,i=>i.preventDefault())})}),xae=v.forwardRef((e,t)=>{const r=wa(sc,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return a.jsx(U5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),U5=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=wa(sc,r),c=v.useRef(null),u=Ze(t,c);return Bx(),a.jsxs(a.Fragment,{children:[a.jsx(lp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(yc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$k(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(wae,{titleId:l.titleId}),a.jsx(Sae,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Rk="DialogTitle",V5=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wa(Rk,r);return a.jsx(Ae.h2,{id:s.titleId,...n,ref:t})});V5.displayName=Rk;var q5="DialogDescription",z5=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wa(q5,r);return a.jsx(Ae.p,{id:s.descriptionId,...n,ref:t})});z5.displayName=q5;var W5="DialogClose",H5=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wa(W5,r);return a.jsx(Ae.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,()=>s.onOpenChange(!1))})});H5.displayName=W5;function $k(e){return e?"open":"closed"}var K5="DialogTitleWarning",[bae,G5]=Z7(K5,{contentName:sc,titleName:Rk,docsSlug:"dialog"}),wae=({titleId:e})=>{const t=G5(K5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jae="DialogDescriptionWarning",Sae=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${G5(jae).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Mk=R5,Y5=M5,Dk=L5,rb=F5,nb=B5,Lk=V5,Fk=z5,Bk=H5;const Rr=Mk,ba=Y5,_ae=Dk,Q5=v.forwardRef(({className:e,...t},r)=>a.jsx(rb,{ref:r,className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Q5.displayName=rb.displayName;const br=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(_ae,{children:[a.jsx(Q5,{}),a.jsxs(nb,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(Bk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Ju,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));br.displayName=nb.displayName;const $r=({className:e,...t})=>a.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});$r.displayName="DialogHeader";const Mr=v.forwardRef(({className:e,...t},r)=>a.jsx(Lk,{ref:r,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));Mr.displayName=Lk.displayName;const nm=v.forwardRef(({className:e,...t},r)=>a.jsx(Fk,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));nm.displayName=Fk.displayName;var Nae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kae=Nae.reduce((e,t)=>{const r=Fx(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Cae="Label",X5=v.forwardRef((e,t)=>a.jsx(kae.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));X5.displayName=Cae;var Z5=X5;const Pae=ep("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z=v.forwardRef(({className:e,...t},r)=>a.jsx(Z5,{ref:r,className:ce(Pae(),e),...t}));Z.displayName=Z5.displayName;const Wa=hse,J5=v.createContext({}),ot=({...e})=>a.jsx(J5.Provider,{value:{name:e.name},children:a.jsx(vse,{...e})}),sb=()=>{const e=v.useContext(J5),t=v.useContext(e6),{getFieldState:r,formState:n}=eb(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},e6=v.createContext({}),tt=v.forwardRef(({className:e,...t},r)=>{const n=v.useId();return a.jsx(e6.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:ce("space-y-2",e),...t})})});tt.displayName="FormItem";const lt=v.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=sb();return a.jsx(Z,{ref:r,className:ce(n&&"text-destructive",e),htmlFor:s,...t})});lt.displayName="FormLabel";const rt=v.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=sb();return a.jsx(rk,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});rt.displayName="FormControl";const Eae=v.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=sb();return a.jsx("p",{ref:r,id:n,className:ce("text-sm text-muted-foreground",e),...t})});Eae.displayName="FormDescription";const ct=v.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=sb(),o=s?String((s==null?void 0:s.message)??""):t;return o?a.jsx("p",{ref:n,id:i,className:ce("text-sm font-medium text-destructive",e),...r,children:o}):null});ct.displayName="FormMessage";const gr=v.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));gr.displayName="Textarea";const t6=v.forwardRef(({...e},t)=>a.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));t6.displayName="Breadcrumb";const r6=v.forwardRef(({className:e,...t},r)=>a.jsx("ol",{ref:r,className:ce("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));r6.displayName="BreadcrumbList";const U1=v.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:ce("inline-flex items-center gap-1.5",e),...t}));U1.displayName="BreadcrumbItem";const V1=v.forwardRef(({asChild:e,className:t,...r},n)=>{const s=e?rk:"a";return a.jsx(s,{ref:n,className:ce("transition-colors hover:text-foreground",t),...r})});V1.displayName="BreadcrumbLink";const n6=v.forwardRef(({className:e,...t},r)=>a.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:ce("font-normal text-foreground",e),...t}));n6.displayName="BreadcrumbPage";const s6=({children:e,className:t,...r})=>a.jsx("li",{role:"presentation","aria-hidden":"true",className:ce("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??a.jsx(Gn,{})});s6.displayName="BreadcrumbSeparator";const Aae={"":"Home",facilities:"Facilities",events:"Events",roadmap:"Roadmap",gallery:"Gallery",booking:"Book a Facility",leaderboard:"Leaderboard",rules:"Rules & Safety",careers:"Careers",contact:"Contact Us",vision:"Our Vision",privacy:"Privacy Policy",terms:"Terms & Conditions",profile:"My Profile"};function Ko({items:e,currentPage:t}){const[r]=ss(),s=(()=>{if(e)return e;const i=r.split("/").filter(Boolean),o=[];let l="";for(let c=0;c<i.length;c++){const u=i[c];l+=`/${u}`;const d=c===i.length-1,f=Aae[u]||u.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");o.push({label:d&&t?t:f,href:d?void 0:l})}return o})();return s.length===0?null:a.jsx(t6,{className:"mb-4","data-testid":"breadcrumb-nav",children:a.jsxs(r6,{children:[a.jsx(U1,{children:a.jsx(V1,{asChild:!0,children:a.jsxs(le,{href:"/",className:"flex items-center gap-1.5",children:[a.jsx(MN,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"sr-only sm:not-sr-only",children:"Home"})]})})}),s.map((i,o)=>a.jsxs("span",{className:"contents",children:[a.jsx(s6,{}),a.jsx(U1,{children:i.href?a.jsx(V1,{asChild:!0,children:a.jsx(le,{href:i.href,children:i.label})}):a.jsx(n6,{children:i.label})})]},o))]})})}function Ws({title:e,subtitle:t,testId:r,subtitleTestId:n}){return a.jsxs("div",{className:"relative overflow-hidden py-8 md:py-12",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-[0.15] dark:opacity-[0.25]",style:{backgroundImage:`url(${sk})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),a.jsxs("div",{className:"qd-container relative z-10 text-center text-primary-foreground",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2","data-testid":r||"text-page-title",children:e}),t&&a.jsx("p",{className:"text-sm opacity-80 max-w-2xl mx-auto","data-testid":n,children:t})]})]})}const Oae=Di({fullName:Pt().min(2,"Name must be at least 2 characters"),email:Pt().email("Please enter a valid email"),phone:Pt().optional(),guestCount:oae().min(0).max(10).default(0),notes:Pt().optional()});function Tae(){var _;const{user:e}=Hd(),{toast:t}=Et(),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState(!1),c=qa({resolver:za(Oae),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:u=[],isLoading:d}=we({queryKey:["/api/events"]}),{data:f=[]}=we({queryKey:["/api/user/event-registrations"],enabled:!!e}),h=Re({mutationFn:async j=>await Oe("POST",`/api/events/${j.eventId}/register`,j),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Se.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Successful",description:"You have been registered for this event."}),i(!1),n(null),c.reset()},onError:j=>{t({title:"Registration Failed",description:j.message||"Unable to register for this event.",variant:"destructive"})}}),p=Re({mutationFn:async j=>await Oe("DELETE",`/api/events/${j}/register`),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Se.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:j=>{t({title:"Cancellation Failed",description:j.message||"Unable to cancel registration.",variant:"destructive"})}}),x=j=>f.some(S=>S.eventId===j),m=j=>j?new Date(j).toLocaleDateString("en-PK",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):"TBD",b={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300"},y=j=>{if(n(j),!e){l(!0);return}c.setValue("fullName",e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName||""),c.setValue("email",e.email||""),i(!0)},g=j=>{r&&h.mutate({...j,eventId:r.id})},w=j=>{p.mutate(j)};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Events & Academies",subtitle:"Tournaments, leagues, and training programs",testId:"text-events-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Ko,{}),d?a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(j=>a.jsx(Ot,{className:"h-64 rounded-xl"},j))}):u.length>0?a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(j=>{var C;const S=x(j.id),N=(j.enrolledCount||0)>=(j.capacity||0),k=h.isPending||p.isPending;return a.jsxs(me,{className:"overflow-hidden hover-elevate","data-testid":`card-event-${j.id}`,children:[a.jsx("div",{className:"h-40 bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center",children:a.jsx(la,{className:"w-16 h-16 text-amber-400/50"})}),a.jsx(Xe,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(et,{className:"text-lg",children:j.title}),a.jsx(je,{className:b[j.type]||b.SOCIAL,children:j.type})]})}),a.jsxs(ge,{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:j.description}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(kn,{className:"w-4 h-4"}),a.jsxs("span",{children:[j.scheduleDay," ",j.scheduleTime||""]})]}),j.instructor&&a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(pn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Instructor: ",j.instructor]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(pn,{className:"w-4 h-4"}),a.jsxs("span",{children:[j.enrolledCount||0," / ",j.capacity," enrolled"]})]}),j.enrollmentDeadline&&a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(Yr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Register by ",m(j.enrollmentDeadline)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t gap-2",children:[a.jsxs("div",{className:"font-semibold text-sky-600",children:["PKR ",((C=j.price)==null?void 0:C.toLocaleString())||"Free"]}),S?a.jsx(U,{size:"sm",variant:"outline",onClick:()=>w(j.id),disabled:k,"data-testid":`button-cancel-event-${j.id}`,children:k?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Sn,{className:"w-4 h-4 mr-1"}),"Registered"]})}):a.jsx(U,{size:"sm",onClick:()=>y(j),disabled:N,"data-testid":`button-register-event-${j.id}`,children:N?"Full":"Register"})]})]})]},j.id)})}):a.jsx(me,{children:a.jsxs(ge,{className:"py-16 text-center",children:[a.jsx(la,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Upcoming Events"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Check back soon for tournaments, leagues, and training programs."}),a.jsx(le,{href:"/",children:a.jsx(U,{variant:"outline","data-testid":"button-back-to-home",children:"Back to Home"})})]})})]})]}),a.jsx(Or,{}),a.jsx(Rr,{open:s,onOpenChange:i,children:a.jsxs(br,{className:"sm:max-w-md",children:[a.jsxs($r,{children:[a.jsx(Mr,{"data-testid":"text-registration-title",children:"Event Registration"}),a.jsxs(nm,{children:[(r==null?void 0:r.title)&&a.jsx("span",{className:"font-medium text-foreground",children:r.title}),r!=null&&r.price?` - PKR ${r.price.toLocaleString()}`:" - Free"]})]}),a.jsx(Wa,{...c,children:a.jsxs("form",{onSubmit:c.handleSubmit(g),className:"space-y-4",children:[a.jsx(ot,{control:c.control,name:"fullName",render:({field:j})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Full Name *"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"Enter your full name",...j,"data-testid":"input-reg-fullname"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:c.control,name:"email",render:({field:j})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Email *"}),a.jsx(rt,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com",...j,"data-testid":"input-reg-email"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:c.control,name:"phone",render:({field:j})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Phone Number"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"+92 300 1234567",...j,"data-testid":"input-reg-phone"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:c.control,name:"guestCount",render:({field:j})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Number of Guests"}),a.jsx(rt,{children:a.jsx(ne,{type:"number",min:0,max:10,placeholder:"0",...j,onChange:S=>j.onChange(parseInt(S.target.value)||0),"data-testid":"input-reg-guests"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:c.control,name:"notes",render:({field:j})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Additional Notes"}),a.jsx(rt,{children:a.jsx(gr,{placeholder:"Any special requirements or notes...",className:"resize-none",...j,"data-testid":"textarea-reg-notes"})}),a.jsx(ct,{})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-registration",children:"Cancel"}),a.jsx(U,{type:"submit",disabled:h.isPending,"data-testid":"button-submit-registration",children:h.isPending?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]})})]})}),a.jsx(Rr,{open:o,onOpenChange:l,children:a.jsxs(br,{className:"sm:max-w-md",children:[a.jsxs($r,{children:[a.jsxs(Mr,{className:"flex items-center gap-2","data-testid":"text-login-prompt-title",children:[a.jsx(XE,{className:"w-5 h-5"}),"Sign In Required"]}),a.jsx(nm,{children:"Please sign in to register for this event."})]}),a.jsxs("div",{className:"py-4",children:[r&&a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg mb-4",children:[a.jsx("h4",{className:"font-semibold",children:r.title}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.scheduleDay," ",r.scheduleTime||""]}),a.jsxs("p",{className:"text-sm font-medium text-sky-600 mt-2",children:["PKR ",((_=r.price)==null?void 0:_.toLocaleString())||"Free"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create an account or sign in to complete your registration. Your membership will be set up automatically."})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(le,{href:"/login",className:"w-full",children:a.jsxs(U,{className:"w-full","data-testid":"button-login-to-register",children:[a.jsx(XE,{className:"w-4 h-4 mr-2"}),"Sign In"]})}),a.jsx(U,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-login-prompt",children:"Maybe Later"})]})]})})]})}const Iae=[{id:"all",name:"All Sports",icon:la},{id:"padel",name:"Padel",icon:Ul},{id:"squash",name:"Squash",icon:Ul},{id:"rifle",name:"Air Rifle",icon:Ul},{id:"bridge",name:"Bridge",icon:wK}];function Rae(){const[e,t]=v.useState("all"),{isAuthenticated:r,isLoading:n}=Hd(),{data:s=[],isLoading:i}=we({queryKey:["/api/leaderboard",e!=="all"?e:void 0],enabled:r}),o=c=>{switch(c){case 1:return"bg-gradient-to-r from-amber-400 to-yellow-500 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-800";case 3:return"bg-gradient-to-r from-amber-600 to-amber-700 text-white";default:return"bg-gray-100 dark:bg-slate-700 text-foreground"}},l=c=>c<=3?a.jsx(oK,{className:`w-5 h-5 ${c===1?"text-amber-400":c===2?"text-gray-400":"text-amber-600"}`}):a.jsx("span",{className:"text-sm font-bold",children:c});return n?a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Ot,{className:"h-12 w-64 mb-8"}),a.jsx("div",{className:"space-y-3",children:[1,2,3].map(c=>a.jsx(Ot,{className:"h-20 rounded-xl"},c))})]})}),a.jsx(Or,{})]}):r?a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Leaderboard",subtitle:"Top players across all sports at The Quarterdeck",testId:"text-leaderboard-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Iae.map(c=>a.jsxs(U,{variant:e===c.id?"default":"outline",size:"sm",onClick:()=>t(c.id),className:"gap-2","data-testid":`button-filter-${c.id}`,children:[a.jsx(c.icon,{className:"w-4 h-4"}),c.name]},c.id))}),i?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(c=>a.jsx(Ot,{className:"h-20 rounded-xl"},c))}):s.length>0?a.jsx("div",{className:"space-y-3",children:s.map((c,u)=>{var d,f;return a.jsx(me,{className:`overflow-visible ${u<3?"border-2":""} ${u===0?"border-amber-400":u===1?"border-gray-400":u===2?"border-amber-600":""}`,"data-testid":`leaderboard-entry-${c.id}`,children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o(u+1)}`,children:l(u+1)}),a.jsxs(Jh,{className:"w-12 h-12",children:[a.jsx(em,{src:c.profileImageUrl||""}),a.jsx(tm,{children:((d=c.playerName)==null?void 0:d.split(" ").map(h=>h[0]).join(""))||"P"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-semibold",children:c.playerName||"Anonymous Player"}),a.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{children:[c.wins,"W - ",c.losses,"L"]}),c.winRate&&a.jsxs(je,{variant:"secondary",className:"text-xs",children:[(c.winRate*100).toFixed(0),"% WR"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-sky-600",children:((f=c.rankingPoints)==null?void 0:f.toLocaleString())||0}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]})})},c.id)})}):a.jsx(me,{children:a.jsxs(ge,{className:"py-16 text-center",children:[a.jsx(la,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Rankings Yet"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Play matches to appear on the leaderboard!"}),a.jsx(le,{href:"/booking",children:a.jsx(U,{"data-testid":"button-book-now",children:"Book a Court"})})]})})]})]}),a.jsx(Or,{})]}):a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center",children:a.jsx(me,{className:"max-w-md w-full mx-4",children:a.jsxs(ge,{className:"pt-6 text-center",children:[a.jsx(la,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view the leaderboard and player rankings."}),a.jsx(le,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),a.jsx(Or,{})]})}const a6="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",i6="/assets/indoor_squash_court__3447d74a-DPwnnr4G.jpg",$ae="/assets/shooting_range_indoo_08edce49-KQ037z1q.jpg",o6="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",l6="/assets/large_event_hall_int_32ffc7ae-BCjqhoII.jpg",qO=[{id:1,title:"Complex Exterior Render",type:"render",category:"renders",image:yk},{id:2,title:"Sports Arena Render",type:"render",category:"renders",image:xk},{id:3,title:"Final Design Concept",type:"render",category:"renders",image:W3},{id:4,title:"Court Construction Progress",type:"photo",category:"construction",image:bk},{id:5,title:"Indoor Facility Build",type:"photo",category:"construction",image:H3},{id:6,title:"Structural Framework",type:"photo",category:"construction",image:K3},{id:7,title:"Padel Court Overview",type:"photo",category:"facilities",image:Gd},{id:8,title:"Padel Courts Interior",type:"photo",category:"facilities",image:a6},{id:9,title:"Padel Match in Progress",type:"photo",category:"facilities",image:O1},{id:10,title:"Squash Court View",type:"photo",category:"facilities",image:Qx},{id:11,title:"Squash Court Interior",type:"photo",category:"facilities",image:i6},{id:12,title:"Air Rifle Range",type:"photo",category:"facilities",image:$ae},{id:13,title:"Target Practice Lane",type:"photo",category:"facilities",image:o6},{id:14,title:"Multipurpose Hall",type:"photo",category:"facilities",image:Xx},{id:15,title:"Event Hall Setup",type:"photo",category:"facilities",image:l6}],Mae=[{id:"all",label:"All Photos"},{id:"renders",label:"Architectural Renders"},{id:"construction",label:"Construction Progress"},{id:"facilities",label:"Facilities"}];function Dae(){const e=F4(),t=new URLSearchParams(e).get("category"),[r,n]=v.useState(t||"all"),[s,i]=v.useState(null),o=v.useMemo(()=>r==="all"?qO:qO.filter(l=>l.category===r),[r]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Gallery & Progress",subtitle:"Explore architectural renders, construction updates, and facility photos from The Quarterdeck sports complex.",testId:"text-gallery-page-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Ko,{}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-8","data-testid":"gallery-filters",children:[a.jsx(TD,{className:"w-5 h-5 text-muted-foreground mr-2 self-center"}),Mae.map(l=>a.jsx(U,{variant:r===l.id?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>n(l.id),"data-testid":`filter-${l.id}`,children:l.label},l.id))]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(l=>a.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer",onClick:()=>i(l),"data-testid":`gallery-image-${l.id}`,children:[a.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[a.jsx("span",{className:"text-sm text-white font-medium",children:l.title}),a.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${l.type==="render"?"bg-blue-500/80":"bg-amber-500/80"} text-white uppercase tracking-wide`,children:l.type})]})]},l.id))}),o.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No images found in this category."})})]})]}),s&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>i(null),"data-testid":"lightbox-overlay",children:a.jsxs("div",{className:"relative max-w-5xl max-h-[90vh]",children:[a.jsx("img",{src:s.image,alt:s.title,className:"max-w-full max-h-[85vh] object-contain rounded-lg"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent rounded-b-lg",children:[a.jsx("span",{className:"text-lg text-white font-medium",children:s.title}),a.jsx("span",{className:`ml-3 text-xs px-2 py-1 rounded-full ${s.type==="render"?"bg-blue-500/80":"bg-amber-500/80"} text-white uppercase tracking-wide`,children:s.type})]}),a.jsx(U,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-white hover:bg-white/20",onClick:l=>{l.stopPropagation(),i(null)},"data-testid":"button-close-lightbox",children:a.jsx("span",{className:"text-2xl",children:""})})]})}),a.jsx(Or,{})]})}function Lae(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Our Vision",subtitle:"Building Islamabad's premier sports and recreation destination",testId:"text-vision-title",subtitleTestId:"text-vision-subtitle"}),a.jsx("div",{className:"qd-container py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("section",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-mission-title",children:"Our Mission"}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"The Quarterdeck aims to create a world-class sports and recreation complex that brings together Islamabad's community through premium facilities, professional coaching, and a commitment to excellence in every aspect of the member experience."}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"We believe that access to quality sports facilities should be available to all who seek it, and we're building a space where professionals, families, and enthusiasts can pursue their passion for sports in a safe, welcoming environment."})]}),a.jsxs("section",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-8","data-testid":"text-values-title",children:"Our Values"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(me,{"data-testid":"card-value-excellence",children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx(la,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Excellence"}),a.jsx("p",{className:"text-muted-foreground",children:"We strive for excellence in our facilities, services, and member experiences."})]})]})})}),a.jsx(me,{"data-testid":"card-value-community",children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx(pn,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Community"}),a.jsx("p",{className:"text-muted-foreground",children:"Building connections through sports and shared experiences."})]})]})})}),a.jsx(me,{"data-testid":"card-value-integrity",children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Zu,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Safety & Integrity"}),a.jsx("p",{className:"text-muted-foreground",children:"Maintaining the highest standards of safety and ethical conduct."})]})]})})}),a.jsx(me,{"data-testid":"card-value-wellness",children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx($D,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Wellness"}),a.jsx("p",{className:"text-muted-foreground",children:"Promoting physical and mental well-being through active lifestyles."})]})]})})})]})]}),a.jsxs("section",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-future-title",children:"Looking Ahead"}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"With our Q4 2026 launch approaching, The Quarterdeck is set to transform the sports and recreation landscape in Islamabad. Our early members will be the first to experience our world-class facilities and exclusive benefits."}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(le,{href:"/roadmap",children:a.jsxs(U,{"data-testid":"button-view-roadmap",children:[a.jsx(Nn,{className:"w-4 h-4 mr-2"})," View Our Roadmap"]})}),a.jsx(le,{href:"/facilities",children:a.jsx(U,{variant:"outline","data-testid":"button-explore-facilities",children:"Explore Facilities"})})]})]})]})})]}),a.jsx(Or,{})]})}const Fae="/assets/professional_squash__c4dca43a-DYvE2Lp8.jpg",Bae="/assets/bridge_card_game_clu_6f83cf65-D9nP8IVw.jpg",Uae="/assets/multipurpose_event_h_e7c6ac62-D3KmV09D.jpg",zO={"padel-tennis":Lo,squash:gp,"air-rifle-range":tp,"bridge-room":np,"multipurpose-hall":Nn},WO={"padel-tennis":a6,squash:Fae,"air-rifle-range":vk,"bridge-room":Bae,"multipurpose-hall":Uae},Vae=[{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts with LED lighting and premium surfaces.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade turf, and state-of-the-art LED lighting for evening play.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0},{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards with glass back walls.",longDescription:"Our squash courts meet international competition standards with specially designed floors, glass back walls for viewing, and professional lighting systems. Perfect for casual games or serious training.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental"],requiresCertification:!1,isActive:!0},{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with 6 lanes, electronic scoring, and professional supervision.",longDescription:"Our state-of-the-art air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our safety certification course before using the range.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental"],requiresCertification:!0,isActive:!0},{id:4,name:"Bridge Room",slug:"bridge-room",description:"Elegant Bridge Room with 5 tables in a refined atmosphere for contract bridge enthusiasts.",longDescription:"A sophisticated space designed for serious bridge players. Features comfortable seating, proper lighting, and a quiet atmosphere conducive to concentration. Exclusive to Founding and Forces category members.",courtCount:5,basePrice:"0",peakPrice:"0",operatingHours:"10:00 AM - 10:00 PM",minPlayers:4,maxPlayers:20,amenities:["5 Card Tables","Tea Service","Air Conditioning","Quiet Atmosphere"],requiresCertification:!1,isActive:!0},{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for corporate events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. Features include a professional sound system, adjustable lighting, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout"],requiresCertification:!1,isActive:!0}];function qae(){const{data:e}=we({queryKey:["/api/facilities"]}),r=(e&&e.length>0?e.map(n=>({...n,courtCount:n.resourceCount||n.courtCount||1,operatingHours:n.operatingHours||"6:00 AM - 11:00 PM",maxPlayers:n.maxPlayers||n.minPlayers||4,basePrice:String(n.basePrice||0),isActive:n.status!=="CLOSED"})):Vae).filter(n=>n.isActive);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Our Facilities",subtitle:"World-class sports and recreation facilities in Islamabad",testId:"text-facilities-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Ko,{}),a.jsxs("div",{className:"max-w-5xl mx-auto mt-4",children:[a.jsx("div",{className:"grid gap-6",children:r.map(n=>a.jsx(le,{href:`/facilities/${n.slug}`,children:a.jsx(me,{className:"overflow-hidden hover-elevate cursor-pointer","data-testid":`card-facility-${n.slug}`,children:a.jsx(ge,{className:"p-0",children:a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsx("div",{className:"md:w-1/3 h-48 md:h-auto relative overflow-hidden",children:WO[n.slug]?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:WO[n.slug],alt:n.name,className:"absolute inset-0 w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"}),a.jsx("div",{className:"absolute bottom-4 left-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:(()=>{const s=zO[n.slug]||Lo;return a.jsx(s,{className:"w-5 h-5 text-white"})})()})]}):a.jsx("div",{className:"w-full h-full bg-primary/10 flex items-center justify-center",children:(()=>{const s=zO[n.slug]||Lo;return a.jsx(s,{className:"w-12 h-12 text-primary/50"})})()})}),a.jsxs("div",{className:"flex-1 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-xl mb-1",children:n.name}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(LN,{className:"w-4 h-4"})," ",n.courtCount," ",n.courtCount===1?"Unit":"Courts/Lanes"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pn,{className:"w-4 h-4"})," ",n.minPlayers,"-",n.maxPlayers," players"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Yr,{className:"w-4 h-4"})," ",n.operatingHours]})]})]}),n.requiresCertification&&a.jsx(je,{variant:"destructive",className:"flex-shrink-0",children:"Certification Required"})]}),a.jsx("p",{className:"text-muted-foreground mb-4",children:n.description}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"From "}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(n.basePrice).toLocaleString()]}),a.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),a.jsxs(U,{variant:"ghost",size:"sm",className:"text-primary",children:["View Details ",a.jsx(Gn,{className:"w-4 h-4 ml-1"})]})]})]})]})})})},n.id))}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-primary mb-4",children:"Ready to Book?"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Members can book facilities through our online booking system. Log in to access all our premium facilities and exclusive member benefits."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx(le,{href:"/booking",children:a.jsx(U,{"data-testid":"button-book-now",children:"Book Now"})}),a.jsx(le,{href:"/contact",children:a.jsx(U,{variant:"outline","data-testid":"button-contact-us",children:"Contact Us"})})]})]})]})]})]}),a.jsx(Or,{})]})}const zae="/assets/elegant_card_game_ro_42b0454d-y4j-Rn8N.jpg",Wae={"padel-tennis":Lo,squash:gp,"air-rifle-range":tp,"bridge-room":np,"multipurpose-hall":Nn},Hae={"padel-tennis":Gd,squash:i6,"air-rifle-range":o6,"bridge-room":zae,"multipurpose-hall":l6},Kae={"padel-tennis":{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade artificial turf, and state-of-the-art LED lighting for evening play. Whether you're a beginner or seasoned player, our facilities provide the perfect environment for this dynamic sport.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available","Video Analysis","Pro Shop"],requiresCertification:!1,isActive:!0,features:["4 International-standard courts","Tempered glass walls","Professional-grade artificial turf","LED lighting system for night play","Covered and climate-controlled"],addOns:[{id:"racket",name:"Rent Racket",price:500},{id:"balls",name:"Sleeve of Balls",price:1500},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},squash:{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards.",longDescription:"Our squash courts meet international competition standards with specially designed maple floors, glass back walls for viewing, and professional lighting systems. The courts are perfect for casual games, serious training, or competitive matches.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0,features:["2 Championship-grade courts","World Squash Federation compliant","Glass back walls for spectating","Professional maple flooring","Climate-controlled environment"],addOns:[{id:"sq_racket",name:"Squash Racket Rental",price:500},{id:"sq_balls",name:"Squash Balls (Tube)",price:1200},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},"air-rifle-range":{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with professional supervision.",longDescription:"Our state-of-the-art 10-meter air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our mandatory safety certification course before using the range. Professional supervision is provided at all times.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental","Certification Course"],requiresCertification:!0,isActive:!0,features:["6 Shooting lanes","10-meter Olympic distance","Electronic scoring system","Professional-grade air rifles","Full safety equipment provided"],addOns:[{id:"ear_protection",name:"Ear Protection",price:300},{id:"safety_glasses",name:"Safety Glasses",price:400},{id:"water",name:"Mineral Water",price:100}]},"bridge-room":{id:4,name:"Bridge Room",slug:"bridge-room",description:"Elegant Bridge Room with refined atmosphere for contract bridge enthusiasts.",longDescription:"A sophisticated space designed specifically for serious bridge players. Features comfortable seating, proper lighting, quiet atmosphere, and complimentary tea service. This facility is exclusive to Founding Members and Forces category members.",courtCount:5,basePrice:"0",peakPrice:"0",operatingHours:"10:00 AM - 10:00 PM",minPlayers:4,maxPlayers:20,amenities:["5 Card Tables","Tea Service","Air Conditioning","Quiet Atmosphere","Card Sets Provided"],requiresCertification:!1,isActive:!0,restricted:!0,features:["5 Premium card tables","Comfortable ergonomic seating","Quiet, focused atmosphere","Complimentary tea/coffee service","Professional bridge equipment"],addOns:[{id:"tea_coffee",name:"Tea / Coffee Service",price:300},{id:"snacks",name:"Snacks Platter",price:800},{id:"water",name:"Mineral Water",price:100}]},"multipurpose-hall":{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. The venue features a professional sound system, adjustable lighting, projector facilities, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout","Stage Available"],requiresCertification:!1,isActive:!0,features:["500-person capacity","Professional sound system","HD Projector and screen","Flexible seating arrangements","Full catering kitchen"],addOns:[{id:"mats",name:"Floor Mats",price:500},{id:"speaker",name:"Speaker & Mic Setup",price:1500},{id:"water",name:"Mineral Water",price:100}]}};function Gae(){var c,u;const{slug:e}=L4(),{data:t}=we({queryKey:["/api/facilities",e],enabled:!!e}),{data:r=[]}=we({queryKey:["/api/pricing-tiers"]}),n=v.useMemo(()=>{const d={};return r.forEach(f=>{const p=(f.benefits||[]).find(x=>x.toLowerCase().includes("discount")&&x.toLowerCase().includes("off-peak"));if(p){const x=p.match(/(\d+)%/);x&&(d[f.tier]=x[1])}}),d},[r]),s=Kae[e||""],i=t?{...s,...t,features:t.features||(s==null?void 0:s.features),amenities:t.amenities||(s==null?void 0:s.amenities),longDescription:t.longDescription||(s==null?void 0:s.longDescription),operatingHours:t.operatingHours||(s==null?void 0:s.operatingHours),addOns:t.addOns||(s==null?void 0:s.addOns),courtCount:t.resourceCount||t.courtCount||(s==null?void 0:s.courtCount)}:s;if(!i)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(me,{className:"max-w-md",children:a.jsxs(ge,{className:"p-8 text-center",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Facility Not Found"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"The facility you're looking for doesn't exist or has been removed."}),a.jsx(le,{href:"/facilities",children:a.jsx(U,{children:"View All Facilities"})})]})})});const o=Wae[e||""]||Lo,l=Hae[e||""]||Gd;return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsxs("div",{className:"relative h-[50vh] min-h-[400px] bg-primary overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:a.jsx(o,{className:"w-8 h-8"})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-facility-name",children:i.name}),i.requiresCertification&&a.jsx(je,{variant:"destructive",className:"mb-4",children:"Safety Certification Required"}),i.restricted&&a.jsx(je,{className:"bg-amber-500 mb-4",children:"Founding & Forces Members Only"}),a.jsx("p",{className:"text-xl max-w-3xl opacity-90",children:i.description})]})]}),a.jsxs("div",{className:"container mx-auto px-6 py-12",children:[a.jsx(le,{href:"/facilities",children:a.jsxs(U,{variant:"ghost",className:"mb-8","data-testid":"button-back-facilities",children:[a.jsx(hs,{className:"w-4 h-4 mr-2"})," Back to Facilities"]})}),a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"About This Facility"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.longDescription})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Features"}),a.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:(c=i.features)==null?void 0:c.map((d,f)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sn,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),a.jsx("span",{children:d})]},f))})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Amenities"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(u=i.amenities)==null?void 0:u.map((d,f)=>a.jsx(je,{variant:"secondary",children:d},f))})]}),i.addOns&&i.addOns.length>0&&a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Available Add-Ons"}),a.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:i.addOns.map(d=>a.jsx(me,{children:a.jsxs(ge,{className:"p-4 flex items-center justify-between",children:[a.jsx("span",{children:d.name}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",d.price.toLocaleString()]})]})},d.id))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsx(Xe,{children:a.jsx(et,{children:"Quick Info"})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Yr,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Operating Hours"}),a.jsx("p",{className:"font-medium",children:i.operatingHours})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(pn,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Players"}),a.jsxs("p",{className:"font-medium",children:[i.minPlayers," - ",i.maxPlayers," players"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ki,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Units"}),a.jsxs("p",{className:"font-medium",children:[i.courtCount," ",i.courtCount===1?"Unit":"Courts/Lanes"]})]})]})]})]}),a.jsxs(me,{children:[a.jsx(Xe,{children:a.jsx(et,{children:"Pricing"})}),a.jsx(ge,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Off-Peak (10AM-5PM)"}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.basePrice||"0").toLocaleString(),"/hr"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Peak Hours"}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.peakPrice||"0").toLocaleString(),"/hr"]})]}),Object.keys(n).length>0?a.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Member discounts during off-peak hours (10AM-5PM):",a.jsx("br",{}),n.FOUNDING&&`Founding: ${n.FOUNDING}%`,n.FOUNDING&&n.GOLD&&" | ",n.GOLD&&`Gold: ${n.GOLD}%`,n.GOLD&&n.SILVER&&" | ",n.SILVER&&`Silver: ${n.SILVER}%`]}):a.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:"Members enjoy off-peak discounts (10AM-5PM)"})]})})]}),i.requiresCertification&&a.jsx(me,{className:"border-amber-500/50 bg-amber-500/5",children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(FN,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1",children:"Certification Required"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Safety certification is mandatory before using this facility. Please complete the certification course first."})]})]})})}),a.jsx(le,{href:"/booking",children:a.jsxs(U,{className:"w-full",size:"lg","data-testid":"button-book-facility",children:[a.jsx(kn,{className:"w-4 h-4 mr-2"})," Book This Facility"]})})]})]})})]})]}),a.jsx(Or,{})]})}const Yae=e=>e.isComplete?a.jsx(je,{className:"bg-green-500",children:"Completed"}):e.isActive?a.jsxs(je,{className:"bg-amber-500",children:["In Progress - ",e.progress,"%"]}):a.jsx(je,{variant:"secondary",children:"Upcoming"}),HO=e=>e.isComplete?a.jsx(Cv,{className:"w-8 h-8 text-green-500"}):e.isActive?a.jsx(Yr,{className:"w-8 h-8 text-amber-500"}):a.jsx(kn,{className:"w-8 h-8 text-muted-foreground"});function Qae(){const{data:e=[],isLoading:t}=we({queryKey:["/api/construction-phases"]}),r=v.useMemo(()=>[...e].sort((s,i)=>s.sortOrder-i.sortOrder),[e]),n=v.useMemo(()=>r.length===0?0:r.reduce((s,i)=>s+i.progress,0)/r.length,[r]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Development Roadmap",subtitle:"Follow our journey from groundbreaking to grand opening",testId:"text-roadmap-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Ko,{}),a.jsx("div",{className:"max-w-5xl mx-auto mb-12",children:a.jsx("div",{className:"p-6 rounded-xl bg-card border shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),a.jsxs("div",{className:"text-2xl font-bold text-primary dark:text-white mt-1",children:[Math.round(n),"% Complete"]})]}),a.jsx("div",{className:"flex-1 max-w-md",children:a.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${n}%`}})})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-green-600",children:r.filter(s=>s.isComplete).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-amber-600",children:r.filter(s=>s.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:r.filter(s=>!s.isComplete&&!s.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})}),a.jsxs("div",{className:"max-w-5xl mx-auto",children:[t?a.jsx("div",{className:"space-y-8",children:[1,2,3,4].map(s=>a.jsx("div",{className:"relative",children:a.jsx("div",{className:"md:ml-16",children:a.jsxs(me,{children:[a.jsxs(Xe,{children:[a.jsx(Ot,{className:"h-6 w-48"}),a.jsx(Ot,{className:"h-4 w-32 mt-2"})]}),a.jsxs(ge,{children:[a.jsx(Ot,{className:"h-4 w-full mb-4"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-2",children:[1,2,3].map(i=>a.jsx(Ot,{className:"h-4 w-full"},i))}),a.jsx("div",{className:"space-y-2",children:[1,2,3].map(i=>a.jsx(Ot,{className:"h-4 w-full"},i))})]})]})]})})},s))}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Nn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Roadmap Coming Soon"}),a.jsx("p",{className:"text-muted-foreground",children:"Our development timeline will be available shortly."})]}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border hidden md:block"}),a.jsx("div",{className:"space-y-8",children:r.map((s,i)=>a.jsx("div",{id:s.id,className:"relative","data-testid":`card-phase-${s.id}`,children:a.jsxs("div",{className:"md:ml-16",children:[a.jsx("div",{className:"absolute left-4 top-6 hidden md:block",children:HO(s)}),a.jsxs(me,{className:s.isActive?"border-amber-500/50 border-2":"",children:[a.jsxs(Xe,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"md:hidden",children:HO(s)}),a.jsxs("div",{children:[a.jsxs(et,{className:"text-xl",children:[s.label,": ",s.title]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.timeframe||"Timeline TBD"})]})]}),Yae(s)]}),s.isActive&&a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-500",style:{width:`${s.progress}%`}})})})]}),a.jsx(ge,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.milestones&&s.milestones.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Cv,{className:"w-4 h-4"})," Milestones"]}),a.jsx("ul",{className:"space-y-2",children:s.milestones.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.isComplete?a.jsx(Cv,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):a.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-muted-foreground/30 flex-shrink-0"}),a.jsx("span",{className:s.isComplete?"":"text-muted-foreground",children:o})]},l))})]}),s.highlights&&s.highlights.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.icon==="rocket"?a.jsx(pK,{className:"w-4 h-4"}):a.jsx(Nn,{className:"w-4 h-4"}),"Key Highlights"]}),a.jsx("ul",{className:"space-y-2",children:s.highlights.map((o,l)=>a.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[a.jsx("span",{className:"text-primary dark:text-sky-400",children:""}),o]},l))})]})]})})]})]})},s.id))})]}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Stay Updated"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Follow our progress and be the first to know about new developments, preview events, and exclusive opportunities."}),a.jsx(le,{href:"/contact",children:a.jsx(U,{"data-testid":"button-register-interest",children:"Register Your Interest"})})]})]})]})]}),a.jsx(Or,{})]})}var ab="Collapsible",[Xae,c6]=gn(ab),[Zae,Uk]=Xae(ab),u6=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=rs({prop:n,defaultProp:s??!1,onChange:o,caller:ab});return a.jsx(Zae,{scope:r,disabled:i,contentId:Er(),open:c,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Ae.div,{"data-state":qk(c),"data-disabled":i?"":void 0,...l,ref:t})})});u6.displayName=ab;var d6="CollapsibleTrigger",f6=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Uk(d6,r);return a.jsx(Ae.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":qk(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:fe(e.onClick,s.onOpenToggle)})});f6.displayName=d6;var Vk="CollapsibleContent",h6=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Uk(Vk,e.__scopeCollapsible);return a.jsx(Qr,{present:r||s.open,children:({present:i})=>a.jsx(Jae,{...n,ref:t,present:i})})});h6.displayName=Vk;var Jae=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=Uk(Vk,r),[l,c]=v.useState(n),u=v.useRef(null),d=Ze(t,u),f=v.useRef(0),h=f.current,p=v.useRef(0),x=p.current,m=o.open||l,b=v.useRef(m),y=v.useRef(void 0);return v.useEffect(()=>{const g=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(g)},[]),pr(()=>{const g=u.current;if(g){y.current=y.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const w=g.getBoundingClientRect();f.current=w.height,p.current=w.width,b.current||(g.style.transitionDuration=y.current.transitionDuration,g.style.animationName=y.current.animationName),c(n)}},[o.open,n]),a.jsx(Ae.div,{"data-state":qk(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:m&&s})});function qk(e){return e?"open":"closed"}var eie=u6,tie=f6,rie=h6,ja="Accordion",nie=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[zk,sie,aie]=Zm(ja),[ib]=gn(ja,[aie,c6]),Wk=c6(),m6=M.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return a.jsx(zk.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(cie,{...i,ref:t}):a.jsx(lie,{...s,ref:t})})});m6.displayName=ja;var[p6,iie]=ib(ja),[g6,oie]=ib(ja,{collapsible:!1}),lie=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=rs({prop:r,defaultProp:n??"",onChange:s,caller:ja});return a.jsx(p6,{scope:e.__scopeAccordion,value:M.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:M.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(g6,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(v6,{...o,ref:t})})})}),cie=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,l]=rs({prop:r,defaultProp:n??[],onChange:s,caller:ja}),c=M.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=M.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(p6,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(g6,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(v6,{...i,ref:t})})})}),[uie,ob]=ib(ja),v6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,l=M.useRef(null),c=Ze(l,t),u=sie(r),f=Kd(s)==="ltr",h=fe(e.onKeyDown,p=>{var k;if(!nie.includes(p.key))return;const x=p.target,m=u().filter(C=>{var E;return!((E=C.ref.current)!=null&&E.disabled)}),b=m.findIndex(C=>C.ref.current===x),y=m.length;if(b===-1)return;p.preventDefault();let g=b;const w=0,_=y-1,j=()=>{g=b+1,g>_&&(g=w)},S=()=>{g=b-1,g<w&&(g=_)};switch(p.key){case"Home":g=w;break;case"End":g=_;break;case"ArrowRight":i==="horizontal"&&(f?j():S());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(f?S():j());break;case"ArrowUp":i==="vertical"&&S();break}const N=g%y;(k=m[N].ref.current)==null||k.focus()});return a.jsx(uie,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(zk.Slot,{scope:r,children:a.jsx(Ae.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),ry="AccordionItem",[die,Hk]=ib(ry),y6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=ob(ry,r),o=iie(ry,r),l=Wk(r),c=Er(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return a.jsx(die,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(eie,{"data-orientation":i.orientation,"data-state":_6(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});y6.displayName=ry;var x6="AccordionHeader",b6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=ob(ja,r),i=Hk(x6,r);return a.jsx(Ae.h3,{"data-orientation":s.orientation,"data-state":_6(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});b6.displayName=x6;var q1="AccordionTrigger",w6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=ob(ja,r),i=Hk(q1,r),o=oie(q1,r),l=Wk(r);return a.jsx(zk.ItemSlot,{scope:r,children:a.jsx(tie,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:t})})});w6.displayName=q1;var j6="AccordionContent",S6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=ob(ja,r),i=Hk(j6,r),o=Wk(r);return a.jsx(rie,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});S6.displayName=j6;function _6(e){return e?"open":"closed"}var fie=m6,hie=y6,mie=b6,N6=w6,k6=S6;const pie=fie,C6=v.forwardRef(({className:e,...t},r)=>a.jsx(hie,{ref:r,className:ce("border-b",e),...t}));C6.displayName="AccordionItem";const P6=v.forwardRef(({className:e,children:t,...r},n)=>a.jsx(mie,{className:"flex",children:a.jsxs(N6,{ref:n,className:ce("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(xc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));P6.displayName=N6.displayName;const E6=v.forwardRef(({className:e,children:t,...r},n)=>a.jsx(k6,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:ce("pb-4 pt-0",e),children:t})}));E6.displayName=k6.displayName;const gie={general:{title:"General Rules",icon:Zu},booking:{title:"Booking & Scheduling",icon:Yr},conduct:{title:"Conduct & Behavior",icon:pn},safety:{title:"Safety Requirements",icon:FN},dresscode:{title:"Dress Code",icon:vK},equipment:{title:"Equipment & Facilities",icon:ZH},guests:{title:"Guest Policy",icon:$D},emergency:{title:"Emergency Procedures",icon:FD}},vie=["general","booking","conduct","safety","dresscode","equipment","guests","emergency"];function yie(){const{data:e=[],isLoading:t}=we({queryKey:["/api/rules"]}),r=e.reduce((s,i)=>{const o=i.category||"general";return s[o]||(s[o]=[]),s[o].push(i),s},{}),n=vie.filter(s=>{var i;return((i=r[s])==null?void 0:i.length)>0});return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Rules & Safety",subtitle:"For the safety and enjoyment of all members, please familiarize yourself with our facility rules",testId:"text-rules-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Ko,{}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(me,{className:"mb-8 border-amber-500/50 bg-amber-500/5",children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(FN,{className:"w-6 h-6 text-amber-500 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Important Safety Notice"}),a.jsx("p",{className:"text-muted-foreground",children:"Certain facilities require mandatory safety certifications before use. The Air Rifle Range requires completion of our safety course. Please contact reception to schedule your certification session."})]})]})})}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ut,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Zu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Rules are being updated. Please check back soon."})]}):a.jsx(pie,{type:"multiple",className:"space-y-4",children:n.map(s=>{const i=gie[s]||{title:s,icon:Zu},o=i.icon,l=r[s]||[];return a.jsxs(C6,{value:s,className:"border rounded-md px-4","data-testid":`accordion-${s}`,children:[a.jsx(P6,{className:"hover:no-underline",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center",children:a.jsx(o,{className:"w-5 h-5 text-primary dark:text-sky-400"})}),a.jsx("span",{className:"font-semibold",children:i.title})]})}),a.jsx(E6,{children:a.jsx("ul",{className:"space-y-3 pl-13 py-4",children:l.map((c,u)=>a.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[a.jsxs("span",{className:"text-primary dark:text-sky-400 font-bold",children:[u+1,"."]}),a.jsxs("div",{children:[c.title&&a.jsxs("span",{className:"font-medium text-foreground",children:[c.title,": "]}),c.content]})]},c.id))})})]},s)})}),a.jsxs(me,{className:"mt-8",children:[a.jsx(Xe,{children:a.jsx(et,{children:"Questions About Our Rules?"})}),a.jsxs(ge,{children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"If you have any questions about our rules and policies, or need clarification on any point, please don't hesitate to contact us."}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(le,{href:"/contact",children:a.jsx(U,{"data-testid":"button-contact-us",children:"Contact Us"})}),a.jsx(le,{href:"/terms",children:a.jsx(U,{variant:"outline","data-testid":"button-view-terms",children:"View Terms & Conditions"})})]})]})]})]})]})]}),a.jsx(Or,{})]})}const KO=Di({name:Pt().min(2,"Name must be at least 2 characters"),email:Pt().email("Please enter a valid email"),phone:Pt().min(10,"Please enter a valid phone number"),cvUrl:Pt().url("Please enter a valid URL to your CV/resume").optional().or(VO("")),linkedinUrl:Pt().url("Please enter a valid LinkedIn URL").optional().or(VO("")),coverLetter:Pt().min(50,"Cover letter should be at least 50 characters")}),xie=[{id:"1",title:"Sports Facility Manager",department:"Operations",location:"Islamabad",type:"Full-time",description:"Lead the day-to-day operations of our sports facilities, ensuring excellent member experience and efficient facility management.",requirements:"5+ years experience in sports facility management. Strong leadership and communication skills. Knowledge of sports equipment maintenance.",salary:"PKR 150,000 - 200,000 / month",isActive:!0},{id:"2",title:"Padel Tennis Coach",department:"Sports",location:"Islamabad",type:"Full-time",description:"Provide professional coaching for our Padel Tennis program, conducting group classes and private lessons for members of all skill levels.",requirements:"Certified Padel Tennis instructor. 3+ years coaching experience. Fluent in English and Urdu.",salary:"PKR 80,000 - 120,000 / month",isActive:!0},{id:"3",title:"Member Relations Officer",department:"Customer Service",location:"Islamabad",type:"Full-time",description:"Serve as the primary point of contact for members, handling inquiries, feedback, and ensuring exceptional service standards.",requirements:"2+ years customer service experience. Excellent communication skills. Proficiency in CRM systems.",salary:"PKR 50,000 - 70,000 / month",isActive:!0},{id:"4",title:"Range Safety Officer",department:"Safety",location:"Islamabad",type:"Full-time",description:"Ensure safe operations of the Air Rifle Range, conduct safety certifications, and supervise shooting sessions.",requirements:"Military or law enforcement background preferred. Safety certification required. First aid trained.",salary:"PKR 60,000 - 90,000 / month",isActive:!0},{id:"5",title:"Events Coordinator",department:"Events",location:"Islamabad",type:"Part-time",description:"Plan and execute tournaments, social events, and corporate functions at The Quarterdeck.",requirements:"Event management experience. Strong organizational skills. Weekend availability required.",salary:"PKR 40,000 - 60,000 / month",isActive:!0}];function bie(){const{toast:e}=Et(),{user:t}=Hd(),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState(!1),c=(t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN",{data:u}=we({queryKey:["/api/careers"]}),d=qa({resolver:za(KO),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),f=qa({resolver:za(KO),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),h=Re({mutationFn:async g=>await Oe("POST",`/api/careers/${g.careerId}/apply`,{fullName:g.name,email:g.email,phone:g.phone,cvUrl:g.cvUrl||null,linkedinUrl:g.linkedinUrl||null,coverLetter:g.coverLetter}),onSuccess:()=>{e({title:"Application Submitted",description:"Thank you for your application. We will review it and get back to you soon."}),i(!1),d.reset()},onError:g=>{e({title:"Submission Failed",description:g.message||"Unable to submit application. Please try again.",variant:"destructive"})}}),p=Re({mutationFn:async g=>await Oe("POST","/api/careers/general-application",{fullName:g.name,email:g.email,phone:g.phone,cvUrl:g.cvUrl||null,linkedinUrl:g.linkedinUrl||null,coverLetter:g.coverLetter}),onSuccess:()=>{e({title:"CV Submitted",description:"Thank you for your interest! We will keep your CV on file for future opportunities."}),l(!1),f.reset()},onError:g=>{e({title:"Submission Failed",description:g.message||"Unable to submit CV. Please try again.",variant:"destructive"})}}),x=g=>{r&&h.mutate({...g,careerId:r.id})},m=g=>{n(g),i(!0)},y=(u&&u.length>0?u:xie).filter(g=>g.isActive);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Join Our Team",subtitle:"Be part of Islamabad's premier sports and recreation destination",testId:"text-careers-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Ko,{}),a.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Why Work at The Quarterdeck?"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsx(me,{children:a.jsxs(ge,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(Dh,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Career Growth"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Opportunities for advancement and professional development"})]})}),a.jsx(me,{children:a.jsxs(ge,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(ki,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Prime Location"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Work in a beautiful, state-of-the-art facility in Islamabad"})]})}),a.jsx(me,{children:a.jsxs(ge,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(Yr,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Flexible Hours"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Various shift options to accommodate work-life balance"})]})})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-6",children:"Open Positions"}),y.length===0?a.jsx(me,{children:a.jsx(ge,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No open positions at the moment. Check back soon or send us your CV for future opportunities."})})}):a.jsx("div",{className:"space-y-4",children:y.map(g=>a.jsx(me,{className:"hover-elevate","data-testid":`card-job-${g.id}`,children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[a.jsx("h3",{className:"font-semibold text-lg",children:g.title}),a.jsx(je,{variant:"secondary",className:"text-xs",children:g.type})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-3",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Dh,{className:"w-4 h-4"})," ",g.department]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ki,{className:"w-4 h-4"})," ",g.location]}),c&&g.salary&&a.jsx("span",{className:"text-primary dark:text-sky-400 font-medium",children:g.salary})]}),a.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:g.description}),g.requirements&&a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Requirements: "}),a.jsx("span",{className:"text-muted-foreground",children:g.requirements})]})]}),a.jsxs(U,{className:" flex-shrink-0",onClick:()=>m(g),"data-testid":`button-apply-${g.id}`,children:["Apply Now ",a.jsx(Gn,{className:"w-4 h-4 ml-1"})]})]})})},g.id))})]}),a.jsxs(me,{className:"mt-12",children:[a.jsx(Xe,{children:a.jsx(et,{children:"Don't See the Right Fit?"})}),a.jsxs(ge,{children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"We're always looking for talented individuals to join our team. Send us your CV and we'll keep you in mind for future opportunities."}),a.jsxs(U,{className:"",onClick:()=>l(!0),"data-testid":"button-submit-cv",children:[a.jsx(Jl,{className:"w-4 h-4 mr-2"})," Send Your CV"]})]})]})]})]})]}),a.jsx(Or,{}),a.jsx(Rr,{open:s,onOpenChange:i,children:a.jsxs(br,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs($r,{children:[a.jsxs(Mr,{children:["Apply for ",r==null?void 0:r.title]}),a.jsx(nm,{children:"Fill out the form below to submit your application"})]}),a.jsx(Wa,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(x),className:"space-y-4",children:[a.jsx(ot,{control:d.control,name:"name",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Full Name"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"John Doe",...g,"data-testid":"input-applicant-name"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:d.control,name:"email",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Email"}),a.jsx(rt,{children:a.jsx(ne,{type:"email",placeholder:"john@example.com",...g,"data-testid":"input-applicant-email"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:d.control,name:"phone",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Phone Number"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"+92 300 1234567",...g,"data-testid":"input-applicant-phone"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:d.control,name:"cvUrl",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"CV/Resume URL (Optional)"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"https://drive.google.com/...",...g,"data-testid":"input-applicant-cv"})}),a.jsx(ct,{}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a link to your CV on Google Drive, Dropbox, or similar service"})]})}),a.jsx(ot,{control:d.control,name:"linkedinUrl",render:({field:g})=>a.jsxs(tt,{children:[a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(l1,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"https://linkedin.com/in/...",...g,"data-testid":"input-applicant-linkedin"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:d.control,name:"coverLetter",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Cover Letter"}),a.jsx(rt,{children:a.jsx(gr,{placeholder:"Tell us why you're interested in this position and what makes you a great fit...",className:"min-h-[120px]",...g,"data-testid":"input-applicant-cover-letter"})}),a.jsx(ct,{})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-application",children:"Cancel"}),a.jsxs(U,{type:"submit",disabled:h.isPending,className:"","data-testid":"button-submit-application",children:[h.isPending?a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Pv,{className:"w-4 h-4 mr-2"}),"Submit Application"]})]})]})})]})}),a.jsx(Rr,{open:o,onOpenChange:l,children:a.jsxs(br,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs($r,{children:[a.jsx(Mr,{children:"Send Your CV"}),a.jsx(nm,{children:"Submit your CV for future opportunities at The Quarterdeck"})]}),a.jsx(Wa,{...f,children:a.jsxs("form",{onSubmit:f.handleSubmit(g=>p.mutate(g)),className:"space-y-4",children:[a.jsx(ot,{control:f.control,name:"name",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Full Name"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"John Doe",...g,"data-testid":"input-cv-name"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:f.control,name:"email",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Email"}),a.jsx(rt,{children:a.jsx(ne,{type:"email",placeholder:"john@example.com",...g,"data-testid":"input-cv-email"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:f.control,name:"phone",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Phone Number"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"+92 300 1234567",...g,"data-testid":"input-cv-phone"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:f.control,name:"cvUrl",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"CV/Resume URL"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"https://drive.google.com/...",...g,"data-testid":"input-cv-url"})}),a.jsx(ct,{}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a link to your CV on Google Drive, Dropbox, or similar service"})]})}),a.jsx(ot,{control:f.control,name:"linkedinUrl",render:({field:g})=>a.jsxs(tt,{children:[a.jsxs(lt,{className:"flex items-center gap-2",children:[a.jsx(l1,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"https://linkedin.com/in/...",...g,"data-testid":"input-cv-linkedin"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:f.control,name:"coverLetter",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Message / Cover Letter"}),a.jsx(rt,{children:a.jsx(gr,{placeholder:"Tell us about yourself, your skills, and what kind of role you're looking for...",className:"min-h-[120px]",...g,"data-testid":"input-cv-cover-letter"})}),a.jsx(ct,{})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-cv",children:"Cancel"}),a.jsxs(U,{type:"submit",disabled:p.isPending,className:"","data-testid":"button-submit-cv-form",children:[p.isPending?a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Pv,{className:"w-4 h-4 mr-2"}),"Submit CV"]})]})]})})]})})]})}function wie(){const{data:e,isLoading:t}=we({queryKey:["/api/cms/bulk"]}),r=e==null?void 0:e.find(s=>s.key==="terms_conditions");let n=[];try{r!=null&&r.content&&(n=JSON.parse(r.content))}catch{console.error("Failed to parse terms content")}return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Terms & Conditions",subtitle:"Last updated: December 2025",testId:"text-terms-title"}),a.jsx("div",{className:"qd-container py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ut,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Jl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Terms & Conditions are being updated. Please check back soon."})]}):n.map((s,i)=>a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:s.section}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:s.content}),s.items&&s.items.length>0&&a.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:s.items.map((o,l)=>a.jsx("li",{children:o},l))})]},i))})})]}),a.jsx(Or,{})]})}function jie(){const{data:e,isLoading:t}=we({queryKey:["/api/cms/bulk"]}),r=e==null?void 0:e.find(s=>s.key==="privacy_policy");let n=[];try{r!=null&&r.content&&(n=JSON.parse(r.content))}catch{console.error("Failed to parse privacy policy content")}return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Privacy Policy",subtitle:"Last updated: December 2025",testId:"text-privacy-title"}),a.jsx("div",{className:"qd-container py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ut,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Bh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Privacy policy is being updated. Please check back soon."})]}):n.map((s,i)=>a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:s.section}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:s.content}),s.items&&s.items.length>0&&a.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:s.items.map((o,l)=>{const c=o.indexOf(":");if(c>-1&&c<30){const u=o.slice(0,c),d=o.slice(c+1);return a.jsxs("li",{children:[a.jsxs("strong",{children:[u,":"]}),d]},l)}return a.jsx("li",{children:o},l)})})]},i))})})]}),a.jsx(Or,{})]})}function Sie(e){return Object.prototype.toString.call(e)==="[object Object]"}function GO(e){return Sie(e)||Array.isArray(e)}function _ie(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Kk(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!GO(l)||!GO(c)?l===c:Kk(l,c)})}function YO(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function Nie(e,t){if(e.length!==t.length)return!1;const r=YO(e),n=YO(t);return r.every((s,i)=>{const o=n[i];return Kk(s,o)})}function Gk(e){return typeof e=="number"}function z1(e){return typeof e=="string"}function lb(e){return typeof e=="boolean"}function QO(e){return Object.prototype.toString.call(e)==="[object Object]"}function sr(e){return Math.abs(e)}function Yk(e){return Math.sign(e)}function fh(e,t){return sr(e-t)}function kie(e,t){if(e===0||t===0||sr(e)<=sr(t))return 0;const r=fh(sr(e),sr(t));return sr(r/e)}function Cie(e){return Math.round(e*100)/100}function sm(e){return am(e).map(Number)}function pa(e){return e[yp(e)]}function yp(e){return Math.max(0,e.length-1)}function Qk(e,t){return t===yp(e)}function XO(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function am(e){return Object.keys(e)}function A6(e,t){return[e,t].reduce((r,n)=>(am(n).forEach(s=>{const i=r[s],o=n[s],l=QO(i)&&QO(o);r[s]=l?A6(i,o):o}),r),{})}function W1(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Pie(e,t){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return t-c}function o(c,u){return z1(e)?r[e](c):e(t,c,u)}return{measure:o}}function im(){let e=[];function t(s,i,o,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,o,l),c=()=>s.removeEventListener(i,o,l);else{const u=s;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function Eie(e,t,r,n){const s=im(),i=1e3/60;let o=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&x()})}function d(){p(),s.clear()}function f(b){if(!c)return;o||(o=b,r(),r());const y=b-o;for(o=b,l+=y;l>=i;)r(),l-=i;const g=l/i;n(g),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function x(){o=null,l=0}return{init:u,destroy:d,start:h,stop:p,update:r,render:n}}function Aie(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(x){const{height:m,width:b}=x;return n?m:b}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function h(x){return x*o}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:h}}function ac(e=0,t=0){const r=sr(e-t);function n(u){return u<e}function s(u){return u>t}function i(u){return n(u)||s(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:l}}function O6(e,t,r){const{constrain:n}=ac(0,e),s=e+1;let i=o(t);function o(h){return r?sr((s+h)%s):n(h)}function l(){return i}function c(h){return i=o(h),f}function u(h){return d().set(l()+h)}function d(){return O6(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function Oie(e,t,r,n,s,i,o,l,c,u,d,f,h,p,x,m,b,y,g){const{cross:w,direction:_}=e,j=["INPUT","SELECT","TEXTAREA"],S={passive:!1},N=im(),k=im(),C=ac(50,225).constrain(p.measure(20)),E={mouse:300,touch:400},A={mouse:500,touch:600},R=x?43:25;let T=!1,I=0,O=0,D=!1,V=!1,P=!1,$=!1;function K(W){if(!g)return;function z(qe){(lb(g)||g(W,qe))&&ke(qe)}const oe=t;N.add(oe,"dragstart",qe=>qe.preventDefault(),S).add(oe,"touchmove",()=>{},S).add(oe,"touchend",()=>{}).add(oe,"touchstart",z).add(oe,"mousedown",z).add(oe,"touchcancel",ie).add(oe,"contextmenu",ie).add(oe,"click",Y,!0)}function te(){N.clear(),k.clear()}function B(){const W=$?r:t;k.add(W,"touchmove",J,S).add(W,"touchend",ie).add(W,"mousemove",J,S).add(W,"mouseup",ie)}function G(W){const z=W.nodeName||"";return j.includes(z)}function re(){return(x?A:E)[$?"mouse":"touch"]}function ae(W,z){const oe=f.add(Yk(W)*-1),qe=d.byDistance(W,!x).distance;return x||sr(W)<C?qe:b&&z?qe*.5:d.byIndex(oe.get(),0).distance}function ke(W){const z=W1(W,n);$=z,P=x&&z&&!W.buttons&&T,T=fh(s.get(),o.get())>=2,!(z&&W.button!==0)&&(G(W.target)||(D=!0,i.pointerDown(W),u.useFriction(0).useDuration(0),s.set(o),B(),I=i.readPoint(W),O=i.readPoint(W,w),h.emit("pointerDown")))}function J(W){if(!W1(W,n)&&W.touches.length>=2)return ie(W);const oe=i.readPoint(W),qe=i.readPoint(W,w),Ge=fh(oe,I),at=fh(qe,O);if(!V&&!$&&(!W.cancelable||(V=Ge>at,!V)))return ie(W);const Yt=i.pointerMove(W);Ge>m&&(P=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(_(Yt)),W.preventDefault()}function ie(W){const oe=d.byDistance(0,!1).index!==f.get(),qe=i.pointerUp(W)*re(),Ge=ae(_(qe),oe),at=kie(qe,Ge),Yt=R-10*at,_t=y+at/50;V=!1,D=!1,k.clear(),u.useDuration(Yt).useFriction(_t),c.distance(Ge,!x),$=!1,h.emit("pointerUp")}function Y(W){P&&(W.stopPropagation(),W.preventDefault(),P=!1)}function Q(){return D}return{init:K,destroy:te,pointerDown:Q}}function Tie(e,t){let n,s;function i(f){return f.timeStamp}function o(f,h){const x=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(W1(f,t)?f:f.touches[0])[x]}function l(f){return n=f,s=f,o(f)}function c(f){const h=o(f)-o(s),p=i(f)-i(n)>170;return s=f,p&&(n=f),h}function u(f){if(!n||!s)return 0;const h=o(s)-o(n),p=i(f)-i(n),x=i(f)-i(s)>170,m=h/p;return p&&!x&&sr(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function Iie(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:s+i,bottom:n+o,left:s,width:i,height:o}}return{measure:e}}function Rie(e){function t(n){return e*(n/100)}return{measure:t}}function $ie(e,t,r,n,s,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function h(b){return s.measureSize(o.measure(b))}function p(b){if(!i)return;u=h(e),d=n.map(h);function y(g){for(const w of g){if(f)return;const _=w.target===e,j=n.indexOf(w.target),S=_?u:d[j],N=h(_?e:n[j]);if(sr(N-S)>=.5){b.reInit(),t.emit("resize");break}}}c=new ResizeObserver(g=>{(lb(i)||i(b,g))&&y(g)}),r.requestAnimationFrame(()=>{l.forEach(g=>c.observe(g))})}function x(){f=!0,c&&c.disconnect()}return{init:p,destroy:x}}function Mie(e,t,r,n,s,i){let o=0,l=0,c=s,u=i,d=e.get(),f=0;function h(){const S=n.get()-e.get(),N=!c;let k=0;return N?(o=0,r.set(n),e.set(n),k=S):(r.set(e),o+=S/c,o*=u,d+=o,e.add(o),k=d-f),l=Yk(k),f=d,j}function p(){const S=n.get()-t.get();return sr(S)<.001}function x(){return c}function m(){return l}function b(){return o}function y(){return w(s)}function g(){return _(i)}function w(S){return c=S,j}function _(S){return u=S,j}const j={direction:m,duration:x,velocity:b,seek:h,settled:p,useBaseFriction:g,useBaseDuration:y,useFriction:_,useDuration:w};return j}function Die(e,t,r,n,s){const i=s.measure(10),o=s.measure(50),l=ac(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const x=e.reachedMin(t.get())?"min":"max",m=sr(e[x]-t.get()),b=r.get()-t.get(),y=l.constrain(m/o);r.subtract(b*y),!p&&sr(b)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function Lie(e,t,r,n,s){const i=ac(-t+e,0),o=f(),l=d(),c=h();function u(x,m){return fh(x,m)<=1}function d(){const x=o[0],m=pa(o),b=o.lastIndexOf(x),y=o.indexOf(m)+1;return ac(b,y)}function f(){return r.map((x,m)=>{const{min:b,max:y}=i,g=i.constrain(x),w=!m,_=Qk(r,m);return w?y:_||u(b,g)?b:u(y,g)?y:g}).map(x=>parseFloat(x.toFixed(3)))}function h(){if(t<=e+s)return[i.max];if(n==="keepSnaps")return o;const{min:x,max:m}=l;return o.slice(x,m)}return{snapsContained:c,scrollContainLimit:l}}function Fie(e,t,r){const n=t[0],s=r?n-e:pa(t);return{limit:ac(s,n)}}function Bie(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=ac(i,o);function u(h){return h===1?c(r.get()):h===-1?l(r.get()):!1}function d(h){if(!u(h))return;const p=e*(h*-1);n.forEach(x=>x.add(p))}return{loop:d}}function Uie(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function Vie(e,t,r,n,s){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=s,c=f().map(t.measure),u=h(),d=p();function f(){return l(n).map(m=>pa(m)[o]-m[0][i]).map(sr)}function h(){return n.map(m=>r[i]-m[i]).map(m=>-sr(m))}function p(){return l(u).map(m=>m[0]).map((m,b)=>m+c[b])}return{snaps:u,snapsAligned:d}}function qie(e,t,r,n,s,i){const{groupSlides:o}=s,{min:l,max:c}=n,u=d();function d(){const h=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?h:h.slice(l,c).map((x,m,b)=>{const y=!m,g=Qk(b,m);if(y){const w=pa(b[0])+1;return XO(w)}if(g){const w=yp(i)-pa(b)[0]+1;return XO(w,pa(b)[0])}return x})}return{slideRegistry:u}}function zie(e,t,r,n,s){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(x){return x.concat().sort((m,b)=>sr(m)-sr(b))[0]}function u(x){const m=e?o(x):l(x),b=t.map((g,w)=>({diff:d(g-m,0),index:w})).sort((g,w)=>sr(g.diff)-sr(w.diff)),{index:y}=b[0];return{index:y,distance:m}}function d(x,m){const b=[x,x+r,x-r];if(!e)return x;if(!m)return c(b);const y=b.filter(g=>Yk(g)===m);return y.length?c(y):pa(b)-r}function f(x,m){const b=t[x]-s.get(),y=d(b,m);return{index:x,distance:y}}function h(x,m){const b=s.get()+x,{index:y,distance:g}=u(b),w=!e&&i(b);if(!m||w)return{index:y,distance:x};const _=t[y]-g,j=x+d(_,0);return{index:y,distance:j}}return{byDistance:h,byIndex:f,shortcut:d}}function Wie(e,t,r,n,s,i,o){function l(f){const h=f.distance,p=f.index!==t.get();i.add(h),h&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,h){const p=s.byDistance(f,h);l(p)}function u(f,h){const p=t.clone().set(f),x=s.byIndex(p.get(),h);l(x)}return{distance:c,index:u}}function Hie(e,t,r,n,s,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function x(m){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const g=r.findIndex(w=>w.includes(m));Gk(g)&&(s.useDuration(0),n.index(g,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((m,b)=>{i.add(m,"focus",y=>{(lb(l)||l(p,y))&&x(b)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Kf(e){let t=e;function r(){return t}function n(c){t=o(c)}function s(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return Gk(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function T6(e,t){const r=e.scroll==="x"?o:l,n=t.style;let s=null,i=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(i)return;const p=Cie(e.direction(h));p!==s&&(n.transform=r(p),s=p)}function u(h){i=!h}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function Kie(e,t,r,n,s,i,o,l,c){const d=sm(s),f=sm(s).reverse(),h=y().concat(g());function p(N,k){return N.reduce((C,E)=>C-s[E],k)}function x(N,k){return N.reduce((C,E)=>p(C,k)>0?C.concat([E]):C,[])}function m(N){return i.map((k,C)=>({start:k-n[C]+.5+N,end:k+t-.5+N}))}function b(N,k,C){const E=m(k);return N.map(A=>{const R=C?0:-r,T=C?r:0,I=C?"end":"start",O=E[A][I];return{index:A,loopPoint:O,slideLocation:Kf(-1),translate:T6(e,c[A]),target:()=>l.get()>O?R:T}})}function y(){const N=o[0],k=x(f,N);return b(k,r,!1)}function g(){const N=t-o[0]-1,k=x(d,N);return b(k,-r,!0)}function w(){return h.every(({index:N})=>{const k=d.filter(C=>C!==N);return p(k,t)<=.1})}function _(){h.forEach(N=>{const{target:k,translate:C,slideLocation:E}=N,A=k();A!==E.get()&&(C.to(A),E.set(A))})}function j(){h.forEach(N=>N.translate.clear())}return{canLoop:w,clear:j,loop:_,loopPoints:h}}function Gie(e,t,r){let n,s=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(lb(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),s=!0}return{init:i,destroy:o}}function Yie(e,t,r,n){const s={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(x=>{c||(x.forEach(m=>{const b=t.indexOf(m.target);s[b]=m}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(x=>l.observe(x))}function d(){l&&l.disconnect(),c=!0}function f(x){return am(s).reduce((m,b)=>{const y=parseInt(b),{isIntersecting:g}=s[y];return(x&&g||!x&&!g)&&m.push(y),m},[])}function h(x=!0){if(x&&i)return i;if(!x&&o)return o;const m=f(x);return x&&(i=m),x||(o=m),m}return{init:u,destroy:d,get:h}}function Qie(e,t,r,n,s,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&s,d=x(),f=m(),h=r.map(o),p=b();function x(){if(!u)return 0;const g=r[0];return sr(t[l]-g[l])}function m(){if(!u)return 0;const g=i.getComputedStyle(pa(n));return parseFloat(g.getPropertyValue(`margin-${c}`))}function b(){return r.map((g,w,_)=>{const j=!w,S=Qk(_,w);return j?h[w]+d:S?h[w]+f:_[w+1][l]-g[l]}).map(sr)}return{slideSizes:h,slideSizesWithGaps:p,startGap:d,endGap:f}}function Xie(e,t,r,n,s,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,h=Gk(r);function p(y,g){return sm(y).filter(w=>w%g===0).map(w=>y.slice(w,w+g))}function x(y){return y.length?sm(y).reduce((g,w,_)=>{const j=pa(g)||0,S=j===0,N=w===yp(y),k=s[u]-i[j][u],C=s[u]-i[w][d],E=!n&&S?f(o):0,A=!n&&N?f(l):0,R=sr(C-A-(k+E));return _&&R>t+c&&g.push(w),N&&g.push(y.length),g},[]).map((g,w,_)=>{const j=Math.max(_[w-1]||0);return y.slice(j,g)}):[]}function m(y){return h?p(y,r):x(y)}return{groupSlides:m}}function Zie(e,t,r,n,s,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:p,dragThreshold:x,inViewThreshold:m,slidesToScroll:b,skipSnaps:y,containScroll:g,watchResize:w,watchSlides:_,watchDrag:j,watchFocus:S}=i,N=2,k=Iie(),C=k.measure(t),E=r.map(k.measure),A=Aie(c,u),R=A.measureSize(C),T=Rie(R),I=Pie(l,R),O=!f&&!!g,D=f||!!g,{slideSizes:V,slideSizesWithGaps:P,startGap:$,endGap:K}=Qie(A,C,E,r,D,s),te=Xie(A,R,b,f,C,E,$,K,N),{snaps:B,snapsAligned:G}=Vie(A,I,C,E,te),re=-pa(B)+pa(P),{snapsContained:ae,scrollContainLimit:ke}=Lie(R,re,G,g,N),J=O?ae:G,{limit:ie}=Fie(re,J,f),Y=O6(yp(J),d,f),Q=Y.clone(),se=sm(r),W=({dragHandler:Rt,scrollBody:Gs,scrollBounds:Cn,options:{loop:_a}})=>{_a||Cn.constrain(Rt.pointerDown()),Gs.seek()},z=({scrollBody:Rt,translate:Gs,location:Cn,offsetLocation:_a,previousLocation:el,scrollLooper:Xa,slideLooper:tl,dragHandler:Pc,animation:uf,eventHandler:Dr,scrollBounds:f0,options:{loop:df}},Ap)=>{const Op=Rt.settled(),Tp=!f0.shouldConstrain(),ff=df?Op:Op&&Tp,qi=ff&&!Pc.pointerDown();qi&&uf.stop();const Ip=Cn.get()*Ap+el.get()*(1-Ap);_a.set(Ip),df&&(Xa.loop(Rt.direction()),tl.loop()),Gs.to(_a.get()),qi&&Dr.emit("settle"),ff||Dr.emit("scroll")},oe=Eie(n,s,()=>W(Nt),Rt=>z(Nt,Rt)),qe=.68,Ge=J[Y.get()],at=Kf(Ge),Yt=Kf(Ge),_t=Kf(Ge),wr=Kf(Ge),L=Mie(at,_t,Yt,wr,h,qe),H=zie(f,J,re,ie,wr),X=Wie(oe,Y,Q,L,H,wr,o),_e=Uie(ie),ve=im(),pe=Yie(t,r,o,m),{slideRegistry:Be}=qie(O,g,J,ke,te,se),yt=Hie(e,r,Be,X,L,ve,o,S),Nt={ownerDocument:n,ownerWindow:s,eventHandler:o,containerRect:C,slideRects:E,animation:oe,axis:A,dragHandler:Oie(A,e,n,s,wr,Tie(A,s),at,oe,X,L,H,Y,o,T,p,x,y,qe,j),eventStore:ve,percentOfView:T,index:Y,indexPrevious:Q,limit:ie,location:at,offsetLocation:_t,previousLocation:Yt,options:i,resizeHandler:$ie(t,o,s,r,A,w,k),scrollBody:L,scrollBounds:Die(ie,_t,wr,L,T),scrollLooper:Bie(re,ie,_t,[at,_t,Yt,wr]),scrollProgress:_e,scrollSnapList:J.map(_e.get),scrollSnaps:J,scrollTarget:H,scrollTo:X,slideLooper:Kie(A,R,re,V,P,B,J,_t,r),slideFocus:yt,slidesHandler:Gie(t,o,_),slidesInView:pe,slideIndexes:se,slideRegistry:Be,slidesToScroll:te,target:wr,translate:T6(A,t)};return Nt}function Jie(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:s,off:o,on:i,clear:l};return c}const eoe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function toe(e){function t(i,o){return A6(i,o||{})}function r(i){const o=i.breakpoints||{},l=am(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>am(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function roe(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function ny(e,t,r){const n=e.ownerDocument,s=n.defaultView,i=toe(s),o=roe(i),l=im(),c=Jie(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:h,off:p,emit:x}=c,m=A;let b=!1,y,g=u(eoe,ny.globalOptions),w=u(g),_=[],j,S,N;function k(){const{container:se,slides:W}=w;S=(z1(se)?e.querySelector(se):se)||e.children[0];const oe=z1(W)?S.querySelectorAll(W):W;N=[].slice.call(oe||S.children)}function C(se){const W=Zie(e,S,N,n,s,se,c);if(se.loop&&!W.slideLooper.canLoop()){const z=Object.assign({},se,{loop:!1});return C(z)}return W}function E(se,W){b||(g=u(g,se),w=d(g),_=W||_,k(),y=C(w),f([g,..._.map(({options:z})=>z)]).forEach(z=>l.add(z,"change",A)),w.active&&(y.translate.to(y.location.get()),y.animation.init(),y.slidesInView.init(),y.slideFocus.init(Q),y.eventHandler.init(Q),y.resizeHandler.init(Q),y.slidesHandler.init(Q),y.options.loop&&y.slideLooper.loop(),S.offsetParent&&N.length&&y.dragHandler.init(Q),j=o.init(Q,_)))}function A(se,W){const z=te();R(),E(u({startIndex:z},se),W),c.emit("reInit")}function R(){y.dragHandler.destroy(),y.eventStore.clear(),y.translate.clear(),y.slideLooper.clear(),y.resizeHandler.destroy(),y.slidesHandler.destroy(),y.slidesInView.destroy(),y.animation.destroy(),o.destroy(),l.clear()}function T(){b||(b=!0,l.clear(),R(),c.emit("destroy"),c.clear())}function I(se,W,z){!w.active||b||(y.scrollBody.useBaseFriction().useDuration(W===!0?0:w.duration),y.scrollTo.index(se,z||0))}function O(se){const W=y.index.add(1).get();I(W,se,-1)}function D(se){const W=y.index.add(-1).get();I(W,se,1)}function V(){return y.index.add(1).get()!==te()}function P(){return y.index.add(-1).get()!==te()}function $(){return y.scrollSnapList}function K(){return y.scrollProgress.get(y.offsetLocation.get())}function te(){return y.index.get()}function B(){return y.indexPrevious.get()}function G(){return y.slidesInView.get()}function re(){return y.slidesInView.get(!1)}function ae(){return j}function ke(){return y}function J(){return e}function ie(){return S}function Y(){return N}const Q={canScrollNext:V,canScrollPrev:P,containerNode:ie,internalEngine:ke,destroy:T,off:p,on:h,emit:x,plugins:ae,previousScrollSnap:B,reInit:m,rootNode:J,scrollNext:O,scrollPrev:D,scrollProgress:K,scrollSnapList:$,scrollTo:I,selectedScrollSnap:te,slideNodes:Y,slidesInView:G,slidesNotInView:re};return E(t,r),setTimeout(()=>c.emit("init"),0),Q}ny.globalOptions=void 0;function Xk(e={},t=[]){const r=v.useRef(e),n=v.useRef(t),[s,i]=v.useState(),[o,l]=v.useState(),c=v.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return v.useEffect(()=>{Kk(r.current,e)||(r.current=e,c())},[e,c]),v.useEffect(()=>{Nie(n.current,t)||(n.current=t,c())},[t,c]),v.useEffect(()=>{if(_ie()&&o){ny.globalOptions=Xk.globalOptions;const u=ny(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,s]}Xk.globalOptions=void 0;const I6=v.createContext(null);function cb(){const e=v.useContext(I6);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const R6=v.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:i,...o},l)=>{const[c,u]=Xk({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=v.useState(!1),[h,p]=v.useState(!1),x=v.useCallback(g=>{g&&(f(g.canScrollPrev()),p(g.canScrollNext()))},[]),m=v.useCallback(()=>{u==null||u.scrollPrev()},[u]),b=v.useCallback(()=>{u==null||u.scrollNext()},[u]),y=v.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),m()):g.key==="ArrowRight"&&(g.preventDefault(),b())},[m,b]);return v.useEffect(()=>{!u||!r||r(u)},[u,r]),v.useEffect(()=>{if(u)return x(u),u.on("reInit",x),u.on("select",x),()=>{u==null||u.off("select",x)}},[u,x]),a.jsx(I6.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:b,canScrollPrev:d,canScrollNext:h},children:a.jsx("div",{ref:l,onKeyDownCapture:y,className:ce("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});R6.displayName="Carousel";const $6=v.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=cb();return a.jsx("div",{ref:n,className:"overflow-hidden",children:a.jsx("div",{ref:r,className:ce("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});$6.displayName="CarouselContent";const M6=v.forwardRef(({className:e,...t},r)=>{const{orientation:n}=cb();return a.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:ce("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});M6.displayName="CarouselItem";const noe=v.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=cb();return a.jsxs(U,{ref:s,variant:t,size:r,className:ce("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(hs,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Previous slide"})]})});noe.displayName="CarouselPrevious";const soe=v.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=cb();return a.jsxs(U,{ref:s,variant:t,size:r,className:ce("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(TN,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Next slide"})]})});soe.displayName="CarouselNext";const aoe={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function ioe(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function ooe(e,t){const r=e.rootNode();return t&&t(r)||r}function Zk(e={}){let t,r,n,s,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(I,O){r=I;const{mergeOptions:D,optionsAtMedia:V}=O,P=D(aoe,Zk.globalOptions),$=D(P,e);if(t=V($),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,s=ioe(r,t.delay);const{eventStore:K,ownerDocument:te}=r.internalEngine(),B=!!r.internalEngine().options.watchDrag,G=ooe(r,t.rootNode);K.add(te,"visibilitychange",y),B&&r.on("pointerDown",w),B&&!t.stopOnInteraction&&r.on("pointerUp",_),t.stopOnMouseEnter&&K.add(G,"mouseenter",j),t.stopOnMouseEnter&&!t.stopOnInteraction&&K.add(G,"mouseleave",S),t.stopOnFocusIn&&r.on("slideFocusStart",b),t.stopOnFocusIn&&!t.stopOnInteraction&&K.add(r.containerNode(),"focusout",m),t.playOnInit&&m()}function h(){r.off("pointerDown",w).off("pointerUp",_).off("slideFocusStart",b),b(),n=!0,l=!1}function p(){const{ownerWindow:I}=r.internalEngine();I.clearTimeout(o),o=I.setTimeout(A,s[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function x(){const{ownerWindow:I}=r.internalEngine();I.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function m(){if(!n){if(g()){u=!0;return}l||r.emit("autoplay:play"),p(),l=!0}}function b(){n||(l&&r.emit("autoplay:stop"),x(),l=!1)}function y(){if(g())return u=l,b();u&&m()}function g(){const{ownerDocument:I}=r.internalEngine();return I.visibilityState==="hidden"}function w(){c||b()}function _(){c||m()}function j(){c=!0,b()}function S(){c=!1,m()}function N(I){typeof I<"u"&&(d=I),m()}function k(){l&&b()}function C(){l&&m()}function E(){return l}function A(){const{index:I}=r.internalEngine(),O=I.clone().add(1).get(),D=r.scrollSnapList().length-1,V=t.stopOnLastSnap&&O===D;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),V)return b();m()}function R(){if(!i)return null;const I=s[r.selectedScrollSnap()],O=new Date().getTime()-i;return I-O}return{name:"autoplay",options:e,init:f,destroy:h,play:N,stop:k,reset:C,isPlaying:E,timeUntilNext:R}}Zk.globalOptions=void 0;const loe=[{src:yk,alt:"Complex Exterior Render",caption:"Premium Sports Complex Design"},{src:Gd,alt:"Padel Tennis Courts",caption:"World-Class Padel Courts"},{src:Qx,alt:"Squash Court",caption:"Professional Squash Facility"},{src:xk,alt:"Sports Arena",caption:"Modern Architecture"},{src:bk,alt:"Construction Progress",caption:"Building Your Future"}];function coe(){const{toast:e}=Et(),[t,r]=v.useState(""),[n,s]=v.useState({days:0,hours:0,minutes:0,seconds:0}),[i,o]=v.useState(!1),{getValue:l}=jc(["coming_soon_title","coming_soon_subtitle","coming_soon_launch_date","coming_soon_location","site_name","hero_eyebrow"],Ye),c=l("coming_soon_launch_date")||Ye.coming_soon_launch_date||"2026-10-01",u=new Date(c);v.useEffect(()=>{const p=()=>{const m=+u-+new Date;return m>0?(o(!1),{days:Math.floor(m/864e5),hours:Math.floor(m/36e5%24),minutes:Math.floor(m/1e3/60%60),seconds:Math.floor(m/1e3%60)}):(o(!0),{days:0,hours:0,minutes:0,seconds:0})};s(p());const x=setInterval(()=>{s(p())},1e3);return()=>clearInterval(x)},[c]);const d=Re({mutationFn:async p=>await Oe("POST","/api/contact",{name:"Early Interest Subscriber",email:p,subject:"Coming Soon - Early Interest",message:"I would like to receive updates about The Quarterdeck launch."}),onSuccess:()=>{e({title:"Successfully Subscribed",description:"You'll be the first to know when we launch!"}),r("")},onError:p=>{e({title:"Subscription Failed",description:p.message||"Please try again later.",variant:"destructive"})}}),f=p=>{p.preventDefault(),t&&d.mutate(t)},h=({value:p,label:x})=>a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 flex items-center justify-center rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:a.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white tabular-nums",children:p.toString().padStart(2,"0")})}),a.jsx("span",{className:"mt-2 text-sm sm:text-base text-white/80 uppercase tracking-widest font-medium",children:x})]});return a.jsxs("div",{className:"min-h-screen bg-[#1a2a40] relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-500/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-indigo-500/10 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col",children:[a.jsx("header",{className:"flex justify-center items-center mb-8",children:a.jsx("span",{className:"text-2xl font-bold text-white","data-testid":"text-brand",children:l("site_name")||Ye.site_name||"The Quarterdeck"})}),a.jsxs("main",{className:"flex-1 flex flex-col lg:flex-row items-center justify-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"flex-1 max-w-xl text-center lg:text-left",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 mb-6",children:[a.jsx(kn,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm text-white/90","data-testid":"text-launch-badge",children:l("hero_eyebrow")||Ye.hero_eyebrow})]}),a.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-4 leading-tight","data-testid":"text-coming-soon-title",children:l("coming_soon_title")||Ye.coming_soon_title}),a.jsx("p",{className:"text-lg sm:text-xl text-white/80 mb-8","data-testid":"text-coming-soon-subtitle",children:l("coming_soon_subtitle")||Ye.coming_soon_subtitle}),a.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-4 sm:gap-6 mb-10",children:[a.jsx(h,{value:n.days,label:"Days"}),a.jsx(h,{value:n.hours,label:"Hours"}),a.jsx(h,{value:n.minutes,label:"Mins"}),a.jsx(h,{value:n.seconds,label:"Secs"})]}),a.jsxs("form",{onSubmit:f,className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto lg:mx-0 mb-8",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(rp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),a.jsx(ne,{type:"email",placeholder:"Enter your email for updates",value:t,onChange:p=>r(p.target.value),required:!0,className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:border-cyan-400 rounded-lg h-12","data-testid":"input-coming-soon-email"})]}),a.jsx(U,{type:"submit",className:"h-12 px-6 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg",disabled:d.isPending,"data-testid":"button-subscribe",children:d.isPending?a.jsx(ut,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:["Notify Me ",a.jsx(TN,{className:"ml-2 w-4 h-4"})]})})]}),a.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-6 text-white/70",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ki,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm",children:l("coming_soon_location")||Ye.coming_soon_location})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm",children:"6 AM - 10 PM Daily"})]})]}),a.jsx("div",{className:"mt-8 grid grid-cols-2 sm:grid-cols-4 gap-4",children:["Padel Tennis","Squash","Air Rifle","Bridge Room"].map(p=>a.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[a.jsx(Ss,{className:"w-4 h-4 text-cyan-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:p})]},p))})]}),a.jsxs("div",{className:"flex-1 max-w-lg w-full",children:[a.jsx(R6,{className:"w-full",opts:{loop:!0},plugins:[Zk({delay:4e3})],children:a.jsx($6,{children:loe.map((p,x)=>a.jsx(M6,{children:a.jsx(me,{className:"border-0 bg-transparent",children:a.jsx(ge,{className:"p-0",children:a.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden",children:[a.jsx("img",{src:p.src,alt:p.alt,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:a.jsx("span",{className:"text-white font-medium text-lg",children:p.caption})})]})})})},x))})}),a.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[i?a.jsx(le,{href:"/",children:a.jsx(U,{variant:"outline",className:"border-white/20 text-white hover:bg-white/10 rounded-lg","data-testid":"button-explore-site",children:"Explore Full Site"})}):a.jsx(U,{variant:"outline",className:"border-white/20 text-white/50 rounded-lg cursor-not-allowed opacity-60",disabled:!0,"data-testid":"button-explore-site",children:"Explore Full Site"}),a.jsx(le,{href:"/roadmap",children:a.jsx(U,{className:"bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg","data-testid":"button-view-progress",children:"View Progress"})})]})]})]}),a.jsx("footer",{className:"mt-8 text-center text-white/50 text-sm",children:a.jsx("p",{children:"2024-2026 The Quarterdeck. All rights reserved."})})]})]})}const uoe=Di({name:Pt().min(2,"Name must be at least 2 characters"),email:Pt().email("Please enter a valid email address"),phone:Pt().optional(),subject:Pt().min(3,"Subject must be at least 3 characters"),message:Pt().min(10,"Message must be at least 10 characters")});function doe(){const{toast:e}=Et(),[t,r]=v.useState(!1),{data:n={}}=we({queryKey:["/api/site-settings"],queryFn:async()=>{try{const u=await fetch("/api/site-settings");if(!u.ok)return{};const d=await u.json();return d&&typeof d=="object"&&!d.message?d:{}}catch{return{}}}}),s=u=>n[u]||"",i=qa({resolver:za(uoe),defaultValues:{name:"",email:"",phone:"",subject:"",message:""}}),o=Re({mutationFn:async u=>await Oe("POST","/api/contact",u),onSuccess:()=>{e({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),r(!0),i.reset()},onError:u=>{e({title:"Error",description:u.message||"Failed to send message. Please try again.",variant:"destructive"})}}),l=u=>{o.mutate(u)},c=[{icon:kn,title:"Book a Facility",description:"Reserve courts, halls, and more",href:"/booking"},{icon:pn,title:"Membership",description:"Join The Quarterdeck community",href:"/#membership"},{icon:Nn,title:"Our Facilities",description:"Explore what we offer",href:"/facilities"}];return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Contact Us",subtitle:"Get in touch with The Quarterdeck team. We're here to help with bookings, memberships, and any questions you may have.",testId:"text-contact-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Ko,{}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs(me,{children:[a.jsx(Xe,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(cK,{className:"w-5 h-5"}),"Send Us a Message"]})}),a.jsx(ge,{children:t?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mx-auto mb-4",children:a.jsx(Pv,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Thank You!"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Your message has been sent successfully. We'll respond within 24-48 hours."}),a.jsx(U,{onClick:()=>r(!1),variant:"outline",children:"Send Another Message"})]}):a.jsx(Wa,{...i,children:a.jsxs("form",{onSubmit:i.handleSubmit(l),className:"space-y-4",children:[a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(ot,{control:i.control,name:"name",render:({field:u})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Full Name *"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"Your name",...u,"data-testid":"input-contact-name"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:i.control,name:"email",render:({field:u})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Email Address *"}),a.jsx(rt,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com",...u,"data-testid":"input-contact-email"})}),a.jsx(ct,{})]})})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(ot,{control:i.control,name:"phone",render:({field:u})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Phone Number"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"+92 xxx xxxxxxx",...u,"data-testid":"input-contact-phone"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:i.control,name:"subject",render:({field:u})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Subject *"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"What's this about?",...u,"data-testid":"input-contact-subject"})}),a.jsx(ct,{})]})})]}),a.jsx(ot,{control:i.control,name:"message",render:({field:u})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Message *"}),a.jsx(rt,{children:a.jsx(gr,{placeholder:"How can we help you?",rows:5,...u,"data-testid":"input-contact-message"})}),a.jsx(ct,{})]})}),a.jsx(U,{type:"submit",className:"w-full sm:w-auto",disabled:o.isPending,"data-testid":"button-contact-submit",children:o.isPending?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Pv,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Links"}),a.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:c.map(u=>a.jsx(le,{href:u.href,children:a.jsx(me,{className:"h-full hover-elevate cursor-pointer","data-testid":`link-quick-${u.title.toLowerCase().replace(/\s/g,"-")}`,children:a.jsxs(ge,{className:"p-4",children:[a.jsx(u.icon,{className:"w-8 h-8 text-primary mb-3"}),a.jsx("h3",{className:"font-semibold mb-1",children:u.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:u.description})]})})},u.href))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsx(Xe,{children:a.jsx(et,{children:"Contact Information"})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(ki,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Address"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("address")||"The Quarterdeck Sports Complex, Islamabad, Pakistan"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(FD,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Phone"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("phone")||"+92 51 XXX XXXX"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(rp,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Email"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("email")||"info@thequarterdeck.pk"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Yr,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Operating Hours"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("operating_hours")||"6:00 AM - 11:00 PM Daily"})]})]})]})]}),a.jsxs(me,{children:[a.jsx(Xe,{children:a.jsx(et,{children:"Follow Us"})}),a.jsx(ge,{children:a.jsxs("div",{className:"flex gap-3",children:[s("facebook")&&a.jsx("a",{href:s("facebook"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-facebook",children:a.jsx(AD,{className:"w-5 h-5 text-primary"})}),s("instagram")&&a.jsx("a",{href:s("instagram"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-instagram",children:a.jsx(MD,{className:"w-5 h-5 text-primary"})}),s("twitter")&&a.jsx("a",{href:s("twitter"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-twitter",children:a.jsx(SK,{className:"w-5 h-5 text-primary"})}),!s("facebook")&&!s("instagram")&&!s("twitter")&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Social links coming soon"})]})})]}),a.jsxs(me,{children:[a.jsx(Xe,{children:a.jsx(et,{children:"Frequently Asked"})}),a.jsxs(ge,{className:"space-y-3",children:[a.jsxs(le,{href:"/booking",className:"flex items-center justify-between p-2 rounded-md hover-elevate cursor-pointer","data-testid":"link-faq-booking",children:[a.jsx("span",{className:"text-sm",children:"How do I book a facility?"}),a.jsx(Gn,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsxs(le,{href:"/#membership",className:"flex items-center justify-between p-2 rounded-md hover-elevate cursor-pointer","data-testid":"link-faq-membership",children:[a.jsx("span",{className:"text-sm",children:"What membership options are available?"}),a.jsx(Gn,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsxs(le,{href:"/rules",className:"flex items-center justify-between p-2 rounded-md hover-elevate cursor-pointer","data-testid":"link-faq-rules",children:[a.jsx("span",{className:"text-sm",children:"What are the facility rules?"}),a.jsx(Gn,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsxs(le,{href:"/events",className:"flex items-center justify-between p-2 rounded-md hover-elevate cursor-pointer","data-testid":"link-faq-events",children:[a.jsx("span",{className:"text-sm",children:"How do I join events?"}),a.jsx(Gn,{className:"w-4 h-4 text-muted-foreground"})]})]})]})]})]})]})]}),a.jsx(Or,{})]})}const foe={"help-circle":Bl,users:pn,calendar:kn,"credit-card":$N,clock:Yr,"building-2":Nn,shield:Zu,settings:Ev};function hoe({item:e,isOpen:t,onToggle:r}){return a.jsxs("div",{className:"border-b border-border last:border-b-0",children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between py-4 text-left hover-elevate","data-testid":`button-faq-${e.id}`,children:[a.jsx("span",{className:"font-medium text-foreground pr-4",children:e.question}),a.jsx(xc,{className:`w-5 h-5 text-muted-foreground shrink-0 transition-transform ${t?"rotate-180":""}`})]}),t&&a.jsx("div",{className:"pb-4 text-muted-foreground animate-qd-fade-in",children:e.answer})]})}function moe(){const[e,t]=v.useState({}),{data:r=[],isLoading:n}=we({queryKey:["/api/faq"]}),s=o=>{t(l=>({...l,[o]:!l[o]}))},i=o=>foe[o||"help-circle"]||Bl;return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Ws,{title:"Frequently Asked Questions",subtitle:"Find answers to common questions about The Quarterdeck, memberships, bookings, and more.",testId:"text-faq-title"}),a.jsx(Ko,{items:[{label:"FAQ"}]}),a.jsx("section",{className:"py-12 md:py-16",children:a.jsxs("div",{className:"qd-container",children:[n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ut,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):r.length===0?a.jsx(me,{className:"overflow-visible",children:a.jsxs(ge,{className:"py-12 text-center",children:[a.jsx(Bl,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQs Available"}),a.jsx("p",{className:"text-muted-foreground",children:"Check back later for frequently asked questions."})]})}):a.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:r.map(o=>{const l=i(o.icon);return a.jsx(me,{className:"overflow-visible","data-testid":`card-faq-${o.id}`,children:a.jsxs(ge,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center",children:a.jsx(l,{className:"w-5 h-5 text-primary"})}),a.jsx("h2",{className:"text-lg font-semibold",children:o.title})]}),a.jsx("div",{children:o.items.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No questions in this category yet."}):o.items.map(c=>a.jsx(hoe,{item:c,isOpen:e[c.id]||!1,onToggle:()=>s(c.id)},c.id))})]})},o.id)})}),a.jsx("div",{className:"mt-12 text-center",children:a.jsx(me,{className:"inline-block overflow-visible",children:a.jsxs(ge,{className:"p-8",children:[a.jsx(Bl,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Still have questions?"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Our team is here to help. Get in touch and we'll respond as soon as possible."}),a.jsx(le,{href:"/contact",children:a.jsx(U,{"data-testid":"button-contact-us",children:"Contact Us"})})]})})})]})})]}),a.jsx(Or,{})]})}function poe(){const[,e]=ss();return v.useEffect(()=>{e("/roadmap")},[e]),null}function goe(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(Ar,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center py-16",children:a.jsx(me,{className:"w-full max-w-lg mx-4",children:a.jsxs(ge,{className:"pt-8 pb-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-6xl font-bold text-muted-foreground mb-2",children:"404"}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2","data-testid":"text-error-title",children:"Page Not Found"}),a.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved."})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Here are some helpful links:"}),a.jsx(le,{href:"/",children:a.jsxs(U,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-home",children:[a.jsx(MN,{className:"h-4 w-4"}),"Go to Homepage"]})}),a.jsx(le,{href:"/facilities",children:a.jsxs(U,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-facilities",children:[a.jsx(kn,{className:"h-4 w-4"}),"View Facilities"]})}),a.jsx(le,{href:"/#membership",children:a.jsxs(U,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-membership",children:[a.jsx(pn,{className:"h-4 w-4"}),"Membership Plans"]})})]}),a.jsx("div",{className:"text-center",children:a.jsxs(U,{variant:"ghost",onClick:()=>window.history.back(),className:"gap-2","data-testid":"button-go-back",children:[a.jsx(hs,{className:"h-4 w-4"}),"Go Back"]})})]})})}),a.jsx(Or,{})]})}const voe=ep("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),xp=v.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:ce(voe({variant:t}),e),...r}));xp.displayName="Alert";const yoe=v.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:ce("mb-1 font-medium leading-none tracking-tight",e),...t}));yoe.displayName="AlertTitle";const bp=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("text-sm [&_p]:leading-relaxed",e),...t}));bp.displayName="AlertDescription";function xoe(e){return pp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function boe(e){return pp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}function woe(e){return pp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}const joe=[{id:"twitter",name:"X",icon:woe},{id:"github",name:"GitHub",icon:boe},{id:"facebook",name:"Facebook",icon:xoe}];function D6({mode:e}){const{signInWithOAuth:t,isSupabaseConfigured:r}=Wd(),{toast:n}=Et(),[s,i]=v.useState(null),o=async c=>{if(!r){n({title:"Configuration Error",description:"Social login is not properly configured.",variant:"destructive"});return}i(c);try{const{error:u}=await t(c);u&&n({title:`${c.charAt(0).toUpperCase()+c.slice(1)} login failed`,description:u.message||"Failed to connect with provider",variant:"destructive"})}catch{n({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(null)}},l=e==="signin"?"Sign in":"Sign up";return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:joe.map(c=>{const u=c.icon,d=s===c.id;return a.jsxs(U,{type:"button",variant:"outline",className:"gap-2",disabled:s!==null,onClick:()=>o(c.id),"data-testid":`button-oauth-${c.id}`,children:[d?a.jsx(ut,{className:"h-4 w-4 animate-spin"}):a.jsx(u,{className:"h-4 w-4"}),c.name]},c.id)})}),a.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[l," with a social account for instant verification"]})]})}const Soe=Di({email:Pt().email("Please enter a valid email address"),password:Pt().min(1,"Password is required")});function _oe(){const[,e]=ss(),{toast:t}=Et(),{signIn:r,isSupabaseConfigured:n}=Wd(),[s,i]=v.useState(!1),[o,l]=v.useState(!1),c=qa({resolver:za(Soe),defaultValues:{email:"",password:""}}),u=async d=>{if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}l(!0);try{const{error:f}=await r(d.email,d.password);f?t({title:"Login failed",description:f.message||"Invalid email or password",variant:"destructive"}):(t({title:"Welcome back!",description:"You have successfully logged in."}),e("/"))}catch{t({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{l(!1)}};return n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx(le,{href:"/",children:a.jsxs(U,{variant:"ghost",size:"sm",className:"gap-1","data-testid":"button-back",children:[a.jsx(hs,{className:"w-4 h-4"}),"Back"]})}),a.jsx(le,{href:"/",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:a.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})}),a.jsx("div",{className:"w-16"})]}),a.jsx(et,{className:"text-2xl font-bold",children:"Welcome Back"}),a.jsx(Kt,{children:"Sign in to your Quarterdeck account"})]}),a.jsxs(ge,{children:[a.jsx(Wa,{...c,children:a.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[a.jsx(ot,{control:c.control,name:"email",render:({field:d})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Email"}),a.jsx(rt,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...d})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:c.control,name:"password",render:({field:d})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Password"}),a.jsx(rt,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:s?"text":"password",placeholder:"Enter your password","data-testid":"input-password",...d}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>i(!s),"data-testid":"button-toggle-password",children:s?a.jsx(Fh,{className:"h-4 w-4"}):a.jsx(Io,{className:"h-4 w-4"})})]})}),a.jsx(ct,{})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx(le,{href:"/forgot-password",className:"text-sm text-muted-foreground hover:underline","data-testid":"link-forgot-password",children:"Forgot password?"})}),a.jsx(U,{type:"submit",className:"w-full",disabled:o,"data-testid":"button-login",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),a.jsx("div",{className:"mt-6",children:a.jsx(D6,{mode:"signin"})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),a.jsx(le,{href:"/signup",className:"font-medium hover:underline","data-testid":"link-signup",children:"Sign up"})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsx(Xe,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),a.jsxs(ge,{children:[a.jsxs(xp,{variant:"destructive",children:[a.jsx(Rn,{className:"h-4 w-4"}),a.jsx(bp,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(le,{href:"/",children:a.jsx(U,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}function Jk(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ub="Checkbox",[Noe]=gn(ub),[koe,eC]=Noe(ub);function Coe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=rs({prop:r,defaultProp:s??!1,onChange:c,caller:ub}),[x,m]=v.useState(null),[b,y]=v.useState(null),g=v.useRef(!1),w=x?!!o||!!x.closest("form"):!0,_={checked:h,disabled:i,setChecked:p,control:x,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:Po(s)?!1:s,isFormControl:w,bubbleInput:b,setBubbleInput:y};return a.jsx(koe,{scope:t,..._,children:Poe(f)?f(_):n})}var L6="CheckboxTrigger",F6=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:x}=eC(L6,e),m=Ze(s,d),b=v.useRef(c);return v.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const g=()=>f(b.current);return y.addEventListener("reset",g),()=>y.removeEventListener("reset",g)}},[i,f]),a.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":Po(c)?"mixed":c,"aria-required":u,"data-state":z6(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:fe(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:fe(r,y=>{f(g=>Po(g)?!0:!g),x&&p&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});F6.displayName=L6;var tC=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(Coe,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(F6,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx(q6,{__scopeCheckbox:r})]})})});tC.displayName=ub;var B6="CheckboxIndicator",U6=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=eC(B6,r);return a.jsx(Qr,{present:n||Po(i.checked)||i.checked===!0,children:a.jsx(Ae.span,{"data-state":z6(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});U6.displayName=B6;var V6="CheckboxBubbleInput",q6=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=eC(V6,e),x=Ze(r,p),m=Jk(i),b=KN(n);v.useEffect(()=>{const g=h;if(!g)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,S=!s.current;if(m!==i&&j){const N=new Event("click",{bubbles:S});g.indeterminate=Po(i),j.call(g,Po(i)?!1:i),g.dispatchEvent(N)}},[h,m,i,s]);const y=v.useRef(Po(i)?!1:i);return a.jsx(Ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});q6.displayName=V6;function Poe(e){return typeof e=="function"}function Po(e){return e==="indeterminate"}function z6(e){return Po(e)?"indeterminate":e?"checked":"unchecked"}const W6=v.forwardRef(({className:e,...t},r)=>a.jsx(tC,{ref:r,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(U6,{className:ce("flex items-center justify-center text-current"),children:a.jsx(Sn,{className:"h-4 w-4"})})}));W6.displayName=tC.displayName;const Eoe=Di({email:Pt().email("Please enter a valid email address"),password:Pt().min(8,"Password must be at least 8 characters"),confirmPassword:Pt(),firstName:Pt().min(1,"First name is required"),lastName:Pt().min(1,"Last name is required"),phone:Pt().optional(),termsAccepted:Tk().refine(e=>e===!0,{message:"You must accept the terms and conditions"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Aoe(){const[,e]=ss(),{toast:t}=Et(),{signUp:r,isSupabaseConfigured:n}=Wd(),[s,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(!1),d=qa({resolver:za(Eoe),defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",termsAccepted:!1}}),f=async h=>{if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}u(!0);try{const{error:p}=await r(h.email,h.password,{firstName:h.firstName,lastName:h.lastName});p?t({title:"Signup failed",description:p.message||"Failed to create account",variant:"destructive"}):(t({title:"Account created!",description:"Please check your email to verify your account."}),e("/login"))}catch{t({title:"Signup failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{u(!1)}};return n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(le,{href:"/",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:a.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Create Account"}),a.jsx(Kt,{children:"Join The Quarterdeck community"})]}),a.jsxs(ge,{children:[a.jsx(Wa,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ot,{control:d.control,name:"firstName",render:({field:h})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"First Name"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"John","data-testid":"input-first-name",...h})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:d.control,name:"lastName",render:({field:h})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Last Name"}),a.jsx(rt,{children:a.jsx(ne,{placeholder:"Doe","data-testid":"input-last-name",...h})}),a.jsx(ct,{})]})})]}),a.jsx(ot,{control:d.control,name:"email",render:({field:h})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Email"}),a.jsx(rt,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...h})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:d.control,name:"phone",render:({field:h})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Phone (Optional)"}),a.jsx(rt,{children:a.jsx(ne,{type:"tel",placeholder:"+92 300 1234567","data-testid":"input-phone",...h})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:d.control,name:"password",render:({field:h})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Password"}),a.jsx(rt,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:s?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...h}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>i(!s),"data-testid":"button-toggle-password",children:s?a.jsx(Fh,{className:"h-4 w-4"}):a.jsx(Io,{className:"h-4 w-4"})})]})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:d.control,name:"confirmPassword",render:({field:h})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Confirm Password"}),a.jsx(rt,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:o?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...h}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>l(!o),"data-testid":"button-toggle-confirm-password",children:o?a.jsx(Fh,{className:"h-4 w-4"}):a.jsx(Io,{className:"h-4 w-4"})})]})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:d.control,name:"termsAccepted",render:({field:h})=>a.jsxs(tt,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(rt,{children:a.jsx(W6,{checked:h.value,onCheckedChange:h.onChange,"data-testid":"checkbox-terms"})}),a.jsxs("div",{className:"space-y-1 leading-none",children:[a.jsxs(lt,{className:"text-sm font-normal",children:["I agree to the"," ",a.jsx(le,{href:"/terms",className:"underline hover:no-underline","data-testid":"link-terms",children:"Terms of Service"})," ","and"," ",a.jsx(le,{href:"/privacy",className:"underline hover:no-underline","data-testid":"link-privacy",children:"Privacy Policy"})]}),a.jsx(ct,{})]})]})}),a.jsx(U,{type:"submit",className:"w-full",disabled:c,"data-testid":"button-signup",children:c?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})}),a.jsx("div",{className:"mt-6",children:a.jsx(D6,{mode:"signup"})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),a.jsx(le,{href:"/login",className:"font-medium hover:underline","data-testid":"link-login",children:"Sign in"})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsx(Xe,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),a.jsxs(ge,{children:[a.jsxs(xp,{variant:"destructive",children:[a.jsx(Rn,{className:"h-4 w-4"}),a.jsx(bp,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(le,{href:"/",children:a.jsx(U,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}const Ooe=Di({email:Pt().email("Please enter a valid email address")});function Toe(){const{toast:e}=Et(),{resetPassword:t,isSupabaseConfigured:r}=Wd(),[n,s]=v.useState(!1),[i,o]=v.useState(!1),l=qa({resolver:za(Ooe),defaultValues:{email:""}}),c=async u=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}o(!0);try{const{error:d}=await t(u.email);d?e({title:"Error",description:d.message||"Failed to send reset email",variant:"destructive"}):s(!0)}catch{e({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}};return r?n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ss,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Check Your Email"}),a.jsx(Kt,{children:"If an account exists with that email, we've sent password reset instructions."})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:"The link will expire in 60 minutes."}),a.jsxs("p",{className:"mt-2",children:["Didn't receive the email? Check your spam folder or"," ",a.jsx("button",{onClick:()=>s(!1),className:"font-medium underline hover:no-underline","data-testid":"button-try-again",children:"try again"})]})]}),a.jsx(le,{href:"/login",children:a.jsxs(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:[a.jsx(hs,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:a.jsx(rp,{className:"h-8 w-8 text-muted-foreground"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Forgot Password?"}),a.jsx(Kt,{children:"Enter your email address and we'll send you a link to reset your password."})]}),a.jsxs(ge,{children:[a.jsx(Wa,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[a.jsx(ot,{control:l.control,name:"email",render:({field:u})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Email"}),a.jsx(rt,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...u})}),a.jsx(ct,{})]})}),a.jsx(U,{type:"submit",className:"w-full",disabled:i,"data-testid":"button-send-reset",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(le,{href:"/login",className:"text-sm text-muted-foreground hover:underline inline-flex items-center gap-1","data-testid":"link-back-to-login",children:[a.jsx(hs,{className:"h-3 w-3"}),"Back to Sign In"]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsx(Xe,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Service Unavailable"})}),a.jsxs(ge,{children:[a.jsxs(xp,{variant:"destructive",children:[a.jsx(Rn,{className:"h-4 w-4"}),a.jsx(bp,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(le,{href:"/login",children:a.jsx(U,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}const Ioe=Di({password:Pt().min(8,"Password must be at least 8 characters"),confirmPassword:Pt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Roe(){ss();const{toast:e}=Et(),{updatePassword:t,isSupabaseConfigured:r,isAuthenticated:n,isLoading:s}=Wd(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(!1),[p,x]=v.useState(!0),m=qa({resolver:za(Ioe),defaultValues:{password:"",confirmPassword:""}});v.useEffect(()=>{if(!s){const y=setTimeout(()=>{x(!1)},1e3);return()=>clearTimeout(y)}},[s]);const b=async y=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}h(!0);try{const{error:g}=await t(y.password);g?e({title:"Reset failed",description:g.message||"Failed to reset password",variant:"destructive"}):d(!0)}catch{e({title:"Reset failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{h(!1)}};return p||s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(me,{className:"w-full max-w-md",children:a.jsxs(ge,{className:"flex flex-col items-center justify-center py-8 gap-3",children:[a.jsx(ut,{className:"h-8 w-8 animate-spin text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying your session..."})]})})}):r?n?u?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ss,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Password Reset!"}),a.jsx(Kt,{children:"Your password has been successfully reset. You can now sign in with your new password."})]}),a.jsx(ge,{children:a.jsx(le,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-go-to-login",children:"Sign In"})})})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(le,{href:"/",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:a.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Reset Password"}),a.jsx(Kt,{children:"Enter your new password below"})]}),a.jsx(ge,{children:a.jsx(Wa,{...m,children:a.jsxs("form",{onSubmit:m.handleSubmit(b),className:"space-y-4",children:[a.jsx(ot,{control:m.control,name:"password",render:({field:y})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"New Password"}),a.jsx(rt,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...y}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?a.jsx(Fh,{className:"h-4 w-4"}):a.jsx(Io,{className:"h-4 w-4"})})]})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:m.control,name:"confirmPassword",render:({field:y})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Confirm New Password"}),a.jsx(rt,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...y}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?a.jsx(Fh,{className:"h-4 w-4"}):a.jsx(Io,{className:"h-4 w-4"})})]})}),a.jsx(ct,{})]})}),a.jsx(U,{type:"submit",className:"w-full",disabled:f,"data-testid":"button-reset-password",children:f?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx(Rn,{className:"h-8 w-8 text-destructive"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Session Expired"}),a.jsx(Kt,{children:"Your password reset link has expired or is invalid. Please request a new one."})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsx(le,{href:"/forgot-password",children:a.jsx(U,{className:"w-full","data-testid":"button-request-new-link",children:"Request New Reset Link"})}),a.jsx(le,{href:"/login",children:a.jsx(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsx(Xe,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Service Unavailable"})}),a.jsxs(ge,{children:[a.jsxs(xp,{variant:"destructive",children:[a.jsx(Rn,{className:"h-4 w-4"}),a.jsx(bp,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(le,{href:"/login",children:a.jsx(U,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}function $oe(){const[,e]=ss(),{isAuthenticated:t,isLoading:r}=Wd(),[n,s]=v.useState("checking");return v.useEffect(()=>{(async()=>{const o=window.location.hash;if(o&&o.includes("access_token")&&Vl)try{const l=new URLSearchParams(o.substring(1)),c=l.get("access_token"),u=l.get("refresh_token");if(c&&u){const{data:d,error:f}=await Vl.auth.setSession({access_token:c,refresh_token:u});if(d.session&&!f){s("verified"),setTimeout(()=>{e("/")},2e3);return}}}catch(l){console.error("Verification error:",l)}r||(t?(s("verified"),setTimeout(()=>{e("/")},2e3)):s("pending"))})()},[t,r,e]),n==="checking"||r?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(me,{className:"w-full max-w-md",children:a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(ut,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),a.jsx(et,{className:"text-2xl font-bold",children:"Verifying Email"}),a.jsx(Kt,{children:"Please wait while we verify your email address..."})]})})}):n==="verified"?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ss,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Email Verified!"}),a.jsx(Kt,{children:"Your email has been successfully verified. Redirecting you shortly..."})]}),a.jsx(ge,{children:a.jsx(le,{href:"/",children:a.jsx(U,{className:"w-full","data-testid":"button-go-home",children:"Go to Homepage"})})})]})}):n==="error"?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx(Rn,{className:"h-8 w-8 text-destructive"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Verification Failed"}),a.jsx(Kt,{children:"This verification link is invalid or has expired."})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsx(le,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Need a new verification link? Sign up again or contact support."})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:a.jsx(rp,{className:"h-8 w-8 text-muted-foreground"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Check Your Email"}),a.jsx(Kt,{children:"We've sent a verification link to your email address. Click the link in the email to verify your account."})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:"The link will expire in 24 hours."}),a.jsx("p",{className:"mt-2",children:"Didn't receive the email? Check your spam folder."})]}),a.jsx(le,{href:"/login",children:a.jsx(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})})}function Moe(){const[,e]=ss(),[t,r]=v.useState("loading"),[n,s]=v.useState("");return v.useEffect(()=>{const o=setTimeout(async()=>{if(!Vl){r("error"),s("Authentication is not configured.");return}try{const l=window.location.hash,c=new URLSearchParams(l.substring(1)),u=c.get("error"),d=c.get("error_description"),f=c.get("type");if(u){r("error"),s(d||u||"Authentication failed");return}const h=c.get("access_token"),p=c.get("refresh_token");if(h&&p){const{data:m,error:b}=await Vl.auth.setSession({access_token:h,refresh_token:p});if(b){console.error("Failed to set session:",b),r("error"),s(b.message||"Failed to establish session");return}if(m.session){if(f==="recovery"){r("success"),s("Session established. Redirecting to password reset..."),setTimeout(()=>{e("/auth/reset-password")},500);return}if(f==="signup"||f==="email_change"){r("success"),s("Email verified successfully! Redirecting..."),setTimeout(()=>{e("/")},1500);return}r("success"),s("Authentication successful! Redirecting..."),setTimeout(()=>{e("/")},1e3);return}}const{data:x}=await Vl.auth.getSession();if(x.session){if(f==="recovery"){e("/auth/reset-password");return}r("success"),s("Already authenticated. Redirecting..."),setTimeout(()=>{e("/")},1e3);return}r("error"),s("No valid session found. Please try again.")}catch(l){console.error("Auth callback exception:",l),r("error"),s("An unexpected error occurred.")}},100);return()=>clearTimeout(o)},[e]),t==="loading"?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(me,{className:"w-full max-w-md",children:a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(ut,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),a.jsx(et,{className:"text-2xl font-bold",children:"Processing"}),a.jsx(Kt,{children:"Please wait while we complete your request..."})]})})}):t==="success"?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(me,{className:"w-full max-w-md",children:a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ss,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Success!"}),a.jsx(Kt,{children:n})]})})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx(Rn,{className:"h-8 w-8 text-destructive"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Something Went Wrong"}),a.jsx(Kt,{children:n})]}),a.jsx(ge,{className:"space-y-4",children:a.jsx(le,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})})})]})})}var ZO=1,Doe=.9,Loe=.8,Foe=.17,gw=.1,vw=.999,Boe=.9999,Uoe=.99,Voe=/[\\\/_+.#"@\[\(\{&]/,qoe=/[\\\/_+.#"@\[\(\{&]/g,zoe=/[\s-]/,H6=/[\s-]/g;function H1(e,t,r,n,s,i,o){if(i===t.length)return s===e.length?ZO:Uoe;var l=`${s},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),u=r.indexOf(c,s),d=0,f,h,p,x;u>=0;)f=H1(e,t,r,n,u+1,i+1,o),f>d&&(u===s?f*=ZO:Voe.test(e.charAt(u-1))?(f*=Loe,p=e.slice(s,u-1).match(qoe),p&&s>0&&(f*=Math.pow(vw,p.length))):zoe.test(e.charAt(u-1))?(f*=Doe,x=e.slice(s,u-1).match(H6),x&&s>0&&(f*=Math.pow(vw,x.length))):(f*=Foe,s>0&&(f*=Math.pow(vw,u-s))),e.charAt(u)!==t.charAt(i)&&(f*=Boe)),(f<gw&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=H1(e,t,r,n,u+1,i+2,o),h*gw>f&&(f=h*gw)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function JO(e){return e.toLowerCase().replace(H6," ")}function Woe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,H1(e,t,JO(e),JO(t),0,0,{})}var Cf='[cmdk-group=""]',yw='[cmdk-group-items=""]',Hoe='[cmdk-group-heading=""]',K6='[cmdk-item=""]',e2=`${K6}:not([aria-disabled="true"])`,K1="cmdk-item-select",Zc="data-value",Koe=(e,t,r)=>Woe(e,t,r),G6=v.createContext(void 0),wp=()=>v.useContext(G6),Y6=v.createContext(void 0),rC=()=>v.useContext(Y6),Q6=v.createContext(void 0),X6=v.forwardRef((e,t)=>{let r=Jc(()=>{var B,G;return{search:"",value:(G=(B=e.value)!=null?B:e.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Jc(()=>new Set),s=Jc(()=>new Map),i=Jc(()=>new Map),o=Jc(()=>new Set),l=Z6(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:p,loop:x,disablePointerSelection:m=!1,vimBindings:b=!0,...y}=e,g=Er(),w=Er(),_=Er(),j=v.useRef(null),S=sle();ic(()=>{if(d!==void 0){let B=d.trim();r.current.value=B,N.emit()}},[d]),ic(()=>{S(6,T)},[]);let N=v.useMemo(()=>({subscribe:B=>(o.current.add(B),()=>o.current.delete(B)),snapshot:()=>r.current,setState:(B,G,re)=>{var ae,ke,J,ie;if(!Object.is(r.current[B],G)){if(r.current[B]=G,B==="search")R(),E(),S(1,A);else if(B==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Y=document.getElementById(_);Y?Y.focus():(ae=document.getElementById(g))==null||ae.focus()}if(S(7,()=>{var Y;r.current.selectedItemId=(Y=I())==null?void 0:Y.id,N.emit()}),re||S(5,T),((ke=l.current)==null?void 0:ke.value)!==void 0){let Y=G??"";(ie=(J=l.current).onValueChange)==null||ie.call(J,Y);return}}N.emit()}},emit:()=>{o.current.forEach(B=>B())}}),[]),k=v.useMemo(()=>({value:(B,G,re)=>{var ae;G!==((ae=i.current.get(B))==null?void 0:ae.value)&&(i.current.set(B,{value:G,keywords:re}),r.current.filtered.items.set(B,C(G,re)),S(2,()=>{E(),N.emit()}))},item:(B,G)=>(n.current.add(B),G&&(s.current.has(G)?s.current.get(G).add(B):s.current.set(G,new Set([B]))),S(3,()=>{R(),E(),r.current.value||A(),N.emit()}),()=>{i.current.delete(B),n.current.delete(B),r.current.filtered.items.delete(B);let re=I();S(4,()=>{R(),(re==null?void 0:re.getAttribute("id"))===B&&A(),N.emit()})}),group:B=>(s.current.has(B)||s.current.set(B,new Set),()=>{i.current.delete(B),s.current.delete(B)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:g,inputId:_,labelId:w,listInnerRef:j}),[]);function C(B,G){var re,ae;let ke=(ae=(re=l.current)==null?void 0:re.filter)!=null?ae:Koe;return B?ke(B,r.current.search,G):0}function E(){if(!r.current.search||l.current.shouldFilter===!1)return;let B=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(ae=>{let ke=s.current.get(ae),J=0;ke.forEach(ie=>{let Y=B.get(ie);J=Math.max(Y,J)}),G.push([ae,J])});let re=j.current;O().sort((ae,ke)=>{var J,ie;let Y=ae.getAttribute("id"),Q=ke.getAttribute("id");return((J=B.get(Q))!=null?J:0)-((ie=B.get(Y))!=null?ie:0)}).forEach(ae=>{let ke=ae.closest(yw);ke?ke.appendChild(ae.parentElement===ke?ae:ae.closest(`${yw} > *`)):re.appendChild(ae.parentElement===re?ae:ae.closest(`${yw} > *`))}),G.sort((ae,ke)=>ke[1]-ae[1]).forEach(ae=>{var ke;let J=(ke=j.current)==null?void 0:ke.querySelector(`${Cf}[${Zc}="${encodeURIComponent(ae[0])}"]`);J==null||J.parentElement.appendChild(J)})}function A(){let B=O().find(re=>re.getAttribute("aria-disabled")!=="true"),G=B==null?void 0:B.getAttribute(Zc);N.setState("value",G||void 0)}function R(){var B,G,re,ae;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ke=0;for(let J of n.current){let ie=(G=(B=i.current.get(J))==null?void 0:B.value)!=null?G:"",Y=(ae=(re=i.current.get(J))==null?void 0:re.keywords)!=null?ae:[],Q=C(ie,Y);r.current.filtered.items.set(J,Q),Q>0&&ke++}for(let[J,ie]of s.current)for(let Y of ie)if(r.current.filtered.items.get(Y)>0){r.current.filtered.groups.add(J);break}r.current.filtered.count=ke}function T(){var B,G,re;let ae=I();ae&&(((B=ae.parentElement)==null?void 0:B.firstChild)===ae&&((re=(G=ae.closest(Cf))==null?void 0:G.querySelector(Hoe))==null||re.scrollIntoView({block:"nearest"})),ae.scrollIntoView({block:"nearest"}))}function I(){var B;return(B=j.current)==null?void 0:B.querySelector(`${K6}[aria-selected="true"]`)}function O(){var B;return Array.from(((B=j.current)==null?void 0:B.querySelectorAll(e2))||[])}function D(B){let G=O()[B];G&&N.setState("value",G.getAttribute(Zc))}function V(B){var G;let re=I(),ae=O(),ke=ae.findIndex(ie=>ie===re),J=ae[ke+B];(G=l.current)!=null&&G.loop&&(J=ke+B<0?ae[ae.length-1]:ke+B===ae.length?ae[0]:ae[ke+B]),J&&N.setState("value",J.getAttribute(Zc))}function P(B){let G=I(),re=G==null?void 0:G.closest(Cf),ae;for(;re&&!ae;)re=B>0?rle(re,Cf):nle(re,Cf),ae=re==null?void 0:re.querySelector(e2);ae?N.setState("value",ae.getAttribute(Zc)):V(B)}let $=()=>D(O().length-1),K=B=>{B.preventDefault(),B.metaKey?$():B.altKey?P(1):V(1)},te=B=>{B.preventDefault(),B.metaKey?D(0):B.altKey?P(-1):V(-1)};return v.createElement(Ae.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:B=>{var G;(G=y.onKeyDown)==null||G.call(y,B);let re=B.nativeEvent.isComposing||B.keyCode===229;if(!(B.defaultPrevented||re))switch(B.key){case"n":case"j":{b&&B.ctrlKey&&K(B);break}case"ArrowDown":{K(B);break}case"p":case"k":{b&&B.ctrlKey&&te(B);break}case"ArrowUp":{te(B);break}case"Home":{B.preventDefault(),D(0);break}case"End":{B.preventDefault(),$();break}case"Enter":{B.preventDefault();let ae=I();if(ae){let ke=new Event(K1);ae.dispatchEvent(ke)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:ile},c),db(e,B=>v.createElement(Y6.Provider,{value:N},v.createElement(G6.Provider,{value:k},B))))}),Goe=v.forwardRef((e,t)=>{var r,n;let s=Er(),i=v.useRef(null),o=v.useContext(Q6),l=wp(),c=Z6(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;ic(()=>{if(!u)return l.item(s,o==null?void 0:o.id)},[u]);let d=J6(s,i,[e.value,e.children,i],e.keywords),f=rC(),h=Uo(S=>S.value&&S.value===d.current),p=Uo(S=>u||l.filter()===!1?!0:S.search?S.filtered.items.get(s)>0:!0);v.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(K1,x),()=>S.removeEventListener(K1,x)},[p,e.onSelect,e.disabled]);function x(){var S,N;m(),(N=(S=c.current).onSelect)==null||N.call(S,d.current)}function m(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:b,value:y,onSelect:g,forceMount:w,keywords:_,...j}=e;return v.createElement(Ae.div,{ref:Fn(i,t),...j,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!h,"data-disabled":!!b,"data-selected":!!h,onPointerMove:b||l.getDisablePointerSelection()?void 0:m,onClick:b?void 0:x},e.children)}),Yoe=v.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...i}=e,o=Er(),l=v.useRef(null),c=v.useRef(null),u=Er(),d=wp(),f=Uo(p=>s||d.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);ic(()=>d.group(o),[]),J6(o,l,[e.value,e.heading,c]);let h=v.useMemo(()=>({id:o,forceMount:s}),[s]);return v.createElement(Ae.div,{ref:Fn(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),db(e,p=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},v.createElement(Q6.Provider,{value:h},p))))}),Qoe=v.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=v.useRef(null),i=Uo(o=>!o.search);return!r&&!i?null:v.createElement(Ae.div,{ref:Fn(s,t),...n,"cmdk-separator":"",role:"separator"})}),Xoe=v.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,i=rC(),o=Uo(u=>u.search),l=Uo(u=>u.selectedItemId),c=wp();return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(Ae.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?e.value:o,onChange:u=>{s||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Zoe=v.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,i=v.useRef(null),o=v.useRef(null),l=Uo(u=>u.selectedItemId),c=wp();return v.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),v.createElement(Ae.div,{ref:Fn(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},db(e,u=>v.createElement("div",{ref:Fn(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Joe=v.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...l}=e;return v.createElement(Mk,{open:r,onOpenChange:n},v.createElement(Dk,{container:o},v.createElement(rb,{"cmdk-overlay":"",className:s}),v.createElement(nb,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(X6,{ref:t,...l}))))}),ele=v.forwardRef((e,t)=>Uo(r=>r.filtered.count===0)?v.createElement(Ae.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),tle=v.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...i}=e;return v.createElement(Ae.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},db(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),as=Object.assign(X6,{List:Zoe,Item:Goe,Input:Xoe,Group:Yoe,Separator:Qoe,Dialog:Joe,Empty:ele,Loading:tle});function rle(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function nle(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Z6(e){let t=v.useRef(e);return ic(()=>{t.current=e}),t}var ic=typeof window>"u"?v.useEffect:v.useLayoutEffect;function Jc(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function Uo(e){let t=rC(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function J6(e,t,r,n=[]){let s=v.useRef(),i=wp();return ic(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Zc,l),s.current=l}),s}var sle=()=>{let[e,t]=v.useState(),r=Jc(()=>new Map);return ic(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function ale(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function db({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(ale(t),{ref:t.ref},r(t.props.children)):r(t)}var ile={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const eB=v.forwardRef(({className:e,...t},r)=>a.jsx(as,{ref:r,className:ce("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));eB.displayName=as.displayName;const ole=({children:e,...t})=>a.jsx(Rr,{...t,children:a.jsx(br,{className:"overflow-hidden p-0 shadow-lg",children:a.jsx(eB,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),tB=v.forwardRef(({className:e,...t},r)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(kx,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(as.Input,{ref:r,className:ce("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));tB.displayName=as.Input.displayName;const rB=v.forwardRef(({className:e,...t},r)=>a.jsx(as.List,{ref:r,className:ce("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));rB.displayName=as.List.displayName;const nB=v.forwardRef((e,t)=>a.jsx(as.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));nB.displayName=as.Empty.displayName;const Gf=v.forwardRef(({className:e,...t},r)=>a.jsx(as.Group,{ref:r,className:ce("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Gf.displayName=as.Group.displayName;const lle=v.forwardRef(({className:e,...t},r)=>a.jsx(as.Separator,{ref:r,className:ce("-mx-1 h-px bg-border",e),...t}));lle.displayName=as.Separator.displayName;const Yf=v.forwardRef(({className:e,...t},r)=>a.jsx(as.Item,{ref:r,className:ce("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));Yf.displayName=as.Item.displayName;const cle=3e4,t2=["mousemove","keydown","click","scroll","touchstart"],ule=5e3;function dle(){const[,e]=ss(),{toast:t}=Et(),[r,n]=v.useState(null),s=v.useRef(Date.now()),i=v.useRef(null),o=v.useRef(!1),l=v.useCallback((d,f)=>{i.current&&clearInterval(i.current),t({variant:"destructive",title:"Session Expired",description:d||"Please log in again to continue."}),setTimeout(()=>{e("/login")},1500)},[t,e]),c=v.useCallback(async()=>{try{const f=await(await Oe("POST","/api/admin/heartbeat")).json();f.success&&(n({sessionRemainingMs:f.sessionRemainingMs,inactivityTimeoutMs:f.inactivityTimeoutMs,reauthTimeoutMs:f.reauthTimeoutMs,isActive:!0}),o.current=!1)}catch(d){(d==null?void 0:d.code)==="ADMIN_REAUTH_REQUIRED"||(d==null?void 0:d.code)==="ADMIN_INACTIVITY_TIMEOUT"?l(d.reason||d.message,d.code):((d==null?void 0:d.status)===401||(d==null?void 0:d.status)===403)&&l("Your session has expired. Please log in again.","SESSION_EXPIRED")}},[l]),u=v.useCallback(()=>{const d=Date.now();d-s.current>ule&&(s.current=d,c())},[c]);return v.useEffect(()=>(c(),i.current=setInterval(c,cle),t2.forEach(d=>{window.addEventListener(d,u,{passive:!0})}),()=>{i.current&&clearInterval(i.current),t2.forEach(d=>{window.removeEventListener(d,u)})}),[c,u]),v.useEffect(()=>{if(r&&r.sessionRemainingMs<6e4&&!o.current){o.current=!0;const d=Math.ceil(r.sessionRemainingMs/6e4);t({variant:"default",title:"Session Expiring Soon",description:`Your admin session will expire in ${d} minute(s). You will need to log in again.`})}},[r,t]),{sessionState:r,sendHeartbeat:c}}function fle(e){return[{path:e,label:"Dashboard",icon:iK},{path:`${e}/branding`,label:"Branding & Nav",icon:mK},{path:`${e}/homepage`,label:"Site Content",icon:MN},{path:`${e}/coming-soon`,label:"Coming Soon",icon:Yr},{path:`${e}/facilities`,label:"Facilities",icon:Nn},{path:`${e}/bookings`,label:"Bookings",icon:$N},{path:`${e}/members`,label:"Members",icon:pn},{path:`${e}/roadmap`,label:"Construction Status",icon:RD},{path:`${e}/events`,label:"Events & Academies",icon:kn},{path:`${e}/pricing`,label:"Pricing Tiers",icon:o1},{path:`${e}/announcements`,label:"Announcements",icon:Xu},{path:`${e}/careers`,label:"Careers",icon:Dh},{path:`${e}/rules`,label:"Rules & Safety",icon:Jl},{path:`${e}/faq`,label:"FAQ",icon:Bl},{path:`${e}/policies`,label:"Privacy & Terms",icon:Bh},{path:`${e}/gallery`,label:"Gallery",icon:Ni},{path:`${e}/site-images`,label:"Site Images",icon:Ni}]}function wt({children:e,title:t}){var y,g;const[r,n]=ss(),[s,i]=v.useState(!1),[o,l]=v.useState(!1),{adminPath:c}=op();dle();const u=`/${c}`,d=v.useMemo(()=>fle(u),[u]),{data:f,isLoading:h}=we({queryKey:["/api/auth/user"]}),{data:p}=we({queryKey:["/api/admin/users"]}),{data:x}=we({queryKey:["/api/admin/bookings"]}),{data:m}=we({queryKey:["/api/admin/facilities"]});v.useEffect(()=>{const w=_=>{_.key==="k"&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),l(j=>!j))};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[]);const b=v.useCallback(w=>{l(!1),n(w)},[n]);return h?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!f||f.role!=="ADMIN"&&f.role!=="SUPER_ADMIN"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"You need administrator privileges to access this page."}),a.jsx(le,{href:"/",children:a.jsxs(U,{children:[a.jsx(hs,{className:"w-4 h-4 mr-2"})," Return to Home"]})})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(U,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 lg:hidden",onClick:()=>i(!s),"data-testid":"button-mobile-menu",children:s?a.jsx(Ju,{className:"h-5 w-5"}):a.jsx(LD,{className:"h-5 w-5"})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),a.jsx("aside",{className:`
        fixed top-0 left-0 z-40 h-screen w-64 bg-card border-r transition-transform duration-300
        lg:translate-x-0
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs(le,{href:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-[#2a4060] flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"Q"})}),a.jsx("span",{className:"font-semibold",children:"Quarterdeck Admin"})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:d.map(w=>{const _=w.icon,j=r===w.path||w.path!=="/admin"&&r.startsWith(w.path);return a.jsx(le,{href:w.path,children:a.jsxs("div",{className:`
                      flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer
                      ${j?"bg-[#2a4060] text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                    `,onClick:()=>i(!1),"data-testid":`nav-${w.label.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(_,{className:"w-4 h-4"}),w.label]})},w.path)})}),a.jsx("div",{className:"p-4 border-t",children:a.jsx(le,{href:"/",children:a.jsxs(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-site",children:[a.jsx(hs,{className:"w-4 h-4 mr-2"})," Back to Site"]})})})]})}),a.jsxs("main",{className:"lg:ml-64",children:[a.jsx("header",{className:"sticky top-0 z-30 bg-background border-b px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-2xl font-bold ml-12 lg:ml-0","data-testid":"text-admin-title",children:t}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(U,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:w-64 lg:w-80",onClick:()=>l(!0),"data-testid":"button-global-search",children:[a.jsx(kx,{className:"mr-2 h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Search bookings, users, facilities..."}),a.jsx("span",{className:"inline sm:hidden",children:"Search..."}),a.jsxs("kbd",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[a.jsx("span",{className:"text-xs",children:"Ctrl"}),"K"]})]}),a.jsxs("span",{className:"text-sm text-muted-foreground hidden md:block",children:[f.firstName," ",f.lastName]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:f.profileImageUrl?a.jsx("img",{src:f.profileImageUrl,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):a.jsxs("span",{className:"text-xs font-medium",children:[(y=f.firstName)==null?void 0:y[0],(g=f.lastName)==null?void 0:g[0]]})})]})]})}),a.jsxs(ole,{open:o,onOpenChange:l,children:[a.jsx(tB,{placeholder:"Search bookings, users, facilities...","data-testid":"input-global-search"}),a.jsxs(rB,{children:[a.jsx(nB,{children:"No results found."}),a.jsx(Gf,{heading:"Navigation",children:d.map(w=>a.jsxs(Yf,{value:w.label,onSelect:()=>b(w.path),"data-testid":`search-nav-${w.label.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(w.icon,{className:"mr-2 h-4 w-4"}),w.label]},w.path))}),m&&m.length>0&&a.jsx(Gf,{heading:"Facilities",children:m.slice(0,5).map(w=>a.jsxs(Yf,{value:`facility ${w.name} ${w.slug}`,onSelect:()=>b("/admin/facilities"),"data-testid":`search-facility-${w.id}`,children:[a.jsx(Nn,{className:"mr-2 h-4 w-4"}),w.name]},w.id))}),p&&p.length>0&&a.jsx(Gf,{heading:"Users",children:p.slice(0,5).map(w=>a.jsxs(Yf,{value:`user ${w.firstName} ${w.lastName} ${w.email}`,onSelect:()=>b("/admin/bookings"),"data-testid":`search-user-${w.id}`,children:[a.jsx(pn,{className:"mr-2 h-4 w-4"}),w.firstName," ",w.lastName," - ",w.email]},w.id))}),x&&x.length>0&&a.jsx(Gf,{heading:"Recent Bookings",children:x.slice(0,5).map(w=>{const _=m==null?void 0:m.find(j=>j.id===w.facilityId);return a.jsxs(Yf,{value:`booking ${w.id} ${_==null?void 0:_.name} ${w.date}`,onSelect:()=>b("/admin/bookings"),"data-testid":`search-booking-${w.id}`,children:[a.jsx(kn,{className:"mr-2 h-4 w-4"}),_==null?void 0:_.name," - ",w.date," at ",w.startTime]},w.id)})})]})]}),a.jsx("div",{className:"p-6",children:e})]})]})}const Jn=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:ce("w-full caption-bottom text-sm",e),...t})}));Jn.displayName="Table";const es=v.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:ce("[&_tr]:border-b",e),...t}));es.displayName="TableHeader";const ts=v.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:ce("[&_tr:last-child]:border-0",e),...t}));ts.displayName="TableBody";const hle=v.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));hle.displayName="TableFooter";const bt=v.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));bt.displayName="TableRow";const Ne=v.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ne.displayName="TableHead";const xe=v.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xe.displayName="TableCell";const mle=v.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:ce("mt-4 text-sm text-muted-foreground",e),...t}));mle.displayName="TableCaption";var ple=Array.isArray,is=ple,gle=typeof Fp=="object"&&Fp&&Fp.Object===Object&&Fp,sB=gle,vle=sB,yle=typeof self=="object"&&self&&self.Object===Object&&self,xle=vle||yle||Function("return this")(),Ya=xle,ble=Ya,wle=ble.Symbol,jp=wle,r2=jp,aB=Object.prototype,jle=aB.hasOwnProperty,Sle=aB.toString,Pf=r2?r2.toStringTag:void 0;function _le(e){var t=jle.call(e,Pf),r=e[Pf];try{e[Pf]=void 0;var n=!0}catch{}var s=Sle.call(e);return n&&(t?e[Pf]=r:delete e[Pf]),s}var Nle=_le,kle=Object.prototype,Cle=kle.toString;function Ple(e){return Cle.call(e)}var Ele=Ple,n2=jp,Ale=Nle,Ole=Ele,Tle="[object Null]",Ile="[object Undefined]",s2=n2?n2.toStringTag:void 0;function Rle(e){return e==null?e===void 0?Ile:Tle:s2&&s2 in Object(e)?Ale(e):Ole(e)}var Li=Rle;function $le(e){return e!=null&&typeof e=="object"}var Fi=$le,Mle=Li,Dle=Fi,Lle="[object Symbol]";function Fle(e){return typeof e=="symbol"||Dle(e)&&Mle(e)==Lle}var Yd=Fle,Ble=is,Ule=Yd,Vle=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qle=/^\w*$/;function zle(e,t){if(Ble(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ule(e)?!0:qle.test(e)||!Vle.test(e)||t!=null&&e in Object(t)}var nC=zle;function Wle(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Go=Wle;const Qd=It(Go);var Hle=Li,Kle=Go,Gle="[object AsyncFunction]",Yle="[object Function]",Qle="[object GeneratorFunction]",Xle="[object Proxy]";function Zle(e){if(!Kle(e))return!1;var t=Hle(e);return t==Yle||t==Qle||t==Gle||t==Xle}var sC=Zle;const Je=It(sC);var Jle=Ya,ece=Jle["__core-js_shared__"],tce=ece,xw=tce,a2=function(){var e=/[^.]+$/.exec(xw&&xw.keys&&xw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function rce(e){return!!a2&&a2 in e}var nce=rce,sce=Function.prototype,ace=sce.toString;function ice(e){if(e!=null){try{return ace.call(e)}catch{}try{return e+""}catch{}}return""}var iB=ice,oce=sC,lce=nce,cce=Go,uce=iB,dce=/[\\^$.*+?()[\]{}|]/g,fce=/^\[object .+?Constructor\]$/,hce=Function.prototype,mce=Object.prototype,pce=hce.toString,gce=mce.hasOwnProperty,vce=RegExp("^"+pce.call(gce).replace(dce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yce(e){if(!cce(e)||lce(e))return!1;var t=oce(e)?vce:fce;return t.test(uce(e))}var xce=yce;function bce(e,t){return e==null?void 0:e[t]}var wce=bce,jce=xce,Sce=wce;function _ce(e,t){var r=Sce(e,t);return jce(r)?r:void 0}var Sc=_ce,Nce=Sc,kce=Nce(Object,"create"),fb=kce,i2=fb;function Cce(){this.__data__=i2?i2(null):{},this.size=0}var Pce=Cce;function Ece(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ace=Ece,Oce=fb,Tce="__lodash_hash_undefined__",Ice=Object.prototype,Rce=Ice.hasOwnProperty;function $ce(e){var t=this.__data__;if(Oce){var r=t[e];return r===Tce?void 0:r}return Rce.call(t,e)?t[e]:void 0}var Mce=$ce,Dce=fb,Lce=Object.prototype,Fce=Lce.hasOwnProperty;function Bce(e){var t=this.__data__;return Dce?t[e]!==void 0:Fce.call(t,e)}var Uce=Bce,Vce=fb,qce="__lodash_hash_undefined__";function zce(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Vce&&t===void 0?qce:t,this}var Wce=zce,Hce=Pce,Kce=Ace,Gce=Mce,Yce=Uce,Qce=Wce;function Xd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xd.prototype.clear=Hce;Xd.prototype.delete=Kce;Xd.prototype.get=Gce;Xd.prototype.has=Yce;Xd.prototype.set=Qce;var Xce=Xd;function Zce(){this.__data__=[],this.size=0}var Jce=Zce;function eue(e,t){return e===t||e!==e&&t!==t}var aC=eue,tue=aC;function rue(e,t){for(var r=e.length;r--;)if(tue(e[r][0],t))return r;return-1}var hb=rue,nue=hb,sue=Array.prototype,aue=sue.splice;function iue(e){var t=this.__data__,r=nue(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():aue.call(t,r,1),--this.size,!0}var oue=iue,lue=hb;function cue(e){var t=this.__data__,r=lue(t,e);return r<0?void 0:t[r][1]}var uue=cue,due=hb;function fue(e){return due(this.__data__,e)>-1}var hue=fue,mue=hb;function pue(e,t){var r=this.__data__,n=mue(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var gue=pue,vue=Jce,yue=oue,xue=uue,bue=hue,wue=gue;function Zd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zd.prototype.clear=vue;Zd.prototype.delete=yue;Zd.prototype.get=xue;Zd.prototype.has=bue;Zd.prototype.set=wue;var mb=Zd,jue=Sc,Sue=Ya,_ue=jue(Sue,"Map"),iC=_ue,o2=Xce,Nue=mb,kue=iC;function Cue(){this.size=0,this.__data__={hash:new o2,map:new(kue||Nue),string:new o2}}var Pue=Cue;function Eue(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Aue=Eue,Oue=Aue;function Tue(e,t){var r=e.__data__;return Oue(t)?r[typeof t=="string"?"string":"hash"]:r.map}var pb=Tue,Iue=pb;function Rue(e){var t=Iue(this,e).delete(e);return this.size-=t?1:0,t}var $ue=Rue,Mue=pb;function Due(e){return Mue(this,e).get(e)}var Lue=Due,Fue=pb;function Bue(e){return Fue(this,e).has(e)}var Uue=Bue,Vue=pb;function que(e,t){var r=Vue(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var zue=que,Wue=Pue,Hue=$ue,Kue=Lue,Gue=Uue,Yue=zue;function Jd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jd.prototype.clear=Wue;Jd.prototype.delete=Hue;Jd.prototype.get=Kue;Jd.prototype.has=Gue;Jd.prototype.set=Yue;var oC=Jd,oB=oC,Que="Expected a function";function lC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Que);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(lC.Cache||oB),r}lC.Cache=oB;var lB=lC;const Xue=It(lB);var Zue=lB,Jue=500;function ede(e){var t=Zue(e,function(n){return r.size===Jue&&r.clear(),n}),r=t.cache;return t}var tde=ede,rde=tde,nde=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sde=/\\(\\)?/g,ade=rde(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(nde,function(r,n,s,i){t.push(s?i.replace(sde,"$1"):n||r)}),t}),ide=ade;function ode(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var cC=ode,l2=jp,lde=cC,cde=is,ude=Yd,c2=l2?l2.prototype:void 0,u2=c2?c2.toString:void 0;function cB(e){if(typeof e=="string")return e;if(cde(e))return lde(e,cB)+"";if(ude(e))return u2?u2.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var dde=cB,fde=dde;function hde(e){return e==null?"":fde(e)}var uB=hde,mde=is,pde=nC,gde=ide,vde=uB;function yde(e,t){return mde(e)?e:pde(e,t)?[e]:gde(vde(e))}var dB=yde,xde=Yd;function bde(e){if(typeof e=="string"||xde(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var gb=bde,wde=dB,jde=gb;function Sde(e,t){t=wde(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[jde(t[r++])];return r&&r==n?e:void 0}var uC=Sde,_de=uC;function Nde(e,t,r){var n=e==null?void 0:_de(e,t);return n===void 0?r:n}var fB=Nde;const ws=It(fB);function kde(e){return e==null}var Cde=kde;const gt=It(Cde);var Pde=Li,Ede=is,Ade=Fi,Ode="[object String]";function Tde(e){return typeof e=="string"||!Ede(e)&&Ade(e)&&Pde(e)==Ode}var Ide=Tde;const oc=It(Ide);var hB={exports:{}},Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC=Symbol.for("react.element"),fC=Symbol.for("react.portal"),vb=Symbol.for("react.fragment"),yb=Symbol.for("react.strict_mode"),xb=Symbol.for("react.profiler"),bb=Symbol.for("react.provider"),wb=Symbol.for("react.context"),Rde=Symbol.for("react.server_context"),jb=Symbol.for("react.forward_ref"),Sb=Symbol.for("react.suspense"),_b=Symbol.for("react.suspense_list"),Nb=Symbol.for("react.memo"),kb=Symbol.for("react.lazy"),$de=Symbol.for("react.offscreen"),mB;mB=Symbol.for("react.module.reference");function Hs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dC:switch(e=e.type,e){case vb:case xb:case yb:case Sb:case _b:return e;default:switch(e=e&&e.$$typeof,e){case Rde:case wb:case jb:case kb:case Nb:case bb:return e;default:return t}}case fC:return t}}}Bt.ContextConsumer=wb;Bt.ContextProvider=bb;Bt.Element=dC;Bt.ForwardRef=jb;Bt.Fragment=vb;Bt.Lazy=kb;Bt.Memo=Nb;Bt.Portal=fC;Bt.Profiler=xb;Bt.StrictMode=yb;Bt.Suspense=Sb;Bt.SuspenseList=_b;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(e){return Hs(e)===wb};Bt.isContextProvider=function(e){return Hs(e)===bb};Bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dC};Bt.isForwardRef=function(e){return Hs(e)===jb};Bt.isFragment=function(e){return Hs(e)===vb};Bt.isLazy=function(e){return Hs(e)===kb};Bt.isMemo=function(e){return Hs(e)===Nb};Bt.isPortal=function(e){return Hs(e)===fC};Bt.isProfiler=function(e){return Hs(e)===xb};Bt.isStrictMode=function(e){return Hs(e)===yb};Bt.isSuspense=function(e){return Hs(e)===Sb};Bt.isSuspenseList=function(e){return Hs(e)===_b};Bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vb||e===xb||e===yb||e===Sb||e===_b||e===$de||typeof e=="object"&&e!==null&&(e.$$typeof===kb||e.$$typeof===Nb||e.$$typeof===bb||e.$$typeof===wb||e.$$typeof===jb||e.$$typeof===mB||e.getModuleId!==void 0)};Bt.typeOf=Hs;hB.exports=Bt;var Mde=hB.exports,Dde=Li,Lde=Fi,Fde="[object Number]";function Bde(e){return typeof e=="number"||Lde(e)&&Dde(e)==Fde}var pB=Bde;const Ude=It(pB);var Vde=pB;function qde(e){return Vde(e)&&e!=+e}var zde=qde;const Sp=It(zde);var $n=function(t){return t===0?0:t>0?1:-1},Nl=function(t){return oc(t)&&t.indexOf("%")===t.length-1},be=function(t){return Ude(t)&&!Sp(t)},Wde=function(t){return gt(t)},Hr=function(t){return be(t)||oc(t)},Hde=0,_p=function(t){var r=++Hde;return"".concat(t||"").concat(r)},Mn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&!oc(t))return n;var i;if(Nl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Sp(i)&&(i=n),s&&i>r&&(i=r),i},so=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Kde=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Ji=function(t,r){return be(t)&&be(r)?function(n){return t+n*(r-t)}:function(){return r}};function G1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ws(n,t))===r})}var Gde=function(t,r){return be(t)&&be(r)?t-r:oc(t)&&oc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Cu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Y1(e){"@babel/helpers - typeof";return Y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y1(e)}var Yde=["viewBox","children"],Qde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],d2=["points","pathLength"],bw={svg:Yde,polygon:d2,polyline:d2},hC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!Qd(n))return null;var s={};return Object.keys(n).forEach(function(i){hC.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Xde=function(t,r,n){return function(s){return t(r,n,s),null}},lc=function(t,r,n){if(!Qd(t)||Y1(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];hC.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Xde(o,r,n))}),s},Zde=["children"],Jde=["children"];function f2(e,t){if(e==null)return{};var r=efe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function efe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var h2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},m2=null,ww=null,mC=function e(t){if(t===m2&&Array.isArray(ww))return ww;var r=[];return v.Children.forEach(t,function(n){gt(n)||(Mde.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ww=r,m2=t,r};function Fs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return yi(s)}):n=[yi(t)],mC(e).forEach(function(s){var i=ws(s,"type.displayName")||ws(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function us(e,t){var r=Fs(e,t);return r&&r[0]}var p2=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!be(n)||n<=0||!be(s)||s<=0)},tfe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],rfe=function(t){return t&&t.type&&oc(t.type)&&tfe.indexOf(t.type)>=0},nfe=function(t,r,n,s){var i,o=(i=bw==null?void 0:bw[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Je(t)&&(s&&o.includes(r)||Qde.includes(r))||n&&hC.includes(r)},Qe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!Qd(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;nfe((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},Q1=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return g2(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!g2(i,o))return!1}return!0},g2=function(t,r){if(gt(t)&&gt(r))return!0;if(!gt(t)&&!gt(r)){var n=t.props||{},s=n.children,i=f2(n,Zde),o=r.props||{},l=o.children,c=f2(o,Jde);return s&&l?Cu(i,c)&&Q1(s,l):!s&&!l?Cu(i,c):!1}return!1},v2=function(t,r){var n=[],s={};return mC(t).forEach(function(i,o){if(rfe(i))n.push(i);else if(i){var l=yi(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},sfe=function(t){var r=t&&t.type;return r&&h2[r]?h2[r]:null},afe=function(t,r){return mC(r).indexOf(t)},ife=["children","width","height","viewBox","className","style","title","desc"];function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X1.apply(this,arguments)}function ofe(e,t){if(e==null)return{};var r=lfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z1(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=ofe(e,ife),d=s||{width:r,height:n,x:0,y:0},f=ft("recharts-surface",i);return M.createElement("svg",X1({},Qe(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var cfe=["children","className"];function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J1.apply(this,arguments)}function ufe(e,t){if(e==null)return{};var r=dfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dt=M.forwardRef(function(e,t){var r=e.children,n=e.className,s=ufe(e,cfe),i=ft("recharts-layer",n);return M.createElement("g",J1({className:i},Qe(s,!0),{ref:t}),r)}),ga=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function ffe(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var hfe=ffe,mfe=hfe;function pfe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:mfe(e,t,r)}var gfe=pfe,vfe="\\ud800-\\udfff",yfe="\\u0300-\\u036f",xfe="\\ufe20-\\ufe2f",bfe="\\u20d0-\\u20ff",wfe=yfe+xfe+bfe,jfe="\\ufe0e\\ufe0f",Sfe="\\u200d",_fe=RegExp("["+Sfe+vfe+wfe+jfe+"]");function Nfe(e){return _fe.test(e)}var gB=Nfe;function kfe(e){return e.split("")}var Cfe=kfe,vB="\\ud800-\\udfff",Pfe="\\u0300-\\u036f",Efe="\\ufe20-\\ufe2f",Afe="\\u20d0-\\u20ff",Ofe=Pfe+Efe+Afe,Tfe="\\ufe0e\\ufe0f",Ife="["+vB+"]",eS="["+Ofe+"]",tS="\\ud83c[\\udffb-\\udfff]",Rfe="(?:"+eS+"|"+tS+")",yB="[^"+vB+"]",xB="(?:\\ud83c[\\udde6-\\uddff]){2}",bB="[\\ud800-\\udbff][\\udc00-\\udfff]",$fe="\\u200d",wB=Rfe+"?",jB="["+Tfe+"]?",Mfe="(?:"+$fe+"(?:"+[yB,xB,bB].join("|")+")"+jB+wB+")*",Dfe=jB+wB+Mfe,Lfe="(?:"+[yB+eS+"?",eS,xB,bB,Ife].join("|")+")",Ffe=RegExp(tS+"(?="+tS+")|"+Lfe+Dfe,"g");function Bfe(e){return e.match(Ffe)||[]}var Ufe=Bfe,Vfe=Cfe,qfe=gB,zfe=Ufe;function Wfe(e){return qfe(e)?zfe(e):Vfe(e)}var Hfe=Wfe,Kfe=gfe,Gfe=gB,Yfe=Hfe,Qfe=uB;function Xfe(e){return function(t){t=Qfe(t);var r=Gfe(t)?Yfe(t):void 0,n=r?r[0]:t.charAt(0),s=r?Kfe(r,1).join(""):t.slice(1);return n[e]()+s}}var Zfe=Xfe,Jfe=Zfe,ehe=Jfe("toUpperCase"),the=ehe;const Cb=It(the);function Wt(e){return function(){return e}}const SB=Math.cos,ay=Math.sin,Sa=Math.sqrt,iy=Math.PI,Pb=2*iy,rS=Math.PI,nS=2*rS,hl=1e-6,rhe=nS-hl;function _B(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function nhe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _B;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class she{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_B:nhe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>hl)if(!(Math.abs(f*c-u*d)>hl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,x=s-l,m=c*c+u*u,b=p*p+x*x,y=Math.sqrt(m),g=Math.sqrt(h),w=i*Math.tan((rS-Math.acos((m+h-b)/(2*y*g)))/2),_=w/g,j=w/y;Math.abs(_-1)>hl&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*x)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>hl||Math.abs(this._y1-d)>hl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%nS+nS),h>rhe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>hl&&this._append`A${n},${n},0,${+(h>=rS)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function pC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new she(t)}function gC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NB(e){this._context=e}NB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Eb(e){return new NB(e)}function kB(e){return e[0]}function CB(e){return e[1]}function PB(e,t){var r=Wt(!0),n=null,s=Eb,i=null,o=pC(l);e=typeof e=="function"?e:e===void 0?kB:Wt(e),t=typeof t=="function"?t:t===void 0?CB:Wt(t);function l(c){var u,d=(c=gC(c)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Wt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function xg(e,t,r){var n=null,s=Wt(!0),i=null,o=Eb,l=null,c=pC(u);e=typeof e=="function"?e:e===void 0?kB:Wt(+e),t=typeof t=="function"?t:Wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?CB:Wt(+r);function u(f){var h,p,x,m=(f=gC(f)).length,b,y=!1,g,w=new Array(m),_=new Array(m);for(i==null&&(l=o(g=c())),h=0;h<=m;++h){if(!(h<m&&s(b=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=p;--x)l.point(w[x],_[x]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(b,h,f),_[h]=+t(b,h,f),l.point(n?+n(b,h,f):w[h],r?+r(b,h,f):_[h]))}if(g)return l=null,g+""||null}function d(){return PB().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Wt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class EB{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ahe(e){return new EB(e,!0)}function ihe(e){return new EB(e,!1)}const vC={draw(e,t){const r=Sa(t/iy);e.moveTo(r,0),e.arc(0,0,r,0,Pb)}},ohe={draw(e,t){const r=Sa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},AB=Sa(1/3),lhe=AB*2,che={draw(e,t){const r=Sa(t/lhe),n=r*AB;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},uhe={draw(e,t){const r=Sa(t),n=-r/2;e.rect(n,n,r,r)}},dhe=.8908130915292852,OB=ay(iy/10)/ay(7*iy/10),fhe=ay(Pb/10)*OB,hhe=-SB(Pb/10)*OB,mhe={draw(e,t){const r=Sa(t*dhe),n=fhe*r,s=hhe*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Pb*i/5,l=SB(o),c=ay(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},jw=Sa(3),phe={draw(e,t){const r=-Sa(t/(jw*3));e.moveTo(0,r*2),e.lineTo(-jw*r,-r),e.lineTo(jw*r,-r),e.closePath()}},Cs=-.5,Ps=Sa(3)/2,sS=1/Sa(12),ghe=(sS/2+1)*3,vhe={draw(e,t){const r=Sa(t/ghe),n=r/2,s=r*sS,i=n,o=r*sS+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Cs*n-Ps*s,Ps*n+Cs*s),e.lineTo(Cs*i-Ps*o,Ps*i+Cs*o),e.lineTo(Cs*l-Ps*c,Ps*l+Cs*c),e.lineTo(Cs*n+Ps*s,Cs*s-Ps*n),e.lineTo(Cs*i+Ps*o,Cs*o-Ps*i),e.lineTo(Cs*l+Ps*c,Cs*c-Ps*l),e.closePath()}};function yhe(e,t){let r=null,n=pC(s);e=typeof e=="function"?e:Wt(e||vC),t=typeof t=="function"?t:Wt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Wt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Wt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function oy(){}function ly(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function TB(e){this._context=e}TB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ly(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ly(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xhe(e){return new TB(e)}function IB(e){this._context=e}IB.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ly(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bhe(e){return new IB(e)}function RB(e){this._context=e}RB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ly(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function whe(e){return new RB(e)}function $B(e){this._context=e}$B.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jhe(e){return new $B(e)}function y2(e){return e<0?-1:1}function x2(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(y2(i)+y2(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function b2(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Sw(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function cy(e){this._context=e}cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sw(this,this._t0,b2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Sw(this,b2(this,r=x2(this,e,t)),r);break;default:Sw(this,this._t0,r=x2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function MB(e){this._context=new DB(e)}(MB.prototype=Object.create(cy.prototype)).point=function(e,t){cy.prototype.point.call(this,t,e)};function DB(e){this._context=e}DB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function She(e){return new cy(e)}function _he(e){return new MB(e)}function LB(e){this._context=e}LB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=w2(e),s=w2(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function w2(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Nhe(e){return new LB(e)}function Ab(e,t){this._context=e,this._t=t}Ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function khe(e){return new Ab(e,.5)}function Che(e){return new Ab(e,0)}function Phe(e){return new Ab(e,1)}function ud(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function aS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Ehe(e,t){return e[t]}function Ahe(e){const t=[];return t.key=e,t}function Ohe(){var e=Wt([]),t=aS,r=ud,n=Ehe;function s(i){var o=Array.from(e.apply(this,arguments),Ahe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=gC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Wt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Wt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?aS:typeof i=="function"?i:Wt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??ud,s):r},s}function The(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}ud(e,t)}}function Ihe(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ud(e,t)}}function Rhe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,x=0;x<l;++x){var m=e[t[x]],b=m[n][1]||0,y=m[n-1][1]||0;p+=b-y}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,ud(e,t)}}function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}var $he=["type","size","sizeType"];function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iS.apply(this,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function S2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){Mhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mhe(e,t,r){return t=Dhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dhe(e){var t=Lhe(e,"string");return om(t)=="symbol"?t:t+""}function Lhe(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fhe(e,t){if(e==null)return{};var r=Bhe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FB={symbolCircle:vC,symbolCross:ohe,symbolDiamond:che,symbolSquare:uhe,symbolStar:mhe,symbolTriangle:phe,symbolWye:vhe},Uhe=Math.PI/180,Vhe=function(t){var r="symbol".concat(Cb(t));return FB[r]||vC},qhe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Uhe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},zhe=function(t,r){FB["symbol".concat(Cb(t))]=r},yC=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Fhe(t,$he),u=S2(S2({},c),{},{type:n,size:i,sizeType:l}),d=function(){var b=Vhe(n),y=yhe().type(b).size(qhe(i,l,n));return y()},f=u.className,h=u.cx,p=u.cy,x=Qe(u,!0);return h===+h&&p===+p&&i===+i?M.createElement("path",iS({},x,{className:ft("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};yC.registerSymbol=zhe;function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oS.apply(this,arguments)}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Whe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){lm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Khe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UB(n.key),n)}}function Ghe(e,t,r){return t&&Khe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yhe(e,t,r){return t=uy(t),Qhe(e,BB()?Reflect.construct(t,r||[],uy(e).constructor):t.apply(e,r))}function Qhe(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xhe(e)}function Xhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BB=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(e)}function Zhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}function lS(e,t){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lS(e,t)}function lm(e,t,r){return t=UB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=Jhe(e,"string");return dd(t)=="symbol"?t:t+""}function Jhe(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Es=32,xC=function(e){function t(){return Hhe(this,t),Yhe(this,t,arguments)}return Zhe(t,e),Ghe(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Es/2,o=Es/6,l=Es/3,c=n.inactive?s:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Es,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Es,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Es/8,"h").concat(Es,"v").concat(Es*3/4,"h").concat(-Es,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=Whe({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(yC,{fill:c,cx:i,cy:i,size:Es,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Es,height:Es},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,x){var m=p.formatter||c,b=ft(lm(lm({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Je(p.value)?null:p.value;ga(!Je(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?u:p.color;return M.createElement("li",oS({className:b,style:f,key:"legend-item-".concat(x)},lc(n.props,p,x)),M.createElement(Z1,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m?m(y,p,x):y))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);lm(xC,"displayName","Legend");lm(xC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var eme=mb;function tme(){this.__data__=new eme,this.size=0}var rme=tme;function nme(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var sme=nme;function ame(e){return this.__data__.get(e)}var ime=ame;function ome(e){return this.__data__.has(e)}var lme=ome,cme=mb,ume=iC,dme=oC,fme=200;function hme(e,t){var r=this.__data__;if(r instanceof cme){var n=r.__data__;if(!ume||n.length<fme-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new dme(n)}return r.set(e,t),this.size=r.size,this}var mme=hme,pme=mb,gme=rme,vme=sme,yme=ime,xme=lme,bme=mme;function ef(e){var t=this.__data__=new pme(e);this.size=t.size}ef.prototype.clear=gme;ef.prototype.delete=vme;ef.prototype.get=yme;ef.prototype.has=xme;ef.prototype.set=bme;var VB=ef,wme="__lodash_hash_undefined__";function jme(e){return this.__data__.set(e,wme),this}var Sme=jme;function _me(e){return this.__data__.has(e)}var Nme=_me,kme=oC,Cme=Sme,Pme=Nme;function dy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new kme;++t<r;)this.add(e[t])}dy.prototype.add=dy.prototype.push=Cme;dy.prototype.has=Pme;var qB=dy;function Eme(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var zB=Eme;function Ame(e,t){return e.has(t)}var WB=Ame,Ome=qB,Tme=zB,Ime=WB,Rme=1,$me=2;function Mme(e,t,r,n,s,i){var o=r&Rme,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&$me?new Ome:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],m=t[f];if(n)var b=o?n(m,x,f,t,e,i):n(x,m,f,e,t,i);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!Tme(t,function(y,g){if(!Ime(p,g)&&(x===y||s(x,y,r,n,i)))return p.push(g)})){h=!1;break}}else if(!(x===m||s(x,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var HB=Mme,Dme=Ya,Lme=Dme.Uint8Array,Fme=Lme;function Bme(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var Ume=Bme;function Vme(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var bC=Vme,N2=jp,k2=Fme,qme=aC,zme=HB,Wme=Ume,Hme=bC,Kme=1,Gme=2,Yme="[object Boolean]",Qme="[object Date]",Xme="[object Error]",Zme="[object Map]",Jme="[object Number]",epe="[object RegExp]",tpe="[object Set]",rpe="[object String]",npe="[object Symbol]",spe="[object ArrayBuffer]",ape="[object DataView]",C2=N2?N2.prototype:void 0,_w=C2?C2.valueOf:void 0;function ipe(e,t,r,n,s,i,o){switch(r){case ape:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case spe:return!(e.byteLength!=t.byteLength||!i(new k2(e),new k2(t)));case Yme:case Qme:case Jme:return qme(+e,+t);case Xme:return e.name==t.name&&e.message==t.message;case epe:case rpe:return e==t+"";case Zme:var l=Wme;case tpe:var c=n&Kme;if(l||(l=Hme),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Gme,o.set(e,t);var d=zme(l(e),l(t),n,s,i,o);return o.delete(e),d;case npe:if(_w)return _w.call(e)==_w.call(t)}return!1}var ope=ipe;function lpe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var KB=lpe,cpe=KB,upe=is;function dpe(e,t,r){var n=t(e);return upe(e)?n:cpe(n,r(e))}var fpe=dpe;function hpe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var mpe=hpe;function ppe(){return[]}var gpe=ppe,vpe=mpe,ype=gpe,xpe=Object.prototype,bpe=xpe.propertyIsEnumerable,P2=Object.getOwnPropertySymbols,wpe=P2?function(e){return e==null?[]:(e=Object(e),vpe(P2(e),function(t){return bpe.call(e,t)}))}:ype,jpe=wpe;function Spe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _pe=Spe,Npe=Li,kpe=Fi,Cpe="[object Arguments]";function Ppe(e){return kpe(e)&&Npe(e)==Cpe}var Epe=Ppe,E2=Epe,Ape=Fi,GB=Object.prototype,Ope=GB.hasOwnProperty,Tpe=GB.propertyIsEnumerable,Ipe=E2(function(){return arguments}())?E2:function(e){return Ape(e)&&Ope.call(e,"callee")&&!Tpe.call(e,"callee")},wC=Ipe,fy={exports:{}};function Rpe(){return!1}var $pe=Rpe;fy.exports;(function(e,t){var r=Ya,n=$pe,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(fy,fy.exports);var YB=fy.exports,Mpe=9007199254740991,Dpe=/^(?:0|[1-9]\d*)$/;function Lpe(e,t){var r=typeof e;return t=t??Mpe,!!t&&(r=="number"||r!="symbol"&&Dpe.test(e))&&e>-1&&e%1==0&&e<t}var jC=Lpe,Fpe=9007199254740991;function Bpe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Fpe}var SC=Bpe,Upe=Li,Vpe=SC,qpe=Fi,zpe="[object Arguments]",Wpe="[object Array]",Hpe="[object Boolean]",Kpe="[object Date]",Gpe="[object Error]",Ype="[object Function]",Qpe="[object Map]",Xpe="[object Number]",Zpe="[object Object]",Jpe="[object RegExp]",ege="[object Set]",tge="[object String]",rge="[object WeakMap]",nge="[object ArrayBuffer]",sge="[object DataView]",age="[object Float32Array]",ige="[object Float64Array]",oge="[object Int8Array]",lge="[object Int16Array]",cge="[object Int32Array]",uge="[object Uint8Array]",dge="[object Uint8ClampedArray]",fge="[object Uint16Array]",hge="[object Uint32Array]",Xt={};Xt[age]=Xt[ige]=Xt[oge]=Xt[lge]=Xt[cge]=Xt[uge]=Xt[dge]=Xt[fge]=Xt[hge]=!0;Xt[zpe]=Xt[Wpe]=Xt[nge]=Xt[Hpe]=Xt[sge]=Xt[Kpe]=Xt[Gpe]=Xt[Ype]=Xt[Qpe]=Xt[Xpe]=Xt[Zpe]=Xt[Jpe]=Xt[ege]=Xt[tge]=Xt[rge]=!1;function mge(e){return qpe(e)&&Vpe(e.length)&&!!Xt[Upe(e)]}var pge=mge;function gge(e){return function(t){return e(t)}}var QB=gge,hy={exports:{}};hy.exports;(function(e,t){var r=sB,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(hy,hy.exports);var vge=hy.exports,yge=pge,xge=QB,A2=vge,O2=A2&&A2.isTypedArray,bge=O2?xge(O2):yge,XB=bge,wge=_pe,jge=wC,Sge=is,_ge=YB,Nge=jC,kge=XB,Cge=Object.prototype,Pge=Cge.hasOwnProperty;function Ege(e,t){var r=Sge(e),n=!r&&jge(e),s=!r&&!n&&_ge(e),i=!r&&!n&&!s&&kge(e),o=r||n||s||i,l=o?wge(e.length,String):[],c=l.length;for(var u in e)(t||Pge.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Nge(u,c)))&&l.push(u);return l}var Age=Ege,Oge=Object.prototype;function Tge(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Oge;return e===r}var Ige=Tge;function Rge(e,t){return function(r){return e(t(r))}}var ZB=Rge,$ge=ZB,Mge=$ge(Object.keys,Object),Dge=Mge,Lge=Ige,Fge=Dge,Bge=Object.prototype,Uge=Bge.hasOwnProperty;function Vge(e){if(!Lge(e))return Fge(e);var t=[];for(var r in Object(e))Uge.call(e,r)&&r!="constructor"&&t.push(r);return t}var qge=Vge,zge=sC,Wge=SC;function Hge(e){return e!=null&&Wge(e.length)&&!zge(e)}var Np=Hge,Kge=Age,Gge=qge,Yge=Np;function Qge(e){return Yge(e)?Kge(e):Gge(e)}var Ob=Qge,Xge=fpe,Zge=jpe,Jge=Ob;function eve(e){return Xge(e,Jge,Zge)}var tve=eve,T2=tve,rve=1,nve=Object.prototype,sve=nve.hasOwnProperty;function ave(e,t,r,n,s,i){var o=r&rve,l=T2(e),c=l.length,u=T2(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:sve.call(t,h)))return!1}var p=i.get(e),x=i.get(t);if(p&&x)return p==t&&x==e;var m=!0;i.set(e,t),i.set(t,e);for(var b=o;++f<c;){h=l[f];var y=e[h],g=t[h];if(n)var w=o?n(g,y,h,t,e,i):n(y,g,h,e,t,i);if(!(w===void 0?y===g||s(y,g,r,n,i):w)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(m=!1)}return i.delete(e),i.delete(t),m}var ive=ave,ove=Sc,lve=Ya,cve=ove(lve,"DataView"),uve=cve,dve=Sc,fve=Ya,hve=dve(fve,"Promise"),mve=hve,pve=Sc,gve=Ya,vve=pve(gve,"Set"),JB=vve,yve=Sc,xve=Ya,bve=yve(xve,"WeakMap"),wve=bve,cS=uve,uS=iC,dS=mve,fS=JB,hS=wve,eU=Li,tf=iB,I2="[object Map]",jve="[object Object]",R2="[object Promise]",$2="[object Set]",M2="[object WeakMap]",D2="[object DataView]",Sve=tf(cS),_ve=tf(uS),Nve=tf(dS),kve=tf(fS),Cve=tf(hS),ml=eU;(cS&&ml(new cS(new ArrayBuffer(1)))!=D2||uS&&ml(new uS)!=I2||dS&&ml(dS.resolve())!=R2||fS&&ml(new fS)!=$2||hS&&ml(new hS)!=M2)&&(ml=function(e){var t=eU(e),r=t==jve?e.constructor:void 0,n=r?tf(r):"";if(n)switch(n){case Sve:return D2;case _ve:return I2;case Nve:return R2;case kve:return $2;case Cve:return M2}return t});var Pve=ml,Nw=VB,Eve=HB,Ave=ope,Ove=ive,L2=Pve,F2=is,B2=YB,Tve=XB,Ive=1,U2="[object Arguments]",V2="[object Array]",bg="[object Object]",Rve=Object.prototype,q2=Rve.hasOwnProperty;function $ve(e,t,r,n,s,i){var o=F2(e),l=F2(t),c=o?V2:L2(e),u=l?V2:L2(t);c=c==U2?bg:c,u=u==U2?bg:u;var d=c==bg,f=u==bg,h=c==u;if(h&&B2(e)){if(!B2(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Nw),o||Tve(e)?Eve(e,t,r,n,s,i):Ave(e,t,c,r,n,s,i);if(!(r&Ive)){var p=d&&q2.call(e,"__wrapped__"),x=f&&q2.call(t,"__wrapped__");if(p||x){var m=p?e.value():e,b=x?t.value():t;return i||(i=new Nw),s(m,b,r,n,i)}}return h?(i||(i=new Nw),Ove(e,t,r,n,s,i)):!1}var Mve=$ve,Dve=Mve,z2=Fi;function tU(e,t,r,n,s){return e===t?!0:e==null||t==null||!z2(e)&&!z2(t)?e!==e&&t!==t:Dve(e,t,r,n,tU,s)}var _C=tU,Lve=VB,Fve=_C,Bve=1,Uve=2;function Vve(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Lve;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Fve(d,u,Bve|Uve,n,f):h))return!1}}return!0}var qve=Vve,zve=Go;function Wve(e){return e===e&&!zve(e)}var rU=Wve,Hve=rU,Kve=Ob;function Gve(e){for(var t=Kve(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Hve(s)]}return t}var Yve=Gve;function Qve(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var nU=Qve,Xve=qve,Zve=Yve,Jve=nU;function eye(e){var t=Zve(e);return t.length==1&&t[0][2]?Jve(t[0][0],t[0][1]):function(r){return r===e||Xve(r,e,t)}}var tye=eye;function rye(e,t){return e!=null&&t in Object(e)}var nye=rye,sye=dB,aye=wC,iye=is,oye=jC,lye=SC,cye=gb;function uye(e,t,r){t=sye(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=cye(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&lye(s)&&oye(o,s)&&(iye(e)||aye(e)))}var dye=uye,fye=nye,hye=dye;function mye(e,t){return e!=null&&hye(e,t,fye)}var pye=mye,gye=_C,vye=fB,yye=pye,xye=nC,bye=rU,wye=nU,jye=gb,Sye=1,_ye=2;function Nye(e,t){return xye(e)&&bye(t)?wye(jye(e),t):function(r){var n=vye(r,e);return n===void 0&&n===t?yye(r,e):gye(t,n,Sye|_ye)}}var kye=Nye;function Cye(e){return e}var rf=Cye;function Pye(e){return function(t){return t==null?void 0:t[e]}}var Eye=Pye,Aye=uC;function Oye(e){return function(t){return Aye(t,e)}}var Tye=Oye,Iye=Eye,Rye=Tye,$ye=nC,Mye=gb;function Dye(e){return $ye(e)?Iye(Mye(e)):Rye(e)}var Lye=Dye,Fye=tye,Bye=kye,Uye=rf,Vye=is,qye=Lye;function zye(e){return typeof e=="function"?e:e==null?Uye:typeof e=="object"?Vye(e)?Bye(e[0],e[1]):Fye(e):qye(e)}var Qa=zye;function Wye(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var sU=Wye;function Hye(e){return e!==e}var Kye=Hye;function Gye(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var Yye=Gye,Qye=sU,Xye=Kye,Zye=Yye;function Jye(e,t,r){return t===t?Zye(e,t,r):Qye(e,Xye,r)}var exe=Jye,txe=exe;function rxe(e,t){var r=e==null?0:e.length;return!!r&&txe(e,t,0)>-1}var nxe=rxe;function sxe(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var axe=sxe;function ixe(){}var oxe=ixe,kw=JB,lxe=oxe,cxe=bC,uxe=1/0,dxe=kw&&1/cxe(new kw([,-0]))[1]==uxe?function(e){return new kw(e)}:lxe,fxe=dxe,hxe=qB,mxe=nxe,pxe=axe,gxe=WB,vxe=fxe,yxe=bC,xxe=200;function bxe(e,t,r){var n=-1,s=mxe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=pxe;else if(i>=xxe){var u=t?null:vxe(e);if(u)return yxe(u);o=!1,s=gxe,c=new hxe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var wxe=bxe,jxe=Qa,Sxe=wxe;function _xe(e,t){return e&&e.length?Sxe(e,jxe(t)):[]}var Nxe=_xe;const W2=It(Nxe);function aU(e,t,r){return t===!0?W2(e,r):Je(t)?W2(e,t):e}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}var kxe=["ref"];function H2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(r),!0).forEach(function(n){Tb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oU(n.key),n)}}function Pxe(e,t,r){return t&&K2(e.prototype,t),r&&K2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Exe(e,t,r){return t=my(t),Axe(e,iU()?Reflect.construct(t,r||[],my(e).constructor):t.apply(e,r))}function Axe(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oxe(e)}function Oxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iU=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},my(e)}function Txe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mS(e,t)}function Tb(e,t,r){return t=oU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oU(e){var t=Ixe(e,"string");return fd(t)=="symbol"?t:t+""}function Ixe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rxe(e,t){if(e==null)return{};var r=$xe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $xe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mxe(e){return e.value}function Dxe(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=Rxe(t,kxe);return M.createElement(xC,r)}var G2=1,ql=function(e){function t(){var r;Cxe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Exe(this,t,[].concat(s)),Tb(r,"lastBoundingBox",{width:-1,height:-1}),r}return Txe(t,e),Pxe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>G2||Math.abs(s.height-this.lastBoundingBox.height)>G2)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ti({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ti(ti({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=ti(ti({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Dxe(i,ti(ti({},this.props),{},{payload:aU(d,u,Mxe)})))}}],[{key:"getWithHeight",value:function(n,s){var i=ti(ti({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&be(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(v.PureComponent);Tb(ql,"displayName","Legend");Tb(ql,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Y2=jp,Lxe=wC,Fxe=is,Q2=Y2?Y2.isConcatSpreadable:void 0;function Bxe(e){return Fxe(e)||Lxe(e)||!!(Q2&&e&&e[Q2])}var Uxe=Bxe,Vxe=KB,qxe=Uxe;function lU(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=qxe),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?lU(l,t-1,r,n,s):Vxe(s,l):n||(s[s.length]=l)}return s}var cU=lU;function zxe(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var Wxe=zxe,Hxe=Wxe,Kxe=Hxe(),Gxe=Kxe,Yxe=Gxe,Qxe=Ob;function Xxe(e,t){return e&&Yxe(e,t,Qxe)}var uU=Xxe,Zxe=Np;function Jxe(e,t){return function(r,n){if(r==null)return r;if(!Zxe(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var ebe=Jxe,tbe=uU,rbe=ebe,nbe=rbe(tbe),NC=nbe,sbe=NC,abe=Np;function ibe(e,t){var r=-1,n=abe(e)?Array(e.length):[];return sbe(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var dU=ibe;function obe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var lbe=obe,X2=Yd;function cbe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=X2(e),o=t!==void 0,l=t===null,c=t===t,u=X2(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var ube=cbe,dbe=ube;function fbe(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=dbe(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var hbe=fbe,Cw=cC,mbe=uC,pbe=Qa,gbe=dU,vbe=lbe,ybe=QB,xbe=hbe,bbe=rf,wbe=is;function jbe(e,t,r){t.length?t=Cw(t,function(i){return wbe(i)?function(o){return mbe(o,i.length===1?i[0]:i)}:i}):t=[bbe];var n=-1;t=Cw(t,ybe(pbe));var s=gbe(e,function(i,o,l){var c=Cw(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return vbe(s,function(i,o){return xbe(i,o,r)})}var Sbe=jbe;function _be(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Nbe=_be,kbe=Nbe,Z2=Math.max;function Cbe(e,t,r){return t=Z2(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=Z2(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),kbe(e,this,l)}}var Pbe=Cbe;function Ebe(e){return function(){return e}}var Abe=Ebe,Obe=Sc,Tbe=function(){try{var e=Obe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),fU=Tbe,Ibe=Abe,J2=fU,Rbe=rf,$be=J2?function(e,t){return J2(e,"toString",{configurable:!0,enumerable:!1,value:Ibe(t),writable:!0})}:Rbe,Mbe=$be,Dbe=800,Lbe=16,Fbe=Date.now;function Bbe(e){var t=0,r=0;return function(){var n=Fbe(),s=Lbe-(n-r);if(r=n,s>0){if(++t>=Dbe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ube=Bbe,Vbe=Mbe,qbe=Ube,zbe=qbe(Vbe),Wbe=zbe,Hbe=rf,Kbe=Pbe,Gbe=Wbe;function Ybe(e,t){return Gbe(Kbe(e,t,Hbe),e+"")}var Qbe=Ybe,Xbe=aC,Zbe=Np,Jbe=jC,e0e=Go;function t0e(e,t,r){if(!e0e(r))return!1;var n=typeof t;return(n=="number"?Zbe(r)&&Jbe(t,r.length):n=="string"&&t in r)?Xbe(r[t],e):!1}var Ib=t0e,r0e=cU,n0e=Sbe,s0e=Qbe,eT=Ib,a0e=s0e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&eT(e,t[0],t[1])?t=[]:r>2&&eT(t[0],t[1],t[2])&&(t=[t[0]]),n0e(e,r0e(t,1),[])}),i0e=a0e;const kC=It(i0e);function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pS.apply(this,arguments)}function o0e(e,t){return d0e(e)||u0e(e,t)||c0e(e,t)||l0e()}function l0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c0e(e,t){if(e){if(typeof e=="string")return tT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tT(e,t)}}function tT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function d0e(e){if(Array.isArray(e))return e}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){f0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f0e(e,t,r){return t=h0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h0e(e){var t=m0e(e,"string");return cm(t)=="symbol"?t:t+""}function m0e(e,t){if(cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p0e(e){return Array.isArray(e)&&Hr(e[0])&&Hr(e[1])?e.join(" ~ "):e}var g0e=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,x=t.labelClassName,m=t.label,b=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,w=function(){if(d&&d.length){var R={padding:0,margin:0},T=(h?kC(d,h):d).map(function(I,O){if(I.type==="none")return null;var D=Pw({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),V=I.formatter||f||p0e,P=I.value,$=I.name,K=P,te=$;if(V&&K!=null&&te!=null){var B=V(P,$,I,O,d);if(Array.isArray(B)){var G=o0e(B,2);K=G[0],te=G[1]}else K=B}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:D},Hr(te)?M.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Hr(te)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},K),M.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},T)}return null},_=Pw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Pw({margin:0},u),S=!gt(m),N=S?m:"",k=ft("recharts-default-tooltip",p),C=ft("recharts-tooltip-label",x);S&&b&&d!==void 0&&d!==null&&(N=b(m,d));var E=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",pS({className:k,style:_},E),M.createElement("p",{className:C,style:j},M.isValidElement(N)?N:"".concat(N)),w())};function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function wg(e,t,r){return t=v0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v0e(e){var t=y0e(e,"string");return um(t)=="symbol"?t:t+""}function y0e(e,t){if(um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ef="recharts-tooltip-wrapper",x0e={visibility:"hidden"};function b0e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ft(Ef,wg(wg(wg(wg({},"".concat(Ef,"-right"),be(r)&&t&&be(t.x)&&r>=t.x),"".concat(Ef,"-left"),be(r)&&t&&be(t.x)&&r<t.x),"".concat(Ef,"-bottom"),be(n)&&t&&be(t.y)&&n>=t.y),"".concat(Ef,"-top"),be(n)&&t&&be(t.y)&&n<t.y))}function nT(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&be(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var x=f+l,m=c[n]+u;return x>m?Math.max(d,c[n]):Math.max(f,c[n])}function w0e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function j0e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=nT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=nT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=w0e({translateX:d,translateY:f,useTranslate3d:l})):u=x0e,{cssProperties:u,cssClasses:b0e({translateX:d,translateY:f,coordinate:r})}}function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){vS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mU(n.key),n)}}function N0e(e,t,r){return t&&_0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k0e(e,t,r){return t=py(t),C0e(e,hU()?Reflect.construct(t,r||[],py(e).constructor):t.apply(e,r))}function C0e(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P0e(e)}function P0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hU=function(){return!!e})()}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},py(e)}function E0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gS(e,t)}function gS(e,t){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gS(e,t)}function vS(e,t,r){return t=mU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=A0e(e,"string");return hd(t)=="symbol"?t:t+""}function A0e(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iT=1,O0e=function(e){function t(){var r;S0e(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=k0e(this,t,[].concat(s)),vS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),vS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return E0e(t,e),N0e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>iT||Math.abs(n.height-this.state.lastBoundingBox.height)>iT)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,x=s.position,m=s.reverseDirection,b=s.useTranslate3d,y=s.viewBox,g=s.wrapperStyle,w=j0e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:x,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:y}),_=w.cssClasses,j=w.cssProperties,S=aT(aT({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(v.PureComponent),T0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nf={isSsr:T0e()};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){CC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gU(n.key),n)}}function $0e(e,t,r){return t&&R0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function M0e(e,t,r){return t=gy(t),D0e(e,pU()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function D0e(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L0e(e)}function L0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pU=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function F0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yS(e,t)}function yS(e,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yS(e,t)}function CC(e,t,r){return t=gU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gU(e){var t=B0e(e,"string");return md(t)=="symbol"?t:t+""}function B0e(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function U0e(e){return e.dataKey}function V0e(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(g0e,t)}var aa=function(e){function t(){return I0e(this,t),M0e(this,t,arguments)}return F0e(t,e),$0e(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,x=s.payload,m=s.payloadUniqBy,b=s.position,y=s.reverseDirection,g=s.useTranslate3d,w=s.viewBox,_=s.wrapperStyle,j=x??[];f&&j.length&&(j=aU(x.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),m,U0e));var S=j.length>0;return M.createElement(O0e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:b,reverseDirection:y,useTranslate3d:g,viewBox:w,wrapperStyle:_},V0e(u,lT(lT({},this.props),{},{payload:j})))}}])}(v.PureComponent);CC(aa,"displayName","Tooltip");CC(aa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var q0e=Ya,z0e=function(){return q0e.Date.now()},W0e=z0e,H0e=/\s/;function K0e(e){for(var t=e.length;t--&&H0e.test(e.charAt(t)););return t}var G0e=K0e,Y0e=G0e,Q0e=/^\s+/;function X0e(e){return e&&e.slice(0,Y0e(e)+1).replace(Q0e,"")}var Z0e=X0e,J0e=Z0e,cT=Go,ewe=Yd,uT=NaN,twe=/^[-+]0x[0-9a-f]+$/i,rwe=/^0b[01]+$/i,nwe=/^0o[0-7]+$/i,swe=parseInt;function awe(e){if(typeof e=="number")return e;if(ewe(e))return uT;if(cT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=cT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=J0e(e);var r=rwe.test(e);return r||nwe.test(e)?swe(e.slice(2),r?2:8):twe.test(e)?uT:+e}var vU=awe,iwe=Go,Ew=W0e,dT=vU,owe="Expected a function",lwe=Math.max,cwe=Math.min;function uwe(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(owe);t=dT(t)||0,iwe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?lwe(dT(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var N=n,k=s;return n=s=void 0,u=S,o=e.apply(k,N),o}function x(S){return u=S,l=setTimeout(y,t),d?p(S):o}function m(S){var N=S-c,k=S-u,C=t-N;return f?cwe(C,i-k):C}function b(S){var N=S-c,k=S-u;return c===void 0||N>=t||N<0||f&&k>=i}function y(){var S=Ew();if(b(S))return g(S);l=setTimeout(y,m(S))}function g(S){return l=void 0,h&&n?p(S):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?o:g(Ew())}function j(){var S=Ew(),N=b(S);if(n=arguments,s=this,c=S,N){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(y,t),p(c)}return l===void 0&&(l=setTimeout(y,t)),o}return j.cancel=w,j.flush=_,j}var dwe=uwe,fwe=dwe,hwe=Go,mwe="Expected a function";function pwe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(mwe);return hwe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),fwe(e,t,{leading:n,maxWait:t,trailing:s})}var gwe=pwe;const yU=It(gwe);function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){vwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vwe(e,t,r){return t=ywe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ywe(e){var t=xwe(e,"string");return dm(t)=="symbol"?t:t+""}function xwe(e,t){if(dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bwe(e,t){return _we(e)||Swe(e,t)||jwe(e,t)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jwe(e,t){if(e){if(typeof e=="string")return hT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hT(e,t)}}function hT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Swe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function _we(e){if(Array.isArray(e))return e}var mT=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,x=e.debounce,m=x===void 0?0:x,b=e.id,y=e.className,g=e.onResize,w=e.style,_=w===void 0?{}:w,j=v.useRef(null),S=v.useRef();S.current=g,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=v.useState({containerWidth:s.width,containerHeight:s.height}),k=bwe(N,2),C=k[0],E=k[1],A=v.useCallback(function(T,I){E(function(O){var D=Math.round(T),V=Math.round(I);return O.containerWidth===D&&O.containerHeight===V?O:{containerWidth:D,containerHeight:V}})},[]);v.useEffect(function(){var T=function($){var K,te=$[0].contentRect,B=te.width,G=te.height;A(B,G),(K=S.current)===null||K===void 0||K.call(S,B,G)};m>0&&(T=yU(T,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(T),O=j.current.getBoundingClientRect(),D=O.width,V=O.height;return A(D,V),I.observe(j.current),function(){I.disconnect()}},[A,m]);var R=v.useMemo(function(){var T=C.containerWidth,I=C.containerHeight;if(T<0||I<0)return null;ga(Nl(o)||Nl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ga(!r||r>0,"The aspect(%s) must be greater than zero.",r);var O=Nl(o)?T:o,D=Nl(c)?I:c;r&&r>0&&(O?D=O/r:D&&(O=D*r),h&&D>h&&(D=h)),ga(O>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,D,o,c,d,f,r);var V=!Array.isArray(p)&&yi(p.type).endsWith("Chart");return M.Children.map(p,function(P){return M.isValidElement(P)?v.cloneElement(P,jg({width:O,height:D},V?{style:jg({height:"100%",width:"100%",maxHeight:D,maxWidth:O},P.props.style)}:{})):P})},[r,p,c,h,f,d,C,o]);return M.createElement("div",{id:b?"".concat(b):void 0,className:ft("recharts-responsive-container",y),style:jg(jg({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},R)}),Rb=function(t){return null};Rb.displayName="Cell";function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){Nwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nwe(e,t,r){return t=kwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kwe(e){var t=Cwe(e,"string");return fm(t)=="symbol"?t:t+""}function Cwe(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qc={widthCache:{},cacheCount:0},Pwe=2e3,Ewe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gT="recharts_measurement_span";function Awe(e){var t=xS({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var hh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nf.isSsr)return{width:0,height:0};var n=Awe(r),s=JSON.stringify({text:t,copyStyle:n});if(qc.widthCache[s])return qc.widthCache[s];try{var i=document.getElementById(gT);i||(i=document.createElement("span"),i.setAttribute("id",gT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=xS(xS({},Ewe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return qc.widthCache[s]=c,++qc.cacheCount>Pwe&&(qc.cacheCount=0,qc.widthCache={}),c}catch{return{width:0,height:0}}},Owe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function vy(e,t){return $we(e)||Rwe(e,t)||Iwe(e,t)||Twe()}function Twe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iwe(e,t){if(e){if(typeof e=="string")return vT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vT(e,t)}}function vT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function $we(e){if(Array.isArray(e))return e}function Mwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lwe(n.key),n)}}function Dwe(e,t,r){return t&&yT(e.prototype,t),r&&yT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lwe(e){var t=Fwe(e,"string");return hm(t)=="symbol"?t:t+""}function Fwe(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Uwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vwe=Object.keys(xU),hu="NaN";function qwe(e,t){return e*xU[t]}var Sg=function(){function e(t,r){Mwe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Bwe.test(r)&&(this.num=NaN,this.unit=""),Vwe.includes(r)&&(this.num=qwe(t,r),this.unit="px")}return Dwe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Uwe.exec(r))!==null&&n!==void 0?n:[],i=vy(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function bU(e){if(e.includes(hu))return hu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=xT.exec(t))!==null&&r!==void 0?r:[],s=vy(n,4),i=s[1],o=s[2],l=s[3],c=Sg.parse(i??""),u=Sg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return hu;t=t.replace(xT,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=bT.exec(t))!==null&&f!==void 0?f:[],p=vy(h,4),x=p[1],m=p[2],b=p[3],y=Sg.parse(x??""),g=Sg.parse(b??""),w=m==="+"?y.add(g):y.subtract(g);if(w.isNaN())return hu;t=t.replace(bT,w.toString())}return t}var wT=/\(([^()]*)\)/;function zwe(e){for(var t=e;t.includes("(");){var r=wT.exec(t),n=vy(r,2),s=n[1];t=t.replace(wT,bU(s))}return t}function Wwe(e){var t=e.replace(/\s+/g,"");return t=zwe(t),t=bU(t),t}function Hwe(e){try{return Wwe(e)}catch{return hu}}function Aw(e){var t=Hwe(e.slice(5,-1));return t===hu?"":t}var Kwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gwe=["dx","dy","angle","className","breakAll"];function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bS.apply(this,arguments)}function jT(e,t){if(e==null)return{};var r=Ywe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ywe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ST(e,t){return Jwe(e)||Zwe(e,t)||Xwe(e,t)||Qwe()}function Qwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xwe(e,t){if(e){if(typeof e=="string")return _T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(e,t)}}function _T(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Jwe(e){if(Array.isArray(e))return e}var wU=/[ \f\n\r\t\v\u2028\u2029]+/,jU=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];gt(r)||(n?i=r.toString().split(""):i=r.toString().split(wU));var o=i.map(function(c){return{word:c,width:hh(c,s).width}}),l=n?0:hh("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},eje=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=be(o),f=l,h=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce(function(D,V){var P=V.word,$=V.width,K=D[D.length-1];if(K&&(s==null||i||K.width+$+n<Number(s)))K.words.push(P),K.width+=$+n;else{var te={words:[P],width:$};D.push(te)}return D},[])},p=h(r),x=function(O){return O.reduce(function(D,V){return D.width>V.width?D:V})};if(!d)return p;for(var m="",b=function(O){var D=f.slice(0,O),V=jU({breakAll:u,style:c,children:D+m}).wordsWithComputedWidth,P=h(V),$=P.length>o||x(P).width>Number(s);return[$,P]},y=0,g=f.length-1,w=0,_;y<=g&&w<=f.length-1;){var j=Math.floor((y+g)/2),S=j-1,N=b(S),k=ST(N,2),C=k[0],E=k[1],A=b(j),R=ST(A,1),T=R[0];if(!C&&!T&&(y=j+1),C&&T&&(g=j-1),!C&&T){_=E;break}w++}return _||p},NT=function(t){var r=gt(t)?[]:t.toString().split(wU);return[{words:r}]},tje=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!nf.isSsr){var c,u,d=jU({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return NT(s);return eje({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return NT(s)},kT="#808080",cc=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,x=t.verticalAnchor,m=x===void 0?"end":x,b=t.fill,y=b===void 0?kT:b,g=jT(t,Kwe),w=v.useMemo(function(){return tje({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),_=g.dx,j=g.dy,S=g.angle,N=g.className,k=g.breakAll,C=jT(g,Gwe);if(!Hr(n)||!Hr(i))return null;var E=n+(be(_)?_:0),A=i+(be(j)?j:0),R;switch(m){case"start":R=Aw("calc(".concat(u,")"));break;case"middle":R=Aw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=Aw("calc(".concat(w.length-1," * -").concat(l,")"));break}var T=[];if(f){var I=w[0].width,O=g.width;T.push("scale(".concat((be(O)?O/I:1)/I,")"))}return S&&T.push("rotate(".concat(S,", ").concat(E,", ").concat(A,")")),T.length&&(C.transform=T.join(" ")),M.createElement("text",bS({},Qe(C,!0),{x:E,y:A,className:ft("recharts-text",N),textAnchor:p,fill:y.includes("url")?kT:y}),w.map(function(D,V){var P=D.words.join(k?"":" ");return M.createElement("tspan",{x:E,dy:V===0?R:l,key:"".concat(P,"-").concat(V)},P)}))};function Eo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function PC(e){let t,r,n;e.length!==2?(t=Eo,r=(l,c)=>Eo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Eo||e===rje?e:nje,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function nje(){return 0}function SU(e){return e===null?NaN:+e}function*sje(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const aje=PC(Eo),kp=aje.right;PC(SU).center;class CT extends Map{constructor(t,r=lje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(PT(this,t))}has(t){return super.has(PT(this,t))}set(t,r){return super.set(ije(this,t),r)}delete(t){return super.delete(oje(this,t))}}function PT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function ije({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function oje({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function lje(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cje(e=Eo){if(e===Eo)return _U;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function _U(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const uje=Math.sqrt(50),dje=Math.sqrt(10),fje=Math.sqrt(2);function yy(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=uje?10:i>=dje?5:i>=fje?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?yy(e,t,r*2):[l,c,u]}function wS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?yy(t,e,r):yy(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function jS(e,t,r){return t=+t,e=+e,r=+r,yy(e,t,r)[2]}function SS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?jS(t,e,r):jS(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function ET(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function AT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function NU(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?_U:cje(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),x=Math.min(n,Math.floor(t+(c-u)*f/c+h));NU(e,t,p,x,s)}const i=e[t];let o=r,l=n;for(Af(e,r,t),s(e[n],i)>0&&Af(e,r,n);o<l;){for(Af(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Af(e,r,l):(++l,Af(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Af(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function hje(e,t,r){if(e=Float64Array.from(sje(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return AT(e);if(t>=1)return ET(e);var n,s=(n-1)*t,i=Math.floor(s),o=ET(NU(e,i).subarray(0,i+1)),l=AT(e.subarray(i+1));return o+(l-o)*(s-i)}}function mje(e,t,r=SU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function pje(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Ks(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _S=Symbol("implicit");function EC(){var e=new CT,t=[],r=[],n=_S;function s(i){let o=e.get(i);if(o===void 0){if(n!==_S)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new CT;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return EC(t,r).unknown(n)},Ks.apply(s,arguments),s}function mm(){var e=EC().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,x=p?s:n,m=p?n:s;i=(m-x)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),x+=(m-x-i*(h-c))*d,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var b=pje(h).map(function(y){return x+i*y});return r(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return mm(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ks.apply(f(),arguments)}function kU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kU(t())},e}function mh(){return kU(mm.apply(null,arguments).paddingInner(1))}function AC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Cp(){}var pm=.7,xy=1/pm,Pu="\\s*([+-]?\\d+)\\s*",gm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gje=/^#([0-9a-f]{3,8})$/,vje=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),yje=new RegExp(`^rgb\\(${Fa},${Fa},${Fa}\\)$`),xje=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${gm}\\)$`),bje=new RegExp(`^rgba\\(${Fa},${Fa},${Fa},${gm}\\)$`),wje=new RegExp(`^hsl\\(${gm},${Fa},${Fa}\\)$`),jje=new RegExp(`^hsla\\(${gm},${Fa},${Fa},${gm}\\)$`),OT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AC(Cp,vm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TT,formatHex:TT,formatHex8:Sje,formatHsl:_je,formatRgb:IT,toString:IT});function TT(){return this.rgb().formatHex()}function Sje(){return this.rgb().formatHex8()}function _je(){return PU(this).formatHsl()}function IT(){return this.rgb().formatRgb()}function vm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gje.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?RT(t):r===3?new Yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_g(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_g(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vje.exec(e))?new Yn(t[1],t[2],t[3],1):(t=yje.exec(e))?new Yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xje.exec(e))?_g(t[1],t[2],t[3],t[4]):(t=bje.exec(e))?_g(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wje.exec(e))?DT(t[1],t[2]/100,t[3]/100,1):(t=jje.exec(e))?DT(t[1],t[2]/100,t[3]/100,t[4]):OT.hasOwnProperty(e)?RT(OT[e]):e==="transparent"?new Yn(NaN,NaN,NaN,0):null}function RT(e){return new Yn(e>>16&255,e>>8&255,e&255,1)}function _g(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yn(e,t,r,n)}function Nje(e){return e instanceof Cp||(e=vm(e)),e?(e=e.rgb(),new Yn(e.r,e.g,e.b,e.opacity)):new Yn}function NS(e,t,r,n){return arguments.length===1?Nje(e):new Yn(e,t,r,n??1)}function Yn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}AC(Yn,NS,CU(Cp,{brighter(e){return e=e==null?xy:Math.pow(xy,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pm:Math.pow(pm,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yn(zl(this.r),zl(this.g),zl(this.b),by(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$T,formatHex:$T,formatHex8:kje,formatRgb:MT,toString:MT}));function $T(){return`#${kl(this.r)}${kl(this.g)}${kl(this.b)}`}function kje(){return`#${kl(this.r)}${kl(this.g)}${kl(this.b)}${kl((isNaN(this.opacity)?1:this.opacity)*255)}`}function MT(){const e=by(this.opacity);return`${e===1?"rgb(":"rgba("}${zl(this.r)}, ${zl(this.g)}, ${zl(this.b)}${e===1?")":`, ${e})`}`}function by(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kl(e){return e=zl(e),(e<16?"0":"")+e.toString(16)}function DT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new da(e,t,r,n)}function PU(e){if(e instanceof da)return new da(e.h,e.s,e.l,e.opacity);if(e instanceof Cp||(e=vm(e)),!e)return new da;if(e instanceof da)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new da(o,l,c,e.opacity)}function Cje(e,t,r,n){return arguments.length===1?PU(e):new da(e,t,r,n??1)}function da(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}AC(da,Cje,CU(Cp,{brighter(e){return e=e==null?xy:Math.pow(xy,e),new da(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pm:Math.pow(pm,e),new da(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Yn(Ow(e>=240?e-240:e+120,s,n),Ow(e,s,n),Ow(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new da(LT(this.h),Ng(this.s),Ng(this.l),by(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=by(this.opacity);return`${e===1?"hsl(":"hsla("}${LT(this.h)}, ${Ng(this.s)*100}%, ${Ng(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LT(e){return e=(e||0)%360,e<0?e+360:e}function Ng(e){return Math.max(0,Math.min(1,e||0))}function Ow(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const OC=e=>()=>e;function Pje(e,t){return function(r){return e+r*t}}function Eje(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Aje(e){return(e=+e)==1?EU:function(t,r){return r-t?Eje(t,r,e):OC(isNaN(t)?r:t)}}function EU(e,t){var r=t-e;return r?Pje(e,r):OC(isNaN(e)?t:e)}const FT=function e(t){var r=Aje(t);function n(s,i){var o=r((s=NS(s)).r,(i=NS(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=EU(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Oje(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Tje(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ije(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=sf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Rje(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function wy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $je(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=sf(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var kS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tw=new RegExp(kS.source,"g");function Mje(e){return function(){return e}}function Dje(e){return function(t){return e(t)+""}}function Lje(e,t){var r=kS.lastIndex=Tw.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=kS.exec(e))&&(s=Tw.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:wy(n,s)})),r=Tw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Dje(c[0].x):Mje(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function sf(e,t){var r=typeof t,n;return t==null||r==="boolean"?OC(t):(r==="number"?wy:r==="string"?(n=vm(t))?(t=n,FT):Lje:t instanceof vm?FT:t instanceof Date?Rje:Tje(t)?Oje:Array.isArray(t)?Ije:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$je:wy)(e,t)}function TC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Fje(e,t){t===void 0&&(t=e,e=sf);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Bje(e){return function(){return e}}function jy(e){return+e}var BT=[0,1];function Dn(e){return e}function CS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Bje(isNaN(t)?NaN:.5)}function Uje(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Vje(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=CS(s,n),i=r(o,i)):(n=CS(n,s),i=r(i,o)),function(l){return i(n(l))}}function qje(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=CS(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=kp(e,l,1,n)-1;return i[c](s[c](l))}}function Pp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $b(){var e=BT,t=BT,r=sf,n,s,i,o=Dn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Dn&&(o=Uje(e[0],e[h-1])),l=h>2?qje:Vje,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),wy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,jy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=TC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Dn,d()):o!==Dn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function IC(){return $b()(Dn,Dn)}function zje(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function pd(e){return e=Sy(Math.abs(e)),e?e[1]:NaN}function Wje(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Hje(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Kje=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ym(e){if(!(t=Kje.exec(e)))throw new Error("invalid format: "+e);var t;return new RC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ym.prototype=RC.prototype;function RC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}RC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gje(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var AU;function Yje(e,t){var r=Sy(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(AU=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Sy(e,Math.max(0,t+i-1))[0]}function UT(e,t){var r=Sy(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const VT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zje,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UT(e*100,t),r:UT,s:Yje,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qT(e){return e}var zT=Array.prototype.map,WT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qje(e){var t=e.grouping===void 0||e.thousands===void 0?qT:Wje(zT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?qT:Hje(zT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=ym(f);var h=f.fill,p=f.align,x=f.sign,m=f.symbol,b=f.zero,y=f.width,g=f.comma,w=f.precision,_=f.trim,j=f.type;j==="n"?(g=!0,j="g"):VT[j]||(w===void 0&&(w=12),_=!0,j="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",N=m==="$"?n:/[%p]/.test(j)?o:"",k=VT[j],C=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(A){var R=S,T=N,I,O,D;if(j==="c")T=k(A)+T,A="";else{A=+A;var V=A<0||1/A<0;if(A=isNaN(A)?c:k(Math.abs(A),w),_&&(A=Gje(A)),V&&+A==0&&x!=="+"&&(V=!1),R=(V?x==="("?x:l:x==="-"||x==="("?"":x)+R,T=(j==="s"?WT[8+AU/3]:"")+T+(V&&x==="("?")":""),C){for(I=-1,O=A.length;++I<O;)if(D=A.charCodeAt(I),48>D||D>57){T=(D===46?s+A.slice(I+1):A.slice(I))+T,A=A.slice(0,I);break}}}g&&!b&&(A=t(A,1/0));var P=R.length+A.length+T.length,$=P<y?new Array(y-P+1).join(h):"";switch(g&&b&&(A=t($+A,$.length?y-T.length:1/0),$=""),p){case"<":A=R+A+T+$;break;case"=":A=R+$+A+T;break;case"^":A=$.slice(0,P=$.length>>1)+R+A+T+$.slice(P);break;default:A=$+R+A+T;break}return i(A)}return E.toString=function(){return f+""},E}function d(f,h){var p=u((f=ym(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(pd(h)/3)))*3,m=Math.pow(10,-x),b=WT[8+x/3];return function(y){return p(m*y)+b}}return{format:u,formatPrefix:d}}var kg,$C,OU;Xje({thousands:",",grouping:[3],currency:["$",""]});function Xje(e){return kg=Qje(e),$C=kg.format,OU=kg.formatPrefix,kg}function Zje(e){return Math.max(0,-pd(Math.abs(e)))}function Jje(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pd(t)/3)))*3-pd(Math.abs(e)))}function e1e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pd(t)-pd(e))+1}function TU(e,t,r,n){var s=SS(e,t,r),i;switch(n=ym(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Jje(s,o))&&(n.precision=i),OU(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=e1e(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Zje(s))&&(n.precision=i-(n.type==="%")*2);break}}return $C(n)}function Yo(e){var t=e.domain;return e.ticks=function(r){var n=t();return wS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return TU(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=jS(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function _y(){var e=IC();return e.copy=function(){return Pp(e,_y())},Ks.apply(e,arguments),Yo(e)}function IU(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,jy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return IU(e).unknown(t)},e=arguments.length?Array.from(e,jy):[0,1],Yo(r)}function RU(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function HT(e){return Math.log(e)}function KT(e){return Math.exp(e)}function t1e(e){return-Math.log(-e)}function r1e(e){return-Math.exp(-e)}function n1e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function s1e(e){return e===10?n1e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function a1e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GT(e){return(t,r)=>-e(-t,r)}function MC(e){const t=e(HT,KT),r=t.domain;let n=10,s,i;function o(){return s=a1e(n),i=s1e(n),r()[0]<0?(s=GT(s),i=GT(i),e(t1e,r1e)):e(HT,KT),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),x,m;const b=l==null?10:+l;let y=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(x=1;x<n;++x)if(m=h<0?x/i(-h):x*i(h),!(m<u)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(x=n-1;x>=1;--x)if(m=h>0?x/i(-h):x*i(h),!(m<u)){if(m>d)break;y.push(m)}y.length*2<b&&(y=wS(u,d,b))}else y=wS(h,p,Math.min(p-h,b)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ym(c)).precision==null&&(c.trim=!0),c=$C(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(RU(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function $U(){const e=MC($b()).domain([1,10]);return e.copy=()=>Pp(e,$U()).base(e.base()),Ks.apply(e,arguments),e}function YT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function DC(e){var t=1,r=e(YT(t),QT(t));return r.constant=function(n){return arguments.length?e(YT(t=+n),QT(t)):t},Yo(r)}function MU(){var e=DC($b());return e.copy=function(){return Pp(e,MU()).constant(e.constant())},Ks.apply(e,arguments)}function XT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function i1e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function o1e(e){return e<0?-e*e:e*e}function LC(e){var t=e(Dn,Dn),r=1;function n(){return r===1?e(Dn,Dn):r===.5?e(i1e,o1e):e(XT(r),XT(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Yo(t)}function FC(){var e=LC($b());return e.copy=function(){return Pp(e,FC()).exponent(e.exponent())},Ks.apply(e,arguments),e}function l1e(){return FC.apply(null,arguments).exponent(.5)}function ZT(e){return Math.sign(e)*e*e}function c1e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function DU(){var e=IC(),t=[0,1],r=!1,n;function s(i){var o=c1e(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(ZT(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,jy)).map(ZT)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return DU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ks.apply(s,arguments),Yo(s)}function LU(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=mje(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[kp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Eo),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return LU().domain(e).range(t).unknown(n)},Ks.apply(i,arguments)}function FU(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[kp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return FU().domain([e,t]).range(s).unknown(i)},Ks.apply(Yo(o),arguments)}function BU(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[kp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return BU().domain(e).range(t).unknown(r)},Ks.apply(s,arguments)}const Iw=new Date,Rw=new Date;function Xr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Xr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Iw.setTime(+i),Rw.setTime(+o),e(Iw),e(Rw),Math.floor(r(Iw,Rw))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Ny=Xr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ny.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ny);Ny.range;const mi=1e3,Ms=mi*60,pi=Ms*60,Oi=pi*24,BC=Oi*7,JT=Oi*30,$w=Oi*365,Cl=Xr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*mi)},(e,t)=>(t-e)/mi,e=>e.getUTCSeconds());Cl.range;const UC=Xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mi)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getMinutes());UC.range;const VC=Xr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getUTCMinutes());VC.range;const qC=Xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mi-e.getMinutes()*Ms)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getHours());qC.range;const zC=Xr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getUTCHours());zC.range;const Ep=Xr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ms)/Oi,e=>e.getDate()-1);Ep.range;const Mb=Xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oi,e=>e.getUTCDate()-1);Mb.range;const UU=Xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oi,e=>Math.floor(e/Oi));UU.range;function _c(e){return Xr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ms)/BC)}const Db=_c(0),ky=_c(1),u1e=_c(2),d1e=_c(3),gd=_c(4),f1e=_c(5),h1e=_c(6);Db.range;ky.range;u1e.range;d1e.range;gd.range;f1e.range;h1e.range;function Nc(e){return Xr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/BC)}const Lb=Nc(0),Cy=Nc(1),m1e=Nc(2),p1e=Nc(3),vd=Nc(4),g1e=Nc(5),v1e=Nc(6);Lb.range;Cy.range;m1e.range;p1e.range;vd.range;g1e.range;v1e.range;const WC=Xr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());WC.range;const HC=Xr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());HC.range;const Ti=Xr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ti.range;const Ii=Xr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ii.range;function VU(e,t,r,n,s,i){const o=[[Cl,1,mi],[Cl,5,5*mi],[Cl,15,15*mi],[Cl,30,30*mi],[i,1,Ms],[i,5,5*Ms],[i,15,15*Ms],[i,30,30*Ms],[s,1,pi],[s,3,3*pi],[s,6,6*pi],[s,12,12*pi],[n,1,Oi],[n,2,2*Oi],[r,1,BC],[t,1,JT],[t,3,3*JT],[e,1,$w]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),x=p?p.range(u,+d+1):[];return h?x.reverse():x}function c(u,d,f){const h=Math.abs(d-u)/f,p=PC(([,,b])=>b).right(o,h);if(p===o.length)return e.every(SS(u/$w,d/$w,f));if(p===0)return Ny.every(Math.max(SS(u,d,f),1));const[x,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return x.every(m)}return[l,c]}const[y1e,x1e]=VU(Ii,HC,Lb,UU,zC,VC),[b1e,w1e]=VU(Ti,WC,Db,Ep,qC,UC);function Mw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Of(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function j1e(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Tf(s),d=If(s),f=Tf(i),h=If(i),p=Tf(o),x=If(o),m=Tf(l),b=If(l),y=Tf(c),g=If(c),w={a:V,A:P,b:$,B:K,c:null,d:aI,e:aI,f:W1e,g:tSe,G:nSe,H:V1e,I:q1e,j:z1e,L:qU,m:H1e,M:K1e,p:te,q:B,Q:lI,s:cI,S:G1e,u:Y1e,U:Q1e,V:X1e,w:Z1e,W:J1e,x:null,X:null,y:eSe,Y:rSe,Z:sSe,"%":oI},_={a:G,A:re,b:ae,B:ke,c:null,d:iI,e:iI,f:lSe,g:ySe,G:bSe,H:aSe,I:iSe,j:oSe,L:WU,m:cSe,M:uSe,p:J,q:ie,Q:lI,s:cI,S:dSe,u:fSe,U:hSe,V:mSe,w:pSe,W:gSe,x:null,X:null,y:vSe,Y:xSe,Z:wSe,"%":oI},j={a:E,A,b:R,B:T,c:I,d:nI,e:nI,f:L1e,g:rI,G:tI,H:sI,I:sI,j:R1e,L:D1e,m:I1e,M:$1e,p:C,q:T1e,Q:B1e,s:U1e,S:M1e,u:C1e,U:P1e,V:E1e,w:k1e,W:A1e,x:O,X:D,y:rI,Y:tI,Z:O1e,"%":F1e};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(Y,Q){return function(se){var W=[],z=-1,oe=0,qe=Y.length,Ge,at,Yt;for(se instanceof Date||(se=new Date(+se));++z<qe;)Y.charCodeAt(z)===37&&(W.push(Y.slice(oe,z)),(at=eI[Ge=Y.charAt(++z)])!=null?Ge=Y.charAt(++z):at=Ge==="e"?" ":"0",(Yt=Q[Ge])&&(Ge=Yt(se,at)),W.push(Ge),oe=z+1);return W.push(Y.slice(oe,z)),W.join("")}}function N(Y,Q){return function(se){var W=Of(1900,void 0,1),z=k(W,Y,se+="",0),oe,qe;if(z!=se.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(Q&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(oe=Dw(Of(W.y,0,1)),qe=oe.getUTCDay(),oe=qe>4||qe===0?Cy.ceil(oe):Cy(oe),oe=Mb.offset(oe,(W.V-1)*7),W.y=oe.getUTCFullYear(),W.m=oe.getUTCMonth(),W.d=oe.getUTCDate()+(W.w+6)%7):(oe=Mw(Of(W.y,0,1)),qe=oe.getDay(),oe=qe>4||qe===0?ky.ceil(oe):ky(oe),oe=Ep.offset(oe,(W.V-1)*7),W.y=oe.getFullYear(),W.m=oe.getMonth(),W.d=oe.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),qe="Z"in W?Dw(Of(W.y,0,1)).getUTCDay():Mw(Of(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(qe+5)%7:W.w+W.U*7-(qe+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Dw(W)):Mw(W)}}function k(Y,Q,se,W){for(var z=0,oe=Q.length,qe=se.length,Ge,at;z<oe;){if(W>=qe)return-1;if(Ge=Q.charCodeAt(z++),Ge===37){if(Ge=Q.charAt(z++),at=j[Ge in eI?Q.charAt(z++):Ge],!at||(W=at(Y,se,W))<0)return-1}else if(Ge!=se.charCodeAt(W++))return-1}return W}function C(Y,Q,se){var W=u.exec(Q.slice(se));return W?(Y.p=d.get(W[0].toLowerCase()),se+W[0].length):-1}function E(Y,Q,se){var W=p.exec(Q.slice(se));return W?(Y.w=x.get(W[0].toLowerCase()),se+W[0].length):-1}function A(Y,Q,se){var W=f.exec(Q.slice(se));return W?(Y.w=h.get(W[0].toLowerCase()),se+W[0].length):-1}function R(Y,Q,se){var W=y.exec(Q.slice(se));return W?(Y.m=g.get(W[0].toLowerCase()),se+W[0].length):-1}function T(Y,Q,se){var W=m.exec(Q.slice(se));return W?(Y.m=b.get(W[0].toLowerCase()),se+W[0].length):-1}function I(Y,Q,se){return k(Y,t,Q,se)}function O(Y,Q,se){return k(Y,r,Q,se)}function D(Y,Q,se){return k(Y,n,Q,se)}function V(Y){return o[Y.getDay()]}function P(Y){return i[Y.getDay()]}function $(Y){return c[Y.getMonth()]}function K(Y){return l[Y.getMonth()]}function te(Y){return s[+(Y.getHours()>=12)]}function B(Y){return 1+~~(Y.getMonth()/3)}function G(Y){return o[Y.getUTCDay()]}function re(Y){return i[Y.getUTCDay()]}function ae(Y){return c[Y.getUTCMonth()]}function ke(Y){return l[Y.getUTCMonth()]}function J(Y){return s[+(Y.getUTCHours()>=12)]}function ie(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var Q=S(Y+="",w);return Q.toString=function(){return Y},Q},parse:function(Y){var Q=N(Y+="",!1);return Q.toString=function(){return Y},Q},utcFormat:function(Y){var Q=S(Y+="",_);return Q.toString=function(){return Y},Q},utcParse:function(Y){var Q=N(Y+="",!0);return Q.toString=function(){return Y},Q}}}var eI={"-":"",_:" ",0:"0"},on=/^\s*\d+/,S1e=/^%/,_1e=/[\\^$*+?|[\]().{}]/g;function Ct(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function N1e(e){return e.replace(_1e,"\\$&")}function Tf(e){return new RegExp("^(?:"+e.map(N1e).join("|")+")","i")}function If(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function k1e(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function C1e(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function P1e(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function E1e(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function A1e(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function tI(e,t,r){var n=on.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function rI(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function O1e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function T1e(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function I1e(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function nI(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function R1e(e,t,r){var n=on.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function sI(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $1e(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function M1e(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function D1e(e,t,r){var n=on.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function L1e(e,t,r){var n=on.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function F1e(e,t,r){var n=S1e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function B1e(e,t,r){var n=on.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function U1e(e,t,r){var n=on.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function aI(e,t){return Ct(e.getDate(),t,2)}function V1e(e,t){return Ct(e.getHours(),t,2)}function q1e(e,t){return Ct(e.getHours()%12||12,t,2)}function z1e(e,t){return Ct(1+Ep.count(Ti(e),e),t,3)}function qU(e,t){return Ct(e.getMilliseconds(),t,3)}function W1e(e,t){return qU(e,t)+"000"}function H1e(e,t){return Ct(e.getMonth()+1,t,2)}function K1e(e,t){return Ct(e.getMinutes(),t,2)}function G1e(e,t){return Ct(e.getSeconds(),t,2)}function Y1e(e){var t=e.getDay();return t===0?7:t}function Q1e(e,t){return Ct(Db.count(Ti(e)-1,e),t,2)}function zU(e){var t=e.getDay();return t>=4||t===0?gd(e):gd.ceil(e)}function X1e(e,t){return e=zU(e),Ct(gd.count(Ti(e),e)+(Ti(e).getDay()===4),t,2)}function Z1e(e){return e.getDay()}function J1e(e,t){return Ct(ky.count(Ti(e)-1,e),t,2)}function eSe(e,t){return Ct(e.getFullYear()%100,t,2)}function tSe(e,t){return e=zU(e),Ct(e.getFullYear()%100,t,2)}function rSe(e,t){return Ct(e.getFullYear()%1e4,t,4)}function nSe(e,t){var r=e.getDay();return e=r>=4||r===0?gd(e):gd.ceil(e),Ct(e.getFullYear()%1e4,t,4)}function sSe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ct(t/60|0,"0",2)+Ct(t%60,"0",2)}function iI(e,t){return Ct(e.getUTCDate(),t,2)}function aSe(e,t){return Ct(e.getUTCHours(),t,2)}function iSe(e,t){return Ct(e.getUTCHours()%12||12,t,2)}function oSe(e,t){return Ct(1+Mb.count(Ii(e),e),t,3)}function WU(e,t){return Ct(e.getUTCMilliseconds(),t,3)}function lSe(e,t){return WU(e,t)+"000"}function cSe(e,t){return Ct(e.getUTCMonth()+1,t,2)}function uSe(e,t){return Ct(e.getUTCMinutes(),t,2)}function dSe(e,t){return Ct(e.getUTCSeconds(),t,2)}function fSe(e){var t=e.getUTCDay();return t===0?7:t}function hSe(e,t){return Ct(Lb.count(Ii(e)-1,e),t,2)}function HU(e){var t=e.getUTCDay();return t>=4||t===0?vd(e):vd.ceil(e)}function mSe(e,t){return e=HU(e),Ct(vd.count(Ii(e),e)+(Ii(e).getUTCDay()===4),t,2)}function pSe(e){return e.getUTCDay()}function gSe(e,t){return Ct(Cy.count(Ii(e)-1,e),t,2)}function vSe(e,t){return Ct(e.getUTCFullYear()%100,t,2)}function ySe(e,t){return e=HU(e),Ct(e.getUTCFullYear()%100,t,2)}function xSe(e,t){return Ct(e.getUTCFullYear()%1e4,t,4)}function bSe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?vd(e):vd.ceil(e),Ct(e.getUTCFullYear()%1e4,t,4)}function wSe(){return"+0000"}function oI(){return"%"}function lI(e){return+e}function cI(e){return Math.floor(+e/1e3)}var zc,KU,GU;jSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jSe(e){return zc=j1e(e),KU=zc.format,zc.parse,GU=zc.utcFormat,zc.utcParse,zc}function SSe(e){return new Date(e)}function _Se(e){return e instanceof Date?+e:+new Date(+e)}function KC(e,t,r,n,s,i,o,l,c,u){var d=IC(),f=d.invert,h=d.domain,p=u(".%L"),x=u(":%S"),m=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),g=u("%b %d"),w=u("%B"),_=u("%Y");function j(S){return(c(S)<S?p:l(S)<S?x:o(S)<S?m:i(S)<S?b:n(S)<S?s(S)<S?y:g:r(S)<S?w:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,_Se)):h().map(SSe)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(RU(N,S)):d},d.copy=function(){return Pp(d,KC(e,t,r,n,s,i,o,l,c,u))},d}function NSe(){return Ks.apply(KC(b1e,w1e,Ti,WC,Db,Ep,qC,UC,Cl,KU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kSe(){return Ks.apply(KC(y1e,x1e,Ii,HC,Lb,Mb,zC,VC,Cl,GU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fb(){var e=0,t=1,r,n,s,i,o=Dn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,x;return arguments.length?([p,x]=h,o=f(p,x),u):[o(0),o(1)]}}return u.range=d(sf),u.rangeRound=d(TC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Qo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function YU(){var e=Yo(Fb()(Dn));return e.copy=function(){return Qo(e,YU())},Bi.apply(e,arguments)}function QU(){var e=MC(Fb()).domain([1,10]);return e.copy=function(){return Qo(e,QU()).base(e.base())},Bi.apply(e,arguments)}function XU(){var e=DC(Fb());return e.copy=function(){return Qo(e,XU()).constant(e.constant())},Bi.apply(e,arguments)}function GC(){var e=LC(Fb());return e.copy=function(){return Qo(e,GC()).exponent(e.exponent())},Bi.apply(e,arguments)}function CSe(){return GC.apply(null,arguments).exponent(.5)}function ZU(){var e=[],t=Dn;function r(n){if(n!=null&&!isNaN(n=+n))return t((kp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Eo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>hje(e,i/n))},r.copy=function(){return ZU(t).domain(e)},Bi.apply(r,arguments)}function Bb(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Dn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function x(m){return function(b){var y,g,w;return arguments.length?([y,g,w]=b,u=Fje(m,[y,g,w]),p):[u(0),u(.5),u(1)]}}return p.range=x(sf),p.rangeRound=x(TC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function JU(){var e=Yo(Bb()(Dn));return e.copy=function(){return Qo(e,JU())},Bi.apply(e,arguments)}function e8(){var e=MC(Bb()).domain([.1,1,10]);return e.copy=function(){return Qo(e,e8()).base(e.base())},Bi.apply(e,arguments)}function t8(){var e=DC(Bb());return e.copy=function(){return Qo(e,t8()).constant(e.constant())},Bi.apply(e,arguments)}function YC(){var e=LC(Bb());return e.copy=function(){return Qo(e,YC()).exponent(e.exponent())},Bi.apply(e,arguments)}function PSe(){return YC.apply(null,arguments).exponent(.5)}const uI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mm,scaleDiverging:JU,scaleDivergingLog:e8,scaleDivergingPow:YC,scaleDivergingSqrt:PSe,scaleDivergingSymlog:t8,scaleIdentity:IU,scaleImplicit:_S,scaleLinear:_y,scaleLog:$U,scaleOrdinal:EC,scalePoint:mh,scalePow:FC,scaleQuantile:LU,scaleQuantize:FU,scaleRadial:DU,scaleSequential:YU,scaleSequentialLog:QU,scaleSequentialPow:GC,scaleSequentialQuantile:ZU,scaleSequentialSqrt:CSe,scaleSequentialSymlog:XU,scaleSqrt:l1e,scaleSymlog:MU,scaleThreshold:BU,scaleTime:NSe,scaleUtc:kSe,tickFormat:TU},Symbol.toStringTag,{value:"Module"}));var ESe=Yd;function ASe(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!ESe(o):r(o,l)))var l=o,c=i}return c}var Ub=ASe;function OSe(e,t){return e>t}var r8=OSe,TSe=Ub,ISe=r8,RSe=rf;function $Se(e){return e&&e.length?TSe(e,RSe,ISe):void 0}var MSe=$Se;const Vb=It(MSe);function DSe(e,t){return e<t}var n8=DSe,LSe=Ub,FSe=n8,BSe=rf;function USe(e){return e&&e.length?LSe(e,BSe,FSe):void 0}var VSe=USe;const qb=It(VSe);var qSe=cC,zSe=Qa,WSe=dU,HSe=is;function KSe(e,t){var r=HSe(e)?qSe:WSe;return r(e,zSe(t))}var GSe=KSe,YSe=cU,QSe=GSe;function XSe(e,t){return YSe(QSe(e,t),1)}var ZSe=XSe;const JSe=It(ZSe);var e_e=_C;function t_e(e,t){return e_e(e,t)}var r_e=t_e;const zb=It(r_e);var af=1e9,n_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XC,tr=!0,Vs="[DecimalError] ",Wl=Vs+"Invalid argument: ",QC=Vs+"Exponent out of range: ",of=Math.floor,pl=Math.pow,s_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vs,Jr=1e7,Zt=7,s8=9007199254740991,Py=of(s8/Zt),Ie={};Ie.absoluteValue=Ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ie.comparedTo=Ie.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Zt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ie.dividedBy=Ie.div=function(e){return xi(this,new this.constructor(e))};Ie.dividedToIntegerBy=Ie.idiv=function(e){var t=this,r=t.constructor;return Vt(xi(t,new r(e),0,1),r.precision)};Ie.equals=Ie.eq=function(e){return!this.cmp(e)};Ie.exponent=function(){return Ir(this)};Ie.greaterThan=Ie.gt=function(e){return this.cmp(e)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(e){return this.cmp(e)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(e){return this.cmp(e)<0};Ie.lessThanOrEqualTo=Ie.lte=function(e){return this.cmp(e)<1};Ie.logarithm=Ie.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vs))throw Error(Vs+"NaN");if(r.s<1)throw Error(Vs+(r.s?"NaN":"-Infinity"));return r.eq(vs)?new n(0):(tr=!1,t=xi(xm(r,i),xm(e,i),i),tr=!0,Vt(t,s))};Ie.minus=Ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?o8(t,e):a8(t,(e.s=-e.s,e))};Ie.modulo=Ie.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Vs+"NaN");return r.s?(tr=!1,t=xi(r,e,0,1).times(e),tr=!0,r.minus(t)):Vt(new n(r),s)};Ie.naturalExponential=Ie.exp=function(){return i8(this)};Ie.naturalLogarithm=Ie.ln=function(){return xm(this)};Ie.negated=Ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ie.plus=Ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?a8(t,e):o8(t,(e.s=-e.s,e))};Ie.precision=Ie.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wl+e);if(t=Ir(s)+1,n=s.d.length-1,r=n*Zt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ie.squareRoot=Ie.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vs+"NaN")}for(e=Ir(l),tr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ra(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=of((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(xi(l,i,o+2)).times(.5),Ra(i.d).slice(0,o)===(t=Ra(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Vt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return tr=!0,Vt(n,r)};Ie.times=Ie.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%Jr|0,t=l/Jr|0;i[s]=(i[s]+t)%Jr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,tr?Vt(e,f.precision):e};Ie.toDecimalPlaces=Ie.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ha(e,0,af),t===void 0?t=n.rounding:Ha(t,0,8),Vt(r,e+Ir(r)+1,t))};Ie.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=uc(n,!0):(Ha(e,0,af),t===void 0?t=s.rounding:Ha(t,0,8),n=Vt(new s(n),e+1,t),r=uc(n,!0,e+1)),r};Ie.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?uc(s):(Ha(e,0,af),t===void 0?t=i.rounding:Ha(t,0,8),n=Vt(new i(s),e+Ir(s)+1,t),r=uc(n.abs(),!1,e+Ir(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ie.toInteger=Ie.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),Ir(e)+1,t.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(vs);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vs+"Infinity");return l}if(l.eq(vs))return l;if(n=c.precision,e.eq(vs))return Vt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=s8){for(s=new c(vs),t=Math.ceil(n/Zt+4),tr=!1;r%2&&(s=s.times(l),fI(s.d,t)),r=of(r/2),r!==0;)l=l.times(l),fI(l.d,t);return tr=!0,e.s<0?new c(vs).div(s):Vt(s,n)}}else if(i<0)throw Error(Vs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,tr=!1,s=e.times(xm(l,n+u)),tr=!0,s=i8(s),s.s=i,s};Ie.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Ir(s),n=uc(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ha(e,1,af),t===void 0?t=i.rounding:Ha(t,0,8),s=Vt(new i(s),e,t),r=Ir(s),n=uc(s,e<=r||r<=i.toExpNeg,e)),n};Ie.toSignificantDigits=Ie.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ha(e,1,af),t===void 0?t=n.rounding:Ha(t,0,8)),Vt(new n(r),e,t)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ir(e),r=e.constructor;return uc(e,t<=r.toExpNeg||t>=r.toExpPos)};function a8(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),tr?Vt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Zt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Jr|0,c[i]%=Jr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,tr?Vt(t,f):t}function Ha(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Wl+e)}function Ra(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Zt-n.length,r&&(i+=eo(r)),i+=n;o=e[t],n=o+"",r=Zt-n.length,r&&(i+=eo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var xi=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Jr|0,o=i/Jr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Jr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,p,x,m,b,y,g,w,_,j,S,N,k,C=n.constructor,E=n.s==s.s?1:-1,A=n.d,R=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(Vs+"Division by zero");for(c=n.e-s.e,N=R.length,j=A.length,p=new C(E),x=p.d=[],u=0;R[u]==(A[u]||0);)++u;if(R[u]>(A[u]||0)&&--c,i==null?g=i=C.precision:o?g=i+(Ir(n)-Ir(s))+1:g=i,g<0)return new C(0);if(g=g/Zt+2|0,u=0,N==1)for(d=0,R=R[0],g++;(u<j||d)&&g--;u++)w=d*Jr+(A[u]||0),x[u]=w/R|0,d=w%R|0;else{for(d=Jr/(R[0]+1)|0,d>1&&(R=e(R,d),A=e(A,d),N=R.length,j=A.length),_=N,m=A.slice(0,N),b=m.length;b<N;)m[b++]=0;k=R.slice(),k.unshift(0),S=R[0],R[1]>=Jr/2&&++S;do d=0,l=t(R,m,N,b),l<0?(y=m[0],N!=b&&(y=y*Jr+(m[1]||0)),d=y/S|0,d>1?(d>=Jr&&(d=Jr-1),f=e(R,d),h=f.length,b=m.length,l=t(f,m,h,b),l==1&&(d--,r(f,N<h?k:R,h))):(d==0&&(l=d=1),f=R.slice()),h=f.length,h<b&&f.unshift(0),r(m,f,b),l==-1&&(b=m.length,l=t(R,m,N,b),l<1&&(d++,r(m,N<b?k:R,b))),b=m.length):l===0&&(d++,m=[0]),x[u++]=d,l&&m[0]?m[b++]=A[_]||0:(m=[A[_]],b=1);while((_++<j||m[0]!==void 0)&&g--)}return x[0]||x.shift(),p.e=c,Vt(p,o?i+Ir(p)+1:i)}}();function i8(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ir(e)>16)throw Error(QC+Ir(e));if(!e.s)return new d(vs);for(tr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(pl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(vs),d.precision=l;;){if(s=Vt(s.times(e),l),r=r.times(++c),o=i.plus(xi(s,r,l)),Ra(o.d).slice(0,l)===Ra(i.d).slice(0,l)){for(;u--;)i=Vt(i.times(i),l);return d.precision=f,t==null?(tr=!0,Vt(i,f)):i}i=o}}function Ir(e){for(var t=e.e*Zt,r=e.d[0];r>=10;r/=10)t++;return t}function Lw(e,t,r){if(t>e.LN10.sd())throw tr=!0,r&&(e.precision=r),Error(Vs+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function eo(e){for(var t="";e--;)t+="0";return t}function xm(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,p=e,x=p.d,m=p.constructor,b=m.precision;if(p.s<1)throw Error(Vs+(p.s?"NaN":"-Infinity"));if(p.eq(vs))return new m(0);if(t==null?(tr=!1,u=b):u=t,p.eq(10))return t==null&&(tr=!0),Lw(m,u);if(u+=h,m.precision=u,r=Ra(x),n=r.charAt(0),i=Ir(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ra(p.d),n=r.charAt(0),f++;i=Ir(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Lw(m,u+2,b).times(i+""),p=xm(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=b,t==null?(tr=!0,Vt(p,b)):p;for(l=o=p=xi(p.minus(vs),p.plus(vs),u),d=Vt(p.times(p),u),s=3;;){if(o=Vt(o.times(d),u),c=l.plus(xi(o,new m(s),u)),Ra(c.d).slice(0,u)===Ra(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Lw(m,u+2,b).times(i+""))),l=xi(l,new m(f),u),m.precision=b,t==null?(tr=!0,Vt(l,b)):l;l=c,s+=2}}function dI(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=of(r/Zt),e.d=[],n=(r+1)%Zt,r<0&&(n+=Zt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Zt;n<s;)e.d.push(+t.slice(n,n+=Zt));t=t.slice(n),n=Zt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),tr&&(e.e>Py||e.e<-Py))throw Error(QC+r)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Zt,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Zt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Zt,s=n-Zt+o}if(r!==void 0&&(i=pl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/pl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ir(e),f.length=1,t=t-i-1,f[0]=pl(10,(Zt-t%Zt)%Zt),e.e=of(-t/Zt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=pl(10,Zt-n),f[d]=s>0?(u/pl(10,o-s)%pl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Jr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Jr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(tr&&(e.e>Py||e.e<-Py))throw Error(QC+Ir(e));return e}function o8(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),tr?Vt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/Zt),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Jr-1;--c[i],c[s]+=Jr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,tr?Vt(t,p):t):new h(0)}function uc(e,t,r){var n,s=Ir(e),i=Ra(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+eo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+eo(-s-1)+i,r&&(n=r-o)>0&&(i+=eo(n))):s>=o?(i+=eo(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+eo(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=eo(n))),e.s<0?"-"+i:i}function fI(e,t){if(e.length>t)return e.length=t,!0}function l8(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return dI(o,i.toString())}else if(typeof i!="string")throw Error(Wl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,s_e.test(i))dI(o,i);else throw Error(Wl+i)}if(s.prototype=Ie,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=l8,s.config=s.set=a_e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function a_e(e){if(!e||typeof e!="object")throw Error(Vs+"Object expected");var t,r,n,s=["precision",1,af,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(of(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Wl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wl+r+": "+n);return this}var XC=l8(n_e);vs=new XC(1);const Ut=XC;function i_e(e){return u_e(e)||c_e(e)||l_e(e)||o_e()}function o_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_e(e,t){if(e){if(typeof e=="string")return PS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PS(e,t)}}function c_e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function u_e(e){if(Array.isArray(e))return PS(e)}function PS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d_e=function(t){return t},c8={},u8=function(t){return t===c8},hI=function(t){return function r(){return arguments.length===0||arguments.length===1&&u8(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},f_e=function e(t,r){return t===1?r:hI(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==c8}).length;return o>=t?r.apply(void 0,s):e(t-o,hI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return u8(f)?c.shift():f});return r.apply(void 0,i_e(d).concat(c))}))})},Wb=function(t){return f_e(t.length,t)},ES=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},h_e=Wb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),m_e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return d_e;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},AS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},d8=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function p_e(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function g_e(e,t,r){for(var n=new Ut(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var v_e=Wb(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),y_e=Wb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),x_e=Wb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Hb={rangeStep:g_e,getDigitCount:p_e,interpolateNumber:v_e,uninterpolateNumber:y_e,uninterpolateTruncation:x_e};function OS(e){return j_e(e)||w_e(e)||f8(e)||b_e()}function b_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w_e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function j_e(e){if(Array.isArray(e))return TS(e)}function bm(e,t){return N_e(e)||__e(e,t)||f8(e,t)||S_e()}function S_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f8(e,t){if(e){if(typeof e=="string")return TS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TS(e,t)}}function TS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function __e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function N_e(e){if(Array.isArray(e))return e}function h8(e){var t=bm(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function m8(e,t,r){if(e.lte(0))return new Ut(0);var n=Hb.getDigitCount(e.toNumber()),s=new Ut(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Ut(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Ut(Math.ceil(c))}function k_e(e,t,r){var n=1,s=new Ut(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Ut(10).pow(Hb.getDigitCount(e)-1),s=new Ut(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Ut(Math.floor(e)))}else e===0?s=new Ut(Math.floor((t-1)/2)):r||(s=new Ut(Math.floor(e)));var o=Math.floor((t-1)/2),l=m_e(h_e(function(c){return s.add(new Ut(c-o).mul(n)).toNumber()}),ES);return l(0,t)}function p8(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var i=m8(new Ut(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Ut(0):(o=new Ut(e).add(t).div(2),o=o.sub(new Ut(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ut(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?p8(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Ut(l).mul(i)),tickMax:o.add(new Ut(c).mul(i))})}function C_e(e){var t=bm(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=h8([r,n]),c=bm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(OS(ES(0,s-1).map(function(){return 1/0}))):[].concat(OS(ES(0,s-1).map(function(){return-1/0})),[d]);return r>n?AS(f):f}if(u===d)return k_e(u,s,i);var h=p8(u,d,o,i),p=h.step,x=h.tickMin,m=h.tickMax,b=Hb.rangeStep(x,m.add(new Ut(.1).mul(p)),p);return r>n?AS(b):b}function P_e(e,t){var r=bm(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=h8([n,s]),l=bm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=m8(new Ut(u).sub(c).div(d-1),i,0),h=[].concat(OS(Hb.rangeStep(new Ut(c),new Ut(u).sub(new Ut(.99).mul(f)),f)),[u]);return n>s?AS(h):h}var E_e=d8(C_e),A_e=d8(P_e),O_e="Invariant failed";function dc(e,t){throw new Error(O_e)}var T_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}function I_e(e,t){return D_e(e)||M_e(e,t)||$_e(e,t)||R_e()}function R_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_e(e,t){if(e){if(typeof e=="string")return mI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mI(e,t)}}function mI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function D_e(e){if(Array.isArray(e))return e}function L_e(e,t){if(e==null)return{};var r=F_e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y8(n.key),n)}}function V_e(e,t,r){return t&&U_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q_e(e,t,r){return t=Ay(t),z_e(e,g8()?Reflect.construct(t,r||[],Ay(e).constructor):t.apply(e,r))}function z_e(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W_e(e)}function W_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g8=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(e)}function H_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IS(e,t)}function IS(e,t){return IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},IS(e,t)}function v8(e,t,r){return t=y8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8(e){var t=K_e(e,"string");return yd(t)=="symbol"?t:t+""}function K_e(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kb=function(e){function t(){return B_e(this,t),q_e(this,t,arguments)}return H_e(t,e),V_e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=L_e(n,T_e),p=Qe(h,!1);this.props.direction==="x"&&d.type!=="number"&&dc();var x=c.map(function(m){var b=u(m,l),y=b.x,g=b.y,w=b.value,_=b.errorVal;if(!_)return null;var j=[],S,N;if(Array.isArray(_)){var k=I_e(_,2);S=k[0],N=k[1]}else S=N=_;if(i==="vertical"){var C=d.scale,E=g+s,A=E+o,R=E-o,T=C(w-S),I=C(w+N);j.push({x1:I,y1:A,x2:I,y2:R}),j.push({x1:T,y1:E,x2:I,y2:E}),j.push({x1:T,y1:A,x2:T,y2:R})}else if(i==="horizontal"){var O=f.scale,D=y+s,V=D-o,P=D+o,$=O(w-S),K=O(w+N);j.push({x1:V,y1:K,x2:P,y2:K}),j.push({x1:D,y1:$,x2:D,y2:K}),j.push({x1:V,y1:$,x2:P,y2:$})}return M.createElement(Dt,Ey({className:"recharts-errorBar",key:"bar-".concat(j.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),j.map(function(te){return M.createElement("line",Ey({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return M.createElement(Dt,{className:"recharts-errorBars"},x)}}])}(M.Component);v8(Kb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});v8(Kb,"displayName","ErrorBar");function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function pI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(r),!0).forEach(function(n){G_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G_e(e,t,r){return t=Y_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_e(e){var t=Q_e(e,"string");return wm(t)=="symbol"?t:t+""}function Q_e(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x8=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=us(r,ql);if(!o)return null;var l=ql.defaultProps,c=l!==void 0?al(al({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,x=p.sectors||p.data||[];return d.concat(x.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?al(al({},h),f.props):{},x=p.dataKey,m=p.name,b=p.legendType,y=p.hide;return{inactive:y,dataKey:x,type:c.iconType||b||"square",color:ZC(f),value:m||x,payload:p}}),al(al(al({},c),ql.getWithHeight(o,s)),{},{payload:u,item:o})};function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function gI(e){return eNe(e)||J_e(e)||Z_e(e)||X_e()}function X_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z_e(e,t){if(e){if(typeof e=="string")return RS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RS(e,t)}}function J_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eNe(e){if(Array.isArray(e))return RS(e)}function RS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){Eu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eu(e,t,r){return t=tNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tNe(e){var t=rNe(e,"string");return jm(t)=="symbol"?t:t+""}function rNe(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jn(e,t,r){return gt(e)||gt(t)?r:Hr(t)?ws(e,t,r):Je(t)?t(e):r}function ph(e,t,r,n){var s=JSe(e,function(l){return jn(l,t)});if(r==="number"){var i=s.filter(function(l){return be(l)||parseFloat(l)});return i.length?[qb(i),Vb(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!gt(l)}):s;return o.map(function(l){return Hr(l)||l instanceof Date?l:""})}var nNe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if($n(f-d)!==$n(h-f)){var x=[];if($n(h-f)===$n(c[1]-c[0])){p=h;var m=f+c[1]-c[0];x[0]=Math.min(m,(m+d)/2),x[1]=Math.max(m,(m+d)/2)}else{p=d;var b=h+c[1]-c[0];x[0]=Math.min(f,(b+f)/2),x[1]=Math.max(f,(b+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=x[0]&&t<=x[1]){o=s[u].index;break}}else{var g=Math.min(d,h),w=Math.max(d,h);if(t>(g+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},ZC=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},sNe=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var x=d[f[h]],m=x.items,b=x.cateAxisId,y=m.filter(function(N){return yi(N.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,w=g!==void 0?hr(hr({},g),y[0].props):y[0].props,_=w.barSize,j=w[b];o[j]||(o[j]=[]);var S=gt(_)?r:_;o[j].push({item:y[0],stackList:y.slice(1),barSize:gt(S)?void 0:Mn(S,n,0)})}}return o},aNe=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Mn(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,x=o.reduce(function(_,j){return _+j.barSize||0},0);x+=(c-1)*u,x>=s&&(x-=(c-1)*u,u=0),x>=s&&p>0&&(h=!0,p*=.9,x=c*p);var m=(s-x)/2>>0,b={offset:m-u,size:0};d=o.reduce(function(_,j){var S={item:j.item,position:{offset:b.offset+b.size+u,size:h?p:j.barSize}},N=[].concat(gI(_),[S]);return b=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:b})}),N},f)}else{var y=Mn(n,s,0,!0);s-2*y-(c-1)*u<=0&&(u=0);var g=(s-2*y-(c-1)*u)/c;g>1&&(g>>=0);var w=l===+l?Math.min(g,l):g;d=o.reduce(function(_,j,S){var N=[].concat(gI(_),[{item:j.item,position:{offset:y+(g+u)*S+(g-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},iNe=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=x8({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,x=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&x==="middle")&&p!=="center"&&be(t[p]))return hr(hr({},t),{},Eu({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&x!=="middle"&&be(t[x]))return hr(hr({},t),{},Eu({},x,t[x]+(h||0)))}return t},oNe=function(t,r,n){return gt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},b8=function(t,r,n,s,i){var o=r.props.children,l=Fs(o,Kb).filter(function(u){return oNe(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=jn(d,n);if(gt(f))return u;var h=Array.isArray(f)?[qb(f),Vb(f)]:[f,f],p=c.reduce(function(x,m){var b=jn(d,m,0),y=h[0]-Math.abs(Array.isArray(b)?b[0]:b),g=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(y,x[0]),Math.max(g,x[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},lNe=function(t,r,n,s,i){var o=r.map(function(l){return b8(t,l,n,i,s)}).filter(function(l){return!gt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},w8=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&b8(t,c,u,s)||ph(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},j8=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},S8=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},gi=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?$n(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Sp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},Fw=new WeakMap,Cg=function(t,r){if(typeof r!="function")return t;Fw.has(t)||Fw.set(t,new WeakMap);var n=Fw.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},_8=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:mm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:_y(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:mh(),realScaleType:"point"}:i==="category"?{scale:mm(),realScaleType:"band"}:{scale:_y(),realScaleType:"linear"};if(oc(s)){var c="scale".concat(Cb(s));return{scale:(uI[c]||mh)(),realScaleType:uI[c]?c:"point"}}return Je(s)?{scale:s}:{scale:mh(),realScaleType:"point"}},yI=1e-4,N8=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-yI,o=Math.max(s[0],s[1])+yI,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},cNe=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},uNe=function(t,r){if(!r||r.length!==2||!be(r[0])||!be(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!be(t[0])||t[0]<n)&&(i[0]=n),(!be(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},dNe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Sp(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},fNe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Sp(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},hNe={sign:dNe,expand:The,none:ud,silhouette:Ihe,wiggle:Rhe,positive:fNe},mNe=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=hNe[n],o=Ohe().keys(s).value(function(l,c){return+jn(l,c,0)}).order(aS).offset(i);return o(t)},pNe=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,x=(p=h.type)!==null&&p!==void 0&&p.defaultProps?hr(hr({},h.type.defaultProps),h.props):h.props,m=x.stackId,b=x.hide;if(b)return f;var y=x[n],g=f[y]||{hasStack:!1,stackGroups:{}};if(Hr(m)){var w=g.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),g.hasStack=!0,g.stackGroups[m]=w}else g.stackGroups[_p("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return hr(hr({},f),{},Eu({},y,g))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var x={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,b){var y=p.stackGroups[b];return hr(hr({},m),{},Eu({},b,{numericAxisId:n,cateAxisId:s,items:y.items,stackedData:mNe(t,y.items,i)}))},x)}return hr(hr({},f),{},Eu({},h,p))},d)},k8=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=E_e(u,i,l);return t.domain([qb(d),Vb(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=A_e(f,i,l);return{niceTicks:h}}return null},xI=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=jn(o,r.dataKey,r.domain[l]);return gt(c)?null:r.scale(c)-i/2+s},gNe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},vNe=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Hr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},yNe=function(t){return t.reduce(function(r,n){return[qb(n.concat([r[0]]).filter(be)),Vb(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},C8=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=yNe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},bI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$S=function(t,r,n){if(Je(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(be(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(bI.test(t[0])){var i=+bI.exec(t[0])[1];s[0]=r[0]-i}else Je(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(be(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(wI.test(t[1])){var o=+wI.exec(t[1])[1];s[1]=r[1]+o}else Je(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Oy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=kC(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},jI=function(t,r,n){return!t||!t.length||zb(t,ws(n,"type.defaultProps.domain"))?r:t},P8=function(t,r){var n=t.type.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return hr(hr({},Qe(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:ZC(t),value:jn(r,s),type:c,payload:r,chartType:u,hide:d})};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(n){E8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E8(e,t,r){return t=xNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xNe(e){var t=bNe(e,"string");return Sm(t)=="symbol"?t:t+""}function bNe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wNe(e,t){return NNe(e)||_Ne(e,t)||SNe(e,t)||jNe()}function jNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SNe(e,t){if(e){if(typeof e=="string")return _I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _I(e,t)}}function _I(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Ne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function NNe(e){if(Array.isArray(e))return e}var Ty=Math.PI/180,kNe=function(t){return t*180/Math.PI},Gt=function(t,r,n,s){return{x:t+Math.cos(-Ty*s)*n,y:r+Math.sin(-Ty*s)*n}},A8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},CNe=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Mn(t.cx,o,o/2),f=Mn(t.cy,l,l/2),h=A8(o,l,n),p=Mn(t.innerRadius,h,0),x=Mn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(b,y){var g=r[y],w=g.domain,_=g.reversed,j;if(gt(g.range))s==="angleAxis"?j=[c,u]:s==="radiusAxis"&&(j=[p,x]),_&&(j=[j[1],j[0]]);else{j=g.range;var S=j,N=wNe(S,2);c=N[0],u=N[1]}var k=_8(g,i),C=k.realScaleType,E=k.scale;E.domain(w).range(j),N8(E);var A=k8(E,ai(ai({},g),{},{realScaleType:C})),R=ai(ai(ai({},g),A),{},{range:j,radius:x,realScaleType:C,scale:E,cx:d,cy:f,innerRadius:p,outerRadius:x,startAngle:c,endAngle:u});return ai(ai({},b),{},E8({},y,R))},{})},PNe=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},ENe=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=PNe({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:kNe(u),angleInRadian:u}},ANe=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},ONe=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},NI=function(t,r){var n=t.x,s=t.y,i=ENe({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=ANe(r),f=d.startAngle,h=d.endAngle,p=l,x;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;x=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;x=p>=h&&p<=f}return x?ai(ai({},r),{},{radius:o,angle:ONe(p,r)}):null},O8=function(t){return!v.isValidElement(t)&&!Je(t)&&typeof t!="boolean"?t.className:""};function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}var TNe=["offset"];function INe(e){return DNe(e)||MNe(e)||$Ne(e)||RNe()}function RNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ne(e,t){if(e){if(typeof e=="string")return MS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MS(e,t)}}function MNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DNe(e){if(Array.isArray(e))return MS(e)}function MS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LNe(e,t){if(e==null)return{};var r=FNe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){BNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BNe(e,t,r){return t=UNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UNe(e){var t=VNe(e,"string");return _m(t)=="symbol"?t:t+""}function VNe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nm.apply(this,arguments)}var qNe=function(t){var r=t.value,n=t.formatter,s=gt(t.children)?r:t.children;return Je(n)?n(s):s},zNe=function(t,r){var n=$n(r-t),s=Math.min(Math.abs(r-t),360);return n*s},WNe=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,x=c.endAngle,m=c.clockWise,b=(f+h)/2,y=zNe(p,x),g=y>=0?1:-1,w,_;s==="insideStart"?(w=p+g*o,_=m):s==="insideEnd"?(w=x-g*o,_=!m):s==="end"&&(w=x+g*o,_=m),_=y<=0?_:!_;var j=Gt(u,d,b,w),S=Gt(u,d,b,w+(_?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),k=gt(t.id)?_p("recharts-radial-line-"):t.id;return M.createElement("text",Nm({},n,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:k,d:N})),M.createElement("textPath",{xlinkHref:"#".concat(k)},r))},HNe=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var p=Gt(o,l,u+n,h),x=p.x,m=p.y;return{x,y:m,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,y=Gt(o,l,b,h),g=y.x,w=y.y;return{x:g,y:w,textAnchor:"middle",verticalAnchor:"middle"}},KNe=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",x=f>0?"start":"end",m=u>=0?1:-1,b=m*s,y=m>0?"end":"start",g=m>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return Br(Br({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:x};return Br(Br({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-b,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Br(Br({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+b,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return Br(Br({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?Br({x:l+b,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},N):i==="insideRight"?Br({x:l+u-b,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideTop"?Br({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},N):i==="insideBottom"?Br({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?Br({x:l+b,y:c+h,textAnchor:g,verticalAnchor:x},N):i==="insideTopRight"?Br({x:l+u-b,y:c+h,textAnchor:y,verticalAnchor:x},N):i==="insideBottomLeft"?Br({x:l+b,y:c+d-h,textAnchor:g,verticalAnchor:p},N):i==="insideBottomRight"?Br({x:l+u-b,y:c+d-h,textAnchor:y,verticalAnchor:p},N):Qd(i)&&(be(i.x)||Nl(i.x))&&(be(i.y)||Nl(i.y))?Br({x:l+Mn(i.x,u),y:c+Mn(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Br({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},GNe=function(t){return"cx"in t&&be(t.cx)};function tn(e){var t=e.offset,r=t===void 0?5:t,n=LNe(e,TNe),s=Br({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||gt(l)&&gt(c)&&!v.isValidElement(u)&&!Je(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var p;if(Je(u)){if(p=v.createElement(u,s),v.isValidElement(p))return p}else p=qNe(s);var x=GNe(i),m=Qe(s,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return WNe(s,p,m);var b=x?HNe(s):KNe(s);return M.createElement(cc,Nm({className:ft("recharts-label",f)},m,b,{breakAll:h}),p)}tn.displayName="Label";var T8=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,x=t.left,m=t.width,b=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(be(m)&&be(b)){if(be(f)&&be(h))return{x:f,y:h,width:m,height:b};if(be(p)&&be(x))return{x:p,y:x,width:m,height:b}}return be(f)&&be(h)?{x:f,y:h,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},YNe=function(t,r){return t?t===!0?M.createElement(tn,{key:"label-implicit",viewBox:r}):Hr(t)?M.createElement(tn,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===tn?v.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(tn,{key:"label-implicit",content:t,viewBox:r}):Je(t)?M.createElement(tn,{key:"label-implicit",content:t,viewBox:r}):Qd(t)?M.createElement(tn,Nm({viewBox:r},t,{key:"label-implicit"})):null:null},QNe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=T8(t),o=Fs(s,tn).map(function(c,u){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=YNe(t.label,r||i);return[l].concat(INe(o))};tn.parseViewBox=T8;tn.renderCallByParent=QNe;function XNe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ZNe=XNe;const JNe=It(ZNe);function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}var eke=["valueAccessor"],tke=["data","dataKey","clockWise","id","textBreakAll"];function rke(e){return ike(e)||ake(e)||ske(e)||nke()}function nke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ske(e,t){if(e){if(typeof e=="string")return DS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DS(e,t)}}function ake(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ike(e){if(Array.isArray(e))return DS(e)}function DS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(this,arguments)}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function PI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(n){oke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oke(e,t,r){return t=lke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lke(e){var t=cke(e,"string");return km(t)=="symbol"?t:t+""}function cke(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EI(e,t){if(e==null)return{};var r=uke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dke=function(t){return Array.isArray(t.value)?JNe(t.value):t.value};function Ao(e){var t=e.valueAccessor,r=t===void 0?dke:t,n=EI(e,eke),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=EI(n,tke);return!s||!s.length?null:M.createElement(Dt,{className:"recharts-label-list"},s.map(function(d,f){var h=gt(i)?r(d,f):jn(d&&d.payload,i),p=gt(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(tn,Iy({},Qe(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:tn.parseViewBox(gt(o)?d:PI(PI({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ao.displayName="LabelList";function fke(e,t){return e?e===!0?M.createElement(Ao,{key:"labelList-implicit",data:t}):M.isValidElement(e)||Je(e)?M.createElement(Ao,{key:"labelList-implicit",data:t,content:e}):Qd(e)?M.createElement(Ao,Iy({data:t},e,{key:"labelList-implicit"})):null:null}function hke(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Fs(n,Ao).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=fke(e.label,t);return[i].concat(rke(s))}Ao.renderCallByParent=hke;function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function LS(){return LS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LS.apply(this,arguments)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function OI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){mke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mke(e,t,r){return t=pke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pke(e){var t=gke(e,"string");return Cm(t)=="symbol"?t:t+""}function gke(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vke=function(t,r){var n=$n(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Pg=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Ty,h=u?i:i+o*f,p=Gt(r,n,d,h),x=Gt(r,n,s,h),m=u?i-o*f:i,b=Gt(r,n,d*Math.cos(f*Ty),m);return{center:p,circleTangency:x,lineTangency:b,theta:f}},I8=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=vke(o,l),u=o+c,d=Gt(r,n,i,o),f=Gt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=Gt(r,n,s,o),x=Gt(r,n,s,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},yke=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=$n(d-u),h=Pg({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,x=h.lineTangency,m=h.theta,b=Pg({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=b.circleTangency,g=b.lineTangency,w=b.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(_<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):I8({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(s>0){var S=Pg({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,k=S.lineTangency,C=S.theta,E=Pg({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=E.circleTangency,R=E.lineTangency,T=E.theta,I=c?Math.abs(u-d):Math.abs(u-d)-C-T;if(I<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},xke={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},R8=function(t){var r=OI(OI({},xke),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=ft("recharts-sector",h),x=o-i,m=Mn(l,x,0,!0),b;return m>0&&Math.abs(d-f)<360?b=yke({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):b=I8({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),M.createElement("path",LS({},Qe(r,!0),{className:p,d:b,role:"img"}))};function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function FS(){return FS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FS.apply(this,arguments)}function TI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function II(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(r),!0).forEach(function(n){bke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bke(e,t,r){return t=wke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wke(e){var t=jke(e,"string");return Pm(t)=="symbol"?t:t+""}function jke(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RI={curveBasisClosed:bhe,curveBasisOpen:whe,curveBasis:xhe,curveBumpX:ahe,curveBumpY:ihe,curveLinearClosed:jhe,curveLinear:Eb,curveMonotoneX:She,curveMonotoneY:_he,curveNatural:Nhe,curveStep:khe,curveStepAfter:Phe,curveStepBefore:Che},Eg=function(t){return t.x===+t.x&&t.y===+t.y},Rf=function(t){return t.x},$f=function(t){return t.y},Ske=function(t,r){if(Je(t))return t;var n="curve".concat(Cb(t));return(n==="curveMonotone"||n==="curveBump")&&r?RI["".concat(n).concat(r==="vertical"?"Y":"X")]:RI[n]||Eb},_ke=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Ske(n,l),f=u?i.filter(function(m){return Eg(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Eg(m)}):o,x=f.map(function(m,b){return II(II({},m),{},{base:p[b]})});return l==="vertical"?h=xg().y($f).x1(Rf).x0(function(m){return m.base.x}):h=xg().x(Rf).y1($f).y0(function(m){return m.base.y}),h.defined(Eg).curve(d),h(x)}return l==="vertical"&&be(o)?h=xg().y($f).x1(Rf).x0(o):be(o)?h=xg().x(Rf).y1($f).y0(o):h=PB().x(Rf).y($f),h.defined(Eg).curve(d),h(f)},BS=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?_ke(t):s;return v.createElement("path",FS({},Qe(t,!1),sy(t),{className:ft("recharts-curve",r),d:o,ref:i}))},$8={exports:{}},Nke="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kke=Nke,Cke=kke;function M8(){}function D8(){}D8.resetWarningCache=M8;var Pke=function(){function e(n,s,i,o,l,c){if(c!==Cke){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:D8,resetWarningCache:M8};return r.PropTypes=r,r};$8.exports=Pke();var Eke=$8.exports;const At=It(Eke),{getOwnPropertyNames:Ake,getOwnPropertySymbols:Oke}=Object,{hasOwnProperty:Tke}=Object.prototype;function Bw(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Ag(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function Ike(e){return e!=null?e[Symbol.toStringTag]:void 0}function $I(e){return Ake(e).concat(Oke(e))}const Rke=Object.hasOwn||((e,t)=>Tke.call(e,t));function kc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const $ke="__v",Mke="__o",Dke="_owner",{getOwnPropertyDescriptor:MI,keys:DI}=Object;function Lke(e,t){return e.byteLength===t.byteLength&&Ry(new Uint8Array(e),new Uint8Array(t))}function Fke(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Bke(e,t){return e.byteLength===t.byteLength&&Ry(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Uke(e,t){return kc(e.getTime(),t.getTime())}function Vke(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function qke(e,t){return e===t}function LI(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const zke=kc;function Wke(e,t,r){const n=DI(e);let s=n.length;if(DI(t).length!==s)return!1;for(;s-- >0;)if(!L8(e,t,r,n[s]))return!1;return!0}function Mf(e,t,r){const n=$I(e);let s=n.length;if($I(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!L8(e,t,r,i)||(o=MI(e,i),l=MI(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Hke(e,t){return kc(e.valueOf(),t.valueOf())}function Kke(e,t){return e.source===t.source&&e.flags===t.flags}function FI(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Ry(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Gke(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function L8(e,t,r,n){return(n===Dke||n===Mke||n===$ke)&&(e.$$typeof||t.$$typeof)?!0:Rke(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Yke="[object ArrayBuffer]",Qke="[object Arguments]",Xke="[object Boolean]",Zke="[object DataView]",Jke="[object Date]",eCe="[object Error]",tCe="[object Map]",rCe="[object Number]",nCe="[object Object]",sCe="[object RegExp]",aCe="[object Set]",iCe="[object String]",oCe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},lCe="[object URL]",cCe=Object.prototype.toString;function uCe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:x}){return function(b,y,g){if(b===y)return!0;if(b==null||y==null)return!1;const w=typeof b;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?l(b,y,g):w==="function"?i(b,y,g):!1;const _=b.constructor;if(_!==y.constructor)return!1;if(_===Object)return c(b,y,g);if(Array.isArray(b))return t(b,y,g);if(_===Date)return n(b,y,g);if(_===RegExp)return d(b,y,g);if(_===Map)return o(b,y,g);if(_===Set)return f(b,y,g);const j=cCe.call(b);if(j===Jke)return n(b,y,g);if(j===sCe)return d(b,y,g);if(j===tCe)return o(b,y,g);if(j===aCe)return f(b,y,g);if(j===nCe)return typeof b.then!="function"&&typeof y.then!="function"&&c(b,y,g);if(j===lCe)return p(b,y,g);if(j===eCe)return s(b,y,g);if(j===Qke)return c(b,y,g);if(oCe[j])return h(b,y,g);if(j===Yke)return e(b,y,g);if(j===Zke)return r(b,y,g);if(j===Xke||j===rCe||j===iCe)return u(b,y,g);if(x){let S=x[j];if(!S){const N=Ike(b);N&&(S=x[N])}if(S)return S(b,y,g)}return!1}}function dCe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:Lke,areArraysEqual:r?Mf:Fke,areDataViewsEqual:Bke,areDatesEqual:Uke,areErrorsEqual:Vke,areFunctionsEqual:qke,areMapsEqual:r?Bw(LI,Mf):LI,areNumbersEqual:zke,areObjectsEqual:r?Mf:Wke,arePrimitiveWrappersEqual:Hke,areRegExpsEqual:Kke,areSetsEqual:r?Bw(FI,Mf):FI,areTypedArraysEqual:r?Bw(Ry,Mf):Ry,areUrlsEqual:Gke,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=Ag(n.areArraysEqual),i=Ag(n.areMapsEqual),o=Ag(n.areObjectsEqual),l=Ag(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function fCe(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function hCe({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const mCe=Xo();Xo({strict:!0});Xo({circular:!0});Xo({circular:!0,strict:!0});Xo({createInternalComparator:()=>kc});Xo({strict:!0,createInternalComparator:()=>kc});Xo({circular:!0,createInternalComparator:()=>kc});Xo({circular:!0,createInternalComparator:()=>kc,strict:!0});function Xo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=dCe(e),o=uCe(i),l=r?r(o):fCe(o);return hCe({circular:t,comparator:o,createState:n,equals:l,strict:s})}function pCe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function BI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):pCe(s)};requestAnimationFrame(n)}function US(e){"@babel/helpers - typeof";return US=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},US(e)}function gCe(e){return bCe(e)||xCe(e)||yCe(e)||vCe()}function vCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yCe(e,t){if(e){if(typeof e=="string")return UI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UI(e,t)}}function UI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bCe(e){if(Array.isArray(e))return e}function wCe(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=gCe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){BI(s.bind(null,u),c);return}s(c),BI(s.bind(null,u));return}US(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){F8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F8(e,t,r){return t=jCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jCe(e){var t=SCe(e,"string");return Em(t)==="symbol"?t:String(t)}function SCe(e,t){if(Em(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Ce=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},NCe=function(t){return t},kCe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gh=function(t,r){return Object.keys(r).reduce(function(n,s){return qI(qI({},n),{},F8({},s,t(s,r[s])))},{})},zI=function(t,r,n){return t.map(function(s){return"".concat(kCe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function CCe(e,t){return ACe(e)||ECe(e,t)||B8(e,t)||PCe()}function PCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ECe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ACe(e){if(Array.isArray(e))return e}function OCe(e){return RCe(e)||ICe(e)||B8(e)||TCe()}function TCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8(e,t){if(e){if(typeof e=="string")return VS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VS(e,t)}}function ICe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RCe(e){if(Array.isArray(e))return VS(e)}function VS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $y=1e-4,U8=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},V8=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},WI=function(t,r){return function(n){var s=U8(t,r);return V8(s,n)}},$Ce=function(t,r){return function(n){var s=U8(t,r),i=[].concat(OCe(s.map(function(o,l){return o*l}).slice(1)),[0]);return V8(i,n)}},HI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=CCe(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=WI(s,o),h=WI(i,l),p=$Ce(s,o),x=function(y){return y>1?1:y<0?0:y},m=function(y){for(var g=y>1?1:y,w=g,_=0;_<8;++_){var j=f(w)-g,S=p(w);if(Math.abs(j-g)<$y||S<$y)return h(w);w=x(w-j/S)}return h(w)};return m.isStepper=!1,m},MCe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,x=h*i,m=h+(p-x)*l/1e3,b=h*l/1e3+d;return Math.abs(b-f)<$y&&Math.abs(m)<$y?[f,0]:[b,m]};return c.isStepper=!0,c.dt=l,c},DCe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HI(s);case"spring":return MCe();default:if(s.split("(")[0]==="cubic-bezier")return HI(s)}return typeof s=="function"?s:null};function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function KI(e){return BCe(e)||FCe(e)||q8(e)||LCe()}function LCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BCe(e){if(Array.isArray(e))return zS(e)}function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(n){qS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qS(e,t,r){return t=UCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UCe(e){var t=VCe(e,"string");return Am(t)==="symbol"?t:String(t)}function VCe(e,t){if(Am(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qCe(e,t){return HCe(e)||WCe(e,t)||q8(e,t)||zCe()}function zCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8(e,t){if(e){if(typeof e=="string")return zS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zS(e,t)}}function zS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function HCe(e){if(Array.isArray(e))return e}var My=function(t,r,n){return t+(r-t)*n},WS=function(t){var r=t.from,n=t.to;return r!==n},KCe=function e(t,r,n){var s=gh(function(i,o){if(WS(o)){var l=t(o.from,o.to,o.velocity),c=qCe(l,2),u=c[0],d=c[1];return un(un({},o),{},{from:u,velocity:d})}return o},r);return n<1?gh(function(i,o){return WS(o)?un(un({},o),{},{velocity:My(o.velocity,s[i].velocity,n),from:My(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const GCe=function(e,t,r,n,s){var i=_Ce(e,t),o=i.reduce(function(b,y){return un(un({},b),{},qS({},y,[e[y],t[y]]))},{}),l=i.reduce(function(b,y){return un(un({},b),{},qS({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return gh(function(y,g){return g.from},l)},p=function(){return!Object.values(l).filter(WS).length},x=function(y){u||(u=y);var g=y-u,w=g/r.dt;l=KCe(r,l,w),s(un(un(un({},e),t),h())),u=y,p()||(c=requestAnimationFrame(f))},m=function(y){d||(d=y);var g=(y-d)/n,w=gh(function(j,S){return My.apply(void 0,KI(S).concat([r(g)]))},o);if(s(un(un(un({},e),t),w)),g<1)c=requestAnimationFrame(f);else{var _=gh(function(j,S){return My.apply(void 0,KI(S).concat([r(1)]))},o);s(un(un(un({},e),t),_))}};return f=r.isStepper?x:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}var YCe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function QCe(e,t){if(e==null)return{};var r=XCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XCe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Uw(e){return tPe(e)||ePe(e)||JCe(e)||ZCe()}function ZCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JCe(e,t){if(e){if(typeof e=="string")return HS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HS(e,t)}}function ePe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tPe(e){if(Array.isArray(e))return HS(e)}function HS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(r),!0).forEach(function(n){Qf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qf(e,t,r){return t=z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z8(n.key),n)}}function sPe(e,t,r){return t&&nPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z8(e){var t=aPe(e,"string");return xd(t)==="symbol"?t:String(t)}function aPe(e,t){if(xd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KS(e,t)}function KS(e,t){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},KS(e,t)}function oPe(e){var t=lPe();return function(){var n=Dy(e),s;if(t){var i=Dy(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return GS(this,s)}}function GS(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YS(e)}function YS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(e)}var Ri=function(e){iPe(r,e);var t=oPe(r);function r(n,s){var i;rPe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(YS(i)),i.changeStyle=i.changeStyle.bind(YS(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),GS(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},GS(i);i.state={style:c?Qf({},c,u):u}}else i.state={style:{}};return i}return sPe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Qf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(mCe(s.to,d)&&s.canBegin&&s.isActive)){var x=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=x||u?f:s.to;if(this.state&&h){var b={style:c?Qf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(b)}this.runAnimation(Qs(Qs({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=GCe(o,l,DCe(u),c,this.changeStyle),x=function(){i.stopJSAnimation=p()};this.manager.start([h,d,x,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,b,y){if(y===0)return m;var g=b.duration,w=b.easing,_=w===void 0?"ease":w,j=b.style,S=b.properties,N=b.onAnimationEnd,k=y>0?o[y-1]:b,C=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(Uw(m),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:g,easing:_}),g]);var E=zI(C,g,_),A=Qs(Qs(Qs({},k.style),j),{},{transition:E});return[].concat(Uw(m),[A,g,N]).filter(NCe)};return this.manager.start([c].concat(Uw(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=wCe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?Qf({},l,c):c,b=zI(Object.keys(m),o,u);x.start([d,i,Qs(Qs({},m),{},{transition:b}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=QCe(s,YCe),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var x=p.props,m=x.style,b=m===void 0?{}:m,y=x.className,g=v.cloneElement(p,Qs(Qs({},c),{},{style:Qs(Qs({},b),d),className:y}));return g};return u===1?f(v.Children.only(i)):M.createElement("div",null,v.Children.map(i,function(h){return f(h)}))}}]),r}(v.PureComponent);Ri.displayName="Animate";Ri.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ri.propTypes={from:At.oneOfType([At.object,At.string]),to:At.oneOfType([At.object,At.string]),attributeName:At.string,duration:At.number,begin:At.number,easing:At.oneOfType([At.string,At.func]),steps:At.arrayOf(At.shape({duration:At.number.isRequired,style:At.object.isRequired,easing:At.oneOfType([At.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),At.func]),properties:At.arrayOf("string"),onAnimationEnd:At.func})),children:At.oneOfType([At.node,At.func]),isActive:At.bool,canBegin:At.bool,onAnimationEnd:At.func,shouldReAnimate:At.bool,onAnimationStart:At.func,onAnimationReStart:At.func};function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(this,arguments)}function cPe(e,t){return hPe(e)||fPe(e,t)||dPe(e,t)||uPe()}function uPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dPe(e,t){if(e){if(typeof e=="string")return QI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QI(e,t)}}function QI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function hPe(e){if(Array.isArray(e))return e}function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){mPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mPe(e,t,r){return t=pPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pPe(e){var t=gPe(e,"string");return Om(t)=="symbol"?t:t+""}function gPe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JI=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+s-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-c*x,",").concat(r+s,`
            L `).concat(t+c*x,",").concat(r+s,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},vPe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},yPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JC=function(t){var r=ZI(ZI({},yPe),t),n=v.useRef(),s=v.useState(-1),i=cPe(s,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,x=r.animationEasing,m=r.animationDuration,b=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=ft("recharts-rectangle",p);return g?M.createElement(Ri,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:x,isActive:g},function(_){var j=_.width,S=_.height,N=_.x,k=_.y;return M.createElement(Ri,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,isActive:y,easing:x},M.createElement("path",Ly({},Qe(r,!0),{className:w,d:JI(N,k,j,S,h),ref:n})))}):M.createElement("path",Ly({},Qe(r,!0),{className:w,d:JI(c,u,d,f,h)}))},xPe=["points","className","baseLinePoints","connectNulls"];function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mu.apply(this,arguments)}function bPe(e,t){if(e==null)return{};var r=wPe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eR(e){return NPe(e)||_Pe(e)||SPe(e)||jPe()}function jPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SPe(e,t){if(e){if(typeof e=="string")return QS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QS(e,t)}}function _Pe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NPe(e){if(Array.isArray(e))return QS(e)}function QS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tR=function(t){return t&&t.x===+t.x&&t.y===+t.y},kPe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){tR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),tR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vh=function(t,r){var n=kPe(t);r&&(n=[n.reduce(function(i,o){return[].concat(eR(i),eR(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},CPe=function(t,r,n){var s=vh(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(vh(r.reverse(),n).slice(1))},PPe=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=bPe(t,xPe);if(!r||!r.length)return null;var l=ft("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=CPe(r,s,i);return M.createElement("g",{className:l},M.createElement("path",mu({},Qe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?M.createElement("path",mu({},Qe(o,!0),{fill:"none",d:vh(r,i)})):null,c?M.createElement("path",mu({},Qe(o,!0),{fill:"none",d:vh(s,i)})):null)}var d=vh(r,i);return M.createElement("path",mu({},Qe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XS.apply(this,arguments)}var eP=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=ft("recharts-dot",i);return r===+r&&n===+n&&s===+s?v.createElement("circle",XS({},Qe(t,!1),sy(t),{className:o,cx:r,cy:n,r:s})):null};function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}var EPe=["x","y","top","left","width","height","className"];function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZS.apply(this,arguments)}function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function APe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(n){OPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OPe(e,t,r){return t=TPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TPe(e){var t=IPe(e,"string");return Tm(t)=="symbol"?t:t+""}function IPe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RPe(e,t){if(e==null)return{};var r=$Pe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Pe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MPe=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},DPe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,x=t.className,m=RPe(t,EPe),b=APe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!be(n)||!be(i)||!be(f)||!be(p)||!be(l)||!be(u)?null:M.createElement("path",ZS({},Qe(b,!0),{className:ft("recharts-cross",x),d:MPe(n,i,f,p,l,u)}))},LPe=Ub,FPe=r8,BPe=Qa;function UPe(e,t){return e&&e.length?LPe(e,BPe(t),FPe):void 0}var VPe=UPe;const qPe=It(VPe);var zPe=Ub,WPe=Qa,HPe=n8;function KPe(e,t){return e&&e.length?zPe(e,WPe(t),HPe):void 0}var GPe=KPe;const YPe=It(GPe);var QPe=["cx","cy","angle","ticks","axisLine"],XPe=["ticks","tick","angle","tickFormatter","stroke"];function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(this,arguments)}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){Gb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sR(e,t){if(e==null)return{};var r=ZPe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H8(n.key),n)}}function eEe(e,t,r){return t&&aR(e.prototype,t),r&&aR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tEe(e,t,r){return t=Fy(t),rEe(e,W8()?Reflect.construct(t,r||[],Fy(e).constructor):t.apply(e,r))}function rEe(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nEe(e)}function nEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W8=function(){return!!e})()}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fy(e)}function sEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JS(e,t)}function JS(e,t){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},JS(e,t)}function Gb(e,t,r){return t=H8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H8(e){var t=aEe(e,"string");return bd(t)=="symbol"?t:t+""}function aEe(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yb=function(e){function t(){return JPe(this,t),tEe(this,t,arguments)}return sEe(t,e),eEe(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Gt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=qPe(l,function(d){return d.coordinate||0}),u=YPe(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=sR(n,QPe),d=l.reduce(function(x,m){return[Math.min(x[0],m.coordinate),Math.max(x[1],m.coordinate)]},[1/0,-1/0]),f=Gt(s,i,d[0],o),h=Gt(s,i,d[1],o),p=il(il(il({},Qe(u,!1)),{},{fill:"none"},Qe(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",yh({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=sR(s,XPe),f=this.getTickTextAnchor(),h=Qe(d,!1),p=Qe(o,!1),x=i.map(function(m,b){var y=n.getTickValueCoord(m),g=il(il(il(il({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:b},y),{},{payload:m});return M.createElement(Dt,yh({className:ft("recharts-polar-radius-axis-tick",O8(o)),key:"tick-".concat(m.coordinate)},lc(n.props,m,b)),t.renderTickItem(o,g,c?c(m.value,b):m.value))});return M.createElement(Dt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:M.createElement(Dt,{className:ft("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),tn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,s):Je(n)?o=n(s):o=M.createElement(cc,yh({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);Gb(Yb,"displayName","PolarRadiusAxis");Gb(Yb,"axisType","radiusAxis");Gb(Yb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yl.apply(this,arguments)}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){Qb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G8(n.key),n)}}function oEe(e,t,r){return t&&oR(e.prototype,t),r&&oR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lEe(e,t,r){return t=By(t),cEe(e,K8()?Reflect.construct(t,r||[],By(e).constructor):t.apply(e,r))}function cEe(e,t){if(t&&(wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uEe(e)}function uEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K8=function(){return!!e})()}function By(e){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},By(e)}function dEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}function e_(e,t){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},e_(e,t)}function Qb(e,t,r){return t=G8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G8(e){var t=fEe(e,"string");return wd(t)=="symbol"?t:t+""}function fEe(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hEe=Math.PI/180,lR=1e-5,Xb=function(e){function t(){return iEe(this,t),lEe(this,t,arguments)}return dEe(t,e),oEe(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=Gt(i,o,l,n.coordinate),h=Gt(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*hEe),o;return i>lR?o=s==="outer"?"start":"end":i<-lR?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=ol(ol({},Qe(this.props,!1)),{},{fill:"none"},Qe(l,!1));if(c==="circle")return M.createElement(eP,yl({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Gt(s,i,o,h.coordinate)});return M.createElement(PPe,yl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Qe(this.props,!1),f=Qe(o,!1),h=ol(ol({},d),{},{fill:"none"},Qe(l,!1)),p=i.map(function(x,m){var b=n.getTickLineCoord(x),y=n.getTickTextAnchor(x),g=ol(ol(ol({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:x,x:b.x2,y:b.y2});return M.createElement(Dt,yl({className:ft("recharts-polar-angle-axis-tick",O8(o)),key:"tick-".concat(x.coordinate)},lc(n.props,x,m)),l&&M.createElement("line",yl({className:"recharts-polar-angle-axis-tick-line"},h,b)),o&&t.renderTickItem(o,g,c?c(x.value,m):x.value))});return M.createElement(Dt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:M.createElement(Dt,{className:ft("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,s):Je(n)?o=n(s):o=M.createElement(cc,yl({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);Qb(Xb,"displayName","PolarAngleAxis");Qb(Xb,"axisType","angleAxis");Qb(Xb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mEe=ZB,pEe=mEe(Object.getPrototypeOf,Object),gEe=pEe,vEe=Li,yEe=gEe,xEe=Fi,bEe="[object Object]",wEe=Function.prototype,jEe=Object.prototype,Y8=wEe.toString,SEe=jEe.hasOwnProperty,_Ee=Y8.call(Object);function NEe(e){if(!xEe(e)||vEe(e)!=bEe)return!1;var t=yEe(e);if(t===null)return!0;var r=SEe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Y8.call(r)==_Ee}var kEe=NEe;const CEe=It(kEe);var PEe=Li,EEe=Fi,AEe="[object Boolean]";function OEe(e){return e===!0||e===!1||EEe(e)&&PEe(e)==AEe}var TEe=OEe;const IEe=It(TEe);function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(this,arguments)}function REe(e,t){return LEe(e)||DEe(e,t)||MEe(e,t)||$Ee()}function $Ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MEe(e,t){if(e){if(typeof e=="string")return cR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cR(e,t)}}function cR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function LEe(e){if(Array.isArray(e))return e}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){FEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FEe(e,t,r){return t=BEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BEe(e){var t=UEe(e,"string");return Im(t)=="symbol"?t:t+""}function UEe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fR=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},VEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qEe=function(t){var r=dR(dR({},VEe),t),n=v.useRef(),s=v.useState(-1),i=REe(s,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,x=r.animationEasing,m=r.animationDuration,b=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=ft("recharts-trapezoid",p);return y?M.createElement(Ri,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:x,isActive:y},function(w){var _=w.upperWidth,j=w.lowerWidth,S=w.height,N=w.x,k=w.y;return M.createElement(Ri,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,easing:x},M.createElement("path",Uy({},Qe(r,!0),{className:g,d:fR(N,k,_,j,S),ref:n})))}):M.createElement("g",null,M.createElement("path",Uy({},Qe(r,!0),{className:g,d:fR(c,u,d,f,h)})))},zEe=["option","shapeType","propTransformer","activeClassName","isActive"];function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function WEe(e,t){if(e==null)return{};var r=HEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){KEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KEe(e,t,r){return t=GEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GEe(e){var t=YEe(e,"string");return Rm(t)=="symbol"?t:t+""}function YEe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QEe(e,t){return Vy(Vy({},t),e)}function XEe(e,t){return e==="symbols"}function mR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(JC,r);case"trapezoid":return M.createElement(qEe,r);case"sector":return M.createElement(R8,r);case"symbols":if(XEe(t))return M.createElement(yC,r);break;default:return null}}function ZEe(e){return v.isValidElement(e)?e.props:e}function Q8(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?QEe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=WEe(e,zEe),u;if(v.isValidElement(t))u=v.cloneElement(t,Vy(Vy({},c),ZEe(t)));else if(Je(t))u=t(c);else if(CEe(t)&&!IEe(t)){var d=s(t,c);u=M.createElement(mR,{shapeType:r,elementProps:d})}else{var f=c;u=M.createElement(mR,{shapeType:r,elementProps:f})}return l?M.createElement(Dt,{className:o},u):u}function Zb(e,t){return t!=null&&"trapezoids"in e.props}function Jb(e,t){return t!=null&&"sectors"in e.props}function $m(e,t){return t!=null&&"points"in e.props}function JEe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function eAe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function tAe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function rAe(e,t){var r;return Zb(e,t)?r=JEe:Jb(e,t)?r=eAe:$m(e,t)&&(r=tAe),r}function nAe(e,t){var r;return Zb(e,t)?r="trapezoids":Jb(e,t)?r="sectors":$m(e,t)&&(r="points"),r}function sAe(e,t){if(Zb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Jb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return $m(e,t)?t.payload:{}}function aAe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=nAe(r,t),i=sAe(r,t),o=n.filter(function(c,u){var d=zb(i,c),f=r.props[s].filter(function(x){var m=rAe(r,t);return m(x,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var ev;function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pu.apply(this,arguments)}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){Rs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z8(n.key),n)}}function oAe(e,t,r){return t&&gR(e.prototype,t),r&&gR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lAe(e,t,r){return t=qy(t),cAe(e,X8()?Reflect.construct(t,r||[],qy(e).constructor):t.apply(e,r))}function cAe(e,t){if(t&&(jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uAe(e)}function uAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X8=function(){return!!e})()}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qy(e)}function dAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},t_(e,t)}function Rs(e,t,r){return t=Z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8(e){var t=fAe(e,"string");return jd(t)=="symbol"?t:t+""}function fAe(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ui=function(e){function t(r){var n;return iAe(this,t),n=lAe(this,t,[r]),Rs(n,"pieRef",null),Rs(n,"sectorRefs",[]),Rs(n,"id",_p("recharts-pie-")),Rs(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Je(s)&&s()}),Rs(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Je(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return dAe(t,e),oAe(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Qe(this.props,!1),f=Qe(o,!1),h=Qe(l,!1),p=o&&o.offsetRadius||20,x=n.map(function(m,b){var y=(m.startAngle+m.endAngle)/2,g=Gt(m.cx,m.cy,m.outerRadius+p,y),w=zt(zt(zt(zt({},d),m),{},{stroke:"none"},f),{},{index:b,textAnchor:t.getTextAnchor(g.x,m.cx)},g),_=zt(zt(zt(zt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:b,points:[Gt(m.cx,m.cy,m.outerRadius,y),g]}),j=c;return gt(c)&&gt(u)?j="value":gt(c)&&(j=u),M.createElement(Dt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(b)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,w,jn(m,j)))});return M.createElement(Dt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,p=f?o:h,x=zt(zt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return M.createElement(Dt,pu({ref:function(b){b&&!s.sectorRefs.includes(b)&&s.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},lc(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(Q8,pu({option:p,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(Ri,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var m=x.t,b=[],y=i&&i[0],g=y.startAngle;return i.forEach(function(w,_){var j=h&&h[_],S=_>0?ws(w,"paddingAngle",0):0;if(j){var N=Ji(j.endAngle-j.startAngle,w.endAngle-w.startAngle),k=zt(zt({},w),{},{startAngle:g+S,endAngle:g+N(m)+S});b.push(k),g=k.endAngle}else{var C=w.endAngle,E=w.startAngle,A=Ji(0,C-E),R=A(m),T=zt(zt({},w),{},{startAngle:g+S,endAngle:g+R+S});b.push(T),g=T.endAngle}}),M.createElement(Dt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!zb(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!be(u)||!be(d)||!be(f)||!be(h))return null;var m=ft("recharts-pie",l);return M.createElement(Dt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),tn.renderCallByParent(this.props,null,!1),(!p||x)&&Ao.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(M.isValidElement(n))return M.cloneElement(n,s);if(Je(n))return n(s);var o=ft("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(BS,pu({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(M.isValidElement(n))return M.cloneElement(n,s);var o=i;if(Je(n)&&(o=n(s),M.isValidElement(o)))return o;var l=ft("recharts-pie-label-text",typeof n!="boolean"&&!Je(n)?n.className:"");return M.createElement(cc,pu({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);ev=Ui;Rs(Ui,"displayName","Pie");Rs(Ui,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!nf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Rs(Ui,"parseDeltaAngle",function(e,t){var r=$n(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Rs(Ui,"getRealPieData",function(e){var t=e.data,r=e.children,n=Qe(e,!1),s=Fs(r,Rb);return t&&t.length?t.map(function(i,o){return zt(zt(zt({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return zt(zt({},n),i.props)}):[]});Rs(Ui,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=A8(s,i),l=n+Mn(e.cx,s,s/2),c=r+Mn(e.cy,i,i/2),u=Mn(e.innerRadius,o,0),d=Mn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Rs(Ui,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?zt(zt({},t.type.defaultProps),t.props):t.props,s=ev.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),x=ev.parseCoordinateOfPie(n,r),m=ev.parseDeltaAngle(o,l),b=Math.abs(m),y=u;gt(u)&&gt(f)?(ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):gt(u)&&(ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var g=s.filter(function(k){return jn(k,y,0)!==0}).length,w=(b>=360?g:g-1)*c,_=b-g*p-w,j=s.reduce(function(k,C){var E=jn(C,y,0);return k+(be(E)?E:0)},0),S;if(j>0){var N;S=s.map(function(k,C){var E=jn(k,y,0),A=jn(k,d,C),R=(be(E)?E:0)/j,T;C?T=N.endAngle+$n(m)*c*(E!==0?1:0):T=o;var I=T+$n(m)*((E!==0?p:0)+R*_),O=(T+I)/2,D=(x.innerRadius+x.outerRadius)/2,V=[{name:A,value:E,payload:k,dataKey:y,type:h}],P=Gt(x.cx,x.cy,D,O);return N=zt(zt(zt({percent:R,cornerRadius:i,name:A,tooltipPayload:V,midAngle:O,middleRadius:D,tooltipPosition:P},k),x),{},{value:jn(k,y),startAngle:T,endAngle:I,payload:k,paddingAngle:$n(m)*c}),N})}return zt(zt({},x),{},{sectors:S,data:s})});var hAe=Math.ceil,mAe=Math.max;function pAe(e,t,r,n){for(var s=-1,i=mAe(hAe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var gAe=pAe,vAe=vU,vR=1/0,yAe=17976931348623157e292;function xAe(e){if(!e)return e===0?e:0;if(e=vAe(e),e===vR||e===-vR){var t=e<0?-1:1;return t*yAe}return e===e?e:0}var J8=xAe,bAe=gAe,wAe=Ib,Vw=J8;function jAe(e){return function(t,r,n){return n&&typeof n!="number"&&wAe(t,r,n)&&(r=n=void 0),t=Vw(t),r===void 0?(r=t,t=0):r=Vw(r),n=n===void 0?t<r?1:-1:Vw(n),bAe(t,r,n,e)}}var SAe=jAe,_Ae=SAe,NAe=_Ae(),kAe=NAe;const zy=It(kAe);function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){eV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eV(e,t,r){return t=CAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CAe(e){var t=PAe(e,"string");return Mm(t)=="symbol"?t:t+""}function PAe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EAe=["Webkit","Moz","O","ms"],AAe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=EAe.reduce(function(i,o){return xR(xR({},i),{},eV({},o+n,r))},{});return s[t]=r,s};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(this,arguments)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){ls(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rV(n.key),n)}}function TAe(e,t,r){return t&&wR(e.prototype,t),r&&wR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IAe(e,t,r){return t=Hy(t),RAe(e,tV()?Reflect.construct(t,r||[],Hy(e).constructor):t.apply(e,r))}function RAe(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ae(e)}function $Ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(e)}function MAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r_(e,t)}function r_(e,t){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},r_(e,t)}function ls(e,t,r){return t=rV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=DAe(e,"string");return Sd(t)=="symbol"?t:t+""}function DAe(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LAe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=mh().domain(zy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},jR=function(t){return t.changedTouches&&!!t.changedTouches.length},_d=function(e){function t(r){var n;return OAe(this,t),n=IAe(this,t,[r]),ls(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),ls(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),ls(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ls(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ls(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ls(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ls(n,"handleSlideDragStart",function(s){var i=jR(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return MAe(t,e),TAe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),x=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=jn(i[n],l,n);return Je(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,x=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var b=this.getIndex({startX:o+m,endX:l+m});(b.startIndex!==h||b.endIndex!==p)&&x&&x(b),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=jR(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,x=d.onChange,m=d.gap,b=d.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-i;g>0?g=Math.min(g,f+h-p-u):g<0&&(g=Math.max(g,f-u)),y[o]=u+g;var w=this.getIndex(y),_=w.startIndex,j=w.endIndex,S=function(){var k=b.length-1;return o==="startX"&&(l>c?_%m===0:j%m===0)||l<c&&j===k||o==="endX"&&(l>c?j%m===0:_%m===0)||l>c&&j===k};this.setState(ls(ls({},o,u+g),"brushMoveStartX",n.pageX),function(){x&&S()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(ls({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?M.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,x=c.data,m=c.startIndex,b=c.endIndex,y=Math.max(n,this.props.x),g=qw(qw({},Qe(this.props,!1)),{},{x:y,y:u,width:d,height:f}),w=p||"Min value: ".concat((i=x[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[b])===null||o===void 0?void 0:o.name);return M.createElement(Dt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,x={pointerEvents:"none",fill:u};return M.createElement(Dt,{className:"recharts-brush-texts"},M.createElement(cc,Wy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},x),this.getTextOfTick(s)),M.createElement(cc,Wy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,x=h.endX,m=h.isTextActive,b=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!s||!s.length||!be(l)||!be(c)||!be(u)||!be(d)||u<=0||d<=0)return null;var w=ft("recharts-brush",i),_=M.Children.count(o)===1,j=AAe("userSelect","none");return M.createElement(Dt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,x),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(x,"endX"),(m||b||y||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return M.isValidElement(n)?i=M.cloneElement(n,s):Je(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return qw({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?LAe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(v.PureComponent);ls(_d,"displayName","Brush");ls(_d,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var FAe=NC;function BAe(e,t){var r;return FAe(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var UAe=BAe,VAe=zB,qAe=Qa,zAe=UAe,WAe=is,HAe=Ib;function KAe(e,t,r){var n=WAe(e)?VAe:zAe;return r&&HAe(e,t,r)&&(t=void 0),n(e,qAe(t))}var GAe=KAe;const YAe=It(GAe);var Ba=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},SR=fU;function QAe(e,t,r){t=="__proto__"&&SR?SR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var XAe=QAe,ZAe=XAe,JAe=uU,eOe=Qa;function tOe(e,t){var r={};return t=eOe(t),JAe(e,function(n,s,i){ZAe(r,s,t(n,s,i))}),r}var rOe=tOe;const nOe=It(rOe);function sOe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var aOe=sOe,iOe=NC;function oOe(e,t){var r=!0;return iOe(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var lOe=oOe,cOe=aOe,uOe=lOe,dOe=Qa,fOe=is,hOe=Ib;function mOe(e,t,r){var n=fOe(e)?cOe:uOe;return r&&hOe(e,t,r)&&(t=void 0),n(e,dOe(t))}var pOe=mOe;const nV=It(pOe);var gOe=["x","y"];function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){vOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vOe(e,t,r){return t=yOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yOe(e){var t=xOe(e,"string");return Dm(t)=="symbol"?t:t+""}function xOe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bOe(e,t){if(e==null)return{};var r=wOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jOe(e,t){var r=e.x,n=e.y,s=bOe(e,gOe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Df(Df(Df(Df(Df({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function NR(e){return M.createElement(Q8,n_({shapeType:"rectangle",propTransformer:jOe,activeClassName:"recharts-active-bar"},e))}var SOe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=be(n)||Wde(n);return i?t(n,s):(i||dc(),r)}},_Oe=["value","background"],sV;function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function NOe(e,t){if(e==null)return{};var r=kOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(this,arguments)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){vo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function COe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iV(n.key),n)}}function POe(e,t,r){return t&&CR(e.prototype,t),r&&CR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EOe(e,t,r){return t=Gy(t),AOe(e,aV()?Reflect.construct(t,r||[],Gy(e).constructor):t.apply(e,r))}function AOe(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OOe(e)}function OOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!e})()}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(e)}function TOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s_(e,t)}function s_(e,t){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},s_(e,t)}function vo(e,t,r){return t=iV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=IOe(e,"string");return Nd(t)=="symbol"?t:t+""}function IOe(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cc=function(e){function t(){var r;COe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=EOe(this,t,[].concat(s)),vo(r,"state",{isAnimationFinished:!1}),vo(r,"id",_p("recharts-bar-")),vo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),vo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return TOe(t,e),POe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Qe(this.props,!1);return n&&n.map(function(f,h){var p=h===c,x=p?u:o,m=Sr(Sr(Sr({},d),f),{},{isActive:p,option:x,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return M.createElement(Dt,Ky({className:"recharts-bar-rectangle"},lc(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(NR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return M.createElement(Ri,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var x=p.t,m=i.map(function(b,y){var g=h&&h[y];if(g){var w=Ji(g.x,b.x),_=Ji(g.y,b.y),j=Ji(g.width,b.width),S=Ji(g.height,b.height);return Sr(Sr({},b),{},{x:w(x),y:_(x),width:j(x),height:S(x)})}if(o==="horizontal"){var N=Ji(0,b.height),k=N(x);return Sr(Sr({},b),{},{y:b.y+b.height-k,height:k})}var C=Ji(0,b.width),E=C(x);return Sr(Sr({},b),{},{width:E})});return M.createElement(Dt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!zb(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Qe(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=NOe(u,_Oe);if(!f)return null;var p=Sr(Sr(Sr(Sr(Sr({},h),{},{fill:"#eee"},f),c),lc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(NR,Ky({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Fs(d,Kb);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(b,y){var g=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:g,errorVal:jn(b,y)}},x={clipPath:n?"url(#clipPath-".concat(s,")"):null};return M.createElement(Dt,x,f.map(function(m){return M.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,x=n.background,m=n.id;if(s||!i||!i.length)return null;var b=this.state.isAnimationFinished,y=ft("recharts-bar",o),g=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=g||w,j=gt(m)?this.id:m;return M.createElement(Dt,{className:y},g||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:g?u:u-f/2,y:w?d:d-h/2,width:g?f:f*2,height:w?h:h*2}))):null,M.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!p||b)&&Ao.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(v.PureComponent);sV=Cc;vo(Cc,"displayName","Bar");vo(Cc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!nf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vo(Cc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=cNe(n,r);if(!p)return null;var x=t.layout,m=r.type.defaultProps,b=m!==void 0?Sr(Sr({},m),r.props):r.props,y=b.dataKey,g=b.children,w=b.minPointSize,_=x==="horizontal"?o:i,j=u?_.scale.domain():null,S=gNe({numericAxis:_}),N=Fs(g,Rb),k=f.map(function(C,E){var A,R,T,I,O,D;u?A=uNe(u[d+E],j):(A=jn(C,y),Array.isArray(A)||(A=[S,A]));var V=SOe(w,sV.defaultProps.minPointSize)(A[1],E);if(x==="horizontal"){var P,$=[o.scale(A[0]),o.scale(A[1])],K=$[0],te=$[1];R=xI({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:C,index:E}),T=(P=te??K)!==null&&P!==void 0?P:void 0,I=p.size;var B=K-te;if(O=Number.isNaN(B)?0:B,D={x:R,y:o.y,width:I,height:o.height},Math.abs(V)>0&&Math.abs(O)<Math.abs(V)){var G=$n(O||V)*(Math.abs(V)-Math.abs(O));T-=G,O+=G}}else{var re=[i.scale(A[0]),i.scale(A[1])],ae=re[0],ke=re[1];if(R=ae,T=xI({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:C,index:E}),I=ke-ae,O=p.size,D={x:i.x,y:T,width:i.width,height:O},Math.abs(V)>0&&Math.abs(I)<Math.abs(V)){var J=$n(I||V)*(Math.abs(V)-Math.abs(I));I+=J}}return Sr(Sr(Sr({},C),{},{x:R,y:T,width:I,height:O,value:u?A:A[1],payload:C,background:D},N&&N[E]&&N[E].props),{},{tooltipPayload:[P8(r,C)],tooltipPosition:{x:R+I/2,y:T+O/2}})});return Sr({data:k,layout:x},h)});function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function ROe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oV(n.key),n)}}function $Oe(e,t,r){return t&&PR(e.prototype,t),r&&PR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){e0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e0(e,t,r){return t=oV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oV(e){var t=MOe(e,"string");return Lm(t)=="symbol"?t:t+""}function MOe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DOe=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!us(u,Cc);return d.reduce(function(p,x){var m=r[x],b=m.orientation,y=m.domain,g=m.padding,w=g===void 0?{}:g,_=m.mirror,j=m.reversed,S="".concat(b).concat(_?"Mirror":""),N,k,C,E,A;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var R=y[1]-y[0],T=1/0,I=m.categoricalDomain.sort(Gde);if(I.forEach(function(re,ae){ae>0&&(T=Math.min((re||0)-(I[ae-1]||0),T))}),Number.isFinite(T)){var O=T/R,D=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(N=O*D/2),m.padding==="no-gap"){var V=Mn(t.barCategoryGap,O*D),P=O*D/2;N=P-V-(P-V)/D*V}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=m.range,j&&(k=[k[1],k[0]]);var $=_8(m,i,h),K=$.scale,te=$.realScaleType;K.domain(y).range(k),N8(K);var B=k8(K,ia(ia({},m),{},{realScaleType:te}));s==="xAxis"?(A=b==="top"&&!_||b==="bottom"&&_,C=n.left,E=f[S]-A*m.height):s==="yAxis"&&(A=b==="left"&&!_||b==="right"&&_,C=f[S]-A*m.width,E=n.top);var G=ia(ia(ia({},m),B),{},{realScaleType:te,x:C,y:E,scale:K,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return G.bandSize=Oy(G,B),!m.hide&&s==="xAxis"?f[S]+=(A?-1:1)*G.height:m.hide||(f[S]+=(A?-1:1)*G.width),ia(ia({},p),{},e0({},x,G))},{})},lV=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},LOe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return lV({x:r,y:n},{x:s,y:i})},cV=function(){function e(t){ROe(this,e),this.scale=t}return $Oe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();e0(cV,"EPS",1e-4);var tP=function(t){var r=Object.keys(t).reduce(function(n,s){return ia(ia({},n),{},e0({},s,cV.create(t[s])))},{});return ia(ia({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return nOe(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return nV(s,function(i,o){return r[o].isInRange(i)})}})};function FOe(e){return(e%180+180)%180}var BOe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=FOe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},UOe=Qa,VOe=Np,qOe=Ob;function zOe(e){return function(t,r,n){var s=Object(t);if(!VOe(t)){var i=UOe(r);t=qOe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var WOe=zOe,HOe=J8;function KOe(e){var t=HOe(e),r=t%1;return t===t?r?t-r:t:0}var GOe=KOe,YOe=sU,QOe=Qa,XOe=GOe,ZOe=Math.max;function JOe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:XOe(r);return s<0&&(s=ZOe(n+s,0)),YOe(e,QOe(t),s)}var e2e=JOe,t2e=WOe,r2e=e2e,n2e=t2e(r2e),s2e=n2e;const a2e=It(s2e);var i2e=Xue(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),rP=v.createContext(void 0),nP=v.createContext(void 0),uV=v.createContext(void 0),dV=v.createContext({}),fV=v.createContext(void 0),hV=v.createContext(0),mV=v.createContext(0),AR=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=i2e(i);return M.createElement(rP.Provider,{value:n},M.createElement(nP.Provider,{value:s},M.createElement(dV.Provider,{value:i},M.createElement(uV.Provider,{value:d},M.createElement(fV.Provider,{value:o},M.createElement(hV.Provider,{value:u},M.createElement(mV.Provider,{value:c},l)))))))},o2e=function(){return v.useContext(fV)},pV=function(t){var r=v.useContext(rP);r==null&&dc();var n=r[t];return n==null&&dc(),n},l2e=function(){var t=v.useContext(rP);return so(t)},c2e=function(){var t=v.useContext(nP),r=a2e(t,function(n){return nV(n.domain,Number.isFinite)});return r||so(t)},gV=function(t){var r=v.useContext(nP);r==null&&dc();var n=r[t];return n==null&&dc(),n},u2e=function(){var t=v.useContext(uV);return t},d2e=function(){return v.useContext(dV)},sP=function(){return v.useContext(mV)},aP=function(){return v.useContext(hV)};function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function f2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yV(n.key),n)}}function m2e(e,t,r){return t&&h2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p2e(e,t,r){return t=Yy(t),g2e(e,vV()?Reflect.construct(t,r||[],Yy(e).constructor):t.apply(e,r))}function g2e(e,t){if(t&&(kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v2e(e)}function v2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vV=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(e)}function y2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a_(e,t)}function a_(e,t){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},a_(e,t)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){iP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iP(e,t,r){return t=yV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yV(e){var t=x2e(e,"string");return kd(t)=="symbol"?t:t+""}function x2e(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function b2e(e,t){return _2e(e)||S2e(e,t)||j2e(e,t)||w2e()}function w2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j2e(e,t){if(e){if(typeof e=="string")return IR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IR(e,t)}}function IR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function _2e(e){if(Array.isArray(e))return e}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(this,arguments)}var N2e=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):Je(t)?n=t(r):n=M.createElement("line",i_({},r,{className:"recharts-reference-line-line"})),n},k2e=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var x=u.y,m=t.y.apply(x,{position:o});if(Ba(u,"discard")&&!t.y.isInRange(m))return null;var b=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?b.reverse():b}if(r){var y=u.x,g=t.x.apply(y,{position:o});if(Ba(u,"discard")&&!t.x.isInRange(g))return null;var w=[{x:g,y:f+p},{x:g,y:f}];return l==="top"?w.reverse():w}if(s){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:o})});return Ba(u,"discard")&&YAe(j,function(S){return!t.isInRange(S)})?null:j}return null};function C2e(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=o2e(),d=pV(s),f=gV(i),h=u2e();if(!u||!h)return null;ga(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=tP({x:d.scale,y:f.scale}),x=Hr(t),m=Hr(r),b=n&&n.length===2,y=k2e(p,x,m,b,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var g=b2e(y,2),w=g[0],_=w.x,j=w.y,S=g[1],N=S.x,k=S.y,C=Ba(e,"hidden")?"url(#".concat(u,")"):void 0,E=TR(TR({clipPath:C},Qe(e,!0)),{},{x1:_,y1:j,x2:N,y2:k});return M.createElement(Dt,{className:ft("recharts-reference-line",l)},N2e(o,E),tn.renderCallByParent(e,LOe({x1:_,y1:j,x2:N,y2:k})))}var oP=function(e){function t(){return f2e(this,t),p2e(this,t,arguments)}return y2e(t,e),m2e(t,[{key:"render",value:function(){return M.createElement(C2e,this.props)}}])}(M.Component);iP(oP,"displayName","ReferenceLine");iP(oP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(this,arguments)}function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){t0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bV(n.key),n)}}function A2e(e,t,r){return t&&E2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O2e(e,t,r){return t=Qy(t),T2e(e,xV()?Reflect.construct(t,r||[],Qy(e).constructor):t.apply(e,r))}function T2e(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I2e(e)}function I2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xV=function(){return!!e})()}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(e)}function R2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l_(e,t)}function l_(e,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},l_(e,t)}function t0(e,t,r){return t=bV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bV(e){var t=$2e(e,"string");return Cd(t)=="symbol"?t:t+""}function $2e(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var M2e=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=tP({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ba(t,"discard")&&!o.isInRange(l)?null:l},r0=function(e){function t(){return P2e(this,t),O2e(this,t,arguments)}return R2e(t,e),A2e(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Hr(s),d=Hr(i);if(ga(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=M2e(this.props);if(!f)return null;var h=f.x,p=f.y,x=this.props,m=x.shape,b=x.className,y=Ba(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=$R($R({clipPath:y},Qe(this.props,!0)),{},{cx:h,cy:p});return M.createElement(Dt,{className:ft("recharts-reference-dot",b)},t.renderDot(m,g),tn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(M.Component);t0(r0,"displayName","ReferenceDot");t0(r0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});t0(r0,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Je(e)?r=e(t):r=M.createElement(eP,o_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c_.apply(this,arguments)}function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function DR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){n0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jV(n.key),n)}}function F2e(e,t,r){return t&&L2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B2e(e,t,r){return t=Xy(t),U2e(e,wV()?Reflect.construct(t,r||[],Xy(e).constructor):t.apply(e,r))}function U2e(e,t){if(t&&(Pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V2e(e)}function V2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wV=function(){return!!e})()}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(e)}function q2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u_(e,t)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},u_(e,t)}function n0(e,t,r){return t=jV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jV(e){var t=z2e(e,"string");return Pd(t)=="symbol"?t:t+""}function z2e(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var W2e=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=tP({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ba(i,"discard")&&(!h.isInRange(p)||!h.isInRange(x))?null:lV(p,x)},s0=function(e){function t(){return D2e(this,t),B2e(this,t,arguments)}return q2e(t,e),F2e(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ga(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Hr(s),h=Hr(i),p=Hr(o),x=Hr(l),m=this.props.shape;if(!f&&!h&&!p&&!x&&!m)return null;var b=W2e(f,h,p,x,this.props);if(!b&&!m)return null;var y=Ba(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(Dt,{className:ft("recharts-reference-area",c)},t.renderRect(m,DR(DR({clipPath:y},Qe(this.props,!0)),b)),tn.renderCallByParent(this.props,b))}}])}(M.Component);n0(s0,"displayName","ReferenceArea");n0(s0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});n0(s0,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Je(e)?r=e(t):r=M.createElement(JC,c_({},t,{className:"recharts-reference-area-rect"})),r});function SV(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function H2e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return BOe(n,r)}function K2e(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Zy(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function G2e(e,t){return SV(e,t+1)}function Y2e(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:SV(n,u)};var m=c,b,y=function(){return b===void 0&&(b=r(x,m)),b},g=x.coordinate,w=c===0||Zy(e,g,y,d,l);w||(c=0,d=o,u+=1),w&&(d=g+e*(y()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){Q2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q2e(e,t,r){return t=X2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X2e(e){var t=Z2e(e,"string");return Fm(t)=="symbol"?t:t+""}function Z2e(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J2e(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],x,m=function(){return x===void 0&&(x=r(p,h)),x};if(h===o-1){var b=e*(p.coordinate+e*m()/2-c);i[h]=p=xn(xn({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else i[h]=p=xn(xn({},p),{},{tickCoord:p.coordinate});var y=Zy(e,p.tickCoord,m,l,c);y&&(c=p.tickCoord-e*(m()/2+s),i[h]=xn(xn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function eTe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=xn(xn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Zy(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=xn(xn({},d),{},{isShow:!0}))}for(var x=i?l-1:l,m=function(g){var w=o[g],_,j=function(){return _===void 0&&(_=r(w,g)),_};if(g===0){var S=e*(w.coordinate-e*j()/2-c);o[g]=w=xn(xn({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[g]=w=xn(xn({},w),{},{tickCoord:w.coordinate});var N=Zy(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+s),o[g]=xn(xn({},w),{},{isShow:!0}))},b=0;b<x;b++)m(b);return o}function lP(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(be(c)||nf.isSsr)return G2e(s,typeof c=="number"&&be(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",x=d&&p==="width"?hh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,_){var j=Je(u)?u(w.value,_):w.value;return p==="width"?H2e(hh(j,{fontSize:t,letterSpacing:r}),x,f):hh(j,{fontSize:t,letterSpacing:r})[p]},b=s.length>=2?$n(s[1].coordinate-s[0].coordinate):1,y=K2e(i,b,p);return c==="equidistantPreserveStart"?Y2e(b,y,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=eTe(b,y,m,s,o,c==="preserveStartEnd"):h=J2e(b,y,m,s,o),h.filter(function(g){return g.isShow}))}var tTe=["viewBox"],rTe=["viewBox"],nTe=["ticks"];function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gu.apply(this,arguments)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){cP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zw(e,t){if(e==null)return{};var r=sTe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NV(n.key),n)}}function iTe(e,t,r){return t&&BR(e.prototype,t),r&&BR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oTe(e,t,r){return t=Jy(t),lTe(e,_V()?Reflect.construct(t,r||[],Jy(e).constructor):t.apply(e,r))}function lTe(e,t){if(t&&(Ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cTe(e)}function cTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_V=function(){return!!e})()}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(e)}function uTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},d_(e,t)}function cP(e,t,r){return t=NV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NV(e){var t=dTe(e,"string");return Ed(t)=="symbol"?t:t+""}function dTe(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lf=function(e){function t(r){var n;return aTe(this,t),n=oTe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return uTe(t,e),iTe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=zw(n,tTe),l=this.props,c=l.viewBox,u=zw(l,rTe);return!Cu(i,c)||!Cu(o,u)||!Cu(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,x,m,b,y,g,w=f?-1:1,_=n.tickSize||d,j=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=x=n.coordinate,b=o+ +!f*c,m=b-w*_,g=m-w*h,y=j;break;case"left":m=b=n.coordinate,x=i+ +!f*l,p=x-w*_,y=p-w*h,g=j;break;case"right":m=b=n.coordinate,x=i+ +f*l,p=x+w*_,y=p+w*h,g=j;break;default:p=x=n.coordinate,b=o+ +f*c,m=b+w*_,g=m+w*h,y=j;break}return{line:{x1:p,y1:m,x2:x,y2:b},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Fr(Fr(Fr({},Qe(this.props,!1)),Qe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Fr(Fr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Fr(Fr({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return M.createElement("line",gu({},f,{className:ft("recharts-cartesian-axis-line",ws(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=lP(Fr(Fr({},this.props),{},{ticks:n}),s,i),x=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),b=Qe(this.props,!1),y=Qe(d,!1),g=Fr(Fr({},b),{},{fill:"none"},Qe(c,!1)),w=p.map(function(_,j){var S=o.getTickLineCoord(_),N=S.line,k=S.tick,C=Fr(Fr(Fr(Fr({textAnchor:x,verticalAnchor:m},b),{},{stroke:"none",fill:u},y),k),{},{index:j,payload:_,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(Dt,gu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},lc(o.props,_,j)),c&&M.createElement("line",gu({},g,N,{className:ft("recharts-cartesian-axis-tick-line",ws(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Je(f)?f(_.value,j):_.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=zw(f,nTe),x=h;return Je(c)&&(x=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!x||!x.length?null:M.createElement(Dt,{className:ft("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=ft(s.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?o=M.cloneElement(n,Fr(Fr({},s),{},{className:l})):Je(n)?o=n(Fr(Fr({},s),{},{className:l})):o=M.createElement(cc,gu({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);cP(lf,"displayName","CartesianAxis");cP(lf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fTe=["x1","y1","x2","y2","key"],hTe=["offset"];function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){mTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mTe(e,t,r){return t=pTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pTe(e){var t=gTe(e,"string");return fc(t)=="symbol"?t:t+""}function gTe(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function VR(e,t){if(e==null)return{};var r=vTe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yTe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kV(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Je(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=VR(t,fTe),u=Qe(c,!1);u.offset;var d=VR(u,hTe);r=M.createElement("line",Pl({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function xTe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=wn(wn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return kV(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function bTe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=wn(wn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return kV(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function wTe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var x=!d[p+1],m=x?s+o-h:d[p+1]-h;if(m<=0)return null;var b=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function jTe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var x=!d[p+1],m=x?i+l-h:d[p+1]-h;if(m<=0)return null;var b=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var STe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return S8(lP(wn(wn(wn({},lf.defaultProps),n),{},{ticks:gi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},_Te=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return S8(lP(wn(wn(wn({},lf.defaultProps),n),{},{ticks:gi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Wc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CV(e){var t,r,n,s,i,o,l=sP(),c=aP(),u=d2e(),d=wn(wn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Wc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Wc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Wc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Wc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Wc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Wc.verticalFill,x:be(e.x)?e.x:u.left,y:be(e.y)?e.y:u.top,width:be(e.width)?e.width:u.width,height:be(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,x=d.height,m=d.syncWithTicks,b=d.horizontalValues,y=d.verticalValues,g=l2e(),w=c2e();if(!be(p)||p<=0||!be(x)||x<=0||!be(f)||f!==+f||!be(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||STe,j=d.horizontalCoordinatesGenerator||_Te,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&Je(j)){var k=b&&b.length,C=j({yAxis:w?wn(wn({},w),{},{ticks:k?b:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);ga(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fc(C),"]")),Array.isArray(C)&&(S=C)}if((!N||!N.length)&&Je(_)){var E=y&&y.length,A=_({xAxis:g?wn(wn({},g),{},{ticks:E?y:g.ticks}):void 0,width:l,height:c,offset:u},E?!0:m);ga(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fc(A),"]")),Array.isArray(A)&&(N=A)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(yTe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(xTe,Pl({},d,{offset:u,horizontalPoints:S,xAxis:g,yAxis:w})),M.createElement(bTe,Pl({},d,{offset:u,verticalPoints:N,xAxis:g,yAxis:w})),M.createElement(wTe,Pl({},d,{horizontalPoints:S})),M.createElement(jTe,Pl({},d,{verticalPoints:N})))}CV.displayName="CartesianGrid";function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function NTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AV(n.key),n)}}function CTe(e,t,r){return t&&kTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PTe(e,t,r){return t=ex(t),ETe(e,PV()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function ETe(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ATe(e)}function ATe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PV=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(e)}function OTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},f_(e,t)}function EV(e,t,r){return t=AV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=TTe(e,"string");return Ad(t)=="symbol"?t:t+""}function TTe(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(this,arguments)}function ITe(e){var t=e.xAxisId,r=sP(),n=aP(),s=pV(t);return s==null?null:v.createElement(lf,h_({},s,{className:ft("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return gi(o,!0)}}))}var a0=function(e){function t(){return NTe(this,t),PTe(this,t,arguments)}return OTe(t,e),CTe(t,[{key:"render",value:function(){return v.createElement(ITe,this.props)}}])}(v.Component);EV(a0,"displayName","XAxis");EV(a0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function RTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IV(n.key),n)}}function MTe(e,t,r){return t&&$Te(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DTe(e,t,r){return t=tx(t),LTe(e,OV()?Reflect.construct(t,r||[],tx(e).constructor):t.apply(e,r))}function LTe(e,t){if(t&&(Od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FTe(e)}function FTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OV=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(e)}function BTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},m_(e,t)}function TV(e,t,r){return t=IV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IV(e){var t=UTe(e,"string");return Od(t)=="symbol"?t:t+""}function UTe(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p_.apply(this,arguments)}var VTe=function(t){var r=t.yAxisId,n=sP(),s=aP(),i=gV(r);return i==null?null:v.createElement(lf,p_({},i,{className:ft("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return gi(l,!0)}}))},i0=function(e){function t(){return RTe(this,t),DTe(this,t,arguments)}return BTe(t,e),MTe(t,[{key:"render",value:function(){return v.createElement(VTe,this.props)}}])}(v.Component);TV(i0,"displayName","YAxis");TV(i0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qR(e){return HTe(e)||WTe(e)||zTe(e)||qTe()}function qTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zTe(e,t){if(e){if(typeof e=="string")return g_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g_(e,t)}}function WTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HTe(e){if(Array.isArray(e))return g_(e)}function g_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v_=function(t,r,n,s,i){var o=Fs(t,oP),l=Fs(t,r0),c=[].concat(qR(o),qR(l)),u=Fs(t,s0),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,b){if(b.props[d]===n&&Ba(b.props,"extendDomain")&&be(b.props[f])){var y=b.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),u.length){var p="".concat(f,"1"),x="".concat(f,"2");h=u.reduce(function(m,b){if(b.props[d]===n&&Ba(b.props,"extendDomain")&&be(b.props[p])&&be(b.props[x])){var y=b.props[p],g=b.props[x];return[Math.min(m[0],y,g),Math.max(m[1],y,g)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,b){return be(b)?[Math.min(m[0],b),Math.max(m[1],b)]:m},h)),h},RV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],p]:c._events[x].push(p):(c._events[x]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,x=new Array(p);h<p;h++)x[h]=f[h].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,x){var m=r?r+u:u;if(!this._events[m])return!1;var b=this._events[m],y=arguments.length,g,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,x),!0}for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];b.fn.apply(b.context,g)}else{var _=b.length,j;for(w=0;w<_;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),y){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,d);break;case 3:b[w].fn.call(b[w].context,d,f);break;case 4:b[w].fn.call(b[w].context,d,f,h);break;default:if(!g)for(j=1,g=new Array(y-1);j<y;j++)g[j-1]=arguments[j];b[w].fn.apply(b[w].context,g)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var x=this._events[p];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&o(this,p);else{for(var m=0,b=[],y=x.length;m<y;m++)(x[m].fn!==d||h&&!x[m].once||f&&x[m].context!==f)&&b.push(x[m]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(RV);var KTe=RV.exports;const GTe=It(KTe);var Ww=new GTe,Hw="recharts.syncMouseEvents";function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function YTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$V(n.key),n)}}function XTe(e,t,r){return t&&QTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kw(e,t,r){return t=$V(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $V(e){var t=ZTe(e,"string");return Bm(t)=="symbol"?t:t+""}function ZTe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JTe=function(){function e(){YTe(this,e),Kw(this,"activeIndex",0),Kw(this,"coordinateList",[]),Kw(this,"layout","horizontal")}return XTe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function eIe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&be(n)&&be(s))return!0}return!1}function tIe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function MV(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Gt(t,r,n,s),l=Gt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function rIe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Gt(l,c,u,f),p=Gt(l,c,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return MV(t);return[{x:n,y:s},{x:i,y:o}]}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Og(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){nIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nIe(e,t,r){return t=sIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sIe(e){var t=aIe(e,"string");return Um(t)=="symbol"?t:t+""}function aIe(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iIe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var x,m=BS;if(h==="ScatterChart")x=o,m=DPe;else if(h==="BarChart")x=tIe(f,o,c,d),m=JC;else if(f==="radial"){var b=MV(o),y=b.cx,g=b.cy,w=b.radius,_=b.startAngle,j=b.endAngle;x={cx:y,cy:g,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},m=R8}else x={points:rIe(f,o,c)},m=BS;var S=Og(Og(Og(Og({stroke:"#ccc",pointerEvents:"none"},c),x),Qe(p,!1)),{},{payload:l,payloadIndex:u,className:ft("recharts-tooltip-cursor",p.className)});return v.isValidElement(p)?v.cloneElement(p,S):v.createElement(m,S)}var oIe=["item"],lIe=["children","className","width","height","style","compact","title","desc"];function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(this,arguments)}function WR(e,t){return dIe(e)||uIe(e,t)||LV(e,t)||cIe()}function cIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function dIe(e){if(Array.isArray(e))return e}function HR(e,t){if(e==null)return{};var r=fIe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FV(n.key),n)}}function pIe(e,t,r){return t&&mIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gIe(e,t,r){return t=rx(t),vIe(e,DV()?Reflect.construct(t,r||[],rx(e).constructor):t.apply(e,r))}function vIe(e,t){if(t&&(Td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yIe(e)}function yIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(e)}function xIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y_(e,t)}function y_(e,t){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},y_(e,t)}function Id(e){return jIe(e)||wIe(e)||LV(e)||bIe()}function bIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LV(e,t){if(e){if(typeof e=="string")return x_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x_(e,t)}}function wIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jIe(e){if(Array.isArray(e))return x_(e)}function x_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(r),!0).forEach(function(n){We(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function We(e,t,r){return t=FV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FV(e){var t=SIe(e,"string");return Td(t)=="symbol"?t:t+""}function SIe(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Ie={xAxis:["bottom","top"],yAxis:["left","right"]},NIe={width:"100%",height:"100%"},BV={x:0,y:0};function Tg(e){return e}var kIe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},CIe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return ee(ee(ee({},s),Gt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return ee(ee(ee({},s),Gt(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return BV},o0=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Id(l),Id(u)):l},[]);return o.length>0?o:t&&t.length&&be(s)&&be(i)?t.slice(s,i+1):[]};function UV(e){return e==="number"?[0,"auto"]:void 0}var b_=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=o0(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=G1(p,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Id(c),[P8(u,h)]):c},[])},GR=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=kIe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=nNe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=b_(t,r,d,f),p=CIe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},PIe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=j8(d,i);return n.reduce(function(x,m){var b,y=m.type.defaultProps!==void 0?ee(ee({},m.type.defaultProps),m.props):m.props,g=y.type,w=y.dataKey,_=y.allowDataOverflow,j=y.allowDuplicatedCategory,S=y.scale,N=y.ticks,k=y.includeHidden,C=y[o];if(x[C])return x;var E=o0(t.data,{graphicalItems:s.filter(function(B){var G,re=o in B.props?B.props[o]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[o];return re===C}),dataStartIndex:c,dataEndIndex:u}),A=E.length,R,T,I;eIe(y.domain,_,g)&&(R=$S(y.domain,null,_),p&&(g==="number"||S!=="auto")&&(I=ph(E,w,"category")));var O=UV(g);if(!R||R.length===0){var D,V=(D=y.domain)!==null&&D!==void 0?D:O;if(w){if(R=ph(E,w,g),g==="category"&&p){var P=Kde(R);j&&P?(T=R,R=zy(0,A)):j||(R=jI(V,R,m).reduce(function(B,G){return B.indexOf(G)>=0?B:[].concat(Id(B),[G])},[]))}else if(g==="category")j?R=R.filter(function(B){return B!==""&&!gt(B)}):R=jI(V,R,m).reduce(function(B,G){return B.indexOf(G)>=0||G===""||gt(G)?B:[].concat(Id(B),[G])},[]);else if(g==="number"){var $=lNe(E,s.filter(function(B){var G,re,ae=o in B.props?B.props[o]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[o],ke="hide"in B.props?B.props.hide:(re=B.type.defaultProps)===null||re===void 0?void 0:re.hide;return ae===C&&(k||!ke)}),w,i,d);$&&(R=$)}p&&(g==="number"||S!=="auto")&&(I=ph(E,w,"category"))}else p?R=zy(0,A):l&&l[C]&&l[C].hasStack&&g==="number"?R=h==="expand"?[0,1]:C8(l[C].stackGroups,c,u):R=w8(E,s.filter(function(B){var G=o in B.props?B.props[o]:B.type.defaultProps[o],re="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return G===C&&(k||!re)}),g,d,!0);if(g==="number")R=v_(f,R,C,i,N),V&&(R=$S(V,R,_));else if(g==="category"&&V){var K=V,te=R.every(function(B){return K.indexOf(B)>=0});te&&(R=K)}}return ee(ee({},x),{},We({},C,ee(ee({},y),{},{axisType:i,domain:R,categoricalDomain:I,duplicateDomain:T,originalDomain:(b=y.domain)!==null&&b!==void 0?b:O,isCategorical:p,layout:d})))},{})},EIe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=o0(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,x=j8(d,i),m=-1;return n.reduce(function(b,y){var g=y.type.defaultProps!==void 0?ee(ee({},y.type.defaultProps),y.props):y.props,w=g[o],_=UV("number");if(!b[w]){m++;var j;return x?j=zy(0,p):l&&l[w]&&l[w].hasStack?(j=C8(l[w].stackGroups,c,u),j=v_(f,j,w,i)):(j=$S(_,w8(h,n.filter(function(S){var N,k,C=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],E="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!E}),"number",d),s.defaultProps.allowDataOverflow),j=v_(f,j,w,i)),ee(ee({},b),{},We({},w,ee(ee({axisType:i},s.defaultProps),{},{hide:!0,orientation:ws(_Ie,"".concat(i,".").concat(m%2),null),domain:j,originalDomain:_,isCategorical:x,layout:d})))}return b},{})},AIe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=Fs(d,i),p={};return h&&h.length?p=PIe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=EIe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},OIe=function(t){var r=so(t),n=gi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:kC(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Oy(r,n)}},YR=function(t){var r=t.children,n=t.defaultShowTooltip,s=us(r,_d),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},TIe=function(t){return!t||!t.length?!1:t.some(function(r){var n=yi(r&&r.type);return n&&n.indexOf("Bar")>=0})},QR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},IIe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=us(f,_d),x=us(f,ql),m=Object.keys(c).reduce(function(j,S){var N=c[S],k=N.orientation;return!N.mirror&&!N.hide?ee(ee({},j),{},We({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),b=Object.keys(o).reduce(function(j,S){var N=o[S],k=N.orientation;return!N.mirror&&!N.hide?ee(ee({},j),{},We({},k,ws(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),y=ee(ee({},b),m),g=y.bottom;p&&(y.bottom+=p.props.height||_d.defaultProps.height),x&&r&&(y=iNe(y,s,n,r));var w=u-y.left-y.right,_=d-y.top-y.bottom;return ee(ee({brushBottom:g},y),{},{width:Math.max(w,0),height:Math.max(_,0)})},RIe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},VV=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,g){var w=g.graphicalItems,_=g.stackGroups,j=g.offset,S=g.updateId,N=g.dataStartIndex,k=g.dataEndIndex,C=y.barSize,E=y.layout,A=y.barGap,R=y.barCategoryGap,T=y.maxBarSize,I=QR(E),O=I.numericAxisName,D=I.cateAxisName,V=TIe(w),P=[];return w.forEach(function($,K){var te=o0(y.data,{graphicalItems:[$],dataStartIndex:N,dataEndIndex:k}),B=$.type.defaultProps!==void 0?ee(ee({},$.type.defaultProps),$.props):$.props,G=B.dataKey,re=B.maxBarSize,ae=B["".concat(O,"Id")],ke=B["".concat(D,"Id")],J={},ie=c.reduce(function(L,H){var X=g["".concat(H.axisType,"Map")],_e=B["".concat(H.axisType,"Id")];X&&X[_e]||H.axisType==="zAxis"||dc();var ve=X[_e];return ee(ee({},L),{},We(We({},H.axisType,ve),"".concat(H.axisType,"Ticks"),gi(ve)))},J),Y=ie[D],Q=ie["".concat(D,"Ticks")],se=_&&_[ae]&&_[ae].hasStack&&vNe($,_[ae].stackGroups),W=yi($.type).indexOf("Bar")>=0,z=Oy(Y,Q),oe=[],qe=V&&sNe({barSize:C,stackGroups:_,totalSize:RIe(ie,D)});if(W){var Ge,at,Yt=gt(re)?T:re,_t=(Ge=(at=Oy(Y,Q,!0))!==null&&at!==void 0?at:Yt)!==null&&Ge!==void 0?Ge:0;oe=aNe({barGap:A,barCategoryGap:R,bandSize:_t!==z?_t:z,sizeList:qe[ke],maxBarSize:Yt}),_t!==z&&(oe=oe.map(function(L){return ee(ee({},L),{},{position:ee(ee({},L.position),{},{offset:L.position.offset-_t/2})})}))}var wr=$&&$.type&&$.type.getComposedData;wr&&P.push({props:ee(ee({},wr(ee(ee({},ie),{},{displayedData:te,props:y,dataKey:G,item:$,bandSize:z,barPosition:oe,offset:j,stackedData:se,layout:E,dataStartIndex:N,dataEndIndex:k}))),{},We(We(We({key:$.key||"item-".concat(K)},O,ie[O]),D,ie[D]),"animationId",S)),childIndex:afe($,y.children),item:$})}),P},p=function(y,g){var w=y.props,_=y.dataStartIndex,j=y.dataEndIndex,S=y.updateId;if(!p2({props:w}))return null;var N=w.children,k=w.layout,C=w.stackOffset,E=w.data,A=w.reverseStackOrder,R=QR(k),T=R.numericAxisName,I=R.cateAxisName,O=Fs(N,n),D=pNe(E,O,"".concat(T,"Id"),"".concat(I,"Id"),C,A),V=c.reduce(function(B,G){var re="".concat(G.axisType,"Map");return ee(ee({},B),{},We({},re,AIe(w,ee(ee({},G),{},{graphicalItems:O,stackGroups:G.axisType===T&&D,dataStartIndex:_,dataEndIndex:j}))))},{}),P=IIe(ee(ee({},V),{},{props:w,graphicalItems:O}),g==null?void 0:g.legendBBox);Object.keys(V).forEach(function(B){V[B]=d(w,V[B],P,B.replace("Map",""),r)});var $=V["".concat(I,"Map")],K=OIe($),te=h(w,ee(ee({},V),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:O,stackGroups:D,offset:P}));return ee(ee({formattedGraphicalItems:te,graphicalItems:O,offset:P,stackGroups:D},K),V)},x=function(b){function y(g){var w,_,j;return hIe(this,y),j=gIe(this,y,[g]),We(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(j,"accessibilityManager",new JTe),We(j,"handleLegendBBoxUpdate",function(S){if(S){var N=j.state,k=N.dataStartIndex,C=N.dataEndIndex,E=N.updateId;j.setState(ee({legendBBox:S},p({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:E},ee(ee({},j.state),{},{legendBBox:S}))))}}),We(j,"handleReceiveSyncEvent",function(S,N,k){if(j.props.syncId===S){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),We(j,"handleBrushChange",function(S){var N=S.startIndex,k=S.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return ee({dataStartIndex:N,dataEndIndex:k},p({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),We(j,"handleMouseEnter",function(S){var N=j.getMouseInfo(S);if(N){var k=ee(ee({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;Je(C)&&C(k,S)}}),We(j,"triggeredAfterMouseMove",function(S){var N=j.getMouseInfo(S),k=N?ee(ee({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;Je(C)&&C(k,S)}),We(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),We(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),We(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),We(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;Je(k)&&k(N,S)}),We(j,"handleOuterEvent",function(S){var N=sfe(S),k=ws(j.props,"".concat(N));if(N&&Je(k)){var C,E;/.*touch.*/i.test(N)?E=j.getMouseInfo(S.changedTouches[0]):E=j.getMouseInfo(S),k((C=E)!==null&&C!==void 0?C:{},S)}}),We(j,"handleClick",function(S){var N=j.getMouseInfo(S);if(N){var k=ee(ee({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;Je(C)&&C(k,S)}}),We(j,"handleMouseDown",function(S){var N=j.props.onMouseDown;if(Je(N)){var k=j.getMouseInfo(S);N(k,S)}}),We(j,"handleMouseUp",function(S){var N=j.props.onMouseUp;if(Je(N)){var k=j.getMouseInfo(S);N(k,S)}}),We(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),We(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),We(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),We(j,"handleDoubleClick",function(S){var N=j.props.onDoubleClick;if(Je(N)){var k=j.getMouseInfo(S);N(k,S)}}),We(j,"handleContextMenu",function(S){var N=j.props.onContextMenu;if(Je(N)){var k=j.getMouseInfo(S);N(k,S)}}),We(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&Ww.emit(Hw,j.props.syncId,S,j.eventEmitterSymbol)}),We(j,"applySyncEvent",function(S){var N=j.props,k=N.layout,C=N.syncMethod,E=j.state.updateId,A=S.dataStartIndex,R=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(ee({dataStartIndex:A,dataEndIndex:R},p({props:j.props,dataStartIndex:A,dataEndIndex:R,updateId:E},j.state)));else if(S.activeTooltipIndex!==void 0){var T=S.chartX,I=S.chartY,O=S.activeTooltipIndex,D=j.state,V=D.offset,P=D.tooltipTicks;if(!V)return;if(typeof C=="function")O=C(P,S);else if(C==="value"){O=-1;for(var $=0;$<P.length;$++)if(P[$].value===S.activeLabel){O=$;break}}var K=ee(ee({},V),{},{x:V.left,y:V.top}),te=Math.min(T,K.x+K.width),B=Math.min(I,K.y+K.height),G=P[O]&&P[O].value,re=b_(j.state,j.props.data,O),ae=P[O]?{x:k==="horizontal"?P[O].coordinate:te,y:k==="horizontal"?B:P[O].coordinate}:BV;j.setState(ee(ee({},S),{},{activeLabel:G,activeCoordinate:ae,activePayload:re,activeTooltipIndex:O}))}else j.setState(S)}),We(j,"renderCursor",function(S){var N,k=j.state,C=k.isTooltipActive,E=k.activeCoordinate,A=k.activePayload,R=k.offset,T=k.activeTooltipIndex,I=k.tooltipAxisBandSize,O=j.getTooltipEventType(),D=(N=S.props.active)!==null&&N!==void 0?N:C,V=j.props.layout,P=S.key||"_recharts-cursor";return M.createElement(iIe,{key:P,activeCoordinate:E,activePayload:A,activeTooltipIndex:T,chartName:r,element:S,isActive:D,layout:V,offset:R,tooltipAxisBandSize:I,tooltipEventType:O})}),We(j,"renderPolarAxis",function(S,N,k){var C=ws(S,"type.axisType"),E=ws(j.state,"".concat(C,"Map")),A=S.type.defaultProps,R=A!==void 0?ee(ee({},A),S.props):S.props,T=E&&E[R["".concat(C,"Id")]];return v.cloneElement(S,ee(ee({},T),{},{className:ft(C,T.className),key:S.key||"".concat(N,"-").concat(k),ticks:gi(T,!0)}))}),We(j,"renderPolarGrid",function(S){var N=S.props,k=N.radialLines,C=N.polarAngles,E=N.polarRadius,A=j.state,R=A.radiusAxisMap,T=A.angleAxisMap,I=so(R),O=so(T),D=O.cx,V=O.cy,P=O.innerRadius,$=O.outerRadius;return v.cloneElement(S,{polarAngles:Array.isArray(C)?C:gi(O,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(E)?E:gi(I,!0).map(function(K){return K.coordinate}),cx:D,cy:V,innerRadius:P,outerRadius:$,key:S.key||"polar-grid",radialLines:k})}),We(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,N=j.props,k=N.children,C=N.width,E=N.height,A=j.props.margin||{},R=C-(A.left||0)-(A.right||0),T=x8({children:k,formattedGraphicalItems:S,legendWidth:R,legendContent:u});if(!T)return null;var I=T.item,O=HR(T,oIe);return v.cloneElement(I,ee(ee({},O),{},{chartWidth:C,chartHeight:E,margin:A,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),We(j,"renderTooltip",function(){var S,N=j.props,k=N.children,C=N.accessibilityLayer,E=us(k,aa);if(!E)return null;var A=j.state,R=A.isTooltipActive,T=A.activeCoordinate,I=A.activePayload,O=A.activeLabel,D=A.offset,V=(S=E.props.active)!==null&&S!==void 0?S:R;return v.cloneElement(E,{viewBox:ee(ee({},D),{},{x:D.left,y:D.top}),active:V,label:O,payload:V?I:[],coordinate:T,accessibilityLayer:C})}),We(j,"renderBrush",function(S){var N=j.props,k=N.margin,C=N.data,E=j.state,A=E.offset,R=E.dataStartIndex,T=E.dataEndIndex,I=E.updateId;return v.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Cg(j.handleBrushChange,S.props.onChange),data:C,x:be(S.props.x)?S.props.x:A.left,y:be(S.props.y)?S.props.y:A.top+A.height+A.brushBottom-(k.bottom||0),width:be(S.props.width)?S.props.width:A.width,startIndex:R,endIndex:T,updateId:"brush-".concat(I)})}),We(j,"renderReferenceElement",function(S,N,k){if(!S)return null;var C=j,E=C.clipPathId,A=j.state,R=A.xAxisMap,T=A.yAxisMap,I=A.offset,O=S.type.defaultProps||{},D=S.props,V=D.xAxisId,P=V===void 0?O.xAxisId:V,$=D.yAxisId,K=$===void 0?O.yAxisId:$;return v.cloneElement(S,{key:S.key||"".concat(N,"-").concat(k),xAxis:R[P],yAxis:T[K],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:E})}),We(j,"renderActivePoints",function(S){var N=S.item,k=S.activePoint,C=S.basePoint,E=S.childIndex,A=S.isRange,R=[],T=N.props.key,I=N.item.type.defaultProps!==void 0?ee(ee({},N.item.type.defaultProps),N.item.props):N.item.props,O=I.activeDot,D=I.dataKey,V=ee(ee({index:E,dataKey:D,cx:k.x,cy:k.y,r:4,fill:ZC(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Qe(O,!1)),sy(O));return R.push(y.renderActiveDot(O,V,"".concat(T,"-activePoint-").concat(E))),C?R.push(y.renderActiveDot(O,ee(ee({},V),{},{cx:C.x,cy:C.y}),"".concat(T,"-basePoint-").concat(E))):A&&R.push(null),R}),We(j,"renderGraphicChild",function(S,N,k){var C=j.filterFormatItem(S,N,k);if(!C)return null;var E=j.getTooltipEventType(),A=j.state,R=A.isTooltipActive,T=A.tooltipAxis,I=A.activeTooltipIndex,O=A.activeLabel,D=j.props.children,V=us(D,aa),P=C.props,$=P.points,K=P.isRange,te=P.baseLine,B=C.item.type.defaultProps!==void 0?ee(ee({},C.item.type.defaultProps),C.item.props):C.item.props,G=B.activeDot,re=B.hide,ae=B.activeBar,ke=B.activeShape,J=!!(!re&&R&&V&&(G||ae||ke)),ie={};E!=="axis"&&V&&V.props.trigger==="click"?ie={onClick:Cg(j.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(ie={onMouseLeave:Cg(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Cg(j.handleItemMouseEnter,S.props.onMouseEnter)});var Y=v.cloneElement(S,ee(ee({},C.props),ie));function Q(H){return typeof T.dataKey=="function"?T.dataKey(H.payload):null}if(J)if(I>=0){var se,W;if(T.dataKey&&!T.allowDuplicatedCategory){var z=typeof T.dataKey=="function"?Q:"payload.".concat(T.dataKey.toString());se=G1($,z,O),W=K&&te&&G1(te,z,O)}else se=$==null?void 0:$[I],W=K&&te&&te[I];if(ke||ae){var oe=S.props.activeIndex!==void 0?S.props.activeIndex:I;return[v.cloneElement(S,ee(ee(ee({},C.props),ie),{},{activeIndex:oe})),null,null]}if(!gt(se))return[Y].concat(Id(j.renderActivePoints({item:C,activePoint:se,basePoint:W,childIndex:I,isRange:K})))}else{var qe,Ge=(qe=j.getItemByXY(j.state.activeCoordinate))!==null&&qe!==void 0?qe:{graphicalItem:Y},at=Ge.graphicalItem,Yt=at.item,_t=Yt===void 0?S:Yt,wr=at.childIndex,L=ee(ee(ee({},C.props),ie),{},{activeIndex:wr});return[v.cloneElement(_t,L),null,null]}return K?[Y,null,null]:[Y,null]}),We(j,"renderCustomized",function(S,N,k){return v.cloneElement(S,ee(ee({key:"recharts-customized-".concat(k)},j.props),j.state))}),We(j,"renderMap",{CartesianGrid:{handler:Tg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Tg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Tg},YAxis:{handler:Tg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=g.id)!==null&&w!==void 0?w:_p("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=yU(j.triggeredAfterMouseMove,(_=g.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return xIe(y,b),pIe(y,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,j=w.data,S=w.height,N=w.layout,k=us(_,aa);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,A=b_(this.state,j,C,E),R=this.state.tooltipTicks[C].coordinate,T=(this.state.offset.top+S)/2,I=N==="horizontal",O=I?{x:R,y:T}:{y:R,x:T},D=this.state.formattedGraphicalItems.find(function(P){var $=P.item;return $.type.name==="Scatter"});D&&(O=ee(ee({},O),D.props.points[C].tooltipPosition),A=D.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:E,activePayload:A,activeCoordinate:O};this.setState(V),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){Q1([us(w.children,aa)],[us(this.props.children,aa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=us(this.props.children,aa);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=Owe(j),N={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},k=j.width/_.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var E=this.state,A=E.xAxisMap,R=E.yAxisMap,T=this.getTooltipEventType(),I=GR(this.state,this.props.data,this.props.layout,C);if(T!=="axis"&&A&&R){var O=so(A).scale,D=so(R).scale,V=O&&O.invert?O.invert(N.chartX):null,P=D&&D.invert?D.invert(N.chartY):null;return ee(ee({},N),{},{xValue:V,yValue:P},I)}return I?ee(ee({},N),I):null}},{key:"inRange",value:function(w,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=w/j,k=_/j;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,E=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return E?{x:N,y:k}:null}var A=this.state,R=A.angleAxisMap,T=A.radiusAxisMap;if(R&&T){var I=so(R);return NI({x:N,y:k},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),j=us(w,aa),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=sy(this.props,this.handleOuterEvent);return ee(ee({},N),S)}},{key:"addListener",value:function(){Ww.on(Hw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ww.removeListener(Hw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,j){for(var S=this.state.formattedGraphicalItems,N=0,k=S.length;N<k;N++){var C=S[N];if(C.item===w||C.props.key===w.key||_===yi(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,N=_.height,k=_.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:j,y:S,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=WR(j,2),N=S[0],k=S[1];return ee(ee({},_),{},We({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=WR(j,2),N=S[0],k=S[1];return ee(ee({},_),{},We({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var C=j[N],E=C.props,A=C.item,R=A.type.defaultProps!==void 0?ee(ee({},A.type.defaultProps),A.props):A.props,T=yi(A.type);if(T==="Bar"){var I=(E.data||[]).find(function(P){return vPe(w,P)});if(I)return{graphicalItem:C,payload:I}}else if(T==="RadialBar"){var O=(E.data||[]).find(function(P){return NI(w,P)});if(O)return{graphicalItem:C,payload:O}}else if(Zb(C,S)||Jb(C,S)||$m(C,S)){var D=aAe({graphicalItem:C,activeTooltipItem:S,itemData:R.data}),V=R.activeIndex===void 0?D:R.activeIndex;return{graphicalItem:ee(ee({},C),{},{childIndex:V}),payload:$m(C,S)?R.data[D]:C.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!p2(this))return null;var _=this.props,j=_.children,S=_.className,N=_.width,k=_.height,C=_.style,E=_.compact,A=_.title,R=_.desc,T=HR(_,lIe),I=Qe(T,!1);if(E)return M.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Z1,vu({},I,{width:N,height:k,title:A,desc:R}),this.renderClipPath(),v2(j,this.renderMap)));if(this.props.accessibilityLayer){var O,D;I.tabIndex=(O=this.props.tabIndex)!==null&&O!==void 0?O:0,I.role=(D=this.props.role)!==null&&D!==void 0?D:"application",I.onKeyDown=function(P){w.accessibilityManager.keyboardEvent(P)},I.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return M.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",vu({className:ft("recharts-wrapper",S),style:ee({position:"relative",cursor:"default",width:N,height:k},C)},V,{ref:function($){w.container=$}}),M.createElement(Z1,vu({},I,{width:N,height:k,title:A,desc:R,style:NIe}),this.renderClipPath(),v2(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);We(x,"displayName",r),We(x,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),We(x,"getDerivedStateFromProps",function(b,y){var g=b.dataKey,w=b.data,_=b.children,j=b.width,S=b.height,N=b.layout,k=b.stackOffset,C=b.margin,E=y.dataStartIndex,A=y.dataEndIndex;if(y.updateId===void 0){var R=YR(b);return ee(ee(ee({},R),{},{updateId:0},p(ee(ee({props:b},R),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(g!==y.prevDataKey||w!==y.prevData||j!==y.prevWidth||S!==y.prevHeight||N!==y.prevLayout||k!==y.prevStackOffset||!Cu(C,y.prevMargin)){var T=YR(b),I={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},O=ee(ee({},GR(y,w,N)),{},{updateId:y.updateId+1}),D=ee(ee(ee({},T),I),O);return ee(ee(ee({},D),p(ee({props:b},D),y)),{},{prevDataKey:g,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(!Q1(_,y.prevChildren)){var V,P,$,K,te=us(_,_d),B=te&&(V=(P=te.props)===null||P===void 0?void 0:P.startIndex)!==null&&V!==void 0?V:E,G=te&&($=(K=te.props)===null||K===void 0?void 0:K.endIndex)!==null&&$!==void 0?$:A,re=B!==E||G!==A,ae=!gt(w),ke=ae&&!re?y.updateId:y.updateId+1;return ee(ee({updateId:ke},p(ee(ee({props:b},y),{},{updateId:ke,dataStartIndex:B,dataEndIndex:G}),y)),{},{prevChildren:_,dataStartIndex:B,dataEndIndex:G})}return null}),We(x,"renderActiveDot",function(b,y,g){var w;return v.isValidElement(b)?w=v.cloneElement(b,y):Je(b)?w=b(y):w=M.createElement(eP,y),M.createElement(Dt,{className:"recharts-active-dot",key:g},w)});var m=v.forwardRef(function(y,g){return M.createElement(x,vu({},y,{ref:g}))});return m.displayName=x.displayName,m},$Ie=VV({chartName:"BarChart",GraphicalChild:Cc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:a0},{axisType:"yAxis",AxisComp:i0}],formatAxisMap:DOe}),MIe=VV({chartName:"PieChart",GraphicalChild:Ui,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Xb},{axisType:"radiusAxis",AxisComp:Yb}],formatAxisMap:CNe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Ig={VERIFIED:"#22c55e",PENDING_VERIFICATION:"#eab308",PENDING_PAYMENT:"#6b7280",REJECTED:"#ef4444"};function DIe(){const{adminPath:e}=op(),t=`/${e}`,{data:r}=we({queryKey:["/api/admin/facilities"]}),{data:n}=we({queryKey:["/api/admin/announcements"]}),{data:s}=we({queryKey:["/api/admin/gallery"]}),{data:i}=we({queryKey:["/api/admin/pricing-tiers"]}),{data:o}=we({queryKey:["/api/admin/careers"]}),{data:l}=we({queryKey:["/api/admin/rules"]}),{data:c}=we({queryKey:["/api/admin/bookings"]}),{data:u}=we({queryKey:["/api/admin/users"]}),d=(c==null?void 0:c.filter(j=>j.paymentStatus==="PENDING_VERIFICATION").length)||0,f=(c==null?void 0:c.filter(j=>j.status==="CONFIRMED").length)||0,h=(c==null?void 0:c.filter(j=>j.paymentStatus==="VERIFIED").reduce((j,S)=>j+(S.totalPrice||0),0))||0,p=[{name:"Verified",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="VERIFIED").length)||0,color:Ig.VERIFIED},{name:"Pending Verification",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="PENDING_VERIFICATION").length)||0,color:Ig.PENDING_VERIFICATION},{name:"Awaiting Payment",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="PENDING_PAYMENT").length)||0,color:Ig.PENDING_PAYMENT},{name:"Rejected",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="REJECTED").length)||0,color:Ig.REJECTED}].filter(j=>j.value>0),x=(r==null?void 0:r.map(j=>({name:j.name.length>15?j.name.slice(0,12)+"...":j.name,fullName:j.name,bookings:(c==null?void 0:c.filter(S=>S.facilityId===j.id).length)||0,revenue:(c==null?void 0:c.filter(S=>S.facilityId===j.id&&S.paymentStatus==="VERIFIED").reduce((S,N)=>S+(N.totalPrice||0),0))||0})))||[],m=(c==null?void 0:c.slice().sort((j,S)=>{const N=new Date(`${j.date} ${j.startTime}`);return new Date(`${S.date} ${S.startTime}`).getTime()-N.getTime()}).slice(0,5))||[],b=[{label:"Total Bookings",value:(c==null?void 0:c.length)||0,icon:kn,color:"text-blue-500",bgColor:"bg-blue-500/10",trend:`${f} confirmed`},{label:"Pending Verification",value:d,icon:Yr,color:"text-amber-500",bgColor:"bg-amber-500/10",trend:d>0?"Action needed":"All clear"},{label:"Verified Revenue",value:`PKR ${h.toLocaleString()}`,icon:o1,color:"text-green-500",bgColor:"bg-green-500/10",trend:`${(c==null?void 0:c.filter(j=>j.paymentStatus==="VERIFIED").length)||0} payments`},{label:"Total Users",value:(u==null?void 0:u.length)||0,icon:pn,color:"text-purple-500",bgColor:"bg-purple-500/10",trend:`${(u==null?void 0:u.filter(j=>j.role==="ADMIN"||j.role==="SUPER_ADMIN").length)||0} admins`}],y=[{label:"Facilities",value:(r==null?void 0:r.length)||0,icon:Nn,color:"text-blue-500"},{label:"Pricing Tiers",value:(i==null?void 0:i.length)||0,icon:o1,color:"text-green-500"},{label:"Announcements",value:(n==null?void 0:n.length)||0,icon:Xu,color:"text-amber-500"},{label:"Career Listings",value:(o==null?void 0:o.length)||0,icon:Dh,color:"text-purple-500"},{label:"Rules & Policies",value:(l==null?void 0:l.length)||0,icon:Jl,color:"text-red-500"},{label:"Gallery Images",value:(s==null?void 0:s.length)||0,icon:Ni,color:"text-indigo-500"}],g=j=>{switch(j){case"VERIFIED":return a.jsx(je,{className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return a.jsx(je,{className:"bg-amber-500",children:"Pending"});case"REJECTED":return a.jsx(je,{variant:"destructive",children:"Rejected"});default:return a.jsx(je,{variant:"secondary",children:"Awaiting"})}},w=(j,S)=>j==="CONFIRMED"&&S==="VERIFIED"?a.jsx(je,{className:"bg-green-600",children:"Confirmed"}):j==="CANCELLED"?a.jsx(je,{variant:"destructive",children:"Cancelled"}):a.jsx(je,{variant:"secondary",children:"Tentative"}),_=j=>{if(!j||!r)return"Unknown";const S=r.find(N=>N.id===j);return(S==null?void 0:S.name)||"Unknown"};return a.jsx(wt,{title:"Dashboard",children:a.jsxs("div",{className:"space-y-6",children:[d>0&&a.jsx(me,{className:"border-amber-500 bg-amber-50 dark:bg-amber-900/20","data-testid":"alert-pending-verification",children:a.jsxs(ge,{className:"flex flex-wrap items-center gap-4 p-4",children:[a.jsx(Rn,{className:"h-5 w-5 text-amber-600 shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("span",{className:"font-medium text-amber-800 dark:text-amber-200",children:[d," booking",d>1?"s":""," pending payment verification"]}),a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Review and verify payments to confirm bookings."})]}),a.jsx(le,{href:`${t}/bookings`,children:a.jsxs(U,{size:"sm",variant:"outline","data-testid":"button-view-pending",children:["View Pending ",a.jsx(Gn,{className:"w-4 h-4 ml-1"})]})})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map(j=>{const S=j.icon;return a.jsx(me,{"data-testid":`card-stat-${j.label.toLowerCase().replace(/\s+/g,"-")}`,children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:j.label}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:j.value}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[a.jsx(jK,{className:"w-3 h-3"}),j.trend]})]}),a.jsx("div",{className:`p-3 rounded-full ${j.bgColor}`,children:a.jsx(S,{className:`w-6 h-6 ${j.color}`})})]})})},j.label)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(me,{children:[a.jsxs(Xe,{children:[a.jsx(et,{className:"text-lg",children:"Bookings by Facility"}),a.jsx(Kt,{children:"Total bookings and revenue per facility"})]}),a.jsx(ge,{children:x.length>0?a.jsx("div",{className:"h-[300px]",children:a.jsx(mT,{width:"100%",height:"100%",children:a.jsxs($Ie,{data:x,margin:{top:10,right:10,left:-10,bottom:0},children:[a.jsx(CV,{strokeDasharray:"3 3",className:"stroke-muted"}),a.jsx(a0,{dataKey:"name",tick:{fontSize:11},className:"text-muted-foreground"}),a.jsx(i0,{tick:{fontSize:11},className:"text-muted-foreground"}),a.jsx(aa,{formatter:(j,S)=>[S==="revenue"?`PKR ${j.toLocaleString()}`:j,S==="revenue"?"Revenue":"Bookings"],labelFormatter:j=>{const S=x.find(N=>N.name===j);return(S==null?void 0:S.fullName)||j},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(Cc,{dataKey:"bookings",fill:"#3b82f6",radius:[4,4,0,0],name:"Bookings"})]})})}):a.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No booking data available"})})]}),a.jsxs(me,{children:[a.jsxs(Xe,{children:[a.jsx(et,{className:"text-lg",children:"Payment Status Distribution"}),a.jsx(Kt,{children:"Overview of payment statuses across all bookings"})]}),a.jsx(ge,{children:p.length>0?a.jsx("div",{className:"h-[300px]",children:a.jsx(mT,{width:"100%",height:"100%",children:a.jsxs(MIe,{children:[a.jsx(Ui,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:p.map((j,S)=>a.jsx(Rb,{fill:j.color},`cell-${S}`))}),a.jsx(aa,{formatter:j=>[j,"Bookings"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(ql,{})]})})}):a.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No payment data available"})})]})]}),a.jsxs(me,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{className:"text-lg",children:"Recent Bookings"}),a.jsx(Kt,{children:"Latest booking activity"})]}),a.jsx(le,{href:`${t}/bookings`,children:a.jsxs(U,{variant:"outline",size:"sm","data-testid":"button-view-all-bookings",children:["View All ",a.jsx(Gn,{className:"w-4 h-4 ml-1"})]})})]}),a.jsx(ge,{children:m.length>0?a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{children:"Booking ID"}),a.jsx(Ne,{children:"Date / Time"}),a.jsx(Ne,{children:"Facility"}),a.jsx(Ne,{children:"Amount"}),a.jsx(Ne,{children:"Payment"}),a.jsx(Ne,{children:"Status"})]})}),a.jsx(ts,{children:m.map(j=>{var S;return a.jsxs(bt,{"data-testid":`row-recent-booking-${j.id}`,children:[a.jsxs(xe,{className:"font-mono text-xs",children:[j.id.slice(0,8),"..."]}),a.jsxs(xe,{children:[a.jsx("div",{className:"text-sm font-medium",children:j.date}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[j.startTime," - ",j.endTime]})]}),a.jsxs(xe,{children:[a.jsx("div",{className:"text-sm",children:_(j.facilityId)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",j.resourceId]})]}),a.jsx(xe,{children:a.jsxs("span",{className:"font-medium",children:["PKR ",((S=j.totalPrice)==null?void 0:S.toLocaleString())||0]})}),a.jsx(xe,{children:g(j.paymentStatus)}),a.jsx(xe,{children:w(j.status,j.paymentStatus)})]},j.id)})})]})}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings yet"})})]}),a.jsxs(me,{children:[a.jsxs(Xe,{children:[a.jsx(et,{className:"text-lg",children:"Content Overview"}),a.jsx(Kt,{children:"Quick stats on website content managed through the admin panel"})]}),a.jsx(ge,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:y.map(j=>{const S=j.icon;return a.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50","data-testid":`stat-${j.label.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(S,{className:`w-8 h-8 mx-auto mb-2 ${j.color}`}),a.jsx("p",{className:"text-2xl font-bold",children:j.value}),a.jsx("p",{className:"text-xs text-muted-foreground",children:j.label})]},j.label)})})})]})]})})}const Gw={hero:{title:"Hero Section",description:"The main banner section at the top of the homepage.",fields:[{key:"hero_eyebrow",label:"Eyebrow Text",type:"text",placeholder:"Target Launch: Q4 2026"},{key:"hero_title",label:"Main Title",type:"textarea",placeholder:"A bright, premium multi-sport arena..."},{key:"hero_subtitle",label:"Subtitle",type:"textarea",placeholder:"The Quarterdeck brings state-of-the-art..."},{key:"hero_launch_date",label:"Launch Date (for countdown)",type:"date"},{key:"hero_cta_1",label:"Primary Button Text",type:"text",placeholder:"Explore Facilities"},{key:"hero_cta_2",label:"Secondary Button Text",type:"text",placeholder:"View Site Updates"}]},about:{title:"About Section",description:"Information about The Quarterdeck's vision and team.",fields:[{key:"about_title",label:"Section Title",type:"text",placeholder:"About The Quarterdeck"},{key:"about_subtitle",label:"Section Subtitle",type:"textarea",placeholder:"Our core vision..."},{key:"about_vision_title",label:"Vision Card Title",type:"text",placeholder:"Vision & Philosophy"},{key:"about_vision_content",label:"Vision Content",type:"textarea",placeholder:"The Quarterdeck is born from..."},{key:"about_vision_content_2",label:"Vision Content (Paragraph 2)",type:"textarea"},{key:"about_team_title",label:"Team Card Title",type:"text",placeholder:"The Project Team"},{key:"about_team_content",label:"Team Content",type:"textarea"}]},facilities:{title:"Facilities Section",description:"Overview of available sports facilities.",fields:[{key:"facilities_title",label:"Section Title",type:"text",placeholder:"World-Class Facilities"},{key:"facilities_subtitle",label:"Section Subtitle",type:"textarea"},{key:"facilities_cta",label:"CTA Button Text",type:"text",placeholder:"Check Court Availability"}]},membership:{title:"Membership Section",description:"Membership options and benefits.",fields:[{key:"membership_title",label:"Section Title",type:"text",placeholder:"Membership Options"},{key:"membership_subtitle",label:"Section Subtitle",type:"textarea"},{key:"membership_cta",label:"CTA Button Text",type:"text",placeholder:"Explore Membership"}]},contact:{title:"Contact Information",description:"Contact details displayed across the site.",fields:[{key:"contact_title",label:"Section Title",type:"text",placeholder:"Get In Touch"},{key:"contact_subtitle",label:"Section Subtitle",type:"textarea"},{key:"contact_email",label:"Email Address",type:"email",placeholder:"info@thequarterdeck.pk"},{key:"contact_phone",label:"Phone Number",type:"text",placeholder:"+92 51 1234567"},{key:"contact_address",label:"Physical Address",type:"textarea"},{key:"contact_hours",label:"Operating Hours",type:"text"}]},updates:{title:"Updates Section",description:"Construction updates and progress section.",fields:[{key:"updates_title",label:"Section Title",type:"text",placeholder:"Construction Updates"},{key:"updates_subtitle",label:"Section Subtitle",type:"textarea"},{key:"updates_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Roadmap"}]},gallery:{title:"Gallery Section",description:"Progress photos and renders section.",fields:[{key:"gallery_title",label:"Section Title",type:"text",placeholder:"Gallery & Progress Photos"},{key:"gallery_subtitle",label:"Section Subtitle",type:"textarea"},{key:"gallery_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Gallery"}]},careers:{title:"Careers Page",description:"Content for the careers/jobs section.",fields:[{key:"careers_title",label:"Page Title",type:"text",placeholder:"Join Our Team"},{key:"careers_subtitle",label:"Page Subtitle",type:"textarea"},{key:"careers_cta",label:"CTA Button Text",type:"text",placeholder:"View Open Positions"}]},rules:{title:"Rules Page",description:"Club rules and etiquette content.",fields:[{key:"rules_title",label:"Page Title",type:"text",placeholder:"Club Rules & Etiquette"},{key:"rules_subtitle",label:"Page Subtitle",type:"textarea"},{key:"rules_cta",label:"CTA Button Text",type:"text",placeholder:"View All Rules"}]},events:{title:"Events Page",description:"Content for events and programs section.",fields:[{key:"events_title",label:"Page Title",type:"text",placeholder:"Events & Programs"},{key:"events_subtitle",label:"Page Subtitle",type:"textarea"}]},leaderboard:{title:"Leaderboard Page",description:"Content for the leaderboard section.",fields:[{key:"leaderboard_title",label:"Page Title",type:"text",placeholder:"Leaderboard"},{key:"leaderboard_subtitle",label:"Page Subtitle",type:"textarea"}]},coming_soon:{title:"Coming Soon Page",description:"Content for the pre-launch Coming Soon page.",fields:[{key:"coming_soon_title",label:"Page Title",type:"text",placeholder:"Something Amazing Is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",type:"textarea"},{key:"coming_soon_description",label:"Description",type:"textarea"},{key:"coming_soon_cta",label:"CTA Button Text",type:"text",placeholder:"Join the Waitlist"},{key:"coming_soon_launch_date",label:"Launch Date",type:"date"},{key:"coming_soon_location",label:"Location Text",type:"text"}]},social:{title:"Social Media Links",description:"Social media profile URLs.",fields:[{key:"social_facebook",label:"Facebook URL",type:"text"},{key:"social_instagram",label:"Instagram URL",type:"text"},{key:"social_twitter",label:"Twitter/X URL",type:"text"},{key:"social_linkedin",label:"LinkedIn URL",type:"text"},{key:"social_youtube",label:"YouTube URL",type:"text"}]},footer:{title:"Footer Content",description:"Footer text and copyright information.",fields:[{key:"footer_tagline",label:"Tagline",type:"text"},{key:"footer_copyright",label:"Copyright Text",type:"text"},{key:"footer_disclaimer",label:"Disclaimer Text",type:"textarea"}]}};function LIe(){const{toast:e}=Et(),[t,r]=v.useState({}),[n,s]=v.useState(new Set),[i,o]=v.useState(new Set),{data:l,isLoading:c}=we({queryKey:["/api/admin/cms"]});v.useEffect(()=>{if(l){const g={};l.forEach(w=>{g[w.key]=w.content||""}),r(w=>({...g,...w}))}},[l]);const u=Re({mutationFn:async g=>await Oe("POST","/api/admin/cms",{key:g.key,title:g.title,content:g.content}),onSuccess:(g,w)=>{Se.invalidateQueries({queryKey:["/api/admin/cms"]}),Se.invalidateQueries({queryKey:["/api/cms/bulk"]}),s(_=>{const j=new Set(_);return j.delete(w.key),j}),o(_=>new Set(_).add(w.key)),setTimeout(()=>{o(_=>{const j=new Set(_);return j.delete(w.key),j})},2e3),e({title:"Content saved successfully"})},onError:(g,w)=>{s(_=>{const j=new Set(_);return j.delete(w.key),j}),e({title:"Failed to save content",variant:"destructive"})}}),d=g=>{const w=l==null?void 0:l.find(_=>_.key===g);return(w==null?void 0:w.content)??void 0},f=g=>Ye[g]||"",h=g=>{const w=d(g);return w!==void 0&&w!==""},p=g=>{const w=d(g)||"",_=t[g];return _!==void 0&&_!==w},x=(g,w)=>{r(_=>({..._,[g]:w}))},m=(g,w)=>{const _=t[g]??d(g)??"";s(j=>new Set(j).add(g)),u.mutate({key:g,content:_,title:w})},b=g=>{Gw[g].fields.forEach(_=>{((t[_.key]??d(_.key)??"")||p(_.key))&&m(_.key,_.label)})},y=g=>{const w=f(g);r(_=>({..._,[g]:w}))};return c?a.jsx(wt,{title:"Site Content",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(ut,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):a.jsx(wt,{title:"Site Content",children:a.jsx("div",{className:"space-y-6",children:a.jsxs(me,{children:[a.jsx(Xe,{children:a.jsx(et,{children:"Edit Site Content"})}),a.jsxs(ge,{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(YE,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm",children:"Saved in database"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jl,{className:"w-4 h-4 text-amber-600"}),a.jsx("span",{className:"text-sm",children:"Using default value"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rn,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm",children:"Unsaved changes"})]})]}),a.jsxs(Ei,{defaultValue:"hero",className:"w-full",children:[a.jsx(Va,{className:"flex flex-wrap h-auto gap-1 mb-6",children:Object.entries(Gw).map(([g,w])=>a.jsx(yr,{value:g,className:"text-xs","data-testid":`tab-${g}`,children:w.title},g))}),Object.entries(Gw).map(([g,w])=>a.jsxs(xr,{value:g,className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:w.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]}),a.jsxs(U,{variant:"outline",onClick:()=>b(g),"data-testid":`button-save-all-${g}`,children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),"Save All Changes"]})]}),a.jsx("div",{className:"space-y-6",children:w.fields.map(_=>{const j=d(_.key),S=f(_.key),N=t[_.key]??j??"",k=h(_.key),C=p(_.key);return a.jsxs("div",{className:"space-y-2 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{htmlFor:_.key,className:"font-medium",children:_.label}),i.has(_.key)?a.jsxs(je,{className:"bg-green-500 text-xs",children:[a.jsx(Cv,{className:"w-3 h-3 mr-1"}),"Saved"]}):C?a.jsxs(je,{variant:"outline",className:"text-blue-600 border-blue-600 text-xs",children:[a.jsx(Rn,{className:"w-3 h-3 mr-1"}),"Unsaved"]}):k?a.jsxs(je,{variant:"outline",className:"text-green-600 border-green-600 text-xs",children:[a.jsx(YE,{className:"w-3 h-3 mr-1"}),"Database"]}):S?a.jsxs(je,{variant:"outline",className:"text-amber-600 border-amber-600 text-xs",children:[a.jsx(Jl,{className:"w-3 h-3 mr-1"}),"Default"]}):null]}),a.jsxs("div",{className:"flex items-center gap-1",children:[S&&!k&&a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>y(_.key),className:"text-xs",title:"Use default value",children:"Reset"}),a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>m(_.key,_.label),disabled:n.has(_.key),"data-testid":`button-save-${_.key}`,children:n.has(_.key)?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):a.jsx(sn,{className:"w-4 h-4"})})]})]}),S&&!k&&a.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded border-l-2 border-amber-500",children:[a.jsx("span",{className:"font-medium",children:"Currently showing on website: "}),a.jsx("span",{className:"italic",children:S.length>150?S.substring(0,150)+"...":S})]}),_.type==="textarea"?a.jsx(gr,{id:_.key,value:N,onChange:E=>x(_.key,E.target.value),placeholder:_.placeholder||S||"Enter content...",rows:4,className:C?"border-blue-500":"","data-testid":`input-${_.key}`}):a.jsx(ne,{id:_.key,type:_.type==="date"?"date":_.type==="email"?"email":"text",value:N,onChange:E=>x(_.key,E.target.value),placeholder:_.placeholder||S||"Enter content...",className:C?"border-blue-500":"","data-testid":`input-${_.key}`})]},_.key)})})]},g))]})]})]})})})}const XR=[{key:"coming_soon_launch_date",label:"Launch Date",description:"The countdown timer on the Coming Soon page counts down to this date",type:"date",pageRef:"/coming-soon",defaultValue:Ye.coming_soon_launch_date||"2025-12-25"},{key:"coming_soon_title",label:"Main Title",description:"The large heading on the Coming Soon page",type:"text",pageRef:"/coming-soon",defaultValue:Ye.coming_soon_title||"Something Extraordinary is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",description:"The description text below the main title",type:"textarea",pageRef:"/coming-soon",defaultValue:Ye.coming_soon_subtitle||"Premium sports and recreation complex launching soon in Islamabad"},{key:"coming_soon_location",label:"Location",description:"The location displayed at the bottom of the page",type:"text",pageRef:"/coming-soon",defaultValue:Ye.coming_soon_location||"Sector F-7, Islamabad"},{key:"hero_eyebrow",label:"Launch Badge Text",description:"The small badge text shown above the countdown (e.g., 'Target Launch: Q4 2025')",type:"text",pageRef:"/coming-soon",defaultValue:Ye.hero_eyebrow||"Target Launch: Q4 2025"}];function FIe(){const{toast:e}=Et(),[t,r]=v.useState({}),[n,s]=v.useState(new Set),{data:i,isLoading:o}=we({queryKey:["/api/cms"]}),{data:l,isLoading:c}=we({queryKey:["/api/admin/site-settings"]});v.useEffect(()=>{if(!o&&!c){const y={};XR.forEach(g=>{const w=i==null?void 0:i.find(j=>j.key===g.key),_=l==null?void 0:l.find(j=>j.key===g.key);y[g.key]=(w==null?void 0:w.content)||(_==null?void 0:_.value)||g.defaultValue}),r(y)}},[i,l,o,c]);const u=Re({mutationFn:async({key:y,value:g})=>await Oe("POST","/api/admin/cms",{key:y,value:g}),onSuccess:(y,g)=>{Se.invalidateQueries({queryKey:["/api/cms"]}),Se.invalidateQueries({queryKey:["/api/cms/bulk"]}),Se.invalidateQueries({queryKey:["/api/admin/site-settings"]}),s(w=>{const _=new Set(w);return _.delete(g.key),_}),e({title:"Setting saved successfully"})},onError:()=>{e({title:"Failed to save setting",variant:"destructive"})}}),d=(y,g)=>{r(w=>({...w,[y]:g})),s(w=>new Set(w).add(y))},f=y=>{u.mutate({key:y,value:t[y]})},h=async()=>{const y=Array.from(n).map(g=>Oe("POST","/api/admin/cms",{key:g,value:t[g]}));try{await Promise.all(y),Se.invalidateQueries({queryKey:["/api/cms"]}),Se.invalidateQueries({queryKey:["/api/cms/bulk"]}),Se.invalidateQueries({queryKey:["/api/admin/site-settings"]}),s(new Set),e({title:"All changes saved successfully"})}catch{e({title:"Failed to save some settings",variant:"destructive"})}},p=y=>{if(n.has(y))return"edited";const g=i==null?void 0:i.find(_=>_.key===y),w=l==null?void 0:l.find(_=>_.key===y);return g||w?"database":"default"},x=y=>{switch(y){case"database":return a.jsx(je,{className:"bg-green-500 text-xs",children:"From Database"});case"edited":return a.jsx(je,{className:"bg-amber-500 text-xs",children:"Edited (Unsaved)"});default:return a.jsx(je,{variant:"secondary",className:"text-xs",children:"Using Default"})}},m=t.coming_soon_launch_date?new Date(t.coming_soon_launch_date):new Date("2025-12-25"),b=Mee(m,new Date);return o||c?a.jsx(wt,{title:"Coming Soon Page",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(wt,{title:"Coming Soon Page",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage the Coming Soon page content and countdown timer."}),a.jsxs("a",{href:"/coming-soon",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[a.jsx(Io,{className:"w-3 h-3"})," View Coming Soon Page",a.jsx(Lh,{className:"w-3 h-3"})]})]}),n.size>0&&a.jsxs(U,{onClick:h,"data-testid":"button-save-all-coming-soon",children:[a.jsx(sn,{className:"w-4 h-4 mr-2"})," Save All Changes (",n.size,")"]})]}),a.jsxs(me,{className:"border-primary/20 bg-primary/5",children:[a.jsxs(Xe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(kn,{className:"w-5 h-5"}),"Countdown Status"]}),a.jsx(Kt,{children:"Current countdown configuration"})]}),a.jsx(ge,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[a.jsx("div",{className:"text-3xl font-bold text-primary",children:b}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Until Launch"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[a.jsx("div",{className:"text-xl font-semibold",children:sd(m,"MMMM d, yyyy")}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Launch Date"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[a.jsx("div",{className:"text-xl font-semibold",children:b>0?"Counting Down":"Launched!"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]})]})})]}),a.jsx("div",{className:"grid gap-6",children:XR.map(y=>{const g=p(y.key);return a.jsxs(me,{children:[a.jsx(Xe,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs(et,{className:"text-base flex items-center gap-2",children:[y.label,x(g)]}),a.jsx(Kt,{className:"mt-1",children:y.description})]}),a.jsxs("a",{href:y.pageRef,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary flex items-center gap-1 hover:underline whitespace-nowrap",children:["View on site ",a.jsx(Lh,{className:"w-3 h-3"})]})]})}),a.jsxs(ge,{children:[a.jsxs("div",{className:"flex gap-3",children:[y.type==="textarea"?a.jsx(gr,{value:t[y.key]||"",onChange:w=>d(y.key,w.target.value),rows:3,className:"flex-1","data-testid":`input-${y.key}`}):y.type==="date"?a.jsx(ne,{type:"date",value:t[y.key]||"",onChange:w=>d(y.key,w.target.value),className:"flex-1","data-testid":`input-${y.key}`}):a.jsx(ne,{value:t[y.key]||"",onChange:w=>d(y.key,w.target.value),className:"flex-1","data-testid":`input-${y.key}`}),a.jsx(U,{variant:"outline",onClick:()=>f(y.key),disabled:!n.has(y.key)||u.isPending,"data-testid":`button-save-${y.key}`,children:a.jsx(sn,{className:"w-4 h-4"})})]}),y.key==="coming_soon_launch_date"&&t[y.key]&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Formatted: ",sd(new Date(t[y.key]),"EEEE, MMMM d, yyyy")]})]})]},y.key)})})]})})}function BIe(e){const t=UIe(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(qIe);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function UIe(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=WIe(s),l=zIe(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Fn(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VIe=Symbol("radix.slottable");function qIe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VIe}function zIe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function WIe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var HIe=[" ","Enter","ArrowUp","ArrowDown"],KIe=[" ","Enter"],hc="Select",[l0,c0,GIe]=Zm(hc),[cf]=gn(hc,[GIe,Wo]),u0=Wo(),[YIe,Zo]=cf(hc),[QIe,XIe]=cf(hc),qV=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:x}=e,m=u0(t),[b,y]=v.useState(null),[g,w]=v.useState(null),[_,j]=v.useState(!1),S=Kd(u),[N,k]=rs({prop:n,defaultProp:s??!1,onChange:i,caller:hc}),[C,E]=rs({prop:o,defaultProp:l,onChange:c,caller:hc}),A=v.useRef(null),R=b?x||!!b.closest("form"):!0,[T,I]=v.useState(new Set),O=Array.from(T).map(D=>D.props.value).join(";");return a.jsx(Ox,{...m,children:a.jsxs(YIe,{required:p,scope:t,trigger:b,onTriggerChange:y,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Er(),value:C,onValueChange:E,open:N,onOpenChange:k,dir:S,triggerPointerDownPosRef:A,disabled:h,children:[a.jsx(l0.Provider,{scope:t,children:a.jsx(QIe,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(D=>{I(V=>new Set(V).add(D))},[]),onNativeOptionRemove:v.useCallback(D=>{I(V=>{const P=new Set(V);return P.delete(D),P})},[]),children:r})}),R?a.jsxs(hq,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:D=>E(D.target.value),disabled:h,form:x,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(T)]},O):null]})})};qV.displayName=hc;var zV="SelectTrigger",WV=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=u0(r),o=Zo(zV,r),l=o.disabled||n,c=Ze(t,o.onTriggerChange),u=c0(r),d=v.useRef("touch"),[f,h,p]=pq(m=>{const b=u().filter(w=>!w.disabled),y=b.find(w=>w.value===o.value),g=gq(b,m,y);g!==void 0&&o.onValueChange(g.value)}),x=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(ap,{asChild:!0,...i,children:a.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mq(o.value)?"":void 0,...s,ref:c,onClick:fe(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:fe(s.onPointerDown,m=>{d.current=m.pointerType;const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:fe(s.onKeyDown,m=>{const b=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(b&&m.key===" ")&&HIe.includes(m.key)&&(x(),m.preventDefault())})})})});WV.displayName=zV;var HV="SelectValue",KV=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Zo(HV,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ze(t,c.onValueNodeChange);return pr(()=>{u(d)},[u,d]),a.jsx(Ae.span,{...l,ref:f,style:{pointerEvents:"none"},children:mq(c.value)?a.jsx(a.Fragment,{children:o}):i})});KV.displayName=HV;var ZIe="SelectIcon",GV=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Ae.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});GV.displayName=ZIe;var JIe="SelectPortal",YV=e=>a.jsx(Fd,{asChild:!0,...e});YV.displayName=JIe;var mc="SelectContent",QV=v.forwardRef((e,t)=>{const r=Zo(mc,e.__scopeSelect),[n,s]=v.useState();if(pr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?vc.createPortal(a.jsx(XV,{scope:e.__scopeSelect,children:a.jsx(l0.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(ZV,{...e,ref:t})});QV.displayName=mc;var Zs=10,[XV,Jo]=cf(mc),eRe="SelectContentImpl",tRe=BIe("SelectContent.RemoveScroll"),ZV=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:b,...y}=e,g=Zo(mc,r),[w,_]=v.useState(null),[j,S]=v.useState(null),N=Ze(t,J=>_(J)),[k,C]=v.useState(null),[E,A]=v.useState(null),R=c0(r),[T,I]=v.useState(!1),O=v.useRef(!1);v.useEffect(()=>{if(w)return Ux(w)},[w]),Bx();const D=v.useCallback(J=>{const[ie,...Y]=R().map(W=>W.ref.current),[Q]=Y.slice(-1),se=document.activeElement;for(const W of J)if(W===se||(W==null||W.scrollIntoView({block:"nearest"}),W===ie&&j&&(j.scrollTop=0),W===Q&&j&&(j.scrollTop=j.scrollHeight),W==null||W.focus(),document.activeElement!==se))return},[R,j]),V=v.useCallback(()=>D([k,w]),[D,k,w]);v.useEffect(()=>{T&&V()},[T,V]);const{onOpenChange:P,triggerPointerDownPosRef:$}=g;v.useEffect(()=>{if(w){let J={x:0,y:0};const ie=Q=>{var se,W;J={x:Math.abs(Math.round(Q.pageX)-(((se=$.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((W=$.current)==null?void 0:W.y)??0))}},Y=Q=>{J.x<=10&&J.y<=10?Q.preventDefault():w.contains(Q.target)||P(!1),document.removeEventListener("pointermove",ie),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",Y,{capture:!0})}}},[w,P,$]),v.useEffect(()=>{const J=()=>P(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[P]);const[K,te]=pq(J=>{const ie=R().filter(se=>!se.disabled),Y=ie.find(se=>se.ref.current===document.activeElement),Q=gq(ie,J,Y);Q&&setTimeout(()=>Q.ref.current.focus())}),B=v.useCallback((J,ie,Y)=>{const Q=!O.current&&!Y;(g.value!==void 0&&g.value===ie||Q)&&(C(J),Q&&(O.current=!0))},[g.value]),G=v.useCallback(()=>w==null?void 0:w.focus(),[w]),re=v.useCallback((J,ie,Y)=>{const Q=!O.current&&!Y;(g.value!==void 0&&g.value===ie||Q)&&A(J)},[g.value]),ae=n==="popper"?w_:JV,ke=ae===w_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:b}:{};return a.jsx(XV,{scope:r,content:w,viewport:j,onViewportChange:S,itemRefCallback:B,selectedItem:k,onItemLeave:G,itemTextRefCallback:re,focusSelectedItem:V,selectedItemText:E,position:n,isPositioned:T,searchRef:K,children:a.jsx(cp,{as:tRe,allowPinchZoom:!0,children:a.jsx(lp,{asChild:!0,trapped:g.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:fe(s,J=>{var ie;(ie=g.trigger)==null||ie.focus({preventScroll:!0}),J.preventDefault()}),children:a.jsx(yc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(ae,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:J=>J.preventDefault(),...y,...ke,onPlaced:()=>I(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:fe(y.onKeyDown,J=>{const ie=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ie&&J.key.length===1&&te(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Q=R().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const se=J.target,W=Q.indexOf(se);Q=Q.slice(W+1)}setTimeout(()=>D(Q)),J.preventDefault()}})})})})})})});ZV.displayName=eRe;var rRe="SelectItemAlignedPosition",JV=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Zo(mc,r),o=Jo(mc,r),[l,c]=v.useState(null),[u,d]=v.useState(null),f=Ze(t,N=>d(N)),h=c0(r),p=v.useRef(!1),x=v.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:y,focusSelectedItem:g}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&b&&y){const N=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),E=y.getBoundingClientRect();if(i.dir!=="rtl"){const se=E.left-k.left,W=C.left-se,z=N.left-W,oe=N.width+z,qe=Math.max(oe,k.width),Ge=window.innerWidth-Zs,at=C1(W,[Zs,Math.max(Zs,Ge-qe)]);l.style.minWidth=oe+"px",l.style.left=at+"px"}else{const se=k.right-E.right,W=window.innerWidth-C.right-se,z=window.innerWidth-N.right-W,oe=N.width+z,qe=Math.max(oe,k.width),Ge=window.innerWidth-Zs,at=C1(W,[Zs,Math.max(Zs,Ge-qe)]);l.style.minWidth=oe+"px",l.style.right=at+"px"}const A=h(),R=window.innerHeight-Zs*2,T=m.scrollHeight,I=window.getComputedStyle(u),O=parseInt(I.borderTopWidth,10),D=parseInt(I.paddingTop,10),V=parseInt(I.borderBottomWidth,10),P=parseInt(I.paddingBottom,10),$=O+D+T+P+V,K=Math.min(b.offsetHeight*5,$),te=window.getComputedStyle(m),B=parseInt(te.paddingTop,10),G=parseInt(te.paddingBottom,10),re=N.top+N.height/2-Zs,ae=R-re,ke=b.offsetHeight/2,J=b.offsetTop+ke,ie=O+D+J,Y=$-ie;if(ie<=re){const se=A.length>0&&b===A[A.length-1].ref.current;l.style.bottom="0px";const W=u.clientHeight-m.offsetTop-m.offsetHeight,z=Math.max(ae,ke+(se?G:0)+W+V),oe=ie+z;l.style.height=oe+"px"}else{const se=A.length>0&&b===A[0].ref.current;l.style.top="0px";const z=Math.max(re,O+m.offsetTop+(se?B:0)+ke)+Y;l.style.height=z+"px",m.scrollTop=ie-re+m.offsetTop}l.style.margin=`${Zs}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,b,y,i.dir,n]);pr(()=>w(),[w]);const[_,j]=v.useState();pr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=v.useCallback(N=>{N&&x.current===!0&&(w(),g==null||g(),x.current=!1)},[w,g]);return a.jsx(sRe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Ae.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});JV.displayName=rRe;var nRe="SelectPopperPosition",w_=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Zs,...i}=e,o=u0(r);return a.jsx(Tx,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});w_.displayName=nRe;var[sRe,uP]=cf(mc,{}),j_="SelectViewport",eq=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Jo(j_,r),o=uP(j_,r),l=Ze(t,i.onViewportChange),c=v.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(l0.Slot,{scope:r,children:a.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-Zs*2,m=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),y=Math.max(m,b);if(y<x){const g=y+p,w=Math.min(x,g),_=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});eq.displayName=j_;var tq="SelectGroup",[aRe,iRe]=cf(tq),oRe=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Er();return a.jsx(aRe,{scope:r,id:s,children:a.jsx(Ae.div,{role:"group","aria-labelledby":s,...n,ref:t})})});oRe.displayName=tq;var rq="SelectLabel",nq=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=iRe(rq,r);return a.jsx(Ae.div,{id:s.id,...n,ref:t})});nq.displayName=rq;var nx="SelectItem",[lRe,sq]=cf(nx),aq=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Zo(nx,r),c=Jo(nx,r),u=l.value===n,[d,f]=v.useState(i??""),[h,p]=v.useState(!1),x=Ze(t,g=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,g,n,s)}),m=Er(),b=v.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(lRe,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:v.useCallback(g=>{f(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(l0.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Ae.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:fe(o.onFocus,()=>p(!0)),onBlur:fe(o.onBlur,()=>p(!1)),onClick:fe(o.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:fe(o.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:fe(o.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:fe(o.onPointerMove,g=>{var w;b.current=g.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:fe(o.onKeyDown,g=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(KIe.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});aq.displayName=nx;var Xf="SelectItemText",iq=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Zo(Xf,r),l=Jo(Xf,r),c=sq(Xf,r),u=XIe(Xf,r),[d,f]=v.useState(null),h=Ze(t,y=>f(y),c.onItemTextChange,y=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=v.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=u;return pr(()=>(m(x),()=>b(x)),[m,b,x]),a.jsxs(a.Fragment,{children:[a.jsx(Ae.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vc.createPortal(i.children,o.valueNode):null]})});iq.displayName=Xf;var oq="SelectItemIndicator",lq=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return sq(oq,r).isSelected?a.jsx(Ae.span,{"aria-hidden":!0,...n,ref:t}):null});lq.displayName=oq;var S_="SelectScrollUpButton",cq=v.forwardRef((e,t)=>{const r=Jo(S_,e.__scopeSelect),n=uP(S_,e.__scopeSelect),[s,i]=v.useState(!1),o=Ze(t,n.onScrollButtonChange);return pr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(dq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});cq.displayName=S_;var __="SelectScrollDownButton",uq=v.forwardRef((e,t)=>{const r=Jo(__,e.__scopeSelect),n=uP(__,e.__scopeSelect),[s,i]=v.useState(!1),o=Ze(t,n.onScrollButtonChange);return pr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(dq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});uq.displayName=__;var dq=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Jo("SelectScrollButton",r),o=v.useRef(null),l=c0(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),pr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ae.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:fe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{c()})})}),cRe="SelectSeparator",fq=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Ae.div,{"aria-hidden":!0,...n,ref:t})});fq.displayName=cRe;var N_="SelectArrow",uRe=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=u0(r),i=Zo(N_,r),o=Jo(N_,r);return i.open&&o.position==="popper"?a.jsx(Ix,{...s,...n,ref:t}):null});uRe.displayName=N_;var dRe="SelectBubbleInput",hq=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=v.useRef(null),i=Ze(n,s),o=Jk(t);return v.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Ae.select,{...r,style:{...oD,...r.style},ref:i,defaultValue:t})});hq.displayName=dRe;function mq(e){return e===""||e===void 0}function pq(e){const t=mr(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function gq(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=fRe(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function fRe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var hRe=qV,vq=WV,mRe=KV,pRe=GV,gRe=YV,yq=QV,vRe=eq,xq=nq,bq=aq,yRe=iq,xRe=lq,wq=cq,jq=uq,Sq=fq;const Kr=hRe,Gr=mRe,Cr=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(vq,{ref:n,className:ce("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(pRe,{asChild:!0,children:a.jsx(xc,{className:"h-4 w-4 opacity-50"})})]}));Cr.displayName=vq.displayName;const _q=v.forwardRef(({className:e,...t},r)=>a.jsx(wq,{ref:r,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(IN,{className:"h-4 w-4"})}));_q.displayName=wq.displayName;const Nq=v.forwardRef(({className:e,...t},r)=>a.jsx(jq,{ref:r,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(xc,{className:"h-4 w-4"})}));Nq.displayName=jq.displayName;const Pr=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(gRe,{children:a.jsxs(yq,{ref:s,className:ce("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(_q,{}),a.jsx(vRe,{className:ce("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(Nq,{})]})}));Pr.displayName=yq.displayName;const bRe=v.forwardRef(({className:e,...t},r)=>a.jsx(xq,{ref:r,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));bRe.displayName=xq.displayName;const ze=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(bq,{ref:n,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(xRe,{children:a.jsx(Sn,{className:"h-4 w-4"})})}),a.jsx(yRe,{children:t})]}));ze.displayName=bq.displayName;const wRe=v.forwardRef(({className:e,...t},r)=>a.jsx(Sq,{ref:r,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));wRe.displayName=Sq.displayName;var d0="Switch",[jRe]=gn(d0),[SRe,_Re]=jRe(d0),kq=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=v.useState(null),x=Ze(t,w=>p(w)),m=v.useRef(!1),b=h?d||!!h.closest("form"):!0,[y,g]=rs({prop:s,defaultProp:i??!1,onChange:u,caller:d0});return a.jsxs(SRe,{scope:r,checked:y,disabled:l,children:[a.jsx(Ae.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Aq(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:fe(e.onClick,w=>{g(_=>!_),b&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),b&&a.jsx(Eq,{control:h,bubbles:!m.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});kq.displayName=d0;var Cq="SwitchThumb",Pq=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=_Re(Cq,r);return a.jsx(Ae.span,{"data-state":Aq(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Pq.displayName=Cq;var NRe="SwitchBubbleInput",Eq=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=v.useRef(null),l=Ze(o,i),c=Jk(r),u=KN(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const x=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(x)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Eq.displayName=NRe;function Aq(e){return e?"checked":"unchecked"}var Oq=kq,kRe=Pq;const an=v.forwardRef(({className:e,...t},r)=>a.jsx(Oq,{className:ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(kRe,{className:ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));an.displayName=Oq.displayName;function CRe(){const{toast:e}=Et(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState("details"),[l,c]=v.useState(!1),[u,d]=v.useState(null),f=v.useRef(null),[h,p]=v.useState({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,status:"PLANNED",imageUrl:""}),[x,m]=v.useState({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""}),[b,y]=v.useState({label:"",price:0,icon:""}),[g,w]=v.useState(null),{data:_,isLoading:j}=we({queryKey:["/api/admin/facilities"]}),{data:S}=we({queryKey:["/api/admin/venues"]}),{data:N,refetch:k}=we({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"venues"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const z=await fetch(`/api/admin/facilities/${t.id}/venues`,{credentials:"include"});if(!z.ok)throw new Error("Failed to fetch");return z.json()},enabled:!!(t!=null&&t.id)}),{data:C,refetch:E}=we({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"addons"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const z=await fetch(`/api/admin/facilities/${t.id}/addons`,{credentials:"include"});if(!z.ok)throw new Error("Failed to fetch");return z.json()},enabled:!!(t!=null&&t.id)}),A=Re({mutationFn:async z=>await Oe("POST","/api/admin/facilities",z),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility created successfully"}),s(!1),K()},onError:()=>{e({title:"Failed to create facility",variant:"destructive"})}}),R=Re({mutationFn:async({id:z,data:oe})=>await Oe("PATCH",`/api/admin/facilities/${z}`,oe),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility updated successfully"}),s(!1),r(null),K()},onError:()=>{e({title:"Failed to update facility",variant:"destructive"})}}),T=Re({mutationFn:async z=>await Oe("DELETE",`/api/admin/facilities/${z}`),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility deleted successfully"})},onError:()=>{e({title:"Failed to delete facility",variant:"destructive"})}}),I=Re({mutationFn:async z=>await Oe("POST",`/api/admin/facilities/${z.facilityId}/venues`,z),onSuccess:()=>{k(),e({title:"Venue added to facility"}),B()},onError:()=>{e({title:"Failed to add venue",variant:"destructive"})}}),O=Re({mutationFn:async({id:z,data:oe})=>await Oe("PATCH",`/api/admin/facility-venues/${z}`,oe),onSuccess:()=>{k(),e({title:"Venue settings updated"})},onError:()=>{e({title:"Failed to update venue settings",variant:"destructive"})}}),D=Re({mutationFn:async z=>await Oe("DELETE",`/api/admin/facility-venues/${z}`),onSuccess:()=>{k(),e({title:"Venue removed from facility"})},onError:()=>{e({title:"Failed to remove venue",variant:"destructive"})}}),V=Re({mutationFn:async z=>await Oe("POST",`/api/admin/facilities/${z.facilityId}/addons`,z),onSuccess:()=>{E(),e({title:"Add-on created successfully"}),G()},onError:()=>{e({title:"Failed to create add-on",variant:"destructive"})}}),P=Re({mutationFn:async({id:z,data:oe})=>await Oe("PATCH",`/api/admin/facility-addons/${z}`,oe),onSuccess:()=>{E(),e({title:"Add-on updated successfully"}),G()},onError:()=>{e({title:"Failed to update add-on",variant:"destructive"})}}),$=Re({mutationFn:async z=>await Oe("DELETE",`/api/admin/facility-addons/${z}`),onSuccess:()=>{E(),e({title:"Add-on deleted successfully"})},onError:()=>{e({title:"Failed to delete add-on",variant:"destructive"})}}),K=()=>{p({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,status:"PLANNED",imageUrl:""}),o("details"),d(null),f.current&&(f.current.value="")},te=async z=>{var qe;const oe=(qe=z.target.files)==null?void 0:qe[0];if(oe){if(!["image/jpeg","image/png","image/webp"].includes(oe.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(oe.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const Ge=new FormData;Ge.append("image",oe);const at=await fetch("/api/admin/upload",{method:"POST",body:Ge,credentials:"include"});if(!at.ok){let _t="Upload failed";try{_t=(await at.json()).message||_t}catch{_t=at.statusText||_t}throw new Error(_t)}const Yt=await at.json();d({name:oe.name,url:Yt.imageUrl}),p(_t=>({..._t,imageUrl:Yt.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(Ge){e({title:"Upload failed",description:Ge.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1)}}},B=()=>{m({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""})},G=()=>{y({label:"",price:0,icon:""}),w(null)},re=()=>{t&&(g?P.mutate({id:g.id,data:b}):V.mutate({facilityId:t.id,...b}))},ae=z=>{w(z),y({label:z.label,price:z.price,icon:z.icon||""})},ke=z=>{r(z),p({slug:z.slug,name:z.name,description:z.description||"",category:z.category||"",basePrice:z.basePrice,minPlayers:z.minPlayers||1,resourceCount:z.resourceCount||1,requiresCertification:z.requiresCertification||!1,isRestricted:z.isRestricted||!1,status:z.status||"PLANNED",imageUrl:z.imageUrl||""}),o("details"),s(!0)},J=()=>{t?R.mutate({id:t.id,data:h}):A.mutate(h)},ie=()=>{!t||!x.venueId||I.mutate({facilityId:t.id,venueId:x.venueId,status:x.status,resourceCount:x.resourceCount,priceOverride:x.priceOverride?parseInt(x.priceOverride):null})},Y=z=>{switch(z){case"ACTIVE":return a.jsx(je,{className:"bg-green-500",children:"Active"});case"OPENING_SOON":return a.jsx(je,{className:"bg-amber-500",children:"Opening Soon"});case"COMING_SOON":return a.jsx(je,{className:"bg-amber-500",children:"Coming Soon"});case"PLANNED":default:return a.jsx(je,{variant:"secondary",children:"Planned"})}},Q=z=>{const oe=S==null?void 0:S.find(qe=>qe.id===z);return(oe==null?void 0:oe.name)||"Unknown Venue"},se=(N==null?void 0:N.map(z=>z.venueId))||[],W=(S==null?void 0:S.filter(z=>!se.includes(z.id)))||[];return j?a.jsx(wt,{title:"Facilities",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(wt,{title:"Facilities",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage facilities available for booking at The Quarterdeck."}),a.jsxs(Rr,{open:n,onOpenChange:z=>{s(z),z||(r(null),K())},children:[a.jsx(ba,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-facility",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"})," Add Facility"]})}),a.jsxs(br,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx($r,{children:a.jsx(Mr,{children:t?"Edit Facility":"Add New Facility"})}),a.jsxs(Ei,{value:i,onValueChange:o,children:[a.jsxs(Va,{className:"grid w-full grid-cols-3",children:[a.jsxs(yr,{value:"details",className:"flex items-center gap-2",children:[a.jsx(JH,{className:"w-4 h-4"}),"Details"]}),a.jsxs(yr,{value:"venues",className:"flex items-center gap-2",disabled:!t,children:[a.jsx(ki,{className:"w-4 h-4"}),"Venues",!t&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]}),a.jsxs(yr,{value:"addons",className:"flex items-center gap-2",disabled:!t,children:[a.jsx(hK,{className:"w-4 h-4"}),"Add-ons",!t&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]})]}),a.jsxs(xr,{value:"details",className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"name",children:"Name"}),a.jsx(ne,{id:"name",value:h.name,onChange:z=>p({...h,name:z.target.value}),"data-testid":"input-facility-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),a.jsx(ne,{id:"slug",value:h.slug,onChange:z=>p({...h,slug:z.target.value}),"data-testid":"input-facility-slug"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"description",children:"Description"}),a.jsx(gr,{id:"description",value:h.description,onChange:z=>p({...h,description:z.target.value}),rows:3,"data-testid":"input-facility-description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"category",children:"Category"}),a.jsx(ne,{id:"category",value:h.category,onChange:z=>p({...h,category:z.target.value}),placeholder:"e.g., Indoor Court, Precision Sport","data-testid":"input-facility-category"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"status",children:"Default Status"}),a.jsxs(Kr,{value:h.status,onValueChange:z=>p({...h,status:z}),children:[a.jsx(Cr,{"data-testid":"select-facility-status",children:a.jsx(Gr,{})}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"PLANNED",children:"Planned"}),a.jsx(ze,{value:"OPENING_SOON",children:"Opening Soon"}),a.jsx(ze,{value:"ACTIVE",children:"Active"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"basePrice",children:"Base Price (PKR)"}),a.jsx(ne,{id:"basePrice",type:"number",value:h.basePrice,onChange:z=>p({...h,basePrice:parseInt(z.target.value)||0}),"data-testid":"input-facility-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"minPlayers",children:"Min Players"}),a.jsx(ne,{id:"minPlayers",type:"number",value:h.minPlayers,onChange:z=>p({...h,minPlayers:parseInt(z.target.value)||1}),"data-testid":"input-facility-min-players"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"resourceCount",children:"Default Resource Count"}),a.jsx(ne,{id:"resourceCount",type:"number",value:h.resourceCount,onChange:z=>p({...h,resourceCount:parseInt(z.target.value)||1}),"data-testid":"input-facility-resource-count"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Facility Image"}),a.jsxs("div",{className:"border rounded-md p-3 space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:te,className:"hidden","data-testid":"input-facility-image-file"}),a.jsx(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{var z;return(z=f.current)==null?void 0:z.click()},disabled:l,"data-testid":"button-upload-facility-image",children:l?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Upload"]})}),a.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"or"}),a.jsx(ne,{id:"imageUrl",value:h.imageUrl,onChange:z=>p({...h,imageUrl:z.target.value}),placeholder:"Enter image URL...",className:"flex-1","data-testid":"input-facility-image-url"})]}),u&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[a.jsx(Ss,{className:"w-4 h-4"}),u.name]}),h.imageUrl&&a.jsx("div",{className:"rounded-md border overflow-hidden",children:a.jsx("img",{src:h.imageUrl,alt:"Preview",className:"w-full h-24 object-cover",onError:z=>{z.target.style.display="none"}})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{id:"requiresCertification",checked:h.requiresCertification,onCheckedChange:z=>p({...h,requiresCertification:z})}),a.jsx(Z,{htmlFor:"requiresCertification",children:"Requires Certification"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{id:"isRestricted",checked:h.isRestricted,onCheckedChange:z=>p({...h,isRestricted:z})}),a.jsx(Z,{htmlFor:"isRestricted",children:"Restricted Access"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:J,disabled:A.isPending||R.isPending,"data-testid":"button-save-facility",children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),a.jsx(xr,{value:"venues",className:"space-y-4 py-4",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Add Venue"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Venue"}),a.jsxs(Kr,{value:x.venueId,onValueChange:z=>m({...x,venueId:z}),children:[a.jsx(Cr,{"data-testid":"select-venue",children:a.jsx(Gr,{placeholder:"Select venue..."})}),a.jsx(Pr,{children:W.length===0?a.jsx(ze,{value:"none",disabled:!0,children:"No venues available"}):W.map(z=>a.jsxs(ze,{value:z.id,children:[z.name," (",z.city,")"]},z.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Status at Venue"}),a.jsxs(Kr,{value:x.status,onValueChange:z=>m({...x,status:z}),children:[a.jsx(Cr,{"data-testid":"select-venue-status",children:a.jsx(Gr,{})}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"PLANNED",children:"Planned"}),a.jsx(ze,{value:"COMING_SOON",children:"Coming Soon"}),a.jsx(ze,{value:"ACTIVE",children:"Active"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Resource Count at Venue"}),a.jsx(ne,{type:"number",value:x.resourceCount,onChange:z=>m({...x,resourceCount:parseInt(z.target.value)||1}),"data-testid":"input-venue-resource-count"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Price Override (PKR)"}),a.jsx(ne,{type:"number",value:x.priceOverride,onChange:z=>m({...x,priceOverride:z.target.value}),placeholder:`Leave empty to use base price (${h.basePrice})`,"data-testid":"input-venue-price-override"})]})]}),a.jsxs(U,{onClick:ie,disabled:!x.venueId||I.isPending,"data-testid":"button-add-venue",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Assigned Venues"}),!N||N.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No venues assigned to this facility yet. Add a venue above to configure venue-specific settings."}):a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{children:"Venue"}),a.jsx(Ne,{children:"Status"}),a.jsx(Ne,{children:"Resources"}),a.jsx(Ne,{children:"Price"}),a.jsx(Ne,{className:"text-right",children:"Actions"})]})}),a.jsx(ts,{children:N.map(z=>a.jsxs(bt,{"data-testid":`row-venue-${z.id}`,children:[a.jsx(xe,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ki,{className:"w-4 h-4 text-muted-foreground"}),Q(z.venueId)]})}),a.jsx(xe,{children:a.jsxs(Kr,{value:z.status||"PLANNED",onValueChange:oe=>O.mutate({id:z.id,data:{status:oe}}),children:[a.jsx(Cr,{className:"w-32","data-testid":`select-fv-status-${z.id}`,children:a.jsx(Gr,{})}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"PLANNED",children:"Planned"}),a.jsx(ze,{value:"COMING_SOON",children:"Coming Soon"}),a.jsx(ze,{value:"ACTIVE",children:"Active"})]})]})}),a.jsx(xe,{children:a.jsx(ne,{type:"number",className:"w-20",value:z.resourceCount||1,onChange:oe=>O.mutate({id:z.id,data:{resourceCount:parseInt(oe.target.value)||1}}),"data-testid":`input-fv-resources-${z.id}`})}),a.jsx(xe,{children:a.jsx(ne,{type:"number",className:"w-28",value:z.priceOverride||"",placeholder:h.basePrice.toString(),onChange:oe=>O.mutate({id:z.id,data:{priceOverride:oe.target.value?parseInt(oe.target.value):null}}),"data-testid":`input-fv-price-${z.id}`})}),a.jsx(xe,{className:"text-right",children:a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remove this venue from the facility?")&&D.mutate(z.id)},"data-testid":`button-remove-venue-${z.id}`,children:a.jsx(nn,{className:"w-4 h-4 text-destructive"})})})]},z.id))})]})]})]})}),a.jsx(xr,{value:"addons",className:"space-y-4 py-4",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:g?"Edit Add-on":"Add New Add-on"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Label"}),a.jsx(ne,{value:b.label,onChange:z=>y({...b,label:z.target.value}),placeholder:"e.g., Equipment Rental","data-testid":"input-addon-label"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Price (PKR)"}),a.jsx(ne,{type:"number",value:b.price,onChange:z=>y({...b,price:parseInt(z.target.value)||0}),placeholder:"0","data-testid":"input-addon-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Icon (optional)"}),a.jsx(ne,{value:b.icon,onChange:z=>y({...b,icon:z.target.value}),placeholder:"e.g., Target, Coffee","data-testid":"input-addon-icon"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{onClick:re,disabled:!b.label||V.isPending||P.isPending,"data-testid":"button-save-addon",children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),g?"Update Add-on":"Add Add-on"]}),g&&a.jsx(U,{variant:"outline",onClick:G,children:"Cancel"})]})]}),a.jsxs("div",{className:"rounded-lg border",children:[a.jsx("h4",{className:"font-medium p-4 border-b",children:"Facility Add-ons"}),!C||C.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No add-ons configured for this facility yet."}):a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{children:"Label"}),a.jsx(Ne,{children:"Price"}),a.jsx(Ne,{children:"Icon"}),a.jsx(Ne,{className:"text-right",children:"Actions"})]})}),a.jsx(ts,{children:C.map(z=>a.jsxs(bt,{"data-testid":`row-addon-${z.id}`,children:[a.jsx(xe,{className:"font-medium",children:z.label}),a.jsxs(xe,{children:["PKR ",z.price.toLocaleString()]}),a.jsx(xe,{children:z.icon||"-"}),a.jsxs(xe,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>ae(z),"data-testid":`button-edit-addon-${z.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Delete this add-on?")&&$.mutate(z.id)},"data-testid":`button-delete-addon-${z.id}`,children:a.jsx(nn,{className:"w-4 h-4 text-destructive"})})]})]},z.id))})]})]})]})})]})]})]})]}),a.jsx(me,{children:a.jsx(ge,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{children:"Name"}),a.jsx(Ne,{children:"Category"}),a.jsx(Ne,{children:"Status"}),a.jsx(Ne,{children:"Base Price"}),a.jsx(Ne,{children:"Courts/Resources"}),a.jsx(Ne,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[_==null?void 0:_.map(z=>a.jsxs(bt,{"data-testid":`row-facility-${z.id}`,children:[a.jsx(xe,{className:"font-medium",children:z.name}),a.jsx(xe,{children:z.category||"-"}),a.jsx(xe,{children:Y(z.status)}),a.jsxs(xe,{children:["PKR ",z.basePrice.toLocaleString()]}),a.jsx(xe,{children:z.resourceCount}),a.jsxs(xe,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>ke(z),"data-testid":`button-edit-facility-${z.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this facility?")&&T.mutate(z.id)},"data-testid":`button-delete-facility-${z.id}`,children:a.jsx(nn,{className:"w-4 h-4 text-destructive"})})]})]},z.id)),(!_||_.length===0)&&a.jsx(bt,{children:a.jsx(xe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No facilities found. Add your first facility to get started."})})]})]})})})]})})}function PRe(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...x}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=v.useMemo(()=>x,Object.values(x));return a.jsx(m.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,x=v.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,ERe(s,...t)]}function ERe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var ARe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tq=ARe.reduce((e,t)=>{const r=Fx(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),dP="Progress",fP=100,[ORe]=PRe(dP),[TRe,IRe]=ORe(dP),Iq=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=RRe,...o}=e;(s||s===0)&&!ZR(s)&&console.error($Re(`${s}`,"Progress"));const l=ZR(s)?s:fP;n!==null&&!JR(n,l)&&console.error(MRe(`${n}`,"Progress"));const c=JR(n,l)?n:null,u=sx(c)?i(c,l):void 0;return a.jsx(TRe,{scope:r,value:c,max:l,children:a.jsx(Tq.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":sx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Mq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Iq.displayName=dP;var Rq="ProgressIndicator",$q=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=IRe(Rq,r);return a.jsx(Tq.div,{"data-state":Mq(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});$q.displayName=Rq;function RRe(e,t){return`${Math.round(e/t*100)}%`}function Mq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function sx(e){return typeof e=="number"}function ZR(e){return sx(e)&&!isNaN(e)&&e>0}function JR(e,t){return sx(e)&&!isNaN(e)&&e<=t&&e>=0}function $Re(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fP}\`.`}function MRe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Dq=Iq,DRe=$q;const k_=v.forwardRef(({className:e,value:t,...r},n)=>a.jsx(Dq,{ref:n,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(DRe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));k_.displayName=Dq.displayName;function LRe(){const{toast:e}=Et(),[t,r]=v.useState(new Set),[n,s]=v.useState(null),[i,o]=v.useState({}),{data:l,isLoading:c}=we({queryKey:["/api/admin/construction-phases"]});v.useEffect(()=>{if(l){const m={};l.forEach(b=>{m[b.id]={...b}}),o(m)}},[l]);const u=Re({mutationFn:async({id:m,data:b})=>{const y={...b,progress:b.progress!==void 0?Number(b.progress):void 0,isActive:b.status==="IN_PROGRESS",isComplete:b.status==="COMPLETE"||b.progress===100};return await Oe("PATCH",`/api/admin/construction-phases/${m}`,y)},onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/construction-phases"]}),e({title:"Phase updated successfully"}),s(null)},onError:()=>{e({title:"Failed to update phase",variant:"destructive"})}}),d=(m,b,y)=>{o(g=>({...g,[m]:{...g[m],[b]:y}}))},f=m=>{u.mutate({id:m,data:i[m]})},h=m=>{switch(m){case"COMPLETE":return a.jsx(Ss,{className:"w-5 h-5 text-green-500"});case"IN_PROGRESS":return a.jsx(ID,{className:"w-5 h-5 text-amber-500"});default:return a.jsx(Yr,{className:"w-5 h-5 text-muted-foreground"})}},p=m=>{switch(m){case"COMPLETE":return a.jsx(je,{className:"bg-green-500",children:"Complete"});case"IN_PROGRESS":return a.jsx(je,{className:"bg-amber-500",children:"In Progress"});default:return a.jsx(je,{variant:"secondary",children:"Not Started"})}},x=()=>{if(!l||l.length===0)return 0;const m=l.reduce((b,y)=>b+(y.progress||0),0);return Math.round(m/l.length)};return c?a.jsx(wt,{title:"Construction Status",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(wt,{title:"Construction Status",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage construction phases and milestones. Changes automatically update the public roadmap."}),a.jsxs("a",{href:"/roadmap",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[a.jsx(Io,{className:"w-3 h-3"})," View Public Roadmap",a.jsx(Lh,{className:"w-3 h-3"})]})]})}),a.jsxs(me,{className:"border-primary/20 bg-primary/5",children:[a.jsxs(Xe,{children:[a.jsx(et,{children:"Overall Project Progress"}),a.jsx(Kt,{children:"Combined progress across all construction phases"})]}),a.jsx(ge,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-2xl font-bold",children:[x(),"%"]}),a.jsxs("span",{className:"text-muted-foreground",children:[(l==null?void 0:l.filter(m=>m.status==="COMPLETE").length)||0," of ",(l==null?void 0:l.length)||0," phases complete"]})]}),a.jsx(k_,{value:x(),className:"h-3"})]})})]}),a.jsx("div",{className:"space-y-4",children:l==null?void 0:l.sort((m,b)=>(m.sortOrder||0)-(b.sortOrder||0)).map(m=>{const b=i[m.id]||m,y=n===m.id;return a.jsxs(me,{className:`transition-all ${y?"ring-2 ring-primary":""}`,children:[a.jsxs(Xe,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[h(b.status),a.jsxs("div",{children:[a.jsxs(et,{className:"text-lg flex items-center gap-2",children:[b.label,": ",b.title,p(b.status)]}),a.jsx(Kt,{children:b.timeframe||"No timeframe set"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-semibold",children:[b.progress||0,"%"]}),a.jsx(U,{variant:y?"default":"outline",size:"sm",onClick:()=>s(y?null:m.id),"data-testid":`button-edit-phase-${m.id}`,children:y?"Cancel":"Edit"}),y&&a.jsxs(U,{size:"sm",onClick:()=>f(m.id),disabled:u.isPending,"data-testid":`button-save-phase-${m.id}`,children:[a.jsx(sn,{className:"w-4 h-4 mr-1"})," Save"]})]})]}),a.jsx(k_,{value:b.progress||0,className:"mt-3"})]}),y&&a.jsxs(ge,{className:"border-t pt-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Phase Label"}),a.jsx(ne,{value:b.label||"",onChange:g=>d(m.id,"label",g.target.value),"data-testid":`input-phase-label-${m.id}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Phase Title"}),a.jsx(ne,{value:b.title||"",onChange:g=>d(m.id,"title",g.target.value),"data-testid":`input-phase-title-${m.id}`})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Status"}),a.jsxs(Kr,{value:b.status,onValueChange:g=>{const w=g==="COMPLETE"?100:g==="NOT_STARTED"?0:b.progress;d(m.id,"status",g),d(m.id,"progress",w),d(m.id,"isComplete",g==="COMPLETE"),d(m.id,"isActive",g==="IN_PROGRESS")},children:[a.jsx(Cr,{"data-testid":`select-phase-status-${m.id}`,children:a.jsx(Gr,{})}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"NOT_STARTED",children:"Not Started"}),a.jsx(ze,{value:"IN_PROGRESS",children:"In Progress"}),a.jsx(ze,{value:"COMPLETE",children:"Complete"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Progress (%)"}),a.jsx(ne,{type:"number",min:"0",max:"100",value:b.progress||0,onChange:g=>{const w=Math.min(100,Math.max(0,parseInt(g.target.value)||0));d(m.id,"progress",w),w===100?(d(m.id,"status","COMPLETE"),d(m.id,"isComplete",!0),d(m.id,"isActive",!1)):w>0?(d(m.id,"status","IN_PROGRESS"),d(m.id,"isComplete",!1),d(m.id,"isActive",!0)):(d(m.id,"status","NOT_STARTED"),d(m.id,"isComplete",!1),d(m.id,"isActive",!1))},"data-testid":`input-phase-progress-${m.id}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Timeframe"}),a.jsx(ne,{value:b.timeframe||"",onChange:g=>d(m.id,"timeframe",g.target.value),placeholder:"e.g., March - August 2024","data-testid":`input-phase-timeframe-${m.id}`})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Milestones (one per line)"}),a.jsx(gr,{value:(b.milestones||[]).join(`
`),onChange:g=>d(m.id,"milestones",g.target.value.split(`
`).filter(w=>w.trim())),rows:4,placeholder:"Enter milestones, one per line","data-testid":`input-phase-milestones-${m.id}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix with [x] for completed milestones, [ ] for pending"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Highlights (one per line)"}),a.jsx(gr,{value:(b.highlights||[]).join(`
`),onChange:g=>d(m.id,"highlights",g.target.value.split(`
`).filter(w=>w.trim())),rows:2,placeholder:"Key achievements or notes","data-testid":`input-phase-highlights-${m.id}`})]})]}),!y&&a.jsx(ge,{className:"pt-0",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Milestones"}),a.jsxs("ul",{className:"space-y-1",children:[(b.milestones||[]).slice(0,4).map((g,w)=>a.jsxs("li",{className:"text-sm flex items-center gap-2",children:[a.jsx(Ss,{className:`w-3 h-3 ${g.startsWith("[x]")?"text-green-500":"text-muted-foreground"}`}),a.jsx("span",{className:g.startsWith("[x]")?"line-through text-muted-foreground":"",children:g.replace(/^\[(x| )\] /,"")})]},w)),(b.milestones||[]).length>4&&a.jsxs("li",{className:"text-sm text-muted-foreground",children:["+",b.milestones.length-4," more..."]})]})]}),(b.highlights||[]).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Highlights"}),a.jsx("ul",{className:"space-y-1",children:(b.highlights||[]).map((g,w)=>a.jsx("li",{className:"text-sm text-muted-foreground",children:g},w))})]})]})})]},m.id)})}),a.jsx(me,{className:"border-dashed",children:a.jsxs(ge,{className:"py-6 text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-2",children:"Construction phases are automatically synced with the public roadmap page."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"When you update progress or mark milestones as complete, the changes will be immediately visible to visitors."})]})})]})})}function FRe(){const{toast:e}=Et(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState({facilityId:"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),{data:h,isLoading:p}=we({queryKey:["/api/admin/events"]}),{data:x}=we({queryKey:["/api/admin/facilities"]}),m=Re({mutationFn:async k=>await Oe("POST","/api/admin/events",k),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/events"]}),Se.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event created successfully"}),s(!1),g()},onError:()=>{e({title:"Failed to create event",variant:"destructive"})}}),b=Re({mutationFn:async({id:k,data:C})=>await Oe("PATCH",`/api/admin/events/${k}`,C),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/events"]}),Se.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event updated successfully"}),s(!1),r(null),g()},onError:()=>{e({title:"Failed to update event",variant:"destructive"})}}),y=Re({mutationFn:async k=>await Oe("DELETE",`/api/admin/events/${k}`),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/events"]}),Se.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event deleted successfully"})},onError:()=>{e({title:"Failed to delete event",variant:"destructive"})}}),g=()=>{var k;f({facilityId:((k=x==null?void 0:x[0])==null?void 0:k.id)||"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),c(null),u.current&&(u.current.value="")},w=async k=>{var E;const C=(E=k.target.files)==null?void 0:E[0];if(C){if(!["image/jpeg","image/png","image/webp"].includes(C.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(C.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const A=new FormData;A.append("image",C);const R=await fetch("/api/admin/upload",{method:"POST",body:A,credentials:"include"});if(!R.ok){let I="Upload failed";try{I=(await R.json()).message||I}catch{I=R.statusText||I}throw new Error(I)}const T=await R.json();c({name:C.name,url:T.imageUrl}),f(I=>({...I,imageUrl:T.imageUrl})),u.current&&(u.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(A){e({title:"Upload failed",description:A.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},_=k=>{r(k),f({facilityId:k.facilityId,title:k.title,description:k.description||"",type:k.type,instructor:k.instructor||"",scheduleDay:k.scheduleDay||"",scheduleTime:k.scheduleTime||"",scheduleDatetime:k.scheduleDatetime?sd(new Date(k.scheduleDatetime),"yyyy-MM-dd'T'HH:mm"):"",price:k.price||0,capacity:k.capacity||20,enrollmentDeadline:k.enrollmentDeadline?sd(new Date(k.enrollmentDeadline),"yyyy-MM-dd"):"",imageUrl:k.imageUrl||"",slug:k.slug||"",isActive:k.isActive??!0}),s(!0)},j=()=>{if(!d.facilityId){e({title:"Please select a facility",variant:"destructive"});return}t?b.mutate({id:t.id,data:d}):m.mutate(d)},S=k=>{switch(k){case"ACADEMY":return a.jsx(je,{className:"bg-purple-500",children:"Academy"});case"TOURNAMENT":return a.jsx(je,{className:"bg-orange-500",children:"Tournament"});case"CLASS":return a.jsx(je,{className:"bg-blue-500",children:"Class"});case"SOCIAL":return a.jsx(je,{className:"bg-green-500",children:"Social"});default:return a.jsx(je,{variant:"secondary",children:k})}},N=k=>{var C;return((C=x==null?void 0:x.find(E=>E.id===k))==null?void 0:C.name)||"Unknown"};return p?a.jsx(wt,{title:"Events & Academies",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(wt,{title:"Events & Academies",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage events, academies, tournaments, and classes at The Quarterdeck."}),a.jsxs(Rr,{open:n,onOpenChange:k=>{s(k),k||(r(null),g())},children:[a.jsx(ba,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-event",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"})," Add Event"]})}),a.jsxs(br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx($r,{children:a.jsx(Mr,{children:t?"Edit Event":"Add New Event"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"title",children:"Event Title"}),a.jsx(ne,{id:"title",value:d.title,onChange:k=>f({...d,title:k.target.value}),placeholder:"e.g., Beginner Padel Academy","data-testid":"input-event-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"type",children:"Event Type"}),a.jsxs(Kr,{value:d.type,onValueChange:k=>f({...d,type:k}),children:[a.jsx(Cr,{"data-testid":"select-event-type",children:a.jsx(Gr,{})}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"ACADEMY",children:"Academy (Ongoing Program)"}),a.jsx(ze,{value:"TOURNAMENT",children:"Tournament"}),a.jsx(ze,{value:"CLASS",children:"Class (One-time)"}),a.jsx(ze,{value:"SOCIAL",children:"Social Event"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"facilityId",children:"Facility"}),a.jsxs(Kr,{value:d.facilityId,onValueChange:k=>f({...d,facilityId:k}),children:[a.jsx(Cr,{"data-testid":"select-event-facility",children:a.jsx(Gr,{placeholder:"Select facility"})}),a.jsx(Pr,{children:x==null?void 0:x.map(k=>a.jsx(ze,{value:k.id,children:k.name},k.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"instructor",children:"Instructor/Host"}),a.jsx(ne,{id:"instructor",value:d.instructor,onChange:k=>f({...d,instructor:k.target.value}),placeholder:"e.g., Coach Ahmad","data-testid":"input-event-instructor"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"description",children:"Description"}),a.jsx(gr,{id:"description",value:d.description,onChange:k=>f({...d,description:k.target.value}),rows:3,placeholder:"Describe the event, what participants will learn, etc.","data-testid":"input-event-description"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"scheduleDay",children:"Schedule Day"}),a.jsx(ne,{id:"scheduleDay",value:d.scheduleDay,onChange:k=>f({...d,scheduleDay:k.target.value}),placeholder:"e.g., Mon, Wed, Fri","data-testid":"input-event-schedule-day"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"scheduleTime",children:"Schedule Time"}),a.jsx(ne,{id:"scheduleTime",value:d.scheduleTime,onChange:k=>f({...d,scheduleTime:k.target.value}),placeholder:"e.g., 6:00 PM - 8:00 PM","data-testid":"input-event-schedule-time"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"scheduleDatetime",children:"Specific Date/Time"}),a.jsx(ne,{id:"scheduleDatetime",type:"datetime-local",value:d.scheduleDatetime,onChange:k=>f({...d,scheduleDatetime:k.target.value}),"data-testid":"input-event-datetime"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"price",children:"Price (PKR)"}),a.jsx(ne,{id:"price",type:"number",value:d.price,onChange:k=>f({...d,price:parseInt(k.target.value)||0}),"data-testid":"input-event-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"capacity",children:"Capacity"}),a.jsx(ne,{id:"capacity",type:"number",value:d.capacity,onChange:k=>f({...d,capacity:parseInt(k.target.value)||20}),"data-testid":"input-event-capacity"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"enrollmentDeadline",children:"Enrollment Deadline"}),a.jsx(ne,{id:"enrollmentDeadline",type:"date",value:d.enrollmentDeadline,onChange:k=>f({...d,enrollmentDeadline:k.target.value}),"data-testid":"input-event-deadline"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Event Image"}),a.jsxs(Ei,{defaultValue:"upload",className:"w-full",children:[a.jsxs(Va,{className:"grid w-full grid-cols-2",children:[a.jsxs(yr,{value:"upload",className:"flex items-center gap-2",children:[a.jsx(Ro,{className:"w-4 h-4"}),"Upload"]}),a.jsxs(yr,{value:"url",className:"flex items-center gap-2",children:[a.jsx(DD,{className:"w-4 h-4"}),"URL"]})]}),a.jsxs(xr,{value:"upload",className:"space-y-3",children:[a.jsx("input",{ref:u,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:w,className:"hidden","data-testid":"input-event-image-file"}),a.jsx(U,{type:"button",variant:"outline",onClick:()=>{var k;return(k=u.current)==null?void 0:k.click()},disabled:i,className:"w-full","data-testid":"button-upload-event-image",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Choose Image"]})}),l&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[a.jsx(Ss,{className:"w-4 h-4"}),l.name]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]}),a.jsx(xr,{value:"url",className:"space-y-3",children:a.jsx(ne,{id:"imageUrl",value:d.imageUrl,onChange:k=>f({...d,imageUrl:k.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-event-image-url"})})]}),d.imageUrl&&a.jsx("div",{className:"mt-3 rounded-md border overflow-hidden",children:a.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-32 object-cover",onError:k=>{k.target.style.display="none"}})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"slug",children:"URL Slug"}),a.jsx(ne,{id:"slug",value:d.slug,onChange:k=>f({...d,slug:k.target.value}),placeholder:"beginner-padel-academy","data-testid":"input-event-slug"})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[a.jsx(an,{id:"isActive",checked:d.isActive,onCheckedChange:k=>f({...d,isActive:k})}),a.jsx(Z,{htmlFor:"isActive",children:"Active (visible on website)"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:j,disabled:m.isPending||b.isPending,"data-testid":"button-save-event",children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(me,{children:a.jsx(ge,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{children:"Event"}),a.jsx(Ne,{children:"Type"}),a.jsx(Ne,{children:"Facility"}),a.jsx(Ne,{children:"Schedule"}),a.jsx(Ne,{children:"Capacity"}),a.jsx(Ne,{children:"Status"}),a.jsx(Ne,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[h==null?void 0:h.map(k=>a.jsxs(bt,{"data-testid":`row-event-${k.id}`,children:[a.jsx(xe,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:k.title}),k.instructor&&a.jsxs("div",{className:"text-sm text-muted-foreground",children:["by ",k.instructor]})]})}),a.jsx(xe,{children:S(k.type)}),a.jsx(xe,{children:N(k.facilityId)}),a.jsx(xe,{children:a.jsxs("div",{className:"flex flex-col gap-1",children:[k.scheduleDay&&a.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[a.jsx(kn,{className:"w-3 h-3"}),k.scheduleDay]}),k.scheduleTime&&a.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(Yr,{className:"w-3 h-3"}),k.scheduleTime]})]})}),a.jsx(xe,{children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pn,{className:"w-3 h-3"}),k.enrolledCount||0,"/",k.capacity]})}),a.jsx(xe,{children:k.isActive?a.jsx(je,{className:"bg-green-500",children:"Active"}):a.jsx(je,{variant:"secondary",children:"Inactive"})}),a.jsxs(xe,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>_(k),"data-testid":`button-edit-event-${k.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this event?")&&y.mutate(k.id)},"data-testid":`button-delete-event-${k.id}`,children:a.jsx(nn,{className:"w-4 h-4 text-destructive"})})]})]},k.id)),(!h||h.length===0)&&a.jsx(bt,{children:a.jsx(xe,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No events found. Add your first event to get started."})})]})]})})})]})})}function BRe(){const{toast:e}=Et(),{adminPath:t}=op(),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),[c,u]=v.useState(""),{data:d,isLoading:f}=we({queryKey:["/api/admin/pricing-tiers"]}),{data:h}=we({queryKey:["/api/admin/membership-tiers"]}),p=()=>{Se.invalidateQueries({queryKey:["/api/admin/pricing-tiers"]}),Se.invalidateQueries({queryKey:["/api/pricing-tiers"]})},x=Re({mutationFn:async N=>await Oe("POST","/api/admin/pricing-tiers",N),onSuccess:()=>{p(),e({title:"Pricing tier created successfully"}),i(!1),y()},onError:()=>{e({title:"Failed to create pricing tier",variant:"destructive"})}}),m=Re({mutationFn:async({id:N,data:k})=>await Oe("PATCH",`/api/admin/pricing-tiers/${N}`,k),onSuccess:()=>{p(),e({title:"Pricing tier updated successfully"}),i(!1),n(null),y()},onError:()=>{e({title:"Failed to update pricing tier",variant:"destructive"})}}),b=Re({mutationFn:async N=>await Oe("DELETE",`/api/admin/pricing-tiers/${N}`),onSuccess:()=>{p(),e({title:"Pricing tier deleted successfully"})},onError:()=>{e({title:"Failed to delete pricing tier",variant:"destructive"})}}),y=()=>{l({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),u("")},g=N=>{n(N),l({name:N.name,tier:N.tier,price:N.price,billingPeriod:N.billingPeriod||"yearly",benefits:N.benefits||[],isPopular:N.isPopular||!1,sortOrder:N.sortOrder||0,isActive:N.isActive??!0}),i(!0)},w=()=>{r?m.mutate({id:r.id,data:o}):x.mutate(o)},_=()=>{c.trim()&&(l({...o,benefits:[...o.benefits,c.trim()]}),u(""))},j=N=>{l({...o,benefits:o.benefits.filter((k,C)=>C!==N)})},S=N=>{switch(N){case"FOUNDING":return a.jsx(je,{className:"bg-amber-600",children:"Founding"});case"GOLD":return a.jsx(je,{className:"bg-yellow-500",children:"Gold"});case"SILVER":return a.jsx(je,{className:"bg-gray-400",children:"Silver"});default:return a.jsx(je,{variant:"secondary",children:"Guest"})}};return f?a.jsx(wt,{title:"Pricing Tiers",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(wt,{title:"Pricing Tiers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage membership pricing tiers and their benefits."}),a.jsx(le,{href:`/${t}/membership-tiers`,children:a.jsxs(U,{variant:"link",size:"sm",className:"p-0 h-auto text-primary","data-testid":"link-manage-tiers",children:[a.jsx(Ev,{className:"w-3 h-3 mr-1"})," Manage Tier Definitions"]})})]}),a.jsxs(Rr,{open:s,onOpenChange:N=>{i(N),N||(n(null),y())},children:[a.jsx(ba,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-pricing-tier",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"})," Add Pricing Tier"]})}),a.jsxs(br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx($r,{children:a.jsx(Mr,{children:r?"Edit Pricing Tier":"Add New Pricing Tier"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"name",children:"Display Name"}),a.jsx(ne,{id:"name",value:o.name,onChange:N=>l({...o,name:N.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-tier-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"tier",children:"Tier Level"}),a.jsxs(Kr,{value:o.tier,onValueChange:N=>l({...o,tier:N}),children:[a.jsx(Cr,{"data-testid":"select-tier-level",children:a.jsx(Gr,{})}),a.jsxs(Pr,{children:[h==null?void 0:h.filter(N=>N.isActive).map(N=>a.jsx(ze,{value:N.slug.toUpperCase(),"data-testid":`select-tier-${N.slug}`,children:N.displayName},N.id)),(!h||h.length===0)&&a.jsxs(a.Fragment,{children:[a.jsx(ze,{value:"FOUNDING",children:"Founding"}),a.jsx(ze,{value:"GOLD",children:"Gold"}),a.jsx(ze,{value:"SILVER",children:"Silver"}),a.jsx(ze,{value:"GUEST",children:"Guest"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"price",children:"Price (PKR)"}),a.jsx(ne,{id:"price",type:"number",value:o.price,onChange:N=>l({...o,price:parseInt(N.target.value)||0}),"data-testid":"input-tier-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"billingPeriod",children:"Billing Period"}),a.jsxs(Kr,{value:o.billingPeriod,onValueChange:N=>l({...o,billingPeriod:N}),children:[a.jsx(Cr,{"data-testid":"select-billing-period",children:a.jsx(Gr,{})}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"monthly",children:"Monthly"}),a.jsx(ze,{value:"yearly",children:"Yearly"}),a.jsx(ze,{value:"lifetime",children:"Lifetime"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Benefits"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{value:c,onChange:N=>u(N.target.value),placeholder:"Add a benefit",onKeyDown:N=>N.key==="Enter"&&(N.preventDefault(),_()),"data-testid":"input-benefit"}),a.jsx(U,{type:"button",onClick:_,variant:"secondary",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.benefits.map((N,k)=>a.jsxs(je,{variant:"secondary",className:"px-2 py-1",children:[N,a.jsx("button",{type:"button",onClick:()=>j(k),className:"ml-2 text-muted-foreground hover:text-foreground",children:""})]},k))})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:o.sortOrder,onChange:N=>l({...o,sortOrder:parseInt(N.target.value)||0}),"data-testid":"input-sort-order"})]})}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{id:"isPopular",checked:o.isPopular,onCheckedChange:N=>l({...o,isPopular:N})}),a.jsx(Z,{htmlFor:"isPopular",children:"Mark as Popular"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{id:"isActive",checked:o.isActive,onCheckedChange:N=>l({...o,isActive:N})}),a.jsx(Z,{htmlFor:"isActive",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsxs(U,{onClick:w,disabled:x.isPending||m.isPending,"data-testid":"button-save-tier",children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"]})]})]})]})]})]}),a.jsx(me,{children:a.jsx(ge,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{children:"Name"}),a.jsx(Ne,{children:"Tier"}),a.jsx(Ne,{children:"Price"}),a.jsx(Ne,{children:"Billing"}),a.jsx(Ne,{children:"Benefits"}),a.jsx(Ne,{children:"Status"}),a.jsx(Ne,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[d==null?void 0:d.map(N=>{var k;return a.jsxs(bt,{"data-testid":`row-tier-${N.id}`,children:[a.jsxs(xe,{className:"font-medium",children:[N.name,N.isPopular&&a.jsx(LN,{className:"inline w-4 h-4 ml-2 text-amber-500"})]}),a.jsx(xe,{children:S(N.tier)}),a.jsxs(xe,{children:["PKR ",N.price.toLocaleString()]}),a.jsx(xe,{className:"capitalize",children:N.billingPeriod}),a.jsxs(xe,{children:[((k=N.benefits)==null?void 0:k.length)||0," benefits"]}),a.jsx(xe,{children:N.isActive?a.jsx(je,{className:"bg-green-500",children:"Active"}):a.jsx(je,{variant:"secondary",children:"Inactive"})}),a.jsxs(xe,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>g(N),"data-testid":`button-edit-tier-${N.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this pricing tier?")&&b.mutate(N.id)},"data-testid":`button-delete-tier-${N.id}`,children:a.jsx(nn,{className:"w-4 h-4 text-destructive"})})]})]},N.id)}),(!d||d.length===0)&&a.jsx(bt,{children:a.jsx(xe,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No pricing tiers found. Add your first tier to get started."})})]})]})})})]})})}function URe(){const{toast:e}=Et(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),[l,c]=v.useState(""),{data:u,isLoading:d}=we({queryKey:["/api/admin/membership-tiers"]}),f=()=>{Se.invalidateQueries({queryKey:["/api/admin/membership-tiers"]}),Se.invalidateQueries({queryKey:["/api/membership-tiers"]})},h=Re({mutationFn:async S=>await Oe("POST","/api/admin/membership-tiers",S),onSuccess:()=>{f(),e({title:"Membership tier created successfully"}),s(!1),m()},onError:()=>{e({title:"Failed to create membership tier",variant:"destructive"})}}),p=Re({mutationFn:async({id:S,data:N})=>await Oe("PATCH",`/api/admin/membership-tiers/${S}`,N),onSuccess:()=>{f(),e({title:"Membership tier updated successfully"}),s(!1),r(null),m()},onError:()=>{e({title:"Failed to update membership tier",variant:"destructive"})}}),x=Re({mutationFn:async S=>await Oe("DELETE",`/api/admin/membership-tiers/${S}`),onSuccess:()=>{f(),e({title:"Membership tier deleted successfully"})},onError:()=>{e({title:"Failed to delete membership tier",variant:"destructive"})}}),m=()=>{o({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),c("")},b=S=>{r(S),o({slug:S.slug,displayName:S.displayName,description:S.description||"",color:S.color||"#6B7280",discountPercent:S.discountPercent||0,guestPassesIncluded:S.guestPassesIncluded||0,benefits:S.benefits||[],sortOrder:S.sortOrder||0,isActive:S.isActive??!0}),s(!0)},y=()=>{t?p.mutate({id:t.id,data:i}):h.mutate(i)},g=()=>{l.trim()&&(o({...i,benefits:[...i.benefits,l.trim()]}),c(""))},w=S=>{o({...i,benefits:i.benefits.filter((N,k)=>k!==S)})},_=S=>S.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");if(d)return a.jsx(wt,{title:"Membership Tiers",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const j=[...u||[]].sort((S,N)=>(S.sortOrder||0)-(N.sortOrder||0));return a.jsx(wt,{title:"Membership Tiers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-muted-foreground",children:"Define membership tier types with their names, colors, discount percentages, and benefits."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"These tiers are used throughout the website for pricing and membership management."})]}),a.jsxs(Rr,{open:n,onOpenChange:S=>{s(S),S||(r(null),m())},children:[a.jsx(ba,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-tier",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"})," Add Tier"]})}),a.jsxs(br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx($r,{children:a.jsx(Mr,{children:t?"Edit Membership Tier":"Add New Membership Tier"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"displayName",children:"Display Name"}),a.jsx(ne,{id:"displayName",value:i.displayName,onChange:S=>{const N=S.target.value;o({...i,displayName:N,slug:i.slug||_(N)})},placeholder:"e.g., Platinum Member","data-testid":"input-display-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),a.jsx(ne,{id:"slug",value:i.slug,onChange:S=>o({...i,slug:_(S.target.value)}),placeholder:"e.g., platinum","data-testid":"input-slug"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"description",children:"Description"}),a.jsx(gr,{id:"description",value:i.description,onChange:S=>o({...i,description:S.target.value}),placeholder:"Brief description of this membership tier","data-testid":"input-description"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"color",children:"Tier Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{id:"color",type:"color",value:i.color,onChange:S=>o({...i,color:S.target.value}),className:"w-12 h-9 p-1 cursor-pointer","data-testid":"input-color"}),a.jsx(ne,{value:i.color,onChange:S=>o({...i,color:S.target.value}),placeholder:"#6B7280",className:"flex-1","data-testid":"input-color-text"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"discountPercent",children:"Discount % (Off-Peak)"}),a.jsx(ne,{id:"discountPercent",type:"number",min:"0",max:"100",value:i.discountPercent,onChange:S=>o({...i,discountPercent:parseInt(S.target.value)||0}),"data-testid":"input-discount"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"guestPasses",children:"Guest Passes/Month"}),a.jsx(ne,{id:"guestPasses",type:"number",min:"0",value:i.guestPassesIncluded,onChange:S=>o({...i,guestPassesIncluded:parseInt(S.target.value)||0}),"data-testid":"input-guest-passes"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Benefits"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{value:l,onChange:S=>c(S.target.value),placeholder:"Add a benefit",onKeyDown:S=>S.key==="Enter"&&(S.preventDefault(),g()),"data-testid":"input-benefit"}),a.jsx(U,{type:"button",onClick:g,variant:"secondary","data-testid":"button-add-benefit",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.benefits.map((S,N)=>a.jsxs(je,{variant:"secondary",className:"px-2 py-1","data-testid":`badge-benefit-${N}`,children:[S,a.jsx("button",{type:"button",onClick:()=>w(N),className:"ml-2 text-muted-foreground hover:text-foreground","data-testid":`button-remove-benefit-${N}`,children:"x"})]},N))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:S=>o({...i,sortOrder:parseInt(S.target.value)||0}),"data-testid":"input-sort-order"})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[a.jsx(an,{id:"isActive",checked:i.isActive,onCheckedChange:S=>o({...i,isActive:S}),"data-testid":"switch-is-active"}),a.jsx(Z,{htmlFor:"isActive",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel",children:"Cancel"}),a.jsx(U,{onClick:y,disabled:h.isPending||p.isPending,"data-testid":"button-save-tier",children:h.isPending||p.isPending?"Saving...":t?"Update Tier":"Create Tier"})]})]})]})]})]}),a.jsxs(me,{children:[a.jsxs(Xe,{children:[a.jsx(et,{children:"Membership Tier Definitions"}),a.jsx(Kt,{children:"Configure the properties of each membership tier. Changes here affect how tiers are displayed across the website."})]}),a.jsx(ge,{children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{className:"w-12",children:"Order"}),a.jsx(Ne,{children:"Name"}),a.jsx(Ne,{children:"Slug"}),a.jsx(Ne,{children:"Color"}),a.jsx(Ne,{children:"Discount"}),a.jsx(Ne,{children:"Guest Passes"}),a.jsx(Ne,{children:"Status"}),a.jsx(Ne,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[j.map(S=>a.jsxs(bt,{"data-testid":`row-tier-${S.id}`,children:[a.jsx(xe,{children:a.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(Nx,{className:"w-4 h-4"}),S.sortOrder]})}),a.jsx(xe,{className:"font-medium","data-testid":`text-tier-name-${S.id}`,children:S.displayName}),a.jsx(xe,{children:a.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded","data-testid":`text-tier-slug-${S.id}`,children:S.slug})}),a.jsx(xe,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:S.color||"#6B7280"}}),a.jsx("span",{className:"text-xs text-muted-foreground",children:S.color})]})}),a.jsxs(xe,{children:[S.discountPercent,"%"]}),a.jsx(xe,{children:S.guestPassesIncluded}),a.jsx(xe,{children:a.jsx(je,{variant:S.isActive?"default":"secondary","data-testid":`badge-status-${S.id}`,children:S.isActive?"Active":"Inactive"})}),a.jsx(xe,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>b(S),"data-testid":`button-edit-tier-${S.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this tier?")&&x.mutate(S.id)},disabled:x.isPending,"data-testid":`button-delete-tier-${S.id}`,children:a.jsx(nn,{className:"w-4 h-4"})})]})})]},S.id)),j.length===0&&a.jsx(bt,{children:a.jsx(xe,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'No membership tiers defined yet. Click "Add Tier" to create one.'})})]})]})})]})]})})}function VRe(){const{toast:e}=Et(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({title:"",content:"",category:"",isActive:!0}),{data:l,isLoading:c}=we({queryKey:["/api/admin/announcements"]}),u=Re({mutationFn:async m=>await Oe("POST","/api/admin/announcements",m),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement created successfully"}),s(!1),h()},onError:()=>{e({title:"Failed to create announcement",variant:"destructive"})}}),d=Re({mutationFn:async({id:m,data:b})=>await Oe("PATCH",`/api/admin/announcements/${m}`,b),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement updated successfully"}),s(!1),r(null),h()},onError:()=>{e({title:"Failed to update announcement",variant:"destructive"})}}),f=Re({mutationFn:async m=>await Oe("DELETE",`/api/admin/announcements/${m}`),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement deleted successfully"})},onError:()=>{e({title:"Failed to delete announcement",variant:"destructive"})}}),h=()=>{o({title:"",content:"",category:"",isActive:!0})},p=m=>{r(m),o({title:m.title,content:m.content||"",category:m.category||"",isActive:m.isActive??!0}),s(!0)},x=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?a.jsx(wt,{title:"Announcements",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(wt,{title:"Announcements",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage announcements and updates shown on the website."}),a.jsxs(Rr,{open:n,onOpenChange:m=>{s(m),m||(r(null),h())},children:[a.jsx(ba,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-announcement",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"})," Add Announcement"]})}),a.jsxs(br,{className:"max-w-2xl",children:[a.jsx($r,{children:a.jsx(Mr,{children:t?"Edit Announcement":"Add New Announcement"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-announcement-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"content",children:"Content"}),a.jsx(gr,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:5,"data-testid":"input-announcement-content"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"category",children:"Category"}),a.jsx(ne,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., Construction, Events, General","data-testid":"input-announcement-category"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),a.jsx(Z,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:x,disabled:u.isPending||d.isPending,"data-testid":"button-save-announcement",children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(me,{children:a.jsx(ge,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{children:"Title"}),a.jsx(Ne,{children:"Category"}),a.jsx(Ne,{children:"Published"}),a.jsx(Ne,{children:"Status"}),a.jsx(Ne,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[l==null?void 0:l.map(m=>a.jsxs(bt,{"data-testid":`row-announcement-${m.id}`,children:[a.jsx(xe,{className:"font-medium",children:m.title}),a.jsx(xe,{children:m.category||"-"}),a.jsx(xe,{children:m.publishedAt?sd(new Date(m.publishedAt),"MMM d, yyyy"):"-"}),a.jsx(xe,{children:m.isActive?a.jsx(je,{className:"bg-green-500",children:"Active"}):a.jsx(je,{variant:"secondary",children:"Inactive"})}),a.jsxs(xe,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-announcement-${m.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this announcement?")&&f.mutate(m.id)},"data-testid":`button-delete-announcement-${m.id}`,children:a.jsx(nn,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&a.jsx(bt,{children:a.jsx(xe,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No announcements found. Add your first announcement to get started."})})]})]})})})]})})}function qRe(){const{toast:e}=Et(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0}),{data:l,isLoading:c}=we({queryKey:["/api/admin/careers"]}),u=Re({mutationFn:async m=>await Oe("POST","/api/admin/careers",m),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing created successfully"}),s(!1),h()},onError:()=>{e({title:"Failed to create career listing",variant:"destructive"})}}),d=Re({mutationFn:async({id:m,data:b})=>await Oe("PATCH",`/api/admin/careers/${m}`,b),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing updated successfully"}),s(!1),r(null),h()},onError:()=>{e({title:"Failed to update career listing",variant:"destructive"})}}),f=Re({mutationFn:async m=>await Oe("DELETE",`/api/admin/careers/${m}`),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing deleted successfully"})},onError:()=>{e({title:"Failed to delete career listing",variant:"destructive"})}}),h=()=>{o({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0})},p=m=>{r(m),o({title:m.title,department:m.department||"",location:m.location||"Islamabad",type:m.type||"Full-time",description:m.description||"",requirements:m.requirements||"",salary:m.salary||"",isActive:m.isActive??!0}),s(!0)},x=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?a.jsx(wt,{title:"Careers",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(wt,{title:"Careers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage job listings and career opportunities at The Quarterdeck."}),a.jsxs(Rr,{open:n,onOpenChange:m=>{s(m),m||(r(null),h())},children:[a.jsx(ba,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-career",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"})," Add Job Listing"]})}),a.jsxs(br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx($r,{children:a.jsx(Mr,{children:t?"Edit Job Listing":"Add New Job Listing"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"title",children:"Job Title"}),a.jsx(ne,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-career-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"department",children:"Department"}),a.jsx(ne,{id:"department",value:i.department,onChange:m=>o({...i,department:m.target.value}),placeholder:"e.g., Operations, Sports, Admin","data-testid":"input-career-department"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"location",children:"Location"}),a.jsx(ne,{id:"location",value:i.location,onChange:m=>o({...i,location:m.target.value}),"data-testid":"input-career-location"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"type",children:"Employment Type"}),a.jsxs(Kr,{value:i.type,onValueChange:m=>o({...i,type:m}),children:[a.jsx(Cr,{"data-testid":"select-career-type",children:a.jsx(Gr,{})}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"Full-time",children:"Full-time"}),a.jsx(ze,{value:"Part-time",children:"Part-time"}),a.jsx(ze,{value:"Contract",children:"Contract"}),a.jsx(ze,{value:"Internship",children:"Internship"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"salary",children:"Salary Range"}),a.jsx(ne,{id:"salary",value:i.salary,onChange:m=>o({...i,salary:m.target.value}),placeholder:"e.g., PKR 50,000 - 80,000 / month","data-testid":"input-career-salary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"description",children:"Job Description"}),a.jsx(gr,{id:"description",value:i.description,onChange:m=>o({...i,description:m.target.value}),rows:4,"data-testid":"input-career-description"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"requirements",children:"Requirements"}),a.jsx(gr,{id:"requirements",value:i.requirements,onChange:m=>o({...i,requirements:m.target.value}),rows:4,placeholder:"List the requirements, each on a new line","data-testid":"input-career-requirements"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),a.jsx(Z,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:x,disabled:u.isPending||d.isPending,"data-testid":"button-save-career",children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(me,{children:a.jsx(ge,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{children:"Title"}),a.jsx(Ne,{children:"Department"}),a.jsx(Ne,{children:"Location"}),a.jsx(Ne,{children:"Type"}),a.jsx(Ne,{children:"Status"}),a.jsx(Ne,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[l==null?void 0:l.map(m=>a.jsxs(bt,{"data-testid":`row-career-${m.id}`,children:[a.jsx(xe,{className:"font-medium",children:m.title}),a.jsx(xe,{children:m.department||"-"}),a.jsx(xe,{children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ki,{className:"w-3 h-3"}),m.location]})}),a.jsx(xe,{children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Dh,{className:"w-3 h-3"}),m.type]})}),a.jsx(xe,{children:m.isActive?a.jsx(je,{className:"bg-green-500",children:"Active"}):a.jsx(je,{variant:"secondary",children:"Inactive"})}),a.jsxs(xe,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-career-${m.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this job listing?")&&f.mutate(m.id)},"data-testid":`button-delete-career-${m.id}`,children:a.jsx(nn,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&a.jsx(bt,{children:a.jsx(xe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No job listings found. Add your first listing to get started."})})]})]})})})]})})}function zRe(){const{toast:e}=Et(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({title:"",category:"",content:"",sortOrder:0,isActive:!0}),{data:l,isLoading:c}=we({queryKey:["/api/admin/rules"]}),u=Re({mutationFn:async m=>await Oe("POST","/api/admin/rules",m),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule created successfully"}),s(!1),h()},onError:()=>{e({title:"Failed to create rule",variant:"destructive"})}}),d=Re({mutationFn:async({id:m,data:b})=>await Oe("PATCH",`/api/admin/rules/${m}`,b),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule updated successfully"}),s(!1),r(null),h()},onError:()=>{e({title:"Failed to update rule",variant:"destructive"})}}),f=Re({mutationFn:async m=>await Oe("DELETE",`/api/admin/rules/${m}`),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule deleted successfully"})},onError:()=>{e({title:"Failed to delete rule",variant:"destructive"})}}),h=()=>{o({title:"",category:"",content:"",sortOrder:0,isActive:!0})},p=m=>{r(m),o({title:m.title,category:m.category||"",content:m.content||"",sortOrder:m.sortOrder||0,isActive:m.isActive??!0}),s(!0)},x=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?a.jsx(wt,{title:"Rules & Policies",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(wt,{title:"Rules & Policies",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage facility rules, policies, and guidelines shown to members."}),a.jsxs(Rr,{open:n,onOpenChange:m=>{s(m),m||(r(null),h())},children:[a.jsx(ba,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-rule",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"})," Add Rule"]})}),a.jsxs(br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx($r,{children:a.jsx(Mr,{children:t?"Edit Rule":"Add New Rule"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-rule-title"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"category",children:"Category"}),a.jsx(ne,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., General, Safety, Booking","data-testid":"input-rule-category"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:m=>o({...i,sortOrder:parseInt(m.target.value)||0}),"data-testid":"input-rule-sort"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"content",children:"Content"}),a.jsx(gr,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:8,placeholder:"Enter the rule or policy details...","data-testid":"input-rule-content"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),a.jsx(Z,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:x,disabled:u.isPending||d.isPending,"data-testid":"button-save-rule",children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(me,{children:a.jsx(ge,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{className:"w-12",children:"Order"}),a.jsx(Ne,{children:"Title"}),a.jsx(Ne,{children:"Category"}),a.jsx(Ne,{children:"Status"}),a.jsx(Ne,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[l==null?void 0:l.map(m=>a.jsxs(bt,{"data-testid":`row-rule-${m.id}`,children:[a.jsx(xe,{children:a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(Nx,{className:"w-4 h-4"}),m.sortOrder]})}),a.jsx(xe,{className:"font-medium",children:m.title}),a.jsx(xe,{children:m.category?a.jsx(je,{variant:"outline",children:m.category}):"-"}),a.jsx(xe,{children:m.isActive?a.jsx(je,{className:"bg-green-500",children:"Active"}):a.jsx(je,{variant:"secondary",children:"Inactive"})}),a.jsxs(xe,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-rule-${m.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this rule?")&&f.mutate(m.id)},"data-testid":`button-delete-rule-${m.id}`,children:a.jsx(nn,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&a.jsx(bt,{children:a.jsx(xe,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No rules found. Add your first rule to get started."})})]})]})})})]})})}const e$=[{section:"1. Information We Collect",content:"We collect information to provide and improve our services:",items:["Personal Information: Name, email, phone number","Membership Data: Tier, payment history, bookings","Usage Information: Facility patterns, preferences"]},{section:"2. How We Use Information",content:"Your information is used to:",items:["Process memberships and bookings","Communicate updates","Improve facilities and services"]},{section:"3. Contact",content:"For privacy inquiries, contact privacy@thequarterdeck.pk",items:[]}],t$=[{section:"1. Acceptance of Terms",content:"By using The Quarterdeck facilities, you agree to these terms.",items:[]},{section:"2. Membership",content:"Membership is subject to approval and payment of fees.",items:["Non-transferable","Valid ID required","Guest privileges vary by tier"]},{section:"3. Contact",content:"For questions, contact legal@thequarterdeck.pk",items:[]}];function WRe(){const{toast:e}=Et(),[t,r]=v.useState("privacy"),[n,s]=v.useState([]),[i,o]=v.useState([]),[l,c]=v.useState(!1),{data:u,isLoading:d}=we({queryKey:["/api/cms/bulk"]});v.useEffect(()=>{if(u){const j=u.find(N=>N.key==="privacy_policy"),S=u.find(N=>N.key==="terms_conditions");try{j!=null&&j.content?s(JSON.parse(j.content)):s(e$)}catch{s(e$)}try{S!=null&&S.content?o(JSON.parse(S.content)):o(t$)}catch{o(t$)}}},[u]);const f=Re({mutationFn:async({key:j,content:S})=>Oe("POST","/api/admin/cms",{key:j,title:j==="privacy_policy"?"Privacy Policy":"Terms & Conditions",content:S,isActive:!0}),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/cms/bulk"]}),e({title:"Saved successfully"})},onError:()=>{e({title:"Failed to save",variant:"destructive"})}}),h=async()=>{c(!0);try{await f.mutateAsync({key:"privacy_policy",content:JSON.stringify(n)})}finally{c(!1)}},p=async()=>{c(!0);try{await f.mutateAsync({key:"terms_conditions",content:JSON.stringify(i)})}finally{c(!1)}},x=(j,S,N,k)=>{(j==="privacy"?s:o)(E=>E.map((A,R)=>R===S?{...A,[N]:k}:A))},m=j=>{const S={section:`${j==="privacy"?n.length+1:i.length+1}. New Section`,content:"",items:[]};j==="privacy"?s([...n,S]):o([...i,S])},b=(j,S)=>{j==="privacy"?s(N=>N.filter((k,C)=>C!==S)):o(N=>N.filter((k,C)=>C!==S))},y=(j,S,N,k)=>{(j==="privacy"?s:o)(E=>E.map((A,R)=>{if(R!==S)return A;const T=[...A.items];return T[N]=k,{...A,items:T}}))},g=(j,S)=>{(j==="privacy"?s:o)(k=>k.map((C,E)=>E!==S?C:{...C,items:[...C.items,""]}))},w=(j,S,N)=>{(j==="privacy"?s:o)(C=>C.map((E,A)=>A!==S?E:{...E,items:E.items.filter((R,T)=>T!==N)}))},_=(j,S)=>a.jsxs("div",{className:"space-y-6",children:[S.map((N,k)=>a.jsxs(me,{className:"relative",children:[a.jsx(Xe,{className:"pb-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Nx,{className:"w-5 h-5 text-muted-foreground mt-2 cursor-grab"}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{children:[a.jsx(Z,{children:"Section Title"}),a.jsx(ne,{value:N.section,onChange:C=>x(j,k,"section",C.target.value),placeholder:"1. Section Title","data-testid":`input-section-title-${k}`})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"Content"}),a.jsx(gr,{value:N.content,onChange:C=>x(j,k,"content",C.target.value),placeholder:"Section content...",rows:3,"data-testid":`input-section-content-${k}`})]})]}),a.jsx(U,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>b(j,k),"data-testid":`button-remove-section-${k}`,children:a.jsx(nn,{className:"w-4 h-4"})})]})}),a.jsx(ge,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Z,{className:"text-sm",children:"Bullet Points"}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>g(j,k),"data-testid":`button-add-item-${k}`,children:[a.jsx(mn,{className:"w-3 h-3 mr-1"})," Add Item"]})]}),N.items.length===0?a.jsx("p",{className:"text-sm text-muted-foreground py-2",children:'No bullet points. Click "Add Item" to add one.'}):a.jsx("div",{className:"space-y-2",children:N.items.map((C,E)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{value:C,onChange:A=>y(j,k,E,A.target.value),placeholder:"Bullet point text...","data-testid":`input-item-${k}-${E}`}),a.jsx(U,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive flex-shrink-0",onClick:()=>w(j,k,E),"data-testid":`button-remove-item-${k}-${E}`,children:a.jsx(nn,{className:"w-4 h-4"})})]},E))})]})})]},k)),a.jsxs(U,{variant:"outline",className:"w-full",onClick:()=>m(j),"data-testid":`button-add-section-${j}`,children:[a.jsx(mn,{className:"w-4 h-4 mr-2"})," Add Section"]})]});return d?a.jsx(wt,{title:"Policy Management",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(ut,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):a.jsx(wt,{title:"Policy Management",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[a.jsx("h2",{className:"text-lg font-bold mb-1",children:"Privacy Policy & Terms Management"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Edit the content displayed on the Privacy Policy and Terms & Conditions pages. Changes are reflected immediately on the website."})]}),a.jsxs(Ei,{value:t,onValueChange:r,children:[a.jsxs(Va,{className:"grid w-full grid-cols-2 mb-6",children:[a.jsxs(yr,{value:"privacy",className:"flex items-center gap-2","data-testid":"tab-privacy",children:[a.jsx(Bh,{className:"w-4 h-4"}),"Privacy Policy"]}),a.jsxs(yr,{value:"terms",className:"flex items-center gap-2","data-testid":"tab-terms",children:[a.jsx(Jl,{className:"w-4 h-4"}),"Terms & Conditions"]})]}),a.jsxs(xr,{value:"privacy",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Privacy Policy Sections"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /privacy page."})]}),a.jsxs(U,{onClick:h,disabled:l,"data-testid":"button-save-privacy",children:[l?a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(sn,{className:"w-4 h-4 mr-2"}),"Save Privacy Policy"]})]}),_("privacy",n)]}),a.jsxs(xr,{value:"terms",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Terms & Conditions Sections"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /terms page."})]}),a.jsxs(U,{onClick:p,disabled:l,"data-testid":"button-save-terms",children:[l?a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(sn,{className:"w-4 h-4 mr-2"}),"Save Terms & Conditions"]})]}),_("terms",i)]})]})]})})}const Hc={dimensions:{recommended:"1920 x 1080 px (16:9 aspect ratio)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",categories:{Renders:"3D architectural renders and concept designs for The Quarterdeck complex",Construction:"Progress photos from the construction site showing different phases",Facilities:"Photos of completed or in-progress facilities (courts, halls, etc.)"}};function HRe(){const{toast:e}=Et(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),h=async A=>{var T;const R=(T=A.target.files)==null?void 0:T[0];if(R){if(!["image/jpeg","image/png","image/webp"].includes(R.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(R.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const I=new FormData;I.append("image",R);const O=await fetch("/api/admin/upload",{method:"POST",body:I,credentials:"include"});if(!O.ok){let V="Upload failed";try{V=(await O.json()).message||V}catch{V=O.statusText||V}throw new Error(V)}const D=await O.json();c({name:R.name,url:D.imageUrl}),f(V=>({...V,imageUrl:D.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(I){e({title:"Upload failed",description:I.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:x}=we({queryKey:["/api/admin/gallery"]}),m=Re({mutationFn:async A=>await Oe("POST","/api/admin/gallery",A),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image added successfully"}),s(!1),g()},onError:()=>{e({title:"Failed to add gallery image",variant:"destructive"})}}),b=Re({mutationFn:async({id:A,data:R})=>await Oe("PATCH",`/api/admin/gallery/${A}`,R),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image updated successfully"}),s(!1),r(null),g()},onError:()=>{e({title:"Failed to update gallery image",variant:"destructive"})}}),y=Re({mutationFn:async A=>await Oe("DELETE",`/api/admin/gallery/${A}`),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image deleted successfully"})},onError:()=>{e({title:"Failed to delete gallery image",variant:"destructive"})}}),g=()=>{f({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),c(null),u.current&&(u.current.value="")},w=A=>{r(A),f({imageUrl:A.imageUrl,title:A.title||"",description:A.description||"",category:A.category||"Construction",sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),s(!0)},_=()=>{t?b.mutate({id:t.id,data:d}):m.mutate(d)},j=A=>{switch(A){case"Renders":return a.jsx(je,{className:"bg-purple-500",children:"Renders"});case"Construction":return a.jsx(je,{className:"bg-orange-500",children:"Construction"});case"Facilities":return a.jsx(je,{className:"bg-blue-500",children:"Facilities"});default:return a.jsx(je,{variant:"secondary",children:A||"Other"})}};if(x)return a.jsx(wt,{title:"Gallery",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const S=(p==null?void 0:p.filter(A=>A.category==="Renders").length)||0,N=(p==null?void 0:p.filter(A=>A.category==="Construction").length)||0,k=(p==null?void 0:p.filter(A=>A.category==="Facilities").length)||0,C=(p==null?void 0:p.filter(A=>A.isActive).length)||0,E=(p==null?void 0:p.filter(A=>!A.isActive).length)||0;return a.jsx(wt,{title:"Gallery",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 via-orange-500/10 to-blue-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold mb-1",children:"Gallery Management"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage gallery images shown on the website. Images should be high-quality and relevant to The Quarterdeck."}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),a.jsxs("span",{className:"text-sm",children:[S," Renders"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),a.jsxs("span",{className:"text-sm",children:[N," Construction"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),a.jsxs("span",{className:"text-sm",children:[k," Facilities"]})]}),a.jsxs("div",{className:"border-l pl-3 flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400",children:[C," Active"]}),E>0&&a.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",E," Hidden"]})]})]})]}),a.jsxs(Rr,{open:n,onOpenChange:A=>{s(A),A||(r(null),g())},children:[a.jsx(ba,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-gallery-image",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"})," Add Image"]})}),a.jsxs(br,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx($r,{children:a.jsx(Mr,{children:t?"Edit Image":"Add New Image"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(DN,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Image Guidelines"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-blue-700 dark:text-blue-400",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Recommended:"}),a.jsx("p",{className:"text-xs",children:Hc.dimensions.recommended})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Formats:"}),a.jsx("p",{className:"text-xs",children:Hc.formats.join(", ")})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Max Size:"}),a.jsx("p",{className:"text-xs",children:Hc.maxFileSize})]})]})]})]})}),a.jsxs(Ei,{defaultValue:"url",className:"w-full",children:[a.jsxs(Va,{className:"grid w-full grid-cols-2",children:[a.jsxs(yr,{value:"url",className:"flex items-center gap-2","data-testid":"tab-url",children:[a.jsx(DD,{className:"w-4 h-4"})," URL"]}),a.jsxs(yr,{value:"upload",className:"flex items-center gap-2","data-testid":"tab-upload",children:[a.jsx(Ro,{className:"w-4 h-4"})," Upload (Testing)"]})]}),a.jsx(xr,{value:"url",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"imageUrl",children:"Image URL"}),a.jsx(ne,{id:"imageUrl",value:d.imageUrl,onChange:A=>f({...d,imageUrl:A.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-gallery-url"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a direct link to your image. Supports any publicly accessible URL."})]})}),a.jsxs(xr,{value:"upload",className:"space-y-4 mt-4",children:[a.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),a.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var A;return!i&&((A=u.current)==null?void 0:A.click())},children:i?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Uploading..."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while your image is being uploaded."})]}):l?a.jsxs(a.Fragment,{children:[a.jsx(Ss,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),a.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),a.jsx(U,{variant:"outline",size:"sm",onClick:A=>{A.stopPropagation(),c(null),f(R=>({...R,imageUrl:""})),u.current&&(u.current.value="")},"data-testid":"button-clear-upload",children:"Upload Different Image"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ro,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop or click to browse"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Preview"}),a.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:a.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:A=>{A.target.style.display="none"}})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:d.title,onChange:A=>f({...d,title:A.target.value}),placeholder:"e.g., Padel Court Construction - Week 12","data-testid":"input-gallery-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{htmlFor:"category",children:"Category"}),a.jsxs(sQ,{children:[a.jsx(aQ,{asChild:!0,children:a.jsx(Bl,{className:"w-4 h-4 text-muted-foreground cursor-help"})}),a.jsx(TL,{className:"max-w-xs",children:a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Renders:"})," ",Hc.categories.Renders]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Construction:"})," ",Hc.categories.Construction]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Facilities:"})," ",Hc.categories.Facilities]})]})})]})]}),a.jsxs(Kr,{value:d.category,onValueChange:A=>f({...d,category:A}),children:[a.jsx(Cr,{"data-testid":"select-gallery-category",children:a.jsx(Gr,{})}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"Renders",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Renders"]})}),a.jsx(ze,{value:"Construction",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Construction"]})}),a.jsx(ze,{value:"Facilities",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Facilities"]})})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"description",children:"Description"}),a.jsx(gr,{id:"description",value:d.description,onChange:A=>f({...d,description:A.target.value}),rows:3,"data-testid":"input-gallery-description"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:A=>f({...d,sortOrder:parseInt(A.target.value)||0}),"data-testid":"input-gallery-sort"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{id:"isActive",checked:d.isActive,onCheckedChange:A=>f({...d,isActive:A})}),a.jsx(Z,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(U,{onClick:_,disabled:i||m.isPending||b.isPending,"data-testid":"button-save-gallery-image",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[p==null?void 0:p.map(A=>a.jsxs(me,{className:"overflow-hidden","data-testid":`card-gallery-${A.id}`,children:[a.jsxs("div",{className:"relative aspect-video bg-muted",children:[A.imageUrl?a.jsx("img",{src:A.imageUrl,alt:A.title||"Gallery image",className:"w-full h-full object-cover"}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Ni,{className:"w-12 h-12 text-muted-foreground"})}),!A.isActive&&a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx(je,{variant:"secondary",children:"Hidden"})})]}),a.jsxs(ge,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium truncate",children:A.title||"Untitled"}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:A.description||"No description"})]}),j(A.category)]}),a.jsxs("div",{className:"flex justify-end gap-1 mt-3",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>w(A),"data-testid":`button-edit-gallery-${A.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this image?")&&y.mutate(A.id)},"data-testid":`button-delete-gallery-${A.id}`,children:a.jsx(nn,{className:"w-4 h-4 text-destructive"})})]})]})]},A.id)),(!p||p.length===0)&&a.jsxs("div",{className:"col-span-full text-center text-muted-foreground py-12",children:[a.jsx(Ni,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No gallery images found. Add your first image to get started."})]})]})]})})}const r$=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"coming-soon",label:"Coming Soon"},{value:"about",label:"About Page"},{value:"contact",label:"Contact Page"},{value:"events",label:"Events Page"}],n$={landing:[{value:"hero",label:"Hero Background",dimensions:"1920x1080"},{value:"gallery-1",label:"Gallery Image 1",dimensions:"800x600"},{value:"gallery-2",label:"Gallery Image 2",dimensions:"800x600"},{value:"gallery-3",label:"Gallery Image 3",dimensions:"800x600"},{value:"about-bg",label:"About Section Background",dimensions:"1200x800"}],facilities:[{value:"padel-tennis",label:"Padel Tennis Header",dimensions:"1920x600"},{value:"squash",label:"Squash Courts Header",dimensions:"1920x600"},{value:"air-rifle-range",label:"Air Rifle Range Header",dimensions:"1920x600"},{value:"bridge-room",label:"Bridge Room Header",dimensions:"1920x600"},{value:"multipurpose-hall",label:"Multipurpose Hall Header",dimensions:"1920x600"}],"coming-soon":[{value:"hero",label:"Coming Soon Hero",dimensions:"1920x1080"},{value:"countdown-bg",label:"Countdown Background",dimensions:"1920x600"}],about:[{value:"hero",label:"About Hero",dimensions:"1920x600"},{value:"team",label:"Team Section Background",dimensions:"1200x800"}],contact:[{value:"hero",label:"Contact Hero",dimensions:"1920x400"},{value:"map-bg",label:"Map Background",dimensions:"1200x600"}],events:[{value:"hero",label:"Events Hero",dimensions:"1920x600"},{value:"academy-bg",label:"Academy Section",dimensions:"1200x600"}]};function KRe(){var C,E,A,R;const{toast:e}=Et(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),h=async T=>{var O;const I=(O=T.target.files)==null?void 0:O[0];if(I){if(!["image/jpeg","image/png","image/webp"].includes(I.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(I.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const D=new FormData;D.append("image",I);const V=await fetch("/api/admin/upload",{method:"POST",body:D,credentials:"include"});if(!V.ok){let $="Upload failed";try{$=(await V.json()).message||$}catch{$=V.statusText||$}throw new Error($)}const P=await V.json();c({name:I.name,url:P.imageUrl}),f($=>({...$,imageUrl:P.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(D){e({title:"Upload failed",description:D.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:x}=we({queryKey:["/api/admin/site-images"]}),m=Re({mutationFn:T=>Oe("POST","/api/admin/site-images",T),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/site-images"]}),Se.invalidateQueries({queryKey:["/api/site-images"]}),s(!1),g(),e({title:"Site image added successfully"})},onError:()=>{e({title:"Failed to add site image",variant:"destructive"})}}),b=Re({mutationFn:({id:T,data:I})=>Oe("PATCH",`/api/admin/site-images/${T}`,I),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/site-images"]}),Se.invalidateQueries({queryKey:["/api/site-images"]}),s(!1),g(),e({title:"Site image updated successfully"})},onError:()=>{e({title:"Failed to update site image",variant:"destructive"})}}),y=Re({mutationFn:T=>Oe("DELETE",`/api/admin/site-images/${T}`),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/site-images"]}),Se.invalidateQueries({queryKey:["/api/site-images"]}),e({title:"Site image deleted successfully"})},onError:()=>{e({title:"Failed to delete site image",variant:"destructive"})}}),g=()=>{f({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),r(null),c(null),u.current&&(u.current.value="")},w=T=>{r(T),f({key:T.key,imageUrl:T.imageUrl,alt:T.alt||"",title:T.title||"",description:T.description||"",page:T.page,section:T.section||"",dimensions:T.dimensions||"",isActive:T.isActive??!0,sortOrder:T.sortOrder||0}),s(!0)},_=()=>{if(!d.key||!d.imageUrl||!d.page){e({title:"Missing required fields",description:"Please fill in the key, image URL, and page.",variant:"destructive"});return}t?b.mutate({id:t.id,data:d}):m.mutate(d)},j=T=>{f(I=>({...I,page:T,section:""}))},S=T=>{var O;const I=(O=n$[d.page])==null?void 0:O.find(D=>D.value===T);f(D=>({...D,section:T,dimensions:(I==null?void 0:I.dimensions)||"",key:t?D.key:`${d.page}_${T}`}))},N=T=>{const I=r$.find(D=>D.value===T),O={landing:"bg-blue-500",facilities:"bg-green-500","coming-soon":"bg-purple-500",about:"bg-amber-500",contact:"bg-teal-500",events:"bg-rose-500"};return a.jsx(je,{className:O[T]||"bg-gray-500",children:(I==null?void 0:I.label)||T})};if(x)return a.jsx(wt,{title:"Site Images",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const k=(p==null?void 0:p.reduce((T,I)=>{const O=I.page||"other";return T[O]||(T[O]=[]),T[O].push(I),T},{}))||{};return a.jsx(wt,{title:"Site Images",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold mb-1",children:"Site Images Management"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage all website images from a central location. Upload and update images for the landing page, facility pages, coming soon pages, and more."}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[a.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 rounded",children:["Landing: ",((C=k.landing)==null?void 0:C.length)||0]}),a.jsxs("span",{className:"px-2 py-1 bg-green-500/20 rounded",children:["Facilities: ",((E=k.facilities)==null?void 0:E.length)||0]}),a.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 rounded",children:["Coming Soon: ",((A=k["coming-soon"])==null?void 0:A.length)||0]})]})]}),a.jsxs(Rr,{open:n,onOpenChange:T=>{s(T),T||g()},children:[a.jsx(ba,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-site-image",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add Site Image"]})}),a.jsxs(br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx($r,{children:a.jsx(Mr,{children:t?"Edit Site Image":"Add New Site Image"})}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"page",children:"Page *"}),a.jsxs(Kr,{value:d.page,onValueChange:j,children:[a.jsx(Cr,{"data-testid":"select-site-image-page",children:a.jsx(Gr,{placeholder:"Select page"})}),a.jsx(Pr,{children:r$.map(T=>a.jsx(ze,{value:T.value,children:T.label},T.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"section",children:"Section"}),a.jsxs(Kr,{value:d.section,onValueChange:S,children:[a.jsx(Cr,{"data-testid":"select-site-image-section",children:a.jsx(Gr,{placeholder:"Select section"})}),a.jsx(Pr,{children:(R=n$[d.page])==null?void 0:R.map(T=>a.jsxs(ze,{value:T.value,children:[T.label," (",T.dimensions,")"]},T.value))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"key",children:"Unique Key *"}),a.jsx(ne,{id:"key",value:d.key,onChange:T=>f({...d,key:T.target.value.toLowerCase().replace(/\s+/g,"_")}),placeholder:"e.g., landing_hero",disabled:!!t,"data-testid":"input-site-image-key"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This key is used to reference the image in the code."})]}),a.jsxs(Ei,{defaultValue:"upload",className:"w-full",children:[a.jsxs(Va,{className:"grid w-full grid-cols-2",children:[a.jsx(yr,{value:"upload",children:"Upload File"}),a.jsx(yr,{value:"url",children:"Use URL"})]}),a.jsxs(xr,{value:"url",className:"space-y-2 mt-4",children:[a.jsx(Z,{htmlFor:"imageUrl",children:"Image URL *"}),a.jsx(ne,{id:"imageUrl",value:d.imageUrl,onChange:T=>f({...d,imageUrl:T.target.value}),placeholder:"https://...","data-testid":"input-site-image-url"})]}),a.jsxs(xr,{value:"upload",className:"space-y-4 mt-4",children:[a.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),a.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var T;return!i&&((T=u.current)==null?void 0:T.click())},children:i?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Uploading..."})]}):l?a.jsxs(a.Fragment,{children:[a.jsx(Ss,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),a.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),a.jsx(U,{variant:"outline",size:"sm",onClick:T=>{T.stopPropagation(),c(null),f(I=>({...I,imageUrl:""})),u.current&&(u.current.value="")},children:"Upload Different Image"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ro,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Preview"}),a.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:a.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:T=>{T.target.style.display="none"}})})]}),d.dimensions&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[a.jsx(DN,{className:"w-4 h-4 text-blue-500"}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Recommended dimensions: ",a.jsx("strong",{children:d.dimensions})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:d.title,onChange:T=>f({...d,title:T.target.value}),placeholder:"Image title","data-testid":"input-site-image-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"alt",children:"Alt Text"}),a.jsx(ne,{id:"alt",value:d.alt,onChange:T=>f({...d,alt:T.target.value}),placeholder:"Image description for accessibility","data-testid":"input-site-image-alt"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"description",children:"Description"}),a.jsx(gr,{id:"description",value:d.description,onChange:T=>f({...d,description:T.target.value}),rows:2,"data-testid":"input-site-image-description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:T=>f({...d,sortOrder:parseInt(T.target.value)||0}),"data-testid":"input-site-image-sort"})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[a.jsx(an,{id:"isActive",checked:d.isActive,onCheckedChange:T=>f({...d,isActive:T})}),a.jsx(Z,{htmlFor:"isActive",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(U,{onClick:_,disabled:i||m.isPending||b.isPending,"data-testid":"button-save-site-image",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),Object.keys(k).length===0?a.jsx(me,{className:"border-dashed",children:a.jsxs(ge,{className:"py-12",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(Ni,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Site Images Yet"}),a.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Upload images to customize the look of your website. Images can be used for hero backgrounds, facility headers, gallery sections, and more."}),a.jsxs(U,{onClick:()=>s(!0),"data-testid":"button-add-first-image",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add Your First Image"]})]}),a.jsxs("div",{className:"border-t pt-8 mt-8",children:[a.jsx("h4",{className:"font-semibold text-center mb-6",children:"Where Images Can Be Used"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[a.jsx("h5",{className:"font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Landing Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero background, gallery images, about section"}),a.jsx("p",{className:"text-xs text-blue-500 mt-2",children:"Recommended: 1920x1080 for hero"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[a.jsx("h5",{className:"font-medium text-green-700 dark:text-green-300 mb-1",children:"Facilities"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Headers for each sport facility page"}),a.jsx("p",{className:"text-xs text-green-500 mt-2",children:"Recommended: 1920x600"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[a.jsx("h5",{className:"font-medium text-purple-700 dark:text-purple-300 mb-1",children:"Coming Soon"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero and countdown backgrounds"}),a.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"Recommended: 1920x1080"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx("h5",{className:"font-medium text-amber-700 dark:text-amber-300 mb-1",children:"About Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"About hero and team section"}),a.jsx("p",{className:"text-xs text-amber-500 mt-2",children:"Recommended: 1920x600"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-teal-500/10 border border-teal-500/20",children:[a.jsx("h5",{className:"font-medium text-teal-700 dark:text-teal-300 mb-1",children:"Contact Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact hero and map background"}),a.jsx("p",{className:"text-xs text-teal-500 mt-2",children:"Recommended: 1920x400"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-rose-500/10 border border-rose-500/20",children:[a.jsx("h5",{className:"font-medium text-rose-700 dark:text-rose-300 mb-1",children:"Events Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Events hero and academy section"}),a.jsx("p",{className:"text-xs text-rose-500 mt-2",children:"Recommended: 1920x600"})]})]})]}),a.jsxs("div",{className:"border-t pt-8 mt-8 text-center",children:[a.jsx("h4",{className:"font-semibold mb-4",children:"How It Works"}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-6 text-sm text-muted-foreground max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-primary font-bold text-xs",children:"1"})}),a.jsx("span",{children:'Click "Add Site Image" and select a page and section'})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-primary font-bold text-xs",children:"2"})}),a.jsx("span",{children:"Upload your image or paste a URL"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-primary font-bold text-xs",children:"3"})}),a.jsx("span",{children:"Save and it appears on your website instantly"})]})]})]})]})}):Object.entries(k).map(([T,I])=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[N(T),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",I.length," images)"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:I.map(O=>a.jsxs(me,{className:"overflow-hidden","data-testid":`card-site-image-${O.id}`,children:[a.jsxs("div",{className:"relative aspect-video bg-muted",children:[O.imageUrl?a.jsx("img",{src:O.imageUrl,alt:O.alt||O.title||"Site image",className:"w-full h-full object-cover"}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Ni,{className:"w-12 h-12 text-muted-foreground"})}),!O.isActive&&a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx(je,{variant:"secondary",children:"Hidden"})})]}),a.jsxs(ge,{className:"p-4",children:[a.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-medium truncate",children:O.title||O.key}),a.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:O.key}),O.section&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:O.section}),O.dimensions&&a.jsx("p",{className:"text-xs text-blue-500 mt-1",children:O.dimensions})]})}),a.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[a.jsxs(U,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>w(O),"data-testid":`button-edit-site-image-${O.id}`,children:[a.jsx(ns,{className:"w-3 h-3 mr-1"}),"Edit"]}),a.jsx(U,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>y.mutate(O.id),"data-testid":`button-delete-site-image-${O.id}`,children:a.jsx(nn,{className:"w-3 h-3"})})]})]})]},O.id))})]},T))]})})}function GRe(){var D,V;const{toast:e}=Et(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(""),[p,x]=v.useState(""),[m,b]=v.useState("all"),[y,g]=v.useState("all"),{data:w,isLoading:_}=we({queryKey:["/api/admin/bookings"]}),{data:j}=we({queryKey:["/api/admin/facilities"]}),S=P=>{if(!P||!j)return"Unknown";const $=j.find(K=>K.id===P);return($==null?void 0:$.name)||"Unknown"},N=Re({mutationFn:async({id:P,data:$})=>await Oe("PATCH",`/api/admin/bookings/${P}/payment`,$),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Booking updated successfully"}),s(!1),r(null),c("")},onError:()=>{e({title:"Failed to update booking",variant:"destructive"})}}),k=Re({mutationFn:async({id:P,status:$,cancelReason:K})=>await Oe("PATCH",`/api/admin/bookings/${P}/status`,{status:$,cancelReason:K}),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Status updated successfully"}),o(!1),h("")},onError:()=>{e({title:"Failed to update status",variant:"destructive"})}}),C=()=>{t&&k.mutate({id:t.id,status:"CANCELLED",cancelReason:f})},E=()=>{t&&N.mutate({id:t.id,data:{paymentStatus:"VERIFIED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},A=()=>{t&&N.mutate({id:t.id,data:{paymentStatus:"REJECTED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},R=P=>{switch(P){case"VERIFIED":return a.jsx(je,{variant:"default",className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return a.jsx(je,{variant:"default",className:"bg-yellow-600",children:"Pending Verification"});case"REJECTED":return a.jsx(je,{variant:"destructive",children:"Rejected"});case"PENDING_PAYMENT":default:return a.jsx(je,{variant:"secondary",children:"Awaiting Payment"})}},T=(P,$)=>P==="CONFIRMED"&&$==="VERIFIED"?a.jsx(je,{variant:"default",className:"bg-green-600",children:"Confirmed"}):P==="CANCELLED"?a.jsx(je,{variant:"destructive",children:"Cancelled"}):$==="VERIFIED"&&P!=="CONFIRMED"?a.jsx(je,{variant:"default",className:"bg-blue-600",children:"Payment Verified"}):$==="PENDING_VERIFICATION"?a.jsx(je,{variant:"default",className:"bg-amber-500",children:"Tentative - Awaiting Verification"}):a.jsx(je,{variant:"secondary",children:"Tentative - Awaiting Payment"}),I=w==null?void 0:w.filter(P=>{var G;const $=S(P.facilityId),K=P.id.toLowerCase().includes(p.toLowerCase())||$.toLowerCase().includes(p.toLowerCase())||((G=P.userId)==null?void 0:G.toLowerCase().includes(p.toLowerCase())),te=m==="all"||P.paymentStatus===m,B=y==="all"||P.status===y;return K&&te&&B}),O=(w==null?void 0:w.filter(P=>P.paymentStatus==="PENDING_VERIFICATION").length)||0;return _?a.jsx(wt,{title:"Bookings Management",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(wt,{title:"Bookings Management",children:a.jsxs("div",{className:"space-y-6",children:[O>0&&a.jsx(me,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:a.jsxs(ge,{className:"flex items-center gap-3 p-4",children:[a.jsx(Rn,{className:"h-5 w-5 text-yellow-600"}),a.jsxs("span",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:[O," booking",O>1?"s":""," pending payment verification"]}),a.jsx(U,{size:"sm",variant:"outline",onClick:()=>b("PENDING_VERIFICATION"),className:"ml-auto","data-testid":"button-show-pending",children:"Show Pending"})]})}),a.jsxs(me,{children:[a.jsx(Xe,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Yr,{className:"h-5 w-5"}),"All Bookings (",(w==null?void 0:w.length)||0,")"]})}),a.jsxs(ge,{children:[a.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsxs("div",{className:"relative",children:[a.jsx(kx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ne,{placeholder:"Search by ID, facility, or user...",value:p,onChange:P=>x(P.target.value),className:"pl-10","data-testid":"input-search-bookings"})]})}),a.jsxs(Kr,{value:m,onValueChange:b,children:[a.jsxs(Cr,{className:"w-[180px]","data-testid":"select-payment-filter",children:[a.jsx(TD,{className:"h-4 w-4 mr-2"}),a.jsx(Gr,{placeholder:"Payment Status"})]}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"all",children:"All Payments"}),a.jsx(ze,{value:"PENDING_PAYMENT",children:"Awaiting Payment"}),a.jsx(ze,{value:"PENDING_VERIFICATION",children:"Pending Verification"}),a.jsx(ze,{value:"VERIFIED",children:"Verified"}),a.jsx(ze,{value:"REJECTED",children:"Rejected"})]})]}),a.jsxs(Kr,{value:y,onValueChange:g,children:[a.jsx(Cr,{className:"w-[160px]","data-testid":"select-status-filter",children:a.jsx(Gr,{placeholder:"Status"})}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"all",children:"All Status"}),a.jsx(ze,{value:"PENDING",children:"Pending"}),a.jsx(ze,{value:"CONFIRMED",children:"Confirmed"}),a.jsx(ze,{value:"CANCELLED",children:"Cancelled"})]})]})]}),I&&I.length>0?a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{children:"Booking ID"}),a.jsx(Ne,{children:"Date / Time"}),a.jsx(Ne,{children:"Facility"}),a.jsx(Ne,{children:"Amount"}),a.jsx(Ne,{children:"Payment"}),a.jsx(Ne,{children:"Status"}),a.jsx(Ne,{children:"Actions"})]})}),a.jsx(ts,{children:I.map(P=>{var $;return a.jsxs(bt,{"data-testid":`row-booking-${P.id}`,children:[a.jsxs(xe,{className:"font-mono text-xs",children:[P.id.slice(0,8),"..."]}),a.jsxs(xe,{children:[a.jsx("div",{className:"text-sm font-medium",children:P.date}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[P.startTime," - ",P.endTime]})]}),a.jsxs(xe,{children:[a.jsx("div",{className:"text-sm",children:S(P.facilityId)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",P.resourceId]})]}),a.jsx(xe,{children:a.jsxs("span",{className:"font-medium",children:["PKR ",(($=P.totalPrice)==null?void 0:$.toLocaleString())||0]})}),a.jsx(xe,{children:R(P.paymentStatus)}),a.jsx(xe,{children:T(P.status,P.paymentStatus)}),a.jsx(xe,{children:a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>{r(P),c(P.paymentNotes||""),d(P.paymentProofUrl||""),s(!0)},"data-testid":`button-view-${P.id}`,children:a.jsx(Io,{className:"h-4 w-4"})})})]},P.id)})})]})}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings found matching your filters."})]})]}),a.jsx(Rr,{open:n,onOpenChange:s,children:a.jsxs(br,{className:"max-w-2xl",children:[a.jsx($r,{children:a.jsx(Mr,{children:"Booking Details"})}),t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{className:"text-xs text-muted-foreground",children:"Booking ID"}),a.jsx("p",{className:"font-mono text-sm",children:t.id})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-xs text-muted-foreground",children:"User ID"}),a.jsx("p",{className:"font-mono text-sm",children:t.userId})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-xs text-muted-foreground",children:"Date"}),a.jsx("p",{className:"font-medium",children:t.date})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-xs text-muted-foreground",children:"Time"}),a.jsxs("p",{className:"font-medium",children:[t.startTime," - ",t.endTime]})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-xs text-muted-foreground",children:"Facility"}),a.jsx("p",{className:"font-medium",children:S(t.facilityId)})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-xs text-muted-foreground",children:"Resource"}),a.jsxs("p",{className:"font-medium",children:["#",t.resourceId]})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-xs text-muted-foreground",children:"Total Amount"}),a.jsxs("p",{className:"font-bold text-lg",children:["PKR ",((D=t.totalPrice)==null?void 0:D.toLocaleString())||0]})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-xs text-muted-foreground",children:"Payment Method"}),a.jsx("p",{className:"font-medium capitalize",children:((V=t.paymentMethod)==null?void 0:V.replace("_"," "))||"N/A"})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx(Z,{className:"text-xs text-muted-foreground",children:"Payment Status"}),a.jsx("div",{className:"mt-1",children:R(t.paymentStatus)})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-xs text-muted-foreground",children:"Booking Status"}),a.jsx("div",{className:"mt-1",children:T(t.status,t.paymentStatus)})]})]}),a.jsxs("div",{className:"mb-4 space-y-2",children:[a.jsx(Z,{htmlFor:"paymentProofUrl",children:"Payment Proof URL"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{id:"paymentProofUrl",value:u,onChange:P=>d(P.target.value),placeholder:"Enter proof URL (receipt/transfer screenshot)","data-testid":"input-payment-proof-url"}),(t.paymentProofUrl||u)&&a.jsx(U,{variant:"outline",size:"icon",onClick:()=>window.open(u||t.paymentProofUrl,"_blank"),title:"View proof document","data-testid":"button-view-proof",children:a.jsx(Lh,{className:"h-4 w-4"})})]}),t.paymentProofUrl&&!u&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current: ",a.jsx("a",{href:t.paymentProofUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View existing proof"})]})]}),t.paymentVerifiedBy&&a.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Verified by: ",t.paymentVerifiedBy,t.paymentVerifiedAt&&a.jsxs(a.Fragment,{children:[" on ",sd(new Date(t.paymentVerifiedAt),"PPp")]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"paymentNotes",children:"Admin Notes"}),a.jsx(gr,{id:"paymentNotes",value:l,onChange:P=>c(P.target.value),placeholder:"Add notes about payment verification...",rows:3,"data-testid":"textarea-payment-notes"})]})]}),(t.paymentStatus==="PENDING_VERIFICATION"||t.paymentStatus==="PENDING_PAYMENT")&&a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsxs(U,{onClick:E,disabled:N.isPending,className:"flex-1 bg-green-600 hover:bg-green-500","data-testid":"button-verify-payment",children:[a.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Verify Payment"]}),a.jsxs(U,{onClick:A,disabled:N.isPending,variant:"destructive",className:"flex-1","data-testid":"button-reject-payment",children:[a.jsx(Ju,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),t.status!=="CANCELLED"&&a.jsx("div",{className:"flex gap-3 pt-4 border-t",children:a.jsxs(U,{onClick:()=>{o(!0)},disabled:k.isPending,variant:"destructive","data-testid":"button-cancel-booking",children:[a.jsx(Ju,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})]})}),a.jsx(Rr,{open:i,onOpenChange:o,children:a.jsxs(br,{children:[a.jsx($r,{children:a.jsx(Mr,{children:"Cancel Booking"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to cancel this booking? This action cannot be undone. The user will receive an email notification about the cancellation."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"cancelReason",children:"Cancellation Reason (Optional)"}),a.jsx(gr,{id:"cancelReason",value:f,onChange:P=>h(P.target.value),placeholder:"Reason for cancellation...",rows:3,"data-testid":"textarea-cancel-reason"})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(U,{variant:"outline",onClick:()=>{o(!1),h("")},"data-testid":"button-cancel-dialog-close",children:"Keep Booking"}),a.jsx(U,{variant:"destructive",onClick:C,disabled:k.isPending,"data-testid":"button-confirm-cancel",children:k.isPending?"Cancelling...":"Confirm Cancellation"})]})]})]})})]})})}function YRe(){const{toast:e}=Et(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""}),[l,c]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(""),[p,x]=v.useState(""),[m,b]=v.useState(""),[y,g]=v.useState(!1),{data:w,isLoading:_}=we({queryKey:["/api/admin/site-settings"]}),{data:j,isLoading:S}=we({queryKey:["/api/admin/navbar-items"]});if(w&&!y){const O=D=>{var V;return((V=w.find(P=>P.key===D))==null?void 0:V.value)||""};c(O("logo_main_url")),d(O("logo_dark_url")),h(O("favicon_url")),x(O("site_name")||"The Quarterdeck"),b(O("site_tagline")||"Sports & Recreation Complex"),g(!0)}const N=Re({mutationFn:async O=>{for(const D of O)await Oe("POST","/api/admin/site-settings",D)},onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/site-settings"]}),Se.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Branding settings saved successfully"})},onError:()=>{e({title:"Failed to save branding settings",variant:"destructive"})}}),k=Re({mutationFn:async O=>await Oe("POST","/api/admin/navbar-items",O),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Se.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item created successfully"}),s(!1),A()},onError:()=>{e({title:"Failed to create navigation item",variant:"destructive"})}}),C=Re({mutationFn:async({id:O,data:D})=>await Oe("PATCH",`/api/admin/navbar-items/${O}`,D),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Se.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item updated successfully"}),s(!1),r(null),A()},onError:()=>{e({title:"Failed to update navigation item",variant:"destructive"})}}),E=Re({mutationFn:async O=>await Oe("DELETE",`/api/admin/navbar-items/${O}`),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Se.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item deleted successfully"})},onError:()=>{e({title:"Failed to delete navigation item",variant:"destructive"})}}),A=()=>{o({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""})},R=O=>{r(O),o({label:O.label,href:O.href,sortOrder:O.sortOrder,isVisible:O.isVisible,target:O.target||"_self",requiresAuth:O.requiresAuth||!1,icon:O.icon||""}),s(!0)},T=()=>{t?C.mutate({id:t.id,data:i}):k.mutate(i)},I=()=>{const O=[{key:"logo_main_url",value:l,label:"Main Logo URL",category:"branding"},{key:"logo_dark_url",value:u,label:"Dark Mode Logo URL",category:"branding"},{key:"favicon_url",value:f,label:"Favicon URL",category:"branding"},{key:"site_name",value:p,label:"Site Name",category:"branding"},{key:"site_tagline",value:m,label:"Site Tagline",category:"branding"}];N.mutate(O)};return _||S?a.jsx(wt,{title:"Branding & Navigation",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(wt,{title:"Branding & Navigation",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsxs(Xe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Ni,{className:"h-5 w-5"}),"Site Branding"]}),a.jsx(Kt,{children:"Customize your site logo, favicon, and branding text. Provide URLs to your logo images."})]}),a.jsxs(ge,{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"siteName",children:"Site Name"}),a.jsx(ne,{id:"siteName",value:p,onChange:O=>x(O.target.value),placeholder:"The Quarterdeck","data-testid":"input-site-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"siteTagline",children:"Site Tagline"}),a.jsx(ne,{id:"siteTagline",value:m,onChange:O=>b(O.target.value),placeholder:"Sports & Recreation Complex","data-testid":"input-site-tagline"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"logoUrl",children:"Main Logo URL"}),a.jsx(ne,{id:"logoUrl",value:l,onChange:O=>c(O.target.value),placeholder:"https://example.com/logo.png","data-testid":"input-logo-url"}),l&&a.jsxs("div",{className:"mt-2 p-4 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),a.jsx("img",{src:l,alt:"Logo preview",className:"h-12 w-auto object-contain"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"logoDarkUrl",children:"Dark Mode Logo URL (Optional)"}),a.jsx(ne,{id:"logoDarkUrl",value:u,onChange:O=>d(O.target.value),placeholder:"https://example.com/logo-dark.png","data-testid":"input-logo-dark-url"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"faviconUrl",children:"Favicon URL"}),a.jsx(ne,{id:"faviconUrl",value:f,onChange:O=>h(O.target.value),placeholder:"https://example.com/favicon.ico","data-testid":"input-favicon-url"})]}),a.jsxs(U,{onClick:I,disabled:N.isPending,"data-testid":"button-save-branding",children:[a.jsx(sn,{className:"h-4 w-4 mr-2"}),N.isPending?"Saving...":"Save Branding Settings"]})]})]}),a.jsxs(me,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(fK,{className:"h-5 w-5"}),"Navigation Items"]}),a.jsx(Kt,{children:"Manage the navigation links that appear in the header."})]}),a.jsxs(U,{onClick:()=>{A(),r(null),s(!0)},"data-testid":"button-add-nav-item",children:[a.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.jsx(ge,{children:j&&j.length>0?a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{className:"w-[50px]",children:"Order"}),a.jsx(Ne,{children:"Label"}),a.jsx(Ne,{children:"Link"}),a.jsx(Ne,{children:"Visibility"}),a.jsx(Ne,{children:"Actions"})]})}),a.jsx(ts,{children:j.map(O=>a.jsxs(bt,{"data-testid":`row-nav-${O.id}`,children:[a.jsx(xe,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nx,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:O.sortOrder})]})}),a.jsx(xe,{className:"font-medium",children:O.label}),a.jsx(xe,{children:a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[O.href,O.target==="_blank"&&a.jsx(Lh,{className:"h-3 w-3"})]})}),a.jsx(xe,{children:O.isVisible?a.jsx(je,{variant:"default",className:"bg-green-600",children:"Visible"}):a.jsx(je,{variant:"secondary",children:"Hidden"})}),a.jsx(xe,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>R(O),"data-testid":`button-edit-nav-${O.id}`,children:a.jsx(ns,{className:"h-4 w-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>E.mutate(O.id),"data-testid":`button-delete-nav-${O.id}`,children:a.jsx(nn,{className:"h-4 w-4"})})]})})]},O.id))})]})}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No navigation items configured. Click "Add Item" to create one.'})})]}),a.jsx(Rr,{open:n,onOpenChange:s,children:a.jsxs(br,{children:[a.jsx($r,{children:a.jsx(Mr,{children:t?"Edit Navigation Item":"Add Navigation Item"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"navLabel",children:"Label"}),a.jsx(ne,{id:"navLabel",value:i.label,onChange:O=>o({...i,label:O.target.value}),placeholder:"Home","data-testid":"input-nav-label"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"navHref",children:"Link URL"}),a.jsx(ne,{id:"navHref",value:i.href,onChange:O=>o({...i,href:O.target.value}),placeholder:"/home or https://...","data-testid":"input-nav-href"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"navOrder",children:"Sort Order"}),a.jsx(ne,{id:"navOrder",type:"number",value:i.sortOrder,onChange:O=>o({...i,sortOrder:parseInt(O.target.value)||0}),"data-testid":"input-nav-order"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"navTarget",children:"Link Target"}),a.jsxs(Kr,{value:i.target,onValueChange:O=>o({...i,target:O}),children:[a.jsx(Cr,{"data-testid":"select-nav-target",children:a.jsx(Gr,{})}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"_self",children:"Same Window"}),a.jsx(ze,{value:"_blank",children:"New Window"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Z,{htmlFor:"navVisible",children:"Visible"}),a.jsx(an,{id:"navVisible",checked:i.isVisible,onCheckedChange:O=>o({...i,isVisible:O}),"data-testid":"switch-nav-visible"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Z,{htmlFor:"navAuth",children:"Requires Authentication"}),a.jsx(an,{id:"navAuth",checked:i.requiresAuth,onCheckedChange:O=>o({...i,requiresAuth:O}),"data-testid":"switch-nav-auth"})]}),a.jsxs(U,{className:"w-full",onClick:T,disabled:k.isPending||C.isPending,"data-testid":"button-save-nav-item",children:[a.jsx(sn,{className:"h-4 w-4 mr-2"}),t?"Update Item":"Create Item"]})]})]})})]})})}var QRe=Symbol("radix.slottable");function XRe(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=QRe,t}var Lq="AlertDialog",[ZRe]=gn(Lq,[I5]),Vi=I5(),Fq=e=>{const{__scopeAlertDialog:t,...r}=e,n=Vi(t);return a.jsx(Mk,{...n,...r,modal:!0})};Fq.displayName=Lq;var JRe="AlertDialogTrigger",e$e=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Vi(r);return a.jsx(Y5,{...s,...n,ref:t})});e$e.displayName=JRe;var t$e="AlertDialogPortal",Bq=e=>{const{__scopeAlertDialog:t,...r}=e,n=Vi(t);return a.jsx(Dk,{...n,...r})};Bq.displayName=t$e;var r$e="AlertDialogOverlay",Uq=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Vi(r);return a.jsx(rb,{...s,...n,ref:t})});Uq.displayName=r$e;var Au="AlertDialogContent",[n$e,s$e]=ZRe(Au),a$e=XRe("AlertDialogContent"),Vq=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Vi(r),o=v.useRef(null),l=Ze(t,o),c=v.useRef(null);return a.jsx(bae,{contentName:Au,titleName:qq,docsSlug:"alert-dialog",children:a.jsx(n$e,{scope:r,cancelRef:c,children:a.jsxs(nb,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:fe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(a$e,{children:n}),a.jsx(o$e,{contentRef:o})]})})})});Vq.displayName=Au;var qq="AlertDialogTitle",zq=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Vi(r);return a.jsx(Lk,{...s,...n,ref:t})});zq.displayName=qq;var Wq="AlertDialogDescription",Hq=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Vi(r);return a.jsx(Fk,{...s,...n,ref:t})});Hq.displayName=Wq;var i$e="AlertDialogAction",Kq=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Vi(r);return a.jsx(Bk,{...s,...n,ref:t})});Kq.displayName=i$e;var Gq="AlertDialogCancel",Yq=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=s$e(Gq,r),i=Vi(r),o=Ze(t,s);return a.jsx(Bk,{...i,...n,ref:o})});Yq.displayName=Gq;var o$e=({contentRef:e})=>{const t=`\`${Au}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Au}\` by passing a \`${Wq}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Au}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},l$e=Fq,c$e=Bq,Qq=Uq,Xq=Vq,Zq=Kq,Jq=Yq,ez=zq,tz=Hq;const u$e=l$e,d$e=c$e,rz=v.forwardRef(({className:e,...t},r)=>a.jsx(Qq,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));rz.displayName=Qq.displayName;const nz=v.forwardRef(({className:e,...t},r)=>a.jsxs(d$e,{children:[a.jsx(rz,{}),a.jsx(Xq,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));nz.displayName=Xq.displayName;const sz=({className:e,...t})=>a.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});sz.displayName="AlertDialogHeader";const az=({className:e,...t})=>a.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});az.displayName="AlertDialogFooter";const iz=v.forwardRef(({className:e,...t},r)=>a.jsx(ez,{ref:r,className:ce("text-lg font-semibold",e),...t}));iz.displayName=ez.displayName;const oz=v.forwardRef(({className:e,...t},r)=>a.jsx(tz,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));oz.displayName=tz.displayName;const lz=v.forwardRef(({className:e,...t},r)=>a.jsx(Zq,{ref:r,className:ce(nk(),e),...t}));lz.displayName=Zq.displayName;const cz=v.forwardRef(({className:e,...t},r)=>a.jsx(Jq,{ref:r,className:ce(nk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));cz.displayName=Jq.displayName;const f$e=Di({title:Pt().min(1,"Title is required"),icon:Pt().optional(),sortOrder:O5.number().default(0),isActive:Tk().default(!0)}),h$e=Di({categoryId:Pt().min(1,"Category is required"),question:Pt().min(1,"Question is required"),answer:Pt().min(1,"Answer is required"),sortOrder:O5.number().default(0),isActive:Tk().default(!0)}),m$e=[{value:"help-circle",label:"Help Circle"},{value:"users",label:"Users"},{value:"calendar",label:"Calendar"},{value:"credit-card",label:"Credit Card"},{value:"building-2",label:"Building"},{value:"shield",label:"Shield"},{value:"clock",label:"Clock"},{value:"settings",label:"Settings"}];function p$e(){const{toast:e}=Et(),[t,r]=v.useState(!1),[n,s]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,h]=v.useState(null),[p,x]=v.useState(new Set),{data:m=[],isLoading:b}=we({queryKey:["/api/admin/faq/categories"]}),{data:y=[],isLoading:g}=we({queryKey:["/api/admin/faq/items"]}),w=qa({resolver:za(f$e),defaultValues:{title:"",icon:"help-circle",sortOrder:0,isActive:!0}}),_=qa({resolver:za(h$e),defaultValues:{categoryId:"",question:"",answer:"",sortOrder:0,isActive:!0}}),j=Re({mutationFn:async P=>await Oe("POST","/api/admin/faq/categories",P),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category created successfully"}),r(!1),w.reset()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),S=Re({mutationFn:async({id:P,data:$})=>await Oe("PATCH",`/api/admin/faq/categories/${P}`,$),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category updated successfully"}),r(!1),o(null),w.reset()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),N=Re({mutationFn:async P=>await Oe("DELETE",`/api/admin/faq/categories/${P}`),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),Se.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"Category deleted successfully"})},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),k=Re({mutationFn:async P=>await Oe("POST","/api/admin/faq/items",P),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item created successfully"}),s(!1),_.reset()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),C=Re({mutationFn:async({id:P,data:$})=>await Oe("PATCH",`/api/admin/faq/items/${P}`,$),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item updated successfully"}),s(!1),c(null),_.reset()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),E=Re({mutationFn:async P=>await Oe("DELETE",`/api/admin/faq/items/${P}`),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item deleted successfully"})},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),A=P=>{o(P),w.reset({title:P.title,icon:P.icon||"help-circle",sortOrder:P.sortOrder||0,isActive:P.isActive??!0}),r(!0)},R=P=>{c(P),_.reset({categoryId:P.categoryId,question:P.question,answer:P.answer,sortOrder:P.sortOrder||0,isActive:P.isActive??!0}),s(!0)},T=P=>{i?S.mutate({id:i.id,data:P}):j.mutate(P)},I=P=>{l?C.mutate({id:l.id,data:P}):k.mutate(P)},O=()=>{f&&(f.type==="category"?N.mutate(f.id):E.mutate(f.id),d(!1),h(null))},D=P=>{x($=>{const K=new Set($);return K.has(P)?K.delete(P):K.add(P),K})},V=P=>y.filter($=>$.categoryId===P).sort(($,K)=>($.sortOrder||0)-(K.sortOrder||0));return b||g?a.jsx(wt,{title:"FAQ Management",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ut,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):a.jsx(wt,{title:"FAQ Management",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-faq-management-title",children:"FAQ Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage frequently asked questions and categories"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Rr,{open:t,onOpenChange:P=>{r(P),P||(o(null),w.reset())},children:[a.jsx(ba,{asChild:!0,children:a.jsxs(U,{variant:"outline","data-testid":"button-add-category",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),a.jsxs(br,{children:[a.jsx($r,{children:a.jsx(Mr,{children:i?"Edit Category":"Add Category"})}),a.jsx(Wa,{...w,children:a.jsxs("form",{onSubmit:w.handleSubmit(T),className:"space-y-4",children:[a.jsx(ot,{control:w.control,name:"title",render:({field:P})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Title"}),a.jsx(rt,{children:a.jsx(ne,{...P,"data-testid":"input-category-title"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:w.control,name:"icon",render:({field:P})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Icon"}),a.jsxs(Kr,{onValueChange:P.onChange,value:P.value,children:[a.jsx(rt,{children:a.jsx(Cr,{"data-testid":"select-category-icon",children:a.jsx(Gr,{placeholder:"Select an icon"})})}),a.jsx(Pr,{children:m$e.map($=>a.jsx(ze,{value:$.value,children:$.label},$.value))})]}),a.jsx(ct,{})]})}),a.jsx(ot,{control:w.control,name:"sortOrder",render:({field:P})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Sort Order"}),a.jsx(rt,{children:a.jsx(ne,{type:"number",...P,"data-testid":"input-category-sort-order"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:w.control,name:"isActive",render:({field:P})=>a.jsxs(tt,{className:"flex items-center gap-2",children:[a.jsx(rt,{children:a.jsx(an,{checked:P.value,onCheckedChange:P.onChange,"data-testid":"switch-category-active"})}),a.jsx(Z,{children:"Active"})]})}),a.jsxs(U,{type:"submit",className:"w-full",disabled:j.isPending||S.isPending,"data-testid":"button-save-category",children:[(j.isPending||S.isPending)&&a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Update":"Create"," Category"]})]})})]})]}),a.jsxs(Rr,{open:n,onOpenChange:P=>{s(P),P||(c(null),_.reset())},children:[a.jsx(ba,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-faq-item",children:[a.jsx(mn,{className:"w-4 h-4 mr-2"}),"Add FAQ Item"]})}),a.jsxs(br,{className:"max-w-2xl",children:[a.jsx($r,{children:a.jsx(Mr,{children:l?"Edit FAQ Item":"Add FAQ Item"})}),a.jsx(Wa,{..._,children:a.jsxs("form",{onSubmit:_.handleSubmit(I),className:"space-y-4",children:[a.jsx(ot,{control:_.control,name:"categoryId",render:({field:P})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Category"}),a.jsxs(Kr,{onValueChange:P.onChange,value:P.value,children:[a.jsx(rt,{children:a.jsx(Cr,{"data-testid":"select-item-category",children:a.jsx(Gr,{placeholder:"Select a category"})})}),a.jsx(Pr,{children:m.map($=>a.jsx(ze,{value:$.id,children:$.title},$.id))})]}),a.jsx(ct,{})]})}),a.jsx(ot,{control:_.control,name:"question",render:({field:P})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Question"}),a.jsx(rt,{children:a.jsx(ne,{...P,"data-testid":"input-item-question"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:_.control,name:"answer",render:({field:P})=>a.jsxs(tt,{children:[a.jsx(lt,{children:"Answer"}),a.jsx(rt,{children:a.jsx(gr,{...P,rows:4,"data-testid":"input-item-answer"})}),a.jsx(ct,{})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(ot,{control:_.control,name:"sortOrder",render:({field:P})=>a.jsxs(tt,{className:"flex-1",children:[a.jsx(lt,{children:"Sort Order"}),a.jsx(rt,{children:a.jsx(ne,{type:"number",...P,"data-testid":"input-item-sort-order"})}),a.jsx(ct,{})]})}),a.jsx(ot,{control:_.control,name:"isActive",render:({field:P})=>a.jsxs(tt,{className:"flex items-center gap-2 pt-8",children:[a.jsx(rt,{children:a.jsx(an,{checked:P.value,onCheckedChange:P.onChange,"data-testid":"switch-item-active"})}),a.jsx(Z,{children:"Active"})]})})]}),a.jsxs(U,{type:"submit",className:"w-full",disabled:k.isPending||C.isPending,"data-testid":"button-save-item",children:[(k.isPending||C.isPending)&&a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}),l?"Update":"Create"," FAQ Item"]})]})})]})]})]})]}),m.length===0?a.jsx(me,{children:a.jsxs(ge,{className:"py-12 text-center",children:[a.jsx(Bl,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQ Categories"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first category to start adding FAQ items."})]})}):a.jsx("div",{className:"space-y-4",children:m.sort((P,$)=>(P.sortOrder||0)-($.sortOrder||0)).map(P=>a.jsxs(me,{className:"overflow-visible","data-testid":`card-category-${P.id}`,children:[a.jsx(Xe,{className:"cursor-pointer",onClick:()=>D(P.id),children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[p.has(P.id)?a.jsx(IN,{className:"w-5 h-5 text-muted-foreground"}):a.jsx(xc,{className:"w-5 h-5 text-muted-foreground"}),a.jsx(et,{className:"text-lg",children:P.title}),!P.isActive&&a.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Inactive"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",V(P.id).length," items)"]})]}),a.jsxs("div",{className:"flex gap-2",onClick:$=>$.stopPropagation(),children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>A(P),"data-testid":`button-edit-category-${P.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>{h({type:"category",id:P.id}),d(!0)},"data-testid":`button-delete-category-${P.id}`,children:a.jsx(nn,{className:"w-4 h-4"})})]})]})}),p.has(P.id)&&a.jsx(ge,{className:"pt-0",children:V(P.id).length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-4",children:"No FAQ items in this category."}):a.jsx("div",{className:"space-y-2",children:V(P.id).map($=>a.jsxs("div",{className:"border rounded-md p-4 flex items-start justify-between gap-4","data-testid":`item-faq-${$.id}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:$.question}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:$.answer}),!$.isActive&&a.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded mt-2 inline-block",children:"Inactive"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>R($),"data-testid":`button-edit-item-${$.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>{h({type:"item",id:$.id}),d(!0)},"data-testid":`button-delete-item-${$.id}`,children:a.jsx(nn,{className:"w-4 h-4"})})]})]},$.id))})})]},P.id))}),a.jsx(u$e,{open:u,onOpenChange:d,children:a.jsxs(nz,{children:[a.jsxs(sz,{children:[a.jsx(iz,{children:"Are you sure?"}),a.jsx(oz,{children:(f==null?void 0:f.type)==="category"?"This will delete the category and all its FAQ items. This action cannot be undone.":"This will delete the FAQ item. This action cannot be undone."})]}),a.jsxs(az,{children:[a.jsx(cz,{"data-testid":"button-cancel-delete",children:"Cancel"}),a.jsx(lz,{onClick:O,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})})}const Lf={dimensions:{recommended:"800 x 800 px (1:1 square)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",dpi:"72-150 DPI (web optimized)",tips:["Use a well-lit, clear photo of the face","Avoid filters or heavy editing","Ensure the face is centered in the frame","Use a neutral or solid background if possible","Live selfie or camera capture is acceptable"]};function g$e(){const{toast:e}=Et(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState(null),f=v.useRef(null),[h,p]=v.useState({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),{data:x,isLoading:m}=we({queryKey:["/api/admin/users"]}),{data:b}=we({queryKey:["/api/auth/user"]}),y=(b==null?void 0:b.role)==="SUPER_ADMIN",g=Re({mutationFn:async({id:E,data:A})=>await Oe("PATCH",`/api/admin/users/${E}`,A),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Member updated successfully"}),s(!1),r(null),w()},onError:E=>{e({title:"Failed to update member",description:E.message||"An error occurred",variant:"destructive"})}}),w=()=>{p({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),d(null),f.current&&(f.current.value="")},_=async E=>{var R;const A=(R=E.target.files)==null?void 0:R[0];if(A){if(!["image/jpeg","image/png","image/webp"].includes(A.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(A.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const T=new FormData;T.append("image",A);const I=await fetch("/api/admin/upload",{method:"POST",body:T,credentials:"include"});if(!I.ok){let D="Upload failed";try{D=(await I.json()).message||D}catch{D=I.statusText||D}throw new Error(D)}const O=await I.json();d({name:A.name,url:O.imageUrl}),p(D=>({...D,profileImageUrl:O.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Profile photo has been uploaded."})}catch(T){e({title:"Upload failed",description:T.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1),f.current&&(f.current.value="")}}},j=E=>{r(E),p({firstName:E.firstName||"",lastName:E.lastName||"",phone:E.phone||"",profileImageUrl:E.profileImageUrl||"",role:E.role,isSafetyCertified:E.isSafetyCertified||!1,hasSignedWaiver:E.hasSignedWaiver||!1}),d(null),f.current&&(f.current.value=""),s(!0)},S=()=>{t&&g.mutate({id:t.id,data:h})},N=x==null?void 0:x.filter(E=>{var T,I;if(!i)return!0;const A=i.toLowerCase();return`${E.firstName||""} ${E.lastName||""}`.toLowerCase().includes(A)||((T=E.email)==null?void 0:T.toLowerCase().includes(A))||((I=E.phone)==null?void 0:I.toLowerCase().includes(A))}),k=E=>{switch(E){case"SUPER_ADMIN":return"destructive";case"ADMIN":return"default";default:return"secondary"}},C=E=>{var T,I,O;const A=((T=E.firstName)==null?void 0:T.charAt(0))||"",R=((I=E.lastName)==null?void 0:I.charAt(0))||"";return(A+R).toUpperCase()||((O=E.email)==null?void 0:O.charAt(0).toUpperCase())||"?"};return a.jsx(wt,{title:"Members Management",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-members-title",children:"Members Management"}),a.jsx("p",{className:"text-muted-foreground",children:"View and manage member profiles, certifications, and profile photos"})]})}),a.jsxs(me,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-4",children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(pn,{className:"w-5 h-5"}),"All Members (",(N==null?void 0:N.length)||0,")"]}),a.jsxs("div",{className:"relative w-64",children:[a.jsx(kx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ne,{placeholder:"Search by name, email, phone...",value:i,onChange:E=>o(E.target.value),className:"pl-9","data-testid":"input-member-search"})]})]}),a.jsx(ge,{children:m?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ut,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(bt,{children:[a.jsx(Ne,{className:"w-16",children:"Photo"}),a.jsx(Ne,{children:"Name"}),a.jsx(Ne,{children:"Email"}),a.jsx(Ne,{children:"Phone"}),a.jsx(Ne,{children:"Role"}),a.jsx(Ne,{children:"Certifications"}),a.jsx(Ne,{className:"w-20",children:"Actions"})]})}),a.jsxs(ts,{children:[N==null?void 0:N.map(E=>a.jsxs(bt,{"data-testid":`row-member-${E.id}`,children:[a.jsx(xe,{children:a.jsxs(Jh,{className:"w-10 h-10",children:[a.jsx(em,{src:E.profileImageUrl||void 0,alt:`${E.firstName} ${E.lastName}`}),a.jsx(tm,{children:C(E)})]})}),a.jsx(xe,{className:"font-medium",children:E.firstName||E.lastName?`${E.firstName||""} ${E.lastName||""}`.trim():a.jsx("span",{className:"text-muted-foreground",children:"Not set"})}),a.jsx(xe,{children:E.email||a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx(xe,{children:E.phone||a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx(xe,{children:a.jsx(je,{variant:k(E.role),children:E.role})}),a.jsx(xe,{children:a.jsxs("div",{className:"flex gap-1",children:[E.isSafetyCertified&&a.jsx(je,{variant:"outline",className:"text-xs",children:"Safety"}),E.hasSignedWaiver&&a.jsx(je,{variant:"outline",className:"text-xs",children:"Waiver"}),!E.isSafetyCertified&&!E.hasSignedWaiver&&a.jsx("span",{className:"text-muted-foreground text-sm",children:"None"})]})}),a.jsx(xe,{children:a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>j(E),"data-testid":`button-edit-member-${E.id}`,children:a.jsx(ns,{className:"w-4 h-4"})})})]},E.id)),(N==null?void 0:N.length)===0&&a.jsx(bt,{children:a.jsx(xe,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No members found"})})]})]})})]}),a.jsx(Rr,{open:n,onOpenChange:E=>{s(E),E||(r(null),w())},children:a.jsxs(br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx($r,{children:a.jsx(Mr,{children:"Edit Member Profile"})}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Z,{className:"text-base font-medium flex items-center gap-2",children:[a.jsx(ED,{className:"w-4 h-4"}),"Profile Photo"]}),a.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-muted/30",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs(Jh,{className:"w-20 h-20",children:[a.jsx(em,{src:h.profileImageUrl||void 0}),a.jsx(tm,{className:"text-xl",children:t?C(t):"?"})]}),a.jsx("div",{className:"flex-1 space-y-3",children:a.jsxs(Ei,{defaultValue:"upload",className:"w-full",children:[a.jsxs(Va,{className:"grid w-full grid-cols-2",children:[a.jsxs(yr,{value:"upload","data-testid":"tab-upload",children:[a.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Upload"]}),a.jsxs(yr,{value:"url","data-testid":"tab-url",children:[a.jsx(Ni,{className:"w-4 h-4 mr-2"}),"URL"]})]}),a.jsxs(xr,{value:"upload",className:"space-y-3 mt-3",children:[a.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:_,className:"hidden","data-testid":"input-member-image-file"}),a.jsx(U,{type:"button",variant:"outline",onClick:()=>{var E;return(E=f.current)==null?void 0:E.click()},disabled:l,className:"w-full","data-testid":"button-upload-member-image",children:l?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Choose File or Take Selfie"]})}),u&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[a.jsx(Ss,{className:"w-4 h-4"}),u.name]})]}),a.jsx(xr,{value:"url",className:"space-y-3 mt-3",children:a.jsx(ne,{value:h.profileImageUrl,onChange:E=>p({...h,profileImageUrl:E.target.value}),placeholder:"Enter image URL...","data-testid":"input-member-image-url"})})]})})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(DN,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsx("p",{className:"font-medium",children:"Image Guidelines:"}),a.jsxs("ul",{className:"list-disc ml-4 space-y-0.5",children:[a.jsxs("li",{children:["Dimensions: ",Lf.dimensions.recommended]}),a.jsxs("li",{children:["Formats: ",Lf.formats.join(", ")]}),a.jsxs("li",{children:["Max size: ",Lf.maxFileSize]}),a.jsxs("li",{children:["DPI: ",Lf.dpi]})]}),a.jsx("p",{className:"font-medium mt-2",children:"Tips:"}),a.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:Lf.tips.map((E,A)=>a.jsx("li",{children:E},A))})]})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"firstName",children:"First Name"}),a.jsx(ne,{id:"firstName",value:h.firstName,onChange:E=>p({...h,firstName:E.target.value}),"data-testid":"input-member-firstname"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"lastName",children:"Last Name"}),a.jsx(ne,{id:"lastName",value:h.lastName,onChange:E=>p({...h,lastName:E.target.value}),"data-testid":"input-member-lastname"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"phone",children:"Phone Number"}),a.jsx(ne,{id:"phone",value:h.phone,onChange:E=>p({...h,phone:E.target.value}),placeholder:"+92 300 1234567","data-testid":"input-member-phone"})]}),y?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"role",children:"Role"}),a.jsxs(Kr,{value:h.role,onValueChange:E=>p({...h,role:E}),children:[a.jsx(Cr,{"data-testid":"select-member-role",children:a.jsx(Gr,{placeholder:"Select role..."})}),a.jsxs(Pr,{children:[a.jsx(ze,{value:"USER",children:"User"}),a.jsx(ze,{value:"ADMIN",children:"Admin"}),a.jsx(ze,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{children:"Role"}),a.jsxs("div",{className:"flex items-center gap-2 h-9 px-3 rounded-md border bg-muted/50",children:[a.jsx(je,{variant:k(h.role),children:h.role}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Only super admins can change roles)"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Z,{className:"text-base font-medium",children:"Certifications"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"safetyCertified",className:"font-normal",children:"Safety Certified"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has completed safety training"})]}),a.jsx(an,{id:"safetyCertified",checked:h.isSafetyCertified,onCheckedChange:E=>p({...h,isSafetyCertified:E}),"data-testid":"switch-safety-certified"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"signedWaiver",className:"font-normal",children:"Signed Waiver"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has signed liability waiver"})]}),a.jsx(an,{id:"signedWaiver",checked:h.hasSignedWaiver,onCheckedChange:E=>p({...h,hasSignedWaiver:E}),"data-testid":"switch-signed-waiver"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),a.jsxs(U,{onClick:S,disabled:g.isPending,"data-testid":"button-save-member",children:[g.isPending&&a.jsx(ut,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})]})})}function v$e(){const{adminPath:e,isAuthorized:t,isLoading:r}=op();if(r||!t)return null;const n=`/${e}`;return a.jsxs(V4,{children:[a.jsx(it,{path:`${n}/homepage`,component:LIe}),a.jsx(it,{path:`${n}/coming-soon`,component:FIe}),a.jsx(it,{path:`${n}/facilities`,component:CRe}),a.jsx(it,{path:`${n}/roadmap`,component:LRe}),a.jsx(it,{path:`${n}/events`,component:FRe}),a.jsx(it,{path:`${n}/pricing`,component:BRe}),a.jsx(it,{path:`${n}/membership-tiers`,component:URe}),a.jsx(it,{path:`${n}/announcements`,component:VRe}),a.jsx(it,{path:`${n}/careers`,component:qRe}),a.jsx(it,{path:`${n}/rules`,component:zRe}),a.jsx(it,{path:`${n}/policies`,component:WRe}),a.jsx(it,{path:`${n}/gallery`,component:HRe}),a.jsx(it,{path:`${n}/site-images`,component:KRe}),a.jsx(it,{path:`${n}/bookings`,component:GRe}),a.jsx(it,{path:`${n}/branding`,component:YRe}),a.jsx(it,{path:`${n}/faq`,component:p$e}),a.jsx(it,{path:`${n}/members`,component:g$e}),a.jsx(it,{path:n,component:DIe})]})}function y$e(){const{adminPath:e,isAuthorized:t}=op(),[r]=ss();return t&&e&&r.startsWith(`/${e}`)?null:a.jsxs(V4,{children:[a.jsx(it,{path:"/booking",component:Xne}),a.jsx(it,{path:"/profile",component:use}),a.jsx(it,{path:"/events",component:Tae}),a.jsx(it,{path:"/leaderboard",component:Rae}),a.jsx(it,{path:"/gallery",component:Dae}),a.jsx(it,{path:"/vision",component:Lae}),a.jsx(it,{path:"/facilities/:slug",component:Gae}),a.jsx(it,{path:"/facilities",component:qae}),a.jsx(it,{path:"/roadmap",component:Qae}),a.jsx(it,{path:"/rules",component:yie}),a.jsx(it,{path:"/careers",component:bie}),a.jsx(it,{path:"/terms",component:wie}),a.jsx(it,{path:"/privacy",component:jie}),a.jsx(it,{path:"/coming-soon",component:coe}),a.jsx(it,{path:"/contact",component:doe}),a.jsx(it,{path:"/faq",component:moe}),a.jsx(it,{path:"/updates",component:poe}),a.jsx(it,{path:"/login",component:_oe}),a.jsx(it,{path:"/signup",component:Aoe}),a.jsx(it,{path:"/forgot-password",component:Toe}),a.jsx(it,{path:"/verify-email",component:$oe}),a.jsx(it,{path:"/auth/callback",component:Moe}),a.jsx(it,{path:"/auth/reset-password",component:Roe}),a.jsx(it,{path:"/",component:Hne}),a.jsx(it,{component:goe})]})}function x$e(){return a.jsxs(a.Fragment,{children:[a.jsx(v$e,{}),a.jsx(y$e,{})]})}function b$e(){return a.jsx($7,{client:Se,children:a.jsx(nQ,{children:a.jsx(HZ,{children:a.jsxs(cQ,{children:[a.jsx(pG,{}),a.jsx(rJ,{}),a.jsx(x$e,{}),a.jsx(KZ,{}),a.jsx(tJ,{})]})})})})}C4(document.getElementById("root")).render(a.jsx(b$e,{}));
