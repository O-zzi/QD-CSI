var SP=e=>{throw TypeError(e)};var _0=(e,t,r)=>t.has(e)||SP("Cannot "+r);var B=(e,t,r)=>(_0(e,t,"read from private field"),r?r.call(e):t.get(e)),Ve=(e,t,r)=>t.has(e)?SP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Pe=(e,t,r,n)=>(_0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ht=(e,t,r)=>(_0(e,t,"access private method"),r);var Wp=(e,t,r,n)=>({set _(s){Pe(e,t,s,r)},get _(){return B(e,t,n)}});function jz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var P$={exports:{}},gx={},E$={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=Symbol.for("react.element"),Nz=Symbol.for("react.portal"),Sz=Symbol.for("react.fragment"),_z=Symbol.for("react.strict_mode"),kz=Symbol.for("react.profiler"),Cz=Symbol.for("react.provider"),Pz=Symbol.for("react.context"),Ez=Symbol.for("react.forward_ref"),Az=Symbol.for("react.suspense"),Oz=Symbol.for("react.memo"),Tz=Symbol.for("react.lazy"),_P=Symbol.iterator;function Iz(e){return e===null||typeof e!="object"?null:(e=_P&&e[_P]||e["@@iterator"],typeof e=="function"?e:null)}var A$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O$=Object.assign,T$={};function Fd(e,t,r){this.props=e,this.context=t,this.refs=T$,this.updater=r||A$}Fd.prototype.isReactComponent={};Fd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function I$(){}I$.prototype=Fd.prototype;function LS(e,t,r){this.props=e,this.context=t,this.refs=T$,this.updater=r||A$}var FS=LS.prototype=new I$;FS.constructor=LS;O$(FS,Fd.prototype);FS.isPureReactComponent=!0;var kP=Array.isArray,R$=Object.prototype.hasOwnProperty,US={current:null},$$={key:!0,ref:!0,__self:!0,__source:!0};function M$(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)R$.call(t,n)&&!$$.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ep,type:e,key:i,ref:o,props:s,_owner:US.current}}function Rz(e,t){return{$$typeof:ep,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function BS(e){return typeof e=="object"&&e!==null&&e.$$typeof===ep}function $z(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var CP=/\/+/g;function k0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$z(""+e.key):t.toString(36)}function Vg(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ep:case Nz:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+k0(o,0):n,kP(s)?(r="",e!=null&&(r=e.replace(CP,"$&/")+"/"),Vg(s,t,r,"",function(u){return u})):s!=null&&(BS(s)&&(s=Rz(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(CP,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",kP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+k0(i,l);o+=Vg(i,t,r,c,s)}else if(c=Iz(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+k0(i,l++),o+=Vg(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Kp(e,t,r){if(e==null)return e;var n=[],s=0;return Vg(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Mz(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bn={current:null},qg={transition:null},Dz={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:qg,ReactCurrentOwner:US};function D$(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:Kp,forEach:function(e,t,r){Kp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Kp(e,function(){t++}),t},toArray:function(e){return Kp(e,function(t){return t})||[]},only:function(e){if(!BS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yt.Component=Fd;yt.Fragment=Sz;yt.Profiler=kz;yt.PureComponent=LS;yt.StrictMode=_z;yt.Suspense=Az;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dz;yt.act=D$;yt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=O$({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=US.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)R$.call(t,c)&&!$$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ep,type:e.type,key:s,ref:i,props:n,_owner:o}};yt.createContext=function(e){return e={$$typeof:Pz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cz,_context:e},e.Consumer=e};yt.createElement=M$;yt.createFactory=function(e){var t=M$.bind(null,e);return t.type=e,t};yt.createRef=function(){return{current:null}};yt.forwardRef=function(e){return{$$typeof:Ez,render:e}};yt.isValidElement=BS;yt.lazy=function(e){return{$$typeof:Tz,_payload:{_status:-1,_result:e},_init:Mz}};yt.memo=function(e,t){return{$$typeof:Oz,type:e,compare:t===void 0?null:t}};yt.startTransition=function(e){var t=qg.transition;qg.transition={};try{e()}finally{qg.transition=t}};yt.unstable_act=D$;yt.useCallback=function(e,t){return Bn.current.useCallback(e,t)};yt.useContext=function(e){return Bn.current.useContext(e)};yt.useDebugValue=function(){};yt.useDeferredValue=function(e){return Bn.current.useDeferredValue(e)};yt.useEffect=function(e,t){return Bn.current.useEffect(e,t)};yt.useId=function(){return Bn.current.useId()};yt.useImperativeHandle=function(e,t,r){return Bn.current.useImperativeHandle(e,t,r)};yt.useInsertionEffect=function(e,t){return Bn.current.useInsertionEffect(e,t)};yt.useLayoutEffect=function(e,t){return Bn.current.useLayoutEffect(e,t)};yt.useMemo=function(e,t){return Bn.current.useMemo(e,t)};yt.useReducer=function(e,t,r){return Bn.current.useReducer(e,t,r)};yt.useRef=function(e){return Bn.current.useRef(e)};yt.useState=function(e){return Bn.current.useState(e)};yt.useSyncExternalStore=function(e,t,r){return Bn.current.useSyncExternalStore(e,t,r)};yt.useTransition=function(){return Bn.current.useTransition()};yt.version="18.3.1";E$.exports=yt;var v=E$.exports;const M=It(v),vx=jz({__proto__:null,default:M},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lz=v,Fz=Symbol.for("react.element"),Uz=Symbol.for("react.fragment"),Bz=Object.prototype.hasOwnProperty,Vz=Lz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qz={key:!0,ref:!0,__self:!0,__source:!0};function L$(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Bz.call(t,n)&&!qz.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Fz,type:e,key:i,ref:o,props:s,_owner:Vz.current}}gx.Fragment=Uz;gx.jsx=L$;gx.jsxs=L$;P$.exports=gx;var a=P$.exports,F$={exports:{}},_s={},U$={exports:{}},B$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,$){var H=A.length;A.push($);e:for(;0<H;){var Y=H-1>>>1,L=A[Y];if(0<s(L,$))A[Y]=$,A[H]=L,H=Y;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var $=A[0],H=A.pop();if(H!==$){A[0]=H;e:for(var Y=0,L=A.length,K=L>>>1;Y<K;){var re=2*(Y+1)-1,ae=A[re],be=re+1,ee=A[be];if(0>s(ae,H))be<L&&0>s(ee,ae)?(A[Y]=ee,A[be]=H,Y=be):(A[Y]=ae,A[re]=H,Y=re);else if(be<L&&0>s(ee,H))A[Y]=ee,A[be]=H,Y=be;else break e}}return $}function s(A,$){var H=A.sortIndex-$.sortIndex;return H!==0?H:A.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,y=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=A)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function N(A){if(m=!1,w(A),!y)if(r(c)!==null)y=!0,D(j);else{var $=r(u);$!==null&&q(N,$.startTime-A)}}function j(A,$){y=!1,m&&(m=!1,b(k),k=-1),g=!0;var H=h;try{for(w($),f=r(c);f!==null&&(!(f.expirationTime>$)||A&&!P());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var L=Y(f.expirationTime<=$);$=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),w($)}else n(c);f=r(c)}if(f!==null)var K=!0;else{var re=r(u);re!==null&&q(N,re.startTime-$),K=!1}return K}finally{f=null,h=H,g=!1}}var S=!1,_=null,k=-1,C=5,E=-1;function P(){return!(e.unstable_now()-E<C)}function R(){if(_!==null){var A=e.unstable_now();E=A;var $=!0;try{$=_(!0,A)}finally{$?O():(S=!1,_=null)}}else S=!1}var O;if(typeof p=="function")O=function(){p(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,T=I.port2;I.port1.onmessage=R,O=function(){T.postMessage(null)}}else O=function(){x(R,0)};function D(A){_=A,S||(S=!0,O())}function q(A,$){k=x(function(){A(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,D(j))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var H=h;h=$;try{return A()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=h;h=A;try{return $()}finally{h=H}},e.unstable_scheduleCallback=function(A,$,H){var Y=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,A){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,A={id:d++,callback:$,priorityLevel:A,startTime:H,expirationTime:L,sortIndex:-1},H>Y?(A.sortIndex=H,t(u,A),r(c)===null&&A===r(u)&&(m?(b(k),k=-1):m=!0,q(N,H-Y))):(A.sortIndex=L,t(c,A),y||g||(y=!0,D(j))),A},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(A){var $=h;return function(){var H=h;h=$;try{return A.apply(this,arguments)}finally{h=H}}}})(B$);U$.exports=B$;var zz=U$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wz=v,js=zz;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V$=new Set,Sh={};function yc(e,t){Yu(e,t),Yu(e+"Capture",t)}function Yu(e,t){for(Sh[e]=t,e=0;e<t.length;e++)V$.add(t[e])}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ij=Object.prototype.hasOwnProperty,Hz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PP={},EP={};function Kz(e){return ij.call(EP,e)?!0:ij.call(PP,e)?!1:Hz.test(e)?EP[e]=!0:(PP[e]=!0,!1)}function Gz(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yz(e,t,r,n){if(t===null||typeof t>"u"||Gz(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vn(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pn[e]=new Vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pn[t]=new Vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pn[e]=new Vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pn[e]=new Vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pn[e]=new Vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pn[e]=new Vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pn[e]=new Vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pn[e]=new Vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pn[e]=new Vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var VS=/[\-:]([a-z])/g;function qS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(VS,qS);pn[t]=new Vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(VS,qS);pn[t]=new Vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(VS,qS);pn[t]=new Vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pn[e]=new Vn(e,1,!1,e.toLowerCase(),null,!1,!1)});pn.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pn[e]=new Vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function zS(e,t,r,n){var s=pn.hasOwnProperty(t)?pn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yz(t,r,s,n)&&(r=null),n||s===null?Kz(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Li=Wz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gp=Symbol.for("react.element"),nu=Symbol.for("react.portal"),su=Symbol.for("react.fragment"),WS=Symbol.for("react.strict_mode"),oj=Symbol.for("react.profiler"),q$=Symbol.for("react.provider"),z$=Symbol.for("react.context"),HS=Symbol.for("react.forward_ref"),lj=Symbol.for("react.suspense"),cj=Symbol.for("react.suspense_list"),KS=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),W$=Symbol.for("react.offscreen"),AP=Symbol.iterator;function yf(e){return e===null||typeof e!="object"?null:(e=AP&&e[AP]||e["@@iterator"],typeof e=="function"?e:null)}var lr=Object.assign,C0;function qf(e){if(C0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);C0=t&&t[1]||""}return`
`+C0+e}var P0=!1;function E0(e,t){if(!e||P0)return"";P0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{P0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?qf(e):""}function Qz(e){switch(e.tag){case 5:return qf(e.type);case 16:return qf("Lazy");case 13:return qf("Suspense");case 19:return qf("SuspenseList");case 0:case 2:case 15:return e=E0(e.type,!1),e;case 11:return e=E0(e.type.render,!1),e;case 1:return e=E0(e.type,!0),e;default:return""}}function uj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case su:return"Fragment";case nu:return"Portal";case oj:return"Profiler";case WS:return"StrictMode";case lj:return"Suspense";case cj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z$:return(e.displayName||"Context")+".Consumer";case q$:return(e._context.displayName||"Context")+".Provider";case HS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case KS:return t=e.displayName||null,t!==null?t:uj(e.type)||"Memo";case Xi:t=e._payload,e=e._init;try{return uj(e(t))}catch{}}return null}function Xz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uj(t);case 8:return t===WS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zz(e){var t=H$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yp(e){e._valueTracker||(e._valueTracker=Zz(e))}function K$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function uv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dj(e,t){var r=t.checked;return lr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function OP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ro(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G$(e,t){t=t.checked,t!=null&&zS(e,"checked",t,!1)}function fj(e,t){G$(e,t);var r=Ro(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hj(e,t.type,r):t.hasOwnProperty("defaultValue")&&hj(e,t.type,Ro(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function TP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hj(e,t,r){(t!=="number"||uv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zf=Array.isArray;function Su(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ro(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return lr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function IP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pe(92));if(zf(r)){if(1<r.length)throw Error(pe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ro(r)}}function Y$(e,t){var r=Ro(t.value),n=Ro(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function RP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Q$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Q$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qp,X$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qp=Qp||document.createElement("div"),Qp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _h(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var rh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jz=["Webkit","ms","Moz","O"];Object.keys(rh).forEach(function(e){Jz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rh[t]=rh[e]})});function Z$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||rh.hasOwnProperty(e)&&rh[e]?(""+t).trim():t+"px"}function J$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Z$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var e9=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gj(e,t){if(t){if(e9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function vj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yj=null;function GS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xj=null,_u=null,ku=null;function $P(e){if(e=np(e)){if(typeof xj!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=jx(t),xj(e.stateNode,e.type,t))}}function eM(e){_u?ku?ku.push(e):ku=[e]:_u=e}function tM(){if(_u){var e=_u,t=ku;if(ku=_u=null,$P(e),t)for(e=0;e<t.length;e++)$P(t[e])}}function rM(e,t){return e(t)}function nM(){}var A0=!1;function sM(e,t,r){if(A0)return e(t,r);A0=!0;try{return rM(e,t,r)}finally{A0=!1,(_u!==null||ku!==null)&&(nM(),tM())}}function kh(e,t){var r=e.stateNode;if(r===null)return null;var n=jx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pe(231,t,typeof r));return r}var bj=!1;if(Si)try{var xf={};Object.defineProperty(xf,"passive",{get:function(){bj=!0}}),window.addEventListener("test",xf,xf),window.removeEventListener("test",xf,xf)}catch{bj=!1}function t9(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var nh=!1,dv=null,fv=!1,wj=null,r9={onError:function(e){nh=!0,dv=e}};function n9(e,t,r,n,s,i,o,l,c){nh=!1,dv=null,t9.apply(r9,arguments)}function s9(e,t,r,n,s,i,o,l,c){if(n9.apply(this,arguments),nh){if(nh){var u=dv;nh=!1,dv=null}else throw Error(pe(198));fv||(fv=!0,wj=u)}}function xc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function aM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function MP(e){if(xc(e)!==e)throw Error(pe(188))}function a9(e){var t=e.alternate;if(!t){if(t=xc(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return MP(s),e;if(i===n)return MP(s),t;i=i.sibling}throw Error(pe(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?e:t}function iM(e){return e=a9(e),e!==null?oM(e):null}function oM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oM(e);if(t!==null)return t;e=e.sibling}return null}var lM=js.unstable_scheduleCallback,DP=js.unstable_cancelCallback,i9=js.unstable_shouldYield,o9=js.unstable_requestPaint,jr=js.unstable_now,l9=js.unstable_getCurrentPriorityLevel,YS=js.unstable_ImmediatePriority,cM=js.unstable_UserBlockingPriority,hv=js.unstable_NormalPriority,c9=js.unstable_LowPriority,uM=js.unstable_IdlePriority,yx=null,Da=null;function u9(e){if(Da&&typeof Da.onCommitFiberRoot=="function")try{Da.onCommitFiberRoot(yx,e,void 0,(e.current.flags&128)===128)}catch{}}var fa=Math.clz32?Math.clz32:h9,d9=Math.log,f9=Math.LN2;function h9(e){return e>>>=0,e===0?32:31-(d9(e)/f9|0)|0}var Xp=64,Zp=4194304;function Wf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Wf(l):(i&=o,i!==0&&(n=Wf(i)))}else o=r&~s,o!==0?n=Wf(o):i!==0&&(n=Wf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fa(t),s=1<<r,n|=e[r],t&=~s;return n}function m9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-fa(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=m9(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function jj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dM(){var e=Xp;return Xp<<=1,!(Xp&4194240)&&(Xp=64),e}function O0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function tp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fa(t),e[t]=r}function g9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-fa(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function QS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fa(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ft=0;function fM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hM,XS,mM,pM,gM,Nj=!1,Jp=[],bo=null,wo=null,jo=null,Ch=new Map,Ph=new Map,no=[],v9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function LP(e,t){switch(e){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Ch.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function bf(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=np(t),t!==null&&XS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function y9(e,t,r,n,s){switch(t){case"focusin":return bo=bf(bo,e,t,r,n,s),!0;case"dragenter":return wo=bf(wo,e,t,r,n,s),!0;case"mouseover":return jo=bf(jo,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ch.set(i,bf(Ch.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ph.set(i,bf(Ph.get(i)||null,e,t,r,n,s)),!0}return!1}function vM(e){var t=jl(e.target);if(t!==null){var r=xc(t);if(r!==null){if(t=r.tag,t===13){if(t=aM(r),t!==null){e.blockedOn=t,gM(e.priority,function(){mM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);yj=n,r.target.dispatchEvent(n),yj=null}else return t=np(r),t!==null&&XS(t),e.blockedOn=r,!1;t.shift()}return!0}function FP(e,t,r){zg(e)&&r.delete(t)}function x9(){Nj=!1,bo!==null&&zg(bo)&&(bo=null),wo!==null&&zg(wo)&&(wo=null),jo!==null&&zg(jo)&&(jo=null),Ch.forEach(FP),Ph.forEach(FP)}function wf(e,t){e.blockedOn===t&&(e.blockedOn=null,Nj||(Nj=!0,js.unstable_scheduleCallback(js.unstable_NormalPriority,x9)))}function Eh(e){function t(s){return wf(s,e)}if(0<Jp.length){wf(Jp[0],e);for(var r=1;r<Jp.length;r++){var n=Jp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bo!==null&&wf(bo,e),wo!==null&&wf(wo,e),jo!==null&&wf(jo,e),Ch.forEach(t),Ph.forEach(t),r=0;r<no.length;r++)n=no[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<no.length&&(r=no[0],r.blockedOn===null);)vM(r),r.blockedOn===null&&no.shift()}var Cu=Li.ReactCurrentBatchConfig,pv=!0;function b9(e,t,r,n){var s=Ft,i=Cu.transition;Cu.transition=null;try{Ft=1,ZS(e,t,r,n)}finally{Ft=s,Cu.transition=i}}function w9(e,t,r,n){var s=Ft,i=Cu.transition;Cu.transition=null;try{Ft=4,ZS(e,t,r,n)}finally{Ft=s,Cu.transition=i}}function ZS(e,t,r,n){if(pv){var s=Sj(e,t,r,n);if(s===null)B0(e,t,n,gv,r),LP(e,n);else if(y9(s,e,t,r,n))n.stopPropagation();else if(LP(e,n),t&4&&-1<v9.indexOf(e)){for(;s!==null;){var i=np(s);if(i!==null&&hM(i),i=Sj(e,t,r,n),i===null&&B0(e,t,n,gv,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else B0(e,t,n,null,r)}}var gv=null;function Sj(e,t,r,n){if(gv=null,e=GS(n),e=jl(e),e!==null)if(t=xc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=aM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gv=e,null}function yM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l9()){case YS:return 1;case cM:return 4;case hv:case c9:return 16;case uM:return 536870912;default:return 16}default:return 16}}var vo=null,JS=null,Wg=null;function xM(){if(Wg)return Wg;var e,t=JS,r=t.length,n,s="value"in vo?vo.value:vo.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Wg=s.slice(e,1<n?1-n:void 0)}function Hg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eg(){return!0}function UP(){return!1}function ks(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?eg:UP,this.isPropagationStopped=UP,this}return lr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=eg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=eg)},persist:function(){},isPersistent:eg}),t}var Ud={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e_=ks(Ud),rp=lr({},Ud,{view:0,detail:0}),j9=ks(rp),T0,I0,jf,xx=lr({},rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jf&&(jf&&e.type==="mousemove"?(T0=e.screenX-jf.screenX,I0=e.screenY-jf.screenY):I0=T0=0,jf=e),T0)},movementY:function(e){return"movementY"in e?e.movementY:I0}}),BP=ks(xx),N9=lr({},xx,{dataTransfer:0}),S9=ks(N9),_9=lr({},rp,{relatedTarget:0}),R0=ks(_9),k9=lr({},Ud,{animationName:0,elapsedTime:0,pseudoElement:0}),C9=ks(k9),P9=lr({},Ud,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),E9=ks(P9),A9=lr({},Ud,{data:0}),VP=ks(A9),O9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=I9[e])?!!t[e]:!1}function t_(){return R9}var $9=lr({},rp,{key:function(e){if(e.key){var t=O9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t_,charCode:function(e){return e.type==="keypress"?Hg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M9=ks($9),D9=lr({},xx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qP=ks(D9),L9=lr({},rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t_}),F9=ks(L9),U9=lr({},Ud,{propertyName:0,elapsedTime:0,pseudoElement:0}),B9=ks(U9),V9=lr({},xx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q9=ks(V9),z9=[9,13,27,32],r_=Si&&"CompositionEvent"in window,sh=null;Si&&"documentMode"in document&&(sh=document.documentMode);var W9=Si&&"TextEvent"in window&&!sh,bM=Si&&(!r_||sh&&8<sh&&11>=sh),zP=" ",WP=!1;function wM(e,t){switch(e){case"keyup":return z9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var au=!1;function H9(e,t){switch(e){case"compositionend":return jM(t);case"keypress":return t.which!==32?null:(WP=!0,zP);case"textInput":return e=t.data,e===zP&&WP?null:e;default:return null}}function K9(e,t){if(au)return e==="compositionend"||!r_&&wM(e,t)?(e=xM(),Wg=JS=vo=null,au=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bM&&t.locale!=="ko"?null:t.data;default:return null}}var G9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G9[e.type]:t==="textarea"}function NM(e,t,r,n){eM(n),t=vv(t,"onChange"),0<t.length&&(r=new e_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ah=null,Ah=null;function Y9(e){RM(e,0)}function bx(e){var t=lu(e);if(K$(t))return e}function Q9(e,t){if(e==="change")return t}var SM=!1;if(Si){var $0;if(Si){var M0="oninput"in document;if(!M0){var KP=document.createElement("div");KP.setAttribute("oninput","return;"),M0=typeof KP.oninput=="function"}$0=M0}else $0=!1;SM=$0&&(!document.documentMode||9<document.documentMode)}function GP(){ah&&(ah.detachEvent("onpropertychange",_M),Ah=ah=null)}function _M(e){if(e.propertyName==="value"&&bx(Ah)){var t=[];NM(t,Ah,e,GS(e)),sM(Y9,t)}}function X9(e,t,r){e==="focusin"?(GP(),ah=t,Ah=r,ah.attachEvent("onpropertychange",_M)):e==="focusout"&&GP()}function Z9(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bx(Ah)}function J9(e,t){if(e==="click")return bx(t)}function eW(e,t){if(e==="input"||e==="change")return bx(t)}function tW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ga=typeof Object.is=="function"?Object.is:tW;function Oh(e,t){if(ga(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ij.call(t,s)||!ga(e[s],t[s]))return!1}return!0}function YP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function QP(e,t){var r=YP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=YP(r)}}function kM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function CM(){for(var e=window,t=uv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=uv(e.document)}return t}function n_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rW(e){var t=CM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kM(r.ownerDocument.documentElement,r)){if(n!==null&&n_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=QP(r,i);var o=QP(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nW=Si&&"documentMode"in document&&11>=document.documentMode,iu=null,_j=null,ih=null,kj=!1;function XP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kj||iu==null||iu!==uv(n)||(n=iu,"selectionStart"in n&&n_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ih&&Oh(ih,n)||(ih=n,n=vv(_j,"onSelect"),0<n.length&&(t=new e_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=iu)))}function tg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ou={animationend:tg("Animation","AnimationEnd"),animationiteration:tg("Animation","AnimationIteration"),animationstart:tg("Animation","AnimationStart"),transitionend:tg("Transition","TransitionEnd")},D0={},PM={};Si&&(PM=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function wx(e){if(D0[e])return D0[e];if(!ou[e])return e;var t=ou[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in PM)return D0[e]=t[r];return e}var EM=wx("animationend"),AM=wx("animationiteration"),OM=wx("animationstart"),TM=wx("transitionend"),IM=new Map,ZP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wo(e,t){IM.set(e,t),yc(t,[e])}for(var L0=0;L0<ZP.length;L0++){var F0=ZP[L0],sW=F0.toLowerCase(),aW=F0[0].toUpperCase()+F0.slice(1);Wo(sW,"on"+aW)}Wo(EM,"onAnimationEnd");Wo(AM,"onAnimationIteration");Wo(OM,"onAnimationStart");Wo("dblclick","onDoubleClick");Wo("focusin","onFocus");Wo("focusout","onBlur");Wo(TM,"onTransitionEnd");Yu("onMouseEnter",["mouseout","mouseover"]);Yu("onMouseLeave",["mouseout","mouseover"]);Yu("onPointerEnter",["pointerout","pointerover"]);Yu("onPointerLeave",["pointerout","pointerover"]);yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yc("onBeforeInput",["compositionend","keypress","textInput","paste"]);yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hf));function JP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,s9(n,t,void 0,e),e.currentTarget=null}function RM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;JP(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;JP(s,l,u),i=c}}}if(fv)throw e=wj,fv=!1,wj=null,e}function Qt(e,t){var r=t[Oj];r===void 0&&(r=t[Oj]=new Set);var n=e+"__bubble";r.has(n)||($M(t,e,2,!1),r.add(n))}function U0(e,t,r){var n=0;t&&(n|=4),$M(r,e,n,t)}var rg="_reactListening"+Math.random().toString(36).slice(2);function Th(e){if(!e[rg]){e[rg]=!0,V$.forEach(function(r){r!=="selectionchange"&&(iW.has(r)||U0(r,!1,e),U0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rg]||(t[rg]=!0,U0("selectionchange",!1,t))}}function $M(e,t,r,n){switch(yM(t)){case 1:var s=b9;break;case 4:s=w9;break;default:s=ZS}r=s.bind(null,t,r,e),s=void 0,!bj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function B0(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=jl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}sM(function(){var u=i,d=GS(r),f=[];e:{var h=IM.get(e);if(h!==void 0){var g=e_,y=e;switch(e){case"keypress":if(Hg(r)===0)break e;case"keydown":case"keyup":g=M9;break;case"focusin":y="focus",g=R0;break;case"focusout":y="blur",g=R0;break;case"beforeblur":case"afterblur":g=R0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=BP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=S9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=F9;break;case EM:case AM:case OM:g=C9;break;case TM:g=B9;break;case"scroll":g=j9;break;case"wheel":g=q9;break;case"copy":case"cut":case"paste":g=E9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=qP}var m=(t&4)!==0,x=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var p=u,w;p!==null;){w=p;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,b!==null&&(N=kh(p,b),N!=null&&m.push(Ih(p,N,w)))),x)break;p=p.return}0<m.length&&(h=new g(h,y,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==yj&&(y=r.relatedTarget||r.fromElement)&&(jl(y)||y[_i]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?jl(y):null,y!==null&&(x=xc(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(m=BP,N="onMouseLeave",b="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(m=qP,N="onPointerLeave",b="onPointerEnter",p="pointer"),x=g==null?h:lu(g),w=y==null?h:lu(y),h=new m(N,p+"leave",g,r,d),h.target=x,h.relatedTarget=w,N=null,jl(d)===u&&(m=new m(b,p+"enter",y,r,d),m.target=w,m.relatedTarget=x,N=m),x=N,g&&y)t:{for(m=g,b=y,p=0,w=m;w;w=Ic(w))p++;for(w=0,N=b;N;N=Ic(N))w++;for(;0<p-w;)m=Ic(m),p--;for(;0<w-p;)b=Ic(b),w--;for(;p--;){if(m===b||b!==null&&m===b.alternate)break t;m=Ic(m),b=Ic(b)}m=null}else m=null;g!==null&&eE(f,h,g,m,!1),y!==null&&x!==null&&eE(f,x,y,m,!0)}}e:{if(h=u?lu(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var j=Q9;else if(HP(h))if(SM)j=eW;else{j=Z9;var S=X9}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=J9);if(j&&(j=j(e,u))){NM(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&hj(h,"number",h.value)}switch(S=u?lu(u):window,e){case"focusin":(HP(S)||S.contentEditable==="true")&&(iu=S,_j=u,ih=null);break;case"focusout":ih=_j=iu=null;break;case"mousedown":kj=!0;break;case"contextmenu":case"mouseup":case"dragend":kj=!1,XP(f,r,d);break;case"selectionchange":if(nW)break;case"keydown":case"keyup":XP(f,r,d)}var _;if(r_)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else au?wM(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(bM&&r.locale!=="ko"&&(au||k!=="onCompositionStart"?k==="onCompositionEnd"&&au&&(_=xM()):(vo=d,JS="value"in vo?vo.value:vo.textContent,au=!0)),S=vv(u,k),0<S.length&&(k=new VP(k,e,null,r,d),f.push({event:k,listeners:S}),_?k.data=_:(_=jM(r),_!==null&&(k.data=_)))),(_=W9?H9(e,r):K9(e,r))&&(u=vv(u,"onBeforeInput"),0<u.length&&(d=new VP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}RM(f,t)})}function Ih(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kh(e,r),i!=null&&n.unshift(Ih(e,i,s)),i=kh(e,t),i!=null&&n.push(Ih(e,i,s))),e=e.return}return n}function Ic(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eE(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=kh(r,i),c!=null&&o.unshift(Ih(r,c,l))):s||(c=kh(r,i),c!=null&&o.push(Ih(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var oW=/\r\n?/g,lW=/\u0000|\uFFFD/g;function tE(e){return(typeof e=="string"?e:""+e).replace(oW,`
`).replace(lW,"")}function ng(e,t,r){if(t=tE(t),tE(e)!==t&&r)throw Error(pe(425))}function yv(){}var Cj=null,Pj=null;function Ej(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Aj=typeof setTimeout=="function"?setTimeout:void 0,cW=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,uW=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(e){return rE.resolve(null).then(e).catch(dW)}:Aj;function dW(e){setTimeout(function(){throw e})}function V0(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Eh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Eh(t)}function No(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bd=Math.random().toString(36).slice(2),Ia="__reactFiber$"+Bd,Rh="__reactProps$"+Bd,_i="__reactContainer$"+Bd,Oj="__reactEvents$"+Bd,fW="__reactListeners$"+Bd,hW="__reactHandles$"+Bd;function jl(e){var t=e[Ia];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_i]||r[Ia]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nE(e);e!==null;){if(r=e[Ia])return r;e=nE(e)}return t}e=r,r=e.parentNode}return null}function np(e){return e=e[Ia]||e[_i],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function jx(e){return e[Rh]||null}var Tj=[],cu=-1;function Ho(e){return{current:e}}function Jt(e){0>cu||(e.current=Tj[cu],Tj[cu]=null,cu--)}function Ht(e,t){cu++,Tj[cu]=e.current,e.current=t}var $o={},_n=Ho($o),Qn=Ho(!1),Kl=$o;function Qu(e,t){var r=e.type.contextTypes;if(!r)return $o;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xn(e){return e=e.childContextTypes,e!=null}function xv(){Jt(Qn),Jt(_n)}function sE(e,t,r){if(_n.current!==$o)throw Error(pe(168));Ht(_n,t),Ht(Qn,r)}function MM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(pe(108,Xz(e)||"Unknown",s));return lr({},r,n)}function bv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$o,Kl=_n.current,Ht(_n,e),Ht(Qn,Qn.current),!0}function aE(e,t,r){var n=e.stateNode;if(!n)throw Error(pe(169));r?(e=MM(e,t,Kl),n.__reactInternalMemoizedMergedChildContext=e,Jt(Qn),Jt(_n),Ht(_n,e)):Jt(Qn),Ht(Qn,r)}var ci=null,Nx=!1,q0=!1;function DM(e){ci===null?ci=[e]:ci.push(e)}function mW(e){Nx=!0,DM(e)}function Ko(){if(!q0&&ci!==null){q0=!0;var e=0,t=Ft;try{var r=ci;for(Ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ci=null,Nx=!1}catch(s){throw ci!==null&&(ci=ci.slice(e+1)),lM(YS,Ko),s}finally{Ft=t,q0=!1}}return null}var uu=[],du=0,wv=null,jv=0,Ts=[],Is=0,Gl=null,mi=1,pi="";function fl(e,t){uu[du++]=jv,uu[du++]=wv,wv=e,jv=t}function LM(e,t,r){Ts[Is++]=mi,Ts[Is++]=pi,Ts[Is++]=Gl,Gl=e;var n=mi;e=pi;var s=32-fa(n)-1;n&=~(1<<s),r+=1;var i=32-fa(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,mi=1<<32-fa(t)+s|r<<s|n,pi=i+e}else mi=1<<i|r<<s|n,pi=e}function s_(e){e.return!==null&&(fl(e,1),LM(e,1,0))}function a_(e){for(;e===wv;)wv=uu[--du],uu[du]=null,jv=uu[--du],uu[du]=null;for(;e===Gl;)Gl=Ts[--Is],Ts[Is]=null,pi=Ts[--Is],Ts[Is]=null,mi=Ts[--Is],Ts[Is]=null}var xs=null,ys=null,er=!1,oa=null;function FM(e,t){var r=$s(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function iE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xs=e,ys=No(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xs=e,ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gl!==null?{id:mi,overflow:pi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$s(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xs=e,ys=null,!0):!1;default:return!1}}function Ij(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rj(e){if(er){var t=ys;if(t){var r=t;if(!iE(e,t)){if(Ij(e))throw Error(pe(418));t=No(r.nextSibling);var n=xs;t&&iE(e,t)?FM(n,r):(e.flags=e.flags&-4097|2,er=!1,xs=e)}}else{if(Ij(e))throw Error(pe(418));e.flags=e.flags&-4097|2,er=!1,xs=e}}}function oE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xs=e}function sg(e){if(e!==xs)return!1;if(!er)return oE(e),er=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ej(e.type,e.memoizedProps)),t&&(t=ys)){if(Ij(e))throw UM(),Error(pe(418));for(;t;)FM(e,t),t=No(t.nextSibling)}if(oE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ys=No(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ys=null}}else ys=xs?No(e.stateNode.nextSibling):null;return!0}function UM(){for(var e=ys;e;)e=No(e.nextSibling)}function Xu(){ys=xs=null,er=!1}function i_(e){oa===null?oa=[e]:oa.push(e)}var pW=Li.ReactCurrentBatchConfig;function Nf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,e))}return e}function ag(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lE(e){var t=e._init;return t(e._payload)}function BM(e){function t(b,p){if(e){var w=b.deletions;w===null?(b.deletions=[p],b.flags|=16):w.push(p)}}function r(b,p){if(!e)return null;for(;p!==null;)t(b,p),p=p.sibling;return null}function n(b,p){for(b=new Map;p!==null;)p.key!==null?b.set(p.key,p):b.set(p.index,p),p=p.sibling;return b}function s(b,p){return b=Co(b,p),b.index=0,b.sibling=null,b}function i(b,p,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<p?(b.flags|=2,p):w):(b.flags|=2,p)):(b.flags|=1048576,p)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,p,w,N){return p===null||p.tag!==6?(p=Q0(w,b.mode,N),p.return=b,p):(p=s(p,w),p.return=b,p)}function c(b,p,w,N){var j=w.type;return j===su?d(b,p,w.props.children,N,w.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Xi&&lE(j)===p.type)?(N=s(p,w.props),N.ref=Nf(b,p,w),N.return=b,N):(N=Jg(w.type,w.key,w.props,null,b.mode,N),N.ref=Nf(b,p,w),N.return=b,N)}function u(b,p,w,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=X0(w,b.mode,N),p.return=b,p):(p=s(p,w.children||[]),p.return=b,p)}function d(b,p,w,N,j){return p===null||p.tag!==7?(p=Vl(w,b.mode,N,j),p.return=b,p):(p=s(p,w),p.return=b,p)}function f(b,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Q0(""+p,b.mode,w),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Gp:return w=Jg(p.type,p.key,p.props,null,b.mode,w),w.ref=Nf(b,null,p),w.return=b,w;case nu:return p=X0(p,b.mode,w),p.return=b,p;case Xi:var N=p._init;return f(b,N(p._payload),w)}if(zf(p)||yf(p))return p=Vl(p,b.mode,w,null),p.return=b,p;ag(b,p)}return null}function h(b,p,w,N){var j=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,p,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gp:return w.key===j?c(b,p,w,N):null;case nu:return w.key===j?u(b,p,w,N):null;case Xi:return j=w._init,h(b,p,j(w._payload),N)}if(zf(w)||yf(w))return j!==null?null:d(b,p,w,N,null);ag(b,w)}return null}function g(b,p,w,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(w)||null,l(p,b,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Gp:return b=b.get(N.key===null?w:N.key)||null,c(p,b,N,j);case nu:return b=b.get(N.key===null?w:N.key)||null,u(p,b,N,j);case Xi:var S=N._init;return g(b,p,w,S(N._payload),j)}if(zf(N)||yf(N))return b=b.get(w)||null,d(p,b,N,j,null);ag(p,N)}return null}function y(b,p,w,N){for(var j=null,S=null,_=p,k=p=0,C=null;_!==null&&k<w.length;k++){_.index>k?(C=_,_=null):C=_.sibling;var E=h(b,_,w[k],N);if(E===null){_===null&&(_=C);break}e&&_&&E.alternate===null&&t(b,_),p=i(E,p,k),S===null?j=E:S.sibling=E,S=E,_=C}if(k===w.length)return r(b,_),er&&fl(b,k),j;if(_===null){for(;k<w.length;k++)_=f(b,w[k],N),_!==null&&(p=i(_,p,k),S===null?j=_:S.sibling=_,S=_);return er&&fl(b,k),j}for(_=n(b,_);k<w.length;k++)C=g(_,b,k,w[k],N),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?k:C.key),p=i(C,p,k),S===null?j=C:S.sibling=C,S=C);return e&&_.forEach(function(P){return t(b,P)}),er&&fl(b,k),j}function m(b,p,w,N){var j=yf(w);if(typeof j!="function")throw Error(pe(150));if(w=j.call(w),w==null)throw Error(pe(151));for(var S=j=null,_=p,k=p=0,C=null,E=w.next();_!==null&&!E.done;k++,E=w.next()){_.index>k?(C=_,_=null):C=_.sibling;var P=h(b,_,E.value,N);if(P===null){_===null&&(_=C);break}e&&_&&P.alternate===null&&t(b,_),p=i(P,p,k),S===null?j=P:S.sibling=P,S=P,_=C}if(E.done)return r(b,_),er&&fl(b,k),j;if(_===null){for(;!E.done;k++,E=w.next())E=f(b,E.value,N),E!==null&&(p=i(E,p,k),S===null?j=E:S.sibling=E,S=E);return er&&fl(b,k),j}for(_=n(b,_);!E.done;k++,E=w.next())E=g(_,b,k,E.value,N),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?k:E.key),p=i(E,p,k),S===null?j=E:S.sibling=E,S=E);return e&&_.forEach(function(R){return t(b,R)}),er&&fl(b,k),j}function x(b,p,w,N){if(typeof w=="object"&&w!==null&&w.type===su&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gp:e:{for(var j=w.key,S=p;S!==null;){if(S.key===j){if(j=w.type,j===su){if(S.tag===7){r(b,S.sibling),p=s(S,w.props.children),p.return=b,b=p;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Xi&&lE(j)===S.type){r(b,S.sibling),p=s(S,w.props),p.ref=Nf(b,S,w),p.return=b,b=p;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===su?(p=Vl(w.props.children,b.mode,N,w.key),p.return=b,b=p):(N=Jg(w.type,w.key,w.props,null,b.mode,N),N.ref=Nf(b,p,w),N.return=b,b=N)}return o(b);case nu:e:{for(S=w.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){r(b,p.sibling),p=s(p,w.children||[]),p.return=b,b=p;break e}else{r(b,p);break}else t(b,p);p=p.sibling}p=X0(w,b.mode,N),p.return=b,b=p}return o(b);case Xi:return S=w._init,x(b,p,S(w._payload),N)}if(zf(w))return y(b,p,w,N);if(yf(w))return m(b,p,w,N);ag(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(r(b,p.sibling),p=s(p,w),p.return=b,b=p):(r(b,p),p=Q0(w,b.mode,N),p.return=b,b=p),o(b)):r(b,p)}return x}var Zu=BM(!0),VM=BM(!1),Nv=Ho(null),Sv=null,fu=null,o_=null;function l_(){o_=fu=Sv=null}function c_(e){var t=Nv.current;Jt(Nv),e._currentValue=t}function $j(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pu(e,t){Sv=e,o_=fu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gn=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(o_!==e)if(e={context:e,memoizedValue:t,next:null},fu===null){if(Sv===null)throw Error(pe(308));fu=e,Sv.dependencies={lanes:0,firstContext:e}}else fu=fu.next=e;return t}var Nl=null;function u_(e){Nl===null?Nl=[e]:Nl.push(e)}function qM(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,u_(t)):(r.next=s.next,s.next=r),t.interleaved=r,ki(e,n)}function ki(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zi=!1;function d_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function So(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,St&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ki(e,r)}return s=n.interleaved,s===null?(t.next=t,u_(n)):(t.next=s.next,s.next=t),n.interleaved=t,ki(e,r)}function Kg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,QS(e,r)}}function cE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _v(e,t,r,n){var s=e.updateQueue;Zi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,g=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(g,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(g,f,h):y,h==null)break e;f=lr({},f,h);break e;case 2:Zi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ql|=o,e.lanes=o,e.memoizedState=f}}function uE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(pe(191,s));s.call(n)}}}var sp={},La=Ho(sp),$h=Ho(sp),Mh=Ho(sp);function Sl(e){if(e===sp)throw Error(pe(174));return e}function f_(e,t){switch(Ht(Mh,t),Ht($h,e),Ht(La,sp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pj(t,e)}Jt(La),Ht(La,t)}function Ju(){Jt(La),Jt($h),Jt(Mh)}function WM(e){Sl(Mh.current);var t=Sl(La.current),r=pj(t,e.type);t!==r&&(Ht($h,e),Ht(La,r))}function h_(e){$h.current===e&&(Jt(La),Jt($h))}var ar=Ho(0);function kv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var z0=[];function m_(){for(var e=0;e<z0.length;e++)z0[e]._workInProgressVersionPrimary=null;z0.length=0}var Gg=Li.ReactCurrentDispatcher,W0=Li.ReactCurrentBatchConfig,Yl=0,or=null,qr=null,rn=null,Cv=!1,oh=!1,Dh=0,gW=0;function xn(){throw Error(pe(321))}function p_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ga(e[r],t[r]))return!1;return!0}function g_(e,t,r,n,s,i){if(Yl=i,or=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gg.current=e===null||e.memoizedState===null?bW:wW,e=r(n,s),oh){i=0;do{if(oh=!1,Dh=0,25<=i)throw Error(pe(301));i+=1,rn=qr=null,t.updateQueue=null,Gg.current=jW,e=r(n,s)}while(oh)}if(Gg.current=Pv,t=qr!==null&&qr.next!==null,Yl=0,rn=qr=or=null,Cv=!1,t)throw Error(pe(300));return e}function v_(){var e=Dh!==0;return Dh=0,e}function Pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?or.memoizedState=rn=e:rn=rn.next=e,rn}function Vs(){if(qr===null){var e=or.alternate;e=e!==null?e.memoizedState:null}else e=qr.next;var t=rn===null?or.memoizedState:rn.next;if(t!==null)rn=t,qr=e;else{if(e===null)throw Error(pe(310));qr=e,e={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},rn===null?or.memoizedState=rn=e:rn=rn.next=e}return rn}function Lh(e,t){return typeof t=="function"?t(e):t}function H0(e){var t=Vs(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=qr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Yl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,or.lanes|=d,Ql|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ga(n,t.memoizedState)||(Gn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,or.lanes|=i,Ql|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function K0(e){var t=Vs(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ga(i,t.memoizedState)||(Gn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function HM(){}function KM(e,t){var r=or,n=Vs(),s=t(),i=!ga(n.memoizedState,s);if(i&&(n.memoizedState=s,Gn=!0),n=n.queue,y_(QM.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||rn!==null&&rn.memoizedState.tag&1){if(r.flags|=2048,Fh(9,YM.bind(null,r,n,s,t),void 0,null),sn===null)throw Error(pe(349));Yl&30||GM(r,t,s)}return s}function GM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function YM(e,t,r,n){t.value=r,t.getSnapshot=n,XM(t)&&ZM(e)}function QM(e,t,r){return r(function(){XM(t)&&ZM(e)})}function XM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ga(e,r)}catch{return!0}}function ZM(e){var t=ki(e,1);t!==null&&ha(t,e,1,-1)}function dE(e){var t=Pa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lh,lastRenderedState:e},t.queue=e,e=e.dispatch=xW.bind(null,or,e),[t.memoizedState,e]}function Fh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function JM(){return Vs().memoizedState}function Yg(e,t,r,n){var s=Pa();or.flags|=e,s.memoizedState=Fh(1|t,r,void 0,n===void 0?null:n)}function Sx(e,t,r,n){var s=Vs();n=n===void 0?null:n;var i=void 0;if(qr!==null){var o=qr.memoizedState;if(i=o.destroy,n!==null&&p_(n,o.deps)){s.memoizedState=Fh(t,r,i,n);return}}or.flags|=e,s.memoizedState=Fh(1|t,r,i,n)}function fE(e,t){return Yg(8390656,8,e,t)}function y_(e,t){return Sx(2048,8,e,t)}function e4(e,t){return Sx(4,2,e,t)}function t4(e,t){return Sx(4,4,e,t)}function r4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function n4(e,t,r){return r=r!=null?r.concat([e]):null,Sx(4,4,r4.bind(null,t,e),r)}function x_(){}function s4(e,t){var r=Vs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&p_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function a4(e,t){var r=Vs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&p_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function i4(e,t,r){return Yl&21?(ga(r,t)||(r=dM(),or.lanes|=r,Ql|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gn=!0),e.memoizedState=r)}function vW(e,t){var r=Ft;Ft=r!==0&&4>r?r:4,e(!0);var n=W0.transition;W0.transition={};try{e(!1),t()}finally{Ft=r,W0.transition=n}}function o4(){return Vs().memoizedState}function yW(e,t,r){var n=ko(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},l4(e))c4(t,r);else if(r=qM(e,t,r,n),r!==null){var s=Fn();ha(r,e,n,s),u4(r,t,n)}}function xW(e,t,r){var n=ko(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(l4(e))c4(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ga(l,o)){var c=t.interleaved;c===null?(s.next=s,u_(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=qM(e,t,s,n),r!==null&&(s=Fn(),ha(r,e,n,s),u4(r,t,n))}}function l4(e){var t=e.alternate;return e===or||t!==null&&t===or}function c4(e,t){oh=Cv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function u4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,QS(e,r)}}var Pv={readContext:Bs,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},bW={readContext:Bs,useCallback:function(e,t){return Pa().memoizedState=[e,t===void 0?null:t],e},useContext:Bs,useEffect:fE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yg(4194308,4,r4.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yg(4,2,e,t)},useMemo:function(e,t){var r=Pa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Pa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=yW.bind(null,or,e),[n.memoizedState,e]},useRef:function(e){var t=Pa();return e={current:e},t.memoizedState=e},useState:dE,useDebugValue:x_,useDeferredValue:function(e){return Pa().memoizedState=e},useTransition:function(){var e=dE(!1),t=e[0];return e=vW.bind(null,e[1]),Pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=or,s=Pa();if(er){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=t(),sn===null)throw Error(pe(349));Yl&30||GM(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,fE(QM.bind(null,n,i,e),[e]),n.flags|=2048,Fh(9,YM.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Pa(),t=sn.identifierPrefix;if(er){var r=pi,n=mi;r=(n&~(1<<32-fa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wW={readContext:Bs,useCallback:s4,useContext:Bs,useEffect:y_,useImperativeHandle:n4,useInsertionEffect:e4,useLayoutEffect:t4,useMemo:a4,useReducer:H0,useRef:JM,useState:function(){return H0(Lh)},useDebugValue:x_,useDeferredValue:function(e){var t=Vs();return i4(t,qr.memoizedState,e)},useTransition:function(){var e=H0(Lh)[0],t=Vs().memoizedState;return[e,t]},useMutableSource:HM,useSyncExternalStore:KM,useId:o4,unstable_isNewReconciler:!1},jW={readContext:Bs,useCallback:s4,useContext:Bs,useEffect:y_,useImperativeHandle:n4,useInsertionEffect:e4,useLayoutEffect:t4,useMemo:a4,useReducer:K0,useRef:JM,useState:function(){return K0(Lh)},useDebugValue:x_,useDeferredValue:function(e){var t=Vs();return qr===null?t.memoizedState=e:i4(t,qr.memoizedState,e)},useTransition:function(){var e=K0(Lh)[0],t=Vs().memoizedState;return[e,t]},useMutableSource:HM,useSyncExternalStore:KM,useId:o4,unstable_isNewReconciler:!1};function Js(e,t){if(e&&e.defaultProps){t=lr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Mj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:lr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _x={isMounted:function(e){return(e=e._reactInternals)?xc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fn(),s=ko(e),i=bi(n,s);i.payload=t,r!=null&&(i.callback=r),t=So(e,i,s),t!==null&&(ha(t,e,s,n),Kg(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fn(),s=ko(e),i=bi(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=So(e,i,s),t!==null&&(ha(t,e,s,n),Kg(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fn(),n=ko(e),s=bi(r,n);s.tag=2,t!=null&&(s.callback=t),t=So(e,s,n),t!==null&&(ha(t,e,n,r),Kg(t,e,n))}};function hE(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Oh(r,n)||!Oh(s,i):!0}function d4(e,t,r){var n=!1,s=$o,i=t.contextType;return typeof i=="object"&&i!==null?i=Bs(i):(s=Xn(t)?Kl:_n.current,n=t.contextTypes,i=(n=n!=null)?Qu(e,s):$o),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_x,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function mE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_x.enqueueReplaceState(t,t.state,null)}function Dj(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},d_(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Bs(i):(i=Xn(t)?Kl:_n.current,s.context=Qu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Mj(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_x.enqueueReplaceState(s,s.state,null),_v(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ed(e,t){try{var r="",n=t;do r+=Qz(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function G0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Lj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var NW=typeof WeakMap=="function"?WeakMap:Map;function f4(e,t,r){r=bi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Av||(Av=!0,Gj=n),Lj(e,t)},r}function h4(e,t,r){r=bi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Lj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Lj(e,t),typeof n!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function pE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new NW;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=DW.bind(null,e,t,r),t.then(e,e))}function gE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vE(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bi(-1,1),t.tag=2,So(r,t,1))),r.lanes|=1),e)}var SW=Li.ReactCurrentOwner,Gn=!1;function On(e,t,r,n){t.child=e===null?VM(t,null,r,n):Zu(t,e.child,r,n)}function yE(e,t,r,n,s){r=r.render;var i=t.ref;return Pu(t,s),n=g_(e,t,r,n,i,s),r=v_(),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ci(e,t,s)):(er&&r&&s_(t),t.flags|=1,On(e,t,n,s),t.child)}function xE(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!C_(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,m4(e,t,i,n,s)):(e=Jg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Oh,r(o,n)&&e.ref===t.ref)return Ci(e,t,s)}return t.flags|=1,e=Co(i,n),e.ref=t.ref,e.return=t,t.child=e}function m4(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Oh(i,n)&&e.ref===t.ref)if(Gn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Gn=!0);else return t.lanes=e.lanes,Ci(e,t,s)}return Fj(e,t,r,n,s)}function p4(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(mu,us),us|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ht(mu,us),us|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ht(mu,us),us|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ht(mu,us),us|=n;return On(e,t,s,r),t.child}function g4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Fj(e,t,r,n,s){var i=Xn(r)?Kl:_n.current;return i=Qu(t,i),Pu(t,s),r=g_(e,t,r,n,i,s),n=v_(),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ci(e,t,s)):(er&&n&&s_(t),t.flags|=1,On(e,t,r,s),t.child)}function bE(e,t,r,n,s){if(Xn(r)){var i=!0;bv(t)}else i=!1;if(Pu(t,s),t.stateNode===null)Qg(e,t),d4(t,r,n),Dj(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bs(u):(u=Xn(r)?Kl:_n.current,u=Qu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&mE(t,o,n,u),Zi=!1;var h=t.memoizedState;o.state=h,_v(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Qn.current||Zi?(typeof d=="function"&&(Mj(t,r,d,n),c=t.memoizedState),(l=Zi||hE(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,zM(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Js(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bs(c):(c=Xn(r)?Kl:_n.current,c=Qu(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&mE(t,o,n,c),Zi=!1,h=t.memoizedState,o.state=h,_v(t,n,o,s);var y=t.memoizedState;l!==f||h!==y||Qn.current||Zi?(typeof g=="function"&&(Mj(t,r,g,n),y=t.memoizedState),(u=Zi||hE(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Uj(e,t,r,n,i,s)}function Uj(e,t,r,n,s,i){g4(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&aE(t,r,!1),Ci(e,t,i);n=t.stateNode,SW.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Zu(t,e.child,null,i),t.child=Zu(t,null,l,i)):On(e,t,l,i),t.memoizedState=n.state,s&&aE(t,r,!0),t.child}function v4(e){var t=e.stateNode;t.pendingContext?sE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sE(e,t.context,!1),f_(e,t.containerInfo)}function wE(e,t,r,n,s){return Xu(),i_(s),t.flags|=256,On(e,t,r,n),t.child}var Bj={dehydrated:null,treeContext:null,retryLane:0};function Vj(e){return{baseLanes:e,cachePool:null,transitions:null}}function y4(e,t,r){var n=t.pendingProps,s=ar.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ht(ar,s&1),e===null)return Rj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Px(o,n,0,null),e=Vl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Vj(r),t.memoizedState=Bj,e):b_(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return _W(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Co(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Co(l,i):(i=Vl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Vj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Bj,n}return i=e.child,e=i.sibling,n=Co(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function b_(e,t){return t=Px({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ig(e,t,r,n){return n!==null&&i_(n),Zu(t,e.child,null,r),e=b_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _W(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=G0(Error(pe(422))),ig(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Px({mode:"visible",children:n.children},s,0,null),i=Vl(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Zu(t,e.child,null,o),t.child.memoizedState=Vj(o),t.memoizedState=Bj,i);if(!(t.mode&1))return ig(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(pe(419)),n=G0(i,n,void 0),ig(e,t,o,n)}if(l=(o&e.childLanes)!==0,Gn||l){if(n=sn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ki(e,s),ha(n,e,s,-1))}return k_(),n=G0(Error(pe(421))),ig(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=LW.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ys=No(s.nextSibling),xs=t,er=!0,oa=null,e!==null&&(Ts[Is++]=mi,Ts[Is++]=pi,Ts[Is++]=Gl,mi=e.id,pi=e.overflow,Gl=t),t=b_(t,n.children),t.flags|=4096,t)}function jE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),$j(e.return,t,r)}function Y0(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function x4(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(On(e,t,n.children,r),n=ar.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jE(e,r,t);else if(e.tag===19)jE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ht(ar,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&kv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Y0(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&kv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Y0(t,!0,r,null,i);break;case"together":Y0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ci(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ql|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,r=Co(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Co(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function kW(e,t,r){switch(t.tag){case 3:v4(t),Xu();break;case 5:WM(t);break;case 1:Xn(t.type)&&bv(t);break;case 4:f_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ht(Nv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ht(ar,ar.current&1),t.flags|=128,null):r&t.child.childLanes?y4(e,t,r):(Ht(ar,ar.current&1),e=Ci(e,t,r),e!==null?e.sibling:null);Ht(ar,ar.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return x4(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ht(ar,ar.current),n)break;return null;case 22:case 23:return t.lanes=0,p4(e,t,r)}return Ci(e,t,r)}var b4,qj,w4,j4;b4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qj=function(){};w4=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Sl(La.current);var i=null;switch(r){case"input":s=dj(e,s),n=dj(e,n),i=[];break;case"select":s=lr({},s,{value:void 0}),n=lr({},n,{value:void 0}),i=[];break;case"textarea":s=mj(e,s),n=mj(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yv)}gj(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};j4=function(e,t,r,n){r!==n&&(t.flags|=4)};function Sf(e,t){if(!er)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function bn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function CW(e,t,r){var n=t.pendingProps;switch(a_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(t),null;case 1:return Xn(t.type)&&xv(),bn(t),null;case 3:return n=t.stateNode,Ju(),Jt(Qn),Jt(_n),m_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,oa!==null&&(Xj(oa),oa=null))),qj(e,t),bn(t),null;case 5:h_(t);var s=Sl(Mh.current);if(r=t.type,e!==null&&t.stateNode!=null)w4(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pe(166));return bn(t),null}if(e=Sl(La.current),sg(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ia]=t,n[Rh]=i,e=(t.mode&1)!==0,r){case"dialog":Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":case"embed":Qt("load",n);break;case"video":case"audio":for(s=0;s<Hf.length;s++)Qt(Hf[s],n);break;case"source":Qt("error",n);break;case"img":case"image":case"link":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"input":OP(n,i),Qt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Qt("invalid",n);break;case"textarea":IP(n,i),Qt("invalid",n)}gj(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ng(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ng(n.textContent,l,e),s=["children",""+l]):Sh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qt("scroll",n)}switch(r){case"input":Yp(n),TP(n,i,!0);break;case"textarea":Yp(n),RP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=yv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ia]=t,e[Rh]=n,b4(e,t,!1,!1),t.stateNode=e;e:{switch(o=vj(r,n),r){case"dialog":Qt("cancel",e),Qt("close",e),s=n;break;case"iframe":case"object":case"embed":Qt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Hf.length;s++)Qt(Hf[s],e);s=n;break;case"source":Qt("error",e),s=n;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),s=n;break;case"details":Qt("toggle",e),s=n;break;case"input":OP(e,n),s=dj(e,n),Qt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=lr({},n,{value:void 0}),Qt("invalid",e);break;case"textarea":IP(e,n),s=mj(e,n),Qt("invalid",e);break;default:s=n}gj(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?J$(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&X$(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&_h(e,c):typeof c=="number"&&_h(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Sh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qt("scroll",e):c!=null&&zS(e,i,c,o))}switch(r){case"input":Yp(e),TP(e,n,!1);break;case"textarea":Yp(e),RP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ro(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Su(e,!!n.multiple,i,!1):n.defaultValue!=null&&Su(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bn(t),null;case 6:if(e&&t.stateNode!=null)j4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pe(166));if(r=Sl(Mh.current),Sl(La.current),sg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ia]=t,(i=n.nodeValue!==r)&&(e=xs,e!==null))switch(e.tag){case 3:ng(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ng(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ia]=t,t.stateNode=n}return bn(t),null;case 13:if(Jt(ar),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(er&&ys!==null&&t.mode&1&&!(t.flags&128))UM(),Xu(),t.flags|=98560,i=!1;else if(i=sg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(pe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));i[Ia]=t}else Xu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bn(t),i=!1}else oa!==null&&(Xj(oa),oa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ar.current&1?Wr===0&&(Wr=3):k_())),t.updateQueue!==null&&(t.flags|=4),bn(t),null);case 4:return Ju(),qj(e,t),e===null&&Th(t.stateNode.containerInfo),bn(t),null;case 10:return c_(t.type._context),bn(t),null;case 17:return Xn(t.type)&&xv(),bn(t),null;case 19:if(Jt(ar),i=t.memoizedState,i===null)return bn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Sf(i,!1);else{if(Wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=kv(e),o!==null){for(t.flags|=128,Sf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ht(ar,ar.current&1|2),t.child}e=e.sibling}i.tail!==null&&jr()>td&&(t.flags|=128,n=!0,Sf(i,!1),t.lanes=4194304)}else{if(!n)if(e=kv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Sf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!er)return bn(t),null}else 2*jr()-i.renderingStartTime>td&&r!==1073741824&&(t.flags|=128,n=!0,Sf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jr(),t.sibling=null,r=ar.current,Ht(ar,n?r&1|2:r&1),t):(bn(t),null);case 22:case 23:return __(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?us&1073741824&&(bn(t),t.subtreeFlags&6&&(t.flags|=8192)):bn(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function PW(e,t){switch(a_(t),t.tag){case 1:return Xn(t.type)&&xv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ju(),Jt(Qn),Jt(_n),m_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return h_(t),null;case 13:if(Jt(ar),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));Xu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jt(ar),null;case 4:return Ju(),null;case 10:return c_(t.type._context),null;case 22:case 23:return __(),null;case 24:return null;default:return null}}var og=!1,jn=!1,EW=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function hu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mr(e,t,n)}else r.current=null}function zj(e,t,r){try{r()}catch(n){mr(e,t,n)}}var NE=!1;function AW(e,t){if(Cj=pv,e=CM(),n_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pj={focusedElem:e,selectionRange:r},pv=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,x=y.memoizedState,b=t.stateNode,p=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:Js(t.type,m),x);b.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(N){mr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return y=NE,NE=!1,y}function lh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&zj(t,r,i)}s=s.next}while(s!==n)}}function kx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function N4(e){var t=e.alternate;t!==null&&(e.alternate=null,N4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ia],delete t[Rh],delete t[Oj],delete t[fW],delete t[hW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function S4(e){return e.tag===5||e.tag===3||e.tag===4}function SE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||S4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yv));else if(n!==4&&(e=e.child,e!==null))for(Hj(e,t,r),e=e.sibling;e!==null;)Hj(e,t,r),e=e.sibling}function Kj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Kj(e,t,r),e=e.sibling;e!==null;)Kj(e,t,r),e=e.sibling}var hn=null,na=!1;function Hi(e,t,r){for(r=r.child;r!==null;)_4(e,t,r),r=r.sibling}function _4(e,t,r){if(Da&&typeof Da.onCommitFiberUnmount=="function")try{Da.onCommitFiberUnmount(yx,r)}catch{}switch(r.tag){case 5:jn||hu(r,t);case 6:var n=hn,s=na;hn=null,Hi(e,t,r),hn=n,na=s,hn!==null&&(na?(e=hn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):hn.removeChild(r.stateNode));break;case 18:hn!==null&&(na?(e=hn,r=r.stateNode,e.nodeType===8?V0(e.parentNode,r):e.nodeType===1&&V0(e,r),Eh(e)):V0(hn,r.stateNode));break;case 4:n=hn,s=na,hn=r.stateNode.containerInfo,na=!0,Hi(e,t,r),hn=n,na=s;break;case 0:case 11:case 14:case 15:if(!jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zj(r,t,o),s=s.next}while(s!==n)}Hi(e,t,r);break;case 1:if(!jn&&(hu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){mr(r,t,l)}Hi(e,t,r);break;case 21:Hi(e,t,r);break;case 22:r.mode&1?(jn=(n=jn)||r.memoizedState!==null,Hi(e,t,r),jn=n):Hi(e,t,r);break;default:Hi(e,t,r)}}function _E(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new EW),t.forEach(function(n){var s=FW.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ys(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:hn=l.stateNode,na=!1;break e;case 3:hn=l.stateNode.containerInfo,na=!0;break e;case 4:hn=l.stateNode.containerInfo,na=!0;break e}l=l.return}if(hn===null)throw Error(pe(160));_4(i,o,s),hn=null,na=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){mr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)k4(t,e),t=t.sibling}function k4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ys(t,e),Ca(e),n&4){try{lh(3,e,e.return),kx(3,e)}catch(m){mr(e,e.return,m)}try{lh(5,e,e.return)}catch(m){mr(e,e.return,m)}}break;case 1:Ys(t,e),Ca(e),n&512&&r!==null&&hu(r,r.return);break;case 5:if(Ys(t,e),Ca(e),n&512&&r!==null&&hu(r,r.return),e.flags&32){var s=e.stateNode;try{_h(s,"")}catch(m){mr(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&G$(s,i),vj(l,o);var u=vj(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?J$(s,f):d==="dangerouslySetInnerHTML"?X$(s,f):d==="children"?_h(s,f):zS(s,d,f,u)}switch(l){case"input":fj(s,i);break;case"textarea":Y$(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Su(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?Su(s,!!i.multiple,i.defaultValue,!0):Su(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rh]=i}catch(m){mr(e,e.return,m)}}break;case 6:if(Ys(t,e),Ca(e),n&4){if(e.stateNode===null)throw Error(pe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){mr(e,e.return,m)}}break;case 3:if(Ys(t,e),Ca(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(m){mr(e,e.return,m)}break;case 4:Ys(t,e),Ca(e);break;case 13:Ys(t,e),Ca(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(N_=jr())),n&4&&_E(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(jn=(u=jn)||d,Ys(t,e),jn=u):Ys(t,e),Ca(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ie=e,d=e.child;d!==null;){for(f=Ie=d;Ie!==null;){switch(h=Ie,g=h.child,h.tag){case 0:case 11:case 14:case 15:lh(4,h,h.return);break;case 1:hu(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){mr(n,r,m)}}break;case 5:hu(h,h.return);break;case 22:if(h.memoizedState!==null){CE(f);continue}}g!==null?(g.return=h,Ie=g):CE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Z$("display",o))}catch(m){mr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){mr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ys(t,e),Ca(e),n&4&&_E(e);break;case 21:break;default:Ys(t,e),Ca(e)}}function Ca(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(S4(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(_h(s,""),n.flags&=-33);var i=SE(e);Kj(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=SE(e);Hj(e,l,o);break;default:throw Error(pe(161))}}catch(c){mr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OW(e,t,r){Ie=e,C4(e)}function C4(e,t,r){for(var n=(e.mode&1)!==0;Ie!==null;){var s=Ie,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||og;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||jn;l=og;var u=jn;if(og=o,(jn=c)&&!u)for(Ie=s;Ie!==null;)o=Ie,c=o.child,o.tag===22&&o.memoizedState!==null?PE(s):c!==null?(c.return=o,Ie=c):PE(s);for(;i!==null;)Ie=i,C4(i),i=i.sibling;Ie=s,og=l,jn=u}kE(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ie=i):kE(e)}}function kE(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jn||kx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!jn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Js(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&uE(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uE(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Eh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}jn||t.flags&512&&Wj(t)}catch(h){mr(t,t.return,h)}}if(t===e){Ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function CE(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function PE(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kx(4,t)}catch(c){mr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){mr(t,s,c)}}var i=t.return;try{Wj(t)}catch(c){mr(t,i,c)}break;case 5:var o=t.return;try{Wj(t)}catch(c){mr(t,o,c)}}}catch(c){mr(t,t.return,c)}if(t===e){Ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ie=l;break}Ie=t.return}}var TW=Math.ceil,Ev=Li.ReactCurrentDispatcher,w_=Li.ReactCurrentOwner,Ls=Li.ReactCurrentBatchConfig,St=0,sn=null,Or=null,mn=0,us=0,mu=Ho(0),Wr=0,Uh=null,Ql=0,Cx=0,j_=0,ch=null,Kn=null,N_=0,td=1/0,ii=null,Av=!1,Gj=null,_o=null,lg=!1,yo=null,Ov=0,uh=0,Yj=null,Xg=-1,Zg=0;function Fn(){return St&6?jr():Xg!==-1?Xg:Xg=jr()}function ko(e){return e.mode&1?St&2&&mn!==0?mn&-mn:pW.transition!==null?(Zg===0&&(Zg=dM()),Zg):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:yM(e.type)),e):1}function ha(e,t,r,n){if(50<uh)throw uh=0,Yj=null,Error(pe(185));tp(e,r,n),(!(St&2)||e!==sn)&&(e===sn&&(!(St&2)&&(Cx|=r),Wr===4&&so(e,mn)),Zn(e,n),r===1&&St===0&&!(t.mode&1)&&(td=jr()+500,Nx&&Ko()))}function Zn(e,t){var r=e.callbackNode;p9(e,t);var n=mv(e,e===sn?mn:0);if(n===0)r!==null&&DP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&DP(r),t===1)e.tag===0?mW(EE.bind(null,e)):DM(EE.bind(null,e)),uW(function(){!(St&6)&&Ko()}),r=null;else{switch(fM(n)){case 1:r=YS;break;case 4:r=cM;break;case 16:r=hv;break;case 536870912:r=uM;break;default:r=hv}r=$4(r,P4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function P4(e,t){if(Xg=-1,Zg=0,St&6)throw Error(pe(327));var r=e.callbackNode;if(Eu()&&e.callbackNode!==r)return null;var n=mv(e,e===sn?mn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Tv(e,n);else{t=n;var s=St;St|=2;var i=A4();(sn!==e||mn!==t)&&(ii=null,td=jr()+500,Bl(e,t));do try{$W();break}catch(l){E4(e,l)}while(!0);l_(),Ev.current=i,St=s,Or!==null?t=0:(sn=null,mn=0,t=Wr)}if(t!==0){if(t===2&&(s=jj(e),s!==0&&(n=s,t=Qj(e,s))),t===1)throw r=Uh,Bl(e,0),so(e,n),Zn(e,jr()),r;if(t===6)so(e,n);else{if(s=e.current.alternate,!(n&30)&&!IW(s)&&(t=Tv(e,n),t===2&&(i=jj(e),i!==0&&(n=i,t=Qj(e,i))),t===1))throw r=Uh,Bl(e,0),so(e,n),Zn(e,jr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(pe(345));case 2:hl(e,Kn,ii);break;case 3:if(so(e,n),(n&130023424)===n&&(t=N_+500-jr(),10<t)){if(mv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Fn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Aj(hl.bind(null,e,Kn,ii),t);break}hl(e,Kn,ii);break;case 4:if(so(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-fa(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=jr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*TW(n/1960))-n,10<n){e.timeoutHandle=Aj(hl.bind(null,e,Kn,ii),n);break}hl(e,Kn,ii);break;case 5:hl(e,Kn,ii);break;default:throw Error(pe(329))}}}return Zn(e,jr()),e.callbackNode===r?P4.bind(null,e):null}function Qj(e,t){var r=ch;return e.current.memoizedState.isDehydrated&&(Bl(e,t).flags|=256),e=Tv(e,t),e!==2&&(t=Kn,Kn=r,t!==null&&Xj(t)),e}function Xj(e){Kn===null?Kn=e:Kn.push.apply(Kn,e)}function IW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ga(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function so(e,t){for(t&=~j_,t&=~Cx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fa(t),n=1<<r;e[r]=-1,t&=~n}}function EE(e){if(St&6)throw Error(pe(327));Eu();var t=mv(e,0);if(!(t&1))return Zn(e,jr()),null;var r=Tv(e,t);if(e.tag!==0&&r===2){var n=jj(e);n!==0&&(t=n,r=Qj(e,n))}if(r===1)throw r=Uh,Bl(e,0),so(e,t),Zn(e,jr()),r;if(r===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hl(e,Kn,ii),Zn(e,jr()),null}function S_(e,t){var r=St;St|=1;try{return e(t)}finally{St=r,St===0&&(td=jr()+500,Nx&&Ko())}}function Xl(e){yo!==null&&yo.tag===0&&!(St&6)&&Eu();var t=St;St|=1;var r=Ls.transition,n=Ft;try{if(Ls.transition=null,Ft=1,e)return e()}finally{Ft=n,Ls.transition=r,St=t,!(St&6)&&Ko()}}function __(){us=mu.current,Jt(mu)}function Bl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,cW(r)),Or!==null)for(r=Or.return;r!==null;){var n=r;switch(a_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xv();break;case 3:Ju(),Jt(Qn),Jt(_n),m_();break;case 5:h_(n);break;case 4:Ju();break;case 13:Jt(ar);break;case 19:Jt(ar);break;case 10:c_(n.type._context);break;case 22:case 23:__()}r=r.return}if(sn=e,Or=e=Co(e.current,null),mn=us=t,Wr=0,Uh=null,j_=Cx=Ql=0,Kn=ch=null,Nl!==null){for(t=0;t<Nl.length;t++)if(r=Nl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Nl=null}return e}function E4(e,t){do{var r=Or;try{if(l_(),Gg.current=Pv,Cv){for(var n=or.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Cv=!1}if(Yl=0,rn=qr=or=null,oh=!1,Dh=0,w_.current=null,r===null||r.return===null){Wr=1,Uh=t,Or=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=mn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=gE(o);if(g!==null){g.flags&=-257,vE(g,o,l,i,t),g.mode&1&&pE(i,u,t),t=g,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){pE(i,u,t),k_();break e}c=Error(pe(426))}}else if(er&&l.mode&1){var x=gE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),vE(x,o,l,i,t),i_(ed(c,l));break e}}i=c=ed(c,l),Wr!==4&&(Wr=2),ch===null?ch=[i]:ch.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=f4(i,c,t);cE(i,b);break e;case 1:l=c;var p=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_o===null||!_o.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=h4(i,l,t);cE(i,N);break e}}i=i.return}while(i!==null)}T4(r)}catch(j){t=j,Or===r&&r!==null&&(Or=r=r.return);continue}break}while(!0)}function A4(){var e=Ev.current;return Ev.current=Pv,e===null?Pv:e}function k_(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),sn===null||!(Ql&268435455)&&!(Cx&268435455)||so(sn,mn)}function Tv(e,t){var r=St;St|=2;var n=A4();(sn!==e||mn!==t)&&(ii=null,Bl(e,t));do try{RW();break}catch(s){E4(e,s)}while(!0);if(l_(),St=r,Ev.current=n,Or!==null)throw Error(pe(261));return sn=null,mn=0,Wr}function RW(){for(;Or!==null;)O4(Or)}function $W(){for(;Or!==null&&!i9();)O4(Or)}function O4(e){var t=R4(e.alternate,e,us);e.memoizedProps=e.pendingProps,t===null?T4(e):Or=t,w_.current=null}function T4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=PW(r,t),r!==null){r.flags&=32767,Or=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wr=6,Or=null;return}}else if(r=CW(r,t,us),r!==null){Or=r;return}if(t=t.sibling,t!==null){Or=t;return}Or=t=e}while(t!==null);Wr===0&&(Wr=5)}function hl(e,t,r){var n=Ft,s=Ls.transition;try{Ls.transition=null,Ft=1,MW(e,t,r,n)}finally{Ls.transition=s,Ft=n}return null}function MW(e,t,r,n){do Eu();while(yo!==null);if(St&6)throw Error(pe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(g9(e,i),e===sn&&(Or=sn=null,mn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lg||(lg=!0,$4(hv,function(){return Eu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ls.transition,Ls.transition=null;var o=Ft;Ft=1;var l=St;St|=4,w_.current=null,AW(e,r),k4(r,e),rW(Pj),pv=!!Cj,Pj=Cj=null,e.current=r,OW(r),o9(),St=l,Ft=o,Ls.transition=i}else e.current=r;if(lg&&(lg=!1,yo=e,Ov=s),i=e.pendingLanes,i===0&&(_o=null),u9(r.stateNode),Zn(e,jr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Av)throw Av=!1,e=Gj,Gj=null,e;return Ov&1&&e.tag!==0&&Eu(),i=e.pendingLanes,i&1?e===Yj?uh++:(uh=0,Yj=e):uh=0,Ko(),null}function Eu(){if(yo!==null){var e=fM(Ov),t=Ls.transition,r=Ft;try{if(Ls.transition=null,Ft=16>e?16:e,yo===null)var n=!1;else{if(e=yo,yo=null,Ov=0,St&6)throw Error(pe(331));var s=St;for(St|=4,Ie=e.current;Ie!==null;){var i=Ie,o=i.child;if(Ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ie=u;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:lh(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ie=f;else for(;Ie!==null;){d=Ie;var h=d.sibling,g=d.return;if(N4(d),d===u){Ie=null;break}if(h!==null){h.return=g,Ie=h;break}Ie=g}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}Ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ie=o;else e:for(;Ie!==null;){if(i=Ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lh(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ie=b;break e}Ie=i.return}}var p=e.current;for(Ie=p;Ie!==null;){o=Ie;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ie=w;else e:for(o=p;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kx(9,l)}}catch(j){mr(l,l.return,j)}if(l===o){Ie=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ie=N;break e}Ie=l.return}}if(St=s,Ko(),Da&&typeof Da.onPostCommitFiberRoot=="function")try{Da.onPostCommitFiberRoot(yx,e)}catch{}n=!0}return n}finally{Ft=r,Ls.transition=t}}return!1}function AE(e,t,r){t=ed(r,t),t=f4(e,t,1),e=So(e,t,1),t=Fn(),e!==null&&(tp(e,1,t),Zn(e,t))}function mr(e,t,r){if(e.tag===3)AE(e,e,r);else for(;t!==null;){if(t.tag===3){AE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_o===null||!_o.has(n))){e=ed(r,e),e=h4(t,e,1),t=So(t,e,1),e=Fn(),t!==null&&(tp(t,1,e),Zn(t,e));break}}t=t.return}}function DW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fn(),e.pingedLanes|=e.suspendedLanes&r,sn===e&&(mn&r)===r&&(Wr===4||Wr===3&&(mn&130023424)===mn&&500>jr()-N_?Bl(e,0):j_|=r),Zn(e,t)}function I4(e,t){t===0&&(e.mode&1?(t=Zp,Zp<<=1,!(Zp&130023424)&&(Zp=4194304)):t=1);var r=Fn();e=ki(e,t),e!==null&&(tp(e,t,r),Zn(e,r))}function LW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),I4(e,r)}function FW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(t),I4(e,r)}var R4;R4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qn.current)Gn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gn=!1,kW(e,t,r);Gn=!!(e.flags&131072)}else Gn=!1,er&&t.flags&1048576&&LM(t,jv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qg(e,t),e=t.pendingProps;var s=Qu(t,_n.current);Pu(t,r),s=g_(null,t,n,e,s,r);var i=v_();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xn(n)?(i=!0,bv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,d_(t),s.updater=_x,t.stateNode=s,s._reactInternals=t,Dj(t,n,e,r),t=Uj(null,t,n,!0,i,r)):(t.tag=0,er&&i&&s_(t),On(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Qg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=BW(n),e=Js(n,e),s){case 0:t=Fj(null,t,n,e,r);break e;case 1:t=bE(null,t,n,e,r);break e;case 11:t=yE(null,t,n,e,r);break e;case 14:t=xE(null,t,n,Js(n.type,e),r);break e}throw Error(pe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),Fj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),bE(e,t,n,s,r);case 3:e:{if(v4(t),e===null)throw Error(pe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,zM(e,t),_v(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ed(Error(pe(423)),t),t=wE(e,t,n,r,s);break e}else if(n!==s){s=ed(Error(pe(424)),t),t=wE(e,t,n,r,s);break e}else for(ys=No(t.stateNode.containerInfo.firstChild),xs=t,er=!0,oa=null,r=VM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xu(),n===s){t=Ci(e,t,r);break e}On(e,t,n,r)}t=t.child}return t;case 5:return WM(t),e===null&&Rj(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ej(n,s)?o=null:i!==null&&Ej(n,i)&&(t.flags|=32),g4(e,t),On(e,t,o,r),t.child;case 6:return e===null&&Rj(t),null;case 13:return y4(e,t,r);case 4:return f_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zu(t,null,n,r):On(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),yE(e,t,n,s,r);case 7:return On(e,t,t.pendingProps,r),t.child;case 8:return On(e,t,t.pendingProps.children,r),t.child;case 12:return On(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ht(Nv,n._currentValue),n._currentValue=o,i!==null)if(ga(i.value,o)){if(i.children===s.children&&!Qn.current){t=Ci(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=bi(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),$j(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(pe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),$j(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}On(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Pu(t,r),s=Bs(s),n=n(s),t.flags|=1,On(e,t,n,r),t.child;case 14:return n=t.type,s=Js(n,t.pendingProps),s=Js(n.type,s),xE(e,t,n,s,r);case 15:return m4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Js(n,s),Qg(e,t),t.tag=1,Xn(n)?(e=!0,bv(t)):e=!1,Pu(t,r),d4(t,n,s),Dj(t,n,s,r),Uj(null,t,n,!0,e,r);case 19:return x4(e,t,r);case 22:return p4(e,t,r)}throw Error(pe(156,t.tag))};function $4(e,t){return lM(e,t)}function UW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(e,t,r,n){return new UW(e,t,r,n)}function C_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BW(e){if(typeof e=="function")return C_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===HS)return 11;if(e===KS)return 14}return 2}function Co(e,t){var r=e.alternate;return r===null?(r=$s(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jg(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")C_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case su:return Vl(r.children,s,i,t);case WS:o=8,s|=8;break;case oj:return e=$s(12,r,t,s|2),e.elementType=oj,e.lanes=i,e;case lj:return e=$s(13,r,t,s),e.elementType=lj,e.lanes=i,e;case cj:return e=$s(19,r,t,s),e.elementType=cj,e.lanes=i,e;case W$:return Px(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q$:o=10;break e;case z$:o=9;break e;case HS:o=11;break e;case KS:o=14;break e;case Xi:o=16,n=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=$s(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Vl(e,t,r,n){return e=$s(7,e,n,t),e.lanes=r,e}function Px(e,t,r,n){return e=$s(22,e,n,t),e.elementType=W$,e.lanes=r,e.stateNode={isHidden:!1},e}function Q0(e,t,r){return e=$s(6,e,null,t),e.lanes=r,e}function X0(e,t,r){return t=$s(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function VW(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=O0(0),this.expirationTimes=O0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function P_(e,t,r,n,s,i,o,l,c){return e=new VW(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$s(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},d_(i),e}function qW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function M4(e){if(!e)return $o;e=e._reactInternals;e:{if(xc(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var r=e.type;if(Xn(r))return MM(e,r,t)}return t}function D4(e,t,r,n,s,i,o,l,c){return e=P_(r,n,!0,e,s,i,o,l,c),e.context=M4(null),r=e.current,n=Fn(),s=ko(r),i=bi(n,s),i.callback=t??null,So(r,i,s),e.current.lanes=s,tp(e,s,n),Zn(e,n),e}function Ex(e,t,r,n){var s=t.current,i=Fn(),o=ko(s);return r=M4(r),t.context===null?t.context=r:t.pendingContext=r,t=bi(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=So(s,t,o),e!==null&&(ha(e,s,o,i),Kg(e,s,o)),o}function Iv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function OE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function E_(e,t){OE(e,t),(e=e.alternate)&&OE(e,t)}function zW(){return null}var L4=typeof reportError=="function"?reportError:function(e){console.error(e)};function A_(e){this._internalRoot=e}Ax.prototype.render=A_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));Ex(e,t,null,null)};Ax.prototype.unmount=A_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xl(function(){Ex(null,e,null,null)}),t[_i]=null}};function Ax(e){this._internalRoot=e}Ax.prototype.unstable_scheduleHydration=function(e){if(e){var t=pM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<no.length&&t!==0&&t<no[r].priority;r++);no.splice(r,0,e),r===0&&vM(e)}};function O_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ox(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function TE(){}function WW(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Iv(o);i.call(u)}}var o=D4(t,n,e,0,null,!1,!1,"",TE);return e._reactRootContainer=o,e[_i]=o.current,Th(e.nodeType===8?e.parentNode:e),Xl(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Iv(c);l.call(u)}}var c=P_(e,0,!1,null,null,!1,!1,"",TE);return e._reactRootContainer=c,e[_i]=c.current,Th(e.nodeType===8?e.parentNode:e),Xl(function(){Ex(t,c,r,n)}),c}function Tx(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Iv(o);l.call(c)}}Ex(t,o,e,s)}else o=WW(r,t,e,s,n);return Iv(o)}hM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wf(t.pendingLanes);r!==0&&(QS(t,r|1),Zn(t,jr()),!(St&6)&&(td=jr()+500,Ko()))}break;case 13:Xl(function(){var n=ki(e,1);if(n!==null){var s=Fn();ha(n,e,1,s)}}),E_(e,1)}};XS=function(e){if(e.tag===13){var t=ki(e,134217728);if(t!==null){var r=Fn();ha(t,e,134217728,r)}E_(e,134217728)}};mM=function(e){if(e.tag===13){var t=ko(e),r=ki(e,t);if(r!==null){var n=Fn();ha(r,e,t,n)}E_(e,t)}};pM=function(){return Ft};gM=function(e,t){var r=Ft;try{return Ft=e,t()}finally{Ft=r}};xj=function(e,t,r){switch(t){case"input":if(fj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=jx(n);if(!s)throw Error(pe(90));K$(n),fj(n,s)}}}break;case"textarea":Y$(e,r);break;case"select":t=r.value,t!=null&&Su(e,!!r.multiple,t,!1)}};rM=S_;nM=Xl;var HW={usingClientEntryPoint:!1,Events:[np,lu,jx,eM,tM,S_]},_f={findFiberByHostInstance:jl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KW={bundleType:_f.bundleType,version:_f.version,rendererPackageName:_f.rendererPackageName,rendererConfig:_f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iM(e),e===null?null:e.stateNode},findFiberByHostInstance:_f.findFiberByHostInstance||zW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cg.isDisabled&&cg.supportsFiber)try{yx=cg.inject(KW),Da=cg}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HW;_s.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O_(t))throw Error(pe(200));return qW(e,t,null,r)};_s.createRoot=function(e,t){if(!O_(e))throw Error(pe(299));var r=!1,n="",s=L4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=P_(e,1,!1,null,null,r,!1,n,s),e[_i]=t.current,Th(e.nodeType===8?e.parentNode:e),new A_(t)};_s.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=iM(t),e=e===null?null:e.stateNode,e};_s.flushSync=function(e){return Xl(e)};_s.hydrate=function(e,t,r){if(!Ox(t))throw Error(pe(200));return Tx(null,e,t,!0,r)};_s.hydrateRoot=function(e,t,r){if(!O_(e))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=L4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=D4(t,null,e,1,r??null,s,!1,i,o),e[_i]=t.current,Th(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ax(t)};_s.render=function(e,t,r){if(!Ox(t))throw Error(pe(200));return Tx(null,e,t,!1,r)};_s.unmountComponentAtNode=function(e){if(!Ox(e))throw Error(pe(40));return e._reactRootContainer?(Xl(function(){Tx(null,null,e,!1,function(){e._reactRootContainer=null,e[_i]=null})}),!0):!1};_s.unstable_batchedUpdates=S_;_s.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ox(r))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return Tx(e,t,r,!1,n)};_s.version="18.3.1-next-f1338f8080-20240426";function F4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F4)}catch(e){console.error(e)}}F4(),F$.exports=_s;var bc=F$.exports;const GW=It(bc);var U4,IE=bc;U4=IE.createRoot,IE.hydrateRoot;function YW(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~n?n:~i?i:s.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var B4={exports:{}},V4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd=v;function QW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XW=typeof Object.is=="function"?Object.is:QW,ZW=rd.useState,JW=rd.useEffect,e7=rd.useLayoutEffect,t7=rd.useDebugValue;function r7(e,t){var r=t(),n=ZW({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return e7(function(){s.value=r,s.getSnapshot=t,Z0(s)&&i({inst:s})},[e,r,t]),JW(function(){return Z0(s)&&i({inst:s}),e(function(){Z0(s)&&i({inst:s})})},[e]),t7(r),r}function Z0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!XW(e,r)}catch{return!0}}function n7(e,t){return t()}var s7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n7:r7;V4.useSyncExternalStore=rd.useSyncExternalStore!==void 0?rd.useSyncExternalStore:s7;B4.exports=V4;var q4=B4.exports;const a7=vx.useInsertionEffect,i7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o7=i7?v.useLayoutEffect:v.useEffect,l7=a7||o7,z4=e=>{const t=v.useRef([e,(...r)=>t[0](...r)]).current;return l7(()=>{t[0]=e}),t[1]},c7="popstate",T_="pushState",I_="replaceState",u7="hashchange",RE=[c7,T_,I_,u7],d7=e=>{for(const t of RE)addEventListener(t,e);return()=>{for(const t of RE)removeEventListener(t,e)}},W4=(e,t)=>q4.useSyncExternalStore(d7,e,t),$E=()=>location.search,f7=({ssrSearch:e}={})=>W4($E,e!=null?()=>e:$E),ME=()=>location.pathname,h7=({ssrPath:e}={})=>W4(ME,e!=null?()=>e:ME),m7=(e,{replace:t=!1,state:r=null}={})=>history[t?I_:T_](r,"",e),p7=(e={})=>[h7(e),m7],DE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[DE]>"u"){for(const e of[T_,I_]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,DE,{value:!0})}const g7=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",H4=(e="")=>e==="/"?"":e,v7=(e,t)=>e[0]==="~"?e.slice(1):H4(t)+e,y7=(e="",t)=>g7(Zj(H4(e)),Zj(t)),x7=e=>e[0]==="?"?e.slice(1):e,Zj=e=>{try{return decodeURI(e)}catch{return e}},b7=e=>Zj(x7(e)),K4={hook:p7,searchHook:f7,parser:YW,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},G4=v.createContext(K4),Vd=()=>v.useContext(G4),Y4={},Q4=v.createContext(Y4),R_=()=>v.useContext(Q4),Ix=e=>{const[t,r]=e.hook(e);return[y7(e.base,t),z4((n,s)=>e.aroundNav(r,v7(n,e.base),s))]},ss=()=>Ix(Vd()),X4=()=>{const e=Vd();return b7(e.searchHook(e))},Z4=(e,t,r,n)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},w7=({children:e,...t})=>{var d,f,h;const r=Vd(),n=t.hook?K4:r;let s=n;const[i,o=t.ssrSearch??""]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs),t.searchHook=t.searchHook??((h=t.hook)==null?void 0:h.searchHook);let l=v.useRef({}),c=l.current,u=c;for(let g in n){const y=g==="base"?n[g]+(t[g]??""):t[g]??n[g];c===u&&y!==u[g]&&(l.current=u={...u}),u[g]=y,(y!==n[g]||y!==s[g])&&(s=u)}return v.createElement(G4.Provider,{value:s,children:e})},LE=({children:e,component:t},r)=>t?v.createElement(t,{params:r}):typeof e=="function"?e(r):e,j7=e=>{let t=v.useRef(Y4);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,s])=>s!==r[n])?e:r},ot=({path:e,nest:t,match:r,...n})=>{const s=Vd(),[i]=Ix(s),[o,l,c]=r??Z4(s.parser,e,i,t),u=j7({...R_(),...l});if(!o)return null;const d=c?v.createElement(w7,{base:c},LE(n,u)):LE(n,u);return v.createElement(Q4.Provider,{value:u,children:d})},oe=v.forwardRef((e,t)=>{const r=Vd(),[n,s]=Ix(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,transition:g,...y}=e,m=z4(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),s(o,e)))}),x=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&v.isValidElement(u)?v.cloneElement(u,{onClick:m,href:x}):v.createElement("a",{...y,onClick:m,href:x,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),J4=e=>Array.isArray(e)?e.flatMap(t=>J4(t&&t.type===v.Fragment?t.props.children:t)):[e],eD=({children:e,location:t})=>{const r=Vd(),[n]=Ix(r);for(const s of J4(e)){let i=0;if(v.isValidElement(s)&&(i=Z4(r.parser,s.props.path,t||n,s.props.nest))[0])return v.cloneElement(s,{match:i})}return null};var qd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},N7={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},oo,DS,v$,S7=(v$=class{constructor(){Ve(this,oo,N7);Ve(this,DS,!1)}setTimeoutProvider(e){Pe(this,oo,e)}setTimeout(e,t){return B(this,oo).setTimeout(e,t)}clearTimeout(e){B(this,oo).clearTimeout(e)}setInterval(e,t){return B(this,oo).setInterval(e,t)}clearInterval(e){B(this,oo).clearInterval(e)}},oo=new WeakMap,DS=new WeakMap,v$),_l=new S7;function _7(e){setTimeout(e,0)}var Zl=typeof window>"u"||"Deno"in globalThis;function Tn(){}function k7(e,t){return typeof e=="function"?e(t):e}function Jj(e){return typeof e=="number"&&e>=0&&e!==1/0}function tD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Po(e,t){return typeof e=="function"?e(t):e}function Os(e,t){return typeof e=="function"?e(t):e}function FE(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==$_(o,t.options))return!1}else if(!Bh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function UE(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Jl(t.options.mutationKey)!==Jl(i))return!1}else if(!Bh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function $_(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jl)(e)}function Jl(e){return JSON.stringify(e,(t,r)=>e1(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Bh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Bh(e[r],t[r])):!1}var C7=Object.prototype.hasOwnProperty;function rD(e,t){if(e===t)return e;const r=BE(e)&&BE(t);if(!r&&!(e1(e)&&e1(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<s:C7.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const g=rD(f,h);l[d]=g,g===f&&c++}return s===o&&c===s?e:l}function Rv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function BE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function e1(e){if(!VE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!VE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function VE(e){return Object.prototype.toString.call(e)==="[object Object]"}function P7(e){return new Promise(t=>{_l.setTimeout(t,e)})}function t1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?rD(e,t):t}function E7(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function A7(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var M_=Symbol();function nD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===M_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function sD(e,t){return typeof e=="function"?e(...t):!!e}var Tl,lo,Du,y$,O7=(y$=class extends qd{constructor(){super();Ve(this,Tl);Ve(this,lo);Ve(this,Du);Pe(this,Du,t=>{if(!Zl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){B(this,lo)||this.setEventListener(B(this,Du))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,lo))==null||t.call(this),Pe(this,lo,void 0))}setEventListener(t){var r;Pe(this,Du,t),(r=B(this,lo))==null||r.call(this),Pe(this,lo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){B(this,Tl)!==t&&(Pe(this,Tl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof B(this,Tl)=="boolean"?B(this,Tl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Tl=new WeakMap,lo=new WeakMap,Du=new WeakMap,y$),D_=new O7;function r1(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var T7=_7;function I7(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=T7;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var zr=I7(),Lu,co,Fu,x$,R7=(x$=class extends qd{constructor(){super();Ve(this,Lu,!0);Ve(this,co);Ve(this,Fu);Pe(this,Fu,t=>{if(!Zl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){B(this,co)||this.setEventListener(B(this,Fu))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,co))==null||t.call(this),Pe(this,co,void 0))}setEventListener(t){var r;Pe(this,Fu,t),(r=B(this,co))==null||r.call(this),Pe(this,co,t(this.setOnline.bind(this)))}setOnline(t){B(this,Lu)!==t&&(Pe(this,Lu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return B(this,Lu)}},Lu=new WeakMap,co=new WeakMap,Fu=new WeakMap,x$),$v=new R7;function $7(e){return Math.min(1e3*2**e,3e4)}function aD(e){return(e??"online")==="online"?$v.isOnline():!0}var n1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function iD(e){let t=!1,r=0,n;const s=r1(),i=()=>s.status!=="pending",o=m=>{var x;if(!i()){const b=new n1(m);h(b),(x=e.onCancel)==null||x.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>D_.isFocused()&&(e.networkMode==="always"||$v.isOnline())&&e.canRun(),d=()=>aD(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),s.resolve(m))},h=m=>{i()||(n==null||n(),s.reject(m))},g=()=>new Promise(m=>{var x;n=b=>{(i()||u())&&m(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(i())return;let m;const x=r===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{var S;if(i())return;const p=e.retry??(Zl?0:3),w=e.retryDelay??$7,N=typeof w=="function"?w(r,b):w,j=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,b);if(t||!j){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),P7(N).then(()=>u()?void 0:g()).then(()=>{t?h(b):y()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():g().then(y),s)}}var Il,b$,oD=(b$=class{constructor(){Ve(this,Il)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jj(this.gcTime)&&Pe(this,Il,_l.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zl?1/0:5*60*1e3))}clearGcTimeout(){B(this,Il)&&(_l.clearTimeout(B(this,Il)),Pe(this,Il,void 0))}},Il=new WeakMap,b$),Rl,Uu,As,$l,en,Ym,Ml,ta,ai,w$,M7=(w$=class extends oD{constructor(t){super();Ve(this,ta);Ve(this,Rl);Ve(this,Uu);Ve(this,As);Ve(this,$l);Ve(this,en);Ve(this,Ym);Ve(this,Ml);Pe(this,Ml,!1),Pe(this,Ym,t.defaultOptions),this.setOptions(t.options),this.observers=[],Pe(this,$l,t.client),Pe(this,As,B(this,$l).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Pe(this,Rl,zE(this.options)),this.state=t.state??B(this,Rl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,en))==null?void 0:t.promise}setOptions(t){if(this.options={...B(this,Ym),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=zE(this.options);r.data!==void 0&&(this.setState(qE(r.data,r.dataUpdatedAt)),Pe(this,Rl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,As).remove(this)}setData(t,r){const n=t1(this.state.data,t,this.options);return ht(this,ta,ai).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ht(this,ta,ai).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=B(this,en))==null?void 0:n.promise;return(s=B(this,en))==null||s.cancel(t),r?r.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Rl))}isActive(){return this.observers.some(t=>Os(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===M_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Po(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!tD(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,en))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,en))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,As).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(B(this,en)&&(B(this,Ml)?B(this,en).cancel({revert:!0}):B(this,en).cancelRetry()),this.scheduleGc()),B(this,As).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ht(this,ta,ai).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,g,y,m,x,b,p,w;if(this.state.fetchStatus!=="idle"&&((c=B(this,en))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,en))return B(this,en).continueRetry(),B(this,en).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(j=>j.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,s=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Pe(this,Ml,!0),n.signal)})},i=()=>{const N=nD(this.options,r),S=(()=>{const _={client:B(this,$l),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return Pe(this,Ml,!1),this.options.persister?this.options.persister(N,S,this):N(S)},l=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,$l),state:this.state,fetchFn:i};return s(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),Pe(this,Uu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ht(this,ta,ai).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Pe(this,en,iD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof n1&&N.revert&&this.setState({...B(this,Uu),fetchStatus:"idle"}),n.abort()},onFail:(N,j)=>{ht(this,ta,ai).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{ht(this,ta,ai).call(this,{type:"pause"})},onContinue:()=>{ht(this,ta,ai).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await B(this,en).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(g=(h=B(this,As).config).onSuccess)==null||g.call(h,N,this),(m=(y=B(this,As).config).onSettled)==null||m.call(y,N,this.state.error,this),N}catch(N){if(N instanceof n1){if(N.silent)return B(this,en).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw ht(this,ta,ai).call(this,{type:"error",error:N}),(b=(x=B(this,As).config).onError)==null||b.call(x,N,this),(w=(p=B(this,As).config).onSettled)==null||w.call(p,this.state.data,N,this),N}finally{this.scheduleGc()}}},Rl=new WeakMap,Uu=new WeakMap,As=new WeakMap,$l=new WeakMap,en=new WeakMap,Ym=new WeakMap,Ml=new WeakMap,ta=new WeakSet,ai=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...lD(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...qE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Pe(this,Uu,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),zr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),B(this,As).notify({query:this,type:"updated",action:t})})},w$);function lD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function zE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zn,bt,Qm,Pn,Dl,Bu,ui,uo,Xm,Vu,qu,Ll,Fl,fo,zu,Tt,Kf,s1,a1,i1,o1,l1,c1,u1,cD,j$,D7=(j$=class extends qd{constructor(t,r){super();Ve(this,Tt);Ve(this,zn);Ve(this,bt);Ve(this,Qm);Ve(this,Pn);Ve(this,Dl);Ve(this,Bu);Ve(this,ui);Ve(this,uo);Ve(this,Xm);Ve(this,Vu);Ve(this,qu);Ve(this,Ll);Ve(this,Fl);Ve(this,fo);Ve(this,zu,new Set);this.options=r,Pe(this,zn,t),Pe(this,uo,null),Pe(this,ui,r1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,bt).addObserver(this),WE(B(this,bt),this.options)?ht(this,Tt,Kf).call(this):this.updateResult(),ht(this,Tt,o1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d1(B(this,bt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d1(B(this,bt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ht(this,Tt,l1).call(this),ht(this,Tt,c1).call(this),B(this,bt).removeObserver(this)}setOptions(t){const r=this.options,n=B(this,bt);if(this.options=B(this,zn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Os(this.options.enabled,B(this,bt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ht(this,Tt,u1).call(this),B(this,bt).setOptions(this.options),r._defaulted&&!Rv(this.options,r)&&B(this,zn).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,bt),observer:this});const s=this.hasListeners();s&&HE(B(this,bt),n,this.options,r)&&ht(this,Tt,Kf).call(this),this.updateResult(),s&&(B(this,bt)!==n||Os(this.options.enabled,B(this,bt))!==Os(r.enabled,B(this,bt))||Po(this.options.staleTime,B(this,bt))!==Po(r.staleTime,B(this,bt)))&&ht(this,Tt,s1).call(this);const i=ht(this,Tt,a1).call(this);s&&(B(this,bt)!==n||Os(this.options.enabled,B(this,bt))!==Os(r.enabled,B(this,bt))||i!==B(this,fo))&&ht(this,Tt,i1).call(this,i)}getOptimisticResult(t){const r=B(this,zn).getQueryCache().build(B(this,zn),t),n=this.createResult(r,t);return F7(this,n)&&(Pe(this,Pn,n),Pe(this,Bu,this.options),Pe(this,Dl,B(this,bt).state)),n}getCurrentResult(){return B(this,Pn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&B(this,ui).status==="pending"&&B(this,ui).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){B(this,zu).add(t)}getCurrentQuery(){return B(this,bt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=B(this,zn).defaultQueryOptions(t),n=B(this,zn).getQueryCache().build(B(this,zn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ht(this,Tt,Kf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,Pn)))}createResult(t,r){var C;const n=B(this,bt),s=this.options,i=B(this,Pn),o=B(this,Dl),l=B(this,Bu),u=t!==n?t.state:B(this,Qm),{state:d}=t;let f={...d},h=!1,g;if(r._optimisticResults){const E=this.hasListeners(),P=!E&&WE(t,r),R=E&&HE(t,n,r,s);(P||R)&&(f={...f,...lD(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:x}=f;g=f.data;let b=!1;if(r.placeholderData!==void 0&&g===void 0&&x==="pending"){let E;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,b=!0):E=typeof r.placeholderData=="function"?r.placeholderData((C=B(this,qu))==null?void 0:C.state.data,B(this,qu)):r.placeholderData,E!==void 0&&(x="success",g=t1(i==null?void 0:i.data,E,r),h=!0)}if(r.select&&g!==void 0&&!b)if(i&&g===(o==null?void 0:o.data)&&r.select===B(this,Xm))g=B(this,Vu);else try{Pe(this,Xm,r.select),g=r.select(g),g=t1(i==null?void 0:i.data,g,r),Pe(this,Vu,g),Pe(this,uo,null)}catch(E){Pe(this,uo,E)}B(this,uo)&&(y=B(this,uo),g=B(this,Vu),m=Date.now(),x="error");const p=f.fetchStatus==="fetching",w=x==="pending",N=x==="error",j=w&&p,S=g!==void 0,k={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:N,isInitialLoading:j,isLoading:j,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!w,isLoadingError:N&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&S,isStale:L_(t,r),refetch:this.refetch,promise:B(this,ui),isEnabled:Os(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=O=>{k.status==="error"?O.reject(k.error):k.data!==void 0&&O.resolve(k.data)},P=()=>{const O=Pe(this,ui,k.promise=r1());E(O)},R=B(this,ui);switch(R.status){case"pending":t.queryHash===n.queryHash&&E(R);break;case"fulfilled":(k.status==="error"||k.data!==R.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==R.reason)&&P();break}}return k}updateResult(){const t=B(this,Pn),r=this.createResult(B(this,bt),this.options);if(Pe(this,Dl,B(this,bt).state),Pe(this,Bu,this.options),B(this,Dl).data!==void 0&&Pe(this,qu,B(this,bt)),Rv(r,t))return;Pe(this,Pn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!B(this,zu).size)return!0;const o=new Set(i??B(this,zu));return this.options.throwOnError&&o.add("error"),Object.keys(B(this,Pn)).some(l=>{const c=l;return B(this,Pn)[c]!==t[c]&&o.has(c)})};ht(this,Tt,cD).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ht(this,Tt,o1).call(this)}},zn=new WeakMap,bt=new WeakMap,Qm=new WeakMap,Pn=new WeakMap,Dl=new WeakMap,Bu=new WeakMap,ui=new WeakMap,uo=new WeakMap,Xm=new WeakMap,Vu=new WeakMap,qu=new WeakMap,Ll=new WeakMap,Fl=new WeakMap,fo=new WeakMap,zu=new WeakMap,Tt=new WeakSet,Kf=function(t){ht(this,Tt,u1).call(this);let r=B(this,bt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Tn)),r},s1=function(){ht(this,Tt,l1).call(this);const t=Po(this.options.staleTime,B(this,bt));if(Zl||B(this,Pn).isStale||!Jj(t))return;const n=tD(B(this,Pn).dataUpdatedAt,t)+1;Pe(this,Ll,_l.setTimeout(()=>{B(this,Pn).isStale||this.updateResult()},n))},a1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,bt)):this.options.refetchInterval)??!1},i1=function(t){ht(this,Tt,c1).call(this),Pe(this,fo,t),!(Zl||Os(this.options.enabled,B(this,bt))===!1||!Jj(B(this,fo))||B(this,fo)===0)&&Pe(this,Fl,_l.setInterval(()=>{(this.options.refetchIntervalInBackground||D_.isFocused())&&ht(this,Tt,Kf).call(this)},B(this,fo)))},o1=function(){ht(this,Tt,s1).call(this),ht(this,Tt,i1).call(this,ht(this,Tt,a1).call(this))},l1=function(){B(this,Ll)&&(_l.clearTimeout(B(this,Ll)),Pe(this,Ll,void 0))},c1=function(){B(this,Fl)&&(_l.clearInterval(B(this,Fl)),Pe(this,Fl,void 0))},u1=function(){const t=B(this,zn).getQueryCache().build(B(this,zn),this.options);if(t===B(this,bt))return;const r=B(this,bt);Pe(this,bt,t),Pe(this,Qm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},cD=function(t){zr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(B(this,Pn))}),B(this,zn).getQueryCache().notify({query:B(this,bt),type:"observerResultsUpdated"})})},j$);function L7(e,t){return Os(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function WE(e,t){return L7(e,t)||e.state.data!==void 0&&d1(e,t,t.refetchOnMount)}function d1(e,t,r){if(Os(t.enabled,e)!==!1&&Po(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&L_(e,t)}return!1}function HE(e,t,r,n){return(e!==t||Os(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&L_(e,r)}function L_(e,t){return Os(t.enabled,e)!==!1&&e.isStaleByTime(Po(t.staleTime,e))}function F7(e,t){return!Rv(e.getCurrentResult(),t)}function KE(e){return{onFetch:(t,r)=>{var d,f,h,g,y;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=nD(t.options,t.fetchOptions),p=async(w,N,j)=>{if(m)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};return x(P),P})(),k=await b(_),{maxPages:C}=t.options,E=j?A7:E7;return{pages:E(w.pages,k,C),pageParams:E(w.pageParams,N,C)}};if(s&&i.length){const w=s==="backward",N=w?U7:GE,j={pages:i,pageParams:o},S=N(n,j);l=await p(j,S,w)}else{const w=e??i.length;do{const N=c===0?o[0]??n.initialPageParam:GE(n,l);if(c>0&&N==null)break;l=await p(l,N),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function GE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function U7(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Zm,Aa,En,Ul,Oa,Yi,N$,B7=(N$=class extends oD{constructor(t){super();Ve(this,Oa);Ve(this,Zm);Ve(this,Aa);Ve(this,En);Ve(this,Ul);Pe(this,Zm,t.client),this.mutationId=t.mutationId,Pe(this,En,t.mutationCache),Pe(this,Aa,[]),this.state=t.state||uD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Aa).includes(t)||(B(this,Aa).push(t),this.clearGcTimeout(),B(this,En).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Pe(this,Aa,B(this,Aa).filter(r=>r!==t)),this.scheduleGc(),B(this,En).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Aa).length||(this.state.status==="pending"?this.scheduleGc():B(this,En).remove(this))}continue(){var t;return((t=B(this,Ul))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,g,y,m,x,b,p,w,N,j,S,_,k,C;const r=()=>{ht(this,Oa,Yi).call(this,{type:"continue"})},n={client:B(this,Zm),meta:this.options.meta,mutationKey:this.options.mutationKey};Pe(this,Ul,iD({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{ht(this,Oa,Yi).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{ht(this,Oa,Yi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,En).canRun(this)}));const s=this.state.status==="pending",i=!B(this,Ul).canStart();try{if(s)r();else{ht(this,Oa,Yi).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=B(this,En).config).onMutate)==null?void 0:l.call(o,t,this,n));const P=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));P!==this.state.context&&ht(this,Oa,Yi).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const E=await B(this,Ul).start();return await((f=(d=B(this,En).config).onSuccess)==null?void 0:f.call(d,E,t,this.state.context,this,n)),await((g=(h=this.options).onSuccess)==null?void 0:g.call(h,E,t,this.state.context,n)),await((m=(y=B(this,En).config).onSettled)==null?void 0:m.call(y,E,null,this.state.variables,this.state.context,this,n)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,E,null,t,this.state.context,n)),ht(this,Oa,Yi).call(this,{type:"success",data:E}),E}catch(E){try{throw await((w=(p=B(this,En).config).onError)==null?void 0:w.call(p,E,t,this.state.context,this,n)),await((j=(N=this.options).onError)==null?void 0:j.call(N,E,t,this.state.context,n)),await((_=(S=B(this,En).config).onSettled)==null?void 0:_.call(S,void 0,E,this.state.variables,this.state.context,this,n)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,E,t,this.state.context,n)),E}finally{ht(this,Oa,Yi).call(this,{type:"error",error:E})}}finally{B(this,En).runNext(this)}}},Zm=new WeakMap,Aa=new WeakMap,En=new WeakMap,Ul=new WeakMap,Oa=new WeakSet,Yi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zr.batch(()=>{B(this,Aa).forEach(n=>{n.onMutationUpdate(t)}),B(this,En).notify({mutation:this,type:"updated",action:t})})},N$);function uD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var di,ra,Jm,S$,V7=(S$=class extends qd{constructor(t={}){super();Ve(this,di);Ve(this,ra);Ve(this,Jm);this.config=t,Pe(this,di,new Set),Pe(this,ra,new Map),Pe(this,Jm,0)}build(t,r,n){const s=new B7({client:t,mutationCache:this,mutationId:++Wp(this,Jm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){B(this,di).add(t);const r=ug(t);if(typeof r=="string"){const n=B(this,ra).get(r);n?n.push(t):B(this,ra).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,di).delete(t)){const r=ug(t);if(typeof r=="string"){const n=B(this,ra).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&B(this,ra).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ug(t);if(typeof r=="string"){const n=B(this,ra).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=ug(t);if(typeof r=="string"){const s=(n=B(this,ra).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zr.batch(()=>{B(this,di).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,di).clear(),B(this,ra).clear()})}getAll(){return Array.from(B(this,di))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>UE(r,n))}findAll(t={}){return this.getAll().filter(r=>UE(t,r))}notify(t){zr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return zr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Tn))))}},di=new WeakMap,ra=new WeakMap,Jm=new WeakMap,S$);function ug(e){var t;return(t=e.options.scope)==null?void 0:t.id}var fi,ho,Wn,hi,Ni,ev,f1,_$,q7=(_$=class extends qd{constructor(r,n){super();Ve(this,Ni);Ve(this,fi);Ve(this,ho);Ve(this,Wn);Ve(this,hi);Pe(this,fi,r),this.setOptions(n),this.bindMethods(),ht(this,Ni,ev).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=B(this,fi).defaultMutationOptions(r),Rv(this.options,n)||B(this,fi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,Wn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Jl(n.mutationKey)!==Jl(this.options.mutationKey)?this.reset():((s=B(this,Wn))==null?void 0:s.state.status)==="pending"&&B(this,Wn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=B(this,Wn))==null||r.removeObserver(this)}onMutationUpdate(r){ht(this,Ni,ev).call(this),ht(this,Ni,f1).call(this,r)}getCurrentResult(){return B(this,ho)}reset(){var r;(r=B(this,Wn))==null||r.removeObserver(this),Pe(this,Wn,void 0),ht(this,Ni,ev).call(this),ht(this,Ni,f1).call(this)}mutate(r,n){var s;return Pe(this,hi,n),(s=B(this,Wn))==null||s.removeObserver(this),Pe(this,Wn,B(this,fi).getMutationCache().build(B(this,fi),this.options)),B(this,Wn).addObserver(this),B(this,Wn).execute(r)}},fi=new WeakMap,ho=new WeakMap,Wn=new WeakMap,hi=new WeakMap,Ni=new WeakSet,ev=function(){var n;const r=((n=B(this,Wn))==null?void 0:n.state)??uD();Pe(this,ho,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},f1=function(r){zr.batch(()=>{var n,s,i,o,l,c,u,d;if(B(this,hi)&&this.hasListeners()){const f=B(this,ho).variables,h=B(this,ho).context,g={client:B(this,fi),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=B(this,hi)).onSuccess)==null||s.call(n,r.data,f,h,g),(o=(i=B(this,hi)).onSettled)==null||o.call(i,r.data,null,f,h,g)):(r==null?void 0:r.type)==="error"&&((c=(l=B(this,hi)).onError)==null||c.call(l,r.error,f,h,g),(d=(u=B(this,hi)).onSettled)==null||d.call(u,void 0,r.error,f,h,g))}this.listeners.forEach(f=>{f(B(this,ho))})})},_$),Ta,k$,z7=(k$=class extends qd{constructor(t={}){super();Ve(this,Ta);this.config=t,Pe(this,Ta,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??$_(s,r);let o=this.get(i);return o||(o=new M7({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){B(this,Ta).has(t.queryHash)||(B(this,Ta).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=B(this,Ta).get(t.queryHash);r&&(t.destroy(),r===t&&B(this,Ta).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Ta).get(t)}getAll(){return[...B(this,Ta).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>FE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>FE(t,n)):r}notify(t){zr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){zr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ta=new WeakMap,k$),fr,mo,po,Wu,Hu,go,Ku,Gu,C$,W7=(C$=class{constructor(e={}){Ve(this,fr);Ve(this,mo);Ve(this,po);Ve(this,Wu);Ve(this,Hu);Ve(this,go);Ve(this,Ku);Ve(this,Gu);Pe(this,fr,e.queryCache||new z7),Pe(this,mo,e.mutationCache||new V7),Pe(this,po,e.defaultOptions||{}),Pe(this,Wu,new Map),Pe(this,Hu,new Map),Pe(this,go,0)}mount(){Wp(this,go)._++,B(this,go)===1&&(Pe(this,Ku,D_.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,fr).onFocus())})),Pe(this,Gu,$v.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,fr).onOnline())})))}unmount(){var e,t;Wp(this,go)._--,B(this,go)===0&&((e=B(this,Ku))==null||e.call(this),Pe(this,Ku,void 0),(t=B(this,Gu))==null||t.call(this),Pe(this,Gu,void 0))}isFetching(e){return B(this,fr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,mo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,fr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=B(this,fr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Po(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return B(this,fr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=B(this,fr).get(n.queryHash),i=s==null?void 0:s.state.data,o=k7(t,i);if(o!==void 0)return B(this,fr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return zr.batch(()=>B(this,fr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,fr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=B(this,fr);zr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=B(this,fr);return zr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=zr.batch(()=>B(this,fr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Tn).catch(Tn)}invalidateQueries(e,t={}){return zr.batch(()=>(B(this,fr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=zr.batch(()=>B(this,fr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Tn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=B(this,fr).build(this,t);return r.isStaleByTime(Po(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tn).catch(Tn)}fetchInfiniteQuery(e){return e.behavior=KE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tn).catch(Tn)}ensureInfiniteQueryData(e){return e.behavior=KE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $v.isOnline()?B(this,mo).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,fr)}getMutationCache(){return B(this,mo)}getDefaultOptions(){return B(this,po)}setDefaultOptions(e){Pe(this,po,e)}setQueryDefaults(e,t){B(this,Wu).set(Jl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Wu).values()],r={};return t.forEach(n=>{Bh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){B(this,Hu).set(Jl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Hu).values()],r={};return t.forEach(n=>{Bh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,po).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===M_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,po).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,fr).clear(),B(this,mo).clear()}},fr=new WeakMap,mo=new WeakMap,po=new WeakMap,Wu=new WeakMap,Hu=new WeakMap,go=new WeakMap,Ku=new WeakMap,Gu=new WeakMap,C$),dD=v.createContext(void 0),fD=e=>{const t=v.useContext(dD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},H7=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(dD.Provider,{value:e,children:t})),hD=v.createContext(!1),K7=()=>v.useContext(hD);hD.Provider;function G7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Y7=v.createContext(G7()),Q7=()=>v.useContext(Y7),X7=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Z7=e=>{v.useEffect(()=>{e.clearReset()},[e])},J7=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||sD(r,[e.error,n])),eH=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},tH=(e,t)=>e.isLoading&&e.isFetching&&!t,rH=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,YE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function nH(e,t,r){var f,h,g,y,m;const n=K7(),s=Q7(),i=fD(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",eH(o),X7(o,s),Z7(s);const l=!i.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(x=>{const b=d?c.subscribe(zr.batchCalls(x)):Tn;return c.updateResult(),b},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o)},[o,c]),rH(o,u))throw YE(o,c,s);if(J7({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||y.call(g,o,u),o.experimental_prefetchInRender&&!Zl&&tH(u,n)){const x=l?YE(o,c,s):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;x==null||x.catch(Tn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ve(e,t){return nH(e,D7)}function Te(e,t){const r=fD(),[n]=v.useState(()=>new q7(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const s=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(zr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(Tn)},[n]);if(s.error&&sD(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function mD(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Ae(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await mD(n),n}const pD=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await mD(r),await r.json())},Ne=new W7({defaultOptions:{queries:{queryFn:pD({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),sH=1,aH=1e6;let J0=0;function iH(){return J0=(J0+1)%Number.MAX_SAFE_INTEGER,J0.toString()}const ew=new Map,QE=e=>{if(ew.has(e))return;const t=setTimeout(()=>{ew.delete(e),dh({type:"REMOVE_TOAST",toastId:e})},aH);ew.set(e,t)},oH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,sH)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?QE(r):e.toasts.forEach(n=>{QE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},tv=[];let rv={toasts:[]};function dh(e){rv=oH(rv,e),tv.forEach(t=>{t(rv)})}function lH({...e}){const t=iH(),r=s=>dh({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>dh({type:"DISMISS_TOAST",toastId:t});return dh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function At(){const[e,t]=v.useState(rv);return v.useEffect(()=>(tv.push(t),()=>{const r=tv.indexOf(t);r>-1&&tv.splice(r,1)}),[e]),{...e,toast:lH,dismiss:r=>dh({type:"DISMISS_TOAST",toastId:r})}}function me(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function XE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Un(...e){return t=>{let r=!1;const n=e.map(s=>{const i=XE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():XE(e[s],null)}}}}function rt(...e){return v.useCallback(Un(...e),e)}function cH(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function yn(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:g,...y}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=v.useMemo(()=>y,Object.values(y));return a.jsx(m.Provider,{value:x,children:g})};u.displayName=i+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=v.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,uH(s,...t)]}function uH(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ZE(e){const t=dH(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(hH);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function dH(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=pH(s),l=mH(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fH=Symbol("radix.slottable");function hH(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fH}function mH(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function pH(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ap(e){const t=e+"CollectionProvider",[r,n]=yn(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:b}=m,p=M.useRef(null),w=M.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:p,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=ZE(l),u=M.forwardRef((m,x)=>{const{scope:b,children:p}=m,w=i(l,b),N=rt(x,w.collectionRef);return a.jsx(c,{ref:N,children:p})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=ZE(d),g=M.forwardRef((m,x)=>{const{scope:b,children:p,...w}=m,N=M.useRef(null),j=rt(x,N),S=i(d,b);return M.useEffect(()=>(S.itemMap.set(N,{ref:N,...w}),()=>void S.itemMap.delete(N))),a.jsx(h,{[f]:"",ref:j,children:p})});g.displayName=d;function y(m){const x=i(e+"CollectionConsumer",m);return M.useCallback(()=>{const p=x.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,_)=>w.indexOf(S.ref.current)-w.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},y,n]}function gH(e){const t=vH(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(xH);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function vH(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=wH(s),l=bH(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yH=Symbol("radix.slottable");function xH(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yH}function bH(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function wH(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=jH.reduce((e,t)=>{const r=gH(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function F_(e,t){e&&bc.flushSync(()=>e.dispatchEvent(t))}function vr(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function NH(e,t=globalThis==null?void 0:globalThis.document){const r=vr(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var SH="DismissableLayer",h1="dismissableLayer.update",_H="dismissableLayer.pointerDownOutside",kH="dismissableLayer.focusOutside",JE,gD=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(gD),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=v.useState({}),y=rt(t,_=>f(_)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(x),p=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=p>=b,j=PH(_=>{const k=_.target,C=[...u.branches].some(E=>E.contains(k));!N||C||(s==null||s(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),S=EH(_=>{const k=_.target;[...u.branches].some(E=>E.contains(k))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return NH(_=>{p===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(JE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),eA(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=JE)}},[d,h,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),eA())},[d,u]),v.useEffect(()=>{const _=()=>g({});return document.addEventListener(h1,_),()=>document.removeEventListener(h1,_)},[]),a.jsx(Oe.div,{...c,ref:y,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,S.onFocusCapture),onBlurCapture:me(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,j.onPointerDownCapture)})});wc.displayName=SH;var CH="DismissableLayerBranch",vD=v.forwardRef((e,t)=>{const r=v.useContext(gD),n=v.useRef(null),s=rt(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Oe.div,{...e,ref:s})});vD.displayName=CH;function PH(e,t=globalThis==null?void 0:globalThis.document){const r=vr(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){yD(_H,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function EH(e,t=globalThis==null?void 0:globalThis.document){const r=vr(e),n=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!n.current&&yD(kH,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eA(){const e=new CustomEvent(h1);document.dispatchEvent(e)}function yD(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?F_(s,i):s.dispatchEvent(i)}var AH=wc,OH=vD,yr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},TH="Portal",zd=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=v.useState(!1);yr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?GW.createPortal(a.jsx(Oe.div,{...n,ref:t}),o):null});zd.displayName=TH;function IH(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Xr=e=>{const{present:t,children:r}=e,n=RH(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=rt(n.ref,$H(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};Xr.displayName="Presence";function RH(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=IH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=dg(n.current);i.current=l==="mounted"?u:"none"},[l]),yr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,g=dg(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),yr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=dg(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=g=>{g.target===t&&(i.current=dg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function dg(e){return(e==null?void 0:e.animationName)||"none"}function $H(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var MH=vx[" useInsertionEffect ".trim().toString()]||yr;function rs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=DH({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=v.useCallback(d=>{var f;if(l){const h=LH(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function DH({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return MH(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function LH(e){return typeof e=="function"}var xD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FH="VisuallyHidden",Rx=v.forwardRef((e,t)=>a.jsx(Oe.span,{...e,ref:t,style:{...xD,...e.style}}));Rx.displayName=FH;var UH=Rx,U_="ToastProvider",[B_,BH,VH]=ap("Toast"),[bD]=yn("Toast",[VH]),[qH,$x]=bD(U_),wD=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${U_}\`. Expected non-empty \`string\`.`),a.jsx(B_.Provider,{scope:t,children:a.jsx(qH,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(g=>g+1),[]),onToastRemove:v.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};wD.displayName=U_;var jD="ToastViewport",zH=["F8"],m1="toast.viewportPause",p1="toast.viewportResume",ND=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=zH,label:s="Notifications ({hotkey})",...i}=e,o=$x(jD,r),l=BH(r),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=rt(t,f,o.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;v.useEffect(()=>{const x=b=>{var w;n.length!==0&&n.every(N=>b[N]||b.code===N)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),v.useEffect(()=>{const x=c.current,b=f.current;if(y&&x&&b){const p=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(m1);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(p1);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!x.contains(S.relatedTarget)&&w()},j=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",p),x.addEventListener("focusout",N),x.addEventListener("pointermove",p),x.addEventListener("pointerleave",j),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",p),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",p),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[y,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:x})=>{const p=l().map(w=>{const N=w.ref.current,j=[N,...nK(N)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?p.reverse():p).flat()},[l]);return v.useEffect(()=>{const x=f.current;if(x){const b=p=>{var j,S,_;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const k=document.activeElement,C=p.shiftKey;if(p.target===x&&C){(j=u.current)==null||j.focus();return}const R=m({tabbingDirection:C?"backwards":"forwards"}),O=R.findIndex(I=>I===k);tw(R.slice(O+1))?p.preventDefault():C?(S=u.current)==null||S.focus():(_=d.current)==null||_.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,m]),a.jsxs(OH,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(g1,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});tw(x)}}),a.jsx(B_.Slot,{scope:r,children:a.jsx(Oe.ol,{tabIndex:-1,...i,ref:h})}),y&&a.jsx(g1,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});tw(x)}})]})});ND.displayName=jD;var SD="ToastFocusProxy",g1=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=$x(SD,r);return a.jsx(Rx,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});g1.displayName=SD;var ip="Toast",WH="toast.swipeStart",HH="toast.swipeMove",KH="toast.swipeCancel",GH="toast.swipeEnd",_D=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=rs({prop:n,defaultProp:s??!0,onChange:i,caller:ip});return a.jsx(Xr,{present:r||l,children:a.jsx(XH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:vr(e.onPause),onResume:vr(e.onResume),onSwipeStart:me(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:me(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});_D.displayName=ip;var[YH,QH]=bD(ip,{onClose(){}}),XH=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...y}=e,m=$x(ip,r),[x,b]=v.useState(null),p=rt(t,I=>b(I)),w=v.useRef(null),N=v.useRef(null),j=s||m.duration,S=v.useRef(0),_=v.useRef(j),k=v.useRef(0),{onToastAdd:C,onToastRemove:E}=m,P=vr(()=>{var T;(x==null?void 0:x.contains(document.activeElement))&&((T=m.viewport)==null||T.focus()),o()}),R=v.useCallback(I=>{!I||I===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(P,I))},[P]);v.useEffect(()=>{const I=m.viewport;if(I){const T=()=>{R(_.current),u==null||u()},D=()=>{const q=new Date().getTime()-S.current;_.current=_.current-q,window.clearTimeout(k.current),c==null||c()};return I.addEventListener(m1,D),I.addEventListener(p1,T),()=>{I.removeEventListener(m1,D),I.removeEventListener(p1,T)}}},[m.viewport,j,c,u,R]),v.useEffect(()=>{i&&!m.isClosePausedRef.current&&R(j)},[i,j,m.isClosePausedRef,R]),v.useEffect(()=>(C(),()=>E()),[C,E]);const O=v.useMemo(()=>x?TD(x):null,[x]);return m.viewport?a.jsxs(a.Fragment,{children:[O&&a.jsx(ZH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:O}),a.jsx(YH,{scope:r,onClose:P,children:bc.createPortal(a.jsx(B_.ItemSlot,{scope:r,children:a.jsx(AH,{asChild:!0,onEscapeKeyDown:me(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||P(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Oe.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:me(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:me(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:me(e.onPointerMove,I=>{if(!w.current)return;const T=I.clientX-w.current.x,D=I.clientY-w.current.y,q=!!N.current,A=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,H=A?$(0,T):0,Y=A?0:$(0,D),L=I.pointerType==="touch"?10:2,K={x:H,y:Y},re={originalEvent:I,delta:K};q?(N.current=K,fg(HH,f,re,{discrete:!1})):tA(K,m.swipeDirection,L)?(N.current=K,fg(WH,d,re,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(T)>L||Math.abs(D)>L)&&(w.current=null)}),onPointerUp:me(e.onPointerUp,I=>{const T=N.current,D=I.target;if(D.hasPointerCapture(I.pointerId)&&D.releasePointerCapture(I.pointerId),N.current=null,w.current=null,T){const q=I.currentTarget,A={originalEvent:I,delta:T};tA(T,m.swipeDirection,m.swipeThreshold)?fg(GH,g,A,{discrete:!0}):fg(KH,h,A,{discrete:!0}),q.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),ZH=e=>{const{__scopeToast:t,children:r,...n}=e,s=$x(ip,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return tK(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(zd,{asChild:!0,children:a.jsx(Rx,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},JH="ToastTitle",kD=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Oe.div,{...n,ref:t})});kD.displayName=JH;var eK="ToastDescription",CD=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Oe.div,{...n,ref:t})});CD.displayName=eK;var PD="ToastAction",ED=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(OD,{altText:r,asChild:!0,children:a.jsx(V_,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${PD}\`. Expected non-empty \`string\`.`),null)});ED.displayName=PD;var AD="ToastClose",V_=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=QH(AD,r);return a.jsx(OD,{asChild:!0,children:a.jsx(Oe.button,{type:"button",...n,ref:t,onClick:me(e.onClick,s.onClose)})})});V_.displayName=AD;var OD=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function TD(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),rK(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...TD(n))}}),t}function fg(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?F_(s,i):s.dispatchEvent(i)}var tA=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function tK(e=()=>{}){const t=vr(e);yr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function rK(e){return e.nodeType===e.ELEMENT_NODE}function nK(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var sK=wD,ID=ND,RD=_D,$D=kD,MD=CD,DD=ED,LD=V_;function FD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=FD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ft(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=FD(e))&&(n&&(n+=" "),n+=t);return n}const rA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nA=ft,op=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return nA(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=rA(d)||rA(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(y=>{let[m,x]=y;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...u,f,h]:u},[]);return nA(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UD=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...iK,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:UD("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const r=v.forwardRef(({className:n,...s},i)=>v.createElement(oK,{ref:i,iconNode:t,className:UD(`lucide-${aK(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=de("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=de("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=de("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=de("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=de("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=de("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=de("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=de("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=de("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=de("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=de("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=de("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=de("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=de("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=de("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=de("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=de("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=de("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=de("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=de("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=de("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=de("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=de("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=de("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=de("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=de("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=de("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=de("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=de("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=de("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=de("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=de("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=de("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=de("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=de("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=de("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=de("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=de("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=de("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=de("Spade",[["path",{d:"M5 9c-1.5 1.5-3 3.2-3 5.5A5.5 5.5 0 0 0 7.5 20c1.8 0 3-.5 4.5-2 1.5 1.5 2.7 2 4.5 2a5.5 5.5 0 0 0 5.5-5.5c0-2.3-1.5-4-3-5.5l-7-7-7 7Z",key:"40bo9n"}],["path",{d:"M12 18v4",key:"jadmvz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=de("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=de("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=de("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=de("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=de("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=de("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),RK=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},$K=(e,t)=>({classGroupId:e,validator:t}),eL=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Uv="-",dA=[],MK="arbitrary..",DK=e=>{const t=FK(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return LK(o);const l=o.split(Uv),c=l[0]===""&&l.length>1?1:0;return tL(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],u=r[o];return c?u?RK(u,c):c:u||dA}return r[o]||dA}}},tL=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],i=r.nextPart.get(s);if(i){const u=tL(e,t+1,i);if(u)return u}const o=r.validators;if(o===null)return;const l=t===0?e.join(Uv):e.slice(t).join(Uv),c=o.length;for(let u=0;u<c;u++){const d=o[u];if(d.validator(l))return d.classGroupId}},LK=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?MK+n:void 0})(),FK=e=>{const{theme:t,classGroups:r}=e;return UK(r,t)},UK=(e,t)=>{const r=eL();for(const n in e){const s=e[n];G_(s,r,n,t)}return r},G_=(e,t,r,n)=>{const s=e.length;for(let i=0;i<s;i++){const o=e[i];BK(o,t,r,n)}},BK=(e,t,r,n)=>{if(typeof e=="string"){VK(e,t,r);return}if(typeof e=="function"){qK(e,t,r,n);return}zK(e,t,r,n)},VK=(e,t,r)=>{const n=e===""?t:rL(t,e);n.classGroupId=r},qK=(e,t,r,n)=>{if(WK(e)){G_(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push($K(r,e))},zK=(e,t,r,n)=>{const s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[l,c]=s[o];G_(c,rL(t,l),r,n)}},rL=(e,t)=>{let r=e;const n=t.split(Uv),s=n.length;for(let i=0;i<s;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=eL(),r.nextPart.set(o,l)),r=l}return r},WK=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,HK=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const s=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return s(i,o),o},set(i,o){i in r?r[i]=o:s(i,o)}}},b1="!",fA=":",KK=[],hA=(e,t,r,n,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:s}),GK=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const i=[];let o=0,l=0,c=0,u;const d=s.length;for(let m=0;m<d;m++){const x=s[m];if(o===0&&l===0){if(x===fA){i.push(s.slice(c,m)),c=m+1;continue}if(x==="/"){u=m;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const f=i.length===0?s:s.slice(c);let h=f,g=!1;f.endsWith(b1)?(h=f.slice(0,-1),g=!0):f.startsWith(b1)&&(h=f.slice(1),g=!0);const y=u&&u>c?u-c:void 0;return hA(i,g,h,y)};if(t){const s=t+fA,i=n;n=o=>o.startsWith(s)?i(o.slice(s.length)):hA(KK,!1,o,void 0,!0)}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},YK=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let s=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",c=t.has(o);l||c?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(o)):s.push(o)}return s.length>0&&(s.sort(),n.push(...s)),n}},QK=e=>({cache:HK(e.cacheSize),parseClassName:GK(e),sortModifiers:YK(e),...DK(e)}),XK=/\s+/,ZK=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],l=e.trim().split(XK);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let x=!!m,b=n(x?y.substring(0,m):y);if(!b){if(!x){c=d+(c.length>0?" "+c:c);continue}if(b=n(y),!b){c=d+(c.length>0?" "+c:c);continue}x=!1}const p=h.length===0?"":h.length===1?h[0]:i(h).join(":"),w=g?p+b1:p,N=w+b;if(o.indexOf(N)>-1)continue;o.push(N);const j=s(b,x);for(let S=0;S<j.length;++S){const _=j[S];o.push(w+_)}c=d+(c.length>0?" "+c:c)}return c},JK=(...e)=>{let t=0,r,n,s="";for(;t<e.length;)(r=e[t++])&&(n=nL(r))&&(s&&(s+=" "),s+=n);return s},nL=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=nL(e[n]))&&(r&&(r+=" "),r+=t);return r},eG=(e,...t)=>{let r,n,s,i;const o=c=>{const u=t.reduce((d,f)=>f(d),e());return r=QK(u),n=r.cache.get,s=r.cache.set,i=l,l(c)},l=c=>{const u=n(c);if(u)return u;const d=ZK(c,r);return s(c,d),d};return i=o,(...c)=>i(JK(...c))},tG=[],Lr=e=>{const t=r=>r[e]||tG;return t.isThemeGetter=!0,t},sL=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,aL=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rG=/^\d+\/\d+$/,nG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rc=e=>rG.test(e),mt=e=>!!e&&!Number.isNaN(Number(e)),Ki=e=>!!e&&Number.isInteger(Number(e)),rw=e=>e.endsWith("%")&&mt(e.slice(0,-1)),ri=e=>nG.test(e),lG=()=>!0,cG=e=>sG.test(e)&&!aG.test(e),iL=()=>!1,uG=e=>iG.test(e),dG=e=>oG.test(e),fG=e=>!$e(e)&&!Me(e),hG=e=>Wd(e,cL,iL),$e=e=>sL.test(e),sl=e=>Wd(e,uL,cG),nw=e=>Wd(e,yG,mt),mA=e=>Wd(e,oL,iL),mG=e=>Wd(e,lL,dG),hg=e=>Wd(e,dL,uG),Me=e=>aL.test(e),kf=e=>Hd(e,uL),pG=e=>Hd(e,xG),pA=e=>Hd(e,oL),gG=e=>Hd(e,cL),vG=e=>Hd(e,lL),mg=e=>Hd(e,dL,!0),Wd=(e,t,r)=>{const n=sL.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Hd=(e,t,r=!1)=>{const n=aL.exec(e);return n?n[1]?t(n[1]):r:!1},oL=e=>e==="position"||e==="percentage",lL=e=>e==="image"||e==="url",cL=e=>e==="length"||e==="size"||e==="bg-size",uL=e=>e==="length",yG=e=>e==="number",xG=e=>e==="family-name",dL=e=>e==="shadow",bG=()=>{const e=Lr("color"),t=Lr("font"),r=Lr("text"),n=Lr("font-weight"),s=Lr("tracking"),i=Lr("leading"),o=Lr("breakpoint"),l=Lr("container"),c=Lr("spacing"),u=Lr("radius"),d=Lr("shadow"),f=Lr("inset-shadow"),h=Lr("text-shadow"),g=Lr("drop-shadow"),y=Lr("blur"),m=Lr("perspective"),x=Lr("aspect"),b=Lr("ease"),p=Lr("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...N(),Me,$e],S=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],k=()=>[Me,$e,c],C=()=>[Rc,"full","auto",...k()],E=()=>[Ki,"none","subgrid",Me,$e],P=()=>["auto",{span:["full",Ki,Me,$e]},Ki,Me,$e],R=()=>[Ki,"auto",Me,$e],O=()=>["auto","min","max","fr",Me,$e],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],T=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...k()],q=()=>[Rc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],A=()=>[e,Me,$e],$=()=>[...N(),pA,mA,{position:[Me,$e]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",gG,hG,{size:[Me,$e]}],L=()=>[rw,kf,sl],K=()=>["","none","full",u,Me,$e],re=()=>["",mt,kf,sl],ae=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[mt,rw,pA,mA],se=()=>["","none",y,Me,$e],Q=()=>["none",mt,Me,$e],X=()=>["none",mt,Me,$e],ie=()=>[mt,Me,$e],W=()=>[Rc,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ri],breakpoint:[ri],color:[lG],container:[ri],"drop-shadow":[ri],ease:["in","out","in-out"],font:[fG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ri],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ri],shadow:[ri],spacing:["px",mt],text:[ri],"text-shadow":[ri],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Rc,$e,Me,x]}],container:["container"],columns:[{columns:[mt,$e,Me,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Ki,"auto",Me,$e]}],basis:[{basis:[Rc,"full","auto",l,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mt,Rc,"auto","initial","none",$e]}],grow:[{grow:["",mt,Me,$e]}],shrink:[{shrink:["",mt,Me,$e]}],order:[{order:[Ki,"first","last","none",Me,$e]}],"grid-cols":[{"grid-cols":E()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":E()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[...T(),"normal"]}],"justify-self":[{"justify-self":["auto",...T()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[...T(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...T(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[...T(),"baseline"]}],"place-self":[{"place-self":["auto",...T()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,kf,sl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Me,nw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rw,$e]}],"font-family":[{font:[pG,$e,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Me,$e]}],"line-clamp":[{"line-clamp":[mt,"none",Me,nw]}],leading:[{leading:[i,...k()]}],"list-image":[{"list-image":["none",Me,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[mt,"from-font","auto",Me,sl]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[mt,"auto",Me,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ki,Me,$e],radial:["",Me,$e],conic:[Ki,Me,$e]},vG,mG]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mt,Me,$e]}],"outline-w":[{outline:["",mt,kf,sl]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",d,mg,hg]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",f,mg,hg]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[mt,sl]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",h,mg,hg]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[mt,Me,$e]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[Me,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,$e]}],filter:[{filter:["","none",Me,$e]}],blur:[{blur:se()}],brightness:[{brightness:[mt,Me,$e]}],contrast:[{contrast:[mt,Me,$e]}],"drop-shadow":[{"drop-shadow":["","none",g,mg,hg]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",mt,Me,$e]}],"hue-rotate":[{"hue-rotate":[mt,Me,$e]}],invert:[{invert:["",mt,Me,$e]}],saturate:[{saturate:[mt,Me,$e]}],sepia:[{sepia:["",mt,Me,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,$e]}],"backdrop-blur":[{"backdrop-blur":se()}],"backdrop-brightness":[{"backdrop-brightness":[mt,Me,$e]}],"backdrop-contrast":[{"backdrop-contrast":[mt,Me,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mt,Me,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt,Me,$e]}],"backdrop-invert":[{"backdrop-invert":["",mt,Me,$e]}],"backdrop-opacity":[{"backdrop-opacity":[mt,Me,$e]}],"backdrop-saturate":[{"backdrop-saturate":[mt,Me,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",mt,Me,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mt,"initial",Me,$e]}],ease:[{ease:["linear","initial",b,Me,$e]}],delay:[{delay:[mt,Me,$e]}],animate:[{animate:["none",p,Me,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Me,$e]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:Q()}],"rotate-x":[{"rotate-x":Q()}],"rotate-y":[{"rotate-y":Q()}],"rotate-z":[{"rotate-z":Q()}],scale:[{scale:X()}],"scale-x":[{"scale-x":X()}],"scale-y":[{"scale-y":X()}],"scale-z":[{"scale-z":X()}],"scale-3d":["scale-3d"],skew:[{skew:ie()}],"skew-x":[{"skew-x":ie()}],"skew-y":[{"skew-y":ie()}],transform:[{transform:[Me,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,$e]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[mt,kf,sl,nw]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wG=eG(bG);function fe(...e){return wG(ft(e))}const jG=sK,fL=v.forwardRef(({className:e,...t},r)=>a.jsx(ID,{ref:r,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));fL.displayName=ID.displayName;const NG=op("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hL=v.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(RD,{ref:n,className:fe(NG({variant:t}),e),...r}));hL.displayName=RD.displayName;const SG=v.forwardRef(({className:e,...t},r)=>a.jsx(DD,{ref:r,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));SG.displayName=DD.displayName;const mL=v.forwardRef(({className:e,...t},r)=>a.jsx(LD,{ref:r,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(sd,{className:"h-4 w-4"})}));mL.displayName=LD.displayName;const pL=v.forwardRef(({className:e,...t},r)=>a.jsx($D,{ref:r,className:fe("text-sm font-semibold",e),...t}));pL.displayName=$D.displayName;const gL=v.forwardRef(({className:e,...t},r)=>a.jsx(MD,{ref:r,className:fe("text-sm opacity-90",e),...t}));gL.displayName=MD.displayName;function _G(){const{toasts:e}=At();return a.jsxs(jG,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(hL,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(pL,{children:r}),n&&a.jsx(gL,{children:n})]}),s,a.jsx(mL,{})]},t)}),a.jsx(fL,{})]})}var kG=vx[" useId ".trim().toString()]||(()=>{}),CG=0;function Rr(e){const[t,r]=v.useState(kG());return yr(()=>{r(n=>n??String(CG++))},[e]),t?`radix-${t}`:""}const PG=["top","right","bottom","left"],Lo=Math.min,hs=Math.max,Bv=Math.round,pg=Math.floor,Fa=e=>({x:e,y:e}),EG={left:"right",right:"left",bottom:"top",top:"bottom"},AG={start:"end",end:"start"};function w1(e,t,r){return hs(e,Lo(t,r))}function Ai(e,t){return typeof e=="function"?e(t):e}function Oi(e){return e.split("-")[0]}function Kd(e){return e.split("-")[1]}function Y_(e){return e==="x"?"y":"x"}function Q_(e){return e==="y"?"height":"width"}const OG=new Set(["top","bottom"]);function $a(e){return OG.has(Oi(e))?"y":"x"}function X_(e){return Y_($a(e))}function TG(e,t,r){r===void 0&&(r=!1);const n=Kd(e),s=X_(e),i=Q_(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Vv(o)),[o,Vv(o)]}function IG(e){const t=Vv(e);return[j1(e),t,j1(t)]}function j1(e){return e.replace(/start|end/g,t=>AG[t])}const gA=["left","right"],vA=["right","left"],RG=["top","bottom"],$G=["bottom","top"];function MG(e,t,r){switch(e){case"top":case"bottom":return r?t?vA:gA:t?gA:vA;case"left":case"right":return t?RG:$G;default:return[]}}function DG(e,t,r,n){const s=Kd(e);let i=MG(Oi(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(j1)))),i}function Vv(e){return e.replace(/left|right|bottom|top/g,t=>EG[t])}function LG(e){return{top:0,right:0,bottom:0,left:0,...e}}function vL(e){return typeof e!="number"?LG(e):{top:e,right:e,bottom:e,left:e}}function qv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function yA(e,t,r){let{reference:n,floating:s}=e;const i=$a(t),o=X_(t),l=Q_(o),c=Oi(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(Kd(t)){case"start":g[o]-=h*(r&&u?-1:1);break;case"end":g[o]+=h*(r&&u?-1:1);break}return g}const FG=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=yA(u,n,c),h=n,g={},y=0;for(let m=0;m<l.length;m++){const{name:x,fn:b}=l[m],{x:p,y:w,data:N,reset:j}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=p??d,f=w??f,g={...g,[x]:{...g[x],...N}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=yA(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:g}};async function Kh(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Ai(t,e),y=vL(g),x=l[h?f==="floating"?"reference":"floating":f],b=qv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),p=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=qv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:c}):p);return{top:(b.top-j.top+y.top)/N.y,bottom:(j.bottom-b.bottom+y.bottom)/N.y,left:(b.left-j.left+y.left)/N.x,right:(j.right-b.right+y.right)/N.x}}const UG=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ai(e,t)||{};if(u==null)return{};const f=vL(d),h={x:r,y:n},g=X_(s),y=Q_(g),m=await o.getDimensions(u),x=g==="y",b=x?"top":"left",p=x?"bottom":"right",w=x?"clientHeight":"clientWidth",N=i.reference[y]+i.reference[g]-h[g]-i.floating[y],j=h[g]-i.reference[g],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=S?S[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(S)))&&(_=l.floating[w]||i.floating[y]);const k=N/2-j/2,C=_/2-m[y]/2-1,E=Lo(f[b],C),P=Lo(f[p],C),R=E,O=_-m[y]-P,I=_/2-m[y]/2+k,T=w1(R,I,O),D=!c.arrow&&Kd(s)!=null&&I!==T&&i.reference[y]/2-(I<R?E:P)-m[y]/2<0,q=D?I<R?I-R:I-O:0;return{[g]:h[g]+q,data:{[g]:T,centerOffset:I-T-q,...D&&{alignmentOffset:q}},reset:D}}}),BG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...x}=Ai(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Oi(s),p=$a(l),w=Oi(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!m?[Vv(l)]:IG(l)),S=y!=="none";!h&&S&&j.push(...DG(l,m,y,N));const _=[l,...j],k=await Kh(t,x),C=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),f){const I=TG(s,o,N);C.push(k[I[0]],k[I[1]])}if(E=[...E,{placement:s,overflows:C}],!C.every(I=>I<=0)){var P,R;const I=(((P=i.flip)==null?void 0:P.index)||0)+1,T=_[I];if(T&&(!(f==="alignment"?p!==$a(T):!1)||E.every(A=>$a(A.placement)===p?A.overflows[0]>0:!0)))return{data:{index:I,overflows:E},reset:{placement:T}};let D=(R=E.filter(q=>q.overflows[0]<=0).sort((q,A)=>q.overflows[1]-A.overflows[1])[0])==null?void 0:R.placement;if(!D)switch(g){case"bestFit":{var O;const q=(O=E.filter(A=>{if(S){const $=$a(A.placement);return $===p||$==="y"}return!0}).map(A=>[A.placement,A.overflows.filter($=>$>0).reduce(($,H)=>$+H,0)]).sort((A,$)=>A[1]-$[1])[0])==null?void 0:O[0];q&&(D=q);break}case"initialPlacement":D=l;break}if(s!==D)return{reset:{placement:D}}}return{}}}};function xA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function bA(e){return PG.some(t=>e[t]>=0)}const VG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ai(e,t);switch(n){case"referenceHidden":{const i=await Kh(t,{...s,elementContext:"reference"}),o=xA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:bA(o)}}}case"escaped":{const i=await Kh(t,{...s,altBoundary:!0}),o=xA(i,r.floating);return{data:{escapedOffsets:o,escaped:bA(o)}}}default:return{}}}}},yL=new Set(["left","top"]);async function qG(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Oi(r),l=Kd(r),c=$a(r)==="y",u=yL.has(o)?-1:1,d=i&&c?-1:1,f=Ai(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const zG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await qG(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},WG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:b,y:p}=x;return{x:b,y:p}}},...c}=Ai(e,t),u={x:r,y:n},d=await Kh(t,c),f=$a(Oi(s)),h=Y_(f);let g=u[h],y=u[f];if(i){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",p=g+d[x],w=g-d[b];g=w1(p,g,w)}if(o){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",p=y+d[x],w=y-d[b];y=w1(p,y,w)}const m=l.fn({...t,[h]:g,[f]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},HG=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ai(e,t),d={x:r,y:n},f=$a(s),h=Y_(f);let g=d[h],y=d[f];const m=Ai(l,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",N=i.reference[h]-i.floating[w]+x.mainAxis,j=i.reference[h]+i.reference[w]-x.mainAxis;g<N?g=N:g>j&&(g=j)}if(u){var b,p;const w=h==="y"?"width":"height",N=yL.has(Oi(s)),j=i.reference[f]-i.floating[w]+(N&&((b=o.offset)==null?void 0:b[f])||0)+(N?0:x.crossAxis),S=i.reference[f]+i.reference[w]+(N?0:((p=o.offset)==null?void 0:p[f])||0)-(N?x.crossAxis:0);y<j?y=j:y>S&&(y=S)}return{[h]:g,[f]:y}}}},KG=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ai(e,t),d=await Kh(t,u),f=Oi(s),h=Kd(s),g=$a(s)==="y",{width:y,height:m}=i.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,x=h==="end"?"top":"bottom");const p=m-d.top-d.bottom,w=y-d.left-d.right,N=Lo(m-d[x],p),j=Lo(y-d[b],w),S=!t.middlewareData.shift;let _=N,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=p),S&&!h){const E=hs(d.left,0),P=hs(d.right,0),R=hs(d.top,0),O=hs(d.bottom,0);g?k=y-2*(E!==0||P!==0?E+P:hs(d.left,d.right)):_=m-2*(R!==0||O!==0?R+O:hs(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:_});const C=await o.getDimensions(l.floating);return y!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function Ux(){return typeof window<"u"}function Gd(e){return xL(e)?(e.nodeName||"").toLowerCase():"#document"}function bs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ga(e){var t;return(t=(xL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xL(e){return Ux()?e instanceof Node||e instanceof bs(e).Node:!1}function va(e){return Ux()?e instanceof Element||e instanceof bs(e).Element:!1}function Wa(e){return Ux()?e instanceof HTMLElement||e instanceof bs(e).HTMLElement:!1}function wA(e){return!Ux()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bs(e).ShadowRoot}const GG=new Set(["inline","contents"]);function dp(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=ya(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!GG.has(s)}const YG=new Set(["table","td","th"]);function QG(e){return YG.has(Gd(e))}const XG=[":popover-open",":modal"];function Bx(e){return XG.some(t=>{try{return e.matches(t)}catch{return!1}})}const ZG=["transform","translate","scale","rotate","perspective"],JG=["transform","translate","scale","rotate","perspective","filter"],eY=["paint","layout","strict","content"];function Z_(e){const t=J_(),r=va(e)?ya(e):e;return ZG.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||JG.some(n=>(r.willChange||"").includes(n))||eY.some(n=>(r.contain||"").includes(n))}function tY(e){let t=Fo(e);for(;Wa(t)&&!ad(t);){if(Z_(t))return t;if(Bx(t))return null;t=Fo(t)}return null}function J_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rY=new Set(["html","body","#document"]);function ad(e){return rY.has(Gd(e))}function ya(e){return bs(e).getComputedStyle(e)}function Vx(e){return va(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fo(e){if(Gd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||wA(e)&&e.host||Ga(e);return wA(t)?t.host:t}function bL(e){const t=Fo(e);return ad(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wa(t)&&dp(t)?t:bL(t)}function Gh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=bL(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=bs(s);if(i){const l=N1(o);return t.concat(o,o.visualViewport||[],dp(s)?s:[],l&&r?Gh(l):[])}return t.concat(s,Gh(s,[],r))}function N1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wL(e){const t=ya(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Wa(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Bv(r)!==i||Bv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function ek(e){return va(e)?e:e.contextElement}function Au(e){const t=ek(e);if(!Wa(t))return Fa(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=wL(t);let o=(i?Bv(r.width):r.width)/n,l=(i?Bv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const nY=Fa(0);function jL(e){const t=bs(e);return!J_()||!t.visualViewport?nY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==bs(e)?!1:t}function rc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=ek(e);let o=Fa(1);t&&(n?va(n)&&(o=Au(n)):o=Au(e));const l=sY(i,r,n)?jL(i):Fa(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=bs(i),g=n&&va(n)?bs(n):n;let y=h,m=N1(y);for(;m&&n&&g!==y;){const x=Au(m),b=m.getBoundingClientRect(),p=ya(m),w=b.left+(m.clientLeft+parseFloat(p.paddingLeft))*x.x,N=b.top+(m.clientTop+parseFloat(p.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=N,y=bs(m),m=N1(y)}}return qv({width:d,height:f,x:c,y:u})}function qx(e,t){const r=Vx(e).scrollLeft;return t?t.left+r:rc(Ga(e)).left+r}function NL(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-qx(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function aY(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Ga(n),l=t?Bx(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Fa(1);const d=Fa(0),f=Wa(n);if((f||!f&&!i)&&((Gd(n)!=="body"||dp(o))&&(c=Vx(n)),Wa(n))){const g=rc(n);u=Au(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=o&&!f&&!i?NL(o,c):Fa(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function iY(e){return Array.from(e.getClientRects())}function oY(e){const t=Ga(e),r=Vx(e),n=e.ownerDocument.body,s=hs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=hs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+qx(e);const l=-r.scrollTop;return ya(n).direction==="rtl"&&(o+=hs(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const jA=25;function lY(e,t){const r=bs(e),n=Ga(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=J_();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=qx(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(n.clientWidth-f.clientWidth-g);y<=jA&&(i-=y)}else u<=jA&&(i+=u);return{width:i,height:o,x:l,y:c}}const cY=new Set(["absolute","fixed"]);function uY(e,t){const r=rc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Wa(e)?Au(e):Fa(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function NA(e,t,r){let n;if(t==="viewport")n=lY(e,r);else if(t==="document")n=oY(Ga(e));else if(va(t))n=uY(t,r);else{const s=jL(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return qv(n)}function SL(e,t){const r=Fo(e);return r===t||!va(r)||ad(r)?!1:ya(r).position==="fixed"||SL(r,t)}function dY(e,t){const r=t.get(e);if(r)return r;let n=Gh(e,[],!1).filter(l=>va(l)&&Gd(l)!=="body"),s=null;const i=ya(e).position==="fixed";let o=i?Fo(e):e;for(;va(o)&&!ad(o);){const l=ya(o),c=Z_(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&cY.has(s.position)||dp(o)&&!c&&SL(e,o))?n=n.filter(d=>d!==o):s=l,o=Fo(o)}return t.set(e,n),n}function fY(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Bx(t)?[]:dY(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=NA(t,d,s);return u.top=hs(f.top,u.top),u.right=Lo(f.right,u.right),u.bottom=Lo(f.bottom,u.bottom),u.left=hs(f.left,u.left),u},NA(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function hY(e){const{width:t,height:r}=wL(e);return{width:t,height:r}}function mY(e,t,r){const n=Wa(t),s=Ga(t),i=r==="fixed",o=rc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Fa(0);function u(){c.x=qx(s)}if(n||!n&&!i)if((Gd(t)!=="body"||dp(s))&&(l=Vx(t)),n){const g=rc(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?NL(s,l):Fa(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function sw(e){return ya(e).position==="static"}function SA(e,t){if(!Wa(e)||ya(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ga(e)===r&&(r=r.ownerDocument.body),r}function _L(e,t){const r=bs(e);if(Bx(e))return r;if(!Wa(e)){let s=Fo(e);for(;s&&!ad(s);){if(va(s)&&!sw(s))return s;s=Fo(s)}return r}let n=SA(e,t);for(;n&&QG(n)&&sw(n);)n=SA(n,t);return n&&ad(n)&&sw(n)&&!Z_(n)?r:n||tY(e)||r}const pY=async function(e){const t=this.getOffsetParent||_L,r=this.getDimensions,n=await r(e.floating);return{reference:mY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gY(e){return ya(e).direction==="rtl"}const vY={convertOffsetParentRelativeRectToViewportRelativeRect:aY,getDocumentElement:Ga,getClippingRect:fY,getOffsetParent:_L,getElementRects:pY,getClientRects:iY,getDimensions:hY,getScale:Au,isElement:va,isRTL:gY};function kL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yY(e,t){let r=null,n;const s=Ga(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(l||t(),!h||!g)return;const y=pg(f),m=pg(s.clientWidth-(d+h)),x=pg(s.clientHeight-(f+g)),b=pg(d),w={rootMargin:-y+"px "+-m+"px "+-x+"px "+-b+"px",threshold:hs(0,Lo(1,c))||1};let N=!0;function j(S){const _=S[0].intersectionRatio;if(_!==c){if(!N)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!kL(u,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function xY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=ek(e),d=s||i?[...u?Gh(u):[],...Gh(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?yY(u,r):null;let h=-1,g=null;o&&(g=new ResizeObserver(b=>{let[p]=b;p&&p.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let y,m=c?rc(e):null;c&&x();function x(){const b=rc(e);m&&!kL(m,b)&&r(),m=b,y=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(p=>{s&&p.removeEventListener("scroll",r),i&&p.removeEventListener("resize",r)}),f==null||f(),(b=g)==null||b.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const bY=zG,wY=WG,jY=BG,NY=KG,SY=VG,_A=UG,_Y=HG,kY=(e,t,r)=>{const n=new Map,s={platform:vY,...r},i={...s.platform,_c:n};return FG(e,t,{...s,platform:i})};var CY=typeof document<"u",PY=function(){},sv=CY?v.useLayoutEffect:PY;function zv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!zv(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!zv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function CL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kA(e,t){const r=CL(e);return Math.round(t*r)/r}function aw(e){const t=v.useRef(e);return sv(()=>{t.current=e}),t}function EY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=v.useState(n);zv(h,n)||g(n);const[y,m]=v.useState(null),[x,b]=v.useState(null),p=v.useCallback(A=>{A!==S.current&&(S.current=A,m(A))},[]),w=v.useCallback(A=>{A!==_.current&&(_.current=A,b(A))},[]),N=i||y,j=o||x,S=v.useRef(null),_=v.useRef(null),k=v.useRef(d),C=c!=null,E=aw(c),P=aw(s),R=aw(u),O=v.useCallback(()=>{if(!S.current||!_.current)return;const A={placement:t,strategy:r,middleware:h};P.current&&(A.platform=P.current),kY(S.current,_.current,A).then($=>{const H={...$,isPositioned:R.current!==!1};I.current&&!zv(k.current,H)&&(k.current=H,bc.flushSync(()=>{f(H)}))})},[h,t,r,P,R]);sv(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const I=v.useRef(!1);sv(()=>(I.current=!0,()=>{I.current=!1}),[]),sv(()=>{if(N&&(S.current=N),j&&(_.current=j),N&&j){if(E.current)return E.current(N,j,O);O()}},[N,j,O,E,C]);const T=v.useMemo(()=>({reference:S,floating:_,setReference:p,setFloating:w}),[p,w]),D=v.useMemo(()=>({reference:N,floating:j}),[N,j]),q=v.useMemo(()=>{const A={position:r,left:0,top:0};if(!D.floating)return A;const $=kA(D.floating,d.x),H=kA(D.floating,d.y);return l?{...A,transform:"translate("+$+"px, "+H+"px)",...CL(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:H}},[r,l,D.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:O,refs:T,elements:D,floatingStyles:q}),[d,O,T,D,q])}const AY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?_A({element:n.current,padding:s}).fn(r):{}:n?_A({element:n,padding:s}).fn(r):{}}}},OY=(e,t)=>({...bY(e),options:[e,t]}),TY=(e,t)=>({...wY(e),options:[e,t]}),IY=(e,t)=>({..._Y(e),options:[e,t]}),RY=(e,t)=>({...jY(e),options:[e,t]}),$Y=(e,t)=>({...NY(e),options:[e,t]}),MY=(e,t)=>({...SY(e),options:[e,t]}),DY=(e,t)=>({...AY(e),options:[e,t]});var LY="Arrow",PL=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Oe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});PL.displayName=LY;var FY=PL;function tk(e){const[t,r]=v.useState(void 0);return yr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var rk="Popper",[EL,Go]=yn(rk),[UY,AL]=EL(rk),OL=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return a.jsx(UY,{scope:t,anchor:n,onAnchorChange:s,children:r})};OL.displayName=rk;var TL="PopperAnchor",IL=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=AL(TL,r),o=v.useRef(null),l=rt(t,o),c=v.useRef(null);return v.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Oe.div,{...s,ref:l})});IL.displayName=TL;var nk="PopperContent",[BY,VY]=EL(nk),RL=v.forwardRef((e,t)=>{var ee,se,Q,X,ie,W;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:y,...m}=e,x=AL(nk,r),[b,p]=v.useState(null),w=rt(t,z=>p(z)),[N,j]=v.useState(null),S=tk(N),_=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,C=n+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],R=P.length>0,O={padding:E,boundary:P.filter(zY),altBoundary:R},{refs:I,floatingStyles:T,placement:D,isPositioned:q,middlewareData:A}=EY({strategy:"fixed",placement:C,whileElementsMounted:(...z)=>xY(...z,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[OY({mainAxis:s+k,alignmentAxis:o}),c&&TY({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?IY():void 0,...O}),c&&RY({...O}),$Y({...O,apply:({elements:z,rects:ce,availableWidth:qe,availableHeight:Ye})=>{const{width:ut,height:Yt}=ce.reference,kt=z.floating.style;kt.setProperty("--radix-popper-available-width",`${qe}px`),kt.setProperty("--radix-popper-available-height",`${Ye}px`),kt.setProperty("--radix-popper-anchor-width",`${ut}px`),kt.setProperty("--radix-popper-anchor-height",`${Yt}px`)}}),N&&DY({element:N,padding:l}),WY({arrowWidth:_,arrowHeight:k}),h&&MY({strategy:"referenceHidden",...O})]}),[$,H]=DL(D),Y=vr(y);yr(()=>{q&&(Y==null||Y())},[q,Y]);const L=(ee=A.arrow)==null?void 0:ee.x,K=(se=A.arrow)==null?void 0:se.y,re=((Q=A.arrow)==null?void 0:Q.centerOffset)!==0,[ae,be]=v.useState();return yr(()=>{b&&be(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:q?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(X=A.transformOrigin)==null?void 0:X.x,(ie=A.transformOrigin)==null?void 0:ie.y].join(" "),...((W=A.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(BY,{scope:r,placedSide:$,onArrowChange:j,arrowX:L,arrowY:K,shouldHideArrow:re,children:a.jsx(Oe.div,{"data-side":$,"data-align":H,...m,ref:w,style:{...m.style,animation:q?void 0:"none"}})})})});RL.displayName=nk;var $L="PopperArrow",qY={top:"bottom",right:"left",bottom:"top",left:"right"},ML=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=VY($L,n),o=qY[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(FY,{...s,ref:r,style:{...s.style,display:"block"}})})});ML.displayName=$L;function zY(e){return e!==null}var WY=e=>({name:"transformOrigin",options:e,fn(t){var x,b,p;const{placement:r,rects:n,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=DL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,g=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?f:`${h}px`,m=`${-c}px`):u==="top"?(y=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?f:`${g}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=o?f:`${g}px`),{data:{x:y,y:m}}}});function DL(e){const[t,r="center"]=e.split("-");return[t,r]}var zx=OL,fp=IL,Wx=RL,Hx=ML,HY=Symbol("radix.slottable");function KY(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=HY,t}var[Kx]=yn("Tooltip",[Go]),Gx=Go(),LL="TooltipProvider",GY=700,S1="tooltip.open",[YY,sk]=Kx(LL),FL=e=>{const{__scopeTooltip:t,delayDuration:r=GY,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(YY,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};FL.displayName=LL;var Yh="Tooltip",[QY,Yx]=Kx(Yh),UL=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=sk(Yh,e.__scopeTooltip),u=Gx(t),[d,f]=v.useState(null),h=Rr(),g=v.useRef(0),y=o??c.disableHoverableContent,m=l??c.delayDuration,x=v.useRef(!1),[b,p]=rs({prop:n,defaultProp:s??!1,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(S1))):c.onClose(),i==null||i(_)},caller:Yh}),w=v.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),N=v.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,p(!0)},[p]),j=v.useCallback(()=>{window.clearTimeout(g.current),g.current=0,p(!1)},[p]),S=v.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,p(!0),g.current=0},m)},[m,p]);return v.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(zx,{...u,children:a.jsx(QY,{scope:t,contentId:h,open:b,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:v.useCallback(()=>{y?j():(window.clearTimeout(g.current),g.current=0)},[j,y]),onOpen:N,onClose:j,disableHoverableContent:y,children:r})})};UL.displayName=Yh;var _1="TooltipTrigger",BL=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Yx(_1,r),i=sk(_1,r),o=Gx(r),l=v.useRef(null),c=rt(t,l,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(fp,{asChild:!0,...o,children:a.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:me(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:me(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:me(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:me(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:me(e.onBlur,s.onClose),onClick:me(e.onClick,s.onClose)})})});BL.displayName=_1;var XY="TooltipPortal",[J$e,ZY]=Kx(XY,{forceMount:void 0}),id="TooltipContent",VL=v.forwardRef((e,t)=>{const r=ZY(id,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=Yx(id,e.__scopeTooltip);return a.jsx(Xr,{present:n||o.open,children:o.disableHoverableContent?a.jsx(qL,{side:s,...i,ref:t}):a.jsx(JY,{side:s,...i,ref:t})})}),JY=v.forwardRef((e,t)=>{const r=Yx(id,e.__scopeTooltip),n=sk(id,e.__scopeTooltip),s=v.useRef(null),i=rt(t,s),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=v.useCallback(()=>{l(null),f(!1)},[f]),g=v.useCallback((y,m)=>{const x=y.currentTarget,b={x:y.clientX,y:y.clientY},p=sQ(b,x.getBoundingClientRect()),w=aQ(b,p),N=iQ(m.getBoundingClientRect()),j=lQ([...w,...N]);l(j),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&d){const y=x=>g(x,d),m=x=>g(x,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,g,h]),v.useEffect(()=>{if(o){const y=m=>{const x=m.target,b={x:m.clientX,y:m.clientY},p=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),w=!oQ(b,o);p?h():w&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),a.jsx(qL,{...e,ref:i})}),[eQ,tQ]=Kx(Yh,{isInside:!1}),rQ=KY("TooltipContent"),qL=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Yx(id,r),u=Gx(r),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(S1,d),()=>document.removeEventListener(S1,d)),[d]),v.useEffect(()=>{if(c.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Wx,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(rQ,{children:n}),a.jsx(eQ,{scope:r,isInside:!0,children:a.jsx(UH,{id:c.contentId,role:"tooltip",children:s||n})})]})})});VL.displayName=id;var zL="TooltipArrow",nQ=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Gx(r);return tQ(zL,r).isInside?null:a.jsx(Hx,{...s,...n,ref:t})});nQ.displayName=zL;function sQ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function aQ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function iQ(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function oQ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function lQ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),cQ(t)}function cQ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var uQ=FL,dQ=UL,fQ=BL,WL=VL;const hQ=uQ,mQ=dQ,pQ=fQ,HL=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(WL,{ref:n,sideOffset:t,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));HL.displayName=WL.displayName;const gQ=3e4,CA=["mousemove","keydown","click","scroll","touchstart"],vQ=5e3;function yQ(e=!1){const[,t]=ss(),{toast:r}=At(),[n,s]=v.useState(null),i=v.useRef(Date.now()),o=v.useRef(null),l=v.useRef(!1),c=v.useRef(!1),u=v.useCallback(h=>{o.current&&(clearInterval(o.current),o.current=null),c.current=!1,r({variant:"destructive",title:"Session Expired",description:h||"Please log in again to continue."}),setTimeout(()=>{t("/login")},1500)},[r,t]),d=v.useCallback(async()=>{try{const g=await(await Ae("POST","/api/session/heartbeat")).json();g.success&&(s({sessionRemainingMs:g.sessionRemainingMs,inactivityTimeoutMs:g.inactivityTimeoutMs,reauthTimeoutMs:g.reauthTimeoutMs,isActive:!0}),l.current=!1)}catch(h){(h==null?void 0:h.code)==="SESSION_REAUTH_REQUIRED"||(h==null?void 0:h.code)==="SESSION_INACTIVITY_TIMEOUT"?u(h.reason||h.message):((h==null?void 0:h.status)===401||(h==null?void 0:h.status)===403)&&u("Your session has expired. Please log in again.")}},[u]),f=v.useCallback(()=>{const h=Date.now();h-i.current>vQ&&(i.current=h,d())},[d]);return v.useEffect(()=>{if(!(!e||c.current))return c.current=!0,d(),o.current=setInterval(d,gQ),CA.forEach(h=>{window.addEventListener(h,f,{passive:!0})}),()=>{o.current&&(clearInterval(o.current),o.current=null),CA.forEach(h=>{window.removeEventListener(h,f)}),c.current=!1}},[e,d,f]),v.useEffect(()=>{if(n&&n.sessionRemainingMs<6e4&&!l.current){l.current=!0;const h=Math.ceil(n.sessionRemainingMs/6e4);r({variant:"default",title:"Session Expiring Soon",description:`Your session will expire in ${h} minute(s). You will need to log in again.`})}},[n,r]),{sessionState:n,sendHeartbeat:d}}function xQ({children:e}){const{data:t,isLoading:r}=ve({queryKey:["/api/auth/user"],retry:!1,staleTime:3e4});return yQ(!r&&!!t),a.jsx(a.Fragment,{children:e})}var Ra=function(){return Ra=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ra.apply(this,arguments)};function Yd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function bQ(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function wQ(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const jQ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ak extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class NQ extends ak{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class PA extends ak{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class EA extends ak{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var k1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(k1||(k1={}));class SQ{constructor(t,{headers:r={},customFetch:n,region:s=k1.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=jQ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return bQ(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:g}=n;g||(g=this.region);const y=new URL(`${this.url}/${r}`);g&&g!=="any"&&(h["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let x=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const b=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:x}).catch(j=>{throw new NQ(j)}),p=b.headers.get("x-relay-error");if(p&&p==="true")throw new PA(b);if(!b.ok)throw new EA(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),N;return w==="application/json"?N=yield b.json():w==="application/octet-stream"||w==="application/pdf"?N=yield b.blob():w==="text/event-stream"?N=b:w==="multipart/form-data"?N=yield b.formData():N=yield b.text(),{data:N,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof EA||l instanceof PA?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var _Q=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},kQ=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var g;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new _Q(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var g;l=(g=i==null?void 0:i.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},CQ=class extends kQ{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const AA=new RegExp("[,()]");var Qc=class extends CQ{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&AA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&AA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},PQ=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Qc({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Qc({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Qc({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Qc({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Qc({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},EQ=class KL{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new PQ(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new KL(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Qc({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class AQ{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const OQ="2.89.0",TQ=`realtime-js/${OQ}`,GL="1.0.0",IQ="2.0.0",OA=GL,C1=1e4,RQ=1e3,$Q=100;var Ji;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ji||(Ji={}));var Br;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Br||(Br={}));var sa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(sa||(sa={}));var P1;(function(e){e.websocket="websocket"})(P1||(P1={}));var xl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xl||(xl={}));class MQ{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(g),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,c.length),y.setUint8(m++,l.length),y.setUint8(m++,o.length),y.setUint8(m++,u.length),y.setUint8(m++,f.length),y.setUint8(m++,r),Array.from(c,b=>y.setUint8(m++,b.charCodeAt(0))),Array.from(l,b=>y.setUint8(m++,b.charCodeAt(0))),Array.from(o,b=>y.setUint8(m++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(m++,b.charCodeAt(0))),Array.from(f,b=>y.setUint8(m++,b.charCodeAt(0)));var x=new Uint8Array(g.byteLength+n.byteLength);return x.set(new Uint8Array(g),0),x.set(new Uint8Array(n),g.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),g=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:g};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class YL{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qt||(qt={}));const TA=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=DQ(o,e,t,s),i),{}):{}},DQ=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?QL(i,o):E1(o)},QL=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return BQ(t,r)}switch(e){case qt.bool:return LQ(t);case qt.float4:case qt.float8:case qt.int2:case qt.int4:case qt.int8:case qt.numeric:case qt.oid:return FQ(t);case qt.json:case qt.jsonb:return UQ(t);case qt.timestamp:return VQ(t);case qt.abstime:case qt.date:case qt.daterange:case qt.int4range:case qt.int8range:case qt.money:case qt.reltime:case qt.text:case qt.time:case qt.timestamptz:case qt.timetz:case qt.tsrange:case qt.tstzrange:return E1(t);default:return E1(t)}},E1=e=>e,LQ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FQ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},UQ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},BQ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>QL(t,l))}return e},VQ=e=>typeof e=="string"?e.replace(" ","T"):e,XL=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class iw{constructor(t,r,n={},s=C1){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var IA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(IA||(IA={}));class fh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fh.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=fh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=fh.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),g=f.map(x=>x.presence_ref),y=d.filter(x=>g.indexOf(x.presence_ref)<0),m=f.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(l[u]=y),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var RA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(RA||(RA={}));var hh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hh||(hh={}));var oi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(oi||(oi={}));class pu{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new iw(this,sa.join,this.params,this.timeout),this.rejoinTimer=new YL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Br.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new fh(this),this.broadcastEndpointURL=XL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Br.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[hh.PRESENCE]&&this.bindings[hh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(oi.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(oi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(oi.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,x=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,b=[];for(let p=0;p<x;p++){const w=m[p],{filter:{event:N,schema:j,table:S,filter:_}}=w,k=g&&g[p];if(k&&k.event===N&&pu.isFilterValueEqual(k.schema,j)&&pu.isFilterValueEqual(k.table,S)&&pu.isFilterValueEqual(k.filter,_))b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Br.errored,t==null||t(oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(oi.SUBSCRIBED);return}}).receive("error",g=>{this.state=Br.errored,t==null||t(oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Br.joined&&t===hh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Br.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new iw(this,sa.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Br.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new iw(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$Q){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=sa;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,m,x;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(m=g.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,m,x,b,p,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const N=g.id,j=(y=g.filter)===null||y===void 0?void 0:y.event;return N&&((m=r.ids)===null||m===void 0?void 0:m.includes(N))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const N=(p=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return N==="*"||N===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:x,commit_timestamp:b,type:p,errors:w}=y;h=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:b,eventType:p,new:{},old:{},errors:w}),this._getPayloadRecords(y))}g.callback(h,n)})}_isClosed(){return this.state===Br.closed}_isJoined(){return this.state===Br.joined}_isJoining(){return this.state===Br.joining}_isLeaving(){return this.state===Br.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(sa.close,{},t)}_onError(t){this._on(sa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Br.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=TA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=TA(t.columns,t.old_record)),r}}const ow=()=>{},gg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qQ=[1e3,2e3,5e3,1e4],zQ=1e4,WQ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HQ{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=C1,this.transport=null,this.heartbeatIntervalMs=gg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ow,this.ref=0,this.reconnectTimer=null,this.vsn=OA,this.logger=ow,this.conn=null,this.sendBuffer=[],this.serializer=new MQ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${P1.websocket}`,this.httpEndpoint=XL(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AQ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ji.connecting:return xl.Connecting;case Ji.open:return xl.Open;case Ji.closing:return xl.Closing;default:return xl.Closed}}isConnected(){return this.connectionState()===xl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new pu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(RQ,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ji.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ji.open||this.conn.readyState===Ji.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(sa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([WQ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:TQ};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(sa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new YL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,g;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:C1,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:gg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ow,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:OA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>qQ[y-1]||zQ,this.vsn){case GL:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,m)=>m(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,m)=>m(JSON.parse(y));break;case IQ:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Qh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function KQ(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function GQ(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function YQ(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=KQ(e.baseUrl,n,s),c=await GQ(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const g=f?h:void 0,y=g==null?void 0:g.error;throw new Qh((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function vg(e){return e.join("")}var QQ=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:vg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vg(e.namespace)}`}),!0}catch(t){if(t instanceof Qh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Qh&&r.status===409)return;throw r}}};function $c(e){return e.join("")}var XQ=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Qh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Qh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ZQ=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=YQ({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new QQ(this.client,t),this.tableOps=new XQ(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Qx=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var JQ=class extends Qx{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},A1=class extends Qx{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const ik=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eX=()=>Response,O1=e=>{if(Array.isArray(e))return e.map(r=>O1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=O1(n)}),t},tX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rX=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function nX(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sX(e){var t=nX(e,"string");return Xh(t)=="symbol"?t:t+""}function aX(e,t,r){return(t=sX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){aX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const lw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},iX=async(e,t,r)=>{e instanceof await eX()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new JQ(lw(n),s,i))}).catch(n=>{t(new A1(lw(n),n))}):t(new A1(lw(e),e))},oX=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(tX(n)?(s.headers=Ke({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Ke(Ke({},s),r))};async function hp(e,t,r,n,s,i){return new Promise((o,l)=>{e(r,oX(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>iX(c,l,n))})}async function Zh(e,t,r,n){return hp(e,"GET",t,r,n)}async function ea(e,t,r,n,s){return hp(e,"POST",t,n,s,r)}async function T1(e,t,r,n,s){return hp(e,"PUT",t,n,s,r)}async function lX(e,t,r,n){return hp(e,"HEAD",t,Ke(Ke({},r),{},{noResolveJson:!0}),n)}async function ok(e,t,r,n,s){return hp(e,"DELETE",t,n,s,r)}var cX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}}};let ZL;ZL=Symbol.toStringTag;var uX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ZL]="BlobDownloadBuilder",this.promise=null}asStream(){return new cX(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}}};const dX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},MA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var fX=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=ik(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const o=Ke(Ke({},MA),n);let l=Ke(Ke({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ke(Ke({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?T1:ea)(s.fetch,`${s.url}/object/${d}`,i,Ke({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(sr(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Ke({upsert:MA.upsert},n),d=Ke(Ke({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await T1(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=Ke({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await ea(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Qx("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ea(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await ea(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await ea(n.fetch,`${n.url}/object/sign/${s}`,Ke({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await ea(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Ke(Ke({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Zh(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new uX(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:O1(await Zh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await lX(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n)&&n instanceof A1){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await ok(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=Ke(Ke(Ke({},dX),t),{},{prefix:e||""});return{data:await ea(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=Ke({},e);return{data:await ea(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const JL="2.89.0",eF={"X-Client-Info":`storage-js/${JL}`};var hX=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Ke(Ke({},eF),t),this.fetch=ik(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Zh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Zh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ea(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await T1(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ea(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ok(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},mX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},eF),t),this.fetch=ik(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ea(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Zh(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ok(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!rX(e))throw new Qx("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ZQ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const lk={"X-Client-Info":`storage-js/${JL}`,"Content-Type":"application/json"};var tF=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ms(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var cw=class extends tF{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pX=class extends tF{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const ck=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},DA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vX=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new cw(DA(i),n,o))}).catch(()=>{const i=n+"";t(new cw(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new cw(s.statusText||`HTTP ${n} error`,n,i))}}else t(new pX(DA(e),e))},yX=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(gX(n)?(s.headers=Ke({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Ke(Ke({},s),r)):s};async function xX(e,t,r,n,s,i){return new Promise((o,l)=>{e(r,yX(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>vX(c,l,n))})}async function ps(e,t,r,n,s){return xX(e,"POST",t,n,s,r)}var bX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},lk),t),this.fetch=ck(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await ps(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ms(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await ps(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ms(n))return{data:null,error:n};throw n}}},wX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},lk),t),this.fetch=ck(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ps(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ps(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ps(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}},jX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},lk),t),this.fetch=ck(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await ps(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ps(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ms(r))return{data:null,error:r};throw r}}},NX=class extends jX{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new SX(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},SX=class extends bX{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new _X(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},_X=class extends wX{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},kX=class extends hX{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new fX(this.url,this.headers,e,this.fetch)}get vectors(){return new NX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mX(this.url+"/iceberg",this.headers,this.fetch)}};const rF="2.89.0",Xc=30*1e3,I1=3,uw=I1*Xc,CX="http://localhost:9999",PX="supabase.auth.token",EX={"X-Client-Info":`gotrue-js/${rF}`},R1="X-Supabase-Api-Version",nF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OX=10*60*1e3;class Jh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class TX extends Jh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function IX(e){return Be(e)&&e.name==="AuthApiError"}class bl extends Jh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fi extends Jh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ls extends Fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RX(e){return Be(e)&&e.name==="AuthSessionMissingError"}class Mc extends Fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yg extends Fi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xg extends Fi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $X(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class LA extends Fi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class MX extends Fi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $1 extends Fi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function dw(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class FA extends Fi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class M1 extends Fi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UA=` 	
\r=`.split(""),DX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<UA.length;t+=1)e[UA[t].charCodeAt(0)]=-2;for(let t=0;t<Wv.length;t+=1)e[Wv[t].charCodeAt(0)]=t;return e})();function BA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wv[n]),t.queuedBits-=6}}function sF(e,t,r){const n=DX[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function VA(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{UX(o,n,r)};for(let o=0;o<e.length;o+=1)sF(e.charCodeAt(o),s,i);return t.join("")}function LX(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function FX(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}LX(n,t)}}function UX(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ou(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)sF(e.charCodeAt(s),r,n);return new Uint8Array(t)}function BX(e){const t=[];return FX(e,r=>t.push(r)),new Uint8Array(t)}function kl(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>BA(s,r,n)),BA(null,r,n),t.join("")}function VX(e){return Math.round(Date.now()/1e3)+e}function qX(){return Symbol("auth-callback")}const dn=()=>typeof window<"u"&&typeof document<"u",al={tested:!1,writable:!1},aF=()=>{if(!dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(al.tested)return al.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),al.tested=!0,al.writable=!0}catch{al.tested=!0,al.writable=!1}return al.writable};function zX(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const iF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WX=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},il=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},un=async(e,t)=>{await e.removeItem(t)};class Xx{constructor(){this.promise=new Xx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Xx.promiseConstructor=Promise;function fw(e){const t=e.split(".");if(t.length!==3)throw new M1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!AX.test(t[n]))throw new M1("JWT not in base64url format");return{header:JSON.parse(VA(t[0])),payload:JSON.parse(VA(t[1])),signature:Ou(t[2]),raw:{header:t[0],payload:t[1]}}}async function HX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function KX(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function GX(e){return("0"+e.toString(16)).substr(-2)}function YX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,GX).join("")}async function QX(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function XX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await QX(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dc(e,t,r=!1){const n=YX();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Zc(e,`${t}-code-verifier`,s);const i=await XX(n);return[i,n===i?"plain":"s256"]}const ZX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JX(e){const t=e.headers.get(R1);if(!t||!t.match(ZX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eZ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tZ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rZ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lc(e){if(!rZ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nZ(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function qA(e){return JSON.parse(JSON.stringify(e))}const ml=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sZ=[502,503,504];async function zA(e){var t;if(!WX(e))throw new $1(ml(e),0);if(sZ.includes(e.status))throw new $1(ml(e),e.status);let r;try{r=await e.json()}catch(i){throw new bl(ml(i),i)}let n;const s=JX(e);if(s&&s.getTime()>=nF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new FA(ml(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ls}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new FA(ml(r),e.status,r.weak_password.reasons);throw new TX(ml(r),e.status||500,n)}const aZ=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function He(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[R1]||(i[R1]=nF["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await iZ(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function iZ(e,t,r,n,s,i){const o=aZ(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new $1(ml(c),0)}if(l.ok||await zA(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await zA(c)}}function Xs(e){var t;let r=null;cZ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=VX(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function WA(e){const t=Xs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ao(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oZ(e){return{data:e,error:null}}function lZ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Yd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function HA(e){return e}function cZ(e){return e.access_token&&e.refresh_token&&e.expires_in}const mw=["global","local","others"];class uZ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=iF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=mw[0]){if(mw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mw.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ao})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Yd(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lZ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ao})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:HA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Lc(t);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ao})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Lc(t);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ao})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Lc(t);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ao})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Lc(t.userId);try{const{data:r,error:n}=await He(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Lc(t.userId),Lc(t.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await He(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:HA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await He(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await He(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await He(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function KA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Fc={debug:!!(globalThis&&aF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dZ extends oF{}async function fZ(e,t,r){Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dZ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function hZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function mZ(e){return parseInt(e,16)}function pZ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function gZ(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=lF(e.address),y=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${g}

${m}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let p=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);p+=`
- ${w}`}b+=p}return`${x}
${b}`}class Er extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Hv extends Er{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function vZ({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(cF(o)){if(i.rp.id!==o)return new Er({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function yZ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(cF(n)){if(r.rpId!==n)return new Er({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xZ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const bZ=new xZ;function wZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Yd(e,["challenge","user","excludeCredentials"]),i=Ou(t).buffer,o=Object.assign(Object.assign({},r),{id:Ou(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ou(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function jZ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Yd(e,["challenge","allowCredentials"]),s=Ou(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ou(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function NZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:kl(new Uint8Array(e.response.attestationObject)),clientDataJSON:kl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:kl(new Uint8Array(s.authenticatorData)),clientDataJSON:kl(new Uint8Array(s.clientDataJSON)),signature:kl(new Uint8Array(s.signature)),userHandle:s.userHandle?kl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function GA(){var e,t;return!!(dn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _Z(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hv("Browser returned unexpected credential type",t)}:{data:null,error:new Hv("Empty credential response",t)}}catch(t){return{data:null,error:vZ({error:t,options:e})}}}async function kZ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hv("Browser returned unexpected credential type",t)}:{data:null,error:new Hv("Empty credential response",t)}}catch(t){return{data:null,error:yZ({error:t,options:e})}}}const CZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},PZ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Kv(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Kv(l,o):n[i]=Kv(o)}else n[i]=o}return n}function EZ(e,t){return Kv(CZ,e,t||{})}function AZ(e,t){return Kv(PZ,e,t||{})}class OZ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??bZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=EZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await _Z({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=AZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await kZ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new bl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Jh("rpId is required for WebAuthn authentication")};try{if(!GA())return{data:null,error:new bl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new bl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Jh("rpId is required for WebAuthn registration")};try{if(!GA())return{data:null,error:new bl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new bl("Unexpected error in register",o)}}}}hZ();const TZ={url:CX,storageKey:PX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function YA(e,t,r){return await r()}const Uc={};class em{get jwks(){var t,r;return(r=(t=Uc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Uc[this.storageKey]=Object.assign(Object.assign({},Uc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Uc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Uc[this.storageKey]=Object.assign(Object.assign({},Uc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},TZ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=em.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,em.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&dn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new uZ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=iF(i.fetch),this.lock=i.lock||YA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&dn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=fZ:this.lock=YA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new OZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:aF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=KA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=KA(this.memoryStorage)),dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rF}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(dn()&&(r=zX(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),dn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),$X(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?this._returnResult({error:r}):this._returnResult({error:new bl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xs}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Dc(this.storage,this.storageKey)),i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:Xs})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xs})}else throw new yg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await un(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:WA})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:WA})}else throw new yg("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Mc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:m,wallet:x,statement:b,options:p}=t;let w;if(dn())if(typeof x=="object")w=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const N=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=lF(j[0]);let _=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const C=await w.request({method:"eth_chainId"});_=mZ(C)}const k={domain:N.host,address:S,statement:b,uri:N.href,version:"1",chainId:_,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=gZ(k),y=await w.request({method:"personal_sign",params:[pZ(g),S]})}try{const{data:m,error:x}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xs});if(x)throw x;if(!m||!m.session||!m.user){const b=new Mc;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:x})}catch(m){if(Be(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,g;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:x,wallet:b,statement:p,options:w}=t;let N;if(dn())if(typeof b=="object")N=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))N=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const S=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)y=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),m=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await N.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:x,error:b}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:kl(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Xs});if(b)throw b;if(!x||!x.session||!x.user){const p=new Mc;return this._returnResult({data:{user:null,session:null},error:p})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await il(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new MX;const{data:i,error:o}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xs});if(await un(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Mc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xs}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Mc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Dc(this.storage,this.storageKey));const{error:f}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new yg("You must provide either an email or phone number.")}catch(l){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Dc(this.storage,this.storageKey));const u=await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:oZ});return!((i=u.data)===null||i===void 0)&&i.url&&dn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ls;const{error:s}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await He(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await He(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new yg("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await il(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<uw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await il(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=hw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=nZ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ao}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ls}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ao})})}catch(r){if(Be(r))return RX(r)&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ls;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Dc(this.storage,this.storageKey));const{data:u,error:d}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ao});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ls;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=fw(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ls;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!dn())throw new xg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new LA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new LA("No code detected.");const{data:p,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new xg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=Xc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await il(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(IX(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=qX(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dc(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return dn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Be(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Xs}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Mc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(s){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await KX(async s=>(s>0&&await HX(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&dw(i)&&Date.now()+o-n<Xc})}catch(n){if(this._debug(r,"error",n),Be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),dn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await il(this.storage,this.storageKey);if(s&&this.userStorage){let o=await il(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Zc(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:hw()}else if(s&&!s.user&&!s.user){const o=await il(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await un(this.storage,this.storageKey+"-user"),await Zc(this.storage,this.storageKey,s)):s.user=hw()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${uw}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),dw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ls;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Xx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ls;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Be(i)){const o={data:null,error:i};return dw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await un(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Zc(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=qA(s);await Zc(this.storage,this.storageKey,i)}else{const s=qA(r);await Zc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await un(this.storage,this.storageKey),await un(this.storage,this.storageKey+"-code-verifier"),await un(this.storage,this.storageKey+"-user"),this.userStorage&&await un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Xc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Xc}ms, refresh threshold is ${I1} ticks`),s<=I1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Dc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await He(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await He(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?NZ(t.webauthn.credential_response):SZ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:wZ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:jZ(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=fw(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await He(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ls})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ls});const o=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&dn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ls});const o=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&dn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await He(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ls})})}catch(t){if(Be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await He(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ls})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+OX>s)return n;const{data:i,error:o}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=fw(n);r!=null&&r.allowExpired||eZ(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const d=tZ(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,BX(`${l}.${c}`)))throw new M1("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}}em.nextInstanceID={};const IZ=em,RZ="2.89.0";let Gf="";typeof Deno<"u"?Gf="deno":typeof document<"u"?Gf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gf="react-native":Gf="node";const $Z={"X-Client-Info":`supabase-js-${Gf}/${RZ}`},MZ={headers:$Z},DZ={schema:"public"},LZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FZ={};function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function UZ(e,t){if(tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BZ(e){var t=UZ(e,"string");return tm(t)=="symbol"?t:t+""}function VZ(e,t,r){return(t=BZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){VZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const qZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zZ=()=>Headers,WZ=(e,t,r)=>{const n=qZ(r),s=zZ();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,hr(hr({},o),{},{headers:u}))}};function HZ(e){return e.endsWith("/")?e:e+"/"}function KZ(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:hr(hr({},c),s),auth:hr(hr({},u),i),realtime:hr(hr({},d),o),storage:{},global:hr(hr(hr({},f),l),{},{headers:hr(hr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function GZ(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HZ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var YZ=class extends IZ{constructor(e){super(e)}},QZ=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=GZ(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:DZ,realtime:FZ,auth:hr(hr({},LZ),{},{storageKey:o}),global:MZ},c=KZ(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=WZ(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(hr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new EQ(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new kX(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new SQ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YZ({url:this.authUrl.href,headers:hr(hr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new HQ(this.realtimeUrl.href,hr(hr({},e),{},{params:hr(hr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const XZ=(e,t,r)=>new QZ(e,t,r);function ZZ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ZZ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let pw=null,XA=!1,bg=null,rm=null,nm=null;const JZ="quarterdeck-auth";async function eJ(){if(!XA)return bg||(bg=(async()=>{try{console.log("[Supabase] Loading config from /api/public-config...");const t=await(await fetch("/api/public-config")).json();if(rm=t.supabaseUrl,nm=t.supabaseAnonKey,console.log("[Supabase] Config loaded:",{hasUrl:!!rm,hasKey:!!nm}),typeof window<"u"){const r=Object.keys(localStorage).filter(n=>n.includes("auth")||n.includes("supabase")||n.includes("sb-"));console.log("[Supabase] Auth-related localStorage keys:",r)}}catch(e){console.error("[Supabase] Failed to load config:",e)}XA=!0})(),bg)}function uF(){return!!(rm&&nm)}function ol(){if(!rm||!nm)throw new Error("Supabase is not configured. Please ensure config is loaded first.");return pw||(console.log("[Supabase] Creating client"),pw=XZ(rm,nm,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:JZ}})),pw}const dF=v.createContext(null);function tJ({children:e}){const[t,r]=v.useState({user:null,session:null,isLoading:!0,isAuthenticated:!1}),[n,s]=v.useState(!1),[i,o]=v.useState(!1);v.useEffect(()=>{console.log("[Auth] Loading Supabase config..."),eJ().then(()=>{const y=uF();console.log("[Auth] Config loaded, isConfigured:",y),o(!0),s(y)})},[]),v.useEffect(()=>{if(!i){console.log("[Auth] Waiting for config to load...");return}if(!n){console.log("[Auth] Supabase not configured, skipping auth init"),r(x=>({...x,isLoading:!1}));return}console.log("[Auth] Initializing auth...");let y;try{y=ol()}catch(x){console.error("[Auth] Failed to get Supabase client:",x),r(b=>({...b,isLoading:!1}));return}console.log("[Auth] Getting session..."),y.auth.getSession().then(({data:{session:x},error:b})=>{var p;console.log("[Auth] getSession result:",{hasSession:!!x,user:(p=x==null?void 0:x.user)==null?void 0:p.email,error:b==null?void 0:b.message}),r({user:(x==null?void 0:x.user)??null,session:x,isLoading:!1,isAuthenticated:!!(x!=null&&x.user)}),x!=null&&x.user&&(console.log("[Auth] User found, syncing to backend..."),l(x))});const{data:{subscription:m}}=y.auth.onAuthStateChange(async(x,b)=>{var p;console.log("[Auth] onAuthStateChange:",x,(p=b==null?void 0:b.user)==null?void 0:p.email),r({user:(b==null?void 0:b.user)??null,session:b,isLoading:!1,isAuthenticated:!!(b!=null&&b.user)}),x==="SIGNED_IN"&&b&&(console.log("[Auth] User signed in, syncing to backend..."),await l(b),Ne.invalidateQueries({queryKey:["/api/auth/user"]})),x==="SIGNED_OUT"&&(console.log("[Auth] User signed out"),Ne.invalidateQueries({queryKey:["/api/auth/user"]}))});return()=>m.unsubscribe()},[i,n]);const l=async y=>{var m,x,b,p;try{const w=await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.access_token}`},body:JSON.stringify({supabaseUserId:y.user.id,email:y.user.email,firstName:((m=y.user.user_metadata)==null?void 0:m.firstName)||((x=y.user.user_metadata)==null?void 0:x.first_name),lastName:((b=y.user.user_metadata)==null?void 0:b.lastName)||((p=y.user.user_metadata)==null?void 0:p.last_name)})});if(console.log("[Auth] Sync response:",w.status),w.status===403){const N=await w.json();return console.log("[Auth] Email verification required:",N.message),{success:!1,requiresEmailVerification:!0,error:N.message}}return w.ok?{success:!0}:{success:!1,error:(await w.json()).message||"Sync failed"}}catch(w){return console.error("[Auth] Failed to sync user to backend:",w),{success:!1,error:"Network error during sync"}}},c=v.useCallback(async(y,m,x)=>{if(!n)return{error:{message:"Supabase not configured"}};const b=ol(),{error:p}=await b.auth.signUp({email:y,password:m,options:{data:x,emailRedirectTo:`${window.location.origin}/auth/callback`}});return{error:p}},[n]),u=v.useCallback(async(y,m)=>{var w;if(!n)return console.log("[Auth] signIn failed - not configured"),{error:{message:"Supabase not configured"}};console.log("[Auth] signIn called for:",y);const x=ol(),{data:b,error:p}=await x.auth.signInWithPassword({email:y,password:m});if(p)return console.log("[Auth] signIn error:",p.message),{error:p};if(console.log("[Auth] signIn success:",(w=b.user)==null?void 0:w.email),b.session){const N=await l(b.session);if(!N.success)return N.requiresEmailVerification?(console.log("[Auth] Email verification required, signing out..."),await x.auth.signOut(),localStorage.removeItem("quarterdeck-auth"),{error:{message:"Please verify your email address before signing in. Check your inbox for a verification link."},requiresEmailVerification:!0}):{error:{message:N.error||"Failed to establish session"}}}return{}},[n]),d=v.useCallback(async()=>{if(console.log("[Auth] signOut called"),r({user:null,session:null,isLoading:!1,isAuthenticated:!1}),Ne.clear(),localStorage.removeItem("quarterdeck-auth"),n)try{await ol().auth.signOut()}catch(y){console.error("[Auth] Supabase signOut error:",y)}try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(y){console.error("[Auth] Backend logout error:",y)}console.log("[Auth] signOut complete")},[n]),f=v.useCallback(async y=>{if(!n)return{error:{message:"Supabase not configured"}};const m=ol(),{error:x}=await m.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/auth/reset-password`});return{error:x}},[n]),h=v.useCallback(async y=>{if(!n)return{error:{message:"Supabase not configured"}};const m=ol(),{error:x}=await m.auth.updateUser({password:y});return{error:x}},[n]),g=v.useCallback(async y=>{if(!n)return{error:{message:"Supabase not configured"}};const m=ol(),{error:x}=await m.auth.signInWithOAuth({provider:y,options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:x}},[n]);return a.jsx(dF.Provider,{value:{...t,signUp:c,signIn:u,signInWithOAuth:g,signOut:d,resetPassword:f,updatePassword:h,isSupabaseConfigured:n,useSupabaseAuth:n},children:e})}function Qd(){const e=v.useContext(dF);if(!e)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e}function rJ(){const[e]=ss(),{data:t}=ve({queryKey:["/api/admin/config"],queryFn:async()=>{try{const y=await fetch("/api/admin/config");return y.ok?await y.json():{}}catch{return{}}}}),{data:r,isLoading:n}=ve({queryKey:["/api/site-settings"],queryFn:async()=>{try{const y=await fetch("/api/site-settings");if(!y.ok)return{};const m=await y.json();return m&&typeof m=="object"&&!m.message?m:{}}catch{return{}}}}),s=(r==null?void 0:r.whatsapp_button_visible)==="true",i=(r==null?void 0:r.whatsapp_phone)||"",o=(r==null?void 0:r.whatsapp_default_message)||"",l=(r==null?void 0:r.whatsapp_button_text)||"Chat on WhatsApp",c=t==null?void 0:t.adminPath,u=c?e.startsWith(`/${c}`):!1,d=e==="/booking"||e.startsWith("/booking/");if(n||!s||!i||u||d)return null;const f=i.replace(/[^0-9]/g,""),h=window.encodeURIComponent(o),g=`https://wa.me/${f}${o?`?text=${h}`:""}`;return a.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5A] text-white px-4 py-3 rounded-full shadow-lg transition-all duration-300 hover:scale-105 group","data-testid":"button-whatsapp-float","aria-label":l,children:[a.jsx(xK,{className:"w-6 h-6"}),a.jsx("span",{className:"hidden sm:inline font-medium",children:l})]})}var nJ=Symbol.for("react.lazy"),Gv=vx[" use ".trim().toString()];function sJ(e){return typeof e=="object"&&e!==null&&"then"in e}function fF(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===nJ&&"_payload"in e&&sJ(e._payload)}function Zx(e){const t=aJ(e),r=v.forwardRef((n,s)=>{let{children:i,...o}=n;fF(i)&&typeof Gv=="function"&&(i=Gv(i._payload));const l=v.Children.toArray(i),c=l.find(oJ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var uk=Zx("Slot");function aJ(e){const t=v.forwardRef((r,n)=>{let{children:s,...i}=r;if(fF(s)&&typeof Gv=="function"&&(s=Gv(s._payload)),v.isValidElement(s)){const o=cJ(s),l=lJ(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iJ=Symbol("radix.slottable");function oJ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iJ}function lJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function cJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const dk=op("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),U=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?uk:"button";return a.jsx(o,{className:fe(dk({variant:t,size:r,className:e})),ref:i,...s})});U.displayName="Button";function uJ(){const[e,t]=v.useState(!1);v.useEffect(()=>{const n=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return a.jsx(U,{size:"icon",variant:"outline",className:`fixed bottom-6 right-20 z-50 rounded-full shadow-lg transition-all duration-300 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border border-border ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,onClick:r,"aria-label":"Scroll to top","data-testid":"button-scroll-to-top",children:a.jsx(lK,{className:"h-4 w-4"})})}function dJ(){const[e]=ss();return v.useEffect(()=>{e.includes("#")||window.scrollTo({top:0,behavior:"instant"})},[e]),null}function mp(){const{data:e,isLoading:t,error:r}=ve({queryKey:["/api/admin/config"],queryFn:async()=>{const n=await fetch("/api/admin/config",{credentials:"include"});if(!n.ok)throw new Error("Not authorized to access admin config");return n.json()},retry:!1,staleTime:18e5});return{adminPath:(e==null?void 0:e.adminPath)||"admin",isLoading:t,error:r,isAuthorized:!!e&&!r}}const Yv="/assets/dark_elegant_sports__61a0b4ec-CXuzKOFY.jpg";function jc(){const{data:e,isLoading:t,error:r}=ve({queryKey:["/api/auth/user"],queryFn:pD({on401:"returnNull"}),retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e,error:r}}function ZA(){const[e,t]=v.useState("light");v.useEffect(()=>{const n=localStorage.getItem("qd-theme");n?(t(n),document.documentElement.classList.toggle("dark",n==="dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(t("dark"),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=e==="light"?"dark":"light";t(n),localStorage.setItem("qd-theme",n),document.documentElement.classList.toggle("dark",n==="dark")};return a.jsx(U,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full","data-testid":"button-theme-toggle",children:e==="light"?a.jsx(jK,{className:"w-4 h-4"}):a.jsx(OK,{className:"w-4 h-4"})})}var gw=0;function Jx(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??JA()),document.body.insertAdjacentElement("beforeend",e[1]??JA()),gw++,()=>{gw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gw--}},[])}function JA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vw="focusScope.autoFocusOnMount",yw="focusScope.autoFocusOnUnmount",e2={bubbles:!1,cancelable:!0},fJ="FocusScope",pp=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=vr(s),d=vr(i),f=v.useRef(null),h=rt(t,m=>c(m)),g=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(w){if(g.paused||!l)return;const N=w.target;l.contains(N)?f.current=N:Qi(f.current,{select:!0})},x=function(w){if(g.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Qi(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Qi(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const p=new MutationObserver(b);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),p.disconnect()}}},[n,l,g.paused]),v.useEffect(()=>{if(l){r2.add(g);const m=document.activeElement;if(!l.contains(m)){const b=new CustomEvent(vw,e2);l.addEventListener(vw,u),l.dispatchEvent(b),b.defaultPrevented||(hJ(yJ(hF(l)),{select:!0}),document.activeElement===m&&Qi(l))}return()=>{l.removeEventListener(vw,u),setTimeout(()=>{const b=new CustomEvent(yw,e2);l.addEventListener(yw,d),l.dispatchEvent(b),b.defaultPrevented||Qi(m??document.body,{select:!0}),l.removeEventListener(yw,d),r2.remove(g)},0)}}},[l,u,d,g]);const y=v.useCallback(m=>{if(!r&&!n||g.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(x&&b){const p=m.currentTarget,[w,N]=mJ(p);w&&N?!m.shiftKey&&b===N?(m.preventDefault(),r&&Qi(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),r&&Qi(N,{select:!0})):b===p&&m.preventDefault()}},[r,n,g.paused]);return a.jsx(Oe.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});pp.displayName=fJ;function hJ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qi(n,{select:t}),document.activeElement!==r)return}function mJ(e){const t=hF(e),r=t2(t,e),n=t2(t.reverse(),e);return[r,n]}function hF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function t2(e,t){for(const r of e)if(!pJ(r,{upTo:t}))return r}function pJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gJ(e){return e instanceof HTMLInputElement&&"select"in e}function Qi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&gJ(e)&&t&&e.select()}}var r2=vJ();function vJ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=n2(e,t),e.unshift(t)},remove(t){var r;e=n2(e,t),(r=e[0])==null||r.resume()}}}function n2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function yJ(e){return e.filter(t=>t.tagName!=="A")}function xJ(e){const t=bJ(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(jJ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function bJ(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=SJ(s),l=NJ(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wJ=Symbol("radix.slottable");function jJ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wJ}function NJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function SJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var _J=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bc=new WeakMap,wg=new WeakMap,jg={},xw=0,mF=function(e){return e&&(e.host||mF(e.parentNode))},kJ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=mF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},CJ=function(e,t,r,n){var s=kJ(t,Array.isArray(e)?e:[e]);jg[r]||(jg[r]=new WeakMap);var i=jg[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var g=h.getAttribute(n),y=g!==null&&g!=="false",m=(Bc.get(h)||0)+1,x=(i.get(h)||0)+1;Bc.set(h,m),i.set(h,x),o.push(h),m===1&&y&&wg.set(h,!0),x===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),xw++,function(){o.forEach(function(f){var h=Bc.get(f)-1,g=i.get(f)-1;Bc.set(f,h),i.set(f,g),h||(wg.has(f)||f.removeAttribute(n),wg.delete(f)),g||f.removeAttribute(r)}),xw--,xw||(Bc=new WeakMap,Bc=new WeakMap,wg=new WeakMap,jg={})}},eb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=_J(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),CJ(n,s,r,"aria-hidden")):function(){return null}},av="right-scroll-bar-position",iv="width-before-scroll-bar",PJ="with-scroll-bars-hidden",EJ="--removed-body-scroll-bar-size";function bw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function AJ(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var OJ=typeof window<"u"?v.useLayoutEffect:v.useEffect,s2=new WeakMap;function TJ(e,t){var r=AJ(null,function(n){return e.forEach(function(s){return bw(s,n)})});return OJ(function(){var n=s2.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||bw(l,null)}),i.forEach(function(l){s.has(l)||bw(l,o)})}s2.set(r,e)},[e]),r}function IJ(e){return e}function RJ(e,t){t===void 0&&(t=IJ);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function $J(e){e===void 0&&(e={});var t=RJ(null);return t.options=Ra({async:!0,ssr:!1},e),t}var pF=function(e){var t=e.sideCar,r=Yd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Ra({},r))};pF.isSideCarExport=!0;function MJ(e,t){return e.useMedium(t),pF}var gF=$J(),ww=function(){},tb=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:ww,onWheelCapture:ww,onTouchMoveCapture:ww}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noRelative,y=e.noIsolation,m=e.inert,x=e.allowPinchZoom,b=e.as,p=b===void 0?"div":b,w=e.gapMode,N=Yd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=TJ([r,t]),_=Ra(Ra({},N),s);return v.createElement(v.Fragment,null,d&&v.createElement(j,{sideCar:gF,removeScrollBar:u,shards:f,noRelative:g,noIsolation:y,inert:m,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?v.cloneElement(v.Children.only(l),Ra(Ra({},_),{ref:S})):v.createElement(p,Ra({},_,{className:c,ref:S}),l))});tb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tb.classNames={fullWidth:iv,zeroRight:av};var DJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=DJ();return t&&e.setAttribute("nonce",t),e}function FJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function UJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var BJ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=LJ())&&(FJ(t,r),UJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},VJ=function(){var e=BJ();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},vF=function(){var e=VJ(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},qJ={left:0,top:0,right:0,gap:0},jw=function(e){return parseInt(e||"",10)||0},zJ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[jw(r),jw(n),jw(s)]},WJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return qJ;var t=zJ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},HJ=vF(),Tu="data-scroll-locked",KJ=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(PJ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Tu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(av,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(iv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(av," .").concat(av,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(iv," .").concat(iv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Tu,`] {
    `).concat(EJ,": ").concat(l,`px;
  }
`)},a2=function(){var e=parseInt(document.body.getAttribute(Tu)||"0",10);return isFinite(e)?e:0},GJ=function(){v.useEffect(function(){return document.body.setAttribute(Tu,(a2()+1).toString()),function(){var e=a2()-1;e<=0?document.body.removeAttribute(Tu):document.body.setAttribute(Tu,e.toString())}},[])},YJ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;GJ();var i=v.useMemo(function(){return WJ(s)},[s]);return v.createElement(HJ,{styles:KJ(i,!t,s,r?"":"!important")})},D1=!1;if(typeof window<"u")try{var Ng=Object.defineProperty({},"passive",{get:function(){return D1=!0,!0}});window.addEventListener("test",Ng,Ng),window.removeEventListener("test",Ng,Ng)}catch{D1=!1}var Vc=D1?{passive:!1}:!1,QJ=function(e){return e.tagName==="TEXTAREA"},yF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!QJ(e)&&r[t]==="visible")},XJ=function(e){return yF(e,"overflowY")},ZJ=function(e){return yF(e,"overflowX")},i2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=xF(e,n);if(s){var i=bF(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},JJ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},eee=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},xF=function(e,t){return e==="v"?XJ(t):ZJ(t)},bF=function(e,t){return e==="v"?JJ(t):eee(t)},tee=function(e,t){return e==="h"&&t==="rtl"?-1:1},ree=function(e,t,r,n,s){var i=tee(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var g=bF(e,l),y=g[0],m=g[1],x=g[2],b=m-x-i*y;(y||b)&&xF(e,l)&&(f+=b,h+=y);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Sg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},o2=function(e){return[e.deltaX,e.deltaY]},l2=function(e){return e&&"current"in e?e.current:e},nee=function(e,t){return e[0]===t[0]&&e[1]===t[1]},see=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aee=0,qc=[];function iee(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(aee++)[0],i=v.useState(vF)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=wQ([e.lockRef.current],(e.shards||[]).map(l2),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=Sg(m),p=r.current,w="deltaX"in m?m.deltaX:p[0]-b[0],N="deltaY"in m?m.deltaY:p[1]-b[1],j,S=m.target,_=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in m&&_==="h"&&S.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,E=C?C===S||C.contains(S):!1;if(E)return!1;var P=i2(_,S);if(!P)return!0;if(P?j=_:(j=_==="v"?"h":"v",P=i2(_,S)),!P)return!1;if(!n.current&&"changedTouches"in m&&(w||N)&&(n.current=j),!j)return!0;var R=n.current||j;return ree(R,x,m,R==="h"?w:N)},[]),c=v.useCallback(function(m){var x=m;if(!(!qc.length||qc[qc.length-1]!==i)){var b="deltaY"in x?o2(x):Sg(x),p=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&nee(j.delta,b)})[0];if(p&&p.should){x.cancelable&&x.preventDefault();return}if(!p){var w=(o.current.shards||[]).map(l2).filter(Boolean).filter(function(j){return j.contains(x.target)}),N=w.length>0?l(x,w[0]):!o.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),u=v.useCallback(function(m,x,b,p){var w={name:m,delta:x,target:b,should:p,shadowParent:oee(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),d=v.useCallback(function(m){r.current=Sg(m),n.current=void 0},[]),f=v.useCallback(function(m){u(m.type,o2(m),m.target,l(m,e.lockRef.current))},[]),h=v.useCallback(function(m){u(m.type,Sg(m),m.target,l(m,e.lockRef.current))},[]);v.useEffect(function(){return qc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Vc),document.addEventListener("touchmove",c,Vc),document.addEventListener("touchstart",d,Vc),function(){qc=qc.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Vc),document.removeEventListener("touchmove",c,Vc),document.removeEventListener("touchstart",d,Vc)}},[]);var g=e.removeScrollBar,y=e.inert;return v.createElement(v.Fragment,null,y?v.createElement(i,{styles:see(s)}):null,g?v.createElement(YJ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function oee(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lee=MJ(gF,iee);var gp=v.forwardRef(function(e,t){return v.createElement(tb,Ra({},e,{ref:t,sideCar:lee}))});gp.classNames=tb.classNames;var rb="Popover",[wF]=yn(rb,[Go]),vp=Go(),[cee,Yo]=wF(rb),jF=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=vp(t),c=v.useRef(null),[u,d]=v.useState(!1),[f,h]=rs({prop:n,defaultProp:s??!1,onChange:i,caller:rb});return a.jsx(zx,{...l,children:a.jsx(cee,{scope:t,contentId:Rr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:r})})};jF.displayName=rb;var NF="PopoverAnchor",uee=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Yo(NF,r),i=vp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return v.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(fp,{...i,...n,ref:t})});uee.displayName=NF;var SF="PopoverTrigger",_F=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Yo(SF,r),i=vp(r),o=rt(t,s.triggerRef),l=a.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":AF(s.open),...n,ref:o,onClick:me(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(fp,{asChild:!0,...i,children:l})});_F.displayName=SF;var fk="PopoverPortal",[dee,fee]=wF(fk,{forceMount:void 0}),kF=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=Yo(fk,t);return a.jsx(dee,{scope:t,forceMount:r,children:a.jsx(Xr,{present:r||i.open,children:a.jsx(zd,{asChild:!0,container:s,children:n})})})};kF.displayName=fk;var od="PopoverContent",CF=v.forwardRef((e,t)=>{const r=fee(od,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=Yo(od,e.__scopePopover);return a.jsx(Xr,{present:n||i.open,children:i.modal?a.jsx(mee,{...s,ref:t}):a.jsx(pee,{...s,ref:t})})});CF.displayName=od;var hee=xJ("PopoverContent.RemoveScroll"),mee=v.forwardRef((e,t)=>{const r=Yo(od,e.__scopePopover),n=v.useRef(null),s=rt(t,n),i=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return eb(o)},[]),a.jsx(gp,{as:hee,allowPinchZoom:!0,children:a.jsx(PF,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:me(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),pee=v.forwardRef((e,t)=>{const r=Yo(od,e.__scopePopover),n=v.useRef(!1),s=v.useRef(!1);return a.jsx(PF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),PF=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Yo(od,r),g=vp(r);return Jx(),a.jsx(pp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(wc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Wx,{"data-state":AF(h.open),role:"dialog",id:h.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),EF="PopoverClose",gee=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Yo(EF,r);return a.jsx(Oe.button,{type:"button",...n,ref:t,onClick:me(e.onClick,()=>s.onOpenChange(!1))})});gee.displayName=EF;var vee="PopoverArrow",yee=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=vp(r);return a.jsx(Hx,{...s,...n,ref:t})});yee.displayName=vee;function AF(e){return e?"open":"closed"}var xee=jF,bee=_F,wee=kF,OF=CF;const jee=xee,Nee=bee,TF=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(wee,{children:a.jsx(OF,{ref:s,align:t,sideOffset:r,className:fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));TF.displayName=OF.displayName;var See=v.createContext(void 0);function Xd(e){const t=v.useContext(See);return e||t||"ltr"}function L1(e,[t,r]){return Math.min(r,Math.max(t,e))}function _ee(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var hk="ScrollArea",[IF]=yn(hk),[kee,zs]=IF(hk),RF=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[g,y]=v.useState(null),[m,x]=v.useState(null),[b,p]=v.useState(0),[w,N]=v.useState(0),[j,S]=v.useState(!1),[_,k]=v.useState(!1),C=rt(t,P=>c(P)),E=Xd(s);return a.jsx(kee,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:y,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:x,scrollbarYEnabled:_,onScrollbarYEnabledChange:k,onCornerWidthChange:p,onCornerHeightChange:N,children:a.jsx(Oe.div,{dir:E,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});RF.displayName=hk;var $F="ScrollAreaViewport",MF=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=zs($F,r),l=v.useRef(null),c=rt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Oe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});MF.displayName=$F;var Ya="ScrollAreaScrollbar",mk=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=zs(Ya,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(Cee,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(Pee,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(DF,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(pk,{...n,ref:t}):null});mk.displayName=Ya;var Cee=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=zs(Ya,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Xr,{present:r||i,children:a.jsx(DF,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Pee=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=zs(Ya,e.__scopeScrollArea),i=e.orientation==="horizontal",o=sb(()=>c("SCROLL_END"),100),[l,c]=_ee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),v.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const g=u[d];f!==g&&(c("SCROLL"),o()),f=g};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(Xr,{present:r||l!=="hidden",children:a.jsx(pk,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:me(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:me(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),DF=v.forwardRef((e,t)=>{const r=zs(Ya,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=sb(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return ld(r.viewport,c),ld(r.content,c),a.jsx(Xr,{present:n||i,children:a.jsx(pk,{"data-state":i?"visible":"hidden",...s,ref:t})})}),pk=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=zs(Ya,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=VF(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,g){return Ree(h,o.current,l,g)}return r==="horizontal"?a.jsx(Eee,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,g=c2(h,l,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(Aee,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,g=c2(h,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),Eee=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=zs(Ya,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=rt(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(FF,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),zF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Xv(o.paddingLeft),paddingEnd:Xv(o.paddingRight)}})}})}),Aee=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=zs(Ya,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=rt(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(FF,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),zF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Xv(o.paddingTop),paddingEnd:Xv(o.paddingBottom)}})}})}),[Oee,LF]=IF(Ya),FF=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,g=zs(Ya,r),[y,m]=v.useState(null),x=rt(t,C=>m(C)),b=v.useRef(null),p=v.useRef(""),w=g.viewport,N=n.content-n.viewport,j=vr(d),S=vr(c),_=sb(f,10);function k(C){if(b.current){const E=C.clientX-b.current.left,P=C.clientY-b.current.top;u({x:E,y:P})}}return v.useEffect(()=>{const C=E=>{const P=E.target;(y==null?void 0:y.contains(P))&&j(E,N)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,y,N,j]),v.useEffect(S,[n,S]),ld(y,_),ld(g.content,_),a.jsx(Oee,{scope:r,scrollbar:y,hasThumb:s,onThumbChange:vr(i),onThumbPointerUp:vr(o),onThumbPositionChange:S,onThumbPointerDown:vr(l),children:a.jsx(Oe.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:me(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=y.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:me(e.onPointerMove,k),onPointerUp:me(e.onPointerUp,C=>{const E=C.target;E.hasPointerCapture(C.pointerId)&&E.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=p.current,g.viewport&&(g.viewport.style.scrollBehavior=""),b.current=null})})})}),Qv="ScrollAreaThumb",UF=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=LF(Qv,e.__scopeScrollArea);return a.jsx(Xr,{present:r||s.hasThumb,children:a.jsx(Tee,{ref:t,...n})})}),Tee=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=zs(Qv,r),o=LF(Qv,r),{onThumbPositionChange:l}=o,c=rt(t,f=>o.onThumbChange(f)),u=v.useRef(void 0),d=sb(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const g=$ee(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Oe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:me(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),y=f.clientX-g.left,m=f.clientY-g.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:me(e.onPointerUp,o.onThumbPointerUp)})});UF.displayName=Qv;var gk="ScrollAreaCorner",BF=v.forwardRef((e,t)=>{const r=zs(gk,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(Iee,{...e,ref:t}):null});BF.displayName=gk;var Iee=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=zs(gk,r),[i,o]=v.useState(0),[l,c]=v.useState(0),u=!!(i&&l);return ld(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),ld(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Oe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Xv(e){return e?parseInt(e,10):0}function VF(e,t){const r=e/t;return isNaN(r)?0:r}function nb(e){const t=VF(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Ree(e,t,r,n="ltr"){const s=nb(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return qF([c,u],f)(e)}function c2(e,t,r="ltr"){const n=nb(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=L1(e,c);return qF([0,o],[0,l])(u)}function qF(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function zF(e,t){return e>0&&e<t}var $ee=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function sb(e,t){const r=vr(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function ld(e,t){const r=vr(t);yr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var WF=RF,Mee=MF,Dee=BF;const HF=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(WF,{ref:n,className:fe("relative overflow-hidden",e),...r,children:[a.jsx(Mee,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(KF,{}),a.jsx(Dee,{})]}));HF.displayName=WF.displayName;const KF=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(mk,{ref:n,orientation:t,className:fe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(UF,{className:"relative flex-1 rounded-full bg-border"})}));KF.displayName=mk.displayName;function Lt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Uo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const GF=6048e5,Lee=864e5,_g=43200,u2=1440;let Fee={};function yp(){return Fee}function sm(e,t){var l,c,u,d;const r=yp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Lt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Zv(e){return sm(e,{weekStartsOn:1})}function YF(e){const t=Lt(e),r=t.getFullYear(),n=Uo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Zv(n),i=Uo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Zv(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function d2(e){const t=Lt(e);return t.setHours(0,0,0,0),t}function Jv(e){const t=Lt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function QF(e,t){const r=d2(e),n=d2(t),s=+r-Jv(r),i=+n-Jv(n);return Math.round((s-i)/Lee)}function Uee(e){const t=YF(e),r=Uo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Zv(r)}function ov(e,t){const r=Lt(e),n=Lt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Bee(e){return Uo(e,Date.now())}function Vee(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function qee(e){if(!Vee(e)&&typeof e!="number")return!1;const t=Lt(e);return!isNaN(Number(t))}function zee(e,t){const r=Lt(e),n=Lt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Wee(e,t){const r=Lt(e),n=Lt(t),s=f2(r,n),i=Math.abs(QF(r,n));r.setDate(r.getDate()-s*i);const o=+(f2(r,n)===-s),l=s*(i-o);return l===0?0:l}function f2(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Hee(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Kee(e,t){return+Lt(e)-+Lt(t)}function Gee(e){const t=Lt(e);return t.setHours(23,59,59,999),t}function Yee(e){const t=Lt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Qee(e){const t=Lt(e);return+Gee(t)==+Yee(t)}function Xee(e,t){const r=Lt(e),n=Lt(t),s=ov(r,n),i=Math.abs(zee(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=ov(r,n)===-s;Qee(Lt(e))&&i===1&&ov(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function Zee(e,t,r){const n=Kee(e,t)/1e3;return Hee(r==null?void 0:r.roundingMethod)(n)}function Jee(e){const t=Lt(e),r=Uo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ete={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tte=(e,t,r)=>{let n;const s=ete[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const rte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ste={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ate={date:Nw({formats:rte,defaultWidth:"full"}),time:Nw({formats:nte,defaultWidth:"full"}),dateTime:Nw({formats:ste,defaultWidth:"full"})},ite={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ote=(e,t,r,n)=>ite[e];function Cf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const lte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ute={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mte=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pte={ordinalNumber:mte,era:Cf({values:lte,defaultWidth:"wide"}),quarter:Cf({values:cte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Cf({values:ute,defaultWidth:"wide"}),day:Cf({values:dte,defaultWidth:"wide"}),dayPeriod:Cf({values:fte,defaultWidth:"wide",formattingValues:hte,defaultFormattingWidth:"wide"})};function Pf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?vte(l,f=>f.test(o)):gte(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function gte(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function vte(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yte(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const xte=/^(\d+)(th|st|nd|rd)?/i,bte=/\d+/i,wte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jte={any:[/^b/i,/^(a|c)/i]},Nte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ste={any:[/1/i,/2/i,/3/i,/4/i]},_te={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Pte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ete={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ate={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ote={ordinalNumber:yte({matchPattern:xte,parsePattern:bte,valueCallback:e=>parseInt(e,10)}),era:Pf({matchPatterns:wte,defaultMatchWidth:"wide",parsePatterns:jte,defaultParseWidth:"any"}),quarter:Pf({matchPatterns:Nte,defaultMatchWidth:"wide",parsePatterns:Ste,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pf({matchPatterns:_te,defaultMatchWidth:"wide",parsePatterns:kte,defaultParseWidth:"any"}),day:Pf({matchPatterns:Cte,defaultMatchWidth:"wide",parsePatterns:Pte,defaultParseWidth:"any"}),dayPeriod:Pf({matchPatterns:Ete,defaultMatchWidth:"any",parsePatterns:Ate,defaultParseWidth:"any"})},XF={code:"en-US",formatDistance:tte,formatLong:ate,formatRelative:ote,localize:pte,match:Ote,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tte(e){const t=Lt(e);return QF(t,Jee(t))+1}function Ite(e){const t=Lt(e),r=+Zv(t)-+Uee(t);return Math.round(r/GF)+1}function ZF(e,t){var d,f,h,g;const r=Lt(e),n=r.getFullYear(),s=yp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(h=s.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=Uo(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=sm(o,t),c=Uo(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=sm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Rte(e,t){var l,c,u,d;const r=yp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=ZF(e,t),i=Uo(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),sm(i,t)}function $te(e,t){const r=Lt(e),n=+sm(r,t)-+Rte(r,t);return Math.round(n/GF)+1}function Mt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Gi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Mt(s,t.length)}},zc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Gi.y(e,t)},Y:function(e,t,r,n){const s=ZF(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Mt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mt(i,t.length)},R:function(e,t){const r=YF(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Gi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=$te(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Mt(s,t.length)},I:function(e,t,r){const n=Ite(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Gi.d(e,t)},D:function(e,t,r){const n=Tte(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Mt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=zc.noon:n===0?s=zc.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=zc.evening:n>=12?s=zc.afternoon:n>=4?s=zc.morning:s=zc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Gi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Gi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Gi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Gi.s(e,t)},S:function(e,t){return Gi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return p2(n);case"XXXX":case"XX":return pl(n);case"XXXXX":case"XXX":default:return pl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return p2(n);case"xxxx":case"xx":return pl(n);case"xxxxx":case"xxx":default:return pl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+m2(n,":");case"OOOO":default:return"GMT"+pl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+m2(n,":");case"zzzz":default:return"GMT"+pl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Mt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Mt(n,t.length)}};function m2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Mt(i,2)}function p2(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):pl(e,t)}function pl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Mt(Math.trunc(n/60),2),i=Mt(n%60,2);return r+s+t+i}const g2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},JF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Mte=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return g2(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",g2(n,t)).replace("{{time}}",JF(s,t))},Dte={p:JF,P:Mte},Lte=/^D+$/,Fte=/^Y+$/,Ute=["D","DD","YY","YYYY"];function Bte(e){return Lte.test(e)}function Vte(e){return Fte.test(e)}function qte(e,t,r){const n=zte(e,t,r);if(console.warn(n),Ute.includes(e))throw new RangeError(n)}function zte(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Wte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kte=/^'([^]*?)'?$/,Gte=/''/g,Yte=/[a-zA-Z]/;function cd(e,t,r){var d,f,h,g;const n=yp(),s=n.locale??XF,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,l=Lt(e);if(!qee(l))throw new RangeError("Invalid time value");let c=t.match(Hte).map(y=>{const m=y[0];if(m==="p"||m==="P"){const x=Dte[m];return x(y,s.formatLong)}return y}).join("").match(Wte).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const m=y[0];if(m==="'")return{isToken:!1,value:Qte(y)};if(h2[m])return{isToken:!0,value:y};if(m.match(Yte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const m=y.value;(Vte(m)||Bte(m))&&qte(m,t,String(e));const x=h2[m[0]];return x(l,m,s.localize,u)}).join("")}function Qte(e){const t=e.match(Kte);return t?t[1].replace(Gte,"'"):e}function Xte(e,t,r){const n=yp(),s=(r==null?void 0:r.locale)??n.locale??XF,i=2520,o=ov(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Lt(t),u=Lt(e)):(c=Lt(e),u=Lt(t));const d=Zee(u,c),f=(Jv(u)-Jv(c))/1e3,h=Math.round((d-f)/60);let g;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<u2){const y=Math.round(h/60);return s.formatDistance("aboutXHours",y,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<_g){const y=Math.round(h/u2);return s.formatDistance("xDays",y,l)}else if(h<_g*2)return g=Math.round(h/_g),s.formatDistance("aboutXMonths",g,l)}if(g=Xee(u,c),g<12){const y=Math.round(h/_g);return s.formatDistance("xMonths",y,l)}else{const y=g%12,m=Math.trunc(g/12);return y<3?s.formatDistance("aboutXYears",m,l):y<9?s.formatDistance("overXYears",m,l):s.formatDistance("almostXYears",m+1,l)}}function e3(e,t){return Xte(e,Bee(e),t)}function Zte(){const[e,t]=v.useState(!1),{data:r=[],isLoading:n}=ve({queryKey:["/api/notifications"]}),{data:s}=ve({queryKey:["/api/notifications/unread-count"]}),i=Te({mutationFn:async f=>{await Ae("POST",`/api/notifications/${f}/read`)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),o=Te({mutationFn:async()=>{await Ae("POST","/api/notifications/read-all")},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=Te({mutationFn:async f=>{await Ae("DELETE",`/api/notifications/${f}`)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),c=(s==null?void 0:s.count)||0,u=f=>{switch(f){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},d=f=>{f.isRead||i.mutate(f.id),f.link&&t(!1)};return a.jsxs(jee,{open:e,onOpenChange:t,children:[a.jsx(Nee,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[a.jsx(nd,{className:"w-5 h-5"}),c>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] px-1 text-xs font-medium text-white bg-red-500 rounded-full","data-testid":"notification-count",children:c>99?"99+":c})]})}),a.jsxs(TF,{className:"w-80 p-0",align:"end",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[a.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),c>0&&a.jsxs(U,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-mark-all-read",children:[a.jsx(an,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),a.jsx(HF,{className:"h-[300px]",children:n?a.jsx("div",{className:"flex items-center justify-center h-20",children:a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-primary border-t-transparent rounded-full"})}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-sm text-muted-foreground",children:[a.jsx(nd,{className:"w-8 h-8 mb-2 opacity-50"}),a.jsx("p",{children:"No notifications"})]}):a.jsx("div",{className:"divide-y",children:r.map(f=>a.jsx("div",{className:`p-3 group ${f.isRead?"":"bg-muted/50"}`,"data-testid":`notification-item-${f.id}`,children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${u(f.type)}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[f.link?a.jsx(oe,{href:f.link,onClick:()=>d(f),children:a.jsx("p",{className:"text-sm font-medium cursor-pointer hover:underline",children:f.title})}):a.jsx("p",{className:"text-sm font-medium",children:f.title}),a.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:f.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e3(new Date(f.createdAt),{addSuffix:!0})})]}),a.jsxs("div",{className:"flex items-start gap-1 invisible group-hover:visible",children:[!f.isRead&&a.jsx(U,{variant:"ghost",size:"icon",className:"w-6 h-6",onClick:()=>i.mutate(f.id),disabled:i.isPending,"data-testid":`button-mark-read-${f.id}`,children:a.jsx(an,{className:"w-3 h-3"})}),a.jsx(U,{variant:"ghost",size:"icon",className:"w-6 h-6 text-destructive",onClick:()=>l.mutate(f.id),disabled:l.isPending,"data-testid":`button-delete-notification-${f.id}`,children:a.jsx(on,{className:"w-3 h-3"})})]})]})},f.id))})}),a.jsx("div",{className:"p-2 border-t",children:a.jsx(oe,{href:"/profile?tab=notifications",onClick:()=>t(!1),children:a.jsx(U,{variant:"ghost",className:"w-full text-xs h-8","data-testid":"button-view-all-notifications",children:"View all notifications"})})})]})]})}var Sw="rovingFocusGroup.onEntryFocus",Jte={bubbles:!1,cancelable:!0},xp="RovingFocusGroup",[F1,t3,ere]=ap(xp),[tre,ab]=yn(xp,[ere]),[rre,nre]=tre(xp),r3=v.forwardRef((e,t)=>a.jsx(F1.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(F1.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(sre,{...e,ref:t})})}));r3.displayName=xp;var sre=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),g=rt(t,h),y=Xd(i),[m,x]=rs({prop:o,defaultProp:l??null,onChange:c,caller:xp}),[b,p]=v.useState(!1),w=vr(u),N=t3(r),j=v.useRef(!1),[S,_]=v.useState(0);return v.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Sw,w),()=>k.removeEventListener(Sw,w)},[w]),a.jsx(rre,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:m,onItemFocus:v.useCallback(k=>x(k),[x]),onItemShiftTab:v.useCallback(()=>p(!0),[]),onFocusableItemAdd:v.useCallback(()=>_(k=>k+1),[]),onFocusableItemRemove:v.useCallback(()=>_(k=>k-1),[]),children:a.jsx(Oe.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{j.current=!0}),onFocus:me(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!b){const E=new CustomEvent(Sw,Jte);if(k.currentTarget.dispatchEvent(E),!E.defaultPrevented){const P=N().filter(D=>D.focusable),R=P.find(D=>D.active),O=P.find(D=>D.id===m),T=[R,O,...P].filter(Boolean).map(D=>D.ref.current);a3(T,d)}}j.current=!1}),onBlur:me(e.onBlur,()=>p(!1))})})}),n3="RovingFocusGroupItem",s3=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Rr(),u=i||c,d=nre(n3,r),f=d.currentTabStopId===u,h=t3(r),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:m}=d;return v.useEffect(()=>{if(n)return g(),()=>y()},[n,g,y]),a.jsx(F1.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Oe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:me(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:me(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:me(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=ore(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const N=w.indexOf(x.currentTarget);w=d.loop?lre(w,N+1):w.slice(N+1)}setTimeout(()=>a3(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});s3.displayName=n3;var are={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ire(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ore(e,t,r){const n=ire(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return are[n]}function a3(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function lre(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var i3=r3,o3=s3;function cre(e){const t=ure(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(fre);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function ure(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=mre(s),l=hre(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dre=Symbol("radix.slottable");function fre(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dre}function hre(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function mre(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var U1=["Enter"," "],pre=["ArrowDown","PageUp","Home"],l3=["ArrowUp","PageDown","End"],gre=[...pre,...l3],vre={ltr:[...U1,"ArrowRight"],rtl:[...U1,"ArrowLeft"]},yre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bp="Menu",[am,xre,bre]=ap(bp),[Nc,c3]=yn(bp,[bre,Go,ab]),ib=Go(),u3=ab(),[wre,Sc]=Nc(bp),[jre,wp]=Nc(bp),d3=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=ib(t),[c,u]=v.useState(null),d=v.useRef(!1),f=vr(i),h=Xd(s);return v.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(zx,{...l,children:a.jsx(wre,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(jre,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};d3.displayName=bp;var Nre="MenuAnchor",vk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=ib(r);return a.jsx(fp,{...s,...n,ref:t})});vk.displayName=Nre;var yk="MenuPortal",[Sre,f3]=Nc(yk,{forceMount:void 0}),h3=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Sc(yk,t);return a.jsx(Sre,{scope:t,forceMount:r,children:a.jsx(Xr,{present:r||i.open,children:a.jsx(zd,{asChild:!0,container:s,children:n})})})};h3.displayName=yk;var Fs="MenuContent",[_re,xk]=Nc(Fs),m3=v.forwardRef((e,t)=>{const r=f3(Fs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Sc(Fs,e.__scopeMenu),o=wp(Fs,e.__scopeMenu);return a.jsx(am.Provider,{scope:e.__scopeMenu,children:a.jsx(Xr,{present:n||i.open,children:a.jsx(am.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(kre,{...s,ref:t}):a.jsx(Cre,{...s,ref:t})})})})}),kre=v.forwardRef((e,t)=>{const r=Sc(Fs,e.__scopeMenu),n=v.useRef(null),s=rt(t,n);return v.useEffect(()=>{const i=n.current;if(i)return eb(i)},[]),a.jsx(bk,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Cre=v.forwardRef((e,t)=>{const r=Sc(Fs,e.__scopeMenu);return a.jsx(bk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Pre=cre("MenuContent.ScrollLock"),bk=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:y,...m}=e,x=Sc(Fs,r),b=wp(Fs,r),p=ib(r),w=u3(r),N=xre(r),[j,S]=v.useState(null),_=v.useRef(null),k=rt(t,_,x.onContentChange),C=v.useRef(0),E=v.useRef(""),P=v.useRef(0),R=v.useRef(null),O=v.useRef("right"),I=v.useRef(0),T=y?gp:v.Fragment,D=y?{as:Pre,allowPinchZoom:!0}:void 0,q=$=>{var ee,se;const H=E.current+$,Y=N().filter(Q=>!Q.disabled),L=document.activeElement,K=(ee=Y.find(Q=>Q.ref.current===L))==null?void 0:ee.textValue,re=Y.map(Q=>Q.textValue),ae=Ure(re,H,K),be=(se=Y.find(Q=>Q.textValue===ae))==null?void 0:se.ref.current;(function Q(X){E.current=X,window.clearTimeout(C.current),X!==""&&(C.current=window.setTimeout(()=>Q(""),1e3))})(H),be&&setTimeout(()=>be.focus())};v.useEffect(()=>()=>window.clearTimeout(C.current),[]),Jx();const A=v.useCallback($=>{var Y,L;return O.current===((Y=R.current)==null?void 0:Y.side)&&Vre($,(L=R.current)==null?void 0:L.area)},[]);return a.jsx(_re,{scope:r,searchRef:E,onItemEnter:v.useCallback($=>{A($)&&$.preventDefault()},[A]),onItemLeave:v.useCallback($=>{var H;A($)||((H=_.current)==null||H.focus(),S(null))},[A]),onTriggerLeave:v.useCallback($=>{A($)&&$.preventDefault()},[A]),pointerGraceTimerRef:P,onPointerGraceIntentChange:v.useCallback($=>{R.current=$},[]),children:a.jsx(T,{...D,children:a.jsx(pp,{asChild:!0,trapped:s,onMountAutoFocus:me(i,$=>{var H;$.preventDefault(),(H=_.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(wc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:a.jsx(i3,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:me(c,$=>{b.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Wx,{role:"menu","aria-orientation":"vertical","data-state":A3(x.open),"data-radix-menu-content":"",dir:b.dir,...p,...m,ref:k,style:{outline:"none",...m.style},onKeyDown:me(m.onKeyDown,$=>{const Y=$.target.closest("[data-radix-menu-content]")===$.currentTarget,L=$.ctrlKey||$.altKey||$.metaKey,K=$.key.length===1;Y&&($.key==="Tab"&&$.preventDefault(),!L&&K&&q($.key));const re=_.current;if($.target!==re||!gre.includes($.key))return;$.preventDefault();const be=N().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);l3.includes($.key)&&be.reverse(),Lre(be)}),onBlur:me(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:me(e.onPointerMove,im($=>{const H=$.target,Y=I.current!==$.clientX;if($.currentTarget.contains(H)&&Y){const L=$.clientX>I.current?"right":"left";O.current=L,I.current=$.clientX}}))})})})})})})});m3.displayName=Fs;var Ere="MenuGroup",wk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Oe.div,{role:"group",...n,ref:t})});wk.displayName=Ere;var Are="MenuLabel",p3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Oe.div,{...n,ref:t})});p3.displayName=Are;var ey="MenuItem",v2="menu.itemSelect",ob=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=v.useRef(null),o=wp(ey,e.__scopeMenu),l=xk(ey,e.__scopeMenu),c=rt(t,i),u=v.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(v2,{bubbles:!0,cancelable:!0});f.addEventListener(v2,g=>n==null?void 0:n(g),{once:!0}),F_(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(g3,{...s,ref:c,disabled:r,onClick:me(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:me(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:me(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||U1.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ob.displayName=ey;var g3=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=xk(ey,r),l=u3(r),c=v.useRef(null),u=rt(t,c),[d,f]=v.useState(!1),[h,g]=v.useState("");return v.useEffect(()=>{const y=c.current;y&&g((y.textContent??"").trim())},[i.children]),a.jsx(am.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(o3,{asChild:!0,...l,focusable:!n,children:a.jsx(Oe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:me(e.onPointerMove,im(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,im(y=>o.onItemLeave(y))),onFocus:me(e.onFocus,()=>f(!0)),onBlur:me(e.onBlur,()=>f(!1))})})})}),Ore="MenuCheckboxItem",v3=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(j3,{scope:e.__scopeMenu,checked:r,children:a.jsx(ob,{role:"menuitemcheckbox","aria-checked":ty(r)?"mixed":r,...s,ref:t,"data-state":Nk(r),onSelect:me(s.onSelect,()=>n==null?void 0:n(ty(r)?!0:!r),{checkForDefaultPrevented:!1})})})});v3.displayName=Ore;var y3="MenuRadioGroup",[Tre,Ire]=Nc(y3,{value:void 0,onValueChange:()=>{}}),x3=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=vr(n);return a.jsx(Tre,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(wk,{...s,ref:t})})});x3.displayName=y3;var b3="MenuRadioItem",w3=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=Ire(b3,e.__scopeMenu),i=r===s.value;return a.jsx(j3,{scope:e.__scopeMenu,checked:i,children:a.jsx(ob,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Nk(i),onSelect:me(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});w3.displayName=b3;var jk="MenuItemIndicator",[j3,Rre]=Nc(jk,{checked:!1}),N3=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Rre(jk,r);return a.jsx(Xr,{present:n||ty(i.checked)||i.checked===!0,children:a.jsx(Oe.span,{...s,ref:t,"data-state":Nk(i.checked)})})});N3.displayName=jk;var $re="MenuSeparator",S3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});S3.displayName=$re;var Mre="MenuArrow",_3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=ib(r);return a.jsx(Hx,{...s,...n,ref:t})});_3.displayName=Mre;var Dre="MenuSub",[eMe,k3]=Nc(Dre),Yf="MenuSubTrigger",C3=v.forwardRef((e,t)=>{const r=Sc(Yf,e.__scopeMenu),n=wp(Yf,e.__scopeMenu),s=k3(Yf,e.__scopeMenu),i=xk(Yf,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(vk,{asChild:!0,...u,children:a.jsx(g3,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":A3(r.open),...e,ref:Un(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,im(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:me(e.onPointerLeave,im(f=>{var g,y;d();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const m=(y=r.content)==null?void 0:y.dataset.side,x=m==="right",b=x?-5:5,p=h[x?"left":"right"],w=h[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:p,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:p,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,f=>{var g;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||vre[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});C3.displayName=Yf;var P3="MenuSubContent",E3=v.forwardRef((e,t)=>{const r=f3(Fs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Sc(Fs,e.__scopeMenu),o=wp(Fs,e.__scopeMenu),l=k3(P3,e.__scopeMenu),c=v.useRef(null),u=rt(t,c);return a.jsx(am.Provider,{scope:e.__scopeMenu,children:a.jsx(Xr,{present:n||i.open,children:a.jsx(am.Slot,{scope:e.__scopeMenu,children:a.jsx(bk,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:me(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:me(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=yre[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});E3.displayName=P3;function A3(e){return e?"open":"closed"}function ty(e){return e==="indeterminate"}function Nk(e){return ty(e)?"indeterminate":e?"checked":"unchecked"}function Lre(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Fre(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Ure(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Fre(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Bre(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function Vre(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Bre(r,t)}function im(e){return t=>t.pointerType==="mouse"?e(t):void 0}var qre=d3,zre=vk,Wre=h3,Hre=m3,Kre=wk,Gre=p3,Yre=ob,Qre=v3,Xre=x3,Zre=w3,Jre=N3,ene=S3,tne=_3,rne=C3,nne=E3,lb="DropdownMenu",[sne]=yn(lb,[c3]),qn=c3(),[ane,O3]=sne(lb),T3=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=qn(t),u=v.useRef(null),[d,f]=rs({prop:s,defaultProp:i??!1,onChange:o,caller:lb});return a.jsx(ane,{scope:t,triggerId:Rr(),triggerRef:u,contentId:Rr(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(qre,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};T3.displayName=lb;var I3="DropdownMenuTrigger",R3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=O3(I3,r),o=qn(r);return a.jsx(zre,{asChild:!0,...o,children:a.jsx(Oe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Un(t,i.triggerRef),onPointerDown:me(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:me(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});R3.displayName=I3;var ine="DropdownMenuPortal",$3=e=>{const{__scopeDropdownMenu:t,...r}=e,n=qn(t);return a.jsx(Wre,{...n,...r})};$3.displayName=ine;var M3="DropdownMenuContent",D3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=O3(M3,r),i=qn(r),o=v.useRef(!1);return a.jsx(Hre,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:me(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D3.displayName=M3;var one="DropdownMenuGroup",lne=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Kre,{...s,...n,ref:t})});lne.displayName=one;var cne="DropdownMenuLabel",L3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Gre,{...s,...n,ref:t})});L3.displayName=cne;var une="DropdownMenuItem",F3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Yre,{...s,...n,ref:t})});F3.displayName=une;var dne="DropdownMenuCheckboxItem",U3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Qre,{...s,...n,ref:t})});U3.displayName=dne;var fne="DropdownMenuRadioGroup",hne=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Xre,{...s,...n,ref:t})});hne.displayName=fne;var mne="DropdownMenuRadioItem",B3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Zre,{...s,...n,ref:t})});B3.displayName=mne;var pne="DropdownMenuItemIndicator",V3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Jre,{...s,...n,ref:t})});V3.displayName=pne;var gne="DropdownMenuSeparator",q3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(ene,{...s,...n,ref:t})});q3.displayName=gne;var vne="DropdownMenuArrow",yne=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(tne,{...s,...n,ref:t})});yne.displayName=vne;var xne="DropdownMenuSubTrigger",z3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(rne,{...s,...n,ref:t})});z3.displayName=xne;var bne="DropdownMenuSubContent",W3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(nne,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});W3.displayName=bne;var wne=T3,jne=R3,Nne=$3,H3=D3,K3=L3,G3=F3,Y3=U3,Q3=B3,X3=V3,Z3=q3,J3=z3,e5=W3;const Sne=wne,_ne=jne,kne=v.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(J3,{ref:s,className:fe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,a.jsx(qa,{className:"ml-auto"})]}));kne.displayName=J3.displayName;const Cne=v.forwardRef(({className:e,...t},r)=>a.jsx(e5,{ref:r,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Cne.displayName=e5.displayName;const t5=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(Nne,{children:a.jsx(H3,{ref:n,sideOffset:t,className:fe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));t5.displayName=H3.displayName;const lv=v.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(G3,{ref:n,className:fe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));lv.displayName=G3.displayName;const Pne=v.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(Y3,{ref:s,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(X3,{children:a.jsx(an,{className:"h-4 w-4"})})}),t]}));Pne.displayName=Y3.displayName;const Ene=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Q3,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(X3,{children:a.jsx(fK,{className:"h-2 w-2 fill-current"})})}),t]}));Ene.displayName=Q3.displayName;const Ane=v.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(K3,{ref:n,className:fe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Ane.displayName=K3.displayName;const B1=v.forwardRef(({className:e,...t},r)=>a.jsx(Z3,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));B1.displayName=Z3.displayName;const One=[{label:"Facilities",href:"/facilities"},{label:"Events & Academies",href:"/events"},{label:"Updates",href:"/roadmap"},{label:"Contact",href:"/contact"}];function rr({onScrollTo:e}){const[t,r]=v.useState(!1),{user:n,isAuthenticated:s}=jc(),[i,o]=ss(),{data:l}=ve({queryKey:["/api/site-settings"],queryFn:async()=>{try{const p=await fetch("/api/site-settings");if(!p.ok)return{};const w=await p.json();return w&&typeof w=="object"&&!w.message?w:{}}catch{return{}}}}),{data:c}=ve({queryKey:["/api/navbar-items"],queryFn:async()=>{try{const p=await fetch("/api/navbar-items");if(!p.ok)return[];const w=await p.json();return Array.isArray(w)?w:[]}catch{return[]}}}),{data:u}=ve({queryKey:["/api/admin/config"],enabled:s&&((n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN")}),d=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN",f=p=>{if(r(!1),i!=="/"){o("/"),sessionStorage.setItem("scrollToSection",p);return}const w=document.getElementById(p);if(!w)return;const j=w.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:j,behavior:"smooth"})};v.useEffect(()=>{if(i==="/"){const p=sessionStorage.getItem("scrollToSection");p&&(sessionStorage.removeItem("scrollToSection"),setTimeout(()=>{const w=document.getElementById(p);if(w){const j=w.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:j,behavior:"smooth"})}},100))}},[i]);const h=(p,w="")=>(l==null?void 0:l[p])||w,g=h("logo_main_url"),y=h("site_name","The Quarterdeck"),m=h("site_tagline","Sports & Recreation Complex"),x=v.useMemo(()=>!c||c.length===0?One:c.filter(p=>p.isVisible).sort((p,w)=>(p.sortOrder||0)-(w.sortOrder||0)).map(p=>{var w;return p.href==="/#gallery"?{label:p.label,href:"/gallery"}:p.href==="/#contact"?{label:p.label,href:"/contact"}:(w=p.href)!=null&&w.startsWith("/#")?{label:p.label,section:p.href.replace("/#","")}:{label:p.label,href:p.href}}),[c]),b=p=>{p.href?(r(!1),o(p.href)):p.section&&f(p.section)};return a.jsxs("header",{className:"sticky top-0 z-50 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-15 dark:opacity-25",style:{backgroundImage:`url(${Yv})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),a.jsxs("div",{className:"qd-container relative z-10",children:[a.jsxs("nav",{className:"h-[70px] flex items-center justify-between gap-8",children:[a.jsx(oe,{href:"/",children:a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-logo",children:[g?a.jsx("img",{src:g,alt:y,className:"h-10 w-auto object-contain","data-testid":"img-site-logo"}):a.jsx("div",{className:"qd-logo-mark",children:"Q"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:y}),a.jsx("div",{className:"text-xs text-primary-foreground/70",children:m})]})]})}),a.jsx("div",{className:"hidden lg:flex items-center gap-7 text-sm text-primary-foreground/70",children:x.map(p=>p.href?a.jsx(oe,{href:p.href,children:a.jsx("span",{className:"hover:text-primary-foreground transition-colors cursor-pointer","data-testid":`link-nav-${p.label.toLowerCase()}`,children:p.label})},p.label):a.jsx("button",{onClick:()=>f(p.section),className:"hover:text-primary-foreground transition-colors","data-testid":`link-nav-${p.section}`,children:p.label},p.section))}),a.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[a.jsx(ZA,{}),s?a.jsxs(a.Fragment,{children:[a.jsx(Zte,{}),a.jsx(oe,{href:"/booking",children:a.jsx(U,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})}),a.jsxs(Sne,{children:[a.jsx(_ne,{asChild:!0,children:a.jsxs(U,{variant:"outline",className:"rounded-full gap-2","data-testid":"button-user-menu",children:[a.jsx(Ms,{className:"w-4 h-4"}),(n==null?void 0:n.firstName)||"Account",a.jsx(Pi,{className:"w-3 h-3"})]})}),a.jsxs(t5,{align:"end",className:"w-48",children:[a.jsx(oe,{href:"/profile",children:a.jsxs(lv,{className:"cursor-pointer","data-testid":"menu-item-profile",children:[a.jsx(Ms,{className:"w-4 h-4 mr-2"}),"My Profile"]})}),d&&(u==null?void 0:u.adminPath)&&a.jsxs(a.Fragment,{children:[a.jsx(B1,{}),a.jsx(oe,{href:`/${u.adminPath}`,children:a.jsxs(lv,{className:"cursor-pointer","data-testid":"menu-item-admin",children:[a.jsx(Fv,{className:"w-4 h-4 mr-2"}),"Admin Dashboard"]})})]}),a.jsx(B1,{}),a.jsx("a",{href:"/api/logout",children:a.jsxs(lv,{className:"cursor-pointer text-destructive","data-testid":"menu-item-logout",children:[a.jsx(oA,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(oe,{href:"/login",children:a.jsx(U,{variant:"outline",className:"rounded-full","data-testid":"button-login",children:"Log In"})}),a.jsx(oe,{href:"/booking",children:a.jsx(U,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})})]})]}),a.jsx("button",{className:"lg:hidden p-2",onClick:()=>r(!t),"aria-label":"Toggle navigation","data-testid":"button-mobile-menu",children:t?a.jsx(sd,{className:"w-5 h-5 text-primary-foreground"}):a.jsx(XD,{className:"w-5 h-5 text-primary-foreground"})})]}),t&&a.jsxs("div",{className:"lg:hidden flex flex-col gap-2 pb-4 border-t border-primary-foreground/10 pt-4 animate-qd-fade-in",children:[x.map(p=>p.href?a.jsx(oe,{href:p.href,children:a.jsx("span",{className:"block text-left py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground cursor-pointer",onClick:()=>r(!1),"data-testid":`link-mobile-nav-${p.label.toLowerCase()}`,children:p.label})},p.label):a.jsx("button",{onClick:()=>b(p),className:"text-left py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground","data-testid":`link-mobile-nav-${p.section}`,children:p.label},p.section)),a.jsxs("div",{className:"flex items-center justify-between border-t border-primary-foreground/10 pt-4 mt-4",children:[a.jsx("span",{className:"text-sm text-primary-foreground/70",children:"Theme"}),a.jsx(ZA,{})]}),a.jsx("div",{className:"flex flex-col gap-2 mt-4",children:s?a.jsxs(a.Fragment,{children:[a.jsx(oe,{href:"/profile",onClick:()=>r(!1),children:a.jsxs(U,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-profile",children:[a.jsx(Ms,{className:"w-4 h-4"}),"My Profile"]})}),d&&(u==null?void 0:u.adminPath)&&a.jsx(oe,{href:`/${u.adminPath}`,onClick:()=>r(!1),children:a.jsxs(U,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-admin",children:[a.jsx(Fv,{className:"w-4 h-4"}),"Admin Dashboard"]})}),a.jsx(oe,{href:"/booking",onClick:()=>r(!1),children:a.jsx(U,{className:"w-full rounded-full","data-testid":"button-mobile-book",children:"Book Now"})}),a.jsx("a",{href:"/api/logout",children:a.jsxs(U,{variant:"outline",className:"w-full rounded-full gap-2 text-destructive","data-testid":"button-mobile-logout",children:[a.jsx(oA,{className:"w-4 h-4"}),"Log Out"]})})]}):a.jsx(a.Fragment,{children:a.jsx(oe,{href:"/login",children:a.jsx(U,{className:"w-full rounded-full","data-testid":"button-mobile-login",children:"Log In"})})})})]})]})]})}function nr(){const{data:e,isLoading:t}=ve({queryKey:["/api/site-settings"],queryFn:async()=>{try{const f=await fetch("/api/site-settings");if(!f.ok)return{};const h=await f.json();return h&&typeof h=="object"&&!h.message?h:{}}catch{return{}}},staleTime:3e5}),{data:r=[]}=ve({queryKey:["/api/site-images","global"],queryFn:async()=>{const h=await(await fetch("/api/site-images?page=global")).json();return Array.isArray(h)?h:[]},staleTime:1e3*60*5}),n=v.useMemo(()=>{if(!Array.isArray(r))return Yv;const f=r.find(h=>h.section==="footer"&&h.isActive);return(f==null?void 0:f.imageUrl)||Yv},[r]),s=(f,h="")=>(e==null?void 0:e[f])||h,i=s("site_name","The Quarterdeck"),o=s("site_tagline","Sports & Recreation Complex"),l=s("instagram_url")||s("social_instagram","#"),c=s("facebook_url")||s("social_facebook","#"),u=s("linkedin_url")||s("social_linkedin","#"),d=new Date().getFullYear();return a.jsxs("footer",{className:"qd-footer relative overflow-hidden bg-primary dark:bg-slate-900",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-10 dark:opacity-20",style:{backgroundImage:`url(${n})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary via-primary/95 to-primary/80 dark:from-slate-900 dark:via-slate-900/95 dark:to-slate-900/80"}),a.jsxs("div",{className:"qd-container relative z-10",children:[a.jsxs("div",{className:"flex flex-wrap justify-between gap-6 items-center",children:[a.jsx(oe,{href:"/",children:a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-footer-logo",children:[a.jsx("div",{className:"qd-logo-mark",children:i.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:i}),a.jsx("div",{className:"text-xs text-primary-foreground/70",children:o})]})]})}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(oe,{href:"/vision",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-about",children:"About Us"})}),a.jsx(oe,{href:"/rules",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-rules",children:"Rules & Safety"})}),a.jsx(oe,{href:"/careers",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-careers",children:"Careers"})}),a.jsx(oe,{href:"/contact",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-contact",children:"Contact"})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Instagram","data-testid":"link-social-instagram",children:a.jsx(YD,{className:"w-4 h-4"})}),a.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Facebook","data-testid":"link-social-facebook",children:a.jsx(qD,{className:"w-4 h-4"})}),a.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"LinkedIn","data-testid":"link-social-linkedin",children:a.jsx(y1,{className:"w-4 h-4"})})]})]}),a.jsxs("p",{className:"text-center mt-6 text-primary-foreground/60 text-xs",children:[" ",d," ",i,"  All rights reserved."," ",a.jsx(oe,{href:"/terms",className:"font-semibold hover:text-primary-foreground cursor-pointer","data-testid":"link-footer-terms",children:"Terms & Conditions"})," | ",a.jsx(oe,{href:"/privacy",className:"font-semibold hover:text-primary-foreground cursor-pointer","data-testid":"link-footer-privacy",children:"Privacy Policy"})]})]})]})}function pt({className:e,...t}){return a.jsx("div",{className:fe("animate-pulse rounded-md bg-muted",e),...t})}function _c(e,t={}){const{data:r=[],isLoading:n}=ve({queryKey:["/api/cms/bulk"],staleTime:3e5,retry:!1}),s={};return e.forEach(i=>{const o=r.find(l=>l.key===i);s[i]=(o==null?void 0:o.content)||t[i]||""}),{content:s,isLoading:n,getValue:i=>s[i]||t[i]||""}}const Ze={hero_title:'A bright, premium <span class="qd-hero-highlight">multi-sport arena</span> built for play, performance & community.',hero_subtitle:"The Quarterdeck brings state-of-the-art Padel Tennis, Squash, an Air Rifle Range, a Multipurpose Hall, and an Open Cafe/Bar experience into a single, purpose-built complex. We are setting the new standard for indoor sports and recreation in Islamabad.",hero_eyebrow:"Target Launch: December 25, 2025",hero_launch_date:"2025-12-25",hero_cta_1:"Explore Facilities",hero_cta_2:"View Site Updates",hero_countdown_label:"Estimated Launch Countdown",hero_status_active:"Construction Active",hero_status_updates:"Transparent progress updates",hero_status_booking:"Early booking & waitlists planned",about_title:"About The Quarterdeck",about_subtitle:"Our core vision: Excellence in Play and Community. We are building Islamabad's premier destination for indoor sports, recreation, and social gathering.",about_cta:"See Our Vision",about_vision_title:"Vision & Philosophy",about_vision_content:"The Quarterdeck is born from a simple idea: that sports facilities should be world-class, accessible, and designed for social connection. We prioritize bright, modern architecture, superior court surfaces, and a welcoming atmosphere. Our aim is to cultivate a vibrant community around Padel, Squash, and recreational activities.",about_vision_content_2:"We are locally invested and committed to transparency throughout the construction and launch phases, ensuring the highest standards of quality and service.",about_tags:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly",about_team_title:"The Project Team",about_team_content:"The project is managed by a consortium of local real estate developers, sports enthusiasts, and seasoned facility operators. We have brought together expertise in engineering, architecture, and sports management to deliver an exceptional facility.",about_team_credits:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation",facilities_title:"Facilities at a Glance",facilities_subtitle:'The complex is engineered for high-performance sports and comfortable recreation. Click "View details" for the dedicated facility pages.',facilities_cta:"Check Court Availability",membership_title:"Membership & Pricing",membership_subtitle:"Choose the membership tier that fits your lifestyle. All members enjoy priority booking, exclusive discounts, and access to our world-class facilities.",membership_cta:"Inquire Now",membership_comparison_title:"Quick Comparison",membership_footer:"Questions about membership? Contact us for more details or to discuss corporate packages.",membership_contact_cta:"Contact for Details",membership_terms_cta:"View Terms & Conditions",founding_tier_name:"Founding Member",founding_tier_label:"Limited & Exclusive",founding_tier_description:"For early supporters and investors who believe in our vision.",founding_tier_price:"PKR 35,000",founding_tier_period:"/month",founding_tier_features:"Lifetime priority booking (14-day window)|25% discount on all court bookings|10 guest passes per month|Permanent credit bonus (10%)|VIP parking & locker|Invitation to all exclusive events|Founding member recognition wall",gold_tier_name:"Gold Membership",gold_tier_label:"Premium Access",gold_tier_description:"For serious athletes and frequent players who want the best experience.",gold_tier_price:"PKR 15,000",gold_tier_period:"/month",gold_tier_features:"7-day advance booking window|20% discount on all court bookings|4 guest passes per month|Priority event registration|15% off coaching & clinics|Free equipment rental (2x/month)|Access to member lounge",silver_tier_name:"Silver Membership",silver_tier_label:"Standard Access",silver_tier_description:"Perfect for recreational players who want regular access at great value.",silver_tier_price:"PKR 5,000",silver_tier_period:"/month",silver_tier_features:"5-day advance booking window|10% discount on off-peak bookings|2 guest passes per month|10% off coaching & clinics|Member newsletter & updates|Discounted event entry",guest_tier_name:"Pay-to-Play",guest_tier_label:"Non-Member Access",guest_tier_description:"Try our facilities without commitment. Subject to availability.",guest_tier_price:"Standard",guest_tier_price_suffix:" rates",guest_tier_features:"2-day advance booking window|Access after member priority|Equipment rental available|Guest registration required|Can be upgraded to membership",contact_title:"Contact & Early Interest",contact_subtitle:"Connect with Our Development Team: Use the form to subscribe to our construction updates, inquire about corporate partnerships, or apply for our pre-launch membership waitlist.",contact_form_title:"Early Interest Form",contact_form_subtitle:"Submit your interest below and we'll keep you updated on our progress and launch.",contact_name_label:"Your Name",contact_email_label:"Your Email",contact_message_label:"Your Message/Interest (e.g., Padel Coaching, Corporate Event, Career Inquiry)",contact_submit:"Send Message",contact_email:"info@thequarterdeck.pk",contact_phone:"+92 51 1234567",contact_address:"Sector F-7, Islamabad, Pakistan",contact_socials_title:"Socials & Location",contact_socials_subtitle:"Follow our official channels for the most recent updates and progress photos:",contact_site_status_title:"Site Status",contact_site_status:"The complex is currently under active construction. No public access or walk-ins are permitted for safety reasons. All updates will be digital.",updates_title:"Construction Updates",updates_subtitle:"Transparent updates on progress, timeline, and achievements. Hover over each phase to see milestones.",updates_cta:"View Full Roadmap",gallery_title:"Gallery & Progress Photos",gallery_subtitle:"Visual updates from the construction site and architectural renders of the completed facility.",gallery_cta:"View Full Gallery",rules_title:"Rules & Safety Protocols",rules_subtitle:"Ensuring a safe, respectful, and high-quality environment for all members and guests. These are our key rules.",rules_cta:"View All Rules",careers_title:"Careers at The Quarterdeck",careers_subtitle:"Join our team! We are looking for passionate, high-energy individuals to help us launch and run Islamabad's premier sports complex.",careers_cta:"View Open Positions",events_title:"Events & Programs",events_subtitle:"Join tournaments, training academies, and social events at The Quarterdeck.",leaderboard_title:"Leaderboard",leaderboard_subtitle:"Track your progress and compete with fellow members.",footer_tagline:"Pakistan's Premier Sports & Recreation Complex",footer_copyright:"2024 The Quarterdeck. All rights reserved.",footer_quick_links_title:"Quick Links",footer_facilities_title:"Facilities",footer_legal_title:"Legal",social_instagram:"https://instagram.com/thequarterdeck",social_facebook:"https://facebook.com/thequarterdeck",social_linkedin:"https://linkedin.com/company/thequarterdeck",coming_soon_title:"Something Amazing Is Coming",coming_soon_subtitle:"Opening December 2025: Padel Courts & Cafe/Bar. Construction continues through 2026 for our 3-floor building with Multipurpose Hall & Air Rifle Range.",coming_soon_description:"The Quarterdeck will feature world-class Padel Tennis courts, Squash facilities, an Air Rifle Range, Multipurpose Hall, and an Open Cafe/Bar experience.",coming_soon_cta:"Join the Waitlist",coming_soon_progress_label:"Construction Progress",coming_soon_launch_date:"2025-12-25",coming_soon_location:"Islamabad, Pakistan",site_name:"The Quarterdeck",site_tagline:"Sports & Recreation Complex",site_launch_status:"pre-launch",navbar_book_now:"Book Now",navbar_login:"Log In",navbar_signup:"Sign Up",navbar_profile:"Profile",navbar_logout:"Log Out",navbar_admin:"Admin",navbar_dashboard:"Dashboard",footer_about_title:"About The Quarterdeck",footer_about_text:"Pakistan's premier indoor sports and recreation complex, featuring world-class Padel Tennis, Squash, Air Rifle Range, and more.",footer_newsletter_title:"Stay Updated",footer_newsletter_placeholder:"Enter your email",footer_newsletter_button:"Subscribe",footer_address_title:"Visit Us",footer_hours_title:"Opening Hours",footer_hours_weekday:"Mon-Fri: 10:00 AM - 10:00 PM",footer_hours_weekend:"Sat-Sun: 9:00 AM - 11:00 PM",footer_privacy_link:"Privacy Policy",footer_terms_link:"Terms of Service",footer_refund_link:"Refund Policy",booking_title:"Book a Court",booking_subtitle:"Select your facility, date, and time slot",booking_select_venue:"Select Venue",booking_select_facility:"Select Facility",booking_select_date:"Select Date",booking_select_time:"Select Time",booking_select_court:"Select Court",booking_duration_label:"Duration",booking_addons_title:"Add-ons",booking_summary_title:"Booking Summary",booking_confirm_button:"Confirm Booking",booking_cancel_button:"Cancel",booking_payment_title:"Payment Method",booking_no_slots:"No available slots for this date",booking_login_required:"Please log in to book",countdown_days:"Days",countdown_hours:"Hours",countdown_minutes:"Minutes",countdown_seconds:"Seconds",btn_learn_more:"Learn More",btn_view_all:"View All",btn_submit:"Submit",btn_cancel:"Cancel",btn_save:"Save Changes",btn_close:"Close",btn_back:"Go Back",btn_next:"Next",btn_previous:"Previous",whatsapp_phone:"+923001234567",whatsapp_button_text:"Chat on WhatsApp",whatsapp_button_visible:"true",whatsapp_default_message:"Hello, I have a question about The Quarterdeck.",empty_bookings:"You have no bookings yet.",empty_events:"No events scheduled at this time.",empty_leaderboard:"Leaderboard will be available after launch.",error_generic:"Something went wrong. Please try again.",error_network:"Unable to connect. Please check your internet connection.",error_auth_required:"Please log in to continue.",error_permission_denied:"You do not have permission to access this."},y2="/assets/padel_tennis_court_i_37ae0ba3-BrkfenoQ.jpg";function Tne(){const[e,t]=v.useState({days:0,hours:0,minutes:0,seconds:0}),{data:r=[]}=ve({queryKey:["/api/cms/bulk"],queryFn:async()=>{const w=await(await fetch("/api/cms/bulk")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),{data:n=[],isLoading:s}=ve({queryKey:["/api/construction-phases"],queryFn:async()=>{const w=await(await fetch("/api/construction-phases")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),{data:i=[]}=ve({queryKey:["/api/site-images","landing"],queryFn:async()=>{const w=await(await fetch("/api/site-images?page=landing")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),o=v.useMemo(()=>{if(!Array.isArray(i))return y2;const p=i.find(w=>w.section==="hero"&&w.isActive);return(p==null?void 0:p.imageUrl)||y2},[i]),l=v.useMemo(()=>[...n].sort((p,w)=>p.sortOrder-w.sortOrder),[n]),c=v.useMemo(()=>l.find(p=>p.isActive)||l[0],[l]),u=v.useMemo(()=>l.length===0?0:l.reduce((p,w)=>p+w.progress,0)/l.length,[l]),d=p=>{const w=r.find(N=>N.key===p);return(w==null?void 0:w.content)||Ze[p]||""},f=d("hero_launch_date")||"2026-10-01";v.useEffect(()=>{const p=new Date(`${f}T00:00:00`),w=()=>{const j=new Date,S=p.getTime()-j.getTime();if(S>0){const _=Math.floor(S/864e5),k=Math.floor(S%(1e3*60*60*24)/(1e3*60*60)),C=Math.floor(S%(1e3*60*60)/(1e3*60)),E=Math.floor(S%(1e3*60)/1e3);t({days:_,hours:k,minutes:C,seconds:E})}};w();const N=setInterval(w,1e3);return()=>clearInterval(N)},[f]);const h=p=>{const w=document.getElementById(p);if(!w)return;const j=w.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:j,behavior:"smooth"})},g=d("hero_title")||Ze.hero_title,y=d("hero_subtitle")||Ze.hero_subtitle,m=d("hero_eyebrow")||Ze.hero_eyebrow,x=d("hero_cta_1")||"Explore Facilities",b=d("hero_cta_2")||"View Site Updates";return a.jsxs("section",{id:"hero",className:"qd-section pt-12 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${o})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/95 via-white/90 to-white/70 dark:from-slate-900/95 dark:via-slate-900/90 dark:to-slate-900/70"}),a.jsx("div",{className:"qd-container relative z-10",children:a.jsxs("div",{className:"qd-hero-grid",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"qd-eyebrow",children:[a.jsx("span",{className:"qd-eyebrow-dot"})," ",m]}),a.jsx("h1",{className:"qd-hero-title","data-testid":"text-hero-title",dangerouslySetInnerHTML:{__html:g}}),a.jsx("p",{className:"text-muted-foreground max-w-lg mb-6","data-testid":"text-hero-subtitle",children:y}),a.jsxs("div",{className:"qd-countdown",children:[a.jsx("div",{className:"text-xs uppercase tracking-widest text-muted-foreground font-semibold",children:"Estimated Launch Countdown"}),a.jsxs("div",{className:"flex items-center gap-3 font-mono","data-testid":"countdown-timer",children:[a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.days}),a.jsx("span",{className:"qd-countdown-label",children:"Days"})]}),a.jsx("span",{className:"text-xl font-bold text-muted-foreground",children:":"}),a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.hours}),a.jsx("span",{className:"qd-countdown-label",children:"Hours"})]}),a.jsx("span",{className:"text-xl font-bold text-muted-foreground",children:":"}),a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.minutes}),a.jsx("span",{className:"qd-countdown-label",children:"Minutes"})]}),a.jsx("span",{className:"text-xl font-bold text-muted-foreground",children:":"}),a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.seconds}),a.jsx("span",{className:"qd-countdown-label",children:"Seconds"})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[a.jsx(U,{onClick:()=>h("facilities"),className:"rounded-full px-6","data-testid":"button-explore-facilities",children:x}),a.jsx(U,{variant:"outline",onClick:()=>h("updates"),className:"rounded-full px-6","data-testid":"button-view-updates",children:b})]}),a.jsxs("div",{className:"flex flex-wrap gap-6 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"qd-status-dot"})," Construction Active"]}),a.jsx("span",{children:"Transparent progress updates"}),a.jsx("span",{children:"Early booking & waitlists planned"})]})]}),a.jsx("aside",{children:a.jsxs("div",{className:"qd-hero-card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("div",{className:"text-sm uppercase tracking-widest text-muted-foreground",children:"Construction Status"}),s?a.jsx(pt,{className:"h-6 w-20 rounded-full"}):c?a.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-blue-50 dark:bg-blue-900/30 text-slate-800 dark:text-blue-200 font-semibold uppercase tracking-wide",children:c.label}):a.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-gray-100 dark:bg-slate-700 text-muted-foreground font-semibold uppercase tracking-wide",children:"Planning"})]}),s?a.jsxs(a.Fragment,{children:[a.jsx(pt,{className:"h-4 w-full mb-2"}),a.jsx(pt,{className:"h-3 w-full rounded-full"}),a.jsx(pt,{className:"h-12 w-full mt-4"})]}):c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-2",children:[a.jsxs("span",{children:[c.label,": ",c.title]}),a.jsxs("span",{children:[c.progress,"% Complete"]})]}),a.jsx("div",{className:"qd-progress-track",children:a.jsx("div",{className:"qd-progress-fill",style:{width:`${c.progress}%`}})}),c.highlights&&c.highlights.length>0&&a.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:c.highlights[0]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5",children:[a.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"}),a.jsxs("div",{className:"font-semibold text-sm",children:[l.filter(p=>p.isComplete).length," phases"]})]}),a.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Overall"}),a.jsxs("div",{className:"font-semibold text-sm",children:[Math.round(u),"% done"]})]})]})]}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Construction timeline will be available soon."})]})})]})})]})}function Ine(){const{getValue:e}=_c(["about_title","about_subtitle","about_cta","about_vision_title","about_vision_content","about_vision_content_2","about_tags","about_team_title","about_team_content","about_team_credits"],Ze),t=(e("about_tags")||Ze.about_tags).split(",").map(n=>n.trim()),r=(e("about_team_credits")||Ze.about_team_credits).split("|").map(n=>n.trim());return a.jsx("section",{id:"about",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-about-title",children:e("about_title")||Ze.about_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("about_subtitle")||Ze.about_subtitle})]}),a.jsx(oe,{href:"/vision",children:a.jsx(U,{variant:"outline",className:"rounded-full","data-testid":"button-see-vision",children:e("about_cta")||Ze.about_cta})})]}),a.jsxs("div",{className:"qd-dev-grid",children:[a.jsxs("div",{className:"qd-info-card",children:[a.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_vision_title")||Ze.about_vision_title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_vision_content")||Ze.about_vision_content}),a.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:e("about_vision_content_2")||Ze.about_vision_content_2}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-5",children:t.map((n,s)=>a.jsx("span",{className:"qd-tag",children:n},s))})]}),a.jsxs("div",{className:"qd-info-card",children:[a.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_team_title")||Ze.about_team_title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_team_content")||Ze.about_team_content}),a.jsx("ul",{className:"list-disc list-inside mt-4 text-sm space-y-1 text-muted-foreground",children:r.map((n,s)=>a.jsx("li",{children:n},s))})]})]})]})})}var r5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},x2=M.createContext&&M.createContext(r5),Rne=["attr","size","title"];function $ne(e,t){if(e==null)return{};var r=Mne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(this,arguments)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){Dne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dne(e,t,r){return t=Lne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lne(e){var t=Fne(e,"string");return typeof t=="symbol"?t:t+""}function Fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n5(e){return e&&e.map((t,r)=>M.createElement(t.tag,ny({key:r},t.attr),n5(t.child)))}function jp(e){return t=>M.createElement(Une,ry({attr:ny({},e.attr)},t),n5(e.child))}function Une(e){var t=r=>{var{attr:n,size:s,title:i}=e,o=$ne(e,Rne),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),M.createElement("svg",ry({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:ny(ny({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&M.createElement("title",null,i),e.children)};return x2!==void 0?M.createElement(x2.Consumer,null,r=>t(r)):t(r5)}function Np(e){return jp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23.05 23.05V488.9H488.9V23.05zm17.9 17.9H471.1V471.1H40.95z"},child:[]}]})(e)}function Bo(e){return jp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M365.6 31c-6.6 0-13.2.6-19.7 1.59-34.5 5.44-66.5 23.14-88.3 44.96-28.8 28.85-49.6 70.85-58.4 111.65-1.6 6.7-2.6 13.6-3.5 20.4L162.2 334l15.8 15.8 124.3-33.5c6.8-.9 13.7-2 20.5-3.5 40.8-8.8 82.8-29.6 111.6-58.4 21.9-21.9 39.6-53.9 45-88.4 5.2-34.5-2.4-72.3-31.9-101.71-23.8-23.93-53.1-33.44-81.9-33.29zm.1 19.29c24.3-.28 47.9 7.49 68.2 27.71 25 24.9 31 55.2 26.3 85-4.6 29.9-20.7 58.8-39.5 77.6-25.4 25.4-64.7 45.2-102 53.2-37.2 8.2-71.2 3.8-87.8-12.9-16.5-16.5-20.9-50.4-12.8-87.7 8.1-37.2 27.8-76.6 53.3-101.94 18.7-18.78 47.7-34.84 77.6-39.55 5.5-.88 11.2-1.36 16.7-1.42zm-166 214.81c3.7 11.3 9.3 21.5 17.5 29.5 8.1 8.2 18.2 14 29.5 17.6l-63 16zm-50.3 83.6L50 448.2l-5.25-5.1-13.71 13.7L55.41 481l13.7-13.6-5.41-5.4 99.5-99.6zm211 45.1c-19.5 0-35.6 16-35.6 35.5s16.1 35.5 35.6 35.5c19.4 0 35.5-16 35.5-35.5s-16.1-35.5-35.5-35.5z"},child:[]}]})(e)}const Sp="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Sk="/assets/indoor_squash_court__c97e350b-C624hay8.jpg",_k="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",kk="/assets/large_event_hall_int_39cfb773-D7tynaMB.jpg",Bne="/assets/elegant_card_game_ro_26fec1dc-B0OzwSTX.jpg",s5="/assets/modern_cafe_bar_inte_bc2874c0-DokhLEuU.jpg",Vne={GiTennisRacket:Bo,GiSquare:Np,Crosshair:lp,Building2:kn,Coffee:z_,Spade:Fx},qne={"padel-tennis":Sp,squash:Sk,"air-rifle-range":_k,"multipurpose-hall":kk,"bridge-room":Bne,"cafe-bar":s5},w2=[{id:"padel",slug:"padel-tennis",name:"Padel Tennis",icon:Bo,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"World-Class Padel Courts: Three premium glass-backed indoor Padel Courts optimized for competitive doubles play and available year-round, regardless of the weather.",footer:"3 courts planned",image:Sp},{id:"squash",slug:"squash",name:"Squash Court",icon:Np,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"Dedicated Squash Facility: A single, premium-grade squash court built to international dimensions. Ideal for focused training, intense solo practice, and eventually, club ladder competitions.",footer:"Planned | 1 court",image:Sk},{id:"air_rifle",slug:"air-rifle-range",name:"Air Rifle Range",icon:lp,category:"Precision Sport",status:"soon",statusLabel:"Opening Soon",description:"Certified Precision Range: A safe, controlled, and sound-dampened indoor range compliant with all safety regulations. Access requires mandatory certification.",footer:"Certificate-based access",image:_k},{id:"hall",slug:"multipurpose-hall",name:"Multipurpose Hall",icon:kn,category:"Indoor Space",status:"planned",statusLabel:"Planned",description:"Flexible Event & Training Space: A large, adaptable hall suitable for yoga, aerobics, martial arts, corporate workshops, and private functions. Available for flexible, block, and event-based bookings.",footer:"Use-cases evolving",image:kk},{id:"cafe",slug:"cafe-bar",name:"Open Cafe/Bar",icon:z_,category:"Recreation",status:"planned",statusLabel:"Planned",description:"The Quarterdeck Social Hub: A bright, spacious area offering artisanal coffee, healthy refreshments, light meals, and a view overlooking the main courts - perfect for post-match debriefs or casual meetings.",footer:"No booking required",image:s5}];function zne(e){switch(e){case"ACTIVE":return{status:"active",statusLabel:"Active"};case"OPENING_SOON":return{status:"soon",statusLabel:"Opening Soon"};case"PLANNED":default:return{status:"planned",statusLabel:"Planned"}}}function Wne(){const{getValue:e}=_c(["facilities_title","facilities_subtitle","facilities_cta"],Ze),{data:t,isLoading:r}=ve({queryKey:["/api/facilities"]}),n=t&&t.length>0?t.map(s=>{const i=zne(s.status),o=w2.find(l=>l.slug===s.slug);return{id:s.id,slug:s.slug,name:s.name,icon:Vne[s.icon]||(o==null?void 0:o.icon)||kn,category:s.category||(o==null?void 0:o.category)||"Facility",status:i.status,statusLabel:i.statusLabel,description:s.description||(o==null?void 0:o.description)||"",footer:`${s.resourceCount||1} ${s.resourceCount===1?"court":"courts"} available`,image:s.imageUrl||qne[s.slug]||(o==null?void 0:o.image)||kk}}):w2;return a.jsx("section",{id:"facilities",className:"qd-section",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-facilities-title",children:e("facilities_title")||Ze.facilities_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("facilities_subtitle")||Ze.facilities_subtitle})]}),a.jsx(oe,{href:"/booking",children:a.jsx(U,{className:"rounded-full","data-testid":"button-check-availability",children:e("facilities_cta")||Ze.facilities_cta})})]}),r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(it,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.jsx("div",{className:"qd-facility-grid",children:n.map(s=>{const i=s.icon;return a.jsxs("article",{className:"qd-facility-card overflow-hidden","data-testid":`card-facility-${s.slug||s.id}`,children:[a.jsxs("div",{className:"relative h-32 -mx-6 -mt-[1.6rem] mb-4 rounded-t-[20px] overflow-hidden",children:[a.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/90 via-white/30 to-transparent dark:from-slate-800/90 dark:via-slate-800/30"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground uppercase tracking-widest mb-3",children:[a.jsx("span",{children:s.category}),a.jsx("span",{className:`px-3 py-1 rounded-full font-semibold ${s.status==="soon"?"qd-status-soon":s.status==="active"?"qd-status-active":"qd-status-planned"}`,children:s.statusLabel})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(i,{className:"w-5 h-5 text-[#2a4060] dark:text-blue-400"}),a.jsx("h3",{className:"text-xl font-bold",children:s.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-5 min-h-[60px]",children:s.description}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-muted-foreground pt-4 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("span",{children:s.footer}),a.jsx(oe,{href:`/facilities/${s.slug}`,children:a.jsx("span",{className:"font-semibold text-[#2a4060] dark:text-blue-400 cursor-pointer hover:underline","data-testid":`link-facility-detail-${s.slug||s.id}`,children:"View details"})})]})]},s.id)})})]})})}const Hne={check:an,"check-circle":Ns,clock:_r,hammer:HD,"hard-hat":KD,rocket:CK,target:ql};function Kne(){const[e,t]=v.useState(null),{getValue:r}=_c(["updates_title","updates_subtitle","updates_cta"],Ze),{data:n=[],isLoading:s}=ve({queryKey:["/api/construction-phases"]}),i=v.useMemo(()=>[...n].sort((c,u)=>c.sortOrder-u.sortOrder),[n]),o=v.useMemo(()=>i.length===0?0:i.reduce((c,u)=>c+u.progress,0)/i.length,[i]),l=c=>c.isComplete?"Complete":c.isActive?`${c.progress}%`:c.timeframe||"Upcoming";return s?a.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsx("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:a.jsxs("div",{children:[a.jsx(pt,{className:"h-8 w-64 mb-2"}),a.jsx(pt,{className:"h-4 w-96"})]})}),a.jsxs("div",{className:"relative py-12",children:[a.jsx(pt,{className:"h-1 w-full rounded-full"}),a.jsx("div",{className:"flex justify-between mt-8",children:[1,2,3,4].map(c=>a.jsxs("div",{className:"flex flex-col items-center",style:{width:"25%"},children:[a.jsx(pt,{className:"w-14 h-14 rounded-full"}),a.jsx(pt,{className:"h-4 w-16 mt-4"}),a.jsx(pt,{className:"h-3 w-24 mt-1"})]},c))})]})]})}):i.length===0?a.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsx("div",{className:"qd-container",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"qd-section-title mb-4",children:"Construction Updates"}),a.jsx("p",{className:"text-muted-foreground",children:"Construction timeline coming soon."})]})})}):a.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-updates-title",children:r("updates_title")||Ze.updates_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:r("updates_subtitle")||Ze.updates_subtitle})]}),a.jsx(oe,{href:"/roadmap",children:a.jsxs("span",{className:"text-sm font-semibold text-[#2a4060] dark:text-blue-400 hover:underline cursor-pointer flex items-center gap-1","data-testid":"link-view-roadmap",children:[r("updates_cta")||Ze.updates_cta," ",a.jsx(qa,{className:"w-4 h-4"})]})})]}),a.jsxs("div",{className:"relative py-12",children:[a.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-gray-200 dark:bg-slate-700 rounded-full transform -translate-y-1/2"}),a.jsx("div",{className:"absolute left-0 top-1/2 h-1 bg-gradient-to-r from-green-500 via-blue-500 to-blue-500 rounded-full transform -translate-y-1/2 transition-all duration-1000 ease-out",style:{width:`${o}%`}}),a.jsx("div",{className:"absolute top-1/2 h-1 w-8 bg-gradient-to-r from-transparent via-white to-transparent rounded-full transform -translate-y-1/2 animate-pulse opacity-80",style:{left:`calc(${o}% - 16px)`}}),a.jsx("div",{className:"relative flex justify-between items-center",children:i.map((c,u)=>{const d=Hne[c.icon]||_r,f=e===c.id,h=i.length>0?`${100/i.length}%`:"25%";return a.jsxs("div",{className:"relative flex flex-col items-center",style:{width:h},onMouseEnter:()=>t(c.id),onMouseLeave:()=>t(null),children:[a.jsx(oe,{href:`/roadmap#${c.id}`,children:a.jsxs("div",{className:`
                        relative z-10 w-14 h-14 rounded-full flex items-center justify-center cursor-pointer
                        transition-all duration-300 ease-out transform
                        ${f?"scale-125":"scale-100"}
                        ${c.isComplete?"bg-green-500 text-white shadow-lg shadow-green-500/30":c.isActive?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 animate-pulse":"bg-white dark:bg-slate-800 text-muted-foreground border-2 border-gray-300 dark:border-slate-600"}
                      `,"data-testid":`timeline-point-${c.id}`,children:[a.jsx(d,{className:"w-6 h-6"}),c.isActive&&a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-400 animate-ping opacity-50"})]})}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("div",{className:`text-sm font-bold ${c.isComplete?"text-green-600 dark:text-green-400":c.isActive?"text-blue-600 dark:text-blue-400":"text-muted-foreground"}`,children:c.label}),a.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:c.title}),a.jsx("div",{className:`text-xs font-semibold mt-1 ${c.isComplete?"text-green-600":c.isActive?"text-blue-600":"text-muted-foreground"}`,children:l(c)})]}),a.jsxs("div",{className:`
                      absolute z-50 w-72 p-4 rounded-xl bg-white dark:bg-slate-800 
                      border border-gray-200 dark:border-slate-700 shadow-2xl
                      transition-all duration-300 ease-out
                      ${f?"opacity-100 visible translate-y-0":"opacity-0 invisible translate-y-2"}
                      ${u>=i.length/2?"right-0":"left-0"}
                    `,style:{top:"100%",marginTop:"80px"},children:[a.jsx("div",{className:`absolute -top-2 w-4 h-4 bg-white dark:bg-slate-800 border-l border-t border-gray-200 dark:border-slate-700 transform rotate-45 ${u>=i.length/2?"right-8":"left-8"}`}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-100 dark:border-slate-700",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c.isComplete?"bg-green-100 dark:bg-green-900/30 text-green-600":c.isActive?"bg-blue-100 dark:bg-blue-900/30 text-blue-600":"bg-gray-100 dark:bg-slate-700 text-muted-foreground"}`,children:a.jsx(d,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-sm",children:c.title}),a.jsx("div",{className:"text-xs text-muted-foreground",children:c.timeframe})]})]}),c.milestones&&c.milestones.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"MILESTONES"}),a.jsx("ul",{className:"space-y-1",children:c.milestones.map((g,y)=>a.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[a.jsx(an,{className:`w-3 h-3 mt-0.5 flex-shrink-0 ${c.isComplete?"text-green-500":"text-muted-foreground"}`}),a.jsx("span",{children:g})]},y))})]}),c.highlights&&c.highlights.length>0&&a.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"HIGHLIGHTS"}),a.jsx("ul",{className:"space-y-1",children:c.highlights.map((g,y)=>a.jsxs("li",{className:"flex items-start gap-2 text-xs text-blue-600 dark:text-blue-400",children:[a.jsx(qa,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:g})]},y))})]})]})]})]},c.id)})})]}),a.jsx("div",{className:"mt-8 p-6 rounded-xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),a.jsxs("div",{className:"text-2xl font-bold text-[#2a4060] dark:text-white mt-1",children:[Math.round(o),"% Complete"]})]}),a.jsx("div",{className:"flex-1 max-w-md",children:a.jsx("div",{className:"h-3 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${o}%`}})})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-green-600",children:i.filter(c=>c.isComplete).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-blue-600",children:i.filter(c=>c.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:i.filter(c=>!c.isComplete&&!c.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})]})})}const a5="/assets/architectural_render_b118ee78-hmTi1mjz.jpg",i5="/assets/architectural_render_cd4dce75-BruYoWlw.jpg",Gne="/assets/architectural_render_c7f63aa7-m2TWghKc.jpg",o5="/assets/sports_facility_cons_6b087ae8-Bawvazvq.jpg",Yne="/assets/sports_facility_cons_aa71e508-BJWEQx7e.jpg",Qne="/assets/sports_facility_cons_44a23ac3-C9MzLDrF.jpg",Xne=[{title:"Complex Exterior Render",type:"render",image:a5,category:"renders"},{title:"Court Construction Progress",type:"photo",image:o5,category:"construction"},{title:"Sports Arena Render",type:"render",image:i5,category:"renders"},{title:"Indoor Facility Build",type:"photo",image:Yne,category:"construction"},{title:"Final Design Concept",type:"render",image:Gne,category:"renders"},{title:"Structural Framework",type:"photo",image:Qne,category:"construction"}];function Zne(){const{getValue:e}=_c(["gallery_title","gallery_subtitle","gallery_cta"],Ze);return a.jsx("section",{id:"gallery",className:"qd-section",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-gallery-title",children:e("gallery_title")||Ze.gallery_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("gallery_subtitle")||Ze.gallery_subtitle})]}),a.jsx(oe,{href:"/gallery",children:a.jsxs(U,{variant:"outline",className:"rounded-full","data-testid":"button-view-full-gallery",children:[e("gallery_cta")||Ze.gallery_cta," ",a.jsx(q_,{className:"ml-2 w-4 h-4"})]})})]}),a.jsx("div",{className:"qd-gallery-grid",children:Xne.map((t,r)=>a.jsx(oe,{href:`/gallery?category=${t.category}`,children:a.jsxs("div",{className:"qd-gallery-item relative overflow-hidden group cursor-pointer","data-testid":`gallery-item-${r}`,children:[a.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[a.jsx("span",{className:"text-sm text-white font-medium",children:t.title}),a.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${t.type==="render"?"bg-blue-500/80":"bg-amber-500/80"} text-white uppercase tracking-wide`,children:t.type})]})]})},r))})]})})}const Jne="/assets/modern_indoor_sports_8b182ff8-CMa6_W-x.jpg",ese={FOUNDING:VD,GOLD:up,SILVER:JD,GUEST:Qr},j2={FOUNDING:{bg:"bg-amber-500/10",text:"text-amber-500"},GOLD:{bg:"bg-yellow-500/10",text:"text-yellow-600"},SILVER:{bg:"bg-gray-500/10",text:"text-gray-500"},GUEST:{bg:"bg-blue-500/10",text:"text-blue-500"}},N2=[{id:"founding",name:"Founding Member",tier:"FOUNDING",tagline:"Limited & Exclusive",description:"For early supporters and investors who believe in our vision.",price:35e3,billingPeriod:"monthly",featured:!0,closed:!0,benefits:["Lifetime priority booking (14-day window)","25% discount on off-peak bookings (10 AM - 5 PM)","10 guest passes per month","Permanent credit bonus (10%)","VIP parking & locker","Invitation to all exclusive events","Founding member recognition wall"],isActive:!0,sortOrder:1},{id:"gold",name:"Gold Membership",tier:"GOLD",tagline:"Premium Access",description:"For serious athletes and frequent players who want the best experience.",price:15e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["7-day advance booking window","20% discount on off-peak bookings (10 AM - 5 PM)","4 guest passes per month","Priority event registration","15% off coaching & clinics","Free equipment rental (2x/month)","Access to member lounge"],isActive:!0,sortOrder:2},{id:"silver",name:"Silver Membership",tier:"SILVER",tagline:"Standard Access",description:"Perfect for recreational players who want regular access at great value.",price:5e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["5-day advance booking window","10% discount on off-peak bookings (10 AM - 5 PM)","2 guest passes per month","10% off coaching & clinics","Member newsletter & updates","Discounted event entry"],isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Non-Member Access",description:"Try our facilities without commitment. Subject to availability.",price:0,billingPeriod:"per visit",featured:!1,closed:!1,benefits:["2-day advance booking window","Access after member priority","Equipment rental available","Guest registration required","Can be upgraded to membership"],isActive:!0,sortOrder:4}],tse=[{feature:"Advance Booking Window",founding:"14 days",gold:"7 days",silver:"5 days",guest:"2 days"},{feature:"Off-Peak Discount (10 AM - 5 PM)",founding:"25%",gold:"20%",silver:"10%",guest:"None"},{feature:"Monthly Guest Passes",founding:"10",gold:"4",silver:"2",guest:"N/A"},{feature:"Coaching Discount",founding:"20%",gold:"15%",silver:"10%",guest:"None"},{feature:"Event Priority",founding:"VIP",gold:"Priority",silver:"Standard",guest:"Last"}];function rse(){const[e,t]=v.useState(null),{data:r,isLoading:n}=ve({queryKey:["/api/pricing-tiers"],queryFn:async()=>{try{const c=await fetch("/api/pricing-tiers");if(!c.ok)return[];const u=await c.json();return Array.isArray(u)?u:[]}catch{return[]}},staleTime:1e3*60*5}),s=v.useMemo(()=>!r||r.length===0?N2:r.filter(c=>c.isActive).sort((c,u)=>(c.sortOrder||0)-(u.sortOrder||0)).map(c=>{var u;return{id:c.id,name:c.name,tier:c.tier,tagline:c.tier==="FOUNDING"?"Limited & Exclusive":c.tier==="GOLD"?"Premium Access":c.tier==="SILVER"?"Standard Access":"Non-Member Access",description:((u=N2.find(d=>d.tier===c.tier))==null?void 0:u.description)||"",price:c.price,billingPeriod:c.billingPeriod||"monthly",featured:c.isPopular||c.tier==="FOUNDING",closed:c.tier==="FOUNDING",benefits:c.benefits||[],isActive:c.isActive,sortOrder:c.sortOrder||0}}),[r]),i=c=>{const u=document.getElementById(c);if(!u)return;const f=u.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:f,behavior:"smooth"})},o=c=>{t(e===c?null:c)},l=(c,u)=>c===0||!c?{amount:"Standard",suffix:" rates"}:{amount:`PKR ${c.toLocaleString()}`,suffix:u==="yearly"?"/year":"/month"};return n?a.jsx("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:a.jsx("div",{className:"qd-container relative z-10",children:a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(c=>a.jsxs("div",{className:"rounded-xl border p-6 bg-white dark:bg-slate-800",children:[a.jsx(pt,{className:"h-12 w-12 rounded-full mx-auto mb-3"}),a.jsx(pt,{className:"h-6 w-32 mx-auto mb-2"}),a.jsx(pt,{className:"h-4 w-24 mx-auto mb-4"}),a.jsx(pt,{className:"h-8 w-28 mx-auto mb-4"}),a.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(u=>a.jsx(pt,{className:"h-4 w-full"},u))})]},c))})})}):a.jsxs("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-5 dark:opacity-10",style:{backgroundImage:`url(${Jne})`}}),a.jsxs("div",{className:"qd-container relative z-10",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-membership-title",children:"Membership & Pricing"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:"Choose the membership tier that fits your lifestyle. All members enjoy priority booking, exclusive discounts during off-peak hours (10 AM - 5 PM), and access to our world-class facilities."})]}),a.jsx(U,{className:"rounded-full",onClick:()=>i("contact"),"data-testid":"button-inquire-membership",children:"Inquire Now"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:s.map(c=>{const u=ese[c.tier]||Qr,d=j2[c.tier]||j2.GUEST,f=e===c.id,h=c.benefits.length>5,{amount:g,suffix:y}=l(c.price,c.billingPeriod);return a.jsxs("div",{className:`relative rounded-xl border p-6 bg-white dark:bg-slate-800 transition-all duration-300 ${c.featured?"border-amber-500/50 shadow-lg ring-2 ring-amber-500/20":"border-gray-200 dark:border-slate-700"} ${h?"cursor-pointer hover-elevate":""}`,onClick:()=>h&&o(c.id),"data-testid":`membership-tier-${c.tier.toLowerCase()}`,children:[c.closed&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-red-500 text-white text-xs font-bold rounded-full",children:"CLOSED"}),c.featured&&!c.closed&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-amber-500 text-white text-xs font-bold rounded-full",children:"MOST POPULAR"}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full mx-auto mb-3 flex items-center justify-center ${d.bg}`,children:a.jsx(u,{className:`w-6 h-6 ${d.text}`})}),a.jsx("h3",{className:"font-bold text-lg",children:c.name}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:c.tagline})]}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("span",{className:"text-3xl font-bold",children:g}),a.jsx("span",{className:"text-muted-foreground text-sm",children:y})]}),a.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:c.description}),a.jsx("ul",{className:"space-y-2 mb-4",children:(f?c.benefits:c.benefits.slice(0,5)).map((m,x)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[a.jsx(an,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:m})]},x))}),h&&a.jsx("button",{onClick:m=>{m.stopPropagation(),o(c.id)},className:"flex items-center justify-center gap-1 w-full text-sm text-muted-foreground mb-4 py-2 rounded-lg transition-colors","data-testid":`button-expand-${c.tier.toLowerCase()}`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(qh,{className:"w-4 h-4"}),"Show less"]}):a.jsxs(a.Fragment,{children:[a.jsx(Pi,{className:"w-4 h-4"}),"+",c.benefits.length-5," more benefits"]})}),a.jsx(U,{variant:c.featured?"default":"outline",className:"w-full rounded-full",disabled:c.closed,onClick:m=>{m.stopPropagation(),c.closed||i("contact")},"data-testid":`button-select-${c.tier.toLowerCase()}`,children:c.closed?"Not Available":"Inquire Now"})]},c.id)})}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 p-6 overflow-x-auto",children:[a.jsx("h3",{className:"font-bold text-lg mb-4 text-center",children:"Quick Comparison"}),a.jsxs("table",{className:"w-full min-w-[600px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Feature"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-amber-600",children:"Founding"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-yellow-600",children:"Gold"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-gray-500",children:"Silver"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-blue-500",children:"Guest"})]})}),a.jsx("tbody",{children:tse.map((c,u)=>a.jsxs("tr",{className:"border-b border-gray-100 dark:border-slate-700/50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:c.feature}),a.jsx("td",{className:"py-3 px-4 text-sm text-center font-medium",children:c.founding}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:c.gold}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:c.silver}),a.jsx("td",{className:"py-3 px-4 text-sm text-center text-muted-foreground",children:c.guest})]},u))})]})]}),a.jsxs("div",{className:"mt-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Questions about membership? Contact us for more details or to discuss corporate packages."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx(U,{variant:"outline",className:"rounded-full",onClick:()=>i("contact"),"data-testid":"button-contact-membership",children:"Contact for Details"}),a.jsx(oe,{href:"/terms",children:a.jsx(U,{variant:"ghost",className:"rounded-full text-muted-foreground","data-testid":"button-view-terms-membership",children:"View Terms & Conditions"})})]})]})]})]})}function nse(){const{getValue:e}=_c(["rules_title","rules_subtitle","rules_cta"],Ze),{data:t,isLoading:r}=ve({queryKey:["/api/rules"]}),n=(t==null?void 0:t.slice(0,4))||[];return a.jsx("section",{id:"rules",className:"qd-section",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-rules-title",children:e("rules_title")||Ze.rules_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("rules_subtitle")||Ze.rules_subtitle})]}),a.jsx(oe,{href:"/rules",children:a.jsxs(U,{variant:"outline",className:"rounded-full","data-testid":"button-view-all-rules",children:[e("rules_cta")||Ze.rules_cta," ",a.jsx(qa,{className:"w-4 h-4 ml-1"})]})})]}),r?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(it,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Rules coming soon..."}):a.jsx("div",{className:"qd-rules-grid",children:n.map((s,i)=>a.jsx(oe,{href:"/rules",children:a.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`rule-item-${i}`,children:[a.jsx("h4",{className:"font-bold text-foreground mb-2",children:s.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s.content})]})},s.id))})]})})}function sse(){var s;const{getValue:e}=_c(["careers_title","careers_subtitle","careers_cta"],Ze),{data:t,isLoading:r}=ve({queryKey:["/api/careers"]}),n=((s=t==null?void 0:t.filter(i=>i.isActive))==null?void 0:s.slice(0,4))||[];return a.jsx("section",{id:"careers",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-careers-title",children:e("careers_title")||Ze.careers_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("careers_subtitle")||Ze.careers_subtitle})]}),a.jsx(oe,{href:"/careers",children:a.jsxs(U,{className:"rounded-full","data-testid":"button-submit-cv",children:[e("careers_cta")||Ze.careers_cta," ",a.jsx(qa,{className:"w-4 h-4 ml-1"})]})})]}),r?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(it,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No open positions at the moment. Check back soon!"}):a.jsx("div",{className:"qd-rules-grid",children:n.map((i,o)=>a.jsx(oe,{href:"/careers",children:a.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`career-position-${o}`,children:[a.jsx("h4",{className:"font-bold text-foreground mb-2",children:i.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})},i.id))})]})})}function ase(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(Tne,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(Ine,{})}),a.jsx(Wne,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(Kne,{})}),a.jsx(Zne,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(rse,{})}),a.jsx(nse,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(sse,{})})]}),a.jsx(nr,{})]})}const ne=v.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:fe("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ne.displayName="Input";const ise=op("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,...r}){return a.jsx("div",{className:fe(ise({variant:t}),e),...r})}function Ea(e){return e.toLocaleString("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0})}function ose(e,t){const[r,n]=e.split(":").map(Number),s=r*60+n+t,i=Math.floor(s/60),o=s%60;return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function S2(e){const t=parseInt(e.split(":")[0]);return t>=10&&t<17}const lse="/assets/bottled_mineral_wate_edb6abad-CPxK56g4.jpg",_2={"padel-tennis":Bo,squash:Np,"air-rifle-range":lp,"bridge-room":Fx,"multipurpose-hall":kn},Ef={FOUNDING:14,GOLD:7,SILVER:5,GUEST:2},kg=["padel-tennis","squash","air-rifle-range","bridge-room","multipurpose-hall"];function cse({initialView:e="booking"}){var Bp,jP,NP;const{user:t,isAuthenticated:r}=jc(),{toast:n}=At(),[s,i]=v.useState(e),[o,l]=v.useState(null),[c,u]=v.useState("Islamabad"),[d,f]=v.useState(()=>new Date().toISOString().split("T")[0]),[h,g]=v.useState(60),[y,m]=v.useState(1),[x,b]=v.useState(null),[p,w]=v.useState("cash"),[N,j]=v.useState(!1),[S,_]=v.useState("self"),[k,C]=v.useState(""),[E,P]=v.useState(null),[R,O]=v.useState(new Set),[I,T]=v.useState({}),[D,q]=v.useState(!1),[A,$]=v.useState(!1),[H,Y]=v.useState(1),[L,K]=v.useState(null),[re,ae]=v.useState("cumulative"),[be,ee]=v.useState(!1),{data:se}=ve({queryKey:["/api/memberships/my"],queryFn:async()=>{try{const V=await fetch("/api/memberships/my",{credentials:"include"});return V.status===404||!V.ok?null:await V.json()}catch{return null}},enabled:r}),{data:Q=[]}=ve({queryKey:["/api/leaderboard",re==="cumulative"?void 0:re],queryFn:async()=>{try{const V=re==="cumulative"?"":`?facilityId=${re}`,he=await fetch(`/api/leaderboard${V}`);if(!he.ok)return[];const dt=await he.json();return Array.isArray(dt)?dt:[]}catch{return[]}}}),X=v.useMemo(()=>{const V=(se==null?void 0:se.tier)||"GUEST",he=(se==null?void 0:se.status)||"PENDING_PAYMENT",dt=he==="ACTIVE";return{name:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest",email:(t==null?void 0:t.email)||"",creditBalance:(t==null?void 0:t.creditBalance)||0,totalHoursPlayed:(t==null?void 0:t.totalHoursPlayed)||0,guestPasses:(se==null?void 0:se.guestPasses)||0,membershipTier:V,membershipStatus:he,membershipNumber:(se==null?void 0:se.membershipNumber)||null,membershipExpiry:(se==null?void 0:se.validTo)||null,isSafetyCertified:(t==null?void 0:t.isSafetyCertified)||!1,hasSignedWaiver:(t==null?void 0:t.hasSignedWaiver)||!1,isActiveMember:dt}},[t,r,se]),ie=v.useMemo(()=>{const V=X.membershipTier,dt=X.isActiveMember&&Ef[V]||2,Le=new Date;return Le.setDate(Le.getDate()+dt),Le.toISOString().split("T")[0]},[X.membershipTier,X.isActiveMember]),W=v.useMemo(()=>d<=ie,[d,ie]);v.useEffect(()=>{const V=new URLSearchParams(window.location.search),he=V.get("success"),dt=V.get("session_id"),Le=V.get("canceled");he==="true"&&dt?Ae("POST","/api/stripe/verify-session",{sessionId:dt}).then(dr=>dr.json()).then(dr=>{dr.booking&&(n({title:"Payment Successful!",description:"Your booking has been confirmed and paid."}),Ne.invalidateQueries({queryKey:["/api/bookings"]}))}).catch(dr=>{n({title:"Payment Verification Failed",description:dr.message||"Please contact support if your payment was deducted.",variant:"destructive"})}).finally(()=>{window.history.replaceState({},"",window.location.pathname)}):Le==="true"&&(n({title:"Payment Canceled",description:"Your payment was canceled. No charges were made.",variant:"default"}),window.history.replaceState({},"",window.location.pathname))},[n]);const{data:z=[]}=ve({queryKey:["/api/bookings",o==null?void 0:o.id,d],enabled:!!o}),{data:ce=[]}=ve({queryKey:["/api/facilities"],queryFn:async()=>{try{const V=await fetch("/api/facilities");if(!V.ok)return[];const he=await V.json();return Array.isArray(he)?he:[]}catch{return[]}}}),{data:qe=[]}=ve({queryKey:["/api/venues"],queryFn:async()=>{try{const V=await fetch("/api/venues");if(!V.ok)return[];const he=await V.json();return Array.isArray(he)?he:[]}catch{return[]}}}),{data:Ye=[]}=ve({queryKey:["/api/hall-activities"],queryFn:async()=>{try{const V=await fetch("/api/hall-activities");if(!V.ok)return[];const he=await V.json();return Array.isArray(he)?he:[]}catch{return[]}}}),ut=v.useMemo(()=>qe.length===0?["Islamabad"]:qe.map(V=>V.city),[qe]),Yt=v.useMemo(()=>Ye.length===0?[]:Ye.map(V=>({value:V.name,label:V.name})),[Ye]),{data:kt=[]}=ve({queryKey:["/api/pricing-tiers"]}),kr=v.useMemo(()=>{const V={FOUNDING:0,GOLD:0,SILVER:0,GUEST:0};return kt.forEach(he=>{const Le=(he.benefits||[]).find(dr=>dr.toLowerCase().includes("discount")&&dr.toLowerCase().includes("off-peak"));if(Le){const dr=Le.match(/(\d+)%/);dr&&(V[he.tier]=parseInt(dr[1],10))}}),V},[kt]),F=v.useMemo(()=>new Date(d+"T12:00:00").getDay(),[d]),G=v.useMemo(()=>{if(!o)return null;const V=ce.find(he=>he.slug===o.id);return(V==null?void 0:V.id)||null},[ce,o==null?void 0:o.id]),Z=v.useMemo(()=>{const V=qe.find(he=>he.city===c);return(V==null?void 0:V.id)||null},[qe,c]),{data:_e=[]}=ve({queryKey:["/api/operating-hours",F],queryFn:async()=>{try{const V=await fetch(`/api/operating-hours?dayOfWeek=${F}`);if(!V.ok)return[];const he=await V.json();return Array.isArray(he)?he:[]}catch{return[]}}}),ye=v.useMemo(()=>{const V=G?_e.find(Jr=>!Jr.isClosed&&!Jr.isHoliday&&Jr.facilityId===G&&Jr.dayOfWeek===F):null,he=Z?_e.find(Jr=>!Jr.isClosed&&!Jr.isHoliday&&Jr.venueId===Z&&!Jr.facilityId&&Jr.dayOfWeek===F):null,dt=_e.find(Jr=>!Jr.isClosed&&!Jr.isHoliday&&!Jr.facilityId&&!Jr.venueId&&Jr.dayOfWeek===F),Le=V||he||dt;if(!Le)return[];const dr=[],Vp=Le.slotDurationMinutes||60,[qp,gf]=Le.openTime.split(":").map(Number),[Tc,zp]=Le.closeTime.split(":").map(Number);let ti=qp*60+gf;const vf=Tc*60+zp-h;for(;ti<=vf;){const Jr=Math.floor(ti/60),wz=ti%60;dr.push(`${Jr.toString().padStart(2,"0")}:${wz.toString().padStart(2,"0")}`),ti+=Vp}return dr},[_e,F,G,Z,h]),{data:ge=[]}=ve({queryKey:["/api/facilities",o==null?void 0:o.id,"addons"],queryFn:async()=>{if(!o)return[];try{const V=await fetch(`/api/facilities/${o.id}/addons`);if(!V.ok)return[];const he=await V.json();return Array.isArray(he)?he:[]}catch{return[]}},enabled:!!(o!=null&&o.id)}),Ue={Target:ql,CircleDot:dK,Droplets:hK,ShieldCheck:Hh,Headphones:gK,Glasses:pK,Coffee:z_,Speaker:AK},xt=v.useMemo(()=>ge.map(V=>({id:V.id,label:V.label,price:V.price,icon:V.icon&&Ue[V.icon]||ql,image:V.imageUrl||lse})),[ge]),Ct=v.useMemo(()=>{const V={};return ce.forEach(he=>{V[he.id]=he.slug}),V},[ce]),Rt=v.useMemo(()=>ce.length===0?[]:ce.filter(V=>V.status==="ACTIVE"&&V.slug!=="bridge-room").map(V=>({id:V.slug,label:V.name,count:V.resourceCount||1,basePrice:V.basePrice,minPlayers:V.minPlayers||1,icon:_2[V.slug]||kn,requiresCert:V.requiresCertification||!1,restricted:V.isRestricted||!1})).sort((V,he)=>{const dt=kg.indexOf(V.id),Le=kg.indexOf(he.id);return(dt===-1?999:dt)-(Le===-1?999:Le)}),[ce]),Gs=v.useMemo(()=>ce.filter(V=>V.slug!=="bridge-room").map(V=>({id:V.slug,label:V.name,count:V.resourceCount||1,basePrice:V.basePrice,minPlayers:V.minPlayers||1,icon:_2[V.slug]||kn,requiresCert:V.requiresCertification||!1,restricted:V.isRestricted||!1,status:V.status})).sort((V,he)=>{const dt=kg.indexOf(V.id),Le=kg.indexOf(he.id);return(dt===-1?999:dt)-(Le===-1?999:Le)}),[ce]);v.useEffect(()=>{if(Rt.length>0)if(!o||!Rt.find(V=>V.id===o.id))l(Rt[0]);else{const V=Rt.find(he=>he.id===o.id);V&&(V.count!==o.count||V.basePrice!==o.basePrice)&&l(V)}},[Rt,o==null?void 0:o.id]),v.useEffect(()=>{ut.length>0&&!ut.includes(c)&&u(ut[0])},[ut,c]);const{data:Cn=[]}=ve({queryKey:["/api/events"]}),ka=Te({mutationFn:async V=>await Ae("POST",`/api/events/${V.eventId}/register`,V),onSuccess:()=>{n({title:"Registration Submitted!",description:"Your registration is pending approval. You'll receive a confirmation email once approved."}),Ne.invalidateQueries({queryKey:["/api/events"]})},onError:V=>{n({title:"Registration Failed",description:V.message||"Unable to register for this event.",variant:"destructive"})}}),rl=V=>{if(!r||!t){n({title:"Login Required",description:"Please log in to register for events.",variant:"destructive"}),window.location.href="/login";return}ka.mutate({eventId:V.id,fullName:`${t.firstName||""} ${t.lastName||""}`.trim()||"Member",email:t.email||""})},ei=c!=="Islamabad",nl=Te({mutationFn:async V=>await Ae("POST","/api/bookings",V),onSuccess:(V,he)=>{const dt=he.paymentMethod==="bank_transfer",Le=he.paymentMethod==="cash";n(dt?{title:"Booking Created!",description:"Please complete your bank transfer and share the receipt with us for verification."}:Le?{title:"Booking Created!",description:"Please pay at the facility on your booking date. Your booking will be confirmed upon payment."}:{title:"Booking Created!",description:"Your booking has been successfully created."}),Ne.invalidateQueries({queryKey:["/api/bookings"]}),b(null),O(new Set),q(!1),$(!1),Y(1)},onError:V=>{n({title:"Booking Failed",description:V.message,variant:"destructive"})}}),Oc=V=>z.some(he=>he.date===d&&he.resourceId===y&&he.startTime===V&&he.status!=="CANCELLED"),hf=async V=>{const he=V.trim().toUpperCase();if(C(he),!he){P(null);return}if(!/^QD-\d{4}$/.test(he)){P(!1);return}ee(!0);try{const Le=await fetch(`/api/memberships/validate/${he}`);if(!Le.ok){P(!1);return}const dr=await Le.json();P(dr.valid===!0)}catch{P(!1)}finally{ee(!1)}},Dr=v.useMemo(()=>{if(!x||!o)return null;let dt=o.basePrice/60*h,Le=0;const dr=X.membershipTier,Vp=X.isActiveMember,qp=S2(x),gf=kr[dr]||0;qp&&Vp&&gf>0&&(Le=dt*(gf/100));let Tc=0;R.forEach(ti=>{const S0=xt.find(vf=>vf.id===ti);if(S0){const vf=I[ti]??1;Tc+=S0.price*vf}}),D&&(Tc+=4e3);let zp=null;if(qp&&Vp&&Le>0){const ti=dr.charAt(0)+dr.slice(1).toLowerCase();zp=`${gf}% ${ti} (Off-Peak)`}return{basePrice:Math.round(dt),discount:Math.round(Le),discountLabel:zp,addOnTotal:Tc,totalPrice:Math.round(dt-Le+Tc),date:d,startTime:x,endTime:ose(x,h)}},[x,o,h,R,I,D,d,X.membershipTier,X.isActiveMember,xt,kr]),N0=V=>{const he=new Set(R);he.has(V.id)?he.delete(V.id):(he.add(V.id),T(dt=>({...dt,[V.id]:dt[V.id]??1}))),O(he)},mf=(V,he)=>{T(dt=>{const Le=dt[V]??1,dr=Math.min(10,Math.max(1,Le+he));return{...dt,[V]:dr}})},Lp=async()=>{if(!(!Dr||!x||!o)){if(!W){const V=X.membershipTier,he=X.isActiveMember&&Ef[V]||2;n({title:"Date Out of Range",description:`Your membership tier allows booking up to ${he} days in advance.`,variant:"destructive"});return}if(o.id==="multipurpose-hall"&&!L){n({title:"Activity Required",description:"Please select a purpose for the Multipurpose Hall booking.",variant:"destructive"});return}nl.mutate({facilitySlug:o.id,venue:c,resourceId:y,date:d,startTime:x,endTime:Dr.endTime,durationMinutes:h,paymentMethod:p,payerType:S.toUpperCase(),payerMembershipNumber:S==="member"?k:null,basePrice:Dr.basePrice,discount:Dr.discount,addOnTotal:Dr.addOnTotal,totalPrice:Dr.totalPrice,coachBooked:D,isMatchmaking:A,currentPlayers:H,maxPlayers:o.minPlayers,hallActivity:L,addOns:Array.from(R).map(V=>({id:V,quantity:I[V]??1}))})}},Fp=V=>{switch(V){case"Academy":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Tournament":return"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300";case"Social":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300";case"Class":return"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-300"}},Up=Gs.filter(V=>V.id!=="bridge-room"&&V.id!=="multipurpose-hall"),pf=v.useMemo(()=>Q.map(V=>({name:V.playerName||"Member",points:V.rankingPoints,tier:"Member",facility:V.facilityId})),[Q]),Wi=()=>{window.location.href="/"};return Rt.length===0||!o?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[700px] bg-white dark:bg-slate-800 rounded-2xl border border-gray-200 dark:border-slate-700 shadow-2xl",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mb-4"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Loading facilities..."})]}):a.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[a.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700 w-full md:w-72 flex-shrink-0 p-6 flex flex-col justify-between shadow-sm",children:[a.jsxs("div",{children:[a.jsx(oe,{href:"/",children:a.jsxs("div",{className:"cursor-pointer","data-testid":"link-sidebar-logo",children:[a.jsx("h1",{className:"text-2xl font-extrabold text-[#2a4060] dark:text-sky-400 mb-1 tracking-tight",children:"THE QUARTERDECK"}),a.jsx("p",{className:"text-[11px] text-muted-foreground mb-6 uppercase tracking-[0.18em]",children:"Central Booking Console"})]})}),a.jsxs("nav",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>i("booking"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="booking"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-booking",children:[a.jsx(Mv,{className:"w-4 h-4"})," Book Facility"]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>i("events"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="events"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-events",children:[a.jsx(la,{className:"w-4 h-4"})," Events & Academies"]}),a.jsxs("button",{onClick:()=>i("leaderboard"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="leaderboard"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-leaderboard",children:[a.jsx(la,{className:"w-4 h-4"})," Leaderboard"]}),a.jsxs("button",{onClick:()=>i("profile"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="profile"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-profile",children:[a.jsx(Ms,{className:"w-4 h-4"})," My Profile"]})]})]})]}),r&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-4 mt-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(uA,{className:"w-5 h-5 text-amber-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Credit Balance"}),a.jsx("p",{className:"text-lg font-bold",children:Ea(X.creditBalance)})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(cA,{className:"w-5 h-5 text-sky-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Hours Played"}),a.jsxs("p",{className:"text-lg font-bold",children:[X.totalHoursPlayed," hrs"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lA,{className:"w-5 h-5 text-emerald-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Guest Passes"}),a.jsx("p",{className:"text-lg font-bold",children:X.guestPasses})]})]})]})]}),a.jsxs("div",{className:"flex-grow p-4 md:p-8 relative overflow-auto bg-gray-50 dark:bg-slate-900",children:[s==="booking"&&!r&&a.jsx("div",{className:"max-w-md mx-auto mt-16 animate-qd-fade-in",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg text-center",children:[a.jsx(Ms,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2","data-testid":"text-auth-required",children:"Sign In Required"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to access the booking system and make reservations."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(oe,{href:"/login",className:"block",children:a.jsx(U,{className:"w-full","data-testid":"button-login-booking",children:"Sign In to Continue"})}),a.jsxs(U,{variant:"outline",className:"w-full",onClick:Wi,"data-testid":"button-back-home-auth",children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})}),s==="booking"&&r&&a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-qd-fade-in",children:[a.jsxs("section",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:Wi,className:"rounded-full","data-testid":"button-back-home",children:[a.jsx(In,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-extrabold","data-testid":"text-booking-title",children:"Central Booking"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your venue, facility, time and extras."})]})]}),a.jsx("div",{className:"mt-3 sm:mt-0",children:a.jsxs("div",{className:"max-w-xs sm:text-right",children:[a.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Venue"}),a.jsx("select",{value:c,onChange:V=>{u(V.target.value),l(Rt[0]),m(1),b(null),O(new Set),T({}),q(!1),$(!1),Y(1),K(null)},className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500","data-testid":"select-venue",children:ut.map(V=>a.jsx("option",{value:V,children:V},V))}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["Booking preview for: ",c]})]})})]}),ei&&a.jsxs("section",{className:"relative bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 rounded-2xl p-8 text-center shadow-lg border border-slate-300 dark:border-slate-700",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-sky-500/10 rounded-2xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx(za,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),a.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["Coming Soon to ",c]}),a.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:["We're expanding! The Quarterdeck ",c," is currently under development. Stay tuned for updates on our upcoming locations."]}),a.jsx(Se,{className:"bg-amber-500/10 text-amber-700 dark:text-amber-400 border-amber-500/30",children:"Expected 2026-2027"}),a.jsx("div",{className:"mt-6",children:a.jsx(U,{variant:"outline",onClick:()=>u("Islamabad"),"data-testid":"button-switch-to-islamabad",children:"Switch to Islamabad (Available Now)"})})]})]}),!ei&&a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"1. Select Facility"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:Rt.map(V=>{const he=V.icon,dt=o.id===V.id,Le=V.restricted&&X.membershipTier!=="FOUNDING";return a.jsxs("button",{onClick:()=>{Le?n({title:"Restricted Area",description:"Exclusive to Founding Members and Armed Forces.",variant:"destructive"}):(l(V),m(1),b(null),$(!1),K(null))},className:`p-4 rounded-xl shadow-sm border flex flex-col items-center justify-center transition-all relative overflow-hidden cursor-pointer ${Le?"opacity-60 bg-gray-100 dark:bg-slate-700 border-gray-200 dark:border-slate-600":dt?"ring-4 ring-amber-300 bg-white dark:bg-slate-800 border-amber-500":"bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-600 hover:border-sky-500"}`,"data-testid":`button-facility-${V.id}`,children:[a.jsx(he,{className:"w-8 h-8 mb-1 text-[#2a4060] dark:text-sky-400"}),a.jsx("p",{className:"font-semibold text-sm",children:V.label}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[V.count," available"]}),Le&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white text-xs font-bold",children:"RESTRICTED"})]},V.id)})})]}),!ei&&a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 space-y-4",children:[a.jsxs("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700",children:["2. Select Resource (",o.label,")"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:o.count}).map((V,he)=>a.jsxs("button",{onClick:()=>m(he+1),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${y===he+1?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-resource-${he+1}`,children:["Court ",he+1]},he+1))}),o.id==="multipurpose-hall"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Purpose of Multipurpose Event"}),a.jsxs("select",{value:L||"",onChange:V=>K(V.target.value),className:"w-full p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"select-hall-activity",children:[a.jsx("option",{value:"",children:"-- Select Activity --"}),Yt.map(V=>a.jsx("option",{value:V.value,children:V.label},V.value))]})]}),o.id!=="hall"&&!o.restricted&&a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("label",{className:"text-sm font-medium",children:"Enable Matchmaking (Join a game)"}),a.jsx("button",{onClick:()=>$(!A),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${A?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-matchmaking",children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${A?"translate-x-6":"translate-x-1"}`})})]}),A&&a.jsxs("select",{value:H,onChange:V=>Y(parseInt(V.target.value)),className:"w-full p-2 border rounded-lg text-sm bg-sky-50 dark:bg-sky-900/30 border-amber-200 dark:border-amber-700","data-testid":"select-group-size",children:[a.jsx("option",{value:1,children:"Just Me (1)"}),a.jsx("option",{value:2,children:"Pair (2)"}),a.jsx("option",{value:3,children:"Three (3)"})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("label",{className:"text-sm font-medium",children:"Book a coach?"}),a.jsx("button",{onClick:()=>q(!D),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${D?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-coach",children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${D?"translate-x-6":"translate-x-1"}`})})]}),D&&a.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 font-semibold text-right",children:"+4,000 PKR"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[a.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"3. Select Date"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(gn,{className:"w-5 h-5 text-sky-500"}),a.jsx("input",{type:"date",value:d,min:new Date().toISOString().split("T")[0],max:ie,onChange:V=>{f(V.target.value),b(null)},className:"flex-1 p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"input-date"})]}),!W&&a.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-1",children:[a.jsx($n,{className:"w-3 h-3"}),"Your ",X.membershipTier," tier allows booking up to ",Ef[X.membershipTier]||2," days ahead"]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[a.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"4. Select Duration"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[60,90,120].map(V=>a.jsxs("button",{onClick:()=>{g(V),b(null)},className:`px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2 ${h===V?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-duration-${V}`,children:[a.jsx(_r,{className:"w-4 h-4"}),V," min"]},V))})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[a.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"5. Select Time Slot"}),ye.length===0?a.jsxs("div",{className:"text-center py-4",children:[a.jsx(_r,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2 animate-pulse"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading available time slots..."})]}):a.jsx("div",{className:"grid grid-cols-5 gap-3",children:ye.map(V=>{const he=Oc(V),dt=x===V,Le=S2(V);return a.jsxs("button",{onClick:()=>!he&&b(V),disabled:he,className:`py-2 px-1 rounded border text-sm font-medium transition relative overflow-hidden ${he?"bg-gray-200 dark:bg-slate-600 text-muted-foreground cursor-not-allowed opacity-70":dt?"bg-green-500 text-white shadow-lg border-green-500":"bg-white dark:bg-slate-700 text-foreground hover:bg-sky-50 dark:hover:bg-slate-600 border-gray-200 dark:border-slate-600"}`,"data-testid":`button-time-${V.replace(":","")}`,children:[V,Le&&!he&&!dt&&a.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-emerald-400 rounded-bl-md"})]},V)})}),ye.length>0&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-400 rounded-full mr-1"}),"Green dot = Off-peak hours (10 AM - 5 PM) - All member tiers get discounts"]})]})]}),a.jsx("div",{className:"md:col-span-1 space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-t-4 border-sky-500",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"6. Extras & Payment"}),Dr?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Add-ons"}),a.jsx("div",{className:"space-y-2",children:xt.map(V=>{const he=R.has(V.id),dt=I[V.id]??1;return a.jsxs("div",{onClick:()=>N0(V),className:`border rounded-xl px-3 py-2 flex items-center gap-3 text-sm transition cursor-pointer hover:shadow-sm ${he?"bg-sky-50 dark:bg-sky-900/30 border-amber-500 text-amber-800 dark:text-amber-300":"bg-white dark:bg-slate-700 border-gray-200 dark:border-slate-600"}`,"data-testid":`addon-${V.id}`,children:[a.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-slate-600",children:a.jsx("img",{src:V.image,alt:V.label,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 text-left min-w-0",children:[a.jsx("p",{className:"font-semibold truncate",children:V.label}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Ea(V.price)," per unit"]})]}),he&&a.jsxs("div",{className:"flex items-center gap-1 text-xs flex-shrink-0",onClick:Le=>Le.stopPropagation(),children:[a.jsx("button",{onClick:()=>mf(V.id,-1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:a.jsx(wK,{className:"w-3 h-3"})}),a.jsx("span",{className:"min-w-[1.5rem] text-center font-semibold",children:dt}),a.jsx("button",{onClick:()=>mf(V.id,1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:a.jsx(vn,{className:"w-3 h-3"})})]})]},V.id)})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Payer Details"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex gap-4 text-xs",children:[a.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"payer-type",checked:S==="self",onChange:()=>_("self"),className:"accent-sky-600"}),a.jsx("span",{children:"Self (use my account)"})]}),a.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"payer-type",checked:S==="member",onChange:()=>_("member"),className:"accent-sky-600"}),a.jsx("span",{children:"Another member will pay"})]})]}),S==="member"&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-semibold",children:"Membership number of the payer"}),a.jsx(ne,{type:"text",value:k,onChange:V=>hf(V.target.value),placeholder:"e.g. QD-0001",className:"text-xs","data-testid":"input-payer-membership"}),E===!0&&a.jsxs("p",{className:"text-[10px] text-emerald-600 flex items-center gap-1",children:[a.jsx(an,{className:"w-3 h-3"})," Membership found."]}),E===!1&&a.jsxs("p",{className:"text-[10px] text-rose-500 flex items-center gap-1",children:[a.jsx($n,{className:"w-3 h-3"})," Membership not found."]})]})]})]}),a.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2 border-t pt-4 border-gray-100 dark:border-slate-700",children:"Summary"}),a.jsxs("div",{className:"space-y-1 text-sm mb-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:["Base Rate (",h," min)"]}),a.jsx("span",{children:Ea(Dr.basePrice)})]}),Dr.discount>0&&a.jsxs("div",{className:"flex justify-between text-emerald-600",children:[a.jsxs("span",{children:["Member Discount (",Dr.discountLabel,")"]}),a.jsxs("span",{children:["- ",Ea(Dr.discount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Add-Ons & Coach"}),a.jsxs("span",{children:["+ ",Ea(Dr.addOnTotal)]})]})]}),a.jsxs("div",{className:"flex justify-between border-t border-dashed pt-3 border-gray-200 dark:border-slate-600",children:[a.jsx("span",{className:"font-bold text-lg",children:"TOTAL DUE"}),a.jsx("span",{className:"font-extrabold text-2xl text-sky-700 dark:text-sky-400",children:Ea(Dr.totalPrice)})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{onClick:()=>w("cash"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${p==="cash"?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-cash",children:"Pay On-Site"}),a.jsx("button",{onClick:()=>w("bank_transfer"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${p==="bank_transfer"?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-bank",children:"Bank Transfer"}),a.jsx("button",{onClick:()=>w("credits"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${p==="credits"?"bg-slate-900 text-white border-slate-900 dark:bg-slate-100 dark:text-slate-900 dark:border-slate-100":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-credits",children:"Credits"})]})]}),p==="bank_transfer"&&a.jsxs("div",{className:"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-xl",children:[a.jsx("h5",{className:"font-bold text-purple-800 dark:text-purple-300 text-sm mb-2",children:"Bank Transfer Instructions"}),a.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-400 space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Bank:"})," HBL (Habib Bank Limited)"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Account Title:"})," The Quarterdeck Sports Club"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Account #:"})," 1234-5678-9012-3456"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"IBAN:"})," PK00HABB1234567890123456"]})]}),a.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-3 italic",children:"After payment, please share your receipt with admin for verification. Your booking will be confirmed once payment is verified."})]}),a.jsx(U,{onClick:Lp,disabled:nl.isPending,className:"w-full mt-6 py-3 rounded-xl font-bold bg-sky-600 hover:bg-sky-500 shadow-lg","data-testid":"button-confirm-booking",children:nl.isPending?"Processing...":"Confirm Booking"})]}):a.jsx("p",{className:"text-center text-muted-foreground italic text-sm",children:"Please select a time slot to calculate price."})]})})]})]}),s==="events"&&a.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 animate-qd-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:Wi,className:"rounded-full","data-testid":"button-events-back-home",children:[a.jsx(In,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-events-title",children:"Events & Academy"}),a.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Classes, tournaments and social events."})]}),a.jsx("div",{className:"w-16"})," "]}),Cn.length>0?Gs.map(V=>{const he=V.icon,dt=Cn.filter(Le=>Ct[Le.facilityId]===V.id);return dt.length===0?null:a.jsxs("section",{className:`mb-8 p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-md border-t-4 ${V.id==="padel-tennis"?"border-sky-500":V.id==="air-rifle-range"?"border-red-400":V.id==="squash"?"border-slate-400":V.id==="bridge-room"?"border-blue-500":"border-purple-400"}`,"data-testid":`section-events-${V.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 dark:border-slate-700 pb-3",children:[a.jsx(he,{className:"w-8 h-8 text-[#2a4060] dark:text-sky-400"}),a.jsxs("h3",{className:"text-xl font-extrabold",children:[V.label," Programs"]}),V.status==="PLANNED"&&a.jsx(Se,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:dt.map(Le=>a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-5 rounded-xl border border-gray-100 dark:border-slate-600 flex flex-col justify-between","data-testid":`card-event-${Le.id}`,children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:`${Fp(Le.type)} text-[10px] font-bold px-2 py-0.5 rounded-full uppercase`,children:Le.type}),a.jsx("span",{className:"text-sm font-semibold text-sky-700 dark:text-sky-400",children:Ea(Le.price)})]}),a.jsx("h4",{className:"font-bold text-lg mb-1",children:Le.title}),a.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:[Le.scheduleDay," at ",Le.scheduleTime||"TBA"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Le.description}),Le.instructor&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Instructor: ",Le.instructor]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Le.enrolledCount||0," / ",Le.capacity," enrolled"]})]}),a.jsx(U,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>rl(Le),disabled:ka.isPending||(Le.enrolledCount||0)>=Le.capacity,"data-testid":`button-register-${Le.id}`,children:ka.isPending?"Registering...":(Le.enrolledCount||0)>=Le.capacity?"Full":"Register"})]},Le.id))})]},V.id)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(la,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Available"}),a.jsx("p",{className:"text-muted-foreground",children:"Check back soon for upcoming events and academies."})]})]}),s==="leaderboard"&&a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-qd-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:Wi,className:"rounded-full","data-testid":"button-leaderboard-back-home",children:[a.jsx(In,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-leaderboard-title",children:re==="cumulative"?"Global Arena Leaderboard":`${((Bp=Rt.find(V=>V.id===re))==null?void 0:Bp.label)||""} Top Scorers`}),a.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Top performers across all facilities."})]}),a.jsx("div",{className:"w-16"})," "]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[a.jsx("button",{onClick:()=>ae("cumulative"),className:`px-4 py-2 rounded-full text-sm font-medium transition ${re==="cumulative"?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":"button-leaderboard-cumulative",children:"All Facilities"}),Up.map(V=>{const he=V.icon;return a.jsxs("button",{onClick:()=>ae(V.id),className:`px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-2 ${re===V.id?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-leaderboard-${V.id}`,children:[a.jsx(he,{className:"w-4 h-4"}),V.label]},V.id)})]}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg overflow-hidden",children:pf.length>0?pf.map((V,he)=>a.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-100 dark:border-slate-700 ${he===0?"bg-amber-50 dark:bg-amber-900/20":he===1?"bg-gray-50 dark:bg-slate-700/50":he===2?"bg-orange-50 dark:bg-orange-900/10":""}`,"data-testid":`leaderboard-entry-${he}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${he===0?"bg-amber-400 text-white":he===1?"bg-gray-400 text-white":he===2?"bg-orange-400 text-white":"bg-gray-200 dark:bg-slate-600 text-muted-foreground"}`,children:he+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:V.name}),a.jsx(Se,{variant:"outline",className:"text-xs",children:V.tier})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-extrabold text-xl text-sky-700 dark:text-sky-400",children:V.points}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"points"})]})]},he)):a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(la,{className:"w-16 h-16 mx-auto text-muted-foreground/30 mb-4"}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"No Rankings Yet"}),a.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:re==="cumulative"?"Once members start playing, top performers will appear here!":`Be the first to rank in ${((jP=Up.find(V=>V.id===re))==null?void 0:jP.label)||"this facility"}!`}),a.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Book a session and start climbing the leaderboard"})]})})]}),s==="profile"&&a.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 animate-qd-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:Wi,className:"rounded-full","data-testid":"button-profile-back-home",children:[a.jsx(In,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold","data-testid":"text-profile-title",children:"My Profile"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Your membership details and stats"})]}),a.jsx("div",{className:"w-16"})]}),a.jsx("div",{className:"bg-gradient-to-r from-[#2a4060] to-[#1e3048] p-6 rounded-2xl shadow-lg text-white",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:r&&t?((NP=t.firstName)==null?void 0:NP.charAt(0))||"M":"G"}),a.jsxs("div",{className:"text-center md:text-left flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold mb-1",children:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest User"}),a.jsx("p",{className:"text-white/70 text-sm mb-3",children:r&&t?t.email:"Not logged in"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[a.jsxs(Se,{className:`${X.membershipTier==="FOUNDING"?"bg-amber-400 text-amber-900":X.membershipTier==="GOLD"?"bg-yellow-400 text-yellow-900":X.membershipTier==="SILVER"?"bg-gray-300 text-gray-800":"bg-slate-500 text-white"} font-bold px-3 py-1`,children:[X.membershipTier," MEMBER"]}),X.isActiveMember&&a.jsxs(Se,{className:"bg-green-500 text-white font-medium px-3 py-1",children:[a.jsx(an,{className:"w-3 h-3 mr-1"})," Active"]})]})]}),se&&a.jsxs("div",{className:"text-center md:text-right bg-white/10 px-4 py-3 rounded-xl",children:[a.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Member ID"}),a.jsx("p",{className:"font-mono font-bold text-lg",children:se.membershipNumber}),a.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Valid until ",new Date(se.validTo).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(uA,{className:"w-8 h-8 mx-auto text-amber-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:Ea(X.creditBalance)}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Credit Balance"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(cA,{className:"w-8 h-8 mx-auto text-sky-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:X.totalHoursPlayed}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Hours Played"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(lA,{className:"w-8 h-8 mx-auto text-emerald-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:X.guestPasses}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Guest Passes"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(Mv,{className:"w-8 h-8 mx-auto text-purple-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:Ef[X.membershipTier]||2}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Days Advance"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[a.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[a.jsx(la,{className:"w-4 h-4"})," Membership Benefits"]}),a.jsxs("ul",{className:"space-y-3 text-sm",children:[a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:a.jsxs("span",{className:"font-bold text-amber-600 dark:text-amber-400",children:[kr[X.membershipTier]||0,"%"]})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Off-Peak Discount"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"10AM - 5PM weekdays"})]})]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center",children:a.jsx(gn,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Booking Window"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Book up to ",Ef[X.membershipTier]||2," days ahead"]})]})]}),X.guestPasses>0&&a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:a.jsx(Ms,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Guest Passes"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[X.guestPasses," passes remaining"]})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[a.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[a.jsx(Hh,{className:"w-4 h-4"})," Certifications & Waivers"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${X.isSafetyCertified?"bg-green-50 dark:bg-green-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[X.isSafetyCertified?a.jsx(an,{className:"w-5 h-5 text-green-600"}):a.jsx($n,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Air Rifle Safety"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:X.isSafetyCertified?"Certified":"Required for range access"})]})]}),a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${X.hasSignedWaiver?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[X.hasSignedWaiver?a.jsx(zD,{className:"w-5 h-5 text-blue-600"}):a.jsx($n,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Liability Waiver"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:X.hasSignedWaiver?"Signed":"Sign at reception"})]})]})]})]})]}),!r&&a.jsxs("div",{className:"bg-gradient-to-r from-sky-500 to-blue-600 p-6 rounded-xl text-white text-center",children:[a.jsx(Ms,{className:"w-12 h-12 mx-auto mb-3 opacity-80"}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Sign In to Access Full Features"}),a.jsx("p",{className:"text-white/80 text-sm mb-4",children:"View your bookings, manage memberships, and more."}),a.jsx(oe,{href:"/login",children:a.jsx(U,{variant:"secondary","data-testid":"button-sign-in",children:"Sign In Now"})})]})]})]})]})}function use(){return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full max-w-6xl",children:a.jsx(cse,{})})})}const le=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));le.displayName="Card";const Ge=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("flex flex-col space-y-1.5 p-6",e),...t}));Ge.displayName="CardHeader";const et=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("text-2xl font-semibold leading-none tracking-tight",e),...t}));et.displayName="CardTitle";const Kt=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));Kt.displayName="CardDescription";const ue=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("p-6 pt-0",e),...t}));ue.displayName="CardContent";const dse=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("flex items-center p-6 pt-0",e),...t}));dse.displayName="CardFooter";var cb="Tabs",[fse]=yn(cb,[ab]),l5=ab(),[hse,Ck]=fse(cb),c5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Xd(l),[f,h]=rs({prop:n,onChange:s,defaultProp:i??"",caller:cb});return a.jsx(hse,{scope:r,baseId:Rr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Oe.div,{dir:d,"data-orientation":o,...u,ref:t})})});c5.displayName=cb;var u5="TabsList",d5=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Ck(u5,r),o=l5(r);return a.jsx(i3,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Oe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});d5.displayName=u5;var f5="TabsTrigger",h5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=Ck(f5,r),l=l5(r),c=g5(o.baseId,n),u=v5(o.baseId,n),d=n===o.value;return a.jsx(o3,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:me(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:me(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:me(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});h5.displayName=f5;var m5="TabsContent",p5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=Ck(m5,r),c=g5(l.baseId,n),u=v5(l.baseId,n),d=n===l.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Xr,{present:s||d,children:({present:h})=>a.jsx(Oe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});p5.displayName=m5;function g5(e,t){return`${e}-trigger-${t}`}function v5(e,t){return`${e}-content-${t}`}var mse=c5,y5=d5,x5=h5,b5=p5;const Ti=mse,Ha=v.forwardRef(({className:e,...t},r)=>a.jsx(y5,{ref:r,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ha.displayName=y5.displayName;const Nr=v.forwardRef(({className:e,...t},r)=>a.jsx(x5,{ref:r,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Nr.displayName=x5.displayName;const Sr=v.forwardRef(({className:e,...t},r)=>a.jsx(b5,{ref:r,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Sr.displayName=b5.displayName;function pse(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:g,...y}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=v.useMemo(()=>y,Object.values(y));return a.jsx(m.Provider,{value:x,children:g})};u.displayName=i+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=v.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,gse(s,...t)]}function gse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var vse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pk=vse.reduce((e,t)=>{const r=Zx(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yse(){return q4.useSyncExternalStore(xse,()=>!0,()=>!1)}function xse(){return()=>{}}var Ek="Avatar",[bse]=pse(Ek),[wse,w5]=bse(Ek),j5=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=v.useState("idle");return a.jsx(wse,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(Pk.span,{...n,ref:t})})});j5.displayName=Ek;var N5="AvatarImage",S5=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=w5(N5,r),l=jse(n,i),c=vr(u=>{s(u),o.onImageLoadingStatusChange(u)});return yr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(Pk.img,{...i,ref:t,src:n}):null});S5.displayName=N5;var _5="AvatarFallback",k5=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=w5(_5,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(Pk.span,{...s,ref:t}):null});k5.displayName=_5;function k2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function jse(e,{referrerPolicy:t,crossOrigin:r}){const n=yse(),s=v.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=v.useState(()=>k2(i,e));return yr(()=>{l(k2(i,e))},[i,e]),yr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var C5=j5,P5=S5,E5=k5;const om=v.forwardRef(({className:e,...t},r)=>a.jsx(C5,{ref:r,className:fe(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));om.displayName=C5.displayName;const lm=v.forwardRef(({className:e,...t},r)=>a.jsx(P5,{ref:r,className:fe("aspect-square h-full w-full",e),...t}));lm.displayName=P5.displayName;const cm=v.forwardRef(({className:e,...t},r)=>a.jsx(E5,{ref:r,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));cm.displayName=E5.displayName;function Nse(){var _,k;const{user:e,isLoading:t,isAuthenticated:r}=jc(),n=X4(),i=new URLSearchParams(n).get("tab")||"account",o=v.useRef(null),{toast:l}=At(),{data:c}=ve({queryKey:["/api/memberships/my"],enabled:r}),{data:u=[]}=ve({queryKey:["/api/bookings/my"],enabled:r}),{data:d=[],isLoading:f}=ve({queryKey:["/api/notifications"],enabled:r}),h=Te({mutationFn:async C=>{await Ae("POST",`/api/notifications/${C}/read`)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),g=Te({mutationFn:async()=>{await Ae("POST","/api/notifications/read-all")},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),y=Te({mutationFn:async C=>{await Ae("DELETE",`/api/notifications/${C}`)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),m=Te({mutationFn:async C=>{const E=new FormData;E.append("photo",C);const P=await fetch("/api/user/profile-photo",{method:"POST",body:E,credentials:"include"});if(!P.ok){const R=await P.json();throw new Error(R.message||"Failed to upload photo")}return P.json()},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/auth/user"]}),l({title:"Photo updated",description:"Your profile photo has been updated successfully."}),o.current&&(o.current.value="")},onError:C=>{l({title:"Upload failed",description:C.message,variant:"destructive"})}}),x=C=>{var P;const E=(P=C.target.files)==null?void 0:P[0];if(E){if(E.size>5*1024*1024){l({title:"File too large",description:"Maximum file size is 5MB",variant:"destructive"});return}m.mutate(E)}},b=new Date().toISOString().split("T")[0],{upcomingBookings:p,pastBookings:w}=v.useMemo(()=>{const C=u.filter(P=>P.date>=b).sort((P,R)=>P.date.localeCompare(R.date)),E=u.filter(P=>P.date<b).sort((P,R)=>R.date.localeCompare(P.date));return{upcomingBookings:C,pastBookings:E}},[u,b]),N=d.filter(C=>!C.isRead).length;if(t)return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),a.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:a.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Profile"})})]}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(pt,{className:"h-12 w-64 mb-8"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(pt,{className:"h-64"}),a.jsx(pt,{className:"h-64"})]})]})]}),a.jsx(nr,{})]});if(!r)return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center",children:a.jsx(le,{className:"max-w-md w-full mx-4",children:a.jsxs(ue,{className:"pt-6 text-center",children:[a.jsx(Ms,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view your profile and booking history."}),a.jsx(oe,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),a.jsx(nr,{})]});const j=C=>{switch(C){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},S=C=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl","data-testid":`booking-entry-${C.id}`,children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:C.venue}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.date," at ",C.startTime," - ",C.endTime]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(Se,{variant:C.status==="CONFIRMED"?"default":"secondary",children:C.status}),a.jsx("div",{className:"text-sm font-semibold text-sky-600 mt-1",children:Ea(C.totalPrice)})]})]},C.id);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),a.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:a.jsx("h1",{className:"text-3xl md:text-4xl font-bold","data-testid":"text-profile-title",children:"My Profile"})})]}),a.jsx("div",{className:"qd-container py-6",children:a.jsxs(Ti,{defaultValue:i,className:"space-y-6",children:[a.jsxs(Ha,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[a.jsxs(Nr,{value:"account","data-testid":"tab-account",children:[a.jsx(Ms,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Account"]}),a.jsxs(Nr,{value:"bookings","data-testid":"tab-bookings",children:[a.jsx(gn,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Bookings"]}),a.jsxs(Nr,{value:"notifications",className:"relative","data-testid":"tab-notifications",children:[a.jsx(nd,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Notifications",N>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[16px] h-[16px] px-1 text-[10px] font-medium text-white bg-red-500 rounded-full",children:N})]}),a.jsxs(Nr,{value:"membership","data-testid":"tab-membership",children:[a.jsx(nv,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Membership"]})]}),a.jsxs(Sr,{value:"account",className:"space-y-6",children:[a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Ms,{className:"w-5 h-5"}),"Account Information"]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[a.jsxs("div",{className:"relative group",children:[a.jsxs(om,{className:"w-24 h-24",children:[a.jsx(lm,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`}),a.jsxs(cm,{className:"text-2xl bg-primary/10 text-primary",children:[(_=e==null?void 0:e.firstName)==null?void 0:_[0],(k=e==null?void 0:e.lastName)==null?void 0:k[0]]})]}),a.jsx("button",{type:"button",onClick:()=>{var C;return(C=o.current)==null?void 0:C.click()},className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",disabled:m.isPending,"data-testid":"button-change-photo",children:m.isPending?a.jsx(it,{className:"w-6 h-6 text-white animate-spin"}):a.jsx(BD,{className:"w-6 h-6 text-white"})}),a.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:x,className:"hidden","data-testid":"input-profile-photo"})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),a.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.email}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on photo to change"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(Ms,{className:"w-3 h-3"})," Name"]}),a.jsxs("p",{className:"font-semibold","data-testid":"text-user-name",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(cp,{className:"w-3 h-3"})," Email"]}),a.jsx("p",{className:"font-semibold text-sm truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"Not provided"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(W_,{className:"w-3 h-3"})," Credit Balance"]}),a.jsx("p",{className:"font-semibold text-sky-600","data-testid":"text-credit-balance",children:Ea((e==null?void 0:e.creditBalance)||0)})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(_r,{className:"w-3 h-3"})," Total Hours Played"]}),a.jsxs("p",{className:"font-semibold","data-testid":"text-hours-played",children:[(e==null?void 0:e.totalHoursPlayed)||0," hrs"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(tc,{className:"w-3 h-3"})," Safety Certified"]}),a.jsx("p",{className:`font-semibold ${e!=null&&e.isSafetyCertified?"text-green-600":"text-red-600"}`,children:e!=null&&e.isSafetyCertified?"Yes":"No"})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(zD,{className:"w-3 h-3"})," Waiver Signed"]}),a.jsx("p",{className:`font-semibold ${e!=null&&e.hasSignedWaiver?"text-green-600":"text-red-600"}`,children:e!=null&&e.hasSignedWaiver?"Yes":"No"})]})]})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("a",{href:"/api/logout",children:a.jsx(U,{variant:"outline",className:"rounded-full","data-testid":"button-logout",children:"Sign Out"})})})]}),a.jsxs(Sr,{value:"bookings",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Your Bookings"}),a.jsx(oe,{href:"/booking",children:a.jsx(U,{size:"sm","data-testid":"button-new-booking",children:"New Booking"})})]}),a.jsxs(Ti,{defaultValue:"upcoming",className:"space-y-4",children:[a.jsxs(Ha,{children:[a.jsxs(Nr,{value:"upcoming",className:"gap-2","data-testid":"tab-upcoming-bookings",children:[a.jsx(Mv,{className:"w-4 h-4"}),"Upcoming (",p.length,")"]}),a.jsxs(Nr,{value:"past",className:"gap-2","data-testid":"tab-past-bookings",children:[a.jsx(aA,{className:"w-4 h-4"}),"Past (",w.length,")"]})]}),a.jsx(Sr,{value:"upcoming",className:"space-y-3",children:p.length>0?p.map(S):a.jsx(le,{children:a.jsxs(ue,{className:"py-12 text-center",children:[a.jsx(gn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming bookings"}),a.jsx(oe,{href:"/booking",children:a.jsx(U,{"data-testid":"button-make-first-booking",children:"Book a Facility"})})]})})}),a.jsx(Sr,{value:"past",className:"space-y-3",children:w.length>0?w.map(S):a.jsx(le,{children:a.jsxs(ue,{className:"py-12 text-center",children:[a.jsx(aA,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No past bookings"})]})})})]})]}),a.jsxs(Sr,{value:"notifications",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),N>0&&a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>g.mutate(),disabled:g.isPending,"data-testid":"button-mark-all-notifications-read",children:[g.isPending?a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(an,{className:"w-4 h-4 mr-2"}),"Mark all read"]})]}),f?a.jsxs("div",{className:"space-y-3",children:[a.jsx(pt,{className:"h-20"}),a.jsx(pt,{className:"h-20"}),a.jsx(pt,{className:"h-20"})]}):d.length===0?a.jsx(le,{children:a.jsxs(ue,{className:"py-12 text-center",children:[a.jsx(nd,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]})}):a.jsx("div",{className:"space-y-3",children:d.map(C=>a.jsx(le,{className:C.isRead?"":"ring-1 ring-primary/20","data-testid":`notification-card-${C.id}`,children:a.jsx(ue,{className:"py-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${j(C.type)}`}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[C.link?a.jsx(oe,{href:C.link,children:a.jsx("p",{className:"font-semibold hover:underline cursor-pointer",children:C.title})}):a.jsx("p",{className:"font-semibold",children:C.title}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:C.createdAt?e3(new Date(C.createdAt),{addSuffix:!0}):""})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[!C.isRead&&a.jsx(U,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>h.mutate(C.id),disabled:h.isPending,"data-testid":`button-mark-notification-read-${C.id}`,children:h.isPending?a.jsx(it,{className:"w-4 h-4 animate-spin"}):a.jsx(an,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",className:"w-8 h-8 text-destructive",onClick:()=>y.mutate(C.id),disabled:y.isPending,"data-testid":`button-delete-notification-${C.id}`,children:y.isPending?a.jsx(it,{className:"w-4 h-4 animate-spin"}):a.jsx(on,{className:"w-4 h-4"})})]})]})})]})})},C.id))})]}),a.jsx(Sr,{value:"membership",className:"space-y-6",children:a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(nv,{className:"w-5 h-5"}),"Membership Details"]})}),a.jsx(ue,{className:"space-y-4",children:c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 bg-gradient-to-r from-slate-900 to-slate-700 dark:from-slate-700 dark:to-slate-600 rounded-xl text-white",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-70",children:"Member ID"}),a.jsx("span",{className:"font-mono font-bold","data-testid":"text-membership-number",children:c.membershipNumber})]}),a.jsxs("div",{className:"text-2xl font-bold mb-1",children:[c.tier," Tier"]}),a.jsxs("div",{className:"text-xs opacity-70",children:["Valid until: ",new Date(c.validTo).toLocaleDateString()]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),a.jsx(Se,{variant:c.status==="ACTIVE"?"default":"secondary",children:c.status})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(Qr,{className:"w-3 h-3"})," Guest Passes"]}),a.jsxs("p",{className:"font-semibold",children:[c.guestPasses," remaining"]})]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(nv,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No active membership"}),a.jsx(oe,{href:"/#membership",children:a.jsx(U,{variant:"outline","data-testid":"button-view-membership-options",children:"View Membership Options"})})]})})]})})]})})]}),a.jsx(nr,{})]})}var _p=e=>e.type==="checkbox",Cl=e=>e instanceof Date,Hn=e=>e==null;const A5=e=>typeof e=="object";var $r=e=>!Hn(e)&&!Array.isArray(e)&&A5(e)&&!Cl(e),O5=e=>$r(e)&&e.target?_p(e.target)?e.target.checked:e.target.value:e,Sse=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,T5=(e,t)=>e.has(Sse(t)),_se=e=>{const t=e.constructor&&e.constructor.prototype;return $r(t)&&t.hasOwnProperty("isPrototypeOf")},Ak=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Ak&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!($r(e)&&_se(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Vr(e[s]));return n}var ub=e=>/^\w*$/.test(e),pr=e=>e===void 0,Ok=e=>Array.isArray(e)?e.filter(Boolean):[],Tk=e=>Ok(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ce=(e,t,r)=>{if(!t||!$r(e))return r;const n=(ub(t)?[t]:Tk(t)).reduce((s,i)=>Hn(s)?s:s[i],e);return pr(n)||n===e?pr(e[t])?r:e[t]:n},fs=e=>typeof e=="boolean",Rn=e=>typeof e=="function",$t=(e,t,r)=>{let n=-1;const s=ub(t)?[t]:Tk(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=$r(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const sy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ca={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ni={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ik=M.createContext(null);Ik.displayName="HookFormContext";const db=()=>M.useContext(Ik),kse=e=>{const{children:t,...r}=e;return M.createElement(Ik.Provider,{value:r},t)};var I5=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ca.all&&(t._proxyFormState[o]=!n||ca.all),r&&(r[o]=!0),e[o]}});return s};const Rk=typeof window<"u"?M.useLayoutEffect:M.useEffect;function Cse(e){const t=db(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,l]=M.useState(r._formState),c=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Rk(()=>r._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,i]),M.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),M.useMemo(()=>I5(o,r,c.current,!1),[o,r])}var gs=e=>typeof e=="string",V1=(e,t,r,n,s)=>gs(e)?(n&&t.watch.add(e),Ce(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ce(r,i))):(n&&(t.watchAll=!0),r),q1=e=>Hn(e)||!A5(e);function ua(e,t,r=new WeakSet){if(q1(e)||q1(t))return Object.is(e,t);if(Cl(e)&&Cl(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Cl(o)&&Cl(l)||$r(o)&&$r(l)||Array.isArray(o)&&Array.isArray(l)?!ua(o,l,r):!Object.is(o,l))return!1}}return!0}function Pse(e){const t=db(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o,compute:l}=e||{},c=M.useRef(s),u=M.useRef(l),d=M.useRef(void 0),f=M.useRef(r),h=M.useRef(n);u.current=l;const[g,y]=M.useState(()=>{const N=r._getWatch(n,c.current);return u.current?u.current(N):N}),m=M.useCallback(N=>{const j=V1(n,r._names,N||r._formValues,!1,c.current);return u.current?u.current(j):j},[r._formValues,r._names,n]),x=M.useCallback(N=>{if(!i){const j=V1(n,r._names,N||r._formValues,!1,c.current);if(u.current){const S=u.current(j);ua(S,d.current)||(y(S),d.current=S)}else y(j)}},[r._formValues,r._names,i,n]);Rk(()=>((f.current!==r||!ua(h.current,n))&&(f.current=r,h.current=n,x()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:N=>{x(N.values)}})),[r,o,n,x]),M.useEffect(()=>r._removeUnmounted());const b=f.current!==r,p=h.current,w=M.useMemo(()=>{if(i)return null;const N=!b&&!ua(p,n);return b||N?m():null},[i,b,n,p,m]);return w!==null?w:g}function Ese(e){const t=db(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=T5(s._names.array,r),u=M.useMemo(()=>Ce(s._formValues,r,Ce(s._defaultValues,r,o)),[s,r,o]),d=Pse({control:s,name:r,defaultValue:u,exact:l}),f=Cse({control:s,name:r,exact:l}),h=M.useRef(e),g=M.useRef(void 0),y=M.useRef(s.register(r,{...e.rules,value:d,...fs(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=M.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ce(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ce(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ce(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ce(f.validatingFields,r)},error:{enumerable:!0,get:()=>Ce(f.errors,r)}}),[f,r]),x=M.useCallback(N=>y.current.onChange({target:{value:O5(N),name:r},type:sy.CHANGE}),[r]),b=M.useCallback(()=>y.current.onBlur({target:{value:Ce(s._formValues,r),name:r},type:sy.BLUR}),[r,s._formValues]),p=M.useCallback(N=>{const j=Ce(s._fields,r);j&&j._f&&N&&(j._f.ref={focus:()=>Rn(N.focus)&&N.focus(),select:()=>Rn(N.select)&&N.select(),setCustomValidity:S=>Rn(N.setCustomValidity)&&N.setCustomValidity(S),reportValidity:()=>Rn(N.reportValidity)&&N.reportValidity()})},[s._fields,r]),w=M.useMemo(()=>({name:r,value:d,...fs(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:x,onBlur:b,ref:p}),[r,n,f.disabled,x,b,p,d]);return M.useEffect(()=>{const N=s._options.shouldUnregister||i,j=g.current;j&&j!==r&&!c&&s.unregister(j),s.register(r,{...h.current.rules,...fs(h.current.disabled)?{disabled:h.current.disabled}:{}});const S=(_,k)=>{const C=Ce(s._fields,_);C&&C._f&&(C._f.mount=k)};if(S(r,!0),N){const _=Vr(Ce(s._options.defaultValues,r,h.current.defaultValue));$t(s._defaultValues,r,_),pr(Ce(s._formValues,r))&&$t(s._formValues,r,_)}return!c&&s.register(r),g.current=r,()=>{(c?N&&!s._state.action:N)?s.unregister(r):S(r,!1)}},[r,s,c,i]),M.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),M.useMemo(()=>({field:w,formState:f,fieldState:m}),[w,f,m])}const Ase=e=>e.render(Ese(e));var R5=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},mh=e=>Array.isArray(e)?e:[e],C2=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function $5(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&$r(s)&&i){const o=$5(s,i);$r(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var An=e=>$r(e)&&!Object.keys(e).length,$k=e=>e.type==="file",ay=e=>{if(!Ak)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},M5=e=>e.type==="select-multiple",Mk=e=>e.type==="radio",Ose=e=>Mk(e)||_p(e),_w=e=>ay(e)&&e.isConnected;function Tse(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=pr(e)?n++:e[t[n++]];return e}function Ise(e){for(const t in e)if(e.hasOwnProperty(t)&&!pr(e[t]))return!1;return!0}function Cr(e,t){const r=Array.isArray(t)?t:ub(t)?[t]:Tk(t),n=r.length===1?e:Tse(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&($r(n)&&An(n)||Array.isArray(n)&&Ise(n))&&Cr(e,r.slice(0,-1)),e}var Rse=e=>{for(const t in e)if(Rn(e[t]))return!0;return!1};function D5(e){return Array.isArray(e)||$r(e)&&!Rse(e)}function z1(e,t={}){for(const r in e){const n=e[r];D5(n)?(t[r]=Array.isArray(n)?[]:{},z1(n,t[r])):pr(n)||(t[r]=!0)}return t}function Jc(e,t,r){r||(r=z1(t));for(const n in e){const s=e[n];if(D5(s))pr(t)||q1(r[n])?r[n]=z1(s,Array.isArray(s)?[]:{}):Jc(s,Hn(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!ua(s,i)}}return r}const P2={value:!1,isValid:!1},E2={value:!0,isValid:!0};var L5=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pr(e[0].attributes.value)?pr(e[0].value)||e[0].value===""?E2:{value:e[0].value,isValid:!0}:E2:P2}return P2},F5=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>pr(e)?e:t?e===""?NaN:e&&+e:r&&gs(e)?new Date(e):n?n(e):e;const A2={isValid:!1,value:null};var U5=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,A2):A2;function O2(e){const t=e.ref;return $k(t)?t.files:Mk(t)?U5(e.refs).value:M5(t)?[...t.selectedOptions].map(({value:r})=>r):_p(t)?L5(e.refs).value:F5(pr(t.value)?e.ref.value:t.value,e)}var $se=(e,t,r,n)=>{const s={};for(const i of e){const o=Ce(t,i);o&&$t(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},iy=e=>e instanceof RegExp,Af=e=>pr(e)?e:iy(e)?e.source:$r(e)?iy(e.value)?e.value.source:e.value:e,T2=e=>({isOnSubmit:!e||e===ca.onSubmit,isOnBlur:e===ca.onBlur,isOnChange:e===ca.onChange,isOnAll:e===ca.all,isOnTouch:e===ca.onTouched});const I2="AsyncFunction";var Mse=e=>!!e&&!!e.validate&&!!(Rn(e.validate)&&e.validate.constructor.name===I2||$r(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===I2)),Dse=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),R2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ph=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Ce(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(ph(l,t))break}else if($r(l)&&ph(l,t))break}}};function $2(e,t,r){const n=Ce(e,r);if(n||ub(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Ce(t,i),l=Ce(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var Lse=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return An(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ca.all))},Fse=(e,t,r)=>!e||!t||e===t||mh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Use=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Bse=(e,t)=>!Ok(Ce(e,t)).length&&Cr(e,t),Vse=(e,t,r)=>{const n=mh(Ce(e,r));return $t(n,"root",t[r]),$t(e,r,n),e};function M2(e,t,r="validate"){if(gs(e)||Array.isArray(e)&&e.every(gs)||fs(e)&&!e)return{type:r,message:gs(e)?e:"",ref:t}}var Wc=e=>$r(e)&&!iy(e)?e:{value:e,message:""},D2=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:g,validate:y,name:m,valueAsNumber:x,mount:b}=e._f,p=Ce(r,m);if(!b||t.has(m))return{};const w=l?l[0]:o,N=R=>{s&&w.reportValidity&&(w.setCustomValidity(fs(R)?"":R||""),w.reportValidity())},j={},S=Mk(o),_=_p(o),k=S||_,C=(x||$k(o))&&pr(o.value)&&pr(p)||ay(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,E=R5.bind(null,m,n,j),P=(R,O,I,T=ni.maxLength,D=ni.minLength)=>{const q=R?O:I;j[m]={type:R?T:D,message:q,ref:o,...E(R?T:D,q)}};if(i?!Array.isArray(p)||!p.length:c&&(!k&&(C||Hn(p))||fs(p)&&!p||_&&!L5(l).isValid||S&&!U5(l).isValid)){const{value:R,message:O}=gs(c)?{value:!!c,message:c}:Wc(c);if(R&&(j[m]={type:ni.required,message:O,ref:w,...E(ni.required,O)},!n))return N(O),j}if(!C&&(!Hn(f)||!Hn(h))){let R,O;const I=Wc(h),T=Wc(f);if(!Hn(p)&&!isNaN(p)){const D=o.valueAsNumber||p&&+p;Hn(I.value)||(R=D>I.value),Hn(T.value)||(O=D<T.value)}else{const D=o.valueAsDate||new Date(p),q=H=>new Date(new Date().toDateString()+" "+H),A=o.type=="time",$=o.type=="week";gs(I.value)&&p&&(R=A?q(p)>q(I.value):$?p>I.value:D>new Date(I.value)),gs(T.value)&&p&&(O=A?q(p)<q(T.value):$?p<T.value:D<new Date(T.value))}if((R||O)&&(P(!!R,I.message,T.message,ni.max,ni.min),!n))return N(j[m].message),j}if((u||d)&&!C&&(gs(p)||i&&Array.isArray(p))){const R=Wc(u),O=Wc(d),I=!Hn(R.value)&&p.length>+R.value,T=!Hn(O.value)&&p.length<+O.value;if((I||T)&&(P(I,R.message,O.message),!n))return N(j[m].message),j}if(g&&!C&&gs(p)){const{value:R,message:O}=Wc(g);if(iy(R)&&!p.match(R)&&(j[m]={type:ni.pattern,message:O,ref:o,...E(ni.pattern,O)},!n))return N(O),j}if(y){if(Rn(y)){const R=await y(p,r),O=M2(R,w);if(O&&(j[m]={...O,...E(ni.validate,O.message)},!n))return N(O.message),j}else if($r(y)){let R={};for(const O in y){if(!An(R)&&!n)break;const I=M2(await y[O](p,r),w,O);I&&(R={...I,...E(O,I.message)},N(I.message),n&&(j[m]=R))}if(!An(R)&&(j[m]={ref:w,...R},!n))return j}}return N(!0),j};const qse={mode:ca.onSubmit,reValidateMode:ca.onChange,shouldFocusError:!0};function zse(e={}){let t={...qse,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=$r(t.defaultValues)||$r(t.values)?Vr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Vr(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const g={array:C2(),state:C2()},y=t.criteriaMode===ca.all,m=F=>G=>{clearTimeout(u),u=setTimeout(F,G)},x=async F=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||F)){let G;t.resolver?(G=An((await k()).errors),b()):G=await E(n,!0),G!==r.isValid&&g.state.next({isValid:G})}},b=(F,G)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((F||Array.from(l.mount)).forEach(Z=>{Z&&(G?$t(r.validatingFields,Z,G):Cr(r.validatingFields,Z))}),g.state.next({validatingFields:r.validatingFields,isValidating:!An(r.validatingFields)}))},p=(F,G=[],Z,_e,ye=!0,ge=!0)=>{if(_e&&Z&&!t.disabled){if(o.action=!0,ge&&Array.isArray(Ce(n,F))){const Ue=Z(Ce(n,F),_e.argA,_e.argB);ye&&$t(n,F,Ue)}if(ge&&Array.isArray(Ce(r.errors,F))){const Ue=Z(Ce(r.errors,F),_e.argA,_e.argB);ye&&$t(r.errors,F,Ue),Bse(r.errors,F)}if((f.touchedFields||h.touchedFields)&&ge&&Array.isArray(Ce(r.touchedFields,F))){const Ue=Z(Ce(r.touchedFields,F),_e.argA,_e.argB);ye&&$t(r.touchedFields,F,Ue)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Jc(s,i)),g.state.next({name:F,isDirty:R(F,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $t(i,F,G)},w=(F,G)=>{$t(r.errors,F,G),g.state.next({errors:r.errors})},N=F=>{r.errors=F,g.state.next({errors:r.errors,isValid:!1})},j=(F,G,Z,_e)=>{const ye=Ce(n,F);if(ye){const ge=Ce(i,F,pr(Z)?Ce(s,F):Z);pr(ge)||_e&&_e.defaultChecked||G?$t(i,F,G?ge:O2(ye._f)):T(F,ge),o.mount&&!o.action&&x()}},S=(F,G,Z,_e,ye)=>{let ge=!1,Ue=!1;const xt={name:F};if(!t.disabled){if(!Z||_e){(f.isDirty||h.isDirty)&&(Ue=r.isDirty,r.isDirty=xt.isDirty=R(),ge=Ue!==xt.isDirty);const Ct=ua(Ce(s,F),G);Ue=!!Ce(r.dirtyFields,F),Ct?Cr(r.dirtyFields,F):$t(r.dirtyFields,F,!0),xt.dirtyFields=r.dirtyFields,ge=ge||(f.dirtyFields||h.dirtyFields)&&Ue!==!Ct}if(Z){const Ct=Ce(r.touchedFields,F);Ct||($t(r.touchedFields,F,Z),xt.touchedFields=r.touchedFields,ge=ge||(f.touchedFields||h.touchedFields)&&Ct!==Z)}ge&&ye&&g.state.next(xt)}return ge?xt:{}},_=(F,G,Z,_e)=>{const ye=Ce(r.errors,F),ge=(f.isValid||h.isValid)&&fs(G)&&r.isValid!==G;if(t.delayError&&Z?(c=m(()=>w(F,Z)),c(t.delayError)):(clearTimeout(u),c=null,Z?$t(r.errors,F,Z):Cr(r.errors,F)),(Z?!ua(ye,Z):ye)||!An(_e)||ge){const Ue={..._e,...ge&&fs(G)?{isValid:G}:{},errors:r.errors,name:F};r={...r,...Ue},g.state.next(Ue)}},k=async F=>(b(F,!0),await t.resolver(i,t.context,$se(F||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async F=>{const{errors:G}=await k(F);if(b(F),F)for(const Z of F){const _e=Ce(G,Z);_e?$t(r.errors,Z,_e):Cr(r.errors,Z)}else r.errors=G;return G},E=async(F,G,Z={valid:!0})=>{for(const _e in F){const ye=F[_e];if(ye){const{_f:ge,...Ue}=ye;if(ge){const xt=l.array.has(ge.name),Ct=ye._f&&Mse(ye._f);Ct&&f.validatingFields&&b([ge.name],!0);const Rt=await D2(ye,l.disabled,i,y,t.shouldUseNativeValidation&&!G,xt);if(Ct&&f.validatingFields&&b([ge.name]),Rt[ge.name]&&(Z.valid=!1,G))break;!G&&(Ce(Rt,ge.name)?xt?Vse(r.errors,Rt,ge.name):$t(r.errors,ge.name,Rt[ge.name]):Cr(r.errors,ge.name))}!An(Ue)&&await E(Ue,G,Z)}}return Z.valid},P=()=>{for(const F of l.unMount){const G=Ce(n,F);G&&(G._f.refs?G._f.refs.every(Z=>!_w(Z)):!_w(G._f.ref))&&se(F)}l.unMount=new Set},R=(F,G)=>!t.disabled&&(F&&G&&$t(i,F,G),!ua(Y(),s)),O=(F,G,Z)=>V1(F,l,{...o.mount?i:pr(G)?s:gs(F)?{[F]:G}:G},Z,G),I=F=>Ok(Ce(o.mount?i:s,F,t.shouldUnregister?Ce(s,F,[]):[])),T=(F,G,Z={})=>{const _e=Ce(n,F);let ye=G;if(_e){const ge=_e._f;ge&&(!ge.disabled&&$t(i,F,F5(G,ge)),ye=ay(ge.ref)&&Hn(G)?"":G,M5(ge.ref)?[...ge.ref.options].forEach(Ue=>Ue.selected=ye.includes(Ue.value)):ge.refs?_p(ge.ref)?ge.refs.forEach(Ue=>{(!Ue.defaultChecked||!Ue.disabled)&&(Array.isArray(ye)?Ue.checked=!!ye.find(xt=>xt===Ue.value):Ue.checked=ye===Ue.value||!!ye)}):ge.refs.forEach(Ue=>Ue.checked=Ue.value===ye):$k(ge.ref)?ge.ref.value="":(ge.ref.value=ye,ge.ref.type||g.state.next({name:F,values:Vr(i)})))}(Z.shouldDirty||Z.shouldTouch)&&S(F,ye,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&H(F)},D=(F,G,Z)=>{for(const _e in G){if(!G.hasOwnProperty(_e))return;const ye=G[_e],ge=F+"."+_e,Ue=Ce(n,ge);(l.array.has(F)||$r(ye)||Ue&&!Ue._f)&&!Cl(ye)?D(ge,ye,Z):T(ge,ye,Z)}},q=(F,G,Z={})=>{const _e=Ce(n,F),ye=l.array.has(F),ge=Vr(G);$t(i,F,ge),ye?(g.array.next({name:F,values:Vr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&Z.shouldDirty&&g.state.next({name:F,dirtyFields:Jc(s,i),isDirty:R(F,ge)})):_e&&!_e._f&&!Hn(ge)?D(F,ge,Z):T(F,ge,Z),R2(F,l)&&g.state.next({...r,name:F}),g.state.next({name:o.mount?F:void 0,values:Vr(i)})},A=async F=>{o.mount=!0;const G=F.target;let Z=G.name,_e=!0;const ye=Ce(n,Z),ge=Ct=>{_e=Number.isNaN(Ct)||Cl(Ct)&&isNaN(Ct.getTime())||ua(Ct,Ce(i,Z,Ct))},Ue=T2(t.mode),xt=T2(t.reValidateMode);if(ye){let Ct,Rt;const Gs=G.type?O2(ye._f):O5(F),Cn=F.type===sy.BLUR||F.type===sy.FOCUS_OUT,ka=!Dse(ye._f)&&!t.resolver&&!Ce(r.errors,Z)&&!ye._f.deps||Use(Cn,Ce(r.touchedFields,Z),r.isSubmitted,xt,Ue),rl=R2(Z,l,Cn);$t(i,Z,Gs),Cn?(!G||!G.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(F),c&&c(0)):ye._f.onChange&&ye._f.onChange(F);const ei=S(Z,Gs,Cn),nl=!An(ei)||rl;if(!Cn&&g.state.next({name:Z,type:F.type,values:Vr(i)}),ka)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Cn&&x():Cn||x()),nl&&g.state.next({name:Z,...rl?{}:ei});if(!Cn&&rl&&g.state.next({...r}),t.resolver){const{errors:Oc}=await k([Z]);if(b([Z]),ge(Gs),_e){const hf=$2(r.errors,n,Z),Dr=$2(Oc,n,hf.name||Z);Ct=Dr.error,Z=Dr.name,Rt=An(Oc)}}else b([Z],!0),Ct=(await D2(ye,l.disabled,i,y,t.shouldUseNativeValidation))[Z],b([Z]),ge(Gs),_e&&(Ct?Rt=!1:(f.isValid||h.isValid)&&(Rt=await E(n,!0)));_e&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&H(ye._f.deps),_(Z,Rt,Ct,ei))}},$=(F,G)=>{if(Ce(r.errors,G)&&F.focus)return F.focus(),1},H=async(F,G={})=>{let Z,_e;const ye=mh(F);if(t.resolver){const ge=await C(pr(F)?F:ye);Z=An(ge),_e=F?!ye.some(Ue=>Ce(ge,Ue)):Z}else F?(_e=(await Promise.all(ye.map(async ge=>{const Ue=Ce(n,ge);return await E(Ue&&Ue._f?{[ge]:Ue}:Ue)}))).every(Boolean),!(!_e&&!r.isValid)&&x()):_e=Z=await E(n);return g.state.next({...!gs(F)||(f.isValid||h.isValid)&&Z!==r.isValid?{}:{name:F},...t.resolver||!F?{isValid:Z}:{},errors:r.errors}),G.shouldFocus&&!_e&&ph(n,$,F?ye:l.mount),_e},Y=(F,G)=>{let Z={...o.mount?i:s};return G&&(Z=$5(G.dirtyFields?r.dirtyFields:r.touchedFields,Z)),pr(F)?Z:gs(F)?Ce(Z,F):F.map(_e=>Ce(Z,_e))},L=(F,G)=>({invalid:!!Ce((G||r).errors,F),isDirty:!!Ce((G||r).dirtyFields,F),error:Ce((G||r).errors,F),isValidating:!!Ce(r.validatingFields,F),isTouched:!!Ce((G||r).touchedFields,F)}),K=F=>{F&&mh(F).forEach(G=>Cr(r.errors,G)),g.state.next({errors:F?r.errors:{}})},re=(F,G,Z)=>{const _e=(Ce(n,F,{_f:{}})._f||{}).ref,ye=Ce(r.errors,F)||{},{ref:ge,message:Ue,type:xt,...Ct}=ye;$t(r.errors,F,{...Ct,...G,ref:_e}),g.state.next({name:F,errors:r.errors,isValid:!1}),Z&&Z.shouldFocus&&_e&&_e.focus&&_e.focus()},ae=(F,G)=>Rn(F)?g.state.subscribe({next:Z=>"values"in Z&&F(O(void 0,G),Z)}):O(F,G,!0),be=F=>g.state.subscribe({next:G=>{Fse(F.name,G.name,F.exact)&&Lse(G,F.formState||f,Yt,F.reRenderRoot)&&F.callback({values:{...i},...r,...G,defaultValues:s})}}).unsubscribe,ee=F=>(o.mount=!0,h={...h,...F.formState},be({...F,formState:{...d,...F.formState}})),se=(F,G={})=>{for(const Z of F?mh(F):l.mount)l.mount.delete(Z),l.array.delete(Z),G.keepValue||(Cr(n,Z),Cr(i,Z)),!G.keepError&&Cr(r.errors,Z),!G.keepDirty&&Cr(r.dirtyFields,Z),!G.keepTouched&&Cr(r.touchedFields,Z),!G.keepIsValidating&&Cr(r.validatingFields,Z),!t.shouldUnregister&&!G.keepDefaultValue&&Cr(s,Z);g.state.next({values:Vr(i)}),g.state.next({...r,...G.keepDirty?{isDirty:R()}:{}}),!G.keepIsValid&&x()},Q=({disabled:F,name:G})=>{(fs(F)&&o.mount||F||l.disabled.has(G))&&(F?l.disabled.add(G):l.disabled.delete(G))},X=(F,G={})=>{let Z=Ce(n,F);const _e=fs(G.disabled)||fs(t.disabled);return $t(n,F,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:F}},name:F,mount:!0,...G}}),l.mount.add(F),Z?Q({disabled:fs(G.disabled)?G.disabled:t.disabled,name:F}):j(F,!0,G.value),{..._e?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:Af(G.min),max:Af(G.max),minLength:Af(G.minLength),maxLength:Af(G.maxLength),pattern:Af(G.pattern)}:{},name:F,onChange:A,onBlur:A,ref:ye=>{if(ye){X(F,G),Z=Ce(n,F);const ge=pr(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Ue=Ose(ge),xt=Z._f.refs||[];if(Ue?xt.find(Ct=>Ct===ge):ge===Z._f.ref)return;$t(n,F,{_f:{...Z._f,...Ue?{refs:[...xt.filter(_w),ge,...Array.isArray(Ce(s,F))?[{}]:[]],ref:{type:ge.type,name:F}}:{ref:ge}}}),j(F,!1,void 0,ge)}else Z=Ce(n,F,{}),Z._f&&(Z._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(T5(l.array,F)&&o.action)&&l.unMount.add(F)}}},ie=()=>t.shouldFocusError&&ph(n,$,l.mount),W=F=>{fs(F)&&(g.state.next({disabled:F}),ph(n,(G,Z)=>{const _e=Ce(n,Z);_e&&(G.disabled=_e._f.disabled||F,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(ye=>{ye.disabled=_e._f.disabled||F}))},0,!1))},z=(F,G)=>async Z=>{let _e;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let ye=Vr(i);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:ge,values:Ue}=await k();b(),r.errors=ge,ye=Vr(Ue)}else await E(n);if(l.disabled.size)for(const ge of l.disabled)Cr(ye,ge);if(Cr(r.errors,"root"),An(r.errors)){g.state.next({errors:{}});try{await F(ye,Z)}catch(ge){_e=ge}}else G&&await G({...r.errors},Z),ie(),setTimeout(ie);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:An(r.errors)&&!_e,submitCount:r.submitCount+1,errors:r.errors}),_e)throw _e},ce=(F,G={})=>{Ce(n,F)&&(pr(G.defaultValue)?q(F,Vr(Ce(s,F))):(q(F,G.defaultValue),$t(s,F,Vr(G.defaultValue))),G.keepTouched||Cr(r.touchedFields,F),G.keepDirty||(Cr(r.dirtyFields,F),r.isDirty=G.defaultValue?R(F,Vr(Ce(s,F))):R()),G.keepError||(Cr(r.errors,F),f.isValid&&x()),g.state.next({...r}))},qe=(F,G={})=>{const Z=F?Vr(F):s,_e=Vr(Z),ye=An(F),ge=ye?s:_e;if(G.keepDefaultValues||(s=Z),!G.keepValues){if(G.keepDirtyValues){const Ue=new Set([...l.mount,...Object.keys(Jc(s,i))]);for(const xt of Array.from(Ue))Ce(r.dirtyFields,xt)?$t(ge,xt,Ce(i,xt)):q(xt,Ce(ge,xt))}else{if(Ak&&pr(F))for(const Ue of l.mount){const xt=Ce(n,Ue);if(xt&&xt._f){const Ct=Array.isArray(xt._f.refs)?xt._f.refs[0]:xt._f.ref;if(ay(Ct)){const Rt=Ct.closest("form");if(Rt){Rt.reset();break}}}}if(G.keepFieldsRef)for(const Ue of l.mount)q(Ue,Ce(ge,Ue));else n={}}i=t.shouldUnregister?G.keepDefaultValues?Vr(s):{}:Vr(ge),g.array.next({values:{...ge}}),g.state.next({values:{...ge}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!G.keepIsValid||!!G.keepDirtyValues||!t.shouldUnregister&&!An(ge),o.watch=!!t.shouldUnregister,o.keepIsValid=!!G.keepIsValid,o.action=!1,G.keepErrors||(r.errors={}),g.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:ye?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!ua(F,s)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ye?{}:G.keepDirtyValues?G.keepDefaultValues&&i?Jc(s,i):r.dirtyFields:G.keepDefaultValues&&F?Jc(s,F):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ye=(F,G)=>qe(Rn(F)?F(i):F,{...t.resetOptions,...G}),ut=(F,G={})=>{const Z=Ce(n,F),_e=Z&&Z._f;if(_e){const ye=_e.refs?_e.refs[0]:_e.ref;ye.focus&&setTimeout(()=>{ye.focus(),G.shouldSelect&&Rn(ye.select)&&ye.select()})}},Yt=F=>{r={...r,...F}},kr={control:{register:X,unregister:se,getFieldState:L,handleSubmit:z,setError:re,_subscribe:be,_runSchema:k,_updateIsValidating:b,_focusError:ie,_getWatch:O,_getDirty:R,_setValid:x,_setFieldArray:p,_setDisabledField:Q,_setErrors:N,_getFieldArray:I,_reset:qe,_resetDefaultValues:()=>Rn(t.defaultValues)&&t.defaultValues().then(F=>{Ye(F,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:W,_subjects:g,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(F){o=F},get _defaultValues(){return s},get _names(){return l},set _names(F){l=F},get _formState(){return r},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:ee,trigger:H,register:X,handleSubmit:z,watch:ae,setValue:q,getValues:Y,reset:Ye,resetField:ce,clearErrors:K,unregister:se,setError:re,setFocus:ut,getFieldState:L};return{...kr,formControl:kr}}function xa(e={}){const t=M.useRef(void 0),r=M.useRef(void 0),[n,s]=M.useState({isDirty:!1,isValidating:!1,isLoading:Rn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Rn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Rn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=zse(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,Rk(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),M.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),M.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),M.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),M.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),M.useEffect(()=>{var o;e.values&&!ua(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),M.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=I5(n,i),t.current}const L2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ce(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},B5=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?L2(n.ref,r,e):n.refs&&n.refs.forEach(s=>L2(s,r,e))}},Wse=(e,t)=>{t.shouldUseNativeValidation&&B5(e,t);const r={};for(const n in e){const s=Ce(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(Hse(t.names||Object.keys(e),n)){const o=Object.assign({},Ce(r,n));$t(o,"root",i),$t(r,n,o)}else $t(r,n,i)}return r},Hse=(e,t)=>e.some(r=>r.startsWith(t+"."));var Kse=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=R5(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},ba=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&B5({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Wse(Kse(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Pt;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Pt||(Pt={}));var F2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(F2||(F2={}));const De=Pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eo=e=>{switch(typeof e){case"undefined":return De.undefined;case"string":return De.string;case"number":return Number.isNaN(e)?De.nan:De.number;case"boolean":return De.boolean;case"function":return De.function;case"bigint":return De.bigint;case"symbol":return De.symbol;case"object":return Array.isArray(e)?De.array:e===null?De.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?De.promise:typeof Map<"u"&&e instanceof Map?De.map:typeof Set<"u"&&e instanceof Set?De.set:typeof Date<"u"&&e instanceof Date?De.date:De.object;default:return De.unknown}},xe=Pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ii extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Ii))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ii.create=e=>new Ii(e);const W1=(e,t)=>{let r;switch(e.code){case xe.invalid_type:e.received===De.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case xe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Pt.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Pt.joinValues(e.keys,", ")}`;break;case xe.invalid_union:r="Invalid input";break;case xe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Pt.joinValues(e.options)}`;break;case xe.invalid_enum_value:r=`Invalid enum value. Expected ${Pt.joinValues(e.options)}, received '${e.received}'`;break;case xe.invalid_arguments:r="Invalid function arguments";break;case xe.invalid_return_type:r="Invalid function return type";break;case xe.invalid_date:r="Invalid date";break;case xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Pt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case xe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case xe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case xe.custom:r="Invalid input";break;case xe.invalid_intersection_types:r="Intersection results could not be merged";break;case xe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case xe.not_finite:r="Number must be finite";break;default:r=t.defaultError,Pt.assertNever(e)}return{message:r}};let Gse=W1;function Yse(){return Gse}const Qse=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Ee(e,t){const r=Yse(),n=Qse({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===W1?void 0:W1].filter(s=>!!s)});e.common.issues.push(n)}class Ss{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return lt;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Ss.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return lt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const lt=Object.freeze({status:"aborted"}),Qf=e=>({status:"dirty",value:e}),Ws=e=>({status:"valid",value:e}),U2=e=>e.status==="aborted",B2=e=>e.status==="dirty",ud=e=>e.status==="valid",oy=e=>typeof Promise<"u"&&e instanceof Promise;var Fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Fe||(Fe={}));class Vo{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const V2=(e,t)=>{if(ud(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ii(e.common.issues);return this._error=r,this._error}}};function gt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class _t{get description(){return this._def.description}_getType(t){return eo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:eo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ss,ctx:{common:t.parent.common,data:t.data,parsedType:eo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(oy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:eo(t)},s=this._parseSync({data:t,path:n.path,parent:n});return V2(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:eo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return ud(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>ud(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:eo(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(oy(s)?s:Promise.resolve(s));return V2(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:xe.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new hd({schema:this,typeName:ct.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ao.create(this,this._def)}nullable(){return md.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ua.create(this)}promise(){return dy.create(this,this._def)}or(t){return cy.create([this,t],this._def)}and(t){return uy.create(this,t,this._def)}transform(t){return new hd({...gt(this._def),schema:this,typeName:ct.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new G1({...gt(this._def),innerType:this,defaultValue:r,typeName:ct.ZodDefault})}brand(){return new xae({typeName:ct.ZodBranded,type:this,...gt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Y1({...gt(this._def),innerType:this,catchValue:r,typeName:ct.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Dk.create(this,t)}readonly(){return Q1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Xse=/^c[^\s-]{8,}$/i,Zse=/^[0-9a-z]+$/,Jse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tae=/^[a-z0-9_-]{21}$/i,rae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kw;const iae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,V5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fae=new RegExp(`^${V5}$`);function q5(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function hae(e){return new RegExp(`^${q5(e)}$`)}function mae(e){let t=`${V5}T${q5(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function pae(e,t){return!!((t==="v4"||!t)&&iae.test(e)||(t==="v6"||!t)&&lae.test(e))}function gae(e,t){if(!rae.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function vae(e,t){return!!((t==="v4"||!t)&&oae.test(e)||(t==="v6"||!t)&&cae.test(e))}class gi extends _t{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==De.string){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:De.string,received:i.parsedType}),lt}const n=new Ss;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Ee(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ee(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")sae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"email",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")kw||(kw=new RegExp(aae,"u")),kw.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"emoji",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")eae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"uuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")tae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"nanoid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Xse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Zse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cuid2",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Jse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"ulid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Ee(s,{validation:"url",code:xe.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"regex",code:xe.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?mae(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?fae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?hae(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?nae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"duration",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?pae(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"ip",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?gae(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"jwt",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?vae(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cidr",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?uae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"base64",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?dae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"base64url",code:xe.invalid_string,message:i.message}),n.dirty()):Pt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:xe.invalid_string,...Fe.errToObj(n)})}_addCheck(t){return new gi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Fe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Fe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Fe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Fe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Fe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Fe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Fe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Fe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Fe.errToObj(r)})}nonempty(t){return this.min(1,Fe.errToObj(t))}trim(){return new gi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gi.create=e=>new gi({checks:[],typeName:ct.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...gt(e)});function yae(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class nc extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==De.number){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:De.number,received:i.parsedType}),lt}let n;const s=new Ss;for(const i of this._def.checks)i.kind==="int"?Pt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?yae(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_finite,message:i.message}),s.dirty()):Pt.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,s){return new nc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(t){return new nc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Pt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}nc.create=e=>new nc({checks:[],typeName:ct.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...gt(e)});class sc extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==De.bigint)return this._getInvalidInput(t);let n;const s=new Ss;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Pt.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:xe.invalid_type,expected:De.bigint,received:r.parsedType}),lt}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,s){return new sc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(t){return new sc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sc.create=e=>new sc({checks:[],typeName:ct.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...gt(e)});class ly extends _t{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==De.boolean){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.boolean,received:n.parsedType}),lt}return Ws(t.data)}}ly.create=e=>new ly({typeName:ct.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...gt(e)});class dd extends _t{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==De.date){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:De.date,received:i.parsedType}),lt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_date}),lt}const n=new Ss;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Pt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dd({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Fe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Fe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}dd.create=e=>new dd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ct.ZodDate,...gt(e)});class q2 extends _t{_parse(t){if(this._getType(t)!==De.symbol){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.symbol,received:n.parsedType}),lt}return Ws(t.data)}}q2.create=e=>new q2({typeName:ct.ZodSymbol,...gt(e)});class z2 extends _t{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.undefined,received:n.parsedType}),lt}return Ws(t.data)}}z2.create=e=>new z2({typeName:ct.ZodUndefined,...gt(e)});class W2 extends _t{_parse(t){if(this._getType(t)!==De.null){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.null,received:n.parsedType}),lt}return Ws(t.data)}}W2.create=e=>new W2({typeName:ct.ZodNull,...gt(e)});class H2 extends _t{constructor(){super(...arguments),this._any=!0}_parse(t){return Ws(t.data)}}H2.create=e=>new H2({typeName:ct.ZodAny,...gt(e)});class K2 extends _t{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ws(t.data)}}K2.create=e=>new K2({typeName:ct.ZodUnknown,...gt(e)});class qo extends _t{_parse(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:xe.invalid_type,expected:De.never,received:r.parsedType}),lt}}qo.create=e=>new qo({typeName:ct.ZodNever,...gt(e)});class G2 extends _t{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.void,received:n.parsedType}),lt}return Ws(t.data)}}G2.create=e=>new G2({typeName:ct.ZodVoid,...gt(e)});class Ua extends _t{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==De.array)return Ee(r,{code:xe.invalid_type,expected:De.array,received:r.parsedType}),lt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Ee(r,{code:o?xe.too_big:xe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ee(r,{code:xe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ee(r,{code:xe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Vo(r,o,r.path,l)))).then(o=>Ss.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new Vo(r,o,r.path,l)));return Ss.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ua({...this._def,minLength:{value:t,message:Fe.toString(r)}})}max(t,r){return new Ua({...this._def,maxLength:{value:t,message:Fe.toString(r)}})}length(t,r){return new Ua({...this._def,exactLength:{value:t,message:Fe.toString(r)}})}nonempty(t){return this.min(1,t)}}Ua.create=(e,t)=>new Ua({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ct.ZodArray,...gt(t)});function eu(e){if(e instanceof Ar){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ao.create(eu(n))}return new Ar({...e._def,shape:()=>t})}else return e instanceof Ua?new Ua({...e._def,type:eu(e.element)}):e instanceof Ao?Ao.create(eu(e.unwrap())):e instanceof md?md.create(eu(e.unwrap())):e instanceof ac?ac.create(e.items.map(t=>eu(t))):e}class Ar extends _t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Pt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==De.object){const u=this._getOrReturnCtx(t);return Ee(u,{code:xe.invalid_type,expected:De.object,received:u.parsedType}),lt}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof qo&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Vo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof qo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Ee(s,{code:xe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Vo(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ss.mergeObjectSync(n,u)):Ss.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Fe.errToObj,new Ar({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Fe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Ar({...this._def,unknownKeys:"strip"})}passthrough(){return new Ar({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ar({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ar({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ct.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ar({...this._def,catchall:t})}pick(t){const r={};for(const n of Pt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ar({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Pt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Ar({...this._def,shape:()=>r})}deepPartial(){return eu(this)}partial(t){const r={};for(const n of Pt.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Ar({...this._def,shape:()=>r})}required(t){const r={};for(const n of Pt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ao;)i=i._def.innerType;r[n]=i}return new Ar({...this._def,shape:()=>r})}keyof(){return z5(Pt.objectKeys(this.shape))}}Ar.create=(e,t)=>new Ar({shape:()=>e,unknownKeys:"strip",catchall:qo.create(),typeName:ct.ZodObject,...gt(t)});Ar.strictCreate=(e,t)=>new Ar({shape:()=>e,unknownKeys:"strict",catchall:qo.create(),typeName:ct.ZodObject,...gt(t)});Ar.lazycreate=(e,t)=>new Ar({shape:e,unknownKeys:"strip",catchall:qo.create(),typeName:ct.ZodObject,...gt(t)});class cy extends _t{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ii(l.ctx.common.issues));return Ee(r,{code:xe.invalid_union,unionErrors:o}),lt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ii(c));return Ee(r,{code:xe.invalid_union,unionErrors:l}),lt}}get options(){return this._def.options}}cy.create=(e,t)=>new cy({options:e,typeName:ct.ZodUnion,...gt(t)});function H1(e,t){const r=eo(e),n=eo(t);if(e===t)return{valid:!0,data:e};if(r===De.object&&n===De.object){const s=Pt.objectKeys(t),i=Pt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=H1(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===De.array&&n===De.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=H1(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===De.date&&n===De.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class uy extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(U2(i)||U2(o))return lt;const l=H1(i.value,o.value);return l.valid?((B2(i)||B2(o))&&r.dirty(),{status:r.value,value:l.data}):(Ee(n,{code:xe.invalid_intersection_types}),lt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}uy.create=(e,t,r)=>new uy({left:e,right:t,typeName:ct.ZodIntersection,...gt(r)});class ac extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.array)return Ee(n,{code:xe.invalid_type,expected:De.array,received:n.parsedType}),lt;if(n.data.length<this._def.items.length)return Ee(n,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lt;!this._def.rest&&n.data.length>this._def.items.length&&(Ee(n,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Vo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ss.mergeArray(r,o)):Ss.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ac({...this._def,rest:t})}}ac.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ac({items:e,typeName:ct.ZodTuple,rest:null,...gt(t)})};class Y2 extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.map)return Ee(n,{code:xe.invalid_type,expected:De.map,received:n.parsedType}),lt;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Vo(n,l,n.path,[u,"key"])),value:i._parse(new Vo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return lt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return lt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Y2.create=(e,t,r)=>new Y2({valueType:t,keyType:e,typeName:ct.ZodMap,...gt(r)});class um extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.set)return Ee(n,{code:xe.invalid_type,expected:De.set,received:n.parsedType}),lt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ee(n,{code:xe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ee(n,{code:xe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return lt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Vo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new um({...this._def,minSize:{value:t,message:Fe.toString(r)}})}max(t,r){return new um({...this._def,maxSize:{value:t,message:Fe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}um.create=(e,t)=>new um({valueType:e,minSize:null,maxSize:null,typeName:ct.ZodSet,...gt(t)});class Q2 extends _t{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Q2.create=(e,t)=>new Q2({getter:e,typeName:ct.ZodLazy,...gt(t)});class K1 extends _t{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ee(r,{received:r.data,code:xe.invalid_literal,expected:this._def.value}),lt}return{status:"valid",value:t.data}}get value(){return this._def.value}}K1.create=(e,t)=>new K1({value:e,typeName:ct.ZodLiteral,...gt(t)});function z5(e,t){return new fd({values:e,typeName:ct.ZodEnum,...gt(t)})}class fd extends _t{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{expected:Pt.joinValues(n),received:r.parsedType,code:xe.invalid_type}),lt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{received:r.data,code:xe.invalid_enum_value,options:n}),lt}return Ws(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return fd.create(t,{...this._def,...r})}exclude(t,r=this._def){return fd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}fd.create=z5;class X2 extends _t{_parse(t){const r=Pt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==De.string&&n.parsedType!==De.number){const s=Pt.objectValues(r);return Ee(n,{expected:Pt.joinValues(s),received:n.parsedType,code:xe.invalid_type}),lt}if(this._cache||(this._cache=new Set(Pt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Pt.objectValues(r);return Ee(n,{received:n.data,code:xe.invalid_enum_value,options:s}),lt}return Ws(t.data)}get enum(){return this._def.values}}X2.create=(e,t)=>new X2({values:e,typeName:ct.ZodNativeEnum,...gt(t)});class dy extends _t{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==De.promise&&r.common.async===!1)return Ee(r,{code:xe.invalid_type,expected:De.promise,received:r.parsedType}),lt;const n=r.parsedType===De.promise?r.data:Promise.resolve(r.data);return Ws(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}dy.create=(e,t)=>new dy({type:e,typeName:ct.ZodPromise,...gt(t)});class hd extends _t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Ee(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return lt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?lt:c.status==="dirty"||r.value==="dirty"?Qf(c.value):c});{if(r.value==="aborted")return lt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?lt:l.status==="dirty"||r.value==="dirty"?Qf(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?lt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?lt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ud(o))return lt;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ud(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):lt);Pt.assertNever(s)}}hd.create=(e,t,r)=>new hd({schema:e,typeName:ct.ZodEffects,effect:t,...gt(r)});hd.createWithPreprocess=(e,t,r)=>new hd({schema:t,effect:{type:"preprocess",transform:e},typeName:ct.ZodEffects,...gt(r)});class Ao extends _t{_parse(t){return this._getType(t)===De.undefined?Ws(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ao.create=(e,t)=>new Ao({innerType:e,typeName:ct.ZodOptional,...gt(t)});class md extends _t{_parse(t){return this._getType(t)===De.null?Ws(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}md.create=(e,t)=>new md({innerType:e,typeName:ct.ZodNullable,...gt(t)});class G1 extends _t{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===De.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}G1.create=(e,t)=>new G1({innerType:e,typeName:ct.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...gt(t)});class Y1 extends _t{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return oy(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ii(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ii(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Y1.create=(e,t)=>new Y1({innerType:e,typeName:ct.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...gt(t)});class Z2 extends _t{_parse(t){if(this._getType(t)!==De.nan){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.nan,received:n.parsedType}),lt}return{status:"valid",value:t.data}}}Z2.create=e=>new Z2({typeName:ct.ZodNaN,...gt(e)});class xae extends _t{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Dk extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?lt:i.status==="dirty"?(r.dirty(),Qf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?lt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Dk({in:t,out:r,typeName:ct.ZodPipeline})}}class Q1 extends _t{_parse(t){const r=this._def.innerType._parse(t),n=s=>(ud(s)&&(s.value=Object.freeze(s.value)),s);return oy(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Q1.create=(e,t)=>new Q1({innerType:e,typeName:ct.ZodReadonly,...gt(t)});var ct;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ct||(ct={}));const jt=gi.create,W5=nc.create;sc.create;const Lk=ly.create;dd.create;qo.create;Ua.create;const Qa=Ar.create;cy.create;uy.create;ac.create;const J2=K1.create;fd.create;dy.create;Ao.create;md.create;const H5={string:e=>gi.create({...e,coerce:!0}),number:e=>nc.create({...e,coerce:!0}),boolean:e=>ly.create({...e,coerce:!0}),bigint:e=>sc.create({...e,coerce:!0}),date:e=>dd.create({...e,coerce:!0})};function bae(e){const t=wae(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(Nae);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function wae(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=_ae(s),l=Sae(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jae=Symbol("radix.slottable");function Nae(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jae}function Sae(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function _ae(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fb="Dialog",[K5,G5]=yn(fb),[kae,Na]=K5(fb),Y5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=rs({prop:n,defaultProp:s??!1,onChange:i,caller:fb});return a.jsx(kae,{scope:t,triggerRef:l,contentRef:c,contentId:Rr(),titleId:Rr(),descriptionId:Rr(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};Y5.displayName=fb;var Q5="DialogTrigger",X5=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Na(Q5,r),i=rt(t,s.triggerRef);return a.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Bk(s.open),...n,ref:i,onClick:me(e.onClick,s.onOpenToggle)})});X5.displayName=Q5;var Fk="DialogPortal",[Cae,Z5]=K5(Fk,{forceMount:void 0}),J5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Na(Fk,t);return a.jsx(Cae,{scope:t,forceMount:r,children:v.Children.map(n,o=>a.jsx(Xr,{present:r||i.open,children:a.jsx(zd,{asChild:!0,container:s,children:o})}))})};J5.displayName=Fk;var fy="DialogOverlay",e6=v.forwardRef((e,t)=>{const r=Z5(fy,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Na(fy,e.__scopeDialog);return i.modal?a.jsx(Xr,{present:n||i.open,children:a.jsx(Eae,{...s,ref:t})}):null});e6.displayName=fy;var Pae=bae("DialogOverlay.RemoveScroll"),Eae=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Na(fy,r);return a.jsx(gp,{as:Pae,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Oe.div,{"data-state":Bk(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ic="DialogContent",t6=v.forwardRef((e,t)=>{const r=Z5(ic,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Na(ic,e.__scopeDialog);return a.jsx(Xr,{present:n||i.open,children:i.modal?a.jsx(Aae,{...s,ref:t}):a.jsx(Oae,{...s,ref:t})})});t6.displayName=ic;var Aae=v.forwardRef((e,t)=>{const r=Na(ic,e.__scopeDialog),n=v.useRef(null),s=rt(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return eb(i)},[]),a.jsx(r6,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:me(e.onFocusOutside,i=>i.preventDefault())})}),Oae=v.forwardRef((e,t)=>{const r=Na(ic,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return a.jsx(r6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),r6=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Na(ic,r),c=v.useRef(null),u=rt(t,c);return Jx(),a.jsxs(a.Fragment,{children:[a.jsx(pp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(wc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Bk(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Iae,{titleId:l.titleId}),a.jsx($ae,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Uk="DialogTitle",n6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Na(Uk,r);return a.jsx(Oe.h2,{id:s.titleId,...n,ref:t})});n6.displayName=Uk;var s6="DialogDescription",a6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Na(s6,r);return a.jsx(Oe.p,{id:s.descriptionId,...n,ref:t})});a6.displayName=s6;var i6="DialogClose",o6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Na(i6,r);return a.jsx(Oe.button,{type:"button",...n,ref:t,onClick:me(e.onClick,()=>s.onOpenChange(!1))})});o6.displayName=i6;function Bk(e){return e?"open":"closed"}var l6="DialogTitleWarning",[Tae,c6]=cH(l6,{contentName:ic,titleName:Uk,docsSlug:"dialog"}),Iae=({titleId:e})=>{const t=c6(l6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Rae="DialogDescriptionWarning",$ae=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c6(Rae).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Vk=Y5,u6=X5,qk=J5,hb=e6,mb=t6,zk=n6,Wk=a6,Hk=o6;const xr=Vk,wa=u6,Mae=qk,d6=v.forwardRef(({className:e,...t},r)=>a.jsx(hb,{ref:r,className:fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));d6.displayName=hb.displayName;const cr=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Mae,{children:[a.jsx(d6,{}),a.jsxs(mb,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(Hk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(sd,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cr.displayName=mb.displayName;const br=({className:e,...t})=>a.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});br.displayName="DialogHeader";const wr=v.forwardRef(({className:e,...t},r)=>a.jsx(zk,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",e),...t}));wr.displayName=zk.displayName;const oc=v.forwardRef(({className:e,...t},r)=>a.jsx(Wk,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));oc.displayName=Wk.displayName;var Dae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lae=Dae.reduce((e,t)=>{const r=Zx(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Fae="Label",f6=v.forwardRef((e,t)=>a.jsx(Lae.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));f6.displayName=Fae;var h6=f6;const Uae=op("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=v.forwardRef(({className:e,...t},r)=>a.jsx(h6,{ref:r,className:fe(Uae(),e),...t}));J.displayName=h6.displayName;const ja=kse,m6=v.createContext({}),tt=({...e})=>a.jsx(m6.Provider,{value:{name:e.name},children:a.jsx(Ase,{...e})}),pb=()=>{const e=v.useContext(m6),t=v.useContext(p6),{getFieldState:r,formState:n}=db(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},p6=v.createContext({}),Qe=v.forwardRef(({className:e,...t},r)=>{const n=v.useId();return a.jsx(p6.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:fe("space-y-2",e),...t})})});Qe.displayName="FormItem";const nt=v.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=pb();return a.jsx(J,{ref:r,className:fe(n&&"text-destructive",e),htmlFor:s,...t})});nt.displayName="FormLabel";const Xe=v.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=pb();return a.jsx(uk,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});Xe.displayName="FormControl";const Bae=v.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=pb();return a.jsx("p",{ref:r,id:n,className:fe("text-sm text-muted-foreground",e),...t})});Bae.displayName="FormDescription";const st=v.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=pb(),o=s?String((s==null?void 0:s.message)??""):t;return o?a.jsx("p",{ref:n,id:i,className:fe("text-sm font-medium text-destructive",e),...r,children:o}):null});st.displayName="FormMessage";const ur=v.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));ur.displayName="Textarea";const g6=v.forwardRef(({...e},t)=>a.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));g6.displayName="Breadcrumb";const v6=v.forwardRef(({className:e,...t},r)=>a.jsx("ol",{ref:r,className:fe("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));v6.displayName="BreadcrumbList";const X1=v.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:fe("inline-flex items-center gap-1.5",e),...t}));X1.displayName="BreadcrumbItem";const Z1=v.forwardRef(({asChild:e,className:t,...r},n)=>{const s=e?uk:"a";return a.jsx(s,{ref:n,className:fe("transition-colors hover:text-foreground",t),...r})});Z1.displayName="BreadcrumbLink";const y6=v.forwardRef(({className:e,...t},r)=>a.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:fe("font-normal text-foreground",e),...t}));y6.displayName="BreadcrumbPage";const x6=({children:e,className:t,...r})=>a.jsx("li",{role:"presentation","aria-hidden":"true",className:fe("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??a.jsx(qa,{})});x6.displayName="BreadcrumbSeparator";const Vae={"":"Home",facilities:"Facilities",events:"Events",roadmap:"Roadmap",gallery:"Gallery",booking:"Book a Facility",leaderboard:"Leaderboard",rules:"Rules & Safety",careers:"Careers",contact:"Contact Us",vision:"Our Vision",privacy:"Privacy Policy",terms:"Terms & Conditions",profile:"My Profile"};function Xa({items:e,currentPage:t}){const[r]=ss(),s=(()=>{if(e)return e;const i=r.split("/").filter(Boolean),o=[];let l="";for(let c=0;c<i.length;c++){const u=i[c];l+=`/${u}`;const d=c===i.length-1,f=Vae[u]||u.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");o.push({label:d&&t?t:f,href:d?void 0:l})}return o})();return s.length===0?null:a.jsx(g6,{className:"mb-4","data-testid":"breadcrumb-nav",children:a.jsxs(v6,{children:[a.jsx(X1,{children:a.jsx(Z1,{asChild:!0,children:a.jsxs(oe,{href:"/",className:"flex items-center gap-1.5",children:[a.jsx(H_,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"sr-only sm:not-sr-only",children:"Home"})]})})}),s.map((i,o)=>a.jsxs("span",{className:"contents",children:[a.jsx(x6,{}),a.jsx(X1,{children:i.href?a.jsx(Z1,{asChild:!0,children:a.jsx(oe,{href:i.href,children:i.label})}):a.jsx(y6,{children:i.label})})]},o))]})})}function as({title:e,subtitle:t,testId:r,subtitleTestId:n}){return a.jsxs("div",{className:"relative overflow-hidden py-8 md:py-12",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-[0.15] dark:opacity-[0.25]",style:{backgroundImage:`url(${Yv})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),a.jsxs("div",{className:"qd-container relative z-10 text-center text-primary-foreground",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2","data-testid":r||"text-page-title",children:e}),t&&a.jsx("p",{className:"text-sm opacity-80 max-w-2xl mx-auto","data-testid":n,children:t})]})]})}const qae=Qa({fullName:jt().min(2,"Name must be at least 2 characters"),email:jt().email("Please enter a valid email"),phone:jt().optional(),guestCount:W5().min(0).max(10).default(0),notes:jt().optional()});function zae(){var N;const{user:e}=jc(),{toast:t}=At(),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState(!1),c=xa({resolver:ba(qae),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:u=[],isLoading:d}=ve({queryKey:["/api/events"]}),{data:f=[]}=ve({queryKey:["/api/user/event-registrations"],enabled:!!e}),h=Te({mutationFn:async j=>await Ae("POST",`/api/events/${j.eventId}/register`,j),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Successful",description:"You have been registered for this event."}),i(!1),n(null),c.reset()},onError:j=>{t({title:"Registration Failed",description:j.message||"Unable to register for this event.",variant:"destructive"})}}),g=Te({mutationFn:async j=>await Ae("DELETE",`/api/events/${j}/register`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:j=>{t({title:"Cancellation Failed",description:j.message||"Unable to cancel registration.",variant:"destructive"})}}),y=j=>f.some(S=>S.eventId===j),m=j=>j?new Date(j).toLocaleDateString("en-PK",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):"TBD",x={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300"},b=j=>{if(n(j),!e){l(!0);return}c.setValue("fullName",e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName||""),c.setValue("email",e.email||""),i(!0)},p=j=>{r&&h.mutate({...j,eventId:r.id})},w=j=>{g.mutate(j)};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Events & Academies",subtitle:"Tournaments, leagues, and training programs",testId:"text-events-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),d?a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(j=>a.jsx(pt,{className:"h-64 rounded-xl"},j))}):u.length>0?a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(j=>{var C;const S=y(j.id),_=(j.enrolledCount||0)>=(j.capacity||0),k=h.isPending||g.isPending;return a.jsxs(le,{className:"overflow-hidden hover-elevate","data-testid":`card-event-${j.id}`,children:[a.jsx(oe,{href:`/events/${j.slug||j.id}`,children:a.jsx("div",{className:"h-40 bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center cursor-pointer",children:a.jsx(la,{className:"w-16 h-16 text-amber-400/50"})})}),a.jsx(Ge,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(oe,{href:`/events/${j.slug||j.id}`,children:a.jsx(et,{className:"text-lg cursor-pointer hover:text-primary transition-colors",children:j.title})}),a.jsx(Se,{className:x[j.type]||x.SOCIAL,children:j.type})]})}),a.jsxs(ue,{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:j.description}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(gn,{className:"w-4 h-4"}),a.jsxs("span",{children:[j.scheduleDay," ",j.scheduleTime||""]})]}),j.instructor&&a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(Qr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Instructor: ",j.instructor]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(Qr,{className:"w-4 h-4"}),a.jsxs("span",{children:[j.enrolledCount||0," / ",j.capacity," enrolled"]})]}),j.enrollmentDeadline&&a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(_r,{className:"w-4 h-4"}),a.jsxs("span",{children:["Register by ",m(j.enrollmentDeadline)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t gap-2",children:[a.jsxs("div",{className:"font-semibold text-sky-600",children:["PKR ",((C=j.price)==null?void 0:C.toLocaleString())||"Free"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{href:`/events/${j.slug||j.id}`,children:a.jsx(U,{size:"sm",variant:"ghost","data-testid":`button-view-event-${j.id}`,children:"View"})}),S?a.jsx(U,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),w(j.id)},disabled:k,"data-testid":`button-cancel-event-${j.id}`,children:k?a.jsx(it,{className:"w-4 h-4 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(an,{className:"w-4 h-4 mr-1"}),"Registered"]})}):a.jsx(U,{size:"sm",onClick:E=>{E.stopPropagation(),b(j)},disabled:_,"data-testid":`button-register-event-${j.id}`,children:_?"Full":"Register"})]})]})]})]},j.id)})}):a.jsx(le,{children:a.jsxs(ue,{className:"py-16 text-center",children:[a.jsx(la,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Upcoming Events"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Check back soon for tournaments, leagues, and training programs."}),a.jsx(oe,{href:"/",children:a.jsx(U,{variant:"outline","data-testid":"button-back-to-home",children:"Back to Home"})})]})})]})]}),a.jsx(nr,{}),a.jsx(xr,{open:s,onOpenChange:i,children:a.jsxs(cr,{className:"sm:max-w-md",children:[a.jsxs(br,{children:[a.jsx(wr,{"data-testid":"text-registration-title",children:"Event Registration"}),a.jsxs(oc,{children:[(r==null?void 0:r.title)&&a.jsx("span",{className:"font-medium text-foreground",children:r.title}),r!=null&&r.price?` - PKR ${r.price.toLocaleString()}`:" - Free"]})]}),a.jsx(ja,{...c,children:a.jsxs("form",{onSubmit:c.handleSubmit(p),className:"space-y-4",children:[a.jsx(tt,{control:c.control,name:"fullName",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Full Name *"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"Enter your full name",...j,"data-testid":"input-reg-fullname"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:c.control,name:"email",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email *"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com",...j,"data-testid":"input-reg-email"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:c.control,name:"phone",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone Number"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"+92 300 1234567",...j,"data-testid":"input-reg-phone"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:c.control,name:"guestCount",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Number of Guests"}),a.jsx(Xe,{children:a.jsx(ne,{type:"number",min:0,max:10,placeholder:"0",...j,onChange:S=>j.onChange(parseInt(S.target.value)||0),"data-testid":"input-reg-guests"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:c.control,name:"notes",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Additional Notes"}),a.jsx(Xe,{children:a.jsx(ur,{placeholder:"Any special requirements or notes...",className:"resize-none",...j,"data-testid":"textarea-reg-notes"})}),a.jsx(st,{})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-registration",children:"Cancel"}),a.jsx(U,{type:"submit",disabled:h.isPending,"data-testid":"button-submit-registration",children:h.isPending?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]})})]})}),a.jsx(xr,{open:o,onOpenChange:l,children:a.jsxs(cr,{className:"sm:max-w-md",children:[a.jsxs(br,{children:[a.jsxs(wr,{className:"flex items-center gap-2","data-testid":"text-login-prompt-title",children:[a.jsx(x1,{className:"w-5 h-5"}),"Sign In Required"]}),a.jsx(oc,{children:"Please sign in to register for this event."})]}),a.jsxs("div",{className:"py-4",children:[r&&a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg mb-4",children:[a.jsx("h4",{className:"font-semibold",children:r.title}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.scheduleDay," ",r.scheduleTime||""]}),a.jsxs("p",{className:"text-sm font-medium text-sky-600 mt-2",children:["PKR ",((N=r.price)==null?void 0:N.toLocaleString())||"Free"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create an account or sign in to complete your registration. Your membership will be set up automatically."})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(oe,{href:"/login",className:"w-full",children:a.jsxs(U,{className:"w-full","data-testid":"button-login-to-register",children:[a.jsx(x1,{className:"w-4 h-4 mr-2"}),"Sign In"]})}),a.jsx(U,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-login-prompt",children:"Maybe Later"})]})]})})]})}const Wae=Qa({fullName:jt().min(2,"Name must be at least 2 characters"),email:jt().email("Please enter a valid email"),phone:jt().optional(),guestCount:W5().min(0).max(10).default(0),notes:jt().optional()}),eO={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300",WORKSHOP:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300"},Hae={TOURNAMENT:"Tournament",CLASS:"Class",ACADEMY:"Academy",SOCIAL:"Social Event",WORKSHOP:"Workshop"};function Kae(){const{slug:e}=R_(),{user:t}=jc(),{toast:r}=At(),[n,s]=v.useState(!1),[i,o]=v.useState(!1),l=xa({resolver:ba(Wae),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:c,isLoading:u}=ve({queryKey:["/api/events",e],queryFn:async()=>{const j=await fetch(`/api/events/${e}`);if(!j.ok)throw new Error("Event not found");return j.json()},enabled:!!e}),{data:d=[]}=ve({queryKey:["/api/user/event-registrations"],enabled:!!t});v.useEffect(()=>{t&&(l.setValue("fullName",`${t.firstName||""} ${t.lastName||""}`.trim()),l.setValue("email",t.email||""))},[t,l]);const f=Te({mutationFn:async j=>await Ae("POST",`/api/events/${j.eventId}/register`,j),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),r({title:"Registration Successful",description:"You have been registered for this event."}),s(!1),l.reset()},onError:j=>{r({title:"Registration Failed",description:j.message||"Unable to register for this event.",variant:"destructive"})}}),h=Te({mutationFn:async j=>await Ae("DELETE",`/api/events/${j}/register`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),r({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:j=>{r({title:"Cancellation Failed",description:j.message||"Unable to cancel registration.",variant:"destructive"})}}),g=c?d.some(j=>j.eventId===c.id):!1,y=j=>j?new Date(j).toLocaleDateString("en-PK",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"TBD",m=j=>j||"TBD",x=()=>{if(!t){o(!0);return}s(!0)},b=j=>{c&&f.mutate({...j,eventId:c.id})},p=()=>{navigator.share&&c?navigator.share({title:c.title,text:c.description||"",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Event link copied to clipboard"}))};if(u)return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1 qd-container py-8",children:[a.jsx(pt,{className:"h-[300px] w-full rounded-xl mb-8"}),a.jsx(pt,{className:"h-8 w-1/2 mb-4"}),a.jsx(pt,{className:"h-4 w-full mb-2"}),a.jsx(pt,{className:"h-4 w-3/4"})]}),a.jsx(nr,{})]});if(!c)return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1 qd-container py-16 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Not Found"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"The event you're looking for doesn't exist or has been removed."}),a.jsx(oe,{href:"/events",children:a.jsxs(U,{"data-testid":"button-back-events",children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),"Back to Events"]})})]}),a.jsx(nr,{})]});const w=(c.capacity||0)-(c.enrolledCount||0),N=w<=0;return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:c.title,subtitle:c.description||"Join us for this exciting event at The Quarterdeck",testId:"text-event-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{items:[{label:"Events",href:"/events"},{label:c.title}]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mt-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.imageUrl&&a.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-video",children:[a.jsx("img",{src:c.imageUrl,alt:c.title,className:"w-full h-full object-cover","data-testid":"img-event-banner"}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(Se,{className:eO[c.type]||eO.SOCIAL,children:Hae[c.type]||c.type})})]}),a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Dx,{className:"w-5 h-5"}),"About This Event"]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.description||"Join us for an exciting event at The Quarterdeck Sports Complex. Whether you're a beginner or experienced player, this event offers something for everyone."}),c.instructor&&a.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(Ms,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Instructor / Host"}),a.jsx("p",{className:"font-medium",children:c.instructor})]})]})]})]}),a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Mv,{className:"w-5 h-5"}),"Schedule & Details"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(gn,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),a.jsx("p",{className:"font-medium",children:y(c.scheduleDatetime)})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(_r,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),a.jsx("p",{className:"font-medium",children:m(c.scheduleTime)})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Qr,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Capacity"}),a.jsxs("p",{className:"font-medium",children:[c.capacity||"Unlimited"," participants"]})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(za,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),a.jsx("p",{className:"font-medium",children:"The Quarterdeck, Islamabad"})]})]})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(le,{className:"sticky top-24",children:a.jsxs(ue,{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:c.price===0?"Free":`PKR ${(c.price||0).toLocaleString()}`}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"per person"})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Spots Available"}),a.jsx("span",{className:`font-medium ${N?"text-destructive":w<=5?"text-amber-600":""}`,children:N?"Full":`${w} left`})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Enrolled"}),a.jsxs("span",{className:"font-medium",children:[c.enrolledCount||0," / ",c.capacity||""]})]}),c.enrollmentDeadline&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Deadline"}),a.jsx("span",{className:"font-medium",children:y(c.enrollmentDeadline)})]})]}),g?a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Se,{className:"w-full justify-center py-2 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[a.jsx(an,{className:"w-4 h-4 mr-2"}),"You're Registered"]}),a.jsxs(U,{variant:"outline",className:"w-full",onClick:()=>h.mutate(c.id),disabled:h.isPending,"data-testid":"button-cancel-registration",children:[h.isPending?a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Cancel Registration"]})]}):a.jsx(U,{className:"w-full",onClick:x,disabled:N,"data-testid":"button-register-event",children:N?"Event Full":"Register Now"}),a.jsxs(U,{variant:"ghost",className:"w-full mt-3",onClick:p,"data-testid":"button-share-event",children:[a.jsx(PK,{className:"w-4 h-4 mr-2"}),"Share Event"]})]})}),a.jsx(oe,{href:"/events",children:a.jsxs(U,{variant:"outline",className:"w-full","data-testid":"button-back-events",children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),"Back to All Events"]})})]})]})]})]}),a.jsx(xr,{open:i,onOpenChange:o,children:a.jsxs(cr,{children:[a.jsxs(br,{children:[a.jsxs(wr,{className:"flex items-center gap-2",children:[a.jsx(x1,{className:"w-5 h-5"}),"Login Required"]}),a.jsx(oc,{children:"Please log in to register for this event."})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsx(oe,{href:"/login",className:"flex-1",children:a.jsx(U,{className:"w-full","data-testid":"button-login-prompt",children:"Log In"})}),a.jsx(oe,{href:"/signup",className:"flex-1",children:a.jsx(U,{variant:"outline",className:"w-full","data-testid":"button-signup-prompt",children:"Sign Up"})})]})]})}),a.jsx(xr,{open:n,onOpenChange:s,children:a.jsxs(cr,{children:[a.jsxs(br,{children:[a.jsxs(wr,{children:["Register for ",c.title]}),a.jsx(oc,{children:"Complete the form below to register for this event."})]}),a.jsx(ja,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(b),className:"space-y-4",children:[a.jsx(tt,{control:l.control,name:"fullName",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Full Name *"}),a.jsx(Xe,{children:a.jsx(ne,{...j,"data-testid":"input-reg-name"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:l.control,name:"email",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email *"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",...j,"data-testid":"input-reg-email"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:l.control,name:"phone",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone (Optional)"}),a.jsx(Xe,{children:a.jsx(ne,{...j,"data-testid":"input-reg-phone"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:l.control,name:"notes",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Notes (Optional)"}),a.jsx(Xe,{children:a.jsx(ur,{...j,"data-testid":"input-reg-notes"})}),a.jsx(st,{})]})}),a.jsx(U,{type:"submit",className:"w-full",disabled:f.isPending,"data-testid":"button-submit-registration",children:f.isPending?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})})]})}),a.jsx(nr,{})]})}const Gae=[{id:"all",name:"All Sports",icon:la},{id:"padel",name:"Padel",icon:ql},{id:"squash",name:"Squash",icon:ql},{id:"rifle",name:"Air Rifle",icon:ql}];function Yae(){const[e,t]=v.useState("all"),{isAuthenticated:r,isLoading:n}=jc(),{data:s=[],isLoading:i}=ve({queryKey:["/api/leaderboard",e!=="all"?e:void 0],enabled:r}),o=c=>{switch(c){case 1:return"bg-gradient-to-r from-amber-400 to-yellow-500 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-800";case 3:return"bg-gradient-to-r from-amber-600 to-amber-700 text-white";default:return"bg-gray-100 dark:bg-slate-700 text-foreground"}},l=c=>c<=3?a.jsx(yK,{className:`w-5 h-5 ${c===1?"text-amber-400":c===2?"text-gray-400":"text-amber-600"}`}):a.jsx("span",{className:"text-sm font-bold",children:c});return n?a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(pt,{className:"h-12 w-64 mb-8"}),a.jsx("div",{className:"space-y-3",children:[1,2,3].map(c=>a.jsx(pt,{className:"h-20 rounded-xl"},c))})]})}),a.jsx(nr,{})]}):r?a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Leaderboard",subtitle:"Top players across all sports at The Quarterdeck",testId:"text-leaderboard-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Gae.map(c=>a.jsxs(U,{variant:e===c.id?"default":"outline",size:"sm",onClick:()=>t(c.id),className:"gap-2","data-testid":`button-filter-${c.id}`,children:[a.jsx(c.icon,{className:"w-4 h-4"}),c.name]},c.id))}),i?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(c=>a.jsx(pt,{className:"h-20 rounded-xl"},c))}):s.length>0?a.jsx("div",{className:"space-y-3",children:s.map((c,u)=>{var d,f;return a.jsx(le,{className:`overflow-visible ${u<3?"border-2":""} ${u===0?"border-amber-400":u===1?"border-gray-400":u===2?"border-amber-600":""}`,"data-testid":`leaderboard-entry-${c.id}`,children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o(u+1)}`,children:l(u+1)}),a.jsxs(om,{className:"w-12 h-12",children:[a.jsx(lm,{src:c.profileImageUrl||""}),a.jsx(cm,{children:((d=c.playerName)==null?void 0:d.split(" ").map(h=>h[0]).join(""))||"P"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-semibold",children:c.playerName||"Anonymous Player"}),a.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{children:[c.wins,"W - ",c.losses,"L"]}),c.winRate&&a.jsxs(Se,{variant:"secondary",className:"text-xs",children:[(c.winRate*100).toFixed(0),"% WR"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-sky-600",children:((f=c.rankingPoints)==null?void 0:f.toLocaleString())||0}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]})})},c.id)})}):a.jsx(le,{children:a.jsxs(ue,{className:"py-16 text-center",children:[a.jsx(la,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Rankings Yet"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Play matches to appear on the leaderboard!"}),a.jsx(oe,{href:"/booking",children:a.jsx(U,{"data-testid":"button-book-now",children:"Book a Court"})})]})})]})]}),a.jsx(nr,{})]}):a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center",children:a.jsx(le,{className:"max-w-md w-full mx-4",children:a.jsxs(ue,{className:"pt-6 text-center",children:[a.jsx(la,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view the leaderboard and player rankings."}),a.jsx(oe,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),a.jsx(nr,{})]})}const tO=[{id:"all",label:"All Photos"},{id:"Renders",label:"Architectural Renders"},{id:"Construction",label:"Construction Progress"},{id:"Facilities",label:"Facilities"}];function Qae(){const e=X4(),t=new URLSearchParams(e).get("category"),[r,n]=v.useState(t||"all"),[s,i]=v.useState(null),{data:o,isLoading:l,error:c}=ve({queryKey:["/api/gallery"]}),u=v.useMemo(()=>{if(!o)return[];const f=o.filter(h=>h.isActive!==!1);return r==="all"?f:f.filter(h=>{var g;return((g=h.category)==null?void 0:g.toLowerCase())===r.toLowerCase()})},[r,o]),d=v.useMemo(()=>{if(!o)return tO;const f=new Set(o.filter(h=>h.isActive!==!1).map(h=>{var g;return(g=h.category)==null?void 0:g.toLowerCase()}).filter(Boolean));return tO.filter(h=>h.id==="all"||f.has(h.id.toLowerCase()))},[o]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Gallery & Progress",subtitle:"Explore architectural renders, construction updates, and facility photos from The Quarterdeck sports complex.",testId:"text-gallery-page-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),l?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(f=>a.jsx(pt,{className:"aspect-[4/3] rounded-xl"},f))}):c?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(iA,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Unable to load gallery images."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-wrap gap-2 mb-8","data-testid":"gallery-filters",children:[a.jsx(WD,{className:"w-5 h-5 text-muted-foreground mr-2 self-center"}),d.map(f=>a.jsx(U,{variant:r===f.id?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>n(f.id),"data-testid":`filter-${f.id}`,children:f.label},f.id))]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(f=>a.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer",onClick:()=>i(f),"data-testid":`gallery-image-${f.id}`,children:[a.jsx("img",{src:f.imageUrl,alt:f.title||"Gallery image",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[a.jsx("span",{className:"text-sm text-white font-medium",children:f.title||"Untitled"}),f.category&&a.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-primary/80 text-white uppercase tracking-wide",children:f.category})]})]},f.id))}),u.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(iA,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No images found in this category."})]})]})]})]}),s&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>i(null),"data-testid":"gallery-lightbox",children:a.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh]",children:[a.jsx("img",{src:s.imageUrl,alt:s.title||"Gallery image",className:"w-full h-full object-contain rounded-lg"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg",children:[a.jsx("h3",{className:"text-white text-xl font-semibold",children:s.title||"Untitled"}),s.description&&a.jsx("p",{className:"text-white/80 mt-2",children:s.description})]}),a.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-white/80 text-3xl font-light",onClick:f=>{f.stopPropagation(),i(null)},"data-testid":"close-lightbox",children:"x"})]})}),a.jsx(nr,{})]})}function Xae(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Our Vision",subtitle:"Building Islamabad's premier sports and recreation destination",testId:"text-vision-title",subtitleTestId:"text-vision-subtitle"}),a.jsx("div",{className:"qd-container py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("section",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-mission-title",children:"Our Mission"}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"The Quarterdeck aims to create a world-class sports and recreation complex that brings together Islamabad's community through premium facilities, professional coaching, and a commitment to excellence in every aspect of the member experience."}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"We believe that access to quality sports facilities should be available to all who seek it, and we're building a space where professionals, families, and enthusiasts can pursue their passion for sports in a safe, welcoming environment."})]}),a.jsxs("section",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-8","data-testid":"text-values-title",children:"Our Values"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(le,{"data-testid":"card-value-excellence",children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx(la,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Excellence"}),a.jsx("p",{className:"text-muted-foreground",children:"We strive for excellence in our facilities, services, and member experiences."})]})]})})}),a.jsx(le,{"data-testid":"card-value-community",children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Qr,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Community"}),a.jsx("p",{className:"text-muted-foreground",children:"Building connections through sports and shared experiences."})]})]})})}),a.jsx(le,{"data-testid":"card-value-integrity",children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx(tc,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Safety & Integrity"}),a.jsx("p",{className:"text-muted-foreground",children:"Maintaining the highest standards of safety and ethical conduct."})]})]})})}),a.jsx(le,{"data-testid":"card-value-wellness",children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx(GD,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Wellness"}),a.jsx("p",{className:"text-muted-foreground",children:"Promoting physical and mental well-being through active lifestyles."})]})]})})})]})]}),a.jsxs("section",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-future-title",children:"Looking Ahead"}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"With our Q4 2026 launch approaching, The Quarterdeck is set to transform the sports and recreation landscape in Islamabad. Our early members will be the first to experience our world-class facilities and exclusive benefits."}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(oe,{href:"/roadmap",children:a.jsxs(U,{"data-testid":"button-view-roadmap",children:[a.jsx(kn,{className:"w-4 h-4 mr-2"})," View Our Roadmap"]})}),a.jsx(oe,{href:"/facilities",children:a.jsx(U,{variant:"outline","data-testid":"button-explore-facilities",children:"Explore Facilities"})})]})]})]})})]}),a.jsx(nr,{})]})}const Zae="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Jae="/assets/professional_squash__c4dca43a-DYvE2Lp8.jpg",eie="/assets/bridge_card_game_clu_6f83cf65-D9nP8IVw.jpg",tie="/assets/multipurpose_event_h_e7c6ac62-D3KmV09D.jpg",rO={"padel-tennis":Bo,squash:Np,"air-rifle-range":lp,"bridge-room":Fx,"multipurpose-hall":kn},nO={"padel-tennis":Zae,squash:Jae,"air-rifle-range":_k,"bridge-room":eie,"multipurpose-hall":tie},rie=[{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts with LED lighting and premium surfaces.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade turf, and state-of-the-art LED lighting for evening play.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0},{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards with glass back walls.",longDescription:"Our squash courts meet international competition standards with specially designed floors, glass back walls for viewing, and professional lighting systems. Perfect for casual games or serious training.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental"],requiresCertification:!1,isActive:!0},{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with 6 lanes, electronic scoring, and professional supervision.",longDescription:"Our state-of-the-art air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our safety certification course before using the range.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental"],requiresCertification:!0,isActive:!0},{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for corporate events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. Features include a professional sound system, adjustable lighting, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout"],requiresCertification:!1,isActive:!0}];function nie(){const{data:e}=ve({queryKey:["/api/facilities"]}),r=(e&&e.length>0?e.filter(n=>!n.isHidden).map(n=>({...n,courtCount:n.resourceCount||n.courtCount||1,operatingHours:n.operatingHours||"6:00 AM - 11:00 PM",maxPlayers:n.maxPlayers||n.minPlayers||4,basePrice:String(n.basePrice||0),isActive:n.status!=="CLOSED"})):rie).filter(n=>n.isActive);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Our Facilities",subtitle:"World-class sports and recreation facilities in Islamabad",testId:"text-facilities-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsxs("div",{className:"max-w-5xl mx-auto mt-4",children:[a.jsx("div",{className:"grid gap-6",children:r.map(n=>a.jsx(oe,{href:`/facilities/${n.slug}`,children:a.jsx(le,{className:"overflow-hidden hover-elevate cursor-pointer","data-testid":`card-facility-${n.slug}`,children:a.jsx(ue,{className:"p-0",children:a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsx("div",{className:"md:w-1/3 h-48 md:h-auto relative overflow-hidden",children:nO[n.slug]?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:nO[n.slug],alt:n.name,className:"absolute inset-0 w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"}),a.jsx("div",{className:"absolute bottom-4 left-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:(()=>{const s=rO[n.slug]||Bo;return a.jsx(s,{className:"w-5 h-5 text-white"})})()})]}):a.jsx("div",{className:"w-full h-full bg-primary/10 flex items-center justify-center",children:(()=>{const s=rO[n.slug]||Bo;return a.jsx(s,{className:"w-12 h-12 text-primary/50"})})()})}),a.jsxs("div",{className:"flex-1 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-xl mb-1",children:n.name}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(up,{className:"w-4 h-4"})," ",n.courtCount," ",n.courtCount===1?"Unit":"Courts/Lanes"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Qr,{className:"w-4 h-4"})," ",n.minPlayers,"-",n.maxPlayers," players"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_r,{className:"w-4 h-4"})," ",n.operatingHours]})]})]}),n.requiresCertification&&a.jsx(Se,{variant:"destructive",className:"flex-shrink-0",children:"Certification Required"})]}),a.jsx("p",{className:"text-muted-foreground mb-4",children:n.description}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"From "}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(n.basePrice).toLocaleString()]}),a.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),a.jsxs(U,{variant:"ghost",size:"sm",className:"text-primary",children:["View Details ",a.jsx(qa,{className:"w-4 h-4 ml-1"})]})]})]})]})})})},n.id))}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-primary mb-4",children:"Ready to Book?"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Members can book facilities through our online booking system. Log in to access all our premium facilities and exclusive member benefits."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx(oe,{href:"/booking",children:a.jsx(U,{"data-testid":"button-book-now",children:"Book Now"})}),a.jsx(oe,{href:"/contact",children:a.jsx(U,{variant:"outline","data-testid":"button-contact-us",children:"Contact Us"})})]})]})]})]})]}),a.jsx(nr,{})]})}const sie="/assets/indoor_squash_court__3447d74a-DPwnnr4G.jpg",aie="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",iie="/assets/elegant_card_game_ro_42b0454d-y4j-Rn8N.jpg",oie="/assets/large_event_hall_int_32ffc7ae-BCjqhoII.jpg",lie={"padel-tennis":Bo,squash:Np,"air-rifle-range":lp,"bridge-room":Fx,"multipurpose-hall":kn},cie={"padel-tennis":Sp,squash:sie,"air-rifle-range":aie,"bridge-room":iie,"multipurpose-hall":oie},uie={"padel-tennis":{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade artificial turf, and state-of-the-art LED lighting for evening play. Whether you're a beginner or seasoned player, our facilities provide the perfect environment for this dynamic sport.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available","Video Analysis","Pro Shop"],requiresCertification:!1,isActive:!0,features:["4 International-standard courts","Tempered glass walls","Professional-grade artificial turf","LED lighting system for night play","Covered and climate-controlled"],addOns:[{id:"racket",name:"Rent Racket",price:500},{id:"balls",name:"Sleeve of Balls",price:1500},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},squash:{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards.",longDescription:"Our squash courts meet international competition standards with specially designed maple floors, glass back walls for viewing, and professional lighting systems. The courts are perfect for casual games, serious training, or competitive matches.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0,features:["2 Championship-grade courts","World Squash Federation compliant","Glass back walls for spectating","Professional maple flooring","Climate-controlled environment"],addOns:[{id:"sq_racket",name:"Squash Racket Rental",price:500},{id:"sq_balls",name:"Squash Balls (Tube)",price:1200},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},"air-rifle-range":{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with professional supervision.",longDescription:"Our state-of-the-art 10-meter air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our mandatory safety certification course before using the range. Professional supervision is provided at all times.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental","Certification Course"],requiresCertification:!0,isActive:!0,features:["6 Shooting lanes","10-meter Olympic distance","Electronic scoring system","Professional-grade air rifles","Full safety equipment provided"],addOns:[{id:"ear_protection",name:"Ear Protection",price:300},{id:"safety_glasses",name:"Safety Glasses",price:400},{id:"water",name:"Mineral Water",price:100}]},"multipurpose-hall":{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. The venue features a professional sound system, adjustable lighting, projector facilities, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout","Stage Available"],requiresCertification:!1,isActive:!0,features:["500-person capacity","Professional sound system","HD Projector and screen","Flexible seating arrangements","Full catering kitchen"],addOns:[{id:"mats",name:"Floor Mats",price:500},{id:"speaker",name:"Speaker & Mic Setup",price:1500},{id:"water",name:"Mineral Water",price:100}]}};function die(){var c,u;const{slug:e}=R_(),{data:t}=ve({queryKey:["/api/facilities",e],enabled:!!e}),{data:r=[]}=ve({queryKey:["/api/pricing-tiers"]}),n=v.useMemo(()=>{const d={};return r.forEach(f=>{const g=(f.benefits||[]).find(y=>y.toLowerCase().includes("discount")&&y.toLowerCase().includes("off-peak"));if(g){const y=g.match(/(\d+)%/);y&&(d[f.tier]=y[1])}}),d},[r]),s=uie[e||""],i=t?{...s,...t,features:t.features||(s==null?void 0:s.features),amenities:t.amenities||(s==null?void 0:s.amenities),longDescription:t.longDescription||(s==null?void 0:s.longDescription),operatingHours:t.operatingHours||(s==null?void 0:s.operatingHours),addOns:t.addOns||(s==null?void 0:s.addOns),courtCount:t.resourceCount||t.courtCount||(s==null?void 0:s.courtCount)}:s;if(!i)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(le,{className:"max-w-md",children:a.jsxs(ue,{className:"p-8 text-center",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Facility Not Found"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"The facility you're looking for doesn't exist or has been removed."}),a.jsx(oe,{href:"/facilities",children:a.jsx(U,{children:"View All Facilities"})})]})})});const o=lie[e||""]||Bo,l=cie[e||""]||Sp;return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsxs("div",{className:"relative h-[50vh] min-h-[400px] bg-primary overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:a.jsx(o,{className:"w-8 h-8"})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-facility-name",children:i.name}),i.requiresCertification&&a.jsx(Se,{variant:"destructive",className:"mb-4",children:"Safety Certification Required"}),i.restricted&&a.jsx(Se,{className:"bg-amber-500 mb-4",children:"Founding & Forces Members Only"}),a.jsx("p",{className:"text-xl max-w-3xl opacity-90",children:i.description})]})]}),a.jsxs("div",{className:"container mx-auto px-6 py-12",children:[a.jsx(oe,{href:"/facilities",children:a.jsxs(U,{variant:"ghost",className:"mb-8","data-testid":"button-back-facilities",children:[a.jsx(In,{className:"w-4 h-4 mr-2"})," Back to Facilities"]})}),a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"About This Facility"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.longDescription})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Features"}),a.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:(c=i.features)==null?void 0:c.map((d,f)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),a.jsx("span",{children:d})]},f))})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Amenities"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(u=i.amenities)==null?void 0:u.map((d,f)=>a.jsx(Se,{variant:"secondary",children:d},f))})]}),i.addOns&&i.addOns.length>0&&a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Available Add-Ons"}),a.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:i.addOns.map(d=>a.jsx(le,{children:a.jsxs(ue,{className:"p-4 flex items-center justify-between",children:[a.jsx("span",{children:d.name}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",d.price.toLocaleString()]})]})},d.id))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsx(et,{children:"Quick Info"})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_r,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Operating Hours"}),a.jsx("p",{className:"font-medium",children:i.operatingHours})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Qr,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Players"}),a.jsxs("p",{className:"font-medium",children:[i.minPlayers," - ",i.maxPlayers," players"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(za,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Units"}),a.jsxs("p",{className:"font-medium",children:[i.courtCount," ",i.courtCount===1?"Unit":"Courts/Lanes"]})]})]})]})]}),a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsx(et,{children:"Pricing"})}),a.jsx(ue,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Off-Peak (10AM-5PM)"}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.basePrice||"0").toLocaleString(),"/hr"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Peak Hours"}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.peakPrice||"0").toLocaleString(),"/hr"]})]}),Object.keys(n).length>0?a.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Member discounts during off-peak hours (10AM-5PM):",a.jsx("br",{}),n.FOUNDING&&`Founding: ${n.FOUNDING}%`,n.FOUNDING&&n.GOLD&&" | ",n.GOLD&&`Gold: ${n.GOLD}%`,n.GOLD&&n.SILVER&&" | ",n.SILVER&&`Silver: ${n.SILVER}%`]}):a.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:"Members enjoy off-peak discounts (10AM-5PM)"})]})})]}),i.requiresCertification&&a.jsx(le,{className:"border-amber-500/50 bg-amber-500/5",children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(K_,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1",children:"Certification Required"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Safety certification is mandatory before using this facility. Please complete the certification course first."})]})]})})}),a.jsx(oe,{href:"/booking",children:a.jsxs(U,{className:"w-full",size:"lg","data-testid":"button-book-facility",children:[a.jsx(gn,{className:"w-4 h-4 mr-2"})," Book This Facility"]})})]})]})})]})]}),a.jsx(nr,{})]})}const fie=e=>e.isComplete?a.jsx(Se,{className:"bg-green-500",children:"Completed"}):e.isActive?a.jsxs(Se,{className:"bg-amber-500",children:["In Progress - ",e.progress,"%"]}):a.jsx(Se,{variant:"secondary",children:"Upcoming"}),sO=e=>e.isComplete?a.jsx(Dv,{className:"w-8 h-8 text-green-500"}):e.isActive?a.jsx(_r,{className:"w-8 h-8 text-amber-500"}):a.jsx(gn,{className:"w-8 h-8 text-muted-foreground"});function hie(){const{data:e=[],isLoading:t}=ve({queryKey:["/api/construction-phases"]}),r=v.useMemo(()=>[...e].sort((s,i)=>s.sortOrder-i.sortOrder),[e]),n=v.useMemo(()=>r.length===0?0:r.reduce((s,i)=>s+i.progress,0)/r.length,[r]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Development Roadmap",subtitle:"Follow our journey from groundbreaking to grand opening",testId:"text-roadmap-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsx("div",{className:"max-w-5xl mx-auto mb-12",children:a.jsx("div",{className:"p-6 rounded-xl bg-card border shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),a.jsxs("div",{className:"text-2xl font-bold text-primary dark:text-white mt-1",children:[Math.round(n),"% Complete"]})]}),a.jsx("div",{className:"flex-1 max-w-md",children:a.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${n}%`}})})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-green-600",children:r.filter(s=>s.isComplete).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-amber-600",children:r.filter(s=>s.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:r.filter(s=>!s.isComplete&&!s.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})}),a.jsxs("div",{className:"max-w-5xl mx-auto",children:[t?a.jsx("div",{className:"space-y-8",children:[1,2,3,4].map(s=>a.jsx("div",{className:"relative",children:a.jsx("div",{className:"md:ml-16",children:a.jsxs(le,{children:[a.jsxs(Ge,{children:[a.jsx(pt,{className:"h-6 w-48"}),a.jsx(pt,{className:"h-4 w-32 mt-2"})]}),a.jsxs(ue,{children:[a.jsx(pt,{className:"h-4 w-full mb-4"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-2",children:[1,2,3].map(i=>a.jsx(pt,{className:"h-4 w-full"},i))}),a.jsx("div",{className:"space-y-2",children:[1,2,3].map(i=>a.jsx(pt,{className:"h-4 w-full"},i))})]})]})]})})},s))}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(kn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Roadmap Coming Soon"}),a.jsx("p",{className:"text-muted-foreground",children:"Our development timeline will be available shortly."})]}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border hidden md:block"}),a.jsx("div",{className:"space-y-8",children:r.map((s,i)=>a.jsx("div",{id:s.id,className:"relative","data-testid":`card-phase-${s.id}`,children:a.jsxs("div",{className:"md:ml-16",children:[a.jsx("div",{className:"absolute left-4 top-6 hidden md:block",children:sO(s)}),a.jsxs(le,{className:s.isActive?"border-amber-500/50 border-2":"",children:[a.jsxs(Ge,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"md:hidden",children:sO(s)}),a.jsxs("div",{children:[a.jsxs(et,{className:"text-xl",children:[s.label,": ",s.title]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.timeframe||"Timeline TBD"})]})]}),fie(s)]}),s.isActive&&a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-500",style:{width:`${s.progress}%`}})})})]}),a.jsx(ue,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.milestones&&s.milestones.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Dv,{className:"w-4 h-4"})," Milestones"]}),a.jsx("ul",{className:"space-y-2",children:s.milestones.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.isComplete?a.jsx(Dv,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):a.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-muted-foreground/30 flex-shrink-0"}),a.jsx("span",{className:s.isComplete?"":"text-muted-foreground",children:o})]},l))})]}),s.highlights&&s.highlights.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.icon==="rocket"?a.jsx(kK,{className:"w-4 h-4"}):a.jsx(kn,{className:"w-4 h-4"}),"Key Highlights"]}),a.jsx("ul",{className:"space-y-2",children:s.highlights.map((o,l)=>a.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[a.jsx("span",{className:"text-primary dark:text-sky-400",children:""}),o]},l))})]})]})})]})]})},s.id))})]}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Stay Updated"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Follow our progress and be the first to know about new developments, preview events, and exclusive opportunities."}),a.jsx(oe,{href:"/contact",children:a.jsx(U,{"data-testid":"button-register-interest",children:"Register Your Interest"})})]})]})]})]}),a.jsx(nr,{})]})}var gb="Collapsible",[mie,b6]=yn(gb),[pie,Kk]=mie(gb),w6=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=rs({prop:n,defaultProp:s??!1,onChange:o,caller:gb});return a.jsx(pie,{scope:r,disabled:i,contentId:Rr(),open:c,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Oe.div,{"data-state":Yk(c),"data-disabled":i?"":void 0,...l,ref:t})})});w6.displayName=gb;var j6="CollapsibleTrigger",N6=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Kk(j6,r);return a.jsx(Oe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Yk(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:me(e.onClick,s.onOpenToggle)})});N6.displayName=j6;var Gk="CollapsibleContent",S6=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Kk(Gk,e.__scopeCollapsible);return a.jsx(Xr,{present:r||s.open,children:({present:i})=>a.jsx(gie,{...n,ref:t,present:i})})});S6.displayName=Gk;var gie=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=Kk(Gk,r),[l,c]=v.useState(n),u=v.useRef(null),d=rt(t,u),f=v.useRef(0),h=f.current,g=v.useRef(0),y=g.current,m=o.open||l,x=v.useRef(m),b=v.useRef(void 0);return v.useEffect(()=>{const p=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(p)},[]),yr(()=>{const p=u.current;if(p){b.current=b.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const w=p.getBoundingClientRect();f.current=w.height,g.current=w.width,x.current||(p.style.transitionDuration=b.current.transitionDuration,p.style.animationName=b.current.animationName),c(n)}},[o.open,n]),a.jsx(Oe.div,{"data-state":Yk(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:m&&s})});function Yk(e){return e?"open":"closed"}var vie=w6,yie=N6,xie=S6,Sa="Accordion",bie=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Qk,wie,jie]=ap(Sa),[vb]=yn(Sa,[jie,b6]),Xk=b6(),_6=M.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return a.jsx(Qk.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(kie,{...i,ref:t}):a.jsx(_ie,{...s,ref:t})})});_6.displayName=Sa;var[k6,Nie]=vb(Sa),[C6,Sie]=vb(Sa,{collapsible:!1}),_ie=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=rs({prop:r,defaultProp:n??"",onChange:s,caller:Sa});return a.jsx(k6,{scope:e.__scopeAccordion,value:M.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:M.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(C6,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(P6,{...o,ref:t})})})}),kie=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,l]=rs({prop:r,defaultProp:n??[],onChange:s,caller:Sa}),c=M.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=M.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(k6,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(C6,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(P6,{...i,ref:t})})})}),[Cie,yb]=vb(Sa),P6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,l=M.useRef(null),c=rt(l,t),u=wie(r),f=Xd(s)==="ltr",h=me(e.onKeyDown,g=>{var k;if(!bie.includes(g.key))return;const y=g.target,m=u().filter(C=>{var E;return!((E=C.ref.current)!=null&&E.disabled)}),x=m.findIndex(C=>C.ref.current===y),b=m.length;if(x===-1)return;g.preventDefault();let p=x;const w=0,N=b-1,j=()=>{p=x+1,p>N&&(p=w)},S=()=>{p=x-1,p<w&&(p=N)};switch(g.key){case"Home":p=w;break;case"End":p=N;break;case"ArrowRight":i==="horizontal"&&(f?j():S());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(f?S():j());break;case"ArrowUp":i==="vertical"&&S();break}const _=p%b;(k=m[_].ref.current)==null||k.focus()});return a.jsx(Cie,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(Qk.Slot,{scope:r,children:a.jsx(Oe.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),hy="AccordionItem",[Pie,Zk]=vb(hy),E6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=yb(hy,r),o=Nie(hy,r),l=Xk(r),c=Rr(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return a.jsx(Pie,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(vie,{"data-orientation":i.orientation,"data-state":$6(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});E6.displayName=hy;var A6="AccordionHeader",O6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=yb(Sa,r),i=Zk(A6,r);return a.jsx(Oe.h3,{"data-orientation":s.orientation,"data-state":$6(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});O6.displayName=A6;var J1="AccordionTrigger",T6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=yb(Sa,r),i=Zk(J1,r),o=Sie(J1,r),l=Xk(r);return a.jsx(Qk.ItemSlot,{scope:r,children:a.jsx(yie,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:t})})});T6.displayName=J1;var I6="AccordionContent",R6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=yb(Sa,r),i=Zk(I6,r),o=Xk(r);return a.jsx(xie,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});R6.displayName=I6;function $6(e){return e?"open":"closed"}var Eie=_6,Aie=E6,Oie=O6,M6=T6,D6=R6;const L6=Eie,gu=v.forwardRef(({className:e,...t},r)=>a.jsx(Aie,{ref:r,className:fe("border-b",e),...t}));gu.displayName="AccordionItem";const vu=v.forwardRef(({className:e,children:t,...r},n)=>a.jsx(Oie,{className:"flex",children:a.jsxs(M6,{ref:n,className:fe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Pi,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));vu.displayName=M6.displayName;const yu=v.forwardRef(({className:e,children:t,...r},n)=>a.jsx(D6,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:fe("pb-4 pt-0",e),children:t})}));yu.displayName=D6.displayName;const Tie={general:{title:"General Rules",icon:tc},booking:{title:"Booking & Scheduling",icon:_r},conduct:{title:"Conduct & Behavior",icon:Qr},safety:{title:"Safety Requirements",icon:K_},dresscode:{title:"Dress Code",icon:EK},equipment:{title:"Equipment & Facilities",icon:cK},guests:{title:"Guest Policy",icon:GD},emergency:{title:"Emergency Procedures",icon:ZD}},Iie=["general","booking","conduct","safety","dresscode","equipment","guests","emergency"];function Rie(){const{data:e=[],isLoading:t}=ve({queryKey:["/api/rules"]}),r=e.reduce((s,i)=>{const o=i.category||"general";return s[o]||(s[o]=[]),s[o].push(i),s},{}),n=Iie.filter(s=>{var i;return((i=r[s])==null?void 0:i.length)>0});return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Rules & Safety",subtitle:"For the safety and enjoyment of all members, please familiarize yourself with our facility rules",testId:"text-rules-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(le,{className:"mb-8 border-amber-500/50 bg-amber-500/5",children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(K_,{className:"w-6 h-6 text-amber-500 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Important Safety Notice"}),a.jsx("p",{className:"text-muted-foreground",children:"Certain facilities require mandatory safety certifications before use. The Air Rifle Range requires completion of our safety course. Please contact reception to schedule your certification session."})]})]})})}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(it,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(tc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Rules are being updated. Please check back soon."})]}):a.jsx(L6,{type:"multiple",className:"space-y-4",children:n.map(s=>{const i=Tie[s]||{title:s,icon:tc},o=i.icon,l=r[s]||[];return a.jsxs(gu,{value:s,className:"border rounded-md px-4","data-testid":`accordion-${s}`,children:[a.jsx(vu,{className:"hover:no-underline",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center",children:a.jsx(o,{className:"w-5 h-5 text-primary dark:text-sky-400"})}),a.jsx("span",{className:"font-semibold",children:i.title})]})}),a.jsx(yu,{children:a.jsx("ul",{className:"space-y-3 pl-13 py-4",children:l.map((c,u)=>a.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[a.jsxs("span",{className:"text-primary dark:text-sky-400 font-bold",children:[u+1,"."]}),a.jsxs("div",{children:[c.title&&a.jsxs("span",{className:"font-medium text-foreground",children:[c.title,": "]}),c.content]})]},c.id))})})]},s)})}),a.jsxs(le,{className:"mt-8",children:[a.jsx(Ge,{children:a.jsx(et,{children:"Questions About Our Rules?"})}),a.jsxs(ue,{children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"If you have any questions about our rules and policies, or need clarification on any point, please don't hesitate to contact us."}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(oe,{href:"/contact",children:a.jsx(U,{"data-testid":"button-contact-us",children:"Contact Us"})}),a.jsx(oe,{href:"/terms",children:a.jsx(U,{variant:"outline","data-testid":"button-view-terms",children:"View Terms & Conditions"})})]})]})]})]})]})]}),a.jsx(nr,{})]})}const aO=Qa({name:jt().min(2,"Name must be at least 2 characters"),email:jt().email("Please enter a valid email"),phone:jt().min(10,"Please enter a valid phone number"),cvUrl:jt().url("Please enter a valid URL to your CV/resume").optional().or(J2("")),linkedinUrl:jt().url("Please enter a valid LinkedIn URL").optional().or(J2("")),coverLetter:jt().min(50,"Cover letter should be at least 50 characters")}),$ie=[{id:"1",title:"Sports Facility Manager",department:"Operations",location:"Islamabad",type:"Full-time",description:"Lead the day-to-day operations of our sports facilities, ensuring excellent member experience and efficient facility management.",requirements:"5+ years experience in sports facility management. Strong leadership and communication skills. Knowledge of sports equipment maintenance.",salary:"PKR 150,000 - 200,000 / month",isActive:!0},{id:"2",title:"Padel Tennis Coach",department:"Sports",location:"Islamabad",type:"Full-time",description:"Provide professional coaching for our Padel Tennis program, conducting group classes and private lessons for members of all skill levels.",requirements:"Certified Padel Tennis instructor. 3+ years coaching experience. Fluent in English and Urdu.",salary:"PKR 80,000 - 120,000 / month",isActive:!0},{id:"3",title:"Member Relations Officer",department:"Customer Service",location:"Islamabad",type:"Full-time",description:"Serve as the primary point of contact for members, handling inquiries, feedback, and ensuring exceptional service standards.",requirements:"2+ years customer service experience. Excellent communication skills. Proficiency in CRM systems.",salary:"PKR 50,000 - 70,000 / month",isActive:!0},{id:"4",title:"Range Safety Officer",department:"Safety",location:"Islamabad",type:"Full-time",description:"Ensure safe operations of the Air Rifle Range, conduct safety certifications, and supervise shooting sessions.",requirements:"Military or law enforcement background preferred. Safety certification required. First aid trained.",salary:"PKR 60,000 - 90,000 / month",isActive:!0},{id:"5",title:"Events Coordinator",department:"Events",location:"Islamabad",type:"Part-time",description:"Plan and execute tournaments, social events, and corporate functions at The Quarterdeck.",requirements:"Event management experience. Strong organizational skills. Weekend availability required.",salary:"PKR 40,000 - 60,000 / month",isActive:!0}];function Mie(){const{toast:e}=At(),{user:t}=jc(),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState(!1),c=(t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN",{data:u}=ve({queryKey:["/api/careers"]}),d=xa({resolver:ba(aO),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),f=xa({resolver:ba(aO),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),h=Te({mutationFn:async p=>await Ae("POST",`/api/careers/${p.careerId}/apply`,{fullName:p.name,email:p.email,phone:p.phone,cvUrl:p.cvUrl||null,linkedinUrl:p.linkedinUrl||null,coverLetter:p.coverLetter}),onSuccess:()=>{e({title:"Application Submitted",description:"Thank you for your application. We will review it and get back to you soon."}),i(!1),d.reset()},onError:p=>{e({title:"Submission Failed",description:p.message||"Unable to submit application. Please try again.",variant:"destructive"})}}),g=Te({mutationFn:async p=>await Ae("POST","/api/careers/general-application",{fullName:p.name,email:p.email,phone:p.phone,cvUrl:p.cvUrl||null,linkedinUrl:p.linkedinUrl||null,coverLetter:p.coverLetter}),onSuccess:()=>{e({title:"CV Submitted",description:"Thank you for your interest! We will keep your CV on file for future opportunities."}),l(!1),f.reset()},onError:p=>{e({title:"Submission Failed",description:p.message||"Unable to submit CV. Please try again.",variant:"destructive"})}}),y=p=>{r&&h.mutate({...p,careerId:r.id})},m=p=>{n(p),i(!0)},b=(u&&u.length>0?u:$ie).filter(p=>p.isActive);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Join Our Team",subtitle:"Be part of Islamabad's premier sports and recreation destination",testId:"text-careers-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Why Work at The Quarterdeck?"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsx(le,{children:a.jsxs(ue,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(Vh,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Career Growth"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Opportunities for advancement and professional development"})]})}),a.jsx(le,{children:a.jsxs(ue,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(za,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Prime Location"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Work in a beautiful, state-of-the-art facility in Islamabad"})]})}),a.jsx(le,{children:a.jsxs(ue,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(_r,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Flexible Hours"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Various shift options to accommodate work-life balance"})]})})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-6",children:"Open Positions"}),b.length===0?a.jsx(le,{children:a.jsx(ue,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No open positions at the moment. Check back soon or send us your CV for future opportunities."})})}):a.jsx("div",{className:"space-y-4",children:b.map(p=>a.jsx(le,{className:"hover-elevate","data-testid":`card-job-${p.id}`,children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[a.jsx("h3",{className:"font-semibold text-lg",children:p.title}),a.jsx(Se,{variant:"secondary",className:"text-xs",children:p.type})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-3",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Vh,{className:"w-4 h-4"})," ",p.department]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(za,{className:"w-4 h-4"})," ",p.location]}),c&&p.salary&&a.jsx("span",{className:"text-primary dark:text-sky-400 font-medium",children:p.salary})]}),a.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:p.description}),p.requirements&&a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Requirements: "}),a.jsx("span",{className:"text-muted-foreground",children:p.requirements})]})]}),a.jsxs(U,{className:" flex-shrink-0",onClick:()=>m(p),"data-testid":`button-apply-${p.id}`,children:["Apply Now ",a.jsx(qa,{className:"w-4 h-4 ml-1"})]})]})})},p.id))})]}),a.jsxs(le,{className:"mt-12",children:[a.jsx(Ge,{children:a.jsx(et,{children:"Don't See the Right Fit?"})}),a.jsxs(ue,{children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"We're always looking for talented individuals to join our team. Send us your CV and we'll keep you in mind for future opportunities."}),a.jsxs(U,{className:"",onClick:()=>l(!0),"data-testid":"button-submit-cv",children:[a.jsx(ec,{className:"w-4 h-4 mr-2"})," Send Your CV"]})]})]})]})]})]}),a.jsx(nr,{}),a.jsx(xr,{open:s,onOpenChange:i,children:a.jsxs(cr,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs(br,{children:[a.jsxs(wr,{children:["Apply for ",r==null?void 0:r.title]}),a.jsx(oc,{children:"Fill out the form below to submit your application"})]}),a.jsx(ja,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(y),className:"space-y-4",children:[a.jsx(tt,{control:d.control,name:"name",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Full Name"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"John Doe",...p,"data-testid":"input-applicant-name"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:d.control,name:"email",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"john@example.com",...p,"data-testid":"input-applicant-email"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:d.control,name:"phone",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone Number"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"+92 300 1234567",...p,"data-testid":"input-applicant-phone"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:d.control,name:"cvUrl",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"CV/Resume URL (Optional)"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"https://drive.google.com/...",...p,"data-testid":"input-applicant-cv"})}),a.jsx(st,{}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a link to your CV on Google Drive, Dropbox, or similar service"})]})}),a.jsx(tt,{control:d.control,name:"linkedinUrl",render:({field:p})=>a.jsxs(Qe,{children:[a.jsxs(nt,{className:"flex items-center gap-2",children:[a.jsx(y1,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"https://linkedin.com/in/...",...p,"data-testid":"input-applicant-linkedin"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:d.control,name:"coverLetter",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Cover Letter"}),a.jsx(Xe,{children:a.jsx(ur,{placeholder:"Tell us why you're interested in this position and what makes you a great fit...",className:"min-h-[120px]",...p,"data-testid":"input-applicant-cover-letter"})}),a.jsx(st,{})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-application",children:"Cancel"}),a.jsxs(U,{type:"submit",disabled:h.isPending,className:"","data-testid":"button-submit-application",children:[h.isPending?a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Lv,{className:"w-4 h-4 mr-2"}),"Submit Application"]})]})]})})]})}),a.jsx(xr,{open:o,onOpenChange:l,children:a.jsxs(cr,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs(br,{children:[a.jsx(wr,{children:"Send Your CV"}),a.jsx(oc,{children:"Submit your CV for future opportunities at The Quarterdeck"})]}),a.jsx(ja,{...f,children:a.jsxs("form",{onSubmit:f.handleSubmit(p=>g.mutate(p)),className:"space-y-4",children:[a.jsx(tt,{control:f.control,name:"name",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Full Name"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"John Doe",...p,"data-testid":"input-cv-name"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:f.control,name:"email",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"john@example.com",...p,"data-testid":"input-cv-email"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:f.control,name:"phone",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone Number"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"+92 300 1234567",...p,"data-testid":"input-cv-phone"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:f.control,name:"cvUrl",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"CV/Resume URL"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"https://drive.google.com/...",...p,"data-testid":"input-cv-url"})}),a.jsx(st,{}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a link to your CV on Google Drive, Dropbox, or similar service"})]})}),a.jsx(tt,{control:f.control,name:"linkedinUrl",render:({field:p})=>a.jsxs(Qe,{children:[a.jsxs(nt,{className:"flex items-center gap-2",children:[a.jsx(y1,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"https://linkedin.com/in/...",...p,"data-testid":"input-cv-linkedin"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:f.control,name:"coverLetter",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Message / Cover Letter"}),a.jsx(Xe,{children:a.jsx(ur,{placeholder:"Tell us about yourself, your skills, and what kind of role you're looking for...",className:"min-h-[120px]",...p,"data-testid":"input-cv-cover-letter"})}),a.jsx(st,{})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-cv",children:"Cancel"}),a.jsxs(U,{type:"submit",disabled:g.isPending,className:"","data-testid":"button-submit-cv-form",children:[g.isPending?a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Lv,{className:"w-4 h-4 mr-2"}),"Submit CV"]})]})]})})]})})]})}function Die(){const{data:e,isLoading:t}=ve({queryKey:["/api/cms/bulk"]}),r=e==null?void 0:e.find(s=>s.key==="terms_conditions");let n=[];try{r!=null&&r.content&&(n=JSON.parse(r.content))}catch{console.error("Failed to parse terms content")}return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Terms & Conditions",subtitle:"Last updated: December 2025",testId:"text-terms-title"}),a.jsx("div",{className:"qd-container py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(it,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(ec,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Terms & Conditions are being updated. Please check back soon."})]}):n.map((s,i)=>a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:s.section}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:s.content}),s.items&&s.items.length>0&&a.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:s.items.map((o,l)=>a.jsx("li",{children:o},l))})]},i))})})]}),a.jsx(nr,{})]})}function Lie(){const{data:e,isLoading:t}=ve({queryKey:["/api/cms/bulk"]}),r=e==null?void 0:e.find(s=>s.key==="privacy_policy");let n=[];try{r!=null&&r.content&&(n=JSON.parse(r.content))}catch{console.error("Failed to parse privacy policy content")}return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Privacy Policy",subtitle:"Last updated: December 2025",testId:"text-privacy-title"}),a.jsx("div",{className:"qd-container py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(it,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Hh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Privacy policy is being updated. Please check back soon."})]}):n.map((s,i)=>a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:s.section}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:s.content}),s.items&&s.items.length>0&&a.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:s.items.map((o,l)=>{const c=o.indexOf(":");if(c>-1&&c<30){const u=o.slice(0,c),d=o.slice(c+1);return a.jsxs("li",{children:[a.jsxs("strong",{children:[u,":"]}),d]},l)}return a.jsx("li",{children:o},l)})})]},i))})})]}),a.jsx(nr,{})]})}function Fie(e){return Object.prototype.toString.call(e)==="[object Object]"}function iO(e){return Fie(e)||Array.isArray(e)}function Uie(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Jk(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!iO(l)||!iO(c)?l===c:Jk(l,c)})}function oO(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function Bie(e,t){if(e.length!==t.length)return!1;const r=oO(e),n=oO(t);return r.every((s,i)=>{const o=n[i];return Jk(s,o)})}function eC(e){return typeof e=="number"}function eN(e){return typeof e=="string"}function xb(e){return typeof e=="boolean"}function lO(e){return Object.prototype.toString.call(e)==="[object Object]"}function ir(e){return Math.abs(e)}function tC(e){return Math.sign(e)}function gh(e,t){return ir(e-t)}function Vie(e,t){if(e===0||t===0||ir(e)<=ir(t))return 0;const r=gh(ir(e),ir(t));return ir(r/e)}function qie(e){return Math.round(e*100)/100}function dm(e){return fm(e).map(Number)}function ma(e){return e[kp(e)]}function kp(e){return Math.max(0,e.length-1)}function rC(e,t){return t===kp(e)}function cO(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function fm(e){return Object.keys(e)}function F6(e,t){return[e,t].reduce((r,n)=>(fm(n).forEach(s=>{const i=r[s],o=n[s],l=lO(i)&&lO(o);r[s]=l?F6(i,o):o}),r),{})}function tN(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function zie(e,t){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return t-c}function o(c,u){return eN(e)?r[e](c):e(t,c,u)}return{measure:o}}function hm(){let e=[];function t(s,i,o,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,o,l),c=()=>s.removeEventListener(i,o,l);else{const u=s;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function Wie(e,t,r,n){const s=hm(),i=1e3/60;let o=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){g(),s.clear()}function f(x){if(!c)return;o||(o=x,r(),r());const b=x-o;for(o=x,l+=b;l>=i;)r(),l-=i;const p=l/i;n(p),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function g(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function y(){o=null,l=0}return{init:u,destroy:d,start:h,stop:g,update:r,render:n}}function Hie(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(y){const{height:m,width:x}=y;return n?m:x}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function h(y){return y*o}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:h}}function lc(e=0,t=0){const r=ir(e-t);function n(u){return u<e}function s(u){return u>t}function i(u){return n(u)||s(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:l}}function U6(e,t,r){const{constrain:n}=lc(0,e),s=e+1;let i=o(t);function o(h){return r?ir((s+h)%s):n(h)}function l(){return i}function c(h){return i=o(h),f}function u(h){return d().set(l()+h)}function d(){return U6(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function Kie(e,t,r,n,s,i,o,l,c,u,d,f,h,g,y,m,x,b,p){const{cross:w,direction:N}=e,j=["INPUT","SELECT","TEXTAREA"],S={passive:!1},_=hm(),k=hm(),C=lc(50,225).constrain(g.measure(20)),E={mouse:300,touch:400},P={mouse:500,touch:600},R=y?43:25;let O=!1,I=0,T=0,D=!1,q=!1,A=!1,$=!1;function H(W){if(!p)return;function z(qe){(xb(p)||p(W,qe))&&be(qe)}const ce=t;_.add(ce,"dragstart",qe=>qe.preventDefault(),S).add(ce,"touchmove",()=>{},S).add(ce,"touchend",()=>{}).add(ce,"touchstart",z).add(ce,"mousedown",z).add(ce,"touchcancel",se).add(ce,"contextmenu",se).add(ce,"click",Q,!0)}function Y(){_.clear(),k.clear()}function L(){const W=$?r:t;k.add(W,"touchmove",ee,S).add(W,"touchend",se).add(W,"mousemove",ee,S).add(W,"mouseup",se)}function K(W){const z=W.nodeName||"";return j.includes(z)}function re(){return(y?P:E)[$?"mouse":"touch"]}function ae(W,z){const ce=f.add(tC(W)*-1),qe=d.byDistance(W,!y).distance;return y||ir(W)<C?qe:x&&z?qe*.5:d.byIndex(ce.get(),0).distance}function be(W){const z=tN(W,n);$=z,A=y&&z&&!W.buttons&&O,O=gh(s.get(),o.get())>=2,!(z&&W.button!==0)&&(K(W.target)||(D=!0,i.pointerDown(W),u.useFriction(0).useDuration(0),s.set(o),L(),I=i.readPoint(W),T=i.readPoint(W,w),h.emit("pointerDown")))}function ee(W){if(!tN(W,n)&&W.touches.length>=2)return se(W);const ce=i.readPoint(W),qe=i.readPoint(W,w),Ye=gh(ce,I),ut=gh(qe,T);if(!q&&!$&&(!W.cancelable||(q=Ye>ut,!q)))return se(W);const Yt=i.pointerMove(W);Ye>m&&(A=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(N(Yt)),W.preventDefault()}function se(W){const ce=d.byDistance(0,!1).index!==f.get(),qe=i.pointerUp(W)*re(),Ye=ae(N(qe),ce),ut=Vie(qe,Ye),Yt=R-10*ut,kt=b+ut/50;q=!1,D=!1,k.clear(),u.useDuration(Yt).useFriction(kt),c.distance(Ye,!y),$=!1,h.emit("pointerUp")}function Q(W){A&&(W.stopPropagation(),W.preventDefault(),A=!1)}function X(){return D}return{init:H,destroy:Y,pointerDown:X}}function Gie(e,t){let n,s;function i(f){return f.timeStamp}function o(f,h){const y=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(tN(f,t)?f:f.touches[0])[y]}function l(f){return n=f,s=f,o(f)}function c(f){const h=o(f)-o(s),g=i(f)-i(n)>170;return s=f,g&&(n=f),h}function u(f){if(!n||!s)return 0;const h=o(s)-o(n),g=i(f)-i(n),y=i(f)-i(s)>170,m=h/g;return g&&!y&&ir(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function Yie(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:s+i,bottom:n+o,left:s,width:i,height:o}}return{measure:e}}function Qie(e){function t(n){return e*(n/100)}return{measure:t}}function Xie(e,t,r,n,s,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function h(x){return s.measureSize(o.measure(x))}function g(x){if(!i)return;u=h(e),d=n.map(h);function b(p){for(const w of p){if(f)return;const N=w.target===e,j=n.indexOf(w.target),S=N?u:d[j],_=h(N?e:n[j]);if(ir(_-S)>=.5){x.reInit(),t.emit("resize");break}}}c=new ResizeObserver(p=>{(xb(i)||i(x,p))&&b(p)}),r.requestAnimationFrame(()=>{l.forEach(p=>c.observe(p))})}function y(){f=!0,c&&c.disconnect()}return{init:g,destroy:y}}function Zie(e,t,r,n,s,i){let o=0,l=0,c=s,u=i,d=e.get(),f=0;function h(){const S=n.get()-e.get(),_=!c;let k=0;return _?(o=0,r.set(n),e.set(n),k=S):(r.set(e),o+=S/c,o*=u,d+=o,e.add(o),k=d-f),l=tC(k),f=d,j}function g(){const S=n.get()-t.get();return ir(S)<.001}function y(){return c}function m(){return l}function x(){return o}function b(){return w(s)}function p(){return N(i)}function w(S){return c=S,j}function N(S){return u=S,j}const j={direction:m,duration:y,velocity:x,seek:h,settled:g,useBaseFriction:p,useBaseDuration:b,useFriction:N,useDuration:w};return j}function Jie(e,t,r,n,s){const i=s.measure(10),o=s.measure(50),l=lc(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(g){if(!u())return;const y=e.reachedMin(t.get())?"min":"max",m=ir(e[y]-t.get()),x=r.get()-t.get(),b=l.constrain(m/o);r.subtract(x*b),!g&&ir(x)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(g){c=!g}return{shouldConstrain:u,constrain:d,toggleActive:f}}function eoe(e,t,r,n,s){const i=lc(-t+e,0),o=f(),l=d(),c=h();function u(y,m){return gh(y,m)<=1}function d(){const y=o[0],m=ma(o),x=o.lastIndexOf(y),b=o.indexOf(m)+1;return lc(x,b)}function f(){return r.map((y,m)=>{const{min:x,max:b}=i,p=i.constrain(y),w=!m,N=rC(r,m);return w?b:N||u(x,p)?x:u(b,p)?b:p}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(t<=e+s)return[i.max];if(n==="keepSnaps")return o;const{min:y,max:m}=l;return o.slice(y,m)}return{snapsContained:c,scrollContainLimit:l}}function toe(e,t,r){const n=t[0],s=r?n-e:ma(t);return{limit:lc(s,n)}}function roe(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=lc(i,o);function u(h){return h===1?c(r.get()):h===-1?l(r.get()):!1}function d(h){if(!u(h))return;const g=e*(h*-1);n.forEach(y=>y.add(g))}return{loop:d}}function noe(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function soe(e,t,r,n,s){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=s,c=f().map(t.measure),u=h(),d=g();function f(){return l(n).map(m=>ma(m)[o]-m[0][i]).map(ir)}function h(){return n.map(m=>r[i]-m[i]).map(m=>-ir(m))}function g(){return l(u).map(m=>m[0]).map((m,x)=>m+c[x])}return{snaps:u,snapsAligned:d}}function aoe(e,t,r,n,s,i){const{groupSlides:o}=s,{min:l,max:c}=n,u=d();function d(){const h=o(i),g=!e||t==="keepSnaps";return r.length===1?[i]:g?h:h.slice(l,c).map((y,m,x)=>{const b=!m,p=rC(x,m);if(b){const w=ma(x[0])+1;return cO(w)}if(p){const w=kp(i)-ma(x)[0]+1;return cO(w,ma(x)[0])}return y})}return{slideRegistry:u}}function ioe(e,t,r,n,s){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(y){return y.concat().sort((m,x)=>ir(m)-ir(x))[0]}function u(y){const m=e?o(y):l(y),x=t.map((p,w)=>({diff:d(p-m,0),index:w})).sort((p,w)=>ir(p.diff)-ir(w.diff)),{index:b}=x[0];return{index:b,distance:m}}function d(y,m){const x=[y,y+r,y-r];if(!e)return y;if(!m)return c(x);const b=x.filter(p=>tC(p)===m);return b.length?c(b):ma(x)-r}function f(y,m){const x=t[y]-s.get(),b=d(x,m);return{index:y,distance:b}}function h(y,m){const x=s.get()+y,{index:b,distance:p}=u(x),w=!e&&i(x);if(!m||w)return{index:b,distance:y};const N=t[b]-p,j=y+d(N,0);return{index:b,distance:j}}return{byDistance:h,byIndex:f,shortcut:d}}function ooe(e,t,r,n,s,i,o){function l(f){const h=f.distance,g=f.index!==t.get();i.add(h),h&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),g&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,h){const g=s.byDistance(f,h);l(g)}function u(f,h){const g=t.clone().set(f),y=s.byIndex(g.get(),h);l(y)}return{distance:c,index:u}}function loe(e,t,r,n,s,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(g){if(!l)return;function y(m){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const p=r.findIndex(w=>w.includes(m));eC(p)&&(s.useDuration(0),n.index(p,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((m,x)=>{i.add(m,"focus",b=>{(xb(l)||l(g,b))&&y(x)},c)})}function f(g){g.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Xf(e){let t=e;function r(){return t}function n(c){t=o(c)}function s(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return eC(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function B6(e,t){const r=e.scroll==="x"?o:l,n=t.style;let s=null,i=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(i)return;const g=qie(e.direction(h));g!==s&&(n.transform=r(g),s=g)}function u(h){i=!h}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function coe(e,t,r,n,s,i,o,l,c){const d=dm(s),f=dm(s).reverse(),h=b().concat(p());function g(_,k){return _.reduce((C,E)=>C-s[E],k)}function y(_,k){return _.reduce((C,E)=>g(C,k)>0?C.concat([E]):C,[])}function m(_){return i.map((k,C)=>({start:k-n[C]+.5+_,end:k+t-.5+_}))}function x(_,k,C){const E=m(k);return _.map(P=>{const R=C?0:-r,O=C?r:0,I=C?"end":"start",T=E[P][I];return{index:P,loopPoint:T,slideLocation:Xf(-1),translate:B6(e,c[P]),target:()=>l.get()>T?R:O}})}function b(){const _=o[0],k=y(f,_);return x(k,r,!1)}function p(){const _=t-o[0]-1,k=y(d,_);return x(k,-r,!0)}function w(){return h.every(({index:_})=>{const k=d.filter(C=>C!==_);return g(k,t)<=.1})}function N(){h.forEach(_=>{const{target:k,translate:C,slideLocation:E}=_,P=k();P!==E.get()&&(C.to(P),E.set(P))})}function j(){h.forEach(_=>_.translate.clear())}return{canLoop:w,clear:j,loop:N,loopPoints:h}}function uoe(e,t,r){let n,s=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(xb(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),s=!0}return{init:i,destroy:o}}function doe(e,t,r,n){const s={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(m=>{const x=t.indexOf(m.target);s[x]=m}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function f(y){return fm(s).reduce((m,x)=>{const b=parseInt(x),{isIntersecting:p}=s[b];return(y&&p||!y&&!p)&&m.push(b),m},[])}function h(y=!0){if(y&&i)return i;if(!y&&o)return o;const m=f(y);return y&&(i=m),y||(o=m),m}return{init:u,destroy:d,get:h}}function foe(e,t,r,n,s,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&s,d=y(),f=m(),h=r.map(o),g=x();function y(){if(!u)return 0;const p=r[0];return ir(t[l]-p[l])}function m(){if(!u)return 0;const p=i.getComputedStyle(ma(n));return parseFloat(p.getPropertyValue(`margin-${c}`))}function x(){return r.map((p,w,N)=>{const j=!w,S=rC(N,w);return j?h[w]+d:S?h[w]+f:N[w+1][l]-p[l]}).map(ir)}return{slideSizes:h,slideSizesWithGaps:g,startGap:d,endGap:f}}function hoe(e,t,r,n,s,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,h=eC(r);function g(b,p){return dm(b).filter(w=>w%p===0).map(w=>b.slice(w,w+p))}function y(b){return b.length?dm(b).reduce((p,w,N)=>{const j=ma(p)||0,S=j===0,_=w===kp(b),k=s[u]-i[j][u],C=s[u]-i[w][d],E=!n&&S?f(o):0,P=!n&&_?f(l):0,R=ir(C-P-(k+E));return N&&R>t+c&&p.push(w),_&&p.push(b.length),p},[]).map((p,w,N)=>{const j=Math.max(N[w-1]||0);return b.slice(j,p)}):[]}function m(b){return h?g(b,r):y(b)}return{groupSlides:m}}function moe(e,t,r,n,s,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:g,dragThreshold:y,inViewThreshold:m,slidesToScroll:x,skipSnaps:b,containScroll:p,watchResize:w,watchSlides:N,watchDrag:j,watchFocus:S}=i,_=2,k=Yie(),C=k.measure(t),E=r.map(k.measure),P=Hie(c,u),R=P.measureSize(C),O=Qie(R),I=zie(l,R),T=!f&&!!p,D=f||!!p,{slideSizes:q,slideSizesWithGaps:A,startGap:$,endGap:H}=foe(P,C,E,r,D,s),Y=hoe(P,R,x,f,C,E,$,H,_),{snaps:L,snapsAligned:K}=soe(P,I,C,E,Y),re=-ma(L)+ma(A),{snapsContained:ae,scrollContainLimit:be}=eoe(R,re,K,p,_),ee=T?ae:K,{limit:se}=toe(re,ee,f),Q=U6(kp(ee),d,f),X=Q.clone(),ie=dm(r),W=({dragHandler:Rt,scrollBody:Gs,scrollBounds:Cn,options:{loop:ka}})=>{ka||Cn.constrain(Rt.pointerDown()),Gs.seek()},z=({scrollBody:Rt,translate:Gs,location:Cn,offsetLocation:ka,previousLocation:rl,scrollLooper:ei,slideLooper:nl,dragHandler:Oc,animation:hf,eventHandler:Dr,scrollBounds:N0,options:{loop:mf}},Lp)=>{const Fp=Rt.settled(),Up=!N0.shouldConstrain(),pf=mf?Fp:Fp&&Up,Wi=pf&&!Oc.pointerDown();Wi&&hf.stop();const Bp=Cn.get()*Lp+rl.get()*(1-Lp);ka.set(Bp),mf&&(ei.loop(Rt.direction()),nl.loop()),Gs.to(ka.get()),Wi&&Dr.emit("settle"),pf||Dr.emit("scroll")},ce=Wie(n,s,()=>W(Ct),Rt=>z(Ct,Rt)),qe=.68,Ye=ee[Q.get()],ut=Xf(Ye),Yt=Xf(Ye),kt=Xf(Ye),kr=Xf(Ye),F=Zie(ut,kt,Yt,kr,h,qe),G=ioe(f,ee,re,se,kr),Z=ooe(ce,Q,X,F,G,kr,o),_e=noe(se),ye=hm(),ge=doe(t,r,o,m),{slideRegistry:Ue}=aoe(T,p,ee,be,Y,ie),xt=loe(e,r,Ue,Z,F,ye,o,S),Ct={ownerDocument:n,ownerWindow:s,eventHandler:o,containerRect:C,slideRects:E,animation:ce,axis:P,dragHandler:Kie(P,e,n,s,kr,Gie(P,s),ut,ce,Z,F,G,Q,o,O,g,y,b,qe,j),eventStore:ye,percentOfView:O,index:Q,indexPrevious:X,limit:se,location:ut,offsetLocation:kt,previousLocation:Yt,options:i,resizeHandler:Xie(t,o,s,r,P,w,k),scrollBody:F,scrollBounds:Jie(se,kt,kr,F,O),scrollLooper:roe(re,se,kt,[ut,kt,Yt,kr]),scrollProgress:_e,scrollSnapList:ee.map(_e.get),scrollSnaps:ee,scrollTarget:G,scrollTo:Z,slideLooper:coe(P,R,re,q,A,L,ee,kt,r),slideFocus:xt,slidesHandler:uoe(t,o,N),slidesInView:ge,slideIndexes:ie,slideRegistry:Ue,slidesToScroll:Y,target:kr,translate:B6(P,t)};return Ct}function poe(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:s,off:o,on:i,clear:l};return c}const goe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function voe(e){function t(i,o){return F6(i,o||{})}function r(i){const o=i.breakpoints||{},l=fm(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>fm(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function yoe(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function my(e,t,r){const n=e.ownerDocument,s=n.defaultView,i=voe(s),o=yoe(i),l=hm(),c=poe(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:h,off:g,emit:y}=c,m=P;let x=!1,b,p=u(goe,my.globalOptions),w=u(p),N=[],j,S,_;function k(){const{container:ie,slides:W}=w;S=(eN(ie)?e.querySelector(ie):ie)||e.children[0];const ce=eN(W)?S.querySelectorAll(W):W;_=[].slice.call(ce||S.children)}function C(ie){const W=moe(e,S,_,n,s,ie,c);if(ie.loop&&!W.slideLooper.canLoop()){const z=Object.assign({},ie,{loop:!1});return C(z)}return W}function E(ie,W){x||(p=u(p,ie),w=d(p),N=W||N,k(),b=C(w),f([p,...N.map(({options:z})=>z)]).forEach(z=>l.add(z,"change",P)),w.active&&(b.translate.to(b.location.get()),b.animation.init(),b.slidesInView.init(),b.slideFocus.init(X),b.eventHandler.init(X),b.resizeHandler.init(X),b.slidesHandler.init(X),b.options.loop&&b.slideLooper.loop(),S.offsetParent&&_.length&&b.dragHandler.init(X),j=o.init(X,N)))}function P(ie,W){const z=Y();R(),E(u({startIndex:z},ie),W),c.emit("reInit")}function R(){b.dragHandler.destroy(),b.eventStore.clear(),b.translate.clear(),b.slideLooper.clear(),b.resizeHandler.destroy(),b.slidesHandler.destroy(),b.slidesInView.destroy(),b.animation.destroy(),o.destroy(),l.clear()}function O(){x||(x=!0,l.clear(),R(),c.emit("destroy"),c.clear())}function I(ie,W,z){!w.active||x||(b.scrollBody.useBaseFriction().useDuration(W===!0?0:w.duration),b.scrollTo.index(ie,z||0))}function T(ie){const W=b.index.add(1).get();I(W,ie,-1)}function D(ie){const W=b.index.add(-1).get();I(W,ie,1)}function q(){return b.index.add(1).get()!==Y()}function A(){return b.index.add(-1).get()!==Y()}function $(){return b.scrollSnapList}function H(){return b.scrollProgress.get(b.offsetLocation.get())}function Y(){return b.index.get()}function L(){return b.indexPrevious.get()}function K(){return b.slidesInView.get()}function re(){return b.slidesInView.get(!1)}function ae(){return j}function be(){return b}function ee(){return e}function se(){return S}function Q(){return _}const X={canScrollNext:q,canScrollPrev:A,containerNode:se,internalEngine:be,destroy:O,off:g,on:h,emit:y,plugins:ae,previousScrollSnap:L,reInit:m,rootNode:ee,scrollNext:T,scrollPrev:D,scrollProgress:H,scrollSnapList:$,scrollTo:I,selectedScrollSnap:Y,slideNodes:Q,slidesInView:K,slidesNotInView:re};return E(t,r),setTimeout(()=>c.emit("init"),0),X}my.globalOptions=void 0;function nC(e={},t=[]){const r=v.useRef(e),n=v.useRef(t),[s,i]=v.useState(),[o,l]=v.useState(),c=v.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return v.useEffect(()=>{Jk(r.current,e)||(r.current=e,c())},[e,c]),v.useEffect(()=>{Bie(n.current,t)||(n.current=t,c())},[t,c]),v.useEffect(()=>{if(Uie()&&o){my.globalOptions=nC.globalOptions;const u=my(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,s]}nC.globalOptions=void 0;const V6=v.createContext(null);function bb(){const e=v.useContext(V6);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const q6=v.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:i,...o},l)=>{const[c,u]=nC({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=v.useState(!1),[h,g]=v.useState(!1),y=v.useCallback(p=>{p&&(f(p.canScrollPrev()),g(p.canScrollNext()))},[]),m=v.useCallback(()=>{u==null||u.scrollPrev()},[u]),x=v.useCallback(()=>{u==null||u.scrollNext()},[u]),b=v.useCallback(p=>{p.key==="ArrowLeft"?(p.preventDefault(),m()):p.key==="ArrowRight"&&(p.preventDefault(),x())},[m,x]);return v.useEffect(()=>{!u||!r||r(u)},[u,r]),v.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u==null||u.off("select",y)}},[u,y]),a.jsx(V6.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:x,canScrollPrev:d,canScrollNext:h},children:a.jsx("div",{ref:l,onKeyDownCapture:b,className:fe("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});q6.displayName="Carousel";const z6=v.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=bb();return a.jsx("div",{ref:n,className:"overflow-hidden",children:a.jsx("div",{ref:r,className:fe("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});z6.displayName="CarouselContent";const W6=v.forwardRef(({className:e,...t},r)=>{const{orientation:n}=bb();return a.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:fe("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});W6.displayName="CarouselItem";const xoe=v.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=bb();return a.jsxs(U,{ref:s,variant:t,size:r,className:fe("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(In,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Previous slide"})]})});xoe.displayName="CarouselPrevious";const boe=v.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=bb();return a.jsxs(U,{ref:s,variant:t,size:r,className:fe("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(q_,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Next slide"})]})});boe.displayName="CarouselNext";const woe={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function joe(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function Noe(e,t){const r=e.rootNode();return t&&t(r)||r}function sC(e={}){let t,r,n,s,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(I,T){r=I;const{mergeOptions:D,optionsAtMedia:q}=T,A=D(woe,sC.globalOptions),$=D(A,e);if(t=q($),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,s=joe(r,t.delay);const{eventStore:H,ownerDocument:Y}=r.internalEngine(),L=!!r.internalEngine().options.watchDrag,K=Noe(r,t.rootNode);H.add(Y,"visibilitychange",b),L&&r.on("pointerDown",w),L&&!t.stopOnInteraction&&r.on("pointerUp",N),t.stopOnMouseEnter&&H.add(K,"mouseenter",j),t.stopOnMouseEnter&&!t.stopOnInteraction&&H.add(K,"mouseleave",S),t.stopOnFocusIn&&r.on("slideFocusStart",x),t.stopOnFocusIn&&!t.stopOnInteraction&&H.add(r.containerNode(),"focusout",m),t.playOnInit&&m()}function h(){r.off("pointerDown",w).off("pointerUp",N).off("slideFocusStart",x),x(),n=!0,l=!1}function g(){const{ownerWindow:I}=r.internalEngine();I.clearTimeout(o),o=I.setTimeout(P,s[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function y(){const{ownerWindow:I}=r.internalEngine();I.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function m(){if(!n){if(p()){u=!0;return}l||r.emit("autoplay:play"),g(),l=!0}}function x(){n||(l&&r.emit("autoplay:stop"),y(),l=!1)}function b(){if(p())return u=l,x();u&&m()}function p(){const{ownerDocument:I}=r.internalEngine();return I.visibilityState==="hidden"}function w(){c||x()}function N(){c||m()}function j(){c=!0,x()}function S(){c=!1,m()}function _(I){typeof I<"u"&&(d=I),m()}function k(){l&&x()}function C(){l&&m()}function E(){return l}function P(){const{index:I}=r.internalEngine(),T=I.clone().add(1).get(),D=r.scrollSnapList().length-1,q=t.stopOnLastSnap&&T===D;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),q)return x();m()}function R(){if(!i)return null;const I=s[r.selectedScrollSnap()],T=new Date().getTime()-i;return I-T}return{name:"autoplay",options:e,init:f,destroy:h,play:_,stop:k,reset:C,isPlaying:E,timeUntilNext:R}}sC.globalOptions=void 0;const Soe=[{src:a5,alt:"Complex Exterior Render",caption:"Premium Sports Complex Design"},{src:Sp,alt:"Padel Tennis Courts",caption:"World-Class Padel Courts"},{src:Sk,alt:"Squash Court",caption:"Professional Squash Facility"},{src:i5,alt:"Sports Arena",caption:"Modern Architecture"},{src:o5,alt:"Construction Progress",caption:"Building Your Future"}];function _oe(){const{toast:e}=At(),[t,r]=v.useState(""),[n,s]=v.useState({days:0,hours:0,minutes:0,seconds:0}),[i,o]=v.useState(!1),{getValue:l}=_c(["coming_soon_title","coming_soon_subtitle","coming_soon_launch_date","coming_soon_location","site_name","hero_eyebrow"],Ze),c=l("coming_soon_launch_date")||Ze.coming_soon_launch_date||"2026-10-01",u=new Date(c);v.useEffect(()=>{const g=()=>{const m=+u-+new Date;return m>0?(o(!1),{days:Math.floor(m/864e5),hours:Math.floor(m/36e5%24),minutes:Math.floor(m/1e3/60%60),seconds:Math.floor(m/1e3%60)}):(o(!0),{days:0,hours:0,minutes:0,seconds:0})};s(g());const y=setInterval(()=>{s(g())},1e3);return()=>clearInterval(y)},[c]);const d=Te({mutationFn:async g=>await Ae("POST","/api/contact",{name:"Early Interest Subscriber",email:g,subject:"Coming Soon - Early Interest",message:"I would like to receive updates about The Quarterdeck launch."}),onSuccess:()=>{e({title:"Successfully Subscribed",description:"You'll be the first to know when we launch!"}),r("")},onError:g=>{e({title:"Subscription Failed",description:g.message||"Please try again later.",variant:"destructive"})}}),f=g=>{g.preventDefault(),t&&d.mutate(t)},h=({value:g,label:y})=>a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 flex items-center justify-center rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:a.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white tabular-nums",children:g.toString().padStart(2,"0")})}),a.jsx("span",{className:"mt-2 text-sm sm:text-base text-white/80 uppercase tracking-widest font-medium",children:y})]});return a.jsxs("div",{className:"min-h-screen bg-[#1a2a40] relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-500/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-indigo-500/10 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col",children:[a.jsx("header",{className:"flex justify-center items-center mb-8",children:a.jsx("span",{className:"text-2xl font-bold text-white","data-testid":"text-brand",children:l("site_name")||Ze.site_name||"The Quarterdeck"})}),a.jsxs("main",{className:"flex-1 flex flex-col lg:flex-row items-center justify-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"flex-1 max-w-xl text-center lg:text-left",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 mb-6",children:[a.jsx(gn,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm text-white/90","data-testid":"text-launch-badge",children:l("hero_eyebrow")||Ze.hero_eyebrow})]}),a.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-4 leading-tight","data-testid":"text-coming-soon-title",children:l("coming_soon_title")||Ze.coming_soon_title}),a.jsx("p",{className:"text-lg sm:text-xl text-white/80 mb-8","data-testid":"text-coming-soon-subtitle",children:l("coming_soon_subtitle")||Ze.coming_soon_subtitle}),a.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-4 sm:gap-6 mb-10",children:[a.jsx(h,{value:n.days,label:"Days"}),a.jsx(h,{value:n.hours,label:"Hours"}),a.jsx(h,{value:n.minutes,label:"Mins"}),a.jsx(h,{value:n.seconds,label:"Secs"})]}),a.jsxs("form",{onSubmit:f,className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto lg:mx-0 mb-8",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(cp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),a.jsx(ne,{type:"email",placeholder:"Enter your email for updates",value:t,onChange:g=>r(g.target.value),required:!0,className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:border-cyan-400 rounded-lg h-12","data-testid":"input-coming-soon-email"})]}),a.jsx(U,{type:"submit",className:"h-12 px-6 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg",disabled:d.isPending,"data-testid":"button-subscribe",children:d.isPending?a.jsx(it,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:["Notify Me ",a.jsx(q_,{className:"ml-2 w-4 h-4"})]})})]}),a.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-6 text-white/70",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(za,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm",children:l("coming_soon_location")||Ze.coming_soon_location})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm",children:"6 AM - 10 PM Daily"})]})]}),a.jsx("div",{className:"mt-8 grid grid-cols-2 sm:grid-cols-4 gap-4",children:["Padel Tennis","Squash","Air Rifle","Multipurpose Hall"].map(g=>a.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[a.jsx(Ns,{className:"w-4 h-4 text-cyan-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:g})]},g))})]}),a.jsxs("div",{className:"flex-1 max-w-lg w-full",children:[a.jsx(q6,{className:"w-full",opts:{loop:!0},plugins:[sC({delay:4e3})],children:a.jsx(z6,{children:Soe.map((g,y)=>a.jsx(W6,{children:a.jsx(le,{className:"border-0 bg-transparent",children:a.jsx(ue,{className:"p-0",children:a.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden",children:[a.jsx("img",{src:g.src,alt:g.alt,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:a.jsx("span",{className:"text-white font-medium text-lg",children:g.caption})})]})})})},y))})}),a.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[i?a.jsx(oe,{href:"/",children:a.jsx(U,{variant:"outline",className:"border-white/20 text-white hover:bg-white/10 rounded-lg","data-testid":"button-explore-site",children:"Explore Full Site"})}):a.jsx(U,{variant:"outline",className:"border-white/20 text-white/50 rounded-lg cursor-not-allowed opacity-60",disabled:!0,"data-testid":"button-explore-site",children:"Explore Full Site"}),a.jsx(oe,{href:"/roadmap",children:a.jsx(U,{className:"bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg","data-testid":"button-view-progress",children:"View Progress"})})]})]})]}),a.jsx("footer",{className:"mt-8 text-center text-white/50 text-sm",children:a.jsx("p",{children:"2024-2026 The Quarterdeck. All rights reserved."})})]})]})}const koe=Qa({name:jt().min(2,"Name must be at least 2 characters"),email:jt().email("Please enter a valid email address"),phone:jt().optional(),subject:jt().min(3,"Subject must be at least 3 characters"),message:jt().min(10,"Message must be at least 10 characters")});function Coe(){const{toast:e}=At(),[t,r]=v.useState(!1),{data:n={}}=ve({queryKey:["/api/site-settings"],queryFn:async()=>{try{const u=await fetch("/api/site-settings");if(!u.ok)return{};const d=await u.json();return d&&typeof d=="object"&&!d.message?d:{}}catch{return{}}}}),s=u=>n[u]||"",i=xa({resolver:ba(koe),defaultValues:{name:"",email:"",phone:"",subject:"",message:""}}),o=Te({mutationFn:async u=>await Ae("POST","/api/contact",u),onSuccess:()=>{e({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),r(!0),i.reset()},onError:u=>{e({title:"Error",description:u.message||"Failed to send message. Please try again.",variant:"destructive"})}}),l=u=>{o.mutate(u)},c=[{icon:gn,title:"Book a Facility",description:"Reserve courts, halls, and more",href:"/booking"},{icon:Qr,title:"Membership",description:"Join The Quarterdeck community",href:"/membership"},{icon:kn,title:"Our Facilities",description:"Explore what we offer",href:"/facilities"}];return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Contact Us",subtitle:"Get in touch with The Quarterdeck team. We're here to help with bookings, memberships, and any questions you may have.",testId:"text-contact-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(bK,{className:"w-5 h-5"}),"Send Us a Message"]})}),a.jsx(ue,{children:t?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mx-auto mb-4",children:a.jsx(Lv,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Thank You!"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Your message has been sent successfully. We'll respond within 24-48 hours."}),a.jsx(U,{onClick:()=>r(!1),variant:"outline",children:"Send Another Message"})]}):a.jsx(ja,{...i,children:a.jsxs("form",{onSubmit:i.handleSubmit(l),className:"space-y-4",children:[a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(tt,{control:i.control,name:"name",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Full Name *"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"Your name",...u,"data-testid":"input-contact-name"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:i.control,name:"email",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email Address *"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com",...u,"data-testid":"input-contact-email"})}),a.jsx(st,{})]})})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(tt,{control:i.control,name:"phone",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone Number"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"+92 xxx xxxxxxx",...u,"data-testid":"input-contact-phone"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:i.control,name:"subject",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Subject *"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"What's this about?",...u,"data-testid":"input-contact-subject"})}),a.jsx(st,{})]})})]}),a.jsx(tt,{control:i.control,name:"message",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Message *"}),a.jsx(Xe,{children:a.jsx(ur,{placeholder:"How can we help you?",rows:5,...u,"data-testid":"input-contact-message"})}),a.jsx(st,{})]})}),a.jsx(U,{type:"submit",className:"w-full sm:w-auto",disabled:o.isPending,"data-testid":"button-contact-submit",children:o.isPending?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Lv,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Links"}),a.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:c.map(u=>a.jsx(oe,{href:u.href,children:a.jsx(le,{className:"h-full hover-elevate cursor-pointer","data-testid":`link-quick-${u.title.toLowerCase().replace(/\s/g,"-")}`,children:a.jsxs(ue,{className:"p-4",children:[a.jsx(u.icon,{className:"w-8 h-8 text-primary mb-3"}),a.jsx("h3",{className:"font-semibold mb-1",children:u.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:u.description})]})})},u.href))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsx(et,{children:"Contact Information"})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(za,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Address"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("address")||"The Quarterdeck Sports Complex, Islamabad, Pakistan"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(ZD,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Phone"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("phone")||"+92 51 XXX XXXX"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(cp,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Email"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("email")||"info@thequarterdeck.pk"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(_r,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Operating Hours"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("operating_hours")||"6:00 AM - 11:00 PM Daily"})]})]})]})]}),a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsx(et,{children:"Follow Us"})}),a.jsx(ue,{children:a.jsxs("div",{className:"flex gap-3",children:[s("facebook")&&a.jsx("a",{href:s("facebook"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-facebook",children:a.jsx(qD,{className:"w-5 h-5 text-primary"})}),s("instagram")&&a.jsx("a",{href:s("instagram"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-instagram",children:a.jsx(YD,{className:"w-5 h-5 text-primary"})}),s("twitter")&&a.jsx("a",{href:s("twitter"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-twitter",children:a.jsx(IK,{className:"w-5 h-5 text-primary"})}),!s("facebook")&&!s("instagram")&&!s("twitter")&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Social links coming soon"})]})})]}),a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Eo,{className:"w-5 h-5"}),"Frequently Asked"]})}),a.jsxs(ue,{className:"space-y-1",children:[a.jsxs(L6,{type:"single",collapsible:!0,className:"w-full",children:[a.jsxs(gu,{value:"booking",className:"border-b-0",children:[a.jsx(vu,{className:"text-sm py-3 hover:no-underline","data-testid":"faq-booking",children:"How do I book a facility?"}),a.jsx(yu,{className:"text-sm text-muted-foreground",children:"You can book facilities through our booking page. Simply select the facility, choose your preferred date and time slot, and confirm your reservation. Members get priority booking windows based on their tier."})]}),a.jsxs(gu,{value:"membership",className:"border-b-0",children:[a.jsx(vu,{className:"text-sm py-3 hover:no-underline","data-testid":"faq-membership",children:"What membership options are available?"}),a.jsx(yu,{className:"text-sm text-muted-foreground",children:"We offer Founding Member, Gold, Silver, and Pay-to-Play options. Each tier includes different benefits like booking windows, discounts, and guest passes. Visit our membership page for details."})]}),a.jsxs(gu,{value:"rules",className:"border-b-0",children:[a.jsx(vu,{className:"text-sm py-3 hover:no-underline","data-testid":"faq-rules",children:"What are the facility rules?"}),a.jsx(yu,{className:"text-sm text-muted-foreground",children:"All members must follow our facility guidelines including proper attire, court etiquette, and safety protocols. Visit our Rules page for the complete list."})]}),a.jsxs(gu,{value:"events",className:"border-b-0",children:[a.jsx(vu,{className:"text-sm py-3 hover:no-underline","data-testid":"faq-events",children:"How do I join events?"}),a.jsx(yu,{className:"text-sm text-muted-foreground",children:"Check our Events page for upcoming tournaments and activities. Members can register directly through the event details page. Some events may have limited spots."})]})]}),a.jsx("div",{className:"pt-3 border-t",children:a.jsx(oe,{href:"/faq",children:a.jsx(U,{variant:"outline",size:"sm",className:"w-full","data-testid":"link-view-more-faq",children:"View All FAQs"})})})]})]})]})]})]})]}),a.jsx(nr,{})]})}const Poe={"help-circle":Eo,users:Qr,calendar:gn,"credit-card":W_,clock:_r,"building-2":kn,shield:tc,settings:Fv};function Eoe({item:e,isOpen:t,onToggle:r}){return a.jsxs("div",{className:"border-b border-border last:border-b-0",children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between py-4 text-left hover-elevate","data-testid":`button-faq-${e.id}`,children:[a.jsx("span",{className:"font-medium text-foreground pr-4",children:e.question}),a.jsx(Pi,{className:`w-5 h-5 text-muted-foreground shrink-0 transition-transform ${t?"rotate-180":""}`})]}),t&&a.jsx("div",{className:"pb-4 text-muted-foreground animate-qd-fade-in",children:e.answer})]})}function Aoe(){const[e,t]=v.useState({}),{data:r=[],isLoading:n}=ve({queryKey:["/api/faq"]}),s=o=>{t(l=>({...l,[o]:!l[o]}))},i=o=>Poe[o||"help-circle"]||Eo;return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Frequently Asked Questions",subtitle:"Find answers to common questions about The Quarterdeck, memberships, bookings, and more.",testId:"text-faq-title"}),a.jsx("section",{className:"py-12 md:py-16",children:a.jsxs("div",{className:"qd-container max-w-5xl mx-auto",children:[a.jsx(Xa,{items:[{label:"FAQ"}]}),n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(it,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):r.length===0?a.jsx(le,{className:"overflow-visible",children:a.jsxs(ue,{className:"py-12 text-center",children:[a.jsx(Eo,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQs Available"}),a.jsx("p",{className:"text-muted-foreground",children:"Check back later for frequently asked questions."})]})}):a.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:r.map(o=>{const l=i(o.icon);return a.jsx(le,{className:"overflow-visible","data-testid":`card-faq-${o.id}`,children:a.jsxs(ue,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center",children:a.jsx(l,{className:"w-5 h-5 text-primary"})}),a.jsx("h2",{className:"text-lg font-semibold",children:o.title})]}),a.jsx("div",{children:o.items.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No questions in this category yet."}):o.items.map(c=>a.jsx(Eoe,{item:c,isOpen:e[c.id]||!1,onToggle:()=>s(c.id)},c.id))})]})},o.id)})}),a.jsx("div",{className:"mt-12 text-center",children:a.jsx(le,{className:"inline-block overflow-visible",children:a.jsxs(ue,{className:"p-8",children:[a.jsx(Eo,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Still have questions?"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Our team is here to help. Get in touch and we'll respond as soon as possible."}),a.jsx(oe,{href:"/contact",children:a.jsx(U,{"data-testid":"button-contact-us",children:"Contact Us"})})]})})})]})})]}),a.jsx(nr,{})]})}const Ooe={FOUNDING:VD,GOLD:up,SILVER:JD,GUEST:Qr},uO={FOUNDING:{bg:"bg-amber-500/10 dark:bg-amber-500/20",text:"text-amber-600 dark:text-amber-400",border:"border-amber-500/30"},GOLD:{bg:"bg-yellow-500/10 dark:bg-yellow-500/20",text:"text-yellow-600 dark:text-yellow-400",border:"border-yellow-500/30"},SILVER:{bg:"bg-gray-500/10 dark:bg-gray-500/20",text:"text-gray-600 dark:text-gray-400",border:"border-gray-500/30"},GUEST:{bg:"bg-blue-500/10 dark:bg-blue-500/20",text:"text-blue-600 dark:text-blue-400",border:"border-blue-500/30"}},Toe=[{id:"founding",name:"Founding Member",tier:"FOUNDING",tagline:"Limited & Exclusive",description:"For early supporters and investors who believe in our vision.",price:35e3,billingPeriod:"monthly",featured:!0,closed:!0,benefits:["Lifetime priority booking (14-day window)","25% discount on off-peak bookings (10 AM - 5 PM)","10 guest passes per month","Permanent credit bonus (10%)","VIP parking & locker","Invitation to all exclusive events","Founding member recognition wall"],isActive:!0,sortOrder:1},{id:"gold",name:"Gold Membership",tier:"GOLD",tagline:"Premium Access",description:"For serious athletes and frequent players who want the best experience.",price:15e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["7-day advance booking window","20% discount on off-peak bookings (10 AM - 5 PM)","4 guest passes per month","Priority event registration","15% off coaching & clinics","Free equipment rental (2x/month)","Access to member lounge"],isActive:!0,sortOrder:2},{id:"silver",name:"Silver Membership",tier:"SILVER",tagline:"Standard Access",description:"Perfect for recreational players who want regular access at great value.",price:5e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["5-day advance booking window","10% discount on off-peak bookings (10 AM - 5 PM)","2 guest passes per month","10% off coaching & clinics","Member newsletter & updates","Discounted event entry"],isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Non-Member Access",description:"Try our facilities without commitment. Subject to availability.",price:0,billingPeriod:"per visit",featured:!1,closed:!1,benefits:["2-day advance booking window","Access after member priority","Equipment rental available","Guest registration required","Can be upgraded to membership"],isActive:!0,sortOrder:4}],Ioe=[{feature:"Advance Booking Window",founding:"14 days",gold:"7 days",silver:"5 days",guest:"2 days"},{feature:"Off-Peak Discount (10 AM - 5 PM)",founding:"25%",gold:"20%",silver:"10%",guest:"None"},{feature:"Monthly Guest Passes",founding:"10",gold:"4",silver:"2",guest:"N/A"},{feature:"Coaching Discount",founding:"20%",gold:"15%",silver:"10%",guest:"None"},{feature:"Event Priority",founding:"VIP",gold:"Priority",silver:"Standard",guest:"Last"}],Roe=[{icon:_r,title:"Priority Booking",description:"Book your preferred time slots ahead of non-members"},{icon:mK,title:"Exclusive Discounts",description:"Save on bookings, events, and coaching sessions"},{icon:nv,title:"Guest Passes",description:"Share the experience with friends and family"},{icon:tc,title:"Member-Only Events",description:"Access exclusive tournaments and social gatherings"}];function $oe(){const[e,t]=v.useState(null),[r,n]=v.useState(!1),{data:s,isLoading:i}=ve({queryKey:["/api/pricing-tiers"],queryFn:async()=>{const c=await fetch("/api/pricing-tiers");if(!c.ok)throw new Error("Failed to fetch pricing tiers");return c.json()}}),o=v.useMemo(()=>s&&s.length>0?s.filter(c=>c.isActive).sort((c,u)=>(c.sortOrder||0)-(u.sortOrder||0)).map(c=>({...c,tagline:c.tier==="FOUNDING"?"Limited & Exclusive":c.tier==="GOLD"?"Premium Access":c.tier==="SILVER"?"Standard Access":"Non-Member Access",closed:c.tier==="FOUNDING"})):Toe,[s]),l=c=>{t(e===c?null:c)};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(as,{title:"Membership",subtitle:"Join The Quarterdeck community and unlock exclusive benefits, priority booking, and member-only perks.",testId:"text-membership-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsxs("section",{className:"mt-8 mb-16",children:[a.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Why Become a Member?"}),a.jsx("p",{className:"text-muted-foreground",children:"Enjoy exclusive access to world-class facilities, priority booking, and a vibrant community of sports enthusiasts."})]}),a.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:Roe.map((c,u)=>a.jsx(le,{className:"text-center","data-testid":`card-benefit-${u}`,children:a.jsxs(ue,{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(c.icon,{className:"w-6 h-6 text-primary"})}),a.jsx("h3",{className:"font-semibold mb-2",children:c.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]})},u))})]}),a.jsxs("section",{className:"mb-16",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Membership Tiers"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Choose the membership tier that best fits your lifestyle and sports goals."})]}),i?a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[1,2,3,4].map(c=>a.jsx(le,{children:a.jsxs(ue,{className:"p-6 space-y-4",children:[a.jsx(pt,{className:"h-8 w-24"}),a.jsx(pt,{className:"h-10 w-32"}),a.jsx(pt,{className:"h-4 w-full"}),a.jsx(pt,{className:"h-4 w-3/4"})]})},c))}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:o.map(c=>{var h,g,y,m;const u=Ooe[c.tier]||up,d=uO[c.tier]||uO.SILVER,f=e===c.id;return a.jsxs(le,{className:`relative overflow-visible ${c.featured?"ring-2 ring-primary":""}`,"data-testid":`card-tier-${(h=c.tier)==null?void 0:h.toLowerCase()}`,children:[c.featured&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:a.jsx("span",{className:"bg-primary text-primary-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Most Popular"})}),c.closed&&a.jsx("div",{className:"absolute -top-3 right-4",children:a.jsx("span",{className:"bg-destructive text-destructive-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Closed"})}),a.jsxs(ue,{className:"p-6",children:[a.jsx("div",{className:`w-12 h-12 rounded-full ${d.bg} flex items-center justify-center mb-4`,children:a.jsx(u,{className:`w-6 h-6 ${d.text}`})}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:c.name}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:c.tagline}),a.jsxs("div",{className:"mb-4",children:[a.jsx("span",{className:"text-3xl font-bold",children:c.price===0?"Free":`PKR ${c.price.toLocaleString()}`}),c.price>0&&a.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",c.billingPeriod]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:c.description}),a.jsxs("button",{onClick:()=>l(c.id),className:"flex items-center gap-1 text-sm text-primary hover:underline mb-4","data-testid":`button-toggle-benefits-${(g=c.tier)==null?void 0:g.toLowerCase()}`,children:[f?"Hide":"View"," Benefits",f?a.jsx(qh,{className:"w-4 h-4"}):a.jsx(Pi,{className:"w-4 h-4"})]}),f&&a.jsx("ul",{className:"space-y-2 mb-4 animate-qd-fade-in",children:(y=c.benefits)==null?void 0:y.map((x,b)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[a.jsx(an,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),a.jsx("span",{children:x})]},b))}),c.closed?a.jsx(U,{variant:"secondary",className:"w-full",disabled:!0,children:"Registration Closed"}):a.jsx(oe,{href:"/register",children:a.jsx(U,{variant:c.featured?"default":"outline",className:"w-full","data-testid":`button-join-${(m=c.tier)==null?void 0:m.toLowerCase()}`,children:c.price===0?"Register Free":"Join Now"})})]})]},c.id)})})]}),a.jsxs("section",{className:"mb-16 max-w-5xl mx-auto",children:[a.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 text-lg font-semibold mx-auto mb-6 hover:text-primary transition-colors","data-testid":"button-toggle-comparison",children:["Compare Membership Tiers",r?a.jsx(qh,{className:"w-5 h-5"}):a.jsx(Pi,{className:"w-5 h-5"})]}),r&&a.jsx(le,{className:"overflow-visible animate-qd-fade-in",children:a.jsx(ue,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-4 font-medium",children:"Feature"}),a.jsx("th",{className:"text-center p-4 font-medium text-amber-600 dark:text-amber-400",children:"Founding"}),a.jsx("th",{className:"text-center p-4 font-medium text-yellow-600 dark:text-yellow-400",children:"Gold"}),a.jsx("th",{className:"text-center p-4 font-medium text-gray-600 dark:text-gray-400",children:"Silver"}),a.jsx("th",{className:"text-center p-4 font-medium text-blue-600 dark:text-blue-400",children:"Guest"})]})}),a.jsx("tbody",{children:Ioe.map((c,u)=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsx("td",{className:"p-4 text-sm",children:c.feature}),a.jsx("td",{className:"text-center p-4 text-sm font-medium",children:c.founding}),a.jsx("td",{className:"text-center p-4 text-sm font-medium",children:c.gold}),a.jsx("td",{className:"text-center p-4 text-sm font-medium",children:c.silver}),a.jsx("td",{className:"text-center p-4 text-sm font-medium",children:c.guest})]},u))})]})})})})]}),a.jsx("section",{className:"text-center max-w-2xl mx-auto",children:a.jsx(le,{children:a.jsxs(ue,{className:"p-8",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Ready to Join?"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your account and choose your membership tier to start enjoying exclusive benefits today."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsx(oe,{href:"/register",children:a.jsx(U,{"data-testid":"button-create-account",children:"Create Account"})}),a.jsx(oe,{href:"/contact",children:a.jsx(U,{variant:"outline","data-testid":"button-contact-membership",children:"Contact Us"})})]})]})})})]})]}),a.jsx(nr,{})]})}function Moe(){const[,e]=ss();return v.useEffect(()=>{e("/roadmap")},[e]),null}function Doe(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center py-16",children:a.jsx(le,{className:"w-full max-w-lg mx-4",children:a.jsxs(ue,{className:"pt-8 pb-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-6xl font-bold text-muted-foreground mb-2",children:"404"}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2","data-testid":"text-error-title",children:"Page Not Found"}),a.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved."})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Here are some helpful links:"}),a.jsx(oe,{href:"/",children:a.jsxs(U,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-home",children:[a.jsx(H_,{className:"h-4 w-4"}),"Go to Homepage"]})}),a.jsx(oe,{href:"/facilities",children:a.jsxs(U,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-facilities",children:[a.jsx(gn,{className:"h-4 w-4"}),"View Facilities"]})}),a.jsx(oe,{href:"/#membership",children:a.jsxs(U,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-membership",children:[a.jsx(Qr,{className:"h-4 w-4"}),"Membership Plans"]})})]}),a.jsx("div",{className:"text-center",children:a.jsxs(U,{variant:"ghost",onClick:()=>window.history.back(),className:"gap-2","data-testid":"button-go-back",children:[a.jsx(In,{className:"h-4 w-4"}),"Go Back"]})})]})})}),a.jsx(nr,{})]})}const Loe=op("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Cp=v.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:fe(Loe({variant:t}),e),...r}));Cp.displayName="Alert";const Foe=v.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:fe("mb-1 font-medium leading-none tracking-tight",e),...t}));Foe.displayName="AlertTitle";const Pp=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("text-sm [&_p]:leading-relaxed",e),...t}));Pp.displayName="AlertDescription";function Uoe(e){return jp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function Boe(e){return jp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}function Voe(e){return jp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}const qoe=[{id:"twitter",name:"X",icon:Voe},{id:"github",name:"GitHub",icon:Boe},{id:"facebook",name:"Facebook",icon:Uoe}];function H6({mode:e}){const{signInWithOAuth:t,isSupabaseConfigured:r}=Qd(),{toast:n}=At(),[s,i]=v.useState(null),o=async c=>{if(!r){n({title:"Configuration Error",description:"Social login is not properly configured.",variant:"destructive"});return}i(c);try{const{error:u}=await t(c);u&&n({title:`${c.charAt(0).toUpperCase()+c.slice(1)} login failed`,description:u.message||"Failed to connect with provider",variant:"destructive"})}catch{n({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(null)}},l=e==="signin"?"Sign in":"Sign up";return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:qoe.map(c=>{const u=c.icon,d=s===c.id;return a.jsxs(U,{type:"button",variant:"outline",className:"gap-2",disabled:s!==null,onClick:()=>o(c.id),"data-testid":`button-oauth-${c.id}`,children:[d?a.jsx(it,{className:"h-4 w-4 animate-spin"}):a.jsx(u,{className:"h-4 w-4"}),c.name]},c.id)})}),a.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[l," with a social account for instant verification"]})]})}var zoe=({as:e="div",...t},r)=>a.jsx(e,{...t,ref:r}),Woe=v.forwardRef(zoe),Hoe="https://challenges.cloudflare.com/turnstile/v0/api.js",aC="cf-turnstile-script",Koe="cf-turnstile",iC="onloadTurnstileCallback",K6=e=>!!document.getElementById(e),Goe=({render:e="explicit",onLoadCallbackName:t=iC,scriptOptions:{nonce:r="",defer:n=!0,async:s=!0,id:i="",appendTo:o,onError:l,crossOrigin:c=""}={}})=>{let u=i||aC;if(K6(u))return;let d=document.createElement("script");d.id=u,d.src=`${Hoe}?onload=${t}&render=${e}`,!document.querySelector(`script[src="${d.src}"]`)&&(d.defer=!!n,d.async=!!s,r&&(d.nonce=r),c&&(d.crossOrigin=c),l&&(d.onerror=l,delete window[t]),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(d))},ll={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function Yoe(e){if(e!=="invisible"&&e!=="interactionOnly")return e}function Qoe(e=aC){let[t,r]=v.useState(!1);return v.useEffect(()=>{let n=()=>{K6(e)&&r(!0)},s=new MutationObserver(n);return s.observe(document,{childList:!0,subtree:!0}),n(),()=>{s.disconnect()}},[e]),t}var vh="unloaded",G6,Xoe=new Promise((e,t)=>{G6={resolve:e,reject:t},vh==="ready"&&e(void 0)}),Zoe=(e=iC)=>(vh==="unloaded"&&(vh="loading",window[e]=()=>{G6.resolve(),vh="ready",delete window[e]}),Xoe),oC=v.forwardRef((e,t)=>{let{scriptOptions:r,options:n={},siteKey:s,onWidgetLoad:i,onSuccess:o,onExpire:l,onError:c,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h,onLoadScript:g,id:y,style:m,as:x="div",injectScript:b=!0,rerenderOnCallbackChange:p=!1,...w}=e,N=n.size,j=v.useCallback(()=>typeof N>"u"?{}:n.execution==="execute"?ll.invisible:n.appearance==="interaction-only"?ll.interactionOnly:ll[N],[n.execution,N,n.appearance]),[S,_]=v.useState(j()),k=v.useRef(null),[C,E]=v.useState(!1),P=v.useRef(void 0),R=v.useRef(!1),O=y||Koe,I=v.useRef({onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h});v.useEffect(()=>{p||(I.current={onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h})});let T=(r==null?void 0:r.id)||aC,D=Qoe(T),q=(r==null?void 0:r.onLoadCallbackName)||iC,A=n.appearance||"always",$=v.useMemo(()=>({sitekey:s,action:n.action,cData:n.cData,theme:n.theme||"auto",language:n.language||"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:Yoe(N),retry:n.retry||"auto","retry-interval":n.retryInterval||8e3,"refresh-expired":n.refreshExpired||"auto","refresh-timeout":n.refreshTimeout||"auto",execution:n.execution||"render",appearance:n.appearance||"always","feedback-enabled":n.feedbackEnabled||!0,callback:Y=>{var L,K;R.current=!0,p?o==null||o(Y):(K=(L=I.current).onSuccess)==null||K.call(L,Y)},"error-callback":p?c:(...Y)=>{var L,K;return(K=(L=I.current).onError)==null?void 0:K.call(L,...Y)},"expired-callback":p?l:(...Y)=>{var L,K;return(K=(L=I.current).onExpire)==null?void 0:K.call(L,...Y)},"before-interactive-callback":p?u:(...Y)=>{var L,K;return(K=(L=I.current).onBeforeInteractive)==null?void 0:K.call(L,...Y)},"after-interactive-callback":p?d:(...Y)=>{var L,K;return(K=(L=I.current).onAfterInteractive)==null?void 0:K.call(L,...Y)},"unsupported-callback":p?f:(...Y)=>{var L,K;return(K=(L=I.current).onUnsupported)==null?void 0:K.call(L,...Y)},"timeout-callback":p?h:(...Y)=>{var L,K;return(K=(L=I.current).onTimeout)==null?void 0:K.call(L,...Y)}}),[n.action,n.appearance,n.cData,n.execution,n.language,n.refreshExpired,n.responseField,n.responseFieldName,n.retry,n.retryInterval,n.tabIndex,n.theme,n.feedbackEnabled,n.refreshTimeout,s,N,p,p?o:null,p?c:null,p?l:null,p?u:null,p?d:null,p?f:null,p?h:null]),H=v.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return v.useEffect(function(){b&&!C&&Goe({onLoadCallbackName:q,scriptOptions:{...r,id:T}})},[b,C,r,T]),v.useEffect(function(){vh!=="ready"&&Zoe(q).then(()=>E(!0)).catch(console.error)},[]),v.useEffect(function(){if(!k.current||!C)return;let Y=!1;return(async()=>{if(Y||!k.current)return;let L=window.turnstile.render(k.current,$);P.current=L,P.current&&(i==null||i(P.current))})(),()=>{Y=!0,P.current&&(window.turnstile.remove(P.current),R.current=!1)}},[O,C,$]),v.useImperativeHandle(t,()=>{let{turnstile:Y}=window;return{getResponse(){if(!(Y!=null&&Y.getResponse)||!P.current||!H()){console.warn("Turnstile has not been loaded");return}return Y.getResponse(P.current)},async getResponsePromise(L=3e4,K=100){return new Promise((re,ae)=>{let be,ee=async()=>{if(R.current&&window.turnstile&&P.current)try{let se=window.turnstile.getResponse(P.current);return be&&clearTimeout(be),se?re(se):ae(new Error("No response received"))}catch(se){return be&&clearTimeout(be),console.warn("Failed to get response",se),ae(new Error("Failed to get response"))}be||(be=setTimeout(()=>{be&&clearTimeout(be),ae(new Error("Timeout"))},L)),await new Promise(se=>setTimeout(se,K)),await ee()};ee()})},reset(){if(!(Y!=null&&Y.reset)||!P.current||!H()){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&_(ll.invisible);try{R.current=!1,Y.reset(P.current)}catch(L){console.warn(`Failed to reset Turnstile widget ${P}`,L)}},remove(){if(!(Y!=null&&Y.remove)||!P.current||!H()){console.warn("Turnstile has not been loaded");return}_(ll.invisible),R.current=!1,Y.remove(P.current),P.current=null},render(){if(!(Y!=null&&Y.render)||!k.current||!H()||P.current){console.warn("Turnstile has not been loaded or container not found");return}let L=Y.render(k.current,$);return P.current=L,P.current&&(i==null||i(P.current)),n.execution!=="execute"&&_(N?ll[N]:{}),L},execute(){if(n.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!(Y!=null&&Y.execute)||!k.current||!P.current||!H()){console.warn("Turnstile has not been loaded or container not found");return}Y.execute(k.current,$),_(N?ll[N]:{})},isExpired(){return!(Y!=null&&Y.isExpired)||!P.current||!H()?(console.warn("Turnstile has not been loaded"),!1):Y.isExpired(P.current)}}},[P,n.execution,N,$,k,H,C,i]),v.useEffect(()=>{D&&!C&&window.turnstile&&E(!0)},[C,D]),v.useEffect(()=>{_(j())},[n.execution,N,A]),v.useEffect(()=>{!D||typeof g!="function"||g()},[D]),a.jsx(Woe,{ref:k,as:x,id:O,style:{...S,...m},...w})});oC.displayName="Turnstile";const Joe=Qa({email:jt().email("Please enter a valid email address"),password:jt().min(1,"Password is required")});function ele(){const[,e]=ss(),{toast:t}=At(),{signIn:r,isSupabaseConfigured:n,isLoading:s}=Qd(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState(null),g=v.useRef(null);v.useEffect(()=>{fetch("/api/public-config").then(x=>x.json()).then(x=>{x.turnstileSiteKey&&h(x.turnstileSiteKey)}).catch(()=>{})},[]);const y=xa({resolver:ba(Joe),defaultValues:{email:"",password:""}}),m=async x=>{var b;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(f&&!u){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}c(!0);try{const{error:p,requiresEmailVerification:w}=await r(x.email,x.password);p?(t(w?{title:"Email Verification Required",description:"Please check your inbox and verify your email address before signing in.",variant:"destructive"}:{title:"Login failed",description:p.message||"Invalid email or password",variant:"destructive"}),(b=g.current)==null||b.reset(),d(null)):(t({title:"Welcome back!",description:"You have successfully logged in."}),e("/"))}catch{t({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{c(!1)}};return s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(le,{className:"w-full max-w-md",children:a.jsx(ue,{className:"flex items-center justify-center py-12",children:a.jsx(it,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx(oe,{href:"/",children:a.jsxs(U,{variant:"ghost",size:"sm",className:"gap-1","data-testid":"button-back",children:[a.jsx(In,{className:"w-4 h-4"}),"Back"]})}),a.jsx(oe,{href:"/",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:a.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})}),a.jsx("div",{className:"w-16"})]}),a.jsx(et,{className:"text-2xl font-bold",children:"Welcome Back"}),a.jsx(Kt,{children:"Sign in to your Quarterdeck account"})]}),a.jsxs(ue,{children:[a.jsx(ja,{...y,children:a.jsxs("form",{onSubmit:y.handleSubmit(m),className:"space-y-4",children:[a.jsx(tt,{control:y.control,name:"email",render:({field:x})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...x})}),a.jsx(st,{})]})}),a.jsx(tt,{control:y.control,name:"password",render:({field:x})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Password"}),a.jsx(Xe,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:i?"text":"password",placeholder:"Enter your password","data-testid":"input-password",...x}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?a.jsx(Wh,{className:"h-4 w-4"}):a.jsx(Mo,{className:"h-4 w-4"})})]})}),a.jsx(st,{})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx(oe,{href:"/forgot-password",className:"text-sm text-muted-foreground hover:underline","data-testid":"link-forgot-password",children:"Forgot password?"})}),f&&a.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:a.jsx(oC,{ref:g,siteKey:f,options:{theme:"dark"},onSuccess:x=>d(x),onError:()=>d(null),onExpire:()=>d(null)})}),a.jsx(U,{type:"submit",className:"w-full",disabled:l,"data-testid":"button-login",children:l?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),a.jsx("div",{className:"mt-6",children:a.jsx(H6,{mode:"signin"})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),a.jsx(oe,{href:"/signup",className:"font-medium hover:underline","data-testid":"link-signup",children:"Sign up"})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsx(Ge,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),a.jsxs(ue,{children:[a.jsxs(Cp,{variant:"destructive",children:[a.jsx($n,{className:"h-4 w-4"}),a.jsx(Pp,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(oe,{href:"/",children:a.jsx(U,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}function lC(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wb="Checkbox",[tle]=yn(wb),[rle,cC]=tle(wb);function nle(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,g]=rs({prop:r,defaultProp:s??!1,onChange:c,caller:wb}),[y,m]=v.useState(null),[x,b]=v.useState(null),p=v.useRef(!1),w=y?!!o||!!y.closest("form"):!0,N={checked:h,disabled:i,setChecked:g,control:y,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:p,required:u,defaultChecked:Oo(s)?!1:s,isFormControl:w,bubbleInput:x,setBubbleInput:b};return a.jsx(rle,{scope:t,...N,children:sle(f)?f(N):n})}var Y6="CheckboxTrigger",Q6=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:g,bubbleInput:y}=cC(Y6,e),m=rt(s,d),x=v.useRef(c);return v.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const p=()=>f(x.current);return b.addEventListener("reset",p),()=>b.removeEventListener("reset",p)}},[i,f]),a.jsx(Oe.button,{type:"button",role:"checkbox","aria-checked":Oo(c)?"mixed":c,"aria-required":u,"data-state":tU(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:me(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:me(r,b=>{f(p=>Oo(p)?!0:!p),y&&g&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});Q6.displayName=Y6;var uC=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(nle,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(Q6,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx(eU,{__scopeCheckbox:r})]})})});uC.displayName=wb;var X6="CheckboxIndicator",Z6=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=cC(X6,r);return a.jsx(Xr,{present:n||Oo(i.checked)||i.checked===!0,children:a.jsx(Oe.span,{"data-state":tU(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Z6.displayName=X6;var J6="CheckboxBubbleInput",eU=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:g}=cC(J6,e),y=rt(r,g),m=lC(i),x=tk(n);v.useEffect(()=>{const p=h;if(!p)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,S=!s.current;if(m!==i&&j){const _=new Event("click",{bubbles:S});p.indeterminate=Oo(i),j.call(p,Oo(i)?!1:i),p.dispatchEvent(_)}},[h,m,i,s]);const b=v.useRef(Oo(i)?!1:i);return a.jsx(Oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});eU.displayName=J6;function sle(e){return typeof e=="function"}function Oo(e){return e==="indeterminate"}function tU(e){return Oo(e)?"indeterminate":e?"checked":"unchecked"}const rU=v.forwardRef(({className:e,...t},r)=>a.jsx(uC,{ref:r,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(Z6,{className:fe("flex items-center justify-center text-current"),children:a.jsx(an,{className:"h-4 w-4"})})}));rU.displayName=uC.displayName;const ale=Qa({email:jt().email("Please enter a valid email address"),password:jt().min(8,"Password must be at least 8 characters"),confirmPassword:jt(),firstName:jt().min(1,"First name is required"),lastName:jt().min(1,"Last name is required"),phone:jt().optional(),termsAccepted:Lk().refine(e=>e===!0,{message:"You must accept the terms and conditions"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function ile(){const[,e]=ss(),{toast:t}=At(),{signUp:r,isSupabaseConfigured:n,isLoading:s}=Qd(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(null),[g,y]=v.useState(null),m=v.useRef(null);v.useEffect(()=>{fetch("/api/public-config").then(p=>p.json()).then(p=>{p.turnstileSiteKey&&y(p.turnstileSiteKey)}).catch(()=>{})},[]);const x=xa({resolver:ba(ale),defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",termsAccepted:!1}}),b=async p=>{var w;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(g&&!f){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}d(!0);try{const{error:N}=await r(p.email,p.password,{firstName:p.firstName,lastName:p.lastName});N?(t({title:"Signup failed",description:N.message||"Failed to create account",variant:"destructive"}),(w=m.current)==null||w.reset(),h(null)):(t({title:"Account created!",description:"Please check your email to verify your account."}),e("/login"))}catch{t({title:"Signup failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}};return s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(le,{className:"w-full max-w-md",children:a.jsx(ue,{className:"flex items-center justify-center py-12",children:a.jsx(it,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(oe,{href:"/",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:a.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Create Account"}),a.jsx(Kt,{children:"Join The Quarterdeck community"})]}),a.jsxs(ue,{children:[a.jsx(ja,{...x,children:a.jsxs("form",{onSubmit:x.handleSubmit(b),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(tt,{control:x.control,name:"firstName",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"First Name"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"John","data-testid":"input-first-name",...p})}),a.jsx(st,{})]})}),a.jsx(tt,{control:x.control,name:"lastName",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Last Name"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"Doe","data-testid":"input-last-name",...p})}),a.jsx(st,{})]})})]}),a.jsx(tt,{control:x.control,name:"email",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...p})}),a.jsx(st,{})]})}),a.jsx(tt,{control:x.control,name:"phone",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone (Optional)"}),a.jsx(Xe,{children:a.jsx(ne,{type:"tel",placeholder:"+92 300 1234567","data-testid":"input-phone",...p})}),a.jsx(st,{})]})}),a.jsx(tt,{control:x.control,name:"password",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Password"}),a.jsx(Xe,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...p}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?a.jsx(Wh,{className:"h-4 w-4"}):a.jsx(Mo,{className:"h-4 w-4"})})]})}),a.jsx(st,{})]})}),a.jsx(tt,{control:x.control,name:"confirmPassword",render:({field:p})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Confirm Password"}),a.jsx(Xe,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...p}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?a.jsx(Wh,{className:"h-4 w-4"}):a.jsx(Mo,{className:"h-4 w-4"})})]})}),a.jsx(st,{})]})}),a.jsx(tt,{control:x.control,name:"termsAccepted",render:({field:p})=>a.jsxs(Qe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Xe,{children:a.jsx(rU,{checked:p.value,onCheckedChange:p.onChange,"data-testid":"checkbox-terms"})}),a.jsxs("div",{className:"space-y-1 leading-none",children:[a.jsxs(nt,{className:"text-sm font-normal",children:["I agree to the"," ",a.jsx(oe,{href:"/terms",className:"underline hover:no-underline","data-testid":"link-terms",children:"Terms of Service"})," ","and"," ",a.jsx(oe,{href:"/privacy",className:"underline hover:no-underline","data-testid":"link-privacy",children:"Privacy Policy"})]}),a.jsx(st,{})]})]})}),g&&a.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:a.jsx(oC,{ref:m,siteKey:g,options:{theme:"dark"},onSuccess:p=>h(p),onError:()=>h(null),onExpire:()=>h(null)})}),a.jsx(U,{type:"submit",className:"w-full",disabled:u,"data-testid":"button-signup",children:u?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})}),a.jsx("div",{className:"mt-6",children:a.jsx(H6,{mode:"signup"})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),a.jsx(oe,{href:"/login",className:"font-medium hover:underline","data-testid":"link-login",children:"Sign in"})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsx(Ge,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),a.jsxs(ue,{children:[a.jsxs(Cp,{variant:"destructive",children:[a.jsx($n,{className:"h-4 w-4"}),a.jsx(Pp,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(oe,{href:"/",children:a.jsx(U,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}const ole=Qa({email:jt().email("Please enter a valid email address")});function lle(){const{toast:e}=At(),{resetPassword:t,isSupabaseConfigured:r}=Qd(),[n,s]=v.useState(!1),[i,o]=v.useState(!1),l=xa({resolver:ba(ole),defaultValues:{email:""}}),c=async u=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}o(!0);try{const{error:d}=await t(u.email);d?e({title:"Error",description:d.message||"Failed to send reset email",variant:"destructive"}):s(!0)}catch{e({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}};return r?n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ns,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Check Your Email"}),a.jsx(Kt,{children:"If an account exists with that email, we've sent password reset instructions."})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:"The link will expire in 60 minutes."}),a.jsxs("p",{className:"mt-2",children:["Didn't receive the email? Check your spam folder or"," ",a.jsx("button",{onClick:()=>s(!1),className:"font-medium underline hover:no-underline","data-testid":"button-try-again",children:"try again"})]})]}),a.jsx(oe,{href:"/login",children:a.jsxs(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:[a.jsx(In,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:a.jsx(cp,{className:"h-8 w-8 text-muted-foreground"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Forgot Password?"}),a.jsx(Kt,{children:"Enter your email address and we'll send you a link to reset your password."})]}),a.jsxs(ue,{children:[a.jsx(ja,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[a.jsx(tt,{control:l.control,name:"email",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...u})}),a.jsx(st,{})]})}),a.jsx(U,{type:"submit",className:"w-full",disabled:i,"data-testid":"button-send-reset",children:i?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(oe,{href:"/login",className:"text-sm text-muted-foreground hover:underline inline-flex items-center gap-1","data-testid":"link-back-to-login",children:[a.jsx(In,{className:"h-3 w-3"}),"Back to Sign In"]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsx(Ge,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Service Unavailable"})}),a.jsxs(ue,{children:[a.jsxs(Cp,{variant:"destructive",children:[a.jsx($n,{className:"h-4 w-4"}),a.jsx(Pp,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(oe,{href:"/login",children:a.jsx(U,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}const cle=Qa({password:jt().min(8,"Password must be at least 8 characters"),confirmPassword:jt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function ule(){ss();const{toast:e}=At(),{updatePassword:t,isSupabaseConfigured:r,isAuthenticated:n,isLoading:s}=Qd(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(!1),[g,y]=v.useState(!0),m=xa({resolver:ba(cle),defaultValues:{password:"",confirmPassword:""}});v.useEffect(()=>{if(!s){const b=setTimeout(()=>{y(!1)},1e3);return()=>clearTimeout(b)}},[s]);const x=async b=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}h(!0);try{const{error:p}=await t(b.password);p?e({title:"Reset failed",description:p.message||"Failed to reset password",variant:"destructive"}):d(!0)}catch{e({title:"Reset failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{h(!1)}};return g||s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(le,{className:"w-full max-w-md",children:a.jsxs(ue,{className:"flex flex-col items-center justify-center py-8 gap-3",children:[a.jsx(it,{className:"h-8 w-8 animate-spin text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying your session..."})]})})}):r?n?u?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ns,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Password Reset!"}),a.jsx(Kt,{children:"Your password has been successfully reset. You can now sign in with your new password."})]}),a.jsx(ue,{children:a.jsx(oe,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-go-to-login",children:"Sign In"})})})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(oe,{href:"/",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:a.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Reset Password"}),a.jsx(Kt,{children:"Enter your new password below"})]}),a.jsx(ue,{children:a.jsx(ja,{...m,children:a.jsxs("form",{onSubmit:m.handleSubmit(x),className:"space-y-4",children:[a.jsx(tt,{control:m.control,name:"password",render:({field:b})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"New Password"}),a.jsx(Xe,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...b}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?a.jsx(Wh,{className:"h-4 w-4"}):a.jsx(Mo,{className:"h-4 w-4"})})]})}),a.jsx(st,{})]})}),a.jsx(tt,{control:m.control,name:"confirmPassword",render:({field:b})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Confirm New Password"}),a.jsx(Xe,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...b}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?a.jsx(Wh,{className:"h-4 w-4"}):a.jsx(Mo,{className:"h-4 w-4"})})]})}),a.jsx(st,{})]})}),a.jsx(U,{type:"submit",className:"w-full",disabled:f,"data-testid":"button-reset-password",children:f?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx($n,{className:"h-8 w-8 text-destructive"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Session Expired"}),a.jsx(Kt,{children:"Your password reset link has expired or is invalid. Please request a new one."})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx(oe,{href:"/forgot-password",children:a.jsx(U,{className:"w-full","data-testid":"button-request-new-link",children:"Request New Reset Link"})}),a.jsx(oe,{href:"/login",children:a.jsx(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsx(Ge,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Service Unavailable"})}),a.jsxs(ue,{children:[a.jsxs(Cp,{variant:"destructive",children:[a.jsx($n,{className:"h-4 w-4"}),a.jsx(Pp,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(oe,{href:"/login",children:a.jsx(U,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}function dle(){const[,e]=ss(),{isAuthenticated:t,isLoading:r}=Qd(),[n,s]=v.useState("checking");return v.useEffect(()=>{(async()=>{const o=window.location.hash;o&&o.includes("access_token"),r||(t?(s("verified"),setTimeout(()=>{e("/")},2e3)):s("pending"))})()},[t,r,e]),n==="checking"||r?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(le,{className:"w-full max-w-md",children:a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(it,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),a.jsx(et,{className:"text-2xl font-bold",children:"Verifying Email"}),a.jsx(Kt,{children:"Please wait while we verify your email address..."})]})})}):n==="verified"?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ns,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Email Verified!"}),a.jsx(Kt,{children:"Your email has been successfully verified. Redirecting you shortly..."})]}),a.jsx(ue,{children:a.jsx(oe,{href:"/",children:a.jsx(U,{className:"w-full","data-testid":"button-go-home",children:"Go to Homepage"})})})]})}):n==="error"||!uF()?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx($n,{className:"h-8 w-8 text-destructive"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Verification Failed"}),a.jsx(Kt,{children:"This verification link is invalid or has expired."})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx(oe,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Need a new verification link? Sign up again or contact support."})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:a.jsx(cp,{className:"h-8 w-8 text-muted-foreground"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Check Your Email"}),a.jsx(Kt,{children:"We've sent a verification link to your email address. Click the link in the email to verify your account."})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:"The link will expire in 24 hours."}),a.jsx("p",{className:"mt-2",children:"Didn't receive the email? Check your spam folder."})]}),a.jsx(oe,{href:"/login",children:a.jsx(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})})}function fle(){const[,e]=ss(),[t,r]=v.useState("loading"),[n,s]=v.useState("");return v.useEffect(()=>{const o=setTimeout(async()=>{{r("error"),s("Authentication is not configured.");return}},100);return()=>clearTimeout(o)},[e]),t==="loading"?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(le,{className:"w-full max-w-md",children:a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(it,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),a.jsx(et,{className:"text-2xl font-bold",children:"Processing"}),a.jsx(Kt,{children:"Please wait while we complete your request..."})]})})}):t==="success"?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(le,{className:"w-full max-w-md",children:a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ns,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Success!"}),a.jsx(Kt,{children:n})]})})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx($n,{className:"h-8 w-8 text-destructive"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Something Went Wrong"}),a.jsx(Kt,{children:n})]}),a.jsx(ue,{className:"space-y-4",children:a.jsx(oe,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})})})]})})}var dO=1,hle=.9,mle=.8,ple=.17,Cw=.1,Pw=.999,gle=.9999,vle=.99,yle=/[\\\/_+.#"@\[\(\{&]/,xle=/[\\\/_+.#"@\[\(\{&]/g,ble=/[\s-]/,nU=/[\s-]/g;function rN(e,t,r,n,s,i,o){if(i===t.length)return s===e.length?dO:vle;var l=`${s},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),u=r.indexOf(c,s),d=0,f,h,g,y;u>=0;)f=rN(e,t,r,n,u+1,i+1,o),f>d&&(u===s?f*=dO:yle.test(e.charAt(u-1))?(f*=mle,g=e.slice(s,u-1).match(xle),g&&s>0&&(f*=Math.pow(Pw,g.length))):ble.test(e.charAt(u-1))?(f*=hle,y=e.slice(s,u-1).match(nU),y&&s>0&&(f*=Math.pow(Pw,y.length))):(f*=ple,s>0&&(f*=Math.pow(Pw,u-s))),e.charAt(u)!==t.charAt(i)&&(f*=gle)),(f<Cw&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=rN(e,t,r,n,u+1,i+2,o),h*Cw>f&&(f=h*Cw)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function fO(e){return e.toLowerCase().replace(nU," ")}function wle(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,rN(e,t,fO(e),fO(t),0,0,{})}var Of='[cmdk-group=""]',Ew='[cmdk-group-items=""]',jle='[cmdk-group-heading=""]',sU='[cmdk-item=""]',hO=`${sU}:not([aria-disabled="true"])`,nN="cmdk-item-select",tu="data-value",Nle=(e,t,r)=>wle(e,t,r),aU=v.createContext(void 0),Ep=()=>v.useContext(aU),iU=v.createContext(void 0),dC=()=>v.useContext(iU),oU=v.createContext(void 0),lU=v.forwardRef((e,t)=>{let r=ru(()=>{var L,K;return{search:"",value:(K=(L=e.value)!=null?L:e.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=ru(()=>new Set),s=ru(()=>new Map),i=ru(()=>new Map),o=ru(()=>new Set),l=cU(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:g,loop:y,disablePointerSelection:m=!1,vimBindings:x=!0,...b}=e,p=Rr(),w=Rr(),N=Rr(),j=v.useRef(null),S=Rle();cc(()=>{if(d!==void 0){let L=d.trim();r.current.value=L,_.emit()}},[d]),cc(()=>{S(6,O)},[]);let _=v.useMemo(()=>({subscribe:L=>(o.current.add(L),()=>o.current.delete(L)),snapshot:()=>r.current,setState:(L,K,re)=>{var ae,be,ee,se;if(!Object.is(r.current[L],K)){if(r.current[L]=K,L==="search")R(),E(),S(1,P);else if(L==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Q=document.getElementById(N);Q?Q.focus():(ae=document.getElementById(p))==null||ae.focus()}if(S(7,()=>{var Q;r.current.selectedItemId=(Q=I())==null?void 0:Q.id,_.emit()}),re||S(5,O),((be=l.current)==null?void 0:be.value)!==void 0){let Q=K??"";(se=(ee=l.current).onValueChange)==null||se.call(ee,Q);return}}_.emit()}},emit:()=>{o.current.forEach(L=>L())}}),[]),k=v.useMemo(()=>({value:(L,K,re)=>{var ae;K!==((ae=i.current.get(L))==null?void 0:ae.value)&&(i.current.set(L,{value:K,keywords:re}),r.current.filtered.items.set(L,C(K,re)),S(2,()=>{E(),_.emit()}))},item:(L,K)=>(n.current.add(L),K&&(s.current.has(K)?s.current.get(K).add(L):s.current.set(K,new Set([L]))),S(3,()=>{R(),E(),r.current.value||P(),_.emit()}),()=>{i.current.delete(L),n.current.delete(L),r.current.filtered.items.delete(L);let re=I();S(4,()=>{R(),(re==null?void 0:re.getAttribute("id"))===L&&P(),_.emit()})}),group:L=>(s.current.has(L)||s.current.set(L,new Set),()=>{i.current.delete(L),s.current.delete(L)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:p,inputId:N,labelId:w,listInnerRef:j}),[]);function C(L,K){var re,ae;let be=(ae=(re=l.current)==null?void 0:re.filter)!=null?ae:Nle;return L?be(L,r.current.search,K):0}function E(){if(!r.current.search||l.current.shouldFilter===!1)return;let L=r.current.filtered.items,K=[];r.current.filtered.groups.forEach(ae=>{let be=s.current.get(ae),ee=0;be.forEach(se=>{let Q=L.get(se);ee=Math.max(Q,ee)}),K.push([ae,ee])});let re=j.current;T().sort((ae,be)=>{var ee,se;let Q=ae.getAttribute("id"),X=be.getAttribute("id");return((ee=L.get(X))!=null?ee:0)-((se=L.get(Q))!=null?se:0)}).forEach(ae=>{let be=ae.closest(Ew);be?be.appendChild(ae.parentElement===be?ae:ae.closest(`${Ew} > *`)):re.appendChild(ae.parentElement===re?ae:ae.closest(`${Ew} > *`))}),K.sort((ae,be)=>be[1]-ae[1]).forEach(ae=>{var be;let ee=(be=j.current)==null?void 0:be.querySelector(`${Of}[${tu}="${encodeURIComponent(ae[0])}"]`);ee==null||ee.parentElement.appendChild(ee)})}function P(){let L=T().find(re=>re.getAttribute("aria-disabled")!=="true"),K=L==null?void 0:L.getAttribute(tu);_.setState("value",K||void 0)}function R(){var L,K,re,ae;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let be=0;for(let ee of n.current){let se=(K=(L=i.current.get(ee))==null?void 0:L.value)!=null?K:"",Q=(ae=(re=i.current.get(ee))==null?void 0:re.keywords)!=null?ae:[],X=C(se,Q);r.current.filtered.items.set(ee,X),X>0&&be++}for(let[ee,se]of s.current)for(let Q of se)if(r.current.filtered.items.get(Q)>0){r.current.filtered.groups.add(ee);break}r.current.filtered.count=be}function O(){var L,K,re;let ae=I();ae&&(((L=ae.parentElement)==null?void 0:L.firstChild)===ae&&((re=(K=ae.closest(Of))==null?void 0:K.querySelector(jle))==null||re.scrollIntoView({block:"nearest"})),ae.scrollIntoView({block:"nearest"}))}function I(){var L;return(L=j.current)==null?void 0:L.querySelector(`${sU}[aria-selected="true"]`)}function T(){var L;return Array.from(((L=j.current)==null?void 0:L.querySelectorAll(hO))||[])}function D(L){let K=T()[L];K&&_.setState("value",K.getAttribute(tu))}function q(L){var K;let re=I(),ae=T(),be=ae.findIndex(se=>se===re),ee=ae[be+L];(K=l.current)!=null&&K.loop&&(ee=be+L<0?ae[ae.length-1]:be+L===ae.length?ae[0]:ae[be+L]),ee&&_.setState("value",ee.getAttribute(tu))}function A(L){let K=I(),re=K==null?void 0:K.closest(Of),ae;for(;re&&!ae;)re=L>0?Tle(re,Of):Ile(re,Of),ae=re==null?void 0:re.querySelector(hO);ae?_.setState("value",ae.getAttribute(tu)):q(L)}let $=()=>D(T().length-1),H=L=>{L.preventDefault(),L.metaKey?$():L.altKey?A(1):q(1)},Y=L=>{L.preventDefault(),L.metaKey?D(0):L.altKey?A(-1):q(-1)};return v.createElement(Oe.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:L=>{var K;(K=b.onKeyDown)==null||K.call(b,L);let re=L.nativeEvent.isComposing||L.keyCode===229;if(!(L.defaultPrevented||re))switch(L.key){case"n":case"j":{x&&L.ctrlKey&&H(L);break}case"ArrowDown":{H(L);break}case"p":case"k":{x&&L.ctrlKey&&Y(L);break}case"ArrowUp":{Y(L);break}case"Home":{L.preventDefault(),D(0);break}case"End":{L.preventDefault(),$();break}case"Enter":{L.preventDefault();let ae=I();if(ae){let be=new Event(nN);ae.dispatchEvent(be)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:Mle},c),jb(e,L=>v.createElement(iU.Provider,{value:_},v.createElement(aU.Provider,{value:k},L))))}),Sle=v.forwardRef((e,t)=>{var r,n;let s=Rr(),i=v.useRef(null),o=v.useContext(oU),l=Ep(),c=cU(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;cc(()=>{if(!u)return l.item(s,o==null?void 0:o.id)},[u]);let d=uU(s,i,[e.value,e.children,i],e.keywords),f=dC(),h=zo(S=>S.value&&S.value===d.current),g=zo(S=>u||l.filter()===!1?!0:S.search?S.filtered.items.get(s)>0:!0);v.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(nN,y),()=>S.removeEventListener(nN,y)},[g,e.onSelect,e.disabled]);function y(){var S,_;m(),(_=(S=c.current).onSelect)==null||_.call(S,d.current)}function m(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:x,value:b,onSelect:p,forceMount:w,keywords:N,...j}=e;return v.createElement(Oe.div,{ref:Un(i,t),...j,id:s,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!h,"data-disabled":!!x,"data-selected":!!h,onPointerMove:x||l.getDisablePointerSelection()?void 0:m,onClick:x?void 0:y},e.children)}),_le=v.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...i}=e,o=Rr(),l=v.useRef(null),c=v.useRef(null),u=Rr(),d=Ep(),f=zo(g=>s||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);cc(()=>d.group(o),[]),uU(o,l,[e.value,e.heading,c]);let h=v.useMemo(()=>({id:o,forceMount:s}),[s]);return v.createElement(Oe.div,{ref:Un(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),jb(e,g=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},v.createElement(oU.Provider,{value:h},g))))}),kle=v.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=v.useRef(null),i=zo(o=>!o.search);return!r&&!i?null:v.createElement(Oe.div,{ref:Un(s,t),...n,"cmdk-separator":"",role:"separator"})}),Cle=v.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,i=dC(),o=zo(u=>u.search),l=zo(u=>u.selectedItemId),c=Ep();return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(Oe.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?e.value:o,onChange:u=>{s||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Ple=v.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,i=v.useRef(null),o=v.useRef(null),l=zo(u=>u.selectedItemId),c=Ep();return v.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),v.createElement(Oe.div,{ref:Un(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},jb(e,u=>v.createElement("div",{ref:Un(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Ele=v.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...l}=e;return v.createElement(Vk,{open:r,onOpenChange:n},v.createElement(qk,{container:o},v.createElement(hb,{"cmdk-overlay":"",className:s}),v.createElement(mb,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(lU,{ref:t,...l}))))}),Ale=v.forwardRef((e,t)=>zo(r=>r.filtered.count===0)?v.createElement(Oe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Ole=v.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...i}=e;return v.createElement(Oe.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},jb(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),is=Object.assign(lU,{List:Ple,Item:Sle,Input:Cle,Group:_le,Separator:kle,Dialog:Ele,Empty:Ale,Loading:Ole});function Tle(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Ile(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function cU(e){let t=v.useRef(e);return cc(()=>{t.current=e}),t}var cc=typeof window>"u"?v.useEffect:v.useLayoutEffect;function ru(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function zo(e){let t=dC(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function uU(e,t,r,n=[]){let s=v.useRef(),i=Ep();return cc(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(tu,l),s.current=l}),s}var Rle=()=>{let[e,t]=v.useState(),r=ru(()=>new Map);return cc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function $le(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function jb({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement($le(t),{ref:t.ref},r(t.props.children)):r(t)}var Mle={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const dU=v.forwardRef(({className:e,...t},r)=>a.jsx(is,{ref:r,className:fe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));dU.displayName=is.displayName;const Dle=({children:e,...t})=>a.jsx(xr,{...t,children:a.jsx(cr,{className:"overflow-hidden p-0 shadow-lg",children:a.jsx(dU,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),fU=v.forwardRef(({className:e,...t},r)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(Lx,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(is.Input,{ref:r,className:fe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));fU.displayName=is.Input.displayName;const hU=v.forwardRef(({className:e,...t},r)=>a.jsx(is.List,{ref:r,className:fe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));hU.displayName=is.List.displayName;const mU=v.forwardRef((e,t)=>a.jsx(is.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));mU.displayName=is.Empty.displayName;const Zf=v.forwardRef(({className:e,...t},r)=>a.jsx(is.Group,{ref:r,className:fe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Zf.displayName=is.Group.displayName;const Lle=v.forwardRef(({className:e,...t},r)=>a.jsx(is.Separator,{ref:r,className:fe("-mx-1 h-px bg-border",e),...t}));Lle.displayName=is.Separator.displayName;const Jf=v.forwardRef(({className:e,...t},r)=>a.jsx(is.Item,{ref:r,className:fe("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));Jf.displayName=is.Item.displayName;const Fle=3e4,mO=["mousemove","keydown","click","scroll","touchstart"],Ule=5e3;function Ble(){const[,e]=ss(),{toast:t}=At(),[r,n]=v.useState(null),s=v.useRef(Date.now()),i=v.useRef(null),o=v.useRef(!1),l=v.useCallback((d,f)=>{i.current&&clearInterval(i.current),t({variant:"destructive",title:"Session Expired",description:d||"Please log in again to continue."}),setTimeout(()=>{e("/login")},1500)},[t,e]),c=v.useCallback(async()=>{try{const f=await(await Ae("POST","/api/admin/heartbeat")).json();f.success&&(n({sessionRemainingMs:f.sessionRemainingMs,inactivityTimeoutMs:f.inactivityTimeoutMs,reauthTimeoutMs:f.reauthTimeoutMs,isActive:!0}),o.current=!1)}catch(d){(d==null?void 0:d.code)==="ADMIN_REAUTH_REQUIRED"||(d==null?void 0:d.code)==="ADMIN_INACTIVITY_TIMEOUT"?l(d.reason||d.message,d.code):((d==null?void 0:d.status)===401||(d==null?void 0:d.status)===403)&&l("Your session has expired. Please log in again.","SESSION_EXPIRED")}},[l]),u=v.useCallback(()=>{const d=Date.now();d-s.current>Ule&&(s.current=d,c())},[c]);return v.useEffect(()=>(c(),i.current=setInterval(c,Fle),mO.forEach(d=>{window.addEventListener(d,u,{passive:!0})}),()=>{i.current&&clearInterval(i.current),mO.forEach(d=>{window.removeEventListener(d,u)})}),[c,u]),v.useEffect(()=>{if(r&&r.sessionRemainingMs<6e4&&!o.current){o.current=!0;const d=Math.ceil(r.sessionRemainingMs/6e4);t({variant:"default",title:"Session Expiring Soon",description:`Your admin session will expire in ${d} minute(s). You will need to log in again.`})}},[r,t]),{sessionState:r,sendHeartbeat:c}}function Vle(e){return[{path:e,label:"Dashboard",icon:vK},{path:`${e}/branding`,label:"Branding & Nav",icon:_K},{path:`${e}/homepage`,label:"Site Content",icon:H_},{path:`${e}/coming-soon`,label:"Coming Soon",icon:_r},{path:`${e}/facilities`,label:"Facilities",icon:kn},{path:`${e}/bookings`,label:"Bookings",icon:W_},{path:`${e}/members`,label:"Members",icon:Qr},{path:`${e}/roadmap`,label:"Construction Status",icon:KD},{path:`${e}/events`,label:"Events & Academies",icon:gn},{path:`${e}/pricing`,label:"Pricing Tiers",icon:v1},{path:`${e}/announcements`,label:"Announcements",icon:nd},{path:`${e}/careers`,label:"Careers",icon:Vh},{path:`${e}/rules`,label:"Rules & Safety",icon:ec},{path:`${e}/faq`,label:"FAQ",icon:Eo},{path:`${e}/policies`,label:"Privacy & Terms",icon:Hh},{path:`${e}/gallery`,label:"Gallery",icon:Ei},{path:`${e}/site-images`,label:"Site Images",icon:Ei}]}function Nt({children:e,title:t}){var b,p;const[r,n]=ss(),[s,i]=v.useState(!1),[o,l]=v.useState(!1),{adminPath:c}=mp();Ble();const u=`/${c}`,d=v.useMemo(()=>Vle(u),[u]),{data:f,isLoading:h}=ve({queryKey:["/api/auth/user"]}),{data:g}=ve({queryKey:["/api/admin/users"]}),{data:y}=ve({queryKey:["/api/admin/bookings"]}),{data:m}=ve({queryKey:["/api/admin/facilities"]});v.useEffect(()=>{const w=N=>{N.key==="k"&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),l(j=>!j))};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[]);const x=v.useCallback(w=>{l(!1),n(w)},[n]);return h?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!f||f.role!=="ADMIN"&&f.role!=="SUPER_ADMIN"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"You need administrator privileges to access this page."}),a.jsx(oe,{href:"/",children:a.jsxs(U,{children:[a.jsx(In,{className:"w-4 h-4 mr-2"})," Return to Home"]})})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(U,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 lg:hidden",onClick:()=>i(!s),"data-testid":"button-mobile-menu",children:s?a.jsx(sd,{className:"h-5 w-5"}):a.jsx(XD,{className:"h-5 w-5"})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),a.jsx("aside",{className:`
        fixed top-0 left-0 z-40 h-screen w-64 bg-card border-r transition-transform duration-300
        lg:translate-x-0
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs(oe,{href:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-[#2a4060] flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"Q"})}),a.jsx("span",{className:"font-semibold",children:"Quarterdeck Admin"})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:d.map(w=>{const N=w.icon,j=r===w.path||w.path!=="/admin"&&r.startsWith(w.path);return a.jsx(oe,{href:w.path,children:a.jsxs("div",{className:`
                      flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer
                      ${j?"bg-[#2a4060] text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                    `,onClick:()=>i(!1),"data-testid":`nav-${w.label.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(N,{className:"w-4 h-4"}),w.label]})},w.path)})}),a.jsx("div",{className:"p-4 border-t",children:a.jsx(oe,{href:"/",children:a.jsxs(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-site",children:[a.jsx(In,{className:"w-4 h-4 mr-2"})," Back to Site"]})})})]})}),a.jsxs("main",{className:"lg:ml-64",children:[a.jsx("header",{className:"sticky top-0 z-30 bg-background border-b px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-2xl font-bold ml-12 lg:ml-0","data-testid":"text-admin-title",children:t}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(U,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:w-64 lg:w-80",onClick:()=>l(!0),"data-testid":"button-global-search",children:[a.jsx(Lx,{className:"mr-2 h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Search bookings, users, facilities..."}),a.jsx("span",{className:"inline sm:hidden",children:"Search..."}),a.jsxs("kbd",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[a.jsx("span",{className:"text-xs",children:"Ctrl"}),"K"]})]}),a.jsxs("span",{className:"text-sm text-muted-foreground hidden md:block",children:[f.firstName," ",f.lastName]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:f.profileImageUrl?a.jsx("img",{src:f.profileImageUrl,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):a.jsxs("span",{className:"text-xs font-medium",children:[(b=f.firstName)==null?void 0:b[0],(p=f.lastName)==null?void 0:p[0]]})})]})]})}),a.jsxs(Dle,{open:o,onOpenChange:l,children:[a.jsx(fU,{placeholder:"Search bookings, users, facilities...","data-testid":"input-global-search"}),a.jsxs(hU,{children:[a.jsx(mU,{children:"No results found."}),a.jsx(Zf,{heading:"Navigation",children:d.map(w=>a.jsxs(Jf,{value:w.label,onSelect:()=>x(w.path),"data-testid":`search-nav-${w.label.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(w.icon,{className:"mr-2 h-4 w-4"}),w.label]},w.path))}),m&&m.length>0&&a.jsx(Zf,{heading:"Facilities",children:m.slice(0,5).map(w=>a.jsxs(Jf,{value:`facility ${w.name} ${w.slug}`,onSelect:()=>x("/admin/facilities"),"data-testid":`search-facility-${w.id}`,children:[a.jsx(kn,{className:"mr-2 h-4 w-4"}),w.name]},w.id))}),g&&g.length>0&&a.jsx(Zf,{heading:"Users",children:g.slice(0,5).map(w=>a.jsxs(Jf,{value:`user ${w.firstName} ${w.lastName} ${w.email}`,onSelect:()=>x("/admin/bookings"),"data-testid":`search-user-${w.id}`,children:[a.jsx(Qr,{className:"mr-2 h-4 w-4"}),w.firstName," ",w.lastName," - ",w.email]},w.id))}),y&&y.length>0&&a.jsx(Zf,{heading:"Recent Bookings",children:y.slice(0,5).map(w=>{const N=m==null?void 0:m.find(j=>j.id===w.facilityId);return a.jsxs(Jf,{value:`booking ${w.id} ${N==null?void 0:N.name} ${w.date}`,onSelect:()=>x("/admin/bookings"),"data-testid":`search-booking-${w.id}`,children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),N==null?void 0:N.name," - ",w.date," at ",w.startTime]},w.id)})})]})]}),a.jsx("div",{className:"p-6",children:e})]})]})}const Jn=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:fe("w-full caption-bottom text-sm",e),...t})}));Jn.displayName="Table";const es=v.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:fe("[&_tr]:border-b",e),...t}));es.displayName="TableHeader";const ts=v.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:fe("[&_tr:last-child]:border-0",e),...t}));ts.displayName="TableBody";const qle=v.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));qle.displayName="TableFooter";const wt=v.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));wt.displayName="TableRow";const ke=v.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ke.displayName="TableHead";const we=v.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));we.displayName="TableCell";const zle=v.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:fe("mt-4 text-sm text-muted-foreground",e),...t}));zle.displayName="TableCaption";var Wle=Array.isArray,os=Wle,Hle=typeof Hp=="object"&&Hp&&Hp.Object===Object&&Hp,pU=Hle,Kle=pU,Gle=typeof self=="object"&&self&&self.Object===Object&&self,Yle=Kle||Gle||Function("return this")(),Za=Yle,Qle=Za,Xle=Qle.Symbol,Ap=Xle,pO=Ap,gU=Object.prototype,Zle=gU.hasOwnProperty,Jle=gU.toString,Tf=pO?pO.toStringTag:void 0;function ece(e){var t=Zle.call(e,Tf),r=e[Tf];try{e[Tf]=void 0;var n=!0}catch{}var s=Jle.call(e);return n&&(t?e[Tf]=r:delete e[Tf]),s}var tce=ece,rce=Object.prototype,nce=rce.toString;function sce(e){return nce.call(e)}var ace=sce,gO=Ap,ice=tce,oce=ace,lce="[object Null]",cce="[object Undefined]",vO=gO?gO.toStringTag:void 0;function uce(e){return e==null?e===void 0?cce:lce:vO&&vO in Object(e)?ice(e):oce(e)}var Ui=uce;function dce(e){return e!=null&&typeof e=="object"}var Bi=dce,fce=Ui,hce=Bi,mce="[object Symbol]";function pce(e){return typeof e=="symbol"||hce(e)&&fce(e)==mce}var Zd=pce,gce=os,vce=Zd,yce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xce=/^\w*$/;function bce(e,t){if(gce(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||vce(e)?!0:xce.test(e)||!yce.test(e)||t!=null&&e in Object(t)}var fC=bce;function wce(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qo=wce;const Jd=It(Qo);var jce=Ui,Nce=Qo,Sce="[object AsyncFunction]",_ce="[object Function]",kce="[object GeneratorFunction]",Cce="[object Proxy]";function Pce(e){if(!Nce(e))return!1;var t=jce(e);return t==_ce||t==kce||t==Sce||t==Cce}var hC=Pce;const at=It(hC);var Ece=Za,Ace=Ece["__core-js_shared__"],Oce=Ace,Aw=Oce,yO=function(){var e=/[^.]+$/.exec(Aw&&Aw.keys&&Aw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Tce(e){return!!yO&&yO in e}var Ice=Tce,Rce=Function.prototype,$ce=Rce.toString;function Mce(e){if(e!=null){try{return $ce.call(e)}catch{}try{return e+""}catch{}}return""}var vU=Mce,Dce=hC,Lce=Ice,Fce=Qo,Uce=vU,Bce=/[\\^$.*+?()[\]{}|]/g,Vce=/^\[object .+?Constructor\]$/,qce=Function.prototype,zce=Object.prototype,Wce=qce.toString,Hce=zce.hasOwnProperty,Kce=RegExp("^"+Wce.call(Hce).replace(Bce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gce(e){if(!Fce(e)||Lce(e))return!1;var t=Dce(e)?Kce:Vce;return t.test(Uce(e))}var Yce=Gce;function Qce(e,t){return e==null?void 0:e[t]}var Xce=Qce,Zce=Yce,Jce=Xce;function eue(e,t){var r=Jce(e,t);return Zce(r)?r:void 0}var kc=eue,tue=kc,rue=tue(Object,"create"),Nb=rue,xO=Nb;function nue(){this.__data__=xO?xO(null):{},this.size=0}var sue=nue;function aue(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var iue=aue,oue=Nb,lue="__lodash_hash_undefined__",cue=Object.prototype,uue=cue.hasOwnProperty;function due(e){var t=this.__data__;if(oue){var r=t[e];return r===lue?void 0:r}return uue.call(t,e)?t[e]:void 0}var fue=due,hue=Nb,mue=Object.prototype,pue=mue.hasOwnProperty;function gue(e){var t=this.__data__;return hue?t[e]!==void 0:pue.call(t,e)}var vue=gue,yue=Nb,xue="__lodash_hash_undefined__";function bue(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=yue&&t===void 0?xue:t,this}var wue=bue,jue=sue,Nue=iue,Sue=fue,_ue=vue,kue=wue;function ef(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ef.prototype.clear=jue;ef.prototype.delete=Nue;ef.prototype.get=Sue;ef.prototype.has=_ue;ef.prototype.set=kue;var Cue=ef;function Pue(){this.__data__=[],this.size=0}var Eue=Pue;function Aue(e,t){return e===t||e!==e&&t!==t}var mC=Aue,Oue=mC;function Tue(e,t){for(var r=e.length;r--;)if(Oue(e[r][0],t))return r;return-1}var Sb=Tue,Iue=Sb,Rue=Array.prototype,$ue=Rue.splice;function Mue(e){var t=this.__data__,r=Iue(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():$ue.call(t,r,1),--this.size,!0}var Due=Mue,Lue=Sb;function Fue(e){var t=this.__data__,r=Lue(t,e);return r<0?void 0:t[r][1]}var Uue=Fue,Bue=Sb;function Vue(e){return Bue(this.__data__,e)>-1}var que=Vue,zue=Sb;function Wue(e,t){var r=this.__data__,n=zue(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Hue=Wue,Kue=Eue,Gue=Due,Yue=Uue,Que=que,Xue=Hue;function tf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tf.prototype.clear=Kue;tf.prototype.delete=Gue;tf.prototype.get=Yue;tf.prototype.has=Que;tf.prototype.set=Xue;var _b=tf,Zue=kc,Jue=Za,ede=Zue(Jue,"Map"),pC=ede,bO=Cue,tde=_b,rde=pC;function nde(){this.size=0,this.__data__={hash:new bO,map:new(rde||tde),string:new bO}}var sde=nde;function ade(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ide=ade,ode=ide;function lde(e,t){var r=e.__data__;return ode(t)?r[typeof t=="string"?"string":"hash"]:r.map}var kb=lde,cde=kb;function ude(e){var t=cde(this,e).delete(e);return this.size-=t?1:0,t}var dde=ude,fde=kb;function hde(e){return fde(this,e).get(e)}var mde=hde,pde=kb;function gde(e){return pde(this,e).has(e)}var vde=gde,yde=kb;function xde(e,t){var r=yde(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var bde=xde,wde=sde,jde=dde,Nde=mde,Sde=vde,_de=bde;function rf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rf.prototype.clear=wde;rf.prototype.delete=jde;rf.prototype.get=Nde;rf.prototype.has=Sde;rf.prototype.set=_de;var gC=rf,yU=gC,kde="Expected a function";function vC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(kde);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(vC.Cache||yU),r}vC.Cache=yU;var xU=vC;const Cde=It(xU);var Pde=xU,Ede=500;function Ade(e){var t=Pde(e,function(n){return r.size===Ede&&r.clear(),n}),r=t.cache;return t}var Ode=Ade,Tde=Ode,Ide=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rde=/\\(\\)?/g,$de=Tde(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ide,function(r,n,s,i){t.push(s?i.replace(Rde,"$1"):n||r)}),t}),Mde=$de;function Dde(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var yC=Dde,wO=Ap,Lde=yC,Fde=os,Ude=Zd,jO=wO?wO.prototype:void 0,NO=jO?jO.toString:void 0;function bU(e){if(typeof e=="string")return e;if(Fde(e))return Lde(e,bU)+"";if(Ude(e))return NO?NO.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Bde=bU,Vde=Bde;function qde(e){return e==null?"":Vde(e)}var wU=qde,zde=os,Wde=fC,Hde=Mde,Kde=wU;function Gde(e,t){return zde(e)?e:Wde(e,t)?[e]:Hde(Kde(e))}var jU=Gde,Yde=Zd;function Qde(e){if(typeof e=="string"||Yde(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Cb=Qde,Xde=jU,Zde=Cb;function Jde(e,t){t=Xde(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Zde(t[r++])];return r&&r==n?e:void 0}var xC=Jde,efe=xC;function tfe(e,t,r){var n=e==null?void 0:efe(e,t);return n===void 0?r:n}var NU=tfe;const ws=It(NU);function rfe(e){return e==null}var nfe=rfe;const vt=It(nfe);var sfe=Ui,afe=os,ife=Bi,ofe="[object String]";function lfe(e){return typeof e=="string"||!afe(e)&&ife(e)&&sfe(e)==ofe}var cfe=lfe;const uc=It(cfe);var SU={exports:{}},Ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC=Symbol.for("react.element"),wC=Symbol.for("react.portal"),Pb=Symbol.for("react.fragment"),Eb=Symbol.for("react.strict_mode"),Ab=Symbol.for("react.profiler"),Ob=Symbol.for("react.provider"),Tb=Symbol.for("react.context"),ufe=Symbol.for("react.server_context"),Ib=Symbol.for("react.forward_ref"),Rb=Symbol.for("react.suspense"),$b=Symbol.for("react.suspense_list"),Mb=Symbol.for("react.memo"),Db=Symbol.for("react.lazy"),dfe=Symbol.for("react.offscreen"),_U;_U=Symbol.for("react.module.reference");function Hs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bC:switch(e=e.type,e){case Pb:case Ab:case Eb:case Rb:case $b:return e;default:switch(e=e&&e.$$typeof,e){case ufe:case Tb:case Ib:case Db:case Mb:case Ob:return e;default:return t}}case wC:return t}}}Ut.ContextConsumer=Tb;Ut.ContextProvider=Ob;Ut.Element=bC;Ut.ForwardRef=Ib;Ut.Fragment=Pb;Ut.Lazy=Db;Ut.Memo=Mb;Ut.Portal=wC;Ut.Profiler=Ab;Ut.StrictMode=Eb;Ut.Suspense=Rb;Ut.SuspenseList=$b;Ut.isAsyncMode=function(){return!1};Ut.isConcurrentMode=function(){return!1};Ut.isContextConsumer=function(e){return Hs(e)===Tb};Ut.isContextProvider=function(e){return Hs(e)===Ob};Ut.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bC};Ut.isForwardRef=function(e){return Hs(e)===Ib};Ut.isFragment=function(e){return Hs(e)===Pb};Ut.isLazy=function(e){return Hs(e)===Db};Ut.isMemo=function(e){return Hs(e)===Mb};Ut.isPortal=function(e){return Hs(e)===wC};Ut.isProfiler=function(e){return Hs(e)===Ab};Ut.isStrictMode=function(e){return Hs(e)===Eb};Ut.isSuspense=function(e){return Hs(e)===Rb};Ut.isSuspenseList=function(e){return Hs(e)===$b};Ut.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Pb||e===Ab||e===Eb||e===Rb||e===$b||e===dfe||typeof e=="object"&&e!==null&&(e.$$typeof===Db||e.$$typeof===Mb||e.$$typeof===Ob||e.$$typeof===Tb||e.$$typeof===Ib||e.$$typeof===_U||e.getModuleId!==void 0)};Ut.typeOf=Hs;SU.exports=Ut;var ffe=SU.exports,hfe=Ui,mfe=Bi,pfe="[object Number]";function gfe(e){return typeof e=="number"||mfe(e)&&hfe(e)==pfe}var kU=gfe;const vfe=It(kU);var yfe=kU;function xfe(e){return yfe(e)&&e!=+e}var bfe=xfe;const Op=It(bfe);var Mn=function(t){return t===0?0:t>0?1:-1},Pl=function(t){return uc(t)&&t.indexOf("%")===t.length-1},je=function(t){return vfe(t)&&!Op(t)},wfe=function(t){return vt(t)},Hr=function(t){return je(t)||uc(t)},jfe=0,Tp=function(t){var r=++jfe;return"".concat(t||"").concat(r)},Dn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&!uc(t))return n;var i;if(Pl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Op(i)&&(i=n),s&&i>r&&(i=r),i},io=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Nfe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},to=function(t,r){return je(t)&&je(r)?function(n){return t+n*(r-t)}:function(){return r}};function sN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ws(n,t))===r})}var Sfe=function(t,r){return je(t)&&je(r)?t-r:uc(t)&&uc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Iu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function aN(e){"@babel/helpers - typeof";return aN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aN(e)}var _fe=["viewBox","children"],kfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SO=["points","pathLength"],Ow={svg:_fe,polygon:SO,polyline:SO},jC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],py=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!Jd(n))return null;var s={};return Object.keys(n).forEach(function(i){jC.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Cfe=function(t,r,n){return function(s){return t(r,n,s),null}},dc=function(t,r,n){if(!Jd(t)||aN(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];jC.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Cfe(o,r,n))}),s},Pfe=["children"],Efe=["children"];function _O(e,t){if(e==null)return{};var r=Afe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Afe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},CO=null,Tw=null,NC=function e(t){if(t===CO&&Array.isArray(Tw))return Tw;var r=[];return v.Children.forEach(t,function(n){vt(n)||(ffe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Tw=r,CO=t,r};function Us(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return wi(s)}):n=[wi(t)],NC(e).forEach(function(s){var i=ws(s,"type.displayName")||ws(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function ds(e,t){var r=Us(e,t);return r&&r[0]}var PO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!je(n)||n<=0||!je(s)||s<=0)},Ofe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Tfe=function(t){return t&&t.type&&uc(t.type)&&Ofe.indexOf(t.type)>=0},Ife=function(t,r,n,s){var i,o=(i=Ow==null?void 0:Ow[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!at(t)&&(s&&o.includes(r)||kfe.includes(r))||n&&jC.includes(r)},Je=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!Jd(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;Ife((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},iN=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return EO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!EO(i,o))return!1}return!0},EO=function(t,r){if(vt(t)&&vt(r))return!0;if(!vt(t)&&!vt(r)){var n=t.props||{},s=n.children,i=_O(n,Pfe),o=r.props||{},l=o.children,c=_O(o,Efe);return s&&l?Iu(i,c)&&iN(s,l):!s&&!l?Iu(i,c):!1}return!1},AO=function(t,r){var n=[],s={};return NC(t).forEach(function(i,o){if(Tfe(i))n.push(i);else if(i){var l=wi(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},Rfe=function(t){var r=t&&t.type;return r&&kO[r]?kO[r]:null},$fe=function(t,r){return NC(r).indexOf(t)},Mfe=["children","width","height","viewBox","className","style","title","desc"];function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oN.apply(this,arguments)}function Dfe(e,t){if(e==null)return{};var r=Lfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lN(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Dfe(e,Mfe),d=s||{width:r,height:n,x:0,y:0},f=ft("recharts-surface",i);return M.createElement("svg",oN({},Je(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var Ffe=["children","className"];function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cN.apply(this,arguments)}function Ufe(e,t){if(e==null)return{};var r=Bfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dt=M.forwardRef(function(e,t){var r=e.children,n=e.className,s=Ufe(e,Ffe),i=ft("recharts-layer",n);return M.createElement("g",cN({className:i},Je(s,!0),{ref:t}),r)}),pa=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function Vfe(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var qfe=Vfe,zfe=qfe;function Wfe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:zfe(e,t,r)}var Hfe=Wfe,Kfe="\\ud800-\\udfff",Gfe="\\u0300-\\u036f",Yfe="\\ufe20-\\ufe2f",Qfe="\\u20d0-\\u20ff",Xfe=Gfe+Yfe+Qfe,Zfe="\\ufe0e\\ufe0f",Jfe="\\u200d",ehe=RegExp("["+Jfe+Kfe+Xfe+Zfe+"]");function the(e){return ehe.test(e)}var CU=the;function rhe(e){return e.split("")}var nhe=rhe,PU="\\ud800-\\udfff",she="\\u0300-\\u036f",ahe="\\ufe20-\\ufe2f",ihe="\\u20d0-\\u20ff",ohe=she+ahe+ihe,lhe="\\ufe0e\\ufe0f",che="["+PU+"]",uN="["+ohe+"]",dN="\\ud83c[\\udffb-\\udfff]",uhe="(?:"+uN+"|"+dN+")",EU="[^"+PU+"]",AU="(?:\\ud83c[\\udde6-\\uddff]){2}",OU="[\\ud800-\\udbff][\\udc00-\\udfff]",dhe="\\u200d",TU=uhe+"?",IU="["+lhe+"]?",fhe="(?:"+dhe+"(?:"+[EU,AU,OU].join("|")+")"+IU+TU+")*",hhe=IU+TU+fhe,mhe="(?:"+[EU+uN+"?",uN,AU,OU,che].join("|")+")",phe=RegExp(dN+"(?="+dN+")|"+mhe+hhe,"g");function ghe(e){return e.match(phe)||[]}var vhe=ghe,yhe=nhe,xhe=CU,bhe=vhe;function whe(e){return xhe(e)?bhe(e):yhe(e)}var jhe=whe,Nhe=Hfe,She=CU,_he=jhe,khe=wU;function Che(e){return function(t){t=khe(t);var r=She(t)?_he(t):void 0,n=r?r[0]:t.charAt(0),s=r?Nhe(r,1).join(""):t.slice(1);return n[e]()+s}}var Phe=Che,Ehe=Phe,Ahe=Ehe("toUpperCase"),Ohe=Ahe;const Lb=It(Ohe);function Wt(e){return function(){return e}}const RU=Math.cos,gy=Math.sin,_a=Math.sqrt,vy=Math.PI,Fb=2*vy,fN=Math.PI,hN=2*fN,gl=1e-6,The=hN-gl;function $U(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Ihe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $U;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Rhe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$U:Ihe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>gl)if(!(Math.abs(f*c-u*d)>gl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,y=s-l,m=c*c+u*u,x=g*g+y*y,b=Math.sqrt(m),p=Math.sqrt(h),w=i*Math.tan((fN-Math.acos((m+h-x)/(2*b*p)))/2),N=w/p,j=w/b;Math.abs(N-1)>gl&&this._append`L${t+N*d},${r+N*f}`,this._append`A${i},${i},0,0,${+(f*g>d*y)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>gl||Math.abs(this._y1-d)>gl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%hN+hN),h>The?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>gl&&this._append`A${n},${n},0,${+(h>=fN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function SC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Rhe(t)}function _C(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MU(e){this._context=e}MU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ub(e){return new MU(e)}function DU(e){return e[0]}function LU(e){return e[1]}function FU(e,t){var r=Wt(!0),n=null,s=Ub,i=null,o=SC(l);e=typeof e=="function"?e:e===void 0?DU:Wt(e),t=typeof t=="function"?t:t===void 0?LU:Wt(t);function l(c){var u,d=(c=_C(c)).length,f,h=!1,g;for(n==null&&(i=s(g=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(g)return i=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Wt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Cg(e,t,r){var n=null,s=Wt(!0),i=null,o=Ub,l=null,c=SC(u);e=typeof e=="function"?e:e===void 0?DU:Wt(+e),t=typeof t=="function"?t:Wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?LU:Wt(+r);function u(f){var h,g,y,m=(f=_C(f)).length,x,b=!1,p,w=new Array(m),N=new Array(m);for(i==null&&(l=o(p=c())),h=0;h<=m;++h){if(!(h<m&&s(x=f[h],h,f))===b)if(b=!b)g=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=g;--y)l.point(w[y],N[y]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(x,h,f),N[h]=+t(x,h,f),l.point(n?+n(x,h,f):w[h],r?+r(x,h,f):N[h]))}if(p)return l=null,p+""||null}function d(){return FU().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Wt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class UU{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function $he(e){return new UU(e,!0)}function Mhe(e){return new UU(e,!1)}const kC={draw(e,t){const r=_a(t/vy);e.moveTo(r,0),e.arc(0,0,r,0,Fb)}},Dhe={draw(e,t){const r=_a(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},BU=_a(1/3),Lhe=BU*2,Fhe={draw(e,t){const r=_a(t/Lhe),n=r*BU;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Uhe={draw(e,t){const r=_a(t),n=-r/2;e.rect(n,n,r,r)}},Bhe=.8908130915292852,VU=gy(vy/10)/gy(7*vy/10),Vhe=gy(Fb/10)*VU,qhe=-RU(Fb/10)*VU,zhe={draw(e,t){const r=_a(t*Bhe),n=Vhe*r,s=qhe*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Fb*i/5,l=RU(o),c=gy(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Iw=_a(3),Whe={draw(e,t){const r=-_a(t/(Iw*3));e.moveTo(0,r*2),e.lineTo(-Iw*r,-r),e.lineTo(Iw*r,-r),e.closePath()}},Cs=-.5,Ps=_a(3)/2,mN=1/_a(12),Hhe=(mN/2+1)*3,Khe={draw(e,t){const r=_a(t/Hhe),n=r/2,s=r*mN,i=n,o=r*mN+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Cs*n-Ps*s,Ps*n+Cs*s),e.lineTo(Cs*i-Ps*o,Ps*i+Cs*o),e.lineTo(Cs*l-Ps*c,Ps*l+Cs*c),e.lineTo(Cs*n+Ps*s,Cs*s-Ps*n),e.lineTo(Cs*i+Ps*o,Cs*o-Ps*i),e.lineTo(Cs*l+Ps*c,Cs*c-Ps*l),e.closePath()}};function Ghe(e,t){let r=null,n=SC(s);e=typeof e=="function"?e:Wt(e||kC),t=typeof t=="function"?t:Wt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Wt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Wt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function yy(){}function xy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function qU(e){this._context=e}qU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Yhe(e){return new qU(e)}function zU(e){this._context=e}zU.prototype={areaStart:yy,areaEnd:yy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qhe(e){return new zU(e)}function WU(e){this._context=e}WU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Xhe(e){return new WU(e)}function HU(e){this._context=e}HU.prototype={areaStart:yy,areaEnd:yy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Zhe(e){return new HU(e)}function OO(e){return e<0?-1:1}function TO(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(OO(i)+OO(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function IO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Rw(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function by(e){this._context=e}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rw(this,this._t0,IO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rw(this,IO(this,r=TO(this,e,t)),r);break;default:Rw(this,this._t0,r=TO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function KU(e){this._context=new GU(e)}(KU.prototype=Object.create(by.prototype)).point=function(e,t){by.prototype.point.call(this,t,e)};function GU(e){this._context=e}GU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function Jhe(e){return new by(e)}function eme(e){return new KU(e)}function YU(e){this._context=e}YU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=RO(e),s=RO(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function RO(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function tme(e){return new YU(e)}function Bb(e,t){this._context=e,this._t=t}Bb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function rme(e){return new Bb(e,.5)}function nme(e){return new Bb(e,0)}function sme(e){return new Bb(e,1)}function pd(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function pN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ame(e,t){return e[t]}function ime(e){const t=[];return t.key=e,t}function ome(){var e=Wt([]),t=pN,r=pd,n=ame;function s(i){var o=Array.from(e.apply(this,arguments),ime),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=_C(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Wt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Wt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?pN:typeof i=="function"?i:Wt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??pd,s):r},s}function lme(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}pd(e,t)}}function cme(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}pd(e,t)}}function ume(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,g=(f-h)/2,y=0;y<l;++y){var m=e[t[y]],x=m[n][1]||0,b=m[n-1][1]||0;g+=x-b}c+=f,u+=g*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,pd(e,t)}}function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}var dme=["type","size","sizeType"];function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gN.apply(this,arguments)}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function MO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){fme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fme(e,t,r){return t=hme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hme(e){var t=mme(e,"string");return mm(t)=="symbol"?t:t+""}function mme(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pme(e,t){if(e==null)return{};var r=gme(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QU={symbolCircle:kC,symbolCross:Dhe,symbolDiamond:Fhe,symbolSquare:Uhe,symbolStar:zhe,symbolTriangle:Whe,symbolWye:Khe},vme=Math.PI/180,yme=function(t){var r="symbol".concat(Lb(t));return QU[r]||kC},xme=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*vme;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},bme=function(t,r){QU["symbol".concat(Lb(t))]=r},CC=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=pme(t,dme),u=MO(MO({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=yme(n),b=Ghe().type(x).size(xme(i,l,n));return b()},f=u.className,h=u.cx,g=u.cy,y=Je(u,!0);return h===+h&&g===+g&&i===+i?M.createElement("path",gN({},y,{className:ft("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};CC.registerSymbol=bme;function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vN.apply(this,arguments)}function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){pm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZU(n.key),n)}}function Sme(e,t,r){return t&&Nme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _me(e,t,r){return t=wy(t),kme(e,XU()?Reflect.construct(t,r||[],wy(e).constructor):t.apply(e,r))}function kme(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cme(e)}function Cme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XU=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wy(e)}function Pme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yN(e,t)}function yN(e,t){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yN(e,t)}function pm(e,t,r){return t=ZU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=Eme(e,"string");return gd(t)=="symbol"?t:t+""}function Eme(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Es=32,PC=function(e){function t(){return jme(this,t),_me(this,t,arguments)}return Pme(t,e),Sme(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Es/2,o=Es/6,l=Es/3,c=n.inactive?s:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Es,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Es,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Es/8,"h").concat(Es,"v").concat(Es*3/4,"h").concat(-Es,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=wme({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(CC,{fill:c,cx:i,cy:i,size:Es,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Es,height:Es},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,y){var m=g.formatter||c,x=ft(pm(pm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var b=at(g.value)?null:g.value;pa(!at(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var p=g.inactive?u:g.color;return M.createElement("li",vN({className:x,style:f,key:"legend-item-".concat(y)},dc(n.props,g,y)),M.createElement(lN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(g)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},m?m(b,g,y):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);pm(PC,"displayName","Legend");pm(PC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ame=_b;function Ome(){this.__data__=new Ame,this.size=0}var Tme=Ome;function Ime(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Rme=Ime;function $me(e){return this.__data__.get(e)}var Mme=$me;function Dme(e){return this.__data__.has(e)}var Lme=Dme,Fme=_b,Ume=pC,Bme=gC,Vme=200;function qme(e,t){var r=this.__data__;if(r instanceof Fme){var n=r.__data__;if(!Ume||n.length<Vme-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Bme(n)}return r.set(e,t),this.size=r.size,this}var zme=qme,Wme=_b,Hme=Tme,Kme=Rme,Gme=Mme,Yme=Lme,Qme=zme;function nf(e){var t=this.__data__=new Wme(e);this.size=t.size}nf.prototype.clear=Hme;nf.prototype.delete=Kme;nf.prototype.get=Gme;nf.prototype.has=Yme;nf.prototype.set=Qme;var JU=nf,Xme="__lodash_hash_undefined__";function Zme(e){return this.__data__.set(e,Xme),this}var Jme=Zme;function epe(e){return this.__data__.has(e)}var tpe=epe,rpe=gC,npe=Jme,spe=tpe;function jy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new rpe;++t<r;)this.add(e[t])}jy.prototype.add=jy.prototype.push=npe;jy.prototype.has=spe;var eB=jy;function ape(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var tB=ape;function ipe(e,t){return e.has(t)}var rB=ipe,ope=eB,lpe=tB,cpe=rB,upe=1,dpe=2;function fpe(e,t,r,n,s,i){var o=r&upe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,g=r&dpe?new ope:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var y=e[f],m=t[f];if(n)var x=o?n(m,y,f,t,e,i):n(y,m,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(g){if(!lpe(t,function(b,p){if(!cpe(g,p)&&(y===b||s(y,b,r,n,i)))return g.push(p)})){h=!1;break}}else if(!(y===m||s(y,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var nB=fpe,hpe=Za,mpe=hpe.Uint8Array,ppe=mpe;function gpe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var vpe=gpe;function ype(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var EC=ype,LO=Ap,FO=ppe,xpe=mC,bpe=nB,wpe=vpe,jpe=EC,Npe=1,Spe=2,_pe="[object Boolean]",kpe="[object Date]",Cpe="[object Error]",Ppe="[object Map]",Epe="[object Number]",Ape="[object RegExp]",Ope="[object Set]",Tpe="[object String]",Ipe="[object Symbol]",Rpe="[object ArrayBuffer]",$pe="[object DataView]",UO=LO?LO.prototype:void 0,$w=UO?UO.valueOf:void 0;function Mpe(e,t,r,n,s,i,o){switch(r){case $pe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Rpe:return!(e.byteLength!=t.byteLength||!i(new FO(e),new FO(t)));case _pe:case kpe:case Epe:return xpe(+e,+t);case Cpe:return e.name==t.name&&e.message==t.message;case Ape:case Tpe:return e==t+"";case Ppe:var l=wpe;case Ope:var c=n&Npe;if(l||(l=jpe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Spe,o.set(e,t);var d=bpe(l(e),l(t),n,s,i,o);return o.delete(e),d;case Ipe:if($w)return $w.call(e)==$w.call(t)}return!1}var Dpe=Mpe;function Lpe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var sB=Lpe,Fpe=sB,Upe=os;function Bpe(e,t,r){var n=t(e);return Upe(e)?n:Fpe(n,r(e))}var Vpe=Bpe;function qpe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var zpe=qpe;function Wpe(){return[]}var Hpe=Wpe,Kpe=zpe,Gpe=Hpe,Ype=Object.prototype,Qpe=Ype.propertyIsEnumerable,BO=Object.getOwnPropertySymbols,Xpe=BO?function(e){return e==null?[]:(e=Object(e),Kpe(BO(e),function(t){return Qpe.call(e,t)}))}:Gpe,Zpe=Xpe;function Jpe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ege=Jpe,tge=Ui,rge=Bi,nge="[object Arguments]";function sge(e){return rge(e)&&tge(e)==nge}var age=sge,VO=age,ige=Bi,aB=Object.prototype,oge=aB.hasOwnProperty,lge=aB.propertyIsEnumerable,cge=VO(function(){return arguments}())?VO:function(e){return ige(e)&&oge.call(e,"callee")&&!lge.call(e,"callee")},AC=cge,Ny={exports:{}};function uge(){return!1}var dge=uge;Ny.exports;(function(e,t){var r=Za,n=dge,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Ny,Ny.exports);var iB=Ny.exports,fge=9007199254740991,hge=/^(?:0|[1-9]\d*)$/;function mge(e,t){var r=typeof e;return t=t??fge,!!t&&(r=="number"||r!="symbol"&&hge.test(e))&&e>-1&&e%1==0&&e<t}var OC=mge,pge=9007199254740991;function gge(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pge}var TC=gge,vge=Ui,yge=TC,xge=Bi,bge="[object Arguments]",wge="[object Array]",jge="[object Boolean]",Nge="[object Date]",Sge="[object Error]",_ge="[object Function]",kge="[object Map]",Cge="[object Number]",Pge="[object Object]",Ege="[object RegExp]",Age="[object Set]",Oge="[object String]",Tge="[object WeakMap]",Ige="[object ArrayBuffer]",Rge="[object DataView]",$ge="[object Float32Array]",Mge="[object Float64Array]",Dge="[object Int8Array]",Lge="[object Int16Array]",Fge="[object Int32Array]",Uge="[object Uint8Array]",Bge="[object Uint8ClampedArray]",Vge="[object Uint16Array]",qge="[object Uint32Array]",Xt={};Xt[$ge]=Xt[Mge]=Xt[Dge]=Xt[Lge]=Xt[Fge]=Xt[Uge]=Xt[Bge]=Xt[Vge]=Xt[qge]=!0;Xt[bge]=Xt[wge]=Xt[Ige]=Xt[jge]=Xt[Rge]=Xt[Nge]=Xt[Sge]=Xt[_ge]=Xt[kge]=Xt[Cge]=Xt[Pge]=Xt[Ege]=Xt[Age]=Xt[Oge]=Xt[Tge]=!1;function zge(e){return xge(e)&&yge(e.length)&&!!Xt[vge(e)]}var Wge=zge;function Hge(e){return function(t){return e(t)}}var oB=Hge,Sy={exports:{}};Sy.exports;(function(e,t){var r=pU,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Sy,Sy.exports);var Kge=Sy.exports,Gge=Wge,Yge=oB,qO=Kge,zO=qO&&qO.isTypedArray,Qge=zO?Yge(zO):Gge,lB=Qge,Xge=ege,Zge=AC,Jge=os,eve=iB,tve=OC,rve=lB,nve=Object.prototype,sve=nve.hasOwnProperty;function ave(e,t){var r=Jge(e),n=!r&&Zge(e),s=!r&&!n&&eve(e),i=!r&&!n&&!s&&rve(e),o=r||n||s||i,l=o?Xge(e.length,String):[],c=l.length;for(var u in e)(t||sve.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||tve(u,c)))&&l.push(u);return l}var ive=ave,ove=Object.prototype;function lve(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ove;return e===r}var cve=lve;function uve(e,t){return function(r){return e(t(r))}}var cB=uve,dve=cB,fve=dve(Object.keys,Object),hve=fve,mve=cve,pve=hve,gve=Object.prototype,vve=gve.hasOwnProperty;function yve(e){if(!mve(e))return pve(e);var t=[];for(var r in Object(e))vve.call(e,r)&&r!="constructor"&&t.push(r);return t}var xve=yve,bve=hC,wve=TC;function jve(e){return e!=null&&wve(e.length)&&!bve(e)}var Ip=jve,Nve=ive,Sve=xve,_ve=Ip;function kve(e){return _ve(e)?Nve(e):Sve(e)}var Vb=kve,Cve=Vpe,Pve=Zpe,Eve=Vb;function Ave(e){return Cve(e,Eve,Pve)}var Ove=Ave,WO=Ove,Tve=1,Ive=Object.prototype,Rve=Ive.hasOwnProperty;function $ve(e,t,r,n,s,i){var o=r&Tve,l=WO(e),c=l.length,u=WO(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Rve.call(t,h)))return!1}var g=i.get(e),y=i.get(t);if(g&&y)return g==t&&y==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var b=e[h],p=t[h];if(n)var w=o?n(p,b,h,t,e,i):n(b,p,h,e,t,i);if(!(w===void 0?b===p||s(b,p,r,n,i):w)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(m=!1)}return i.delete(e),i.delete(t),m}var Mve=$ve,Dve=kc,Lve=Za,Fve=Dve(Lve,"DataView"),Uve=Fve,Bve=kc,Vve=Za,qve=Bve(Vve,"Promise"),zve=qve,Wve=kc,Hve=Za,Kve=Wve(Hve,"Set"),uB=Kve,Gve=kc,Yve=Za,Qve=Gve(Yve,"WeakMap"),Xve=Qve,xN=Uve,bN=pC,wN=zve,jN=uB,NN=Xve,dB=Ui,sf=vU,HO="[object Map]",Zve="[object Object]",KO="[object Promise]",GO="[object Set]",YO="[object WeakMap]",QO="[object DataView]",Jve=sf(xN),eye=sf(bN),tye=sf(wN),rye=sf(jN),nye=sf(NN),vl=dB;(xN&&vl(new xN(new ArrayBuffer(1)))!=QO||bN&&vl(new bN)!=HO||wN&&vl(wN.resolve())!=KO||jN&&vl(new jN)!=GO||NN&&vl(new NN)!=YO)&&(vl=function(e){var t=dB(e),r=t==Zve?e.constructor:void 0,n=r?sf(r):"";if(n)switch(n){case Jve:return QO;case eye:return HO;case tye:return KO;case rye:return GO;case nye:return YO}return t});var sye=vl,Mw=JU,aye=nB,iye=Dpe,oye=Mve,XO=sye,ZO=os,JO=iB,lye=lB,cye=1,eT="[object Arguments]",tT="[object Array]",Pg="[object Object]",uye=Object.prototype,rT=uye.hasOwnProperty;function dye(e,t,r,n,s,i){var o=ZO(e),l=ZO(t),c=o?tT:XO(e),u=l?tT:XO(t);c=c==eT?Pg:c,u=u==eT?Pg:u;var d=c==Pg,f=u==Pg,h=c==u;if(h&&JO(e)){if(!JO(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Mw),o||lye(e)?aye(e,t,r,n,s,i):iye(e,t,c,r,n,s,i);if(!(r&cye)){var g=d&&rT.call(e,"__wrapped__"),y=f&&rT.call(t,"__wrapped__");if(g||y){var m=g?e.value():e,x=y?t.value():t;return i||(i=new Mw),s(m,x,r,n,i)}}return h?(i||(i=new Mw),oye(e,t,r,n,s,i)):!1}var fye=dye,hye=fye,nT=Bi;function fB(e,t,r,n,s){return e===t?!0:e==null||t==null||!nT(e)&&!nT(t)?e!==e&&t!==t:hye(e,t,r,n,fB,s)}var IC=fB,mye=JU,pye=IC,gye=1,vye=2;function yye(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new mye;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?pye(d,u,gye|vye,n,f):h))return!1}}return!0}var xye=yye,bye=Qo;function wye(e){return e===e&&!bye(e)}var hB=wye,jye=hB,Nye=Vb;function Sye(e){for(var t=Nye(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,jye(s)]}return t}var _ye=Sye;function kye(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var mB=kye,Cye=xye,Pye=_ye,Eye=mB;function Aye(e){var t=Pye(e);return t.length==1&&t[0][2]?Eye(t[0][0],t[0][1]):function(r){return r===e||Cye(r,e,t)}}var Oye=Aye;function Tye(e,t){return e!=null&&t in Object(e)}var Iye=Tye,Rye=jU,$ye=AC,Mye=os,Dye=OC,Lye=TC,Fye=Cb;function Uye(e,t,r){t=Rye(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=Fye(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&Lye(s)&&Dye(o,s)&&(Mye(e)||$ye(e)))}var Bye=Uye,Vye=Iye,qye=Bye;function zye(e,t){return e!=null&&qye(e,t,Vye)}var Wye=zye,Hye=IC,Kye=NU,Gye=Wye,Yye=fC,Qye=hB,Xye=mB,Zye=Cb,Jye=1,exe=2;function txe(e,t){return Yye(e)&&Qye(t)?Xye(Zye(e),t):function(r){var n=Kye(r,e);return n===void 0&&n===t?Gye(r,e):Hye(t,n,Jye|exe)}}var rxe=txe;function nxe(e){return e}var af=nxe;function sxe(e){return function(t){return t==null?void 0:t[e]}}var axe=sxe,ixe=xC;function oxe(e){return function(t){return ixe(t,e)}}var lxe=oxe,cxe=axe,uxe=lxe,dxe=fC,fxe=Cb;function hxe(e){return dxe(e)?cxe(fxe(e)):uxe(e)}var mxe=hxe,pxe=Oye,gxe=rxe,vxe=af,yxe=os,xxe=mxe;function bxe(e){return typeof e=="function"?e:e==null?vxe:typeof e=="object"?yxe(e)?gxe(e[0],e[1]):pxe(e):xxe(e)}var Ja=bxe;function wxe(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var pB=wxe;function jxe(e){return e!==e}var Nxe=jxe;function Sxe(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var _xe=Sxe,kxe=pB,Cxe=Nxe,Pxe=_xe;function Exe(e,t,r){return t===t?Pxe(e,t,r):kxe(e,Cxe,r)}var Axe=Exe,Oxe=Axe;function Txe(e,t){var r=e==null?0:e.length;return!!r&&Oxe(e,t,0)>-1}var Ixe=Txe;function Rxe(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var $xe=Rxe;function Mxe(){}var Dxe=Mxe,Dw=uB,Lxe=Dxe,Fxe=EC,Uxe=1/0,Bxe=Dw&&1/Fxe(new Dw([,-0]))[1]==Uxe?function(e){return new Dw(e)}:Lxe,Vxe=Bxe,qxe=eB,zxe=Ixe,Wxe=$xe,Hxe=rB,Kxe=Vxe,Gxe=EC,Yxe=200;function Qxe(e,t,r){var n=-1,s=zxe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=Wxe;else if(i>=Yxe){var u=t?null:Kxe(e);if(u)return Gxe(u);o=!1,s=Hxe,c=new qxe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Xxe=Qxe,Zxe=Ja,Jxe=Xxe;function ebe(e,t){return e&&e.length?Jxe(e,Zxe(t)):[]}var tbe=ebe;const sT=It(tbe);function gB(e,t,r){return t===!0?sT(e,r):at(t)?sT(e,t):e}function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}var rbe=["ref"];function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){qb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yB(n.key),n)}}function sbe(e,t,r){return t&&iT(e.prototype,t),r&&iT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function abe(e,t,r){return t=_y(t),ibe(e,vB()?Reflect.construct(t,r||[],_y(e).constructor):t.apply(e,r))}function ibe(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return obe(e)}function obe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vB=function(){return!!e})()}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_y(e)}function lbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},SN(e,t)}function qb(e,t,r){return t=yB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e){var t=cbe(e,"string");return vd(t)=="symbol"?t:t+""}function cbe(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ube(e,t){if(e==null)return{};var r=dbe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fbe(e){return e.value}function hbe(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=ube(t,rbe);return M.createElement(PC,r)}var oT=1,zl=function(e){function t(){var r;nbe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=abe(this,t,[].concat(s)),qb(r,"lastBoundingBox",{width:-1,height:-1}),r}return lbe(t,e),sbe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>oT||Math.abs(s.height-this.lastBoundingBox.height)>oT)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?si({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return si(si({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=si(si({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},hbe(i,si(si({},this.props),{},{payload:gB(d,u,fbe)})))}}],[{key:"getWithHeight",value:function(n,s){var i=si(si({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&je(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(v.PureComponent);qb(zl,"displayName","Legend");qb(zl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lT=Ap,mbe=AC,pbe=os,cT=lT?lT.isConcatSpreadable:void 0;function gbe(e){return pbe(e)||mbe(e)||!!(cT&&e&&e[cT])}var vbe=gbe,ybe=sB,xbe=vbe;function xB(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=xbe),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?xB(l,t-1,r,n,s):ybe(s,l):n||(s[s.length]=l)}return s}var bB=xB;function bbe(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var wbe=bbe,jbe=wbe,Nbe=jbe(),Sbe=Nbe,_be=Sbe,kbe=Vb;function Cbe(e,t){return e&&_be(e,t,kbe)}var wB=Cbe,Pbe=Ip;function Ebe(e,t){return function(r,n){if(r==null)return r;if(!Pbe(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var Abe=Ebe,Obe=wB,Tbe=Abe,Ibe=Tbe(Obe),RC=Ibe,Rbe=RC,$be=Ip;function Mbe(e,t){var r=-1,n=$be(e)?Array(e.length):[];return Rbe(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var jB=Mbe;function Dbe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Lbe=Dbe,uT=Zd;function Fbe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=uT(e),o=t!==void 0,l=t===null,c=t===t,u=uT(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Ube=Fbe,Bbe=Ube;function Vbe(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=Bbe(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var qbe=Vbe,Lw=yC,zbe=xC,Wbe=Ja,Hbe=jB,Kbe=Lbe,Gbe=oB,Ybe=qbe,Qbe=af,Xbe=os;function Zbe(e,t,r){t.length?t=Lw(t,function(i){return Xbe(i)?function(o){return zbe(o,i.length===1?i[0]:i)}:i}):t=[Qbe];var n=-1;t=Lw(t,Gbe(Wbe));var s=Hbe(e,function(i,o,l){var c=Lw(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Kbe(s,function(i,o){return Ybe(i,o,r)})}var Jbe=Zbe;function e0e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var t0e=e0e,r0e=t0e,dT=Math.max;function n0e(e,t,r){return t=dT(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=dT(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),r0e(e,this,l)}}var s0e=n0e;function a0e(e){return function(){return e}}var i0e=a0e,o0e=kc,l0e=function(){try{var e=o0e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),NB=l0e,c0e=i0e,fT=NB,u0e=af,d0e=fT?function(e,t){return fT(e,"toString",{configurable:!0,enumerable:!1,value:c0e(t),writable:!0})}:u0e,f0e=d0e,h0e=800,m0e=16,p0e=Date.now;function g0e(e){var t=0,r=0;return function(){var n=p0e(),s=m0e-(n-r);if(r=n,s>0){if(++t>=h0e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var v0e=g0e,y0e=f0e,x0e=v0e,b0e=x0e(y0e),w0e=b0e,j0e=af,N0e=s0e,S0e=w0e;function _0e(e,t){return S0e(N0e(e,t,j0e),e+"")}var k0e=_0e,C0e=mC,P0e=Ip,E0e=OC,A0e=Qo;function O0e(e,t,r){if(!A0e(r))return!1;var n=typeof t;return(n=="number"?P0e(r)&&E0e(t,r.length):n=="string"&&t in r)?C0e(r[t],e):!1}var zb=O0e,T0e=bB,I0e=Jbe,R0e=k0e,hT=zb,$0e=R0e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&hT(e,t[0],t[1])?t=[]:r>2&&hT(t[0],t[1],t[2])&&(t=[t[0]]),I0e(e,T0e(t,1),[])}),M0e=$0e;const $C=It(M0e);function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_N.apply(this,arguments)}function D0e(e,t){return B0e(e)||U0e(e,t)||F0e(e,t)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F0e(e,t){if(e){if(typeof e=="string")return mT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mT(e,t)}}function mT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function B0e(e){if(Array.isArray(e))return e}function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){V0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V0e(e,t,r){return t=q0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q0e(e){var t=z0e(e,"string");return gm(t)=="symbol"?t:t+""}function z0e(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0e(e){return Array.isArray(e)&&Hr(e[0])&&Hr(e[1])?e.join(" ~ "):e}var H0e=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,g=t.wrapperClassName,y=t.labelClassName,m=t.label,x=t.labelFormatter,b=t.accessibilityLayer,p=b===void 0?!1:b,w=function(){if(d&&d.length){var R={padding:0,margin:0},O=(h?$C(d,h):d).map(function(I,T){if(I.type==="none")return null;var D=Fw({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),q=I.formatter||f||W0e,A=I.value,$=I.name,H=A,Y=$;if(q&&H!=null&&Y!=null){var L=q(A,$,I,T,d);if(Array.isArray(L)){var K=D0e(L,2);H=K[0],Y=K[1]}else H=L}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:D},Hr(Y)?M.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Hr(Y)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},H),M.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},N=Fw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Fw({margin:0},u),S=!vt(m),_=S?m:"",k=ft("recharts-default-tooltip",g),C=ft("recharts-tooltip-label",y);S&&x&&d!==void 0&&d!==null&&(_=x(m,d));var E=p?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",_N({className:k,style:N},E),M.createElement("p",{className:C,style:j},M.isValidElement(_)?_:"".concat(_)),w())};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function Eg(e,t,r){return t=K0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K0e(e){var t=G0e(e,"string");return vm(t)=="symbol"?t:t+""}function G0e(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var If="recharts-tooltip-wrapper",Y0e={visibility:"hidden"};function Q0e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ft(If,Eg(Eg(Eg(Eg({},"".concat(If,"-right"),je(r)&&t&&je(t.x)&&r>=t.x),"".concat(If,"-left"),je(r)&&t&&je(t.x)&&r<t.x),"".concat(If,"-bottom"),je(n)&&t&&je(t.y)&&n>=t.y),"".concat(If,"-top"),je(n)&&t&&je(t.y)&&n<t.y))}function gT(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&je(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,g=c[n];return h<g?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,m=c[n]+u;return y>m?Math.max(d,c[n]):Math.max(f,c[n])}function X0e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Z0e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=gT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=gT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=X0e({translateX:d,translateY:f,useTranslate3d:l})):u=Y0e,{cssProperties:u,cssClasses:Q0e({translateX:d,translateY:f,coordinate:r})}}function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){CN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ewe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_B(n.key),n)}}function twe(e,t,r){return t&&ewe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rwe(e,t,r){return t=ky(t),nwe(e,SB()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}function nwe(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return swe(e)}function swe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SB=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}function awe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kN(e,t)}function CN(e,t,r){return t=_B(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e){var t=iwe(e,"string");return yd(t)=="symbol"?t:t+""}function iwe(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xT=1,owe=function(e){function t(){var r;J0e(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=rwe(this,t,[].concat(s)),CN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),CN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return awe(t,e),twe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>xT||Math.abs(n.height-this.state.lastBoundingBox.height)>xT)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,g=s.offset,y=s.position,m=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,p=s.wrapperStyle,w=Z0e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),N=w.cssClasses,j=w.cssProperties,S=yT(yT({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},p);return M.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(v.PureComponent),lwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},of={isSsr:lwe()};function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){MC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CB(n.key),n)}}function dwe(e,t,r){return t&&uwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fwe(e,t,r){return t=Cy(t),hwe(e,kB()?Reflect.construct(t,r||[],Cy(e).constructor):t.apply(e,r))}function hwe(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mwe(e)}function mwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kB=function(){return!!e})()}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(e)}function pwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},PN(e,t)}function MC(e,t,r){return t=CB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CB(e){var t=gwe(e,"string");return xd(t)=="symbol"?t:t+""}function gwe(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vwe(e){return e.dataKey}function ywe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(H0e,t)}var aa=function(e){function t(){return cwe(this,t),fwe(this,t,arguments)}return pwe(t,e),dwe(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,g=s.offset,y=s.payload,m=s.payloadUniqBy,x=s.position,b=s.reverseDirection,p=s.useTranslate3d,w=s.viewBox,N=s.wrapperStyle,j=y??[];f&&j.length&&(j=gB(y.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),m,vwe));var S=j.length>0;return M.createElement(owe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:g,position:x,reverseDirection:b,useTranslate3d:p,viewBox:w,wrapperStyle:N},ywe(u,wT(wT({},this.props),{},{payload:j})))}}])}(v.PureComponent);MC(aa,"displayName","Tooltip");MC(aa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!of.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xwe=Za,bwe=function(){return xwe.Date.now()},wwe=bwe,jwe=/\s/;function Nwe(e){for(var t=e.length;t--&&jwe.test(e.charAt(t)););return t}var Swe=Nwe,_we=Swe,kwe=/^\s+/;function Cwe(e){return e&&e.slice(0,_we(e)+1).replace(kwe,"")}var Pwe=Cwe,Ewe=Pwe,jT=Qo,Awe=Zd,NT=NaN,Owe=/^[-+]0x[0-9a-f]+$/i,Twe=/^0b[01]+$/i,Iwe=/^0o[0-7]+$/i,Rwe=parseInt;function $we(e){if(typeof e=="number")return e;if(Awe(e))return NT;if(jT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=jT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ewe(e);var r=Twe.test(e);return r||Iwe.test(e)?Rwe(e.slice(2),r?2:8):Owe.test(e)?NT:+e}var PB=$we,Mwe=Qo,Uw=wwe,ST=PB,Dwe="Expected a function",Lwe=Math.max,Fwe=Math.min;function Uwe(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Dwe);t=ST(t)||0,Mwe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Lwe(ST(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function g(S){var _=n,k=s;return n=s=void 0,u=S,o=e.apply(k,_),o}function y(S){return u=S,l=setTimeout(b,t),d?g(S):o}function m(S){var _=S-c,k=S-u,C=t-_;return f?Fwe(C,i-k):C}function x(S){var _=S-c,k=S-u;return c===void 0||_>=t||_<0||f&&k>=i}function b(){var S=Uw();if(x(S))return p(S);l=setTimeout(b,m(S))}function p(S){return l=void 0,h&&n?g(S):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function N(){return l===void 0?o:p(Uw())}function j(){var S=Uw(),_=x(S);if(n=arguments,s=this,c=S,_){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(b,t),g(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=w,j.flush=N,j}var Bwe=Uwe,Vwe=Bwe,qwe=Qo,zwe="Expected a function";function Wwe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(zwe);return qwe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),Vwe(e,t,{leading:n,maxWait:t,trailing:s})}var Hwe=Wwe;const EB=It(Hwe);function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){Kwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kwe(e,t,r){return t=Gwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gwe(e){var t=Ywe(e,"string");return ym(t)=="symbol"?t:t+""}function Ywe(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qwe(e,t){return eje(e)||Jwe(e,t)||Zwe(e,t)||Xwe()}function Xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zwe(e,t){if(e){if(typeof e=="string")return kT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kT(e,t)}}function kT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function eje(e){if(Array.isArray(e))return e}var CT=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,g=e.children,y=e.debounce,m=y===void 0?0:y,x=e.id,b=e.className,p=e.onResize,w=e.style,N=w===void 0?{}:w,j=v.useRef(null),S=v.useRef();S.current=p,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var _=v.useState({containerWidth:s.width,containerHeight:s.height}),k=Qwe(_,2),C=k[0],E=k[1],P=v.useCallback(function(O,I){E(function(T){var D=Math.round(O),q=Math.round(I);return T.containerWidth===D&&T.containerHeight===q?T:{containerWidth:D,containerHeight:q}})},[]);v.useEffect(function(){var O=function($){var H,Y=$[0].contentRect,L=Y.width,K=Y.height;P(L,K),(H=S.current)===null||H===void 0||H.call(S,L,K)};m>0&&(O=EB(O,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(O),T=j.current.getBoundingClientRect(),D=T.width,q=T.height;return P(D,q),I.observe(j.current),function(){I.disconnect()}},[P,m]);var R=v.useMemo(function(){var O=C.containerWidth,I=C.containerHeight;if(O<0||I<0)return null;pa(Pl(o)||Pl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),pa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=Pl(o)?O:o,D=Pl(c)?I:c;r&&r>0&&(T?D=T/r:D&&(T=D*r),h&&D>h&&(D=h)),pa(T>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,D,o,c,d,f,r);var q=!Array.isArray(g)&&wi(g.type).endsWith("Chart");return M.Children.map(g,function(A){return M.isValidElement(A)?v.cloneElement(A,Ag({width:T,height:D},q?{style:Ag({height:"100%",width:"100%",maxHeight:D,maxWidth:T},A.props.style)}:{})):A})},[r,g,c,h,f,d,C,o]);return M.createElement("div",{id:x?"".concat(x):void 0,className:ft("recharts-responsive-container",b),style:Ag(Ag({},N),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},R)}),Wb=function(t){return null};Wb.displayName="Cell";function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function EN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){tje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tje(e,t,r){return t=rje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rje(e){var t=nje(e,"string");return xm(t)=="symbol"?t:t+""}function nje(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hc={widthCache:{},cacheCount:0},sje=2e3,aje={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ET="recharts_measurement_span";function ije(e){var t=EN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var yh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||of.isSsr)return{width:0,height:0};var n=ije(r),s=JSON.stringify({text:t,copyStyle:n});if(Hc.widthCache[s])return Hc.widthCache[s];try{var i=document.getElementById(ET);i||(i=document.createElement("span"),i.setAttribute("id",ET),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=EN(EN({},aje),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Hc.widthCache[s]=c,++Hc.cacheCount>sje&&(Hc.cacheCount=0,Hc.widthCache={}),c}catch{return{width:0,height:0}}},oje=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function Py(e,t){return dje(e)||uje(e,t)||cje(e,t)||lje()}function lje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cje(e,t){if(e){if(typeof e=="string")return AT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AT(e,t)}}function AT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function dje(e){if(Array.isArray(e))return e}function fje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mje(n.key),n)}}function hje(e,t,r){return t&&OT(e.prototype,t),r&&OT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mje(e){var t=pje(e,"string");return bm(t)=="symbol"?t:t+""}function pje(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vje=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yje=Object.keys(AB),xu="NaN";function xje(e,t){return e*AB[t]}var Og=function(){function e(t,r){fje(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!gje.test(r)&&(this.num=NaN,this.unit=""),yje.includes(r)&&(this.num=xje(t,r),this.unit="px")}return hje(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=vje.exec(r))!==null&&n!==void 0?n:[],i=Py(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function OB(e){if(e.includes(xu))return xu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=TT.exec(t))!==null&&r!==void 0?r:[],s=Py(n,4),i=s[1],o=s[2],l=s[3],c=Og.parse(i??""),u=Og.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return xu;t=t.replace(TT,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=IT.exec(t))!==null&&f!==void 0?f:[],g=Py(h,4),y=g[1],m=g[2],x=g[3],b=Og.parse(y??""),p=Og.parse(x??""),w=m==="+"?b.add(p):b.subtract(p);if(w.isNaN())return xu;t=t.replace(IT,w.toString())}return t}var RT=/\(([^()]*)\)/;function bje(e){for(var t=e;t.includes("(");){var r=RT.exec(t),n=Py(r,2),s=n[1];t=t.replace(RT,OB(s))}return t}function wje(e){var t=e.replace(/\s+/g,"");return t=bje(t),t=OB(t),t}function jje(e){try{return wje(e)}catch{return xu}}function Bw(e){var t=jje(e.slice(5,-1));return t===xu?"":t}var Nje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Sje=["dx","dy","angle","className","breakAll"];function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AN.apply(this,arguments)}function $T(e,t){if(e==null)return{};var r=_je(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _je(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MT(e,t){return Eje(e)||Pje(e,t)||Cje(e,t)||kje()}function kje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cje(e,t){if(e){if(typeof e=="string")return DT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DT(e,t)}}function DT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Eje(e){if(Array.isArray(e))return e}var TB=/[ \f\n\r\t\v\u2028\u2029]+/,IB=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];vt(r)||(n?i=r.toString().split(""):i=r.toString().split(TB));var o=i.map(function(c){return{word:c,width:yh(c,s).width}}),l=n?0:yh("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Aje=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=je(o),f=l,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(D,q){var A=q.word,$=q.width,H=D[D.length-1];if(H&&(s==null||i||H.width+$+n<Number(s)))H.words.push(A),H.width+=$+n;else{var Y={words:[A],width:$};D.push(Y)}return D},[])},g=h(r),y=function(T){return T.reduce(function(D,q){return D.width>q.width?D:q})};if(!d)return g;for(var m="",x=function(T){var D=f.slice(0,T),q=IB({breakAll:u,style:c,children:D+m}).wordsWithComputedWidth,A=h(q),$=A.length>o||y(A).width>Number(s);return[$,A]},b=0,p=f.length-1,w=0,N;b<=p&&w<=f.length-1;){var j=Math.floor((b+p)/2),S=j-1,_=x(S),k=MT(_,2),C=k[0],E=k[1],P=x(j),R=MT(P,1),O=R[0];if(!C&&!O&&(b=j+1),C&&O&&(p=j-1),!C&&O){N=E;break}w++}return N||g},LT=function(t){var r=vt(t)?[]:t.toString().split(TB);return[{words:r}]},Oje=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!of.isSsr){var c,u,d=IB({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return LT(s);return Aje({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return LT(s)},FT="#808080",fc=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,g=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,x=t.fill,b=x===void 0?FT:x,p=$T(t,Nje),w=v.useMemo(function(){return Oje({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:f,style:p.style,width:p.width})},[p.breakAll,p.children,p.maxLines,f,p.style,p.width]),N=p.dx,j=p.dy,S=p.angle,_=p.className,k=p.breakAll,C=$T(p,Sje);if(!Hr(n)||!Hr(i))return null;var E=n+(je(N)?N:0),P=i+(je(j)?j:0),R;switch(m){case"start":R=Bw("calc(".concat(u,")"));break;case"middle":R=Bw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=Bw("calc(".concat(w.length-1," * -").concat(l,")"));break}var O=[];if(f){var I=w[0].width,T=p.width;O.push("scale(".concat((je(T)?T/I:1)/I,")"))}return S&&O.push("rotate(".concat(S,", ").concat(E,", ").concat(P,")")),O.length&&(C.transform=O.join(" ")),M.createElement("text",AN({},Je(C,!0),{x:E,y:P,className:ft("recharts-text",_),textAnchor:g,fill:b.includes("url")?FT:b}),w.map(function(D,q){var A=D.words.join(k?"":" ");return M.createElement("tspan",{x:E,dy:q===0?R:l,key:"".concat(A,"-").concat(q)},A)}))};function To(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Tje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DC(e){let t,r,n;e.length!==2?(t=To,r=(l,c)=>To(e(l),c),n=(l,c)=>e(l)-c):(t=e===To||e===Tje?e:Ije,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function Ije(){return 0}function RB(e){return e===null?NaN:+e}function*Rje(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const $je=DC(To),Rp=$je.right;DC(RB).center;class UT extends Map{constructor(t,r=Lje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(BT(this,t))}has(t){return super.has(BT(this,t))}set(t,r){return super.set(Mje(this,t),r)}delete(t){return super.delete(Dje(this,t))}}function BT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Mje({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Dje({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Lje(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Fje(e=To){if(e===To)return $B;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $B(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Uje=Math.sqrt(50),Bje=Math.sqrt(10),Vje=Math.sqrt(2);function Ey(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Uje?10:i>=Bje?5:i>=Vje?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Ey(e,t,r*2):[l,c,u]}function ON(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Ey(t,e,r):Ey(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function TN(e,t,r){return t=+t,e=+e,r=+r,Ey(e,t,r)[2]}function IN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?TN(t,e,r):TN(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function VT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function qT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function MB(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?$B:Fje(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));MB(e,t,g,y,s)}const i=e[t];let o=r,l=n;for(Rf(e,r,t),s(e[n],i)>0&&Rf(e,r,n);o<l;){for(Rf(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Rf(e,r,l):(++l,Rf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Rf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function qje(e,t,r){if(e=Float64Array.from(Rje(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return qT(e);if(t>=1)return VT(e);var n,s=(n-1)*t,i=Math.floor(s),o=VT(MB(e,i).subarray(0,i+1)),l=qT(e.subarray(i+1));return o+(l-o)*(s-i)}}function zje(e,t,r=RB){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Wje(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Ks(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const RN=Symbol("implicit");function LC(){var e=new UT,t=[],r=[],n=RN;function s(i){let o=e.get(i);if(o===void 0){if(n!==RN)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new UT;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return LC(t,r).unknown(n)},Ks.apply(s,arguments),s}function wm(){var e=LC().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,g=s<n,y=g?s:n,m=g?n:s;i=(m-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(m-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var x=Wje(h).map(function(b){return y+i*b});return r(g?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return wm(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ks.apply(f(),arguments)}function DB(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DB(t())},e}function xh(){return DB(wm.apply(null,arguments).paddingInner(1))}function FC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function LB(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $p(){}var jm=.7,Ay=1/jm,Ru="\\s*([+-]?\\d+)\\s*",Nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hje=/^#([0-9a-f]{3,8})$/,Kje=new RegExp(`^rgb\\(${Ru},${Ru},${Ru}\\)$`),Gje=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),Yje=new RegExp(`^rgba\\(${Ru},${Ru},${Ru},${Nm}\\)$`),Qje=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${Nm}\\)$`),Xje=new RegExp(`^hsl\\(${Nm},${Ba},${Ba}\\)$`),Zje=new RegExp(`^hsla\\(${Nm},${Ba},${Ba},${Nm}\\)$`),zT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FC($p,Sm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WT,formatHex:WT,formatHex8:Jje,formatHsl:e1e,formatRgb:HT,toString:HT});function WT(){return this.rgb().formatHex()}function Jje(){return this.rgb().formatHex8()}function e1e(){return FB(this).formatHsl()}function HT(){return this.rgb().formatRgb()}function Sm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Hje.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?KT(t):r===3?new Yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Tg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Tg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kje.exec(e))?new Yn(t[1],t[2],t[3],1):(t=Gje.exec(e))?new Yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Yje.exec(e))?Tg(t[1],t[2],t[3],t[4]):(t=Qje.exec(e))?Tg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Xje.exec(e))?QT(t[1],t[2]/100,t[3]/100,1):(t=Zje.exec(e))?QT(t[1],t[2]/100,t[3]/100,t[4]):zT.hasOwnProperty(e)?KT(zT[e]):e==="transparent"?new Yn(NaN,NaN,NaN,0):null}function KT(e){return new Yn(e>>16&255,e>>8&255,e&255,1)}function Tg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yn(e,t,r,n)}function t1e(e){return e instanceof $p||(e=Sm(e)),e?(e=e.rgb(),new Yn(e.r,e.g,e.b,e.opacity)):new Yn}function $N(e,t,r,n){return arguments.length===1?t1e(e):new Yn(e,t,r,n??1)}function Yn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}FC(Yn,$N,LB($p,{brighter(e){return e=e==null?Ay:Math.pow(Ay,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yn(Wl(this.r),Wl(this.g),Wl(this.b),Oy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GT,formatHex:GT,formatHex8:r1e,formatRgb:YT,toString:YT}));function GT(){return`#${El(this.r)}${El(this.g)}${El(this.b)}`}function r1e(){return`#${El(this.r)}${El(this.g)}${El(this.b)}${El((isNaN(this.opacity)?1:this.opacity)*255)}`}function YT(){const e=Oy(this.opacity);return`${e===1?"rgb(":"rgba("}${Wl(this.r)}, ${Wl(this.g)}, ${Wl(this.b)}${e===1?")":`, ${e})`}`}function Oy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function El(e){return e=Wl(e),(e<16?"0":"")+e.toString(16)}function QT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new da(e,t,r,n)}function FB(e){if(e instanceof da)return new da(e.h,e.s,e.l,e.opacity);if(e instanceof $p||(e=Sm(e)),!e)return new da;if(e instanceof da)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new da(o,l,c,e.opacity)}function n1e(e,t,r,n){return arguments.length===1?FB(e):new da(e,t,r,n??1)}function da(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}FC(da,n1e,LB($p,{brighter(e){return e=e==null?Ay:Math.pow(Ay,e),new da(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new da(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Yn(Vw(e>=240?e-240:e+120,s,n),Vw(e,s,n),Vw(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new da(XT(this.h),Ig(this.s),Ig(this.l),Oy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Oy(this.opacity);return`${e===1?"hsl(":"hsla("}${XT(this.h)}, ${Ig(this.s)*100}%, ${Ig(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XT(e){return e=(e||0)%360,e<0?e+360:e}function Ig(e){return Math.max(0,Math.min(1,e||0))}function Vw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const UC=e=>()=>e;function s1e(e,t){return function(r){return e+r*t}}function a1e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function i1e(e){return(e=+e)==1?UB:function(t,r){return r-t?a1e(t,r,e):UC(isNaN(t)?r:t)}}function UB(e,t){var r=t-e;return r?s1e(e,r):UC(isNaN(e)?t:e)}const ZT=function e(t){var r=i1e(t);function n(s,i){var o=r((s=$N(s)).r,(i=$N(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=UB(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function o1e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function l1e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function c1e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=lf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function u1e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ty(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function d1e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=lf(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var MN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qw=new RegExp(MN.source,"g");function f1e(e){return function(){return e}}function h1e(e){return function(t){return e(t)+""}}function m1e(e,t){var r=MN.lastIndex=qw.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=MN.exec(e))&&(s=qw.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Ty(n,s)})),r=qw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?h1e(c[0].x):f1e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function lf(e,t){var r=typeof t,n;return t==null||r==="boolean"?UC(t):(r==="number"?Ty:r==="string"?(n=Sm(t))?(t=n,ZT):m1e:t instanceof Sm?ZT:t instanceof Date?u1e:l1e(t)?o1e:Array.isArray(t)?c1e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?d1e:Ty)(e,t)}function BC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function p1e(e,t){t===void 0&&(t=e,e=lf);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function g1e(e){return function(){return e}}function Iy(e){return+e}var JT=[0,1];function Ln(e){return e}function DN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:g1e(isNaN(t)?NaN:.5)}function v1e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function y1e(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=DN(s,n),i=r(o,i)):(n=DN(n,s),i=r(i,o)),function(l){return i(n(l))}}function x1e(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=DN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Rp(e,l,1,n)-1;return i[c](s[c](l))}}function Mp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hb(){var e=JT,t=JT,r=lf,n,s,i,o=Ln,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ln&&(o=v1e(e[0],e[h-1])),l=h>2?x1e:y1e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),Ty)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Iy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=BC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ln,d()):o!==Ln},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,g){return n=h,s=g,d()}}function VC(){return Hb()(Ln,Ln)}function b1e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ry(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bd(e){return e=Ry(Math.abs(e)),e?e[1]:NaN}function w1e(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function j1e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var N1e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _m(e){if(!(t=N1e.exec(e)))throw new Error("invalid format: "+e);var t;return new qC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_m.prototype=qC.prototype;function qC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S1e(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var BB;function _1e(e,t){var r=Ry(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(BB=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ry(e,Math.max(0,t+i-1))[0]}function eI(e,t){var r=Ry(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const tI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:b1e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eI(e*100,t),r:eI,s:_1e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rI(e){return e}var nI=Array.prototype.map,sI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function k1e(e){var t=e.grouping===void 0||e.thousands===void 0?rI:w1e(nI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?rI:j1e(nI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=_m(f);var h=f.fill,g=f.align,y=f.sign,m=f.symbol,x=f.zero,b=f.width,p=f.comma,w=f.precision,N=f.trim,j=f.type;j==="n"?(p=!0,j="g"):tI[j]||(w===void 0&&(w=12),N=!0,j="g"),(x||h==="0"&&g==="=")&&(x=!0,h="0",g="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=m==="$"?n:/[%p]/.test(j)?o:"",k=tI[j],C=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(P){var R=S,O=_,I,T,D;if(j==="c")O=k(P)+O,P="";else{P=+P;var q=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),w),N&&(P=S1e(P)),q&&+P==0&&y!=="+"&&(q=!1),R=(q?y==="("?y:l:y==="-"||y==="("?"":y)+R,O=(j==="s"?sI[8+BB/3]:"")+O+(q&&y==="("?")":""),C){for(I=-1,T=P.length;++I<T;)if(D=P.charCodeAt(I),48>D||D>57){O=(D===46?s+P.slice(I+1):P.slice(I))+O,P=P.slice(0,I);break}}}p&&!x&&(P=t(P,1/0));var A=R.length+P.length+O.length,$=A<b?new Array(b-A+1).join(h):"";switch(p&&x&&(P=t($+P,$.length?b-O.length:1/0),$=""),g){case"<":P=R+P+O+$;break;case"=":P=R+$+P+O;break;case"^":P=$.slice(0,A=$.length>>1)+R+P+O+$.slice(A);break;default:P=$+R+P+O;break}return i(P)}return E.toString=function(){return f+""},E}function d(f,h){var g=u((f=_m(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(bd(h)/3)))*3,m=Math.pow(10,-y),x=sI[8+y/3];return function(b){return g(m*b)+x}}return{format:u,formatPrefix:d}}var Rg,zC,VB;C1e({thousands:",",grouping:[3],currency:["$",""]});function C1e(e){return Rg=k1e(e),zC=Rg.format,VB=Rg.formatPrefix,Rg}function P1e(e){return Math.max(0,-bd(Math.abs(e)))}function E1e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bd(t)/3)))*3-bd(Math.abs(e)))}function A1e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bd(t)-bd(e))+1}function qB(e,t,r,n){var s=IN(e,t,r),i;switch(n=_m(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=E1e(s,o))&&(n.precision=i),VB(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=A1e(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=P1e(s))&&(n.precision=i-(n.type==="%")*2);break}}return zC(n)}function Xo(e){var t=e.domain;return e.ticks=function(r){var n=t();return ON(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return qB(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=TN(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function $y(){var e=VC();return e.copy=function(){return Mp(e,$y())},Ks.apply(e,arguments),Xo(e)}function zB(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Iy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return zB(e).unknown(t)},e=arguments.length?Array.from(e,Iy):[0,1],Xo(r)}function WB(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function aI(e){return Math.log(e)}function iI(e){return Math.exp(e)}function O1e(e){return-Math.log(-e)}function T1e(e){return-Math.exp(-e)}function I1e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function R1e(e){return e===10?I1e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $1e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function oI(e){return(t,r)=>-e(-t,r)}function WC(e){const t=e(aI,iI),r=t.domain;let n=10,s,i;function o(){return s=$1e(n),i=R1e(n),r()[0]<0?(s=oI(s),i=oI(i),e(O1e,T1e)):e(aI,iI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),g=s(d),y,m;const x=l==null?10:+l;let b=[];if(!(n%1)&&g-h<x){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(y=1;y<n;++y)if(m=h<0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=g;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<x&&(b=ON(u,d,x))}else b=ON(h,g,Math.min(g-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=_m(c)).precision==null&&(c.trim=!0),c=zC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(WB(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function HB(){const e=WC(Hb()).domain([1,10]);return e.copy=()=>Mp(e,HB()).base(e.base()),Ks.apply(e,arguments),e}function lI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function HC(e){var t=1,r=e(lI(t),cI(t));return r.constant=function(n){return arguments.length?e(lI(t=+n),cI(t)):t},Xo(r)}function KB(){var e=HC(Hb());return e.copy=function(){return Mp(e,KB()).constant(e.constant())},Ks.apply(e,arguments)}function uI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function M1e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function D1e(e){return e<0?-e*e:e*e}function KC(e){var t=e(Ln,Ln),r=1;function n(){return r===1?e(Ln,Ln):r===.5?e(M1e,D1e):e(uI(r),uI(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Xo(t)}function GC(){var e=KC(Hb());return e.copy=function(){return Mp(e,GC()).exponent(e.exponent())},Ks.apply(e,arguments),e}function L1e(){return GC.apply(null,arguments).exponent(.5)}function dI(e){return Math.sign(e)*e*e}function F1e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GB(){var e=VC(),t=[0,1],r=!1,n;function s(i){var o=F1e(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(dI(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Iy)).map(dI)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return GB(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ks.apply(s,arguments),Xo(s)}function YB(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=zje(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Rp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(To),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return YB().domain(e).range(t).unknown(n)},Ks.apply(i,arguments)}function QB(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Rp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return QB().domain([e,t]).range(s).unknown(i)},Ks.apply(Xo(o),arguments)}function XB(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Rp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return XB().domain(e).range(t).unknown(r)},Ks.apply(s,arguments)}const zw=new Date,Ww=new Date;function Zr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Zr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(zw.setTime(+i),Ww.setTime(+o),e(zw),e(Ww),Math.floor(r(zw,Ww))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const My=Zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);My.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):My);My.range;const vi=1e3,Ds=vi*60,yi=Ds*60,Ri=yi*24,YC=Ri*7,fI=Ri*30,Hw=Ri*365,Al=Zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCSeconds());Al.range;const QC=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi)},(e,t)=>{e.setTime(+e+t*Ds)},(e,t)=>(t-e)/Ds,e=>e.getMinutes());QC.range;const XC=Zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ds)},(e,t)=>(t-e)/Ds,e=>e.getUTCMinutes());XC.range;const ZC=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi-e.getMinutes()*Ds)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getHours());ZC.range;const JC=Zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getUTCHours());JC.range;const Dp=Zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ds)/Ri,e=>e.getDate()-1);Dp.range;const Kb=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>e.getUTCDate()-1);Kb.range;const ZB=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>Math.floor(e/Ri));ZB.range;function Cc(e){return Zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ds)/YC)}const Gb=Cc(0),Dy=Cc(1),U1e=Cc(2),B1e=Cc(3),wd=Cc(4),V1e=Cc(5),q1e=Cc(6);Gb.range;Dy.range;U1e.range;B1e.range;wd.range;V1e.range;q1e.range;function Pc(e){return Zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/YC)}const Yb=Pc(0),Ly=Pc(1),z1e=Pc(2),W1e=Pc(3),jd=Pc(4),H1e=Pc(5),K1e=Pc(6);Yb.range;Ly.range;z1e.range;W1e.range;jd.range;H1e.range;K1e.range;const eP=Zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());eP.range;const tP=Zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tP.range;const $i=Zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$i.range;const Mi=Zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Mi.range;function JB(e,t,r,n,s,i){const o=[[Al,1,vi],[Al,5,5*vi],[Al,15,15*vi],[Al,30,30*vi],[i,1,Ds],[i,5,5*Ds],[i,15,15*Ds],[i,30,30*Ds],[s,1,yi],[s,3,3*yi],[s,6,6*yi],[s,12,12*yi],[n,1,Ri],[n,2,2*Ri],[r,1,YC],[t,1,fI],[t,3,3*fI],[e,1,Hw]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),y=g?g.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,g=DC(([,,x])=>x).right(o,h);if(g===o.length)return e.every(IN(u/Hw,d/Hw,f));if(g===0)return My.every(Math.max(IN(u,d,f),1));const[y,m]=o[h/o[g-1][2]<o[g][2]/h?g-1:g];return y.every(m)}return[l,c]}const[G1e,Y1e]=JB(Mi,tP,Yb,ZB,JC,XC),[Q1e,X1e]=JB($i,eP,Gb,Dp,ZC,QC);function Kw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $f(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Z1e(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Mf(s),d=Df(s),f=Mf(i),h=Df(i),g=Mf(o),y=Df(o),m=Mf(l),x=Df(l),b=Mf(c),p=Df(c),w={a:q,A,b:$,B:H,c:null,d:yI,e:yI,f:wNe,g:ONe,G:INe,H:yNe,I:xNe,j:bNe,L:e8,m:jNe,M:NNe,p:Y,q:L,Q:wI,s:jI,S:SNe,u:_Ne,U:kNe,V:CNe,w:PNe,W:ENe,x:null,X:null,y:ANe,Y:TNe,Z:RNe,"%":bI},N={a:K,A:re,b:ae,B:be,c:null,d:xI,e:xI,f:LNe,g:GNe,G:QNe,H:$Ne,I:MNe,j:DNe,L:r8,m:FNe,M:UNe,p:ee,q:se,Q:wI,s:jI,S:BNe,u:VNe,U:qNe,V:zNe,w:WNe,W:HNe,x:null,X:null,y:KNe,Y:YNe,Z:XNe,"%":bI},j={a:E,A:P,b:R,B:O,c:I,d:gI,e:gI,f:mNe,g:pI,G:mI,H:vI,I:vI,j:uNe,L:hNe,m:cNe,M:dNe,p:C,q:lNe,Q:gNe,s:vNe,S:fNe,u:nNe,U:sNe,V:aNe,w:rNe,W:iNe,x:T,X:D,y:pI,Y:mI,Z:oNe,"%":pNe};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),N.x=S(r,N),N.X=S(n,N),N.c=S(t,N);function S(Q,X){return function(ie){var W=[],z=-1,ce=0,qe=Q.length,Ye,ut,Yt;for(ie instanceof Date||(ie=new Date(+ie));++z<qe;)Q.charCodeAt(z)===37&&(W.push(Q.slice(ce,z)),(ut=hI[Ye=Q.charAt(++z)])!=null?Ye=Q.charAt(++z):ut=Ye==="e"?" ":"0",(Yt=X[Ye])&&(Ye=Yt(ie,ut)),W.push(Ye),ce=z+1);return W.push(Q.slice(ce,z)),W.join("")}}function _(Q,X){return function(ie){var W=$f(1900,void 0,1),z=k(W,Q,ie+="",0),ce,qe;if(z!=ie.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(X&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ce=Gw($f(W.y,0,1)),qe=ce.getUTCDay(),ce=qe>4||qe===0?Ly.ceil(ce):Ly(ce),ce=Kb.offset(ce,(W.V-1)*7),W.y=ce.getUTCFullYear(),W.m=ce.getUTCMonth(),W.d=ce.getUTCDate()+(W.w+6)%7):(ce=Kw($f(W.y,0,1)),qe=ce.getDay(),ce=qe>4||qe===0?Dy.ceil(ce):Dy(ce),ce=Dp.offset(ce,(W.V-1)*7),W.y=ce.getFullYear(),W.m=ce.getMonth(),W.d=ce.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),qe="Z"in W?Gw($f(W.y,0,1)).getUTCDay():Kw($f(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(qe+5)%7:W.w+W.U*7-(qe+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Gw(W)):Kw(W)}}function k(Q,X,ie,W){for(var z=0,ce=X.length,qe=ie.length,Ye,ut;z<ce;){if(W>=qe)return-1;if(Ye=X.charCodeAt(z++),Ye===37){if(Ye=X.charAt(z++),ut=j[Ye in hI?X.charAt(z++):Ye],!ut||(W=ut(Q,ie,W))<0)return-1}else if(Ye!=ie.charCodeAt(W++))return-1}return W}function C(Q,X,ie){var W=u.exec(X.slice(ie));return W?(Q.p=d.get(W[0].toLowerCase()),ie+W[0].length):-1}function E(Q,X,ie){var W=g.exec(X.slice(ie));return W?(Q.w=y.get(W[0].toLowerCase()),ie+W[0].length):-1}function P(Q,X,ie){var W=f.exec(X.slice(ie));return W?(Q.w=h.get(W[0].toLowerCase()),ie+W[0].length):-1}function R(Q,X,ie){var W=b.exec(X.slice(ie));return W?(Q.m=p.get(W[0].toLowerCase()),ie+W[0].length):-1}function O(Q,X,ie){var W=m.exec(X.slice(ie));return W?(Q.m=x.get(W[0].toLowerCase()),ie+W[0].length):-1}function I(Q,X,ie){return k(Q,t,X,ie)}function T(Q,X,ie){return k(Q,r,X,ie)}function D(Q,X,ie){return k(Q,n,X,ie)}function q(Q){return o[Q.getDay()]}function A(Q){return i[Q.getDay()]}function $(Q){return c[Q.getMonth()]}function H(Q){return l[Q.getMonth()]}function Y(Q){return s[+(Q.getHours()>=12)]}function L(Q){return 1+~~(Q.getMonth()/3)}function K(Q){return o[Q.getUTCDay()]}function re(Q){return i[Q.getUTCDay()]}function ae(Q){return c[Q.getUTCMonth()]}function be(Q){return l[Q.getUTCMonth()]}function ee(Q){return s[+(Q.getUTCHours()>=12)]}function se(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var X=S(Q+="",w);return X.toString=function(){return Q},X},parse:function(Q){var X=_(Q+="",!1);return X.toString=function(){return Q},X},utcFormat:function(Q){var X=S(Q+="",N);return X.toString=function(){return Q},X},utcParse:function(Q){var X=_(Q+="",!0);return X.toString=function(){return Q},X}}}var hI={"-":"",_:" ",0:"0"},cn=/^\s*\d+/,J1e=/^%/,eNe=/[\\^$*+?|[\]().{}]/g;function Et(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function tNe(e){return e.replace(eNe,"\\$&")}function Mf(e){return new RegExp("^(?:"+e.map(tNe).join("|")+")","i")}function Df(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function rNe(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function nNe(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function sNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function aNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function iNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function mI(e,t,r){var n=cn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function pI(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oNe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lNe(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function cNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gI(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function uNe(e,t,r){var n=cn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function vI(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function dNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function hNe(e,t,r){var n=cn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function mNe(e,t,r){var n=cn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pNe(e,t,r){var n=J1e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function gNe(e,t,r){var n=cn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function vNe(e,t,r){var n=cn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function yI(e,t){return Et(e.getDate(),t,2)}function yNe(e,t){return Et(e.getHours(),t,2)}function xNe(e,t){return Et(e.getHours()%12||12,t,2)}function bNe(e,t){return Et(1+Dp.count($i(e),e),t,3)}function e8(e,t){return Et(e.getMilliseconds(),t,3)}function wNe(e,t){return e8(e,t)+"000"}function jNe(e,t){return Et(e.getMonth()+1,t,2)}function NNe(e,t){return Et(e.getMinutes(),t,2)}function SNe(e,t){return Et(e.getSeconds(),t,2)}function _Ne(e){var t=e.getDay();return t===0?7:t}function kNe(e,t){return Et(Gb.count($i(e)-1,e),t,2)}function t8(e){var t=e.getDay();return t>=4||t===0?wd(e):wd.ceil(e)}function CNe(e,t){return e=t8(e),Et(wd.count($i(e),e)+($i(e).getDay()===4),t,2)}function PNe(e){return e.getDay()}function ENe(e,t){return Et(Dy.count($i(e)-1,e),t,2)}function ANe(e,t){return Et(e.getFullYear()%100,t,2)}function ONe(e,t){return e=t8(e),Et(e.getFullYear()%100,t,2)}function TNe(e,t){return Et(e.getFullYear()%1e4,t,4)}function INe(e,t){var r=e.getDay();return e=r>=4||r===0?wd(e):wd.ceil(e),Et(e.getFullYear()%1e4,t,4)}function RNe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function xI(e,t){return Et(e.getUTCDate(),t,2)}function $Ne(e,t){return Et(e.getUTCHours(),t,2)}function MNe(e,t){return Et(e.getUTCHours()%12||12,t,2)}function DNe(e,t){return Et(1+Kb.count(Mi(e),e),t,3)}function r8(e,t){return Et(e.getUTCMilliseconds(),t,3)}function LNe(e,t){return r8(e,t)+"000"}function FNe(e,t){return Et(e.getUTCMonth()+1,t,2)}function UNe(e,t){return Et(e.getUTCMinutes(),t,2)}function BNe(e,t){return Et(e.getUTCSeconds(),t,2)}function VNe(e){var t=e.getUTCDay();return t===0?7:t}function qNe(e,t){return Et(Yb.count(Mi(e)-1,e),t,2)}function n8(e){var t=e.getUTCDay();return t>=4||t===0?jd(e):jd.ceil(e)}function zNe(e,t){return e=n8(e),Et(jd.count(Mi(e),e)+(Mi(e).getUTCDay()===4),t,2)}function WNe(e){return e.getUTCDay()}function HNe(e,t){return Et(Ly.count(Mi(e)-1,e),t,2)}function KNe(e,t){return Et(e.getUTCFullYear()%100,t,2)}function GNe(e,t){return e=n8(e),Et(e.getUTCFullYear()%100,t,2)}function YNe(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function QNe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?jd(e):jd.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function XNe(){return"+0000"}function bI(){return"%"}function wI(e){return+e}function jI(e){return Math.floor(+e/1e3)}var Kc,s8,a8;ZNe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZNe(e){return Kc=Z1e(e),s8=Kc.format,Kc.parse,a8=Kc.utcFormat,Kc.utcParse,Kc}function JNe(e){return new Date(e)}function eSe(e){return e instanceof Date?+e:+new Date(+e)}function rP(e,t,r,n,s,i,o,l,c,u){var d=VC(),f=d.invert,h=d.domain,g=u(".%L"),y=u(":%S"),m=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),p=u("%b %d"),w=u("%B"),N=u("%Y");function j(S){return(c(S)<S?g:l(S)<S?y:o(S)<S?m:i(S)<S?x:n(S)<S?s(S)<S?b:p:r(S)<S?w:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,eSe)):h().map(JNe)},d.ticks=function(S){var _=h();return e(_[0],_[_.length-1],S??10)},d.tickFormat=function(S,_){return _==null?j:u(_)},d.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?h(WB(_,S)):d},d.copy=function(){return Mp(d,rP(e,t,r,n,s,i,o,l,c,u))},d}function tSe(){return Ks.apply(rP(Q1e,X1e,$i,eP,Gb,Dp,ZC,QC,Al,s8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rSe(){return Ks.apply(rP(G1e,Y1e,Mi,tP,Yb,Kb,JC,XC,Al,a8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qb(){var e=0,t=1,r,n,s,i,o=Ln,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var g,y;return arguments.length?([g,y]=h,o=f(g,y),u):[o(0),o(1)]}}return u.range=d(lf),u.rangeRound=d(BC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Zo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function i8(){var e=Xo(Qb()(Ln));return e.copy=function(){return Zo(e,i8())},Vi.apply(e,arguments)}function o8(){var e=WC(Qb()).domain([1,10]);return e.copy=function(){return Zo(e,o8()).base(e.base())},Vi.apply(e,arguments)}function l8(){var e=HC(Qb());return e.copy=function(){return Zo(e,l8()).constant(e.constant())},Vi.apply(e,arguments)}function nP(){var e=KC(Qb());return e.copy=function(){return Zo(e,nP()).exponent(e.exponent())},Vi.apply(e,arguments)}function nSe(){return nP.apply(null,arguments).exponent(.5)}function c8(){var e=[],t=Ln;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(To),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>qje(e,i/n))},r.copy=function(){return c8(t).domain(e)},Vi.apply(r,arguments)}function Xb(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Ln,d,f=!1,h;function g(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}g.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,g):[e,t,r]},g.clamp=function(m){return arguments.length?(f=!!m,g):f},g.interpolator=function(m){return arguments.length?(u=m,g):u};function y(m){return function(x){var b,p,w;return arguments.length?([b,p,w]=x,u=p1e(m,[b,p,w]),g):[u(0),u(.5),u(1)]}}return g.range=y(lf),g.rangeRound=y(BC),g.unknown=function(m){return arguments.length?(h=m,g):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,g}}function u8(){var e=Xo(Xb()(Ln));return e.copy=function(){return Zo(e,u8())},Vi.apply(e,arguments)}function d8(){var e=WC(Xb()).domain([.1,1,10]);return e.copy=function(){return Zo(e,d8()).base(e.base())},Vi.apply(e,arguments)}function f8(){var e=HC(Xb());return e.copy=function(){return Zo(e,f8()).constant(e.constant())},Vi.apply(e,arguments)}function sP(){var e=KC(Xb());return e.copy=function(){return Zo(e,sP()).exponent(e.exponent())},Vi.apply(e,arguments)}function sSe(){return sP.apply(null,arguments).exponent(.5)}const NI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wm,scaleDiverging:u8,scaleDivergingLog:d8,scaleDivergingPow:sP,scaleDivergingSqrt:sSe,scaleDivergingSymlog:f8,scaleIdentity:zB,scaleImplicit:RN,scaleLinear:$y,scaleLog:HB,scaleOrdinal:LC,scalePoint:xh,scalePow:GC,scaleQuantile:YB,scaleQuantize:QB,scaleRadial:GB,scaleSequential:i8,scaleSequentialLog:o8,scaleSequentialPow:nP,scaleSequentialQuantile:c8,scaleSequentialSqrt:nSe,scaleSequentialSymlog:l8,scaleSqrt:L1e,scaleSymlog:KB,scaleThreshold:XB,scaleTime:tSe,scaleUtc:rSe,tickFormat:qB},Symbol.toStringTag,{value:"Module"}));var aSe=Zd;function iSe(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!aSe(o):r(o,l)))var l=o,c=i}return c}var Zb=iSe;function oSe(e,t){return e>t}var h8=oSe,lSe=Zb,cSe=h8,uSe=af;function dSe(e){return e&&e.length?lSe(e,uSe,cSe):void 0}var fSe=dSe;const Jb=It(fSe);function hSe(e,t){return e<t}var m8=hSe,mSe=Zb,pSe=m8,gSe=af;function vSe(e){return e&&e.length?mSe(e,gSe,pSe):void 0}var ySe=vSe;const e0=It(ySe);var xSe=yC,bSe=Ja,wSe=jB,jSe=os;function NSe(e,t){var r=jSe(e)?xSe:wSe;return r(e,bSe(t))}var SSe=NSe,_Se=bB,kSe=SSe;function CSe(e,t){return _Se(kSe(e,t),1)}var PSe=CSe;const ESe=It(PSe);var ASe=IC;function OSe(e,t){return ASe(e,t)}var TSe=OSe;const t0=It(TSe);var cf=1e9,ISe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iP,tr=!0,qs="[DecimalError] ",Hl=qs+"Invalid argument: ",aP=qs+"Exponent out of range: ",uf=Math.floor,yl=Math.pow,RSe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vs,tn=1e7,Zt=7,p8=9007199254740991,Fy=uf(p8/Zt),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Zt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Re.dividedBy=Re.div=function(e){return ji(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,r=t.constructor;return Vt(ji(t,new r(e),0,1),r.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return Mr(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vs))throw Error(qs+"NaN");if(r.s<1)throw Error(qs+(r.s?"NaN":"-Infinity"));return r.eq(vs)?new n(0):(tr=!1,t=ji(km(r,i),km(e,i),i),tr=!0,Vt(t,s))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y8(t,e):g8(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(qs+"NaN");return r.s?(tr=!1,t=ji(r,e,0,1).times(e),tr=!0,r.minus(t)):Vt(new n(r),s)};Re.naturalExponential=Re.exp=function(){return v8(this)};Re.naturalLogarithm=Re.ln=function(){return km(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g8(t,e):y8(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hl+e);if(t=Mr(s)+1,n=s.d.length-1,r=n*Zt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Re.squareRoot=Re.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(qs+"NaN")}for(e=Mr(l),tr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ma(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=uf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(ji(l,i,o+2)).times(.5),Ma(i.d).slice(0,o)===(t=Ma(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Vt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return tr=!0,Vt(n,r)};Re.times=Re.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=g.length,c<u&&(i=h,h=g,g=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+g[n]*h[s-n-1]+t,i[s--]=l%tn|0,t=l/tn|0;i[s]=(i[s]+t)%tn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,tr?Vt(e,f.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ka(e,0,cf),t===void 0?t=n.rounding:Ka(t,0,8),Vt(r,e+Mr(r)+1,t))};Re.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=hc(n,!0):(Ka(e,0,cf),t===void 0?t=s.rounding:Ka(t,0,8),n=Vt(new s(n),e+1,t),r=hc(n,!0,e+1)),r};Re.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?hc(s):(Ka(e,0,cf),t===void 0?t=i.rounding:Ka(t,0,8),n=Vt(new i(s),e+Mr(s)+1,t),r=hc(n.abs(),!1,e+Mr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),Mr(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(vs);if(l=new c(l),!l.s){if(e.s<1)throw Error(qs+"Infinity");return l}if(l.eq(vs))return l;if(n=c.precision,e.eq(vs))return Vt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=p8){for(s=new c(vs),t=Math.ceil(n/Zt+4),tr=!1;r%2&&(s=s.times(l),_I(s.d,t)),r=uf(r/2),r!==0;)l=l.times(l),_I(l.d,t);return tr=!0,e.s<0?new c(vs).div(s):Vt(s,n)}}else if(i<0)throw Error(qs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,tr=!1,s=e.times(km(l,n+u)),tr=!0,s=v8(s),s.s=i,s};Re.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Mr(s),n=hc(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ka(e,1,cf),t===void 0?t=i.rounding:Ka(t,0,8),s=Vt(new i(s),e,t),r=Mr(s),n=hc(s,e<=r||r<=i.toExpNeg,e)),n};Re.toSignificantDigits=Re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ka(e,1,cf),t===void 0?t=n.rounding:Ka(t,0,8)),Vt(new n(r),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mr(e),r=e.constructor;return hc(e,t<=r.toExpNeg||t>=r.toExpPos)};function g8(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),tr?Vt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Zt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/tn|0,c[i]%=tn;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,tr?Vt(t,f):t}function Ka(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Hl+e)}function Ma(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Zt-n.length,r&&(i+=ro(r)),i+=n;o=e[t],n=o+"",r=Zt-n.length,r&&(i+=ro(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ji=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%tn|0,o=i/tn|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*tn+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,g,y,m,x,b,p,w,N,j,S,_,k,C=n.constructor,E=n.s==s.s?1:-1,P=n.d,R=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(qs+"Division by zero");for(c=n.e-s.e,_=R.length,j=P.length,g=new C(E),y=g.d=[],u=0;R[u]==(P[u]||0);)++u;if(R[u]>(P[u]||0)&&--c,i==null?p=i=C.precision:o?p=i+(Mr(n)-Mr(s))+1:p=i,p<0)return new C(0);if(p=p/Zt+2|0,u=0,_==1)for(d=0,R=R[0],p++;(u<j||d)&&p--;u++)w=d*tn+(P[u]||0),y[u]=w/R|0,d=w%R|0;else{for(d=tn/(R[0]+1)|0,d>1&&(R=e(R,d),P=e(P,d),_=R.length,j=P.length),N=_,m=P.slice(0,_),x=m.length;x<_;)m[x++]=0;k=R.slice(),k.unshift(0),S=R[0],R[1]>=tn/2&&++S;do d=0,l=t(R,m,_,x),l<0?(b=m[0],_!=x&&(b=b*tn+(m[1]||0)),d=b/S|0,d>1?(d>=tn&&(d=tn-1),f=e(R,d),h=f.length,x=m.length,l=t(f,m,h,x),l==1&&(d--,r(f,_<h?k:R,h))):(d==0&&(l=d=1),f=R.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),l==-1&&(x=m.length,l=t(R,m,_,x),l<1&&(d++,r(m,_<x?k:R,x))),x=m.length):l===0&&(d++,m=[0]),y[u++]=d,l&&m[0]?m[x++]=P[N]||0:(m=[P[N]],x=1);while((N++<j||m[0]!==void 0)&&p--)}return y[0]||y.shift(),g.e=c,Vt(g,o?i+Mr(g)+1:i)}}();function v8(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Mr(e)>16)throw Error(aP+Mr(e));if(!e.s)return new d(vs);for(tr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(yl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(vs),d.precision=l;;){if(s=Vt(s.times(e),l),r=r.times(++c),o=i.plus(ji(s,r,l)),Ma(o.d).slice(0,l)===Ma(i.d).slice(0,l)){for(;u--;)i=Vt(i.times(i),l);return d.precision=f,t==null?(tr=!0,Vt(i,f)):i}i=o}}function Mr(e){for(var t=e.e*Zt,r=e.d[0];r>=10;r/=10)t++;return t}function Yw(e,t,r){if(t>e.LN10.sd())throw tr=!0,r&&(e.precision=r),Error(qs+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function ro(e){for(var t="";e--;)t+="0";return t}function km(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,g=e,y=g.d,m=g.constructor,x=m.precision;if(g.s<1)throw Error(qs+(g.s?"NaN":"-Infinity"));if(g.eq(vs))return new m(0);if(t==null?(tr=!1,u=x):u=t,g.eq(10))return t==null&&(tr=!0),Yw(m,u);if(u+=h,m.precision=u,r=Ma(y),n=r.charAt(0),i=Mr(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Ma(g.d),n=r.charAt(0),f++;i=Mr(g),n>1?(g=new m("0."+r),i++):g=new m(n+"."+r.slice(1))}else return c=Yw(m,u+2,x).times(i+""),g=km(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=x,t==null?(tr=!0,Vt(g,x)):g;for(l=o=g=ji(g.minus(vs),g.plus(vs),u),d=Vt(g.times(g),u),s=3;;){if(o=Vt(o.times(d),u),c=l.plus(ji(o,new m(s),u)),Ma(c.d).slice(0,u)===Ma(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Yw(m,u+2,x).times(i+""))),l=ji(l,new m(f),u),m.precision=x,t==null?(tr=!0,Vt(l,x)):l;l=c,s+=2}}function SI(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=uf(r/Zt),e.d=[],n=(r+1)%Zt,r<0&&(n+=Zt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Zt;n<s;)e.d.push(+t.slice(n,n+=Zt));t=t.slice(n),n=Zt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),tr&&(e.e>Fy||e.e<-Fy))throw Error(aP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Zt,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Zt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Zt,s=n-Zt+o}if(r!==void 0&&(i=yl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/yl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Mr(e),f.length=1,t=t-i-1,f[0]=yl(10,(Zt-t%Zt)%Zt),e.e=uf(-t/Zt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=yl(10,Zt-n),f[d]=s>0?(u/yl(10,o-s)%yl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==tn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=tn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(tr&&(e.e>Fy||e.e<-Fy))throw Error(aP+Mr(e));return e}function y8(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),tr?Vt(t,g):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(g/Zt),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=tn-1;--c[i],c[s]+=tn}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,tr?Vt(t,g):t):new h(0)}function hc(e,t,r){var n,s=Mr(e),i=Ma(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ro(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ro(-s-1)+i,r&&(n=r-o)>0&&(i+=ro(n))):s>=o?(i+=ro(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+ro(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=ro(n))),e.s<0?"-"+i:i}function _I(e,t){if(e.length>t)return e.length=t,!0}function x8(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Hl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return SI(o,i.toString())}else if(typeof i!="string")throw Error(Hl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,RSe.test(i))SI(o,i);else throw Error(Hl+i)}if(s.prototype=Re,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=x8,s.config=s.set=$Se,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function $Se(e){if(!e||typeof e!="object")throw Error(qs+"Object expected");var t,r,n,s=["precision",1,cf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(uf(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Hl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hl+r+": "+n);return this}var iP=x8(ISe);vs=new iP(1);const Bt=iP;function MSe(e){return USe(e)||FSe(e)||LSe(e)||DSe()}function DSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LSe(e,t){if(e){if(typeof e=="string")return LN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LN(e,t)}}function FSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function USe(e){if(Array.isArray(e))return LN(e)}function LN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BSe=function(t){return t},b8={},w8=function(t){return t===b8},kI=function(t){return function r(){return arguments.length===0||arguments.length===1&&w8(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},VSe=function e(t,r){return t===1?r:kI(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==b8}).length;return o>=t?r.apply(void 0,s):e(t-o,kI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return w8(f)?c.shift():f});return r.apply(void 0,MSe(d).concat(c))}))})},r0=function(t){return VSe(t.length,t)},FN=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},qSe=r0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),zSe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return BSe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},UN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},j8=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function WSe(e){var t;return e===0?t=1:t=Math.floor(new Bt(e).abs().log(10).toNumber())+1,t}function HSe(e,t,r){for(var n=new Bt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var KSe=r0(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),GSe=r0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),YSe=r0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const n0={rangeStep:HSe,getDigitCount:WSe,interpolateNumber:KSe,uninterpolateNumber:GSe,uninterpolateTruncation:YSe};function BN(e){return ZSe(e)||XSe(e)||N8(e)||QSe()}function QSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ZSe(e){if(Array.isArray(e))return VN(e)}function Cm(e,t){return t_e(e)||e_e(e,t)||N8(e,t)||JSe()}function JSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N8(e,t){if(e){if(typeof e=="string")return VN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VN(e,t)}}function VN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e_e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function t_e(e){if(Array.isArray(e))return e}function S8(e){var t=Cm(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function _8(e,t,r){if(e.lte(0))return new Bt(0);var n=n0.getDigitCount(e.toNumber()),s=new Bt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Bt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Bt(Math.ceil(c))}function r_e(e,t,r){var n=1,s=new Bt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Bt(10).pow(n0.getDigitCount(e)-1),s=new Bt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Bt(Math.floor(e)))}else e===0?s=new Bt(Math.floor((t-1)/2)):r||(s=new Bt(Math.floor(e)));var o=Math.floor((t-1)/2),l=zSe(qSe(function(c){return s.add(new Bt(c-o).mul(n)).toNumber()}),FN);return l(0,t)}function k8(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Bt(0),tickMin:new Bt(0),tickMax:new Bt(0)};var i=_8(new Bt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Bt(0):(o=new Bt(e).add(t).div(2),o=o.sub(new Bt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Bt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?k8(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Bt(l).mul(i)),tickMax:o.add(new Bt(c).mul(i))})}function n_e(e){var t=Cm(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=S8([r,n]),c=Cm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(BN(FN(0,s-1).map(function(){return 1/0}))):[].concat(BN(FN(0,s-1).map(function(){return-1/0})),[d]);return r>n?UN(f):f}if(u===d)return r_e(u,s,i);var h=k8(u,d,o,i),g=h.step,y=h.tickMin,m=h.tickMax,x=n0.rangeStep(y,m.add(new Bt(.1).mul(g)),g);return r>n?UN(x):x}function s_e(e,t){var r=Cm(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=S8([n,s]),l=Cm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=_8(new Bt(u).sub(c).div(d-1),i,0),h=[].concat(BN(n0.rangeStep(new Bt(c),new Bt(u).sub(new Bt(.99).mul(f)),f)),[u]);return n>s?UN(h):h}var a_e=j8(n_e),i_e=j8(s_e),o_e="Invariant failed";function mc(e,t){throw new Error(o_e)}var l_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(this,arguments)}function c_e(e,t){return h_e(e)||f_e(e,t)||d_e(e,t)||u_e()}function u_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d_e(e,t){if(e){if(typeof e=="string")return CI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CI(e,t)}}function CI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function h_e(e){if(Array.isArray(e))return e}function m_e(e,t){if(e==null)return{};var r=p_e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E8(n.key),n)}}function y_e(e,t,r){return t&&v_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x_e(e,t,r){return t=By(t),b_e(e,C8()?Reflect.construct(t,r||[],By(e).constructor):t.apply(e,r))}function b_e(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_e(e)}function w_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C8=function(){return!!e})()}function By(e){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},By(e)}function j_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qN(e,t)}function qN(e,t){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qN(e,t)}function P8(e,t,r){return t=E8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E8(e){var t=N_e(e,"string");return Nd(t)=="symbol"?t:t+""}function N_e(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var s0=function(e){function t(){return g_e(this,t),x_e(this,t,arguments)}return j_e(t,e),y_e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=m_e(n,l_e),g=Je(h,!1);this.props.direction==="x"&&d.type!=="number"&&mc();var y=c.map(function(m){var x=u(m,l),b=x.x,p=x.y,w=x.value,N=x.errorVal;if(!N)return null;var j=[],S,_;if(Array.isArray(N)){var k=c_e(N,2);S=k[0],_=k[1]}else S=_=N;if(i==="vertical"){var C=d.scale,E=p+s,P=E+o,R=E-o,O=C(w-S),I=C(w+_);j.push({x1:I,y1:P,x2:I,y2:R}),j.push({x1:O,y1:E,x2:I,y2:E}),j.push({x1:O,y1:P,x2:O,y2:R})}else if(i==="horizontal"){var T=f.scale,D=b+s,q=D-o,A=D+o,$=T(w-S),H=T(w+_);j.push({x1:q,y1:H,x2:A,y2:H}),j.push({x1:D,y1:$,x2:D,y2:H}),j.push({x1:q,y1:$,x2:A,y2:$})}return M.createElement(Dt,Uy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},g),j.map(function(Y){return M.createElement("line",Uy({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return M.createElement(Dt,{className:"recharts-errorBars"},y)}}])}(M.Component);P8(s0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});P8(s0,"displayName","ErrorBar");function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(r),!0).forEach(function(n){S_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S_e(e,t,r){return t=__e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __e(e){var t=k_e(e,"string");return Pm(t)=="symbol"?t:t+""}function k_e(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A8=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=ds(r,zl);if(!o)return null;var l=zl.defaultProps,c=l!==void 0?cl(cl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,g=f.props,y=g.sectors||g.data||[];return d.concat(y.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?cl(cl({},h),f.props):{},y=g.dataKey,m=g.name,x=g.legendType,b=g.hide;return{inactive:b,dataKey:y,type:c.iconType||x||"square",color:oP(f),value:m||y,payload:g}}),cl(cl(cl({},c),zl.getWithHeight(o,s)),{},{payload:u,item:o})};function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function EI(e){return A_e(e)||E_e(e)||P_e(e)||C_e()}function C_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P_e(e,t){if(e){if(typeof e=="string")return zN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zN(e,t)}}function E_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A_e(e){if(Array.isArray(e))return zN(e)}function zN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){$u(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $u(e,t,r){return t=O_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O_e(e){var t=T_e(e,"string");return Em(t)=="symbol"?t:t+""}function T_e(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sn(e,t,r){return vt(e)||vt(t)?r:Hr(t)?ws(e,t,r):at(t)?t(e):r}function bh(e,t,r,n){var s=ESe(e,function(l){return Sn(l,t)});if(r==="number"){var i=s.filter(function(l){return je(l)||parseFloat(l)});return i.length?[e0(i),Jb(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!vt(l)}):s;return o.map(function(l){return Hr(l)||l instanceof Date?l:""})}var I_e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,g=void 0;if(Mn(f-d)!==Mn(h-f)){var y=[];if(Mn(h-f)===Mn(c[1]-c[0])){g=h;var m=f+c[1]-c[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{g=d;var x=h+c[1]-c[0];y[0]=Math.min(f,(x+f)/2),y[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>b[0]&&t<=b[1]||t>=y[0]&&t<=y[1]){o=s[u].index;break}}else{var p=Math.min(d,h),w=Math.max(d,h);if(t>(p+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},oP=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},R_e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var y=d[f[h]],m=y.items,x=y.cateAxisId,b=m.filter(function(_){return wi(_.type).indexOf("Bar")>=0});if(b&&b.length){var p=b[0].type.defaultProps,w=p!==void 0?gr(gr({},p),b[0].props):b[0].props,N=w.barSize,j=w[x];o[j]||(o[j]=[]);var S=vt(N)?r:N;o[j].push({item:b[0],stackList:b.slice(1),barSize:vt(S)?void 0:Dn(S,n,0)})}}return o},$_e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Dn(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,g=s/c,y=o.reduce(function(N,j){return N+j.barSize||0},0);y+=(c-1)*u,y>=s&&(y-=(c-1)*u,u=0),y>=s&&g>0&&(h=!0,g*=.9,y=c*g);var m=(s-y)/2>>0,x={offset:m-u,size:0};d=o.reduce(function(N,j){var S={item:j.item,position:{offset:x.offset+x.size+u,size:h?g:j.barSize}},_=[].concat(EI(N),[S]);return x=_[_.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){_.push({item:k,position:x})}),_},f)}else{var b=Dn(n,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var p=(s-2*b-(c-1)*u)/c;p>1&&(p>>=0);var w=l===+l?Math.min(p,l):p;d=o.reduce(function(N,j,S){var _=[].concat(EI(N),[{item:j.item,position:{offset:b+(p+u)*S+(p-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){_.push({item:k,position:_[_.length-1].position})}),_},f)}return d},M_e=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=A8({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,g=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&g!=="center"&&je(t[g]))return gr(gr({},t),{},$u({},g,t[g]+(f||0)));if((m==="horizontal"||m==="vertical"&&g==="center")&&y!=="middle"&&je(t[y]))return gr(gr({},t),{},$u({},y,t[y]+(h||0)))}return t},D_e=function(t,r,n){return vt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},O8=function(t,r,n,s,i){var o=r.props.children,l=Us(o,s0).filter(function(u){return D_e(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Sn(d,n);if(vt(f))return u;var h=Array.isArray(f)?[e0(f),Jb(f)]:[f,f],g=c.reduce(function(y,m){var x=Sn(d,m,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),p=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,y[0]),Math.max(p,y[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},L_e=function(t,r,n,s,i){var o=r.map(function(l){return O8(t,l,n,i,s)}).filter(function(l){return!vt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},T8=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&O8(t,c,u,s)||bh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},I8=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},R8=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},xi=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Mn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Op(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},Qw=new WeakMap,$g=function(t,r){if(typeof r!="function")return t;Qw.has(t)||Qw.set(t,new WeakMap);var n=Qw.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},$8=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:wm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:$y(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xh(),realScaleType:"point"}:i==="category"?{scale:wm(),realScaleType:"band"}:{scale:$y(),realScaleType:"linear"};if(uc(s)){var c="scale".concat(Lb(s));return{scale:(NI[c]||xh)(),realScaleType:NI[c]?c:"point"}}return at(s)?{scale:s}:{scale:xh(),realScaleType:"point"}},OI=1e-4,M8=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-OI,o=Math.max(s[0],s[1])+OI,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},F_e=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},U_e=function(t,r){if(!r||r.length!==2||!je(r[0])||!je(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!je(t[0])||t[0]<n)&&(i[0]=n),(!je(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},B_e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Op(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},V_e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Op(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},q_e={sign:B_e,expand:lme,none:pd,silhouette:cme,wiggle:ume,positive:V_e},z_e=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=q_e[n],o=ome().keys(s).value(function(l,c){return+Sn(l,c,0)}).order(pN).offset(i);return o(t)},W_e=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var g,y=(g=h.type)!==null&&g!==void 0&&g.defaultProps?gr(gr({},h.type.defaultProps),h.props):h.props,m=y.stackId,x=y.hide;if(x)return f;var b=y[n],p=f[b]||{hasStack:!1,stackGroups:{}};if(Hr(m)){var w=p.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),p.hasStack=!0,p.stackGroups[m]=w}else p.stackGroups[Tp("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return gr(gr({},f),{},$u({},b,p))},c),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(m,x){var b=g.stackGroups[x];return gr(gr({},m),{},$u({},x,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:z_e(t,b.items,i)}))},y)}return gr(gr({},f),{},$u({},h,g))},d)},D8=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=a_e(u,i,l);return t.domain([e0(d),Jb(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=i_e(f,i,l);return{niceTicks:h}}return null},TI=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=Sn(o,r.dataKey,r.domain[l]);return vt(c)?null:r.scale(c)-i/2+s},H_e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},K_e=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Hr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},G_e=function(t){return t.reduce(function(r,n){return[e0(n.concat([r[0]]).filter(je)),Jb(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},L8=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=G_e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},II=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WN=function(t,r,n){if(at(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(je(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(II.test(t[0])){var i=+II.exec(t[0])[1];s[0]=r[0]-i}else at(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(je(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(RI.test(t[1])){var o=+RI.exec(t[1])[1];s[1]=r[1]+o}else at(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Vy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=$C(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},$I=function(t,r,n){return!t||!t.length||t0(t,ws(n,"type.defaultProps.domain"))?r:t},F8=function(t,r){var n=t.type.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return gr(gr({},Je(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:oP(t),value:Sn(r,s),type:c,payload:r,chartType:u,hide:d})};function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(n){U8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U8(e,t,r){return t=Y_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_e(e){var t=Q_e(e,"string");return Am(t)=="symbol"?t:t+""}function Q_e(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X_e(e,t){return tke(e)||eke(e,t)||J_e(e,t)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J_e(e,t){if(e){if(typeof e=="string")return DI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DI(e,t)}}function DI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tke(e){if(Array.isArray(e))return e}var qy=Math.PI/180,rke=function(t){return t*180/Math.PI},Gt=function(t,r,n,s){return{x:t+Math.cos(-qy*s)*n,y:r+Math.sin(-qy*s)*n}},B8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nke=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Dn(t.cx,o,o/2),f=Dn(t.cy,l,l/2),h=B8(o,l,n),g=Dn(t.innerRadius,h,0),y=Dn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(x,b){var p=r[b],w=p.domain,N=p.reversed,j;if(vt(p.range))s==="angleAxis"?j=[c,u]:s==="radiusAxis"&&(j=[g,y]),N&&(j=[j[1],j[0]]);else{j=p.range;var S=j,_=X_e(S,2);c=_[0],u=_[1]}var k=$8(p,i),C=k.realScaleType,E=k.scale;E.domain(w).range(j),M8(E);var P=D8(E,li(li({},p),{},{realScaleType:C})),R=li(li(li({},p),P),{},{range:j,radius:y,realScaleType:C,scale:E,cx:d,cy:f,innerRadius:g,outerRadius:y,startAngle:c,endAngle:u});return li(li({},x),{},U8({},b,R))},{})},ske=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},ake=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=ske({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:rke(u),angleInRadian:u}},ike=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},oke=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},LI=function(t,r){var n=t.x,s=t.y,i=ake({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=ike(r),f=d.startAngle,h=d.endAngle,g=l,y;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;y=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;y=g>=h&&g<=f}return y?li(li({},r),{},{radius:o,angle:oke(g,r)}):null},V8=function(t){return!v.isValidElement(t)&&!at(t)&&typeof t!="boolean"?t.className:""};function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}var lke=["offset"];function cke(e){return hke(e)||fke(e)||dke(e)||uke()}function uke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dke(e,t){if(e){if(typeof e=="string")return HN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(e,t)}}function fke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hke(e){if(Array.isArray(e))return HN(e)}function HN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mke(e,t){if(e==null)return{};var r=pke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){gke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gke(e,t,r){return t=vke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vke(e){var t=yke(e,"string");return Om(t)=="symbol"?t:t+""}function yke(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tm.apply(this,arguments)}var xke=function(t){var r=t.value,n=t.formatter,s=vt(t.children)?r:t.children;return at(n)?n(s):s},bke=function(t,r){var n=Mn(r-t),s=Math.min(Math.abs(r-t),360);return n*s},wke=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,g=c.startAngle,y=c.endAngle,m=c.clockWise,x=(f+h)/2,b=bke(g,y),p=b>=0?1:-1,w,N;s==="insideStart"?(w=g+p*o,N=m):s==="insideEnd"?(w=y-p*o,N=!m):s==="end"&&(w=y+p*o,N=m),N=b<=0?N:!N;var j=Gt(u,d,x,w),S=Gt(u,d,x,w+(N?1:-1)*359),_="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),k=vt(t.id)?Tp("recharts-radial-line-"):t.id;return M.createElement("text",Tm({},n,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:k,d:_})),M.createElement("textPath",{xlinkHref:"#".concat(k)},r))},jke=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var g=Gt(o,l,u+n,h),y=g.x,m=g.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=Gt(o,l,x,h),p=b.x,w=b.y;return{x:p,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Nke=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,g=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,x=m*s,b=m>0?"end":"start",p=m>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:g};return Ur(Ur({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return Ur(Ur({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ur(Ur({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:p,verticalAnchor:"middle"};return Ur(Ur({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return i==="insideLeft"?Ur({x:l+x,y:c+d/2,textAnchor:p,verticalAnchor:"middle"},_):i==="insideRight"?Ur({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},_):i==="insideTop"?Ur({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},_):i==="insideBottom"?Ur({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:g},_):i==="insideTopLeft"?Ur({x:l+x,y:c+h,textAnchor:p,verticalAnchor:y},_):i==="insideTopRight"?Ur({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:y},_):i==="insideBottomLeft"?Ur({x:l+x,y:c+d-h,textAnchor:p,verticalAnchor:g},_):i==="insideBottomRight"?Ur({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:g},_):Jd(i)&&(je(i.x)||Pl(i.x))&&(je(i.y)||Pl(i.y))?Ur({x:l+Dn(i.x,u),y:c+Dn(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):Ur({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Ske=function(t){return"cx"in t&&je(t.cx)};function nn(e){var t=e.offset,r=t===void 0?5:t,n=mke(e,lke),s=Ur({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||vt(l)&&vt(c)&&!v.isValidElement(u)&&!at(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var g;if(at(u)){if(g=v.createElement(u,s),v.isValidElement(g))return g}else g=xke(s);var y=Ske(i),m=Je(s,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return wke(s,g,m);var x=y?jke(s):Nke(s);return M.createElement(fc,Tm({className:ft("recharts-label",f)},m,x,{breakAll:h}),g)}nn.displayName="Label";var q8=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,g=t.top,y=t.left,m=t.width,x=t.height,b=t.clockWise,p=t.labelViewBox;if(p)return p;if(je(m)&&je(x)){if(je(f)&&je(h))return{x:f,y:h,width:m,height:x};if(je(g)&&je(y))return{x:g,y,width:m,height:x}}return je(f)&&je(h)?{x:f,y:h,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},_ke=function(t,r){return t?t===!0?M.createElement(nn,{key:"label-implicit",viewBox:r}):Hr(t)?M.createElement(nn,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===nn?v.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(nn,{key:"label-implicit",content:t,viewBox:r}):at(t)?M.createElement(nn,{key:"label-implicit",content:t,viewBox:r}):Jd(t)?M.createElement(nn,Tm({viewBox:r},t,{key:"label-implicit"})):null:null},kke=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=q8(t),o=Us(s,nn).map(function(c,u){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=_ke(t.label,r||i);return[l].concat(cke(o))};nn.parseViewBox=q8;nn.renderCallByParent=kke;function Cke(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Pke=Cke;const Eke=It(Pke);function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}var Ake=["valueAccessor"],Oke=["data","dataKey","clockWise","id","textBreakAll"];function Tke(e){return Mke(e)||$ke(e)||Rke(e)||Ike()}function Ike(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rke(e,t){if(e){if(typeof e=="string")return KN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(e,t)}}function $ke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mke(e){if(Array.isArray(e))return KN(e)}function KN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(this,arguments)}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){Dke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dke(e,t,r){return t=Lke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lke(e){var t=Fke(e,"string");return Im(t)=="symbol"?t:t+""}function Fke(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VI(e,t){if(e==null)return{};var r=Uke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Bke=function(t){return Array.isArray(t.value)?Eke(t.value):t.value};function Io(e){var t=e.valueAccessor,r=t===void 0?Bke:t,n=VI(e,Ake),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=VI(n,Oke);return!s||!s.length?null:M.createElement(Dt,{className:"recharts-label-list"},s.map(function(d,f){var h=vt(i)?r(d,f):Sn(d&&d.payload,i),g=vt(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(nn,zy({},Je(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:nn.parseViewBox(vt(o)?d:BI(BI({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Io.displayName="LabelList";function Vke(e,t){return e?e===!0?M.createElement(Io,{key:"labelList-implicit",data:t}):M.isValidElement(e)||at(e)?M.createElement(Io,{key:"labelList-implicit",data:t,content:e}):Jd(e)?M.createElement(Io,zy({data:t},e,{key:"labelList-implicit"})):null:null}function qke(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Us(n,Io).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=Vke(e.label,t);return[i].concat(Tke(s))}Io.renderCallByParent=qke;function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function GN(){return GN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GN.apply(this,arguments)}function qI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(r),!0).forEach(function(n){zke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zke(e,t,r){return t=Wke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wke(e){var t=Hke(e,"string");return Rm(t)=="symbol"?t:t+""}function Hke(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kke=function(t,r){var n=Mn(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Mg=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/qy,h=u?i:i+o*f,g=Gt(r,n,d,h),y=Gt(r,n,s,h),m=u?i-o*f:i,x=Gt(r,n,d*Math.cos(f*qy),m);return{center:g,circleTangency:y,lineTangency:x,theta:f}},z8=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Kke(o,l),u=o+c,d=Gt(r,n,i,o),f=Gt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var g=Gt(r,n,s,o),y=Gt(r,n,s,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Gke=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Mn(d-u),h=Mg({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=h.circleTangency,y=h.lineTangency,m=h.theta,x=Mg({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,p=x.lineTangency,w=x.theta,N=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(N<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):z8({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
  `);if(s>0){var S=Mg({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=S.circleTangency,k=S.lineTangency,C=S.theta,E=Mg({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=E.circleTangency,R=E.lineTangency,O=E.theta,I=c?Math.abs(u-d):Math.abs(u-d)-C-O;if(I<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},Yke={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},W8=function(t){var r=zI(zI({},Yke),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var g=ft("recharts-sector",h),y=o-i,m=Dn(l,y,0,!0),x;return m>0&&Math.abs(d-f)<360?x=Gke({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=z8({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),M.createElement("path",GN({},Je(r,!0),{className:g,d:x,role:"img"}))};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YN.apply(this,arguments)}function WI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(r),!0).forEach(function(n){Qke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qke(e,t,r){return t=Xke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xke(e){var t=Zke(e,"string");return $m(t)=="symbol"?t:t+""}function Zke(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KI={curveBasisClosed:Qhe,curveBasisOpen:Xhe,curveBasis:Yhe,curveBumpX:$he,curveBumpY:Mhe,curveLinearClosed:Zhe,curveLinear:Ub,curveMonotoneX:Jhe,curveMonotoneY:eme,curveNatural:tme,curveStep:rme,curveStepAfter:sme,curveStepBefore:nme},Dg=function(t){return t.x===+t.x&&t.y===+t.y},Lf=function(t){return t.x},Ff=function(t){return t.y},Jke=function(t,r){if(at(t))return t;var n="curve".concat(Lb(t));return(n==="curveMonotone"||n==="curveBump")&&r?KI["".concat(n).concat(r==="vertical"?"Y":"X")]:KI[n]||Ub},eCe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Jke(n,l),f=u?i.filter(function(m){return Dg(m)}):i,h;if(Array.isArray(o)){var g=u?o.filter(function(m){return Dg(m)}):o,y=f.map(function(m,x){return HI(HI({},m),{},{base:g[x]})});return l==="vertical"?h=Cg().y(Ff).x1(Lf).x0(function(m){return m.base.x}):h=Cg().x(Lf).y1(Ff).y0(function(m){return m.base.y}),h.defined(Dg).curve(d),h(y)}return l==="vertical"&&je(o)?h=Cg().y(Ff).x1(Lf).x0(o):je(o)?h=Cg().x(Lf).y1(Ff).y0(o):h=FU().x(Lf).y(Ff),h.defined(Dg).curve(d),h(f)},QN=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?eCe(t):s;return v.createElement("path",YN({},Je(t,!1),py(t),{className:ft("recharts-curve",r),d:o,ref:i}))},H8={exports:{}},tCe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rCe=tCe,nCe=rCe;function K8(){}function G8(){}G8.resetWarningCache=K8;var sCe=function(){function e(n,s,i,o,l,c){if(c!==nCe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:G8,resetWarningCache:K8};return r.PropTypes=r,r};H8.exports=sCe();var aCe=H8.exports;const Ot=It(aCe),{getOwnPropertyNames:iCe,getOwnPropertySymbols:oCe}=Object,{hasOwnProperty:lCe}=Object.prototype;function Xw(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Lg(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function cCe(e){return e!=null?e[Symbol.toStringTag]:void 0}function GI(e){return iCe(e).concat(oCe(e))}const uCe=Object.hasOwn||((e,t)=>lCe.call(e,t));function Ec(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const dCe="__v",fCe="__o",hCe="_owner",{getOwnPropertyDescriptor:YI,keys:QI}=Object;function mCe(e,t){return e.byteLength===t.byteLength&&Wy(new Uint8Array(e),new Uint8Array(t))}function pCe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function gCe(e,t){return e.byteLength===t.byteLength&&Wy(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function vCe(e,t){return Ec(e.getTime(),t.getTime())}function yCe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function xCe(e,t){return e===t}function XI(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,g=l.value;if(r.equals(h[0],g[0],c,f,e,t,r)&&r.equals(h[1],g[1],h[0],g[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const bCe=Ec;function wCe(e,t,r){const n=QI(e);let s=n.length;if(QI(t).length!==s)return!1;for(;s-- >0;)if(!Y8(e,t,r,n[s]))return!1;return!0}function Uf(e,t,r){const n=GI(e);let s=n.length;if(GI(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!Y8(e,t,r,i)||(o=YI(e,i),l=YI(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function jCe(e,t){return Ec(e.valueOf(),t.valueOf())}function NCe(e,t){return e.source===t.source&&e.flags===t.flags}function ZI(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Wy(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function SCe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Y8(e,t,r,n){return(n===hCe||n===fCe||n===dCe)&&(e.$$typeof||t.$$typeof)?!0:uCe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const _Ce="[object ArrayBuffer]",kCe="[object Arguments]",CCe="[object Boolean]",PCe="[object DataView]",ECe="[object Date]",ACe="[object Error]",OCe="[object Map]",TCe="[object Number]",ICe="[object Object]",RCe="[object RegExp]",$Ce="[object Set]",MCe="[object String]",DCe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},LCe="[object URL]",FCe=Object.prototype.toString;function UCe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:y}){return function(x,b,p){if(x===b)return!0;if(x==null||b==null)return!1;const w=typeof x;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(x,b,p):w==="function"?i(x,b,p):!1;const N=x.constructor;if(N!==b.constructor)return!1;if(N===Object)return c(x,b,p);if(Array.isArray(x))return t(x,b,p);if(N===Date)return n(x,b,p);if(N===RegExp)return d(x,b,p);if(N===Map)return o(x,b,p);if(N===Set)return f(x,b,p);const j=FCe.call(x);if(j===ECe)return n(x,b,p);if(j===RCe)return d(x,b,p);if(j===OCe)return o(x,b,p);if(j===$Ce)return f(x,b,p);if(j===ICe)return typeof x.then!="function"&&typeof b.then!="function"&&c(x,b,p);if(j===LCe)return g(x,b,p);if(j===ACe)return s(x,b,p);if(j===kCe)return c(x,b,p);if(DCe[j])return h(x,b,p);if(j===_Ce)return e(x,b,p);if(j===PCe)return r(x,b,p);if(j===CCe||j===TCe||j===MCe)return u(x,b,p);if(y){let S=y[j];if(!S){const _=cCe(x);_&&(S=y[_])}if(S)return S(x,b,p)}return!1}}function BCe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:mCe,areArraysEqual:r?Uf:pCe,areDataViewsEqual:gCe,areDatesEqual:vCe,areErrorsEqual:yCe,areFunctionsEqual:xCe,areMapsEqual:r?Xw(XI,Uf):XI,areNumbersEqual:bCe,areObjectsEqual:r?Uf:wCe,arePrimitiveWrappersEqual:jCe,areRegExpsEqual:NCe,areSetsEqual:r?Xw(ZI,Uf):ZI,areTypedArraysEqual:r?Xw(Wy,Uf):Wy,areUrlsEqual:SCe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=Lg(n.areArraysEqual),i=Lg(n.areMapsEqual),o=Lg(n.areObjectsEqual),l=Lg(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function VCe(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function qCe({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const zCe=Jo();Jo({strict:!0});Jo({circular:!0});Jo({circular:!0,strict:!0});Jo({createInternalComparator:()=>Ec});Jo({strict:!0,createInternalComparator:()=>Ec});Jo({circular:!0,createInternalComparator:()=>Ec});Jo({circular:!0,createInternalComparator:()=>Ec,strict:!0});function Jo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=BCe(e),o=UCe(i),l=r?r(o):VCe(o);return qCe({circular:t,comparator:o,createState:n,equals:l,strict:s})}function WCe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function JI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):WCe(s)};requestAnimationFrame(n)}function XN(e){"@babel/helpers - typeof";return XN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XN(e)}function HCe(e){return QCe(e)||YCe(e)||GCe(e)||KCe()}function KCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GCe(e,t){if(e){if(typeof e=="string")return eR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eR(e,t)}}function eR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QCe(e){if(Array.isArray(e))return e}function XCe(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=HCe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){JI(s.bind(null,u),c);return}s(c),JI(s.bind(null,u));return}XN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){Q8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q8(e,t,r){return t=ZCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZCe(e){var t=JCe(e,"string");return Mm(t)==="symbol"?t:String(t)}function JCe(e,t){if(Mm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ePe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},tPe=function(t){return t},rPe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},wh=function(t,r){return Object.keys(r).reduce(function(n,s){return rR(rR({},n),{},Q8({},s,t(s,r[s])))},{})},nR=function(t,r,n){return t.map(function(s){return"".concat(rPe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function nPe(e,t){return iPe(e)||aPe(e,t)||X8(e,t)||sPe()}function sPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function iPe(e){if(Array.isArray(e))return e}function oPe(e){return uPe(e)||cPe(e)||X8(e)||lPe()}function lPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8(e,t){if(e){if(typeof e=="string")return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(e,t)}}function cPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uPe(e){if(Array.isArray(e))return ZN(e)}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hy=1e-4,Z8=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},J8=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},sR=function(t,r){return function(n){var s=Z8(t,r);return J8(s,n)}},dPe=function(t,r){return function(n){var s=Z8(t,r),i=[].concat(oPe(s.map(function(o,l){return o*l}).slice(1)),[0]);return J8(i,n)}},aR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=nPe(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=sR(s,o),h=sR(i,l),g=dPe(s,o),y=function(b){return b>1?1:b<0?0:b},m=function(b){for(var p=b>1?1:b,w=p,N=0;N<8;++N){var j=f(w)-p,S=g(w);if(Math.abs(j-p)<Hy||S<Hy)return h(w);w=y(w-j/S)}return h(w)};return m.isStepper=!1,m},fPe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var g=-(d-f)*n,y=h*i,m=h+(g-y)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<Hy&&Math.abs(m)<Hy?[f,0]:[x,m]};return c.isStepper=!0,c.dt=l,c},hPe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aR(s);case"spring":return fPe();default:if(s.split("(")[0]==="cubic-bezier")return aR(s)}return typeof s=="function"?s:null};function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function iR(e){return gPe(e)||pPe(e)||eV(e)||mPe()}function mPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gPe(e){if(Array.isArray(e))return eS(e)}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){JN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JN(e,t,r){return t=vPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vPe(e){var t=yPe(e,"string");return Dm(t)==="symbol"?t:String(t)}function yPe(e,t){if(Dm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xPe(e,t){return jPe(e)||wPe(e,t)||eV(e,t)||bPe()}function bPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eV(e,t){if(e){if(typeof e=="string")return eS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eS(e,t)}}function eS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function jPe(e){if(Array.isArray(e))return e}var Ky=function(t,r,n){return t+(r-t)*n},tS=function(t){var r=t.from,n=t.to;return r!==n},NPe=function e(t,r,n){var s=wh(function(i,o){if(tS(o)){var l=t(o.from,o.to,o.velocity),c=xPe(l,2),u=c[0],d=c[1];return fn(fn({},o),{},{from:u,velocity:d})}return o},r);return n<1?wh(function(i,o){return tS(o)?fn(fn({},o),{},{velocity:Ky(o.velocity,s[i].velocity,n),from:Ky(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const SPe=function(e,t,r,n,s){var i=ePe(e,t),o=i.reduce(function(x,b){return fn(fn({},x),{},JN({},b,[e[b],t[b]]))},{}),l=i.reduce(function(x,b){return fn(fn({},x),{},JN({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return wh(function(b,p){return p.from},l)},g=function(){return!Object.values(l).filter(tS).length},y=function(b){u||(u=b);var p=b-u,w=p/r.dt;l=NPe(r,l,w),s(fn(fn(fn({},e),t),h())),u=b,g()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var p=(b-d)/n,w=wh(function(j,S){return Ky.apply(void 0,iR(S).concat([r(p)]))},o);if(s(fn(fn(fn({},e),t),w)),p<1)c=requestAnimationFrame(f);else{var N=wh(function(j,S){return Ky.apply(void 0,iR(S).concat([r(1)]))},o);s(fn(fn(fn({},e),t),N))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}var _Pe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kPe(e,t){if(e==null)return{};var r=CPe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CPe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Zw(e){return OPe(e)||APe(e)||EPe(e)||PPe()}function PPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EPe(e,t){if(e){if(typeof e=="string")return rS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rS(e,t)}}function APe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OPe(e){if(Array.isArray(e))return rS(e)}function rS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){eh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eh(e,t,r){return t=tV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tV(n.key),n)}}function RPe(e,t,r){return t&&IPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tV(e){var t=$Pe(e,"string");return Sd(t)==="symbol"?t:String(t)}function $Pe(e,t){if(Sd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nS(e,t)}function DPe(e){var t=LPe();return function(){var n=Gy(e),s;if(t){var i=Gy(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return sS(this,s)}}function sS(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aS(e)}function aS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(e)}var Di=function(e){MPe(r,e);var t=DPe(r);function r(n,s){var i;TPe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,g=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(aS(i)),i.changeStyle=i.changeStyle.bind(aS(i)),!l||g<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),sS(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},sS(i);i.state={style:c?eh({},c,u):u}}else i.state={style:{}};return i}return RPe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var g={style:c?eh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(g);return}if(!(zCe(s.to,d)&&s.canBegin&&s.isActive)){var y=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:s.to;if(this.state&&h){var x={style:c?eh({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(x)}this.runAnimation(Qs(Qs({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,g=SPe(o,l,hPe(u),c,this.changeStyle),y=function(){i.stopJSAnimation=g()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(m,x,b){if(b===0)return m;var p=x.duration,w=x.easing,N=w===void 0?"ease":w,j=x.style,S=x.properties,_=x.onAnimationEnd,k=b>0?o[b-1]:x,C=S||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(Zw(m),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:p,easing:N}),p]);var E=nR(C,p,N),P=Qs(Qs(Qs({},k.style),j),{},{transition:E});return[].concat(Zw(m),[P,p,_]).filter(tPe)};return this.manager.start([c].concat(Zw(o.reduce(g,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=XCe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,g=s.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?eh({},l,c):c,x=nR(Object.keys(m),o,u);y.start([d,i,Qs(Qs({},m),{},{transition:x}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=kPe(s,_Pe),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(g){var y=g.props,m=y.style,x=m===void 0?{}:m,b=y.className,p=v.cloneElement(g,Qs(Qs({},c),{},{style:Qs(Qs({},x),d),className:b}));return p};return u===1?f(v.Children.only(i)):M.createElement("div",null,v.Children.map(i,function(h){return f(h)}))}}]),r}(v.PureComponent);Di.displayName="Animate";Di.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Di.propTypes={from:Ot.oneOfType([Ot.object,Ot.string]),to:Ot.oneOfType([Ot.object,Ot.string]),attributeName:Ot.string,duration:Ot.number,begin:Ot.number,easing:Ot.oneOfType([Ot.string,Ot.func]),steps:Ot.arrayOf(Ot.shape({duration:Ot.number.isRequired,style:Ot.object.isRequired,easing:Ot.oneOfType([Ot.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ot.func]),properties:Ot.arrayOf("string"),onAnimationEnd:Ot.func})),children:Ot.oneOfType([Ot.node,Ot.func]),isActive:Ot.bool,canBegin:Ot.bool,onAnimationEnd:Ot.func,shouldReAnimate:Ot.bool,onAnimationStart:Ot.func,onAnimationReStart:Ot.func};function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(this,arguments)}function FPe(e,t){return qPe(e)||VPe(e,t)||BPe(e,t)||UPe()}function UPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BPe(e,t){if(e){if(typeof e=="string")return cR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cR(e,t)}}function cR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qPe(e){if(Array.isArray(e))return e}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){zPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zPe(e,t,r){return t=WPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WPe(e){var t=HPe(e,"string");return Lm(t)=="symbol"?t:t+""}function HPe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fR=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+s-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+s,`
            L `).concat(t+c*y,",").concat(r+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},KPe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},GPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lP=function(t){var r=dR(dR({},GPe),t),n=v.useRef(),s=v.useState(-1),i=FPe(s,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,g=r.className,y=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,p=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=ft("recharts-rectangle",g);return p?M.createElement(Di,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:y,isActive:p},function(N){var j=N.width,S=N.height,_=N.x,k=N.y;return M.createElement(Di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:b,easing:y},M.createElement("path",Yy({},Je(r,!0),{className:w,d:fR(_,k,j,S,h),ref:n})))}):M.createElement("path",Yy({},Je(r,!0),{className:w,d:fR(c,u,d,f,h)}))},YPe=["points","className","baseLinePoints","connectNulls"];function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bu.apply(this,arguments)}function QPe(e,t){if(e==null)return{};var r=XPe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hR(e){return tEe(e)||eEe(e)||JPe(e)||ZPe()}function ZPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JPe(e,t){if(e){if(typeof e=="string")return iS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iS(e,t)}}function eEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tEe(e){if(Array.isArray(e))return iS(e)}function iS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mR=function(t){return t&&t.x===+t.x&&t.y===+t.y},rEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){mR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),mR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},jh=function(t,r){var n=rEe(t);r&&(n=[n.reduce(function(i,o){return[].concat(hR(i),hR(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},nEe=function(t,r,n){var s=jh(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(jh(r.reverse(),n).slice(1))},sEe=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=QPe(t,YPe);if(!r||!r.length)return null;var l=ft("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=nEe(r,s,i);return M.createElement("g",{className:l},M.createElement("path",bu({},Je(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?M.createElement("path",bu({},Je(o,!0),{fill:"none",d:jh(r,i)})):null,c?M.createElement("path",bu({},Je(o,!0),{fill:"none",d:jh(s,i)})):null)}var d=jh(r,i);return M.createElement("path",bu({},Je(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oS.apply(this,arguments)}var cP=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=ft("recharts-dot",i);return r===+r&&n===+n&&s===+s?v.createElement("circle",oS({},Je(t,!1),py(t),{className:o,cx:r,cy:n,r:s})):null};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}var aEe=["x","y","top","left","width","height","className"];function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lS.apply(this,arguments)}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function iEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){oEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oEe(e,t,r){return t=lEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lEe(e){var t=cEe(e,"string");return Fm(t)=="symbol"?t:t+""}function cEe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uEe(e,t){if(e==null)return{};var r=dEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fEe=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},hEe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,g=h===void 0?0:h,y=t.className,m=uEe(t,aEe),x=iEe({x:n,y:i,top:l,left:u,width:f,height:g},m);return!je(n)||!je(i)||!je(f)||!je(g)||!je(l)||!je(u)?null:M.createElement("path",lS({},Je(x,!0),{className:ft("recharts-cross",y),d:fEe(n,i,f,g,l,u)}))},mEe=Zb,pEe=h8,gEe=Ja;function vEe(e,t){return e&&e.length?mEe(e,gEe(t),pEe):void 0}var yEe=vEe;const xEe=It(yEe);var bEe=Zb,wEe=Ja,jEe=m8;function NEe(e,t){return e&&e.length?bEe(e,wEe(t),jEe):void 0}var SEe=NEe;const _Ee=It(SEe);var kEe=["cx","cy","angle","ticks","axisLine"],CEe=["ticks","tick","angle","tickFormatter","stroke"];function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(this,arguments)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){a0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vR(e,t){if(e==null)return{};var r=PEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nV(n.key),n)}}function AEe(e,t,r){return t&&yR(e.prototype,t),r&&yR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OEe(e,t,r){return t=Qy(t),TEe(e,rV()?Reflect.construct(t,r||[],Qy(e).constructor):t.apply(e,r))}function TEe(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IEe(e)}function IEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!e})()}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(e)}function REe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}function cS(e,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cS(e,t)}function a0(e,t,r){return t=nV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=$Ee(e,"string");return _d(t)=="symbol"?t:t+""}function $Ee(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i0=function(e){function t(){return EEe(this,t),OEe(this,t,arguments)}return REe(t,e),AEe(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Gt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=xEe(l,function(d){return d.coordinate||0}),u=_Ee(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=vR(n,kEe),d=l.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),f=Gt(s,i,d[0],o),h=Gt(s,i,d[1],o),g=ul(ul(ul({},Je(u,!1)),{},{fill:"none"},Je(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",Nh({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=vR(s,CEe),f=this.getTickTextAnchor(),h=Je(d,!1),g=Je(o,!1),y=i.map(function(m,x){var b=n.getTickValueCoord(m),p=ul(ul(ul(ul({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:x},b),{},{payload:m});return M.createElement(Dt,Nh({className:ft("recharts-polar-radius-axis-tick",V8(o)),key:"tick-".concat(m.coordinate)},dc(n.props,m,x)),t.renderTickItem(o,p,c?c(m.value,x):m.value))});return M.createElement(Dt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:M.createElement(Dt,{className:ft("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),nn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,s):at(n)?o=n(s):o=M.createElement(fc,Nh({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);a0(i0,"displayName","PolarRadiusAxis");a0(i0,"axisType","radiusAxis");a0(i0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){o0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aV(n.key),n)}}function DEe(e,t,r){return t&&bR(e.prototype,t),r&&bR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LEe(e,t,r){return t=Xy(t),FEe(e,sV()?Reflect.construct(t,r||[],Xy(e).constructor):t.apply(e,r))}function FEe(e,t){if(t&&(kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UEe(e)}function UEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!e})()}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(e)}function BEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},uS(e,t)}function o0(e,t,r){return t=aV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aV(e){var t=VEe(e,"string");return kd(t)=="symbol"?t:t+""}function VEe(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qEe=Math.PI/180,wR=1e-5,l0=function(e){function t(){return MEe(this,t),LEe(this,t,arguments)}return BEe(t,e),DEe(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=Gt(i,o,l,n.coordinate),h=Gt(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*qEe),o;return i>wR?o=s==="outer"?"start":"end":i<-wR?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=dl(dl({},Je(this.props,!1)),{},{fill:"none"},Je(l,!1));if(c==="circle")return M.createElement(cP,wl({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Gt(s,i,o,h.coordinate)});return M.createElement(sEe,wl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Je(this.props,!1),f=Je(o,!1),h=dl(dl({},d),{},{fill:"none"},Je(l,!1)),g=i.map(function(y,m){var x=n.getTickLineCoord(y),b=n.getTickTextAnchor(y),p=dl(dl(dl({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:y,x:x.x2,y:x.y2});return M.createElement(Dt,wl({className:ft("recharts-polar-angle-axis-tick",V8(o)),key:"tick-".concat(y.coordinate)},dc(n.props,y,m)),l&&M.createElement("line",wl({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,p,c?c(y.value,m):y.value))});return M.createElement(Dt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:M.createElement(Dt,{className:ft("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,s):at(n)?o=n(s):o=M.createElement(fc,wl({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);o0(l0,"displayName","PolarAngleAxis");o0(l0,"axisType","angleAxis");o0(l0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var zEe=cB,WEe=zEe(Object.getPrototypeOf,Object),HEe=WEe,KEe=Ui,GEe=HEe,YEe=Bi,QEe="[object Object]",XEe=Function.prototype,ZEe=Object.prototype,iV=XEe.toString,JEe=ZEe.hasOwnProperty,eAe=iV.call(Object);function tAe(e){if(!YEe(e)||KEe(e)!=QEe)return!1;var t=GEe(e);if(t===null)return!0;var r=JEe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&iV.call(r)==eAe}var rAe=tAe;const nAe=It(rAe);var sAe=Ui,aAe=Bi,iAe="[object Boolean]";function oAe(e){return e===!0||e===!1||aAe(e)&&sAe(e)==iAe}var lAe=oAe;const cAe=It(lAe);function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(this,arguments)}function uAe(e,t){return mAe(e)||hAe(e,t)||fAe(e,t)||dAe()}function dAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(e,t){if(e){if(typeof e=="string")return jR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jR(e,t)}}function jR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function mAe(e){if(Array.isArray(e))return e}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function SR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){pAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pAe(e,t,r){return t=gAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gAe(e){var t=vAe(e,"string");return Um(t)=="symbol"?t:t+""}function vAe(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _R=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},yAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xAe=function(t){var r=SR(SR({},yAe),t),n=v.useRef(),s=v.useState(-1),i=uAe(s,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,g=r.className,y=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var p=ft("recharts-trapezoid",g);return b?M.createElement(Di,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:b},function(w){var N=w.upperWidth,j=w.lowerWidth,S=w.height,_=w.x,k=w.y;return M.createElement(Di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:y},M.createElement("path",Zy({},Je(r,!0),{className:p,d:_R(_,k,N,j,S),ref:n})))}):M.createElement("g",null,M.createElement("path",Zy({},Je(r,!0),{className:p,d:_R(c,u,d,f,h)})))},bAe=["option","shapeType","propTransformer","activeClassName","isActive"];function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function wAe(e,t){if(e==null)return{};var r=jAe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){NAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NAe(e,t,r){return t=SAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SAe(e){var t=_Ae(e,"string");return Bm(t)=="symbol"?t:t+""}function _Ae(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kAe(e,t){return Jy(Jy({},t),e)}function CAe(e,t){return e==="symbols"}function CR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(lP,r);case"trapezoid":return M.createElement(xAe,r);case"sector":return M.createElement(W8,r);case"symbols":if(CAe(t))return M.createElement(CC,r);break;default:return null}}function PAe(e){return v.isValidElement(e)?e.props:e}function oV(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?kAe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=wAe(e,bAe),u;if(v.isValidElement(t))u=v.cloneElement(t,Jy(Jy({},c),PAe(t)));else if(at(t))u=t(c);else if(nAe(t)&&!cAe(t)){var d=s(t,c);u=M.createElement(CR,{shapeType:r,elementProps:d})}else{var f=c;u=M.createElement(CR,{shapeType:r,elementProps:f})}return l?M.createElement(Dt,{className:o},u):u}function c0(e,t){return t!=null&&"trapezoids"in e.props}function u0(e,t){return t!=null&&"sectors"in e.props}function Vm(e,t){return t!=null&&"points"in e.props}function EAe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function AAe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function OAe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function TAe(e,t){var r;return c0(e,t)?r=EAe:u0(e,t)?r=AAe:Vm(e,t)&&(r=OAe),r}function IAe(e,t){var r;return c0(e,t)?r="trapezoids":u0(e,t)?r="sectors":Vm(e,t)&&(r="points"),r}function RAe(e,t){if(c0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(u0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Vm(e,t)?t.payload:{}}function $Ae(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=IAe(r,t),i=RAe(r,t),o=n.filter(function(c,u){var d=t0(i,c),f=r.props[s].filter(function(y){var m=TAe(r,t);return m(y,t)}),h=r.props[s].indexOf(f[f.length-1]),g=u===h;return d&&g}),l=n.indexOf(o[o.length-1]);return l}var cv;function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wu.apply(this,arguments)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){Rs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ER(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cV(n.key),n)}}function DAe(e,t,r){return t&&ER(e.prototype,t),r&&ER(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LAe(e,t,r){return t=ex(t),FAe(e,lV()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function FAe(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UAe(e)}function UAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lV=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(e)}function BAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},dS(e,t)}function Rs(e,t,r){return t=cV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cV(e){var t=VAe(e,"string");return Cd(t)=="symbol"?t:t+""}function VAe(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qi=function(e){function t(r){var n;return MAe(this,t),n=LAe(this,t,[r]),Rs(n,"pieRef",null),Rs(n,"sectorRefs",[]),Rs(n,"id",Tp("recharts-pie-")),Rs(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),at(s)&&s()}),Rs(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),at(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return BAe(t,e),DAe(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Je(this.props,!1),f=Je(o,!1),h=Je(l,!1),g=o&&o.offsetRadius||20,y=n.map(function(m,x){var b=(m.startAngle+m.endAngle)/2,p=Gt(m.cx,m.cy,m.outerRadius+g,b),w=zt(zt(zt(zt({},d),m),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(p.x,m.cx)},p),N=zt(zt(zt(zt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:x,points:[Gt(m.cx,m.cy,m.outerRadius,b),p]}),j=c;return vt(c)&&vt(u)?j="value":vt(c)&&(j=u),M.createElement(Dt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,w,Sn(m,j)))});return M.createElement(Dt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,g=f?o:h,y=zt(zt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return M.createElement(Dt,wu({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},dc(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(oV,wu({option:g,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,g=f.prevIsAnimationActive;return M.createElement(Di,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,x=[],b=i&&i[0],p=b.startAngle;return i.forEach(function(w,N){var j=h&&h[N],S=N>0?ws(w,"paddingAngle",0):0;if(j){var _=to(j.endAngle-j.startAngle,w.endAngle-w.startAngle),k=zt(zt({},w),{},{startAngle:p+S,endAngle:p+_(m)+S});x.push(k),p=k.endAngle}else{var C=w.endAngle,E=w.startAngle,P=to(0,C-E),R=P(m),O=zt(zt({},w),{},{startAngle:p+S,endAngle:p+R+S});x.push(O),p=O.endAngle}}),M.createElement(Dt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!t0(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,g=s.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!je(u)||!je(d)||!je(f)||!je(h))return null;var m=ft("recharts-pie",l);return M.createElement(Dt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),nn.renderCallByParent(this.props,null,!1),(!g||y)&&Io.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(M.isValidElement(n))return M.cloneElement(n,s);if(at(n))return n(s);var o=ft("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(QN,wu({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(M.isValidElement(n))return M.cloneElement(n,s);var o=i;if(at(n)&&(o=n(s),M.isValidElement(o)))return o;var l=ft("recharts-pie-label-text",typeof n!="boolean"&&!at(n)?n.className:"");return M.createElement(fc,wu({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);cv=qi;Rs(qi,"displayName","Pie");Rs(qi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!of.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Rs(qi,"parseDeltaAngle",function(e,t){var r=Mn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Rs(qi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Je(e,!1),s=Us(r,Wb);return t&&t.length?t.map(function(i,o){return zt(zt(zt({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return zt(zt({},n),i.props)}):[]});Rs(qi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=B8(s,i),l=n+Dn(e.cx,s,s/2),c=r+Dn(e.cy,i,i/2),u=Dn(e.innerRadius,o,0),d=Dn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Rs(qi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?zt(zt({},t.type.defaultProps),t.props):t.props,s=cv.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,g=Math.abs(n.minAngle),y=cv.parseCoordinateOfPie(n,r),m=cv.parseDeltaAngle(o,l),x=Math.abs(m),b=u;vt(u)&&vt(f)?(pa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):vt(u)&&(pa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var p=s.filter(function(k){return Sn(k,b,0)!==0}).length,w=(x>=360?p:p-1)*c,N=x-p*g-w,j=s.reduce(function(k,C){var E=Sn(C,b,0);return k+(je(E)?E:0)},0),S;if(j>0){var _;S=s.map(function(k,C){var E=Sn(k,b,0),P=Sn(k,d,C),R=(je(E)?E:0)/j,O;C?O=_.endAngle+Mn(m)*c*(E!==0?1:0):O=o;var I=O+Mn(m)*((E!==0?g:0)+R*N),T=(O+I)/2,D=(y.innerRadius+y.outerRadius)/2,q=[{name:P,value:E,payload:k,dataKey:b,type:h}],A=Gt(y.cx,y.cy,D,T);return _=zt(zt(zt({percent:R,cornerRadius:i,name:P,tooltipPayload:q,midAngle:T,middleRadius:D,tooltipPosition:A},k),y),{},{value:Sn(k,b),startAngle:O,endAngle:I,payload:k,paddingAngle:Mn(m)*c}),_})}return zt(zt({},y),{},{sectors:S,data:s})});var qAe=Math.ceil,zAe=Math.max;function WAe(e,t,r,n){for(var s=-1,i=zAe(qAe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var HAe=WAe,KAe=PB,AR=1/0,GAe=17976931348623157e292;function YAe(e){if(!e)return e===0?e:0;if(e=KAe(e),e===AR||e===-AR){var t=e<0?-1:1;return t*GAe}return e===e?e:0}var uV=YAe,QAe=HAe,XAe=zb,Jw=uV;function ZAe(e){return function(t,r,n){return n&&typeof n!="number"&&XAe(t,r,n)&&(r=n=void 0),t=Jw(t),r===void 0?(r=t,t=0):r=Jw(r),n=n===void 0?t<r?1:-1:Jw(n),QAe(t,r,n,e)}}var JAe=ZAe,e2e=JAe,t2e=e2e(),r2e=t2e;const tx=It(r2e);function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){dV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dV(e,t,r){return t=n2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n2e(e){var t=s2e(e,"string");return qm(t)=="symbol"?t:t+""}function s2e(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a2e=["Webkit","Moz","O","ms"],i2e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=a2e.reduce(function(i,o){return TR(TR({},i),{},dV({},o+n,r))},{});return s[t]=r,s};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rx.apply(this,arguments)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){cs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hV(n.key),n)}}function l2e(e,t,r){return t&&RR(e.prototype,t),r&&RR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c2e(e,t,r){return t=nx(t),u2e(e,fV()?Reflect.construct(t,r||[],nx(e).constructor):t.apply(e,r))}function u2e(e,t){if(t&&(Pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d2e(e)}function d2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!e})()}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nx(e)}function f2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},fS(e,t)}function cs(e,t,r){return t=hV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=h2e(e,"string");return Pd(t)=="symbol"?t:t+""}function h2e(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var m2e=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=xh().domain(tx(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},$R=function(t){return t.changedTouches&&!!t.changedTouches.length},Ed=function(e){function t(r){var n;return o2e(this,t),n=c2e(this,t,[r]),cs(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),cs(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),cs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),cs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),cs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),cs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),cs(n,"handleSlideDragStart",function(s){var i=$R(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return f2e(t,e),l2e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),g=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:g-g%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=Sn(i[n],l,n);return at(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,g=c.endIndex,y=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var x=this.getIndex({startX:o+m,endX:l+m});(x.startIndex!==h||x.endIndex!==g)&&y&&y(x),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=$R(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,y=d.onChange,m=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},p=n.pageX-i;p>0?p=Math.min(p,f+h-g-u):p<0&&(p=Math.max(p,f-u)),b[o]=u+p;var w=this.getIndex(b),N=w.startIndex,j=w.endIndex,S=function(){var k=x.length-1;return o==="startX"&&(l>c?N%m===0:j%m===0)||l<c&&j===k||o==="endX"&&(l>c?j%m===0:N%m===0)||l>c&&j===k};this.setState(cs(cs({},o,u+p),"brushMoveStartX",n.pageX),function(){y&&S()&&y(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var g=l[h];s==="startX"&&g>=u||s==="endX"&&g<=c||this.setState(cs({},s,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?M.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,g=c.ariaLabel,y=c.data,m=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),p=ej(ej({},Je(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=g||"Min value: ".concat((i=y[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[x])===null||o===void 0?void 0:o.name);return M.createElement(Dt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,p))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,g=5,y={pointerEvents:"none",fill:u};return M.createElement(Dt,{className:"recharts-brush-texts"},M.createElement(fc,rx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:o+l/2},y),this.getTextOfTick(s)),M.createElement(fc,rx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+g,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,g=h.startX,y=h.endX,m=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,p=h.isTravellerFocused;if(!s||!s.length||!je(l)||!je(c)||!je(u)||!je(d)||u<=0||d<=0)return null;var w=ft("recharts-brush",i),N=M.Children.count(o)===1,j=i2e("userSelect","none");return M.createElement(Dt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(m||x||b||p||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return M.isValidElement(n)?i=M.cloneElement(n,s):at(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return ej({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?m2e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(g){return s.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(v.PureComponent);cs(Ed,"displayName","Brush");cs(Ed,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var p2e=RC;function g2e(e,t){var r;return p2e(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var v2e=g2e,y2e=tB,x2e=Ja,b2e=v2e,w2e=os,j2e=zb;function N2e(e,t,r){var n=w2e(e)?y2e:b2e;return r&&j2e(e,t,r)&&(t=void 0),n(e,x2e(t))}var S2e=N2e;const _2e=It(S2e);var Va=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},MR=NB;function k2e(e,t,r){t=="__proto__"&&MR?MR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var C2e=k2e,P2e=C2e,E2e=wB,A2e=Ja;function O2e(e,t){var r={};return t=A2e(t),E2e(e,function(n,s,i){P2e(r,s,t(n,s,i))}),r}var T2e=O2e;const I2e=It(T2e);function R2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var $2e=R2e,M2e=RC;function D2e(e,t){var r=!0;return M2e(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var L2e=D2e,F2e=$2e,U2e=L2e,B2e=Ja,V2e=os,q2e=zb;function z2e(e,t,r){var n=V2e(e)?F2e:U2e;return r&&q2e(e,t,r)&&(t=void 0),n(e,B2e(t))}var W2e=z2e;const mV=It(W2e);var H2e=["x","y"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hS.apply(this,arguments)}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){K2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K2e(e,t,r){return t=G2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G2e(e){var t=Y2e(e,"string");return zm(t)=="symbol"?t:t+""}function Y2e(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q2e(e,t){if(e==null)return{};var r=X2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z2e(e,t){var r=e.x,n=e.y,s=Q2e(e,H2e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Bf(Bf(Bf(Bf(Bf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function LR(e){return M.createElement(oV,hS({shapeType:"rectangle",propTransformer:Z2e,activeClassName:"recharts-active-bar"},e))}var J2e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=je(n)||wfe(n);return i?t(n,s):(i||mc(),r)}},eOe=["value","background"],pV;function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function tOe(e,t){if(e==null)return{};var r=rOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sx.apply(this,arguments)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vV(n.key),n)}}function sOe(e,t,r){return t&&UR(e.prototype,t),r&&UR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aOe(e,t,r){return t=ax(t),iOe(e,gV()?Reflect.construct(t,r||[],ax(e).constructor):t.apply(e,r))}function iOe(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oOe(e)}function oOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gV=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ax(e)}function lOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mS(e,t)}function xo(e,t,r){return t=vV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vV(e){var t=cOe(e,"string");return Ad(t)=="symbol"?t:t+""}function cOe(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ac=function(e){function t(){var r;nOe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=aOe(this,t,[].concat(s)),xo(r,"state",{isAnimationFinished:!1}),xo(r,"id",Tp("recharts-bar-")),xo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),xo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return lOe(t,e),sOe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Je(this.props,!1);return n&&n.map(function(f,h){var g=h===c,y=g?u:o,m=Pr(Pr(Pr({},d),f),{},{isActive:g,option:y,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return M.createElement(Dt,sx({className:"recharts-bar-rectangle"},dc(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(LR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return M.createElement(Di,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,m=i.map(function(x,b){var p=h&&h[b];if(p){var w=to(p.x,x.x),N=to(p.y,x.y),j=to(p.width,x.width),S=to(p.height,x.height);return Pr(Pr({},x),{},{x:w(y),y:N(y),width:j(y),height:S(y)})}if(o==="horizontal"){var _=to(0,x.height),k=_(y);return Pr(Pr({},x),{},{y:x.y+x.height-k,height:k})}var C=to(0,x.width),E=C(y);return Pr(Pr({},x),{},{width:E})});return M.createElement(Dt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!t0(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Je(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=tOe(u,eOe);if(!f)return null;var g=Pr(Pr(Pr(Pr(Pr({},h),{},{fill:"#eee"},f),c),dc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(LR,sx({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Us(d,s0);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,g=function(x,b){var p=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:p,errorVal:Sn(x,b)}},y={clipPath:n?"url(#clipPath-".concat(s,")"):null};return M.createElement(Dt,y,f.map(function(m){return M.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,g=n.isAnimationActive,y=n.background,m=n.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=ft("recharts-bar",o),p=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,N=p||w,j=vt(m)?this.id:m;return M.createElement(Dt,{className:b},p||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:p?u:u-f/2,y:w?d:d-h/2,width:p?f:f*2,height:w?h:h*2}))):null,M.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!g||x)&&Io.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(v.PureComponent);pV=Ac;xo(Ac,"displayName","Bar");xo(Ac,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!of.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xo(Ac,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,g=F_e(n,r);if(!g)return null;var y=t.layout,m=r.type.defaultProps,x=m!==void 0?Pr(Pr({},m),r.props):r.props,b=x.dataKey,p=x.children,w=x.minPointSize,N=y==="horizontal"?o:i,j=u?N.scale.domain():null,S=H_e({numericAxis:N}),_=Us(p,Wb),k=f.map(function(C,E){var P,R,O,I,T,D;u?P=U_e(u[d+E],j):(P=Sn(C,b),Array.isArray(P)||(P=[S,P]));var q=J2e(w,pV.defaultProps.minPointSize)(P[1],E);if(y==="horizontal"){var A,$=[o.scale(P[0]),o.scale(P[1])],H=$[0],Y=$[1];R=TI({axis:i,ticks:l,bandSize:s,offset:g.offset,entry:C,index:E}),O=(A=Y??H)!==null&&A!==void 0?A:void 0,I=g.size;var L=H-Y;if(T=Number.isNaN(L)?0:L,D={x:R,y:o.y,width:I,height:o.height},Math.abs(q)>0&&Math.abs(T)<Math.abs(q)){var K=Mn(T||q)*(Math.abs(q)-Math.abs(T));O-=K,T+=K}}else{var re=[i.scale(P[0]),i.scale(P[1])],ae=re[0],be=re[1];if(R=ae,O=TI({axis:o,ticks:c,bandSize:s,offset:g.offset,entry:C,index:E}),I=be-ae,T=g.size,D={x:i.x,y:O,width:i.width,height:T},Math.abs(q)>0&&Math.abs(I)<Math.abs(q)){var ee=Mn(I||q)*(Math.abs(q)-Math.abs(I));I+=ee}}return Pr(Pr(Pr({},C),{},{x:R,y:O,width:I,height:T,value:u?P:P[1],payload:C,background:D},_&&_[E]&&_[E].props),{},{tooltipPayload:[F8(r,C)],tooltipPosition:{x:R+I/2,y:O+T/2}})});return Pr({data:k,layout:y},h)});function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function uOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yV(n.key),n)}}function dOe(e,t,r){return t&&BR(e.prototype,t),r&&BR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){d0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d0(e,t,r){return t=yV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yV(e){var t=fOe(e,"string");return Wm(t)=="symbol"?t:t+""}function fOe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hOe=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ds(u,Ac);return d.reduce(function(g,y){var m=r[y],x=m.orientation,b=m.domain,p=m.padding,w=p===void 0?{}:p,N=m.mirror,j=m.reversed,S="".concat(x).concat(N?"Mirror":""),_,k,C,E,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var R=b[1]-b[0],O=1/0,I=m.categoricalDomain.sort(Sfe);if(I.forEach(function(re,ae){ae>0&&(O=Math.min((re||0)-(I[ae-1]||0),O))}),Number.isFinite(O)){var T=O/R,D=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(_=T*D/2),m.padding==="no-gap"){var q=Dn(t.barCategoryGap,T*D),A=T*D/2;_=A-q-(A-q)/D*q}}}s==="xAxis"?k=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:k=m.range,j&&(k=[k[1],k[0]]);var $=$8(m,i,h),H=$.scale,Y=$.realScaleType;H.domain(b).range(k),M8(H);var L=D8(H,ia(ia({},m),{},{realScaleType:Y}));s==="xAxis"?(P=x==="top"&&!N||x==="bottom"&&N,C=n.left,E=f[S]-P*m.height):s==="yAxis"&&(P=x==="left"&&!N||x==="right"&&N,C=f[S]-P*m.width,E=n.top);var K=ia(ia(ia({},m),L),{},{realScaleType:Y,x:C,y:E,scale:H,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return K.bandSize=Vy(K,L),!m.hide&&s==="xAxis"?f[S]+=(P?-1:1)*K.height:m.hide||(f[S]+=(P?-1:1)*K.width),ia(ia({},g),{},d0({},y,K))},{})},xV=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},mOe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return xV({x:r,y:n},{x:s,y:i})},bV=function(){function e(t){uOe(this,e),this.scale=t}return dOe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();d0(bV,"EPS",1e-4);var uP=function(t){var r=Object.keys(t).reduce(function(n,s){return ia(ia({},n),{},d0({},s,bV.create(t[s])))},{});return ia(ia({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return I2e(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return mV(s,function(i,o){return r[o].isInRange(i)})}})};function pOe(e){return(e%180+180)%180}var gOe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=pOe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},vOe=Ja,yOe=Ip,xOe=Vb;function bOe(e){return function(t,r,n){var s=Object(t);if(!yOe(t)){var i=vOe(r);t=xOe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var wOe=bOe,jOe=uV;function NOe(e){var t=jOe(e),r=t%1;return t===t?r?t-r:t:0}var SOe=NOe,_Oe=pB,kOe=Ja,COe=SOe,POe=Math.max;function EOe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:COe(r);return s<0&&(s=POe(n+s,0)),_Oe(e,kOe(t),s)}var AOe=EOe,OOe=wOe,TOe=AOe,IOe=OOe(TOe),ROe=IOe;const $Oe=It(ROe);var MOe=Cde(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),dP=v.createContext(void 0),fP=v.createContext(void 0),wV=v.createContext(void 0),jV=v.createContext({}),NV=v.createContext(void 0),SV=v.createContext(0),_V=v.createContext(0),qR=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=MOe(i);return M.createElement(dP.Provider,{value:n},M.createElement(fP.Provider,{value:s},M.createElement(jV.Provider,{value:i},M.createElement(wV.Provider,{value:d},M.createElement(NV.Provider,{value:o},M.createElement(SV.Provider,{value:u},M.createElement(_V.Provider,{value:c},l)))))))},DOe=function(){return v.useContext(NV)},kV=function(t){var r=v.useContext(dP);r==null&&mc();var n=r[t];return n==null&&mc(),n},LOe=function(){var t=v.useContext(dP);return io(t)},FOe=function(){var t=v.useContext(fP),r=$Oe(t,function(n){return mV(n.domain,Number.isFinite)});return r||io(t)},CV=function(t){var r=v.useContext(fP);r==null&&mc();var n=r[t];return n==null&&mc(),n},UOe=function(){var t=v.useContext(wV);return t},BOe=function(){return v.useContext(jV)},hP=function(){return v.useContext(_V)},mP=function(){return v.useContext(SV)};function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function VOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EV(n.key),n)}}function zOe(e,t,r){return t&&qOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WOe(e,t,r){return t=ix(t),HOe(e,PV()?Reflect.construct(t,r||[],ix(e).constructor):t.apply(e,r))}function HOe(e,t){if(t&&(Od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KOe(e)}function KOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PV=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ix(e)}function GOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pS(e,t)}function pS(e,t){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},pS(e,t)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){pP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pP(e,t,r){return t=EV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EV(e){var t=YOe(e,"string");return Od(t)=="symbol"?t:t+""}function YOe(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function QOe(e,t){return eTe(e)||JOe(e,t)||ZOe(e,t)||XOe()}function XOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZOe(e,t){if(e){if(typeof e=="string")return HR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HR(e,t)}}function HR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function eTe(e){if(Array.isArray(e))return e}function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gS.apply(this,arguments)}var tTe=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):at(t)?n=t(r):n=M.createElement("line",gS({},r,{className:"recharts-reference-line-line"})),n},rTe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,g=i.height;if(n){var y=u.y,m=t.y.apply(y,{position:o});if(Va(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?x.reverse():x}if(r){var b=u.x,p=t.x.apply(b,{position:o});if(Va(u,"discard")&&!t.x.isInRange(p))return null;var w=[{x:p,y:f+g},{x:p,y:f}];return l==="top"?w.reverse():w}if(s){var N=u.segment,j=N.map(function(S){return t.apply(S,{position:o})});return Va(u,"discard")&&_2e(j,function(S){return!t.isInRange(S)})?null:j}return null};function nTe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=DOe(),d=kV(s),f=CV(i),h=UOe();if(!u||!h)return null;pa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=uP({x:d.scale,y:f.scale}),y=Hr(t),m=Hr(r),x=n&&n.length===2,b=rTe(g,y,m,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var p=QOe(b,2),w=p[0],N=w.x,j=w.y,S=p[1],_=S.x,k=S.y,C=Va(e,"hidden")?"url(#".concat(u,")"):void 0,E=WR(WR({clipPath:C},Je(e,!0)),{},{x1:N,y1:j,x2:_,y2:k});return M.createElement(Dt,{className:ft("recharts-reference-line",l)},tTe(o,E),nn.renderCallByParent(e,mOe({x1:N,y1:j,x2:_,y2:k})))}var gP=function(e){function t(){return VOe(this,t),WOe(this,t,arguments)}return GOe(t,e),zOe(t,[{key:"render",value:function(){return M.createElement(nTe,this.props)}}])}(M.Component);pP(gP,"displayName","ReferenceLine");pP(gP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vS.apply(this,arguments)}function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function KR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(r),!0).forEach(function(n){f0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OV(n.key),n)}}function iTe(e,t,r){return t&&aTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oTe(e,t,r){return t=ox(t),lTe(e,AV()?Reflect.construct(t,r||[],ox(e).constructor):t.apply(e,r))}function lTe(e,t){if(t&&(Td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cTe(e)}function cTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AV=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ox(e)}function uTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yS(e,t)}function yS(e,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yS(e,t)}function f0(e,t,r){return t=OV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OV(e){var t=dTe(e,"string");return Td(t)=="symbol"?t:t+""}function dTe(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fTe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=uP({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Va(t,"discard")&&!o.isInRange(l)?null:l},h0=function(e){function t(){return sTe(this,t),oTe(this,t,arguments)}return uTe(t,e),iTe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Hr(s),d=Hr(i);if(pa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=fTe(this.props);if(!f)return null;var h=f.x,g=f.y,y=this.props,m=y.shape,x=y.className,b=Va(this.props,"hidden")?"url(#".concat(c,")"):void 0,p=GR(GR({clipPath:b},Je(this.props,!0)),{},{cx:h,cy:g});return M.createElement(Dt,{className:ft("recharts-reference-dot",x)},t.renderDot(m,p),nn.renderCallByParent(this.props,{x:h-o,y:g-o,width:2*o,height:2*o}))}}])}(M.Component);f0(h0,"displayName","ReferenceDot");f0(h0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});f0(h0,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):at(e)?r=e(t):r=M.createElement(cP,vS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xS.apply(this,arguments)}function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){m0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IV(n.key),n)}}function pTe(e,t,r){return t&&mTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gTe(e,t,r){return t=lx(t),vTe(e,TV()?Reflect.construct(t,r||[],lx(e).constructor):t.apply(e,r))}function vTe(e,t){if(t&&(Id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yTe(e)}function yTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TV=function(){return!!e})()}function lx(e){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lx(e)}function xTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bS(e,t)}function bS(e,t){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bS(e,t)}function m0(e,t,r){return t=IV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IV(e){var t=bTe(e,"string");return Id(t)=="symbol"?t:t+""}function bTe(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wTe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=uP({x:d.scale,y:f.scale}),g={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Va(i,"discard")&&(!h.isInRange(g)||!h.isInRange(y))?null:xV(g,y)},p0=function(e){function t(){return hTe(this,t),gTe(this,t,arguments)}return xTe(t,e),pTe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;pa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Hr(s),h=Hr(i),g=Hr(o),y=Hr(l),m=this.props.shape;if(!f&&!h&&!g&&!y&&!m)return null;var x=wTe(f,h,g,y,this.props);if(!x&&!m)return null;var b=Va(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(Dt,{className:ft("recharts-reference-area",c)},t.renderRect(m,QR(QR({clipPath:b},Je(this.props,!0)),x)),nn.renderCallByParent(this.props,x))}}])}(M.Component);m0(p0,"displayName","ReferenceArea");m0(p0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});m0(p0,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):at(e)?r=e(t):r=M.createElement(lP,xS({},t,{className:"recharts-reference-area-rect"})),r});function RV(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function jTe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return gOe(n,r)}function NTe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function cx(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function STe(e,t){return RV(e,t+1)}function _Te(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:RV(n,u)};var m=c,x,b=function(){return x===void 0&&(x=r(y,m)),x},p=y.coordinate,w=c===0||cx(e,p,b,d,l);w||(c=0,d=o,u+=1),w&&(d=p+e*(b()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){kTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kTe(e,t,r){return t=CTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CTe(e){var t=PTe(e,"string");return Hm(t)=="symbol"?t:t+""}function PTe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ETe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var g=i[h],y,m=function(){return y===void 0&&(y=r(g,h)),y};if(h===o-1){var x=e*(g.coordinate+e*m()/2-c);i[h]=g=wn(wn({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate})}else i[h]=g=wn(wn({},g),{},{tickCoord:g.coordinate});var b=cx(e,g.tickCoord,m,l,c);b&&(c=g.tickCoord-e*(m()/2+s),i[h]=wn(wn({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function ATe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=wn(wn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var g=cx(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+s),o[l-1]=wn(wn({},d),{},{isShow:!0}))}for(var y=i?l-1:l,m=function(p){var w=o[p],N,j=function(){return N===void 0&&(N=r(w,p)),N};if(p===0){var S=e*(w.coordinate-e*j()/2-c);o[p]=w=wn(wn({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[p]=w=wn(wn({},w),{},{tickCoord:w.coordinate});var _=cx(e,w.tickCoord,j,c,u);_&&(c=w.tickCoord+e*(j()/2+s),o[p]=wn(wn({},w),{},{isShow:!0}))},x=0;x<y;x++)m(x);return o}function vP(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(je(c)||of.isSsr)return STe(s,typeof c=="number"&&je(c)?c:0);var h=[],g=l==="top"||l==="bottom"?"width":"height",y=d&&g==="width"?yh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,N){var j=at(u)?u(w.value,N):w.value;return g==="width"?jTe(yh(j,{fontSize:t,letterSpacing:r}),y,f):yh(j,{fontSize:t,letterSpacing:r})[g]},x=s.length>=2?Mn(s[1].coordinate-s[0].coordinate):1,b=NTe(i,x,g);return c==="equidistantPreserveStart"?_Te(x,b,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=ATe(x,b,m,s,o,c==="preserveStartEnd"):h=ETe(x,b,m,s,o),h.filter(function(p){return p.isShow}))}var OTe=["viewBox"],TTe=["viewBox"],ITe=["ticks"];function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(this,arguments)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){yP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tj(e,t){if(e==null)return{};var r=RTe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MV(n.key),n)}}function MTe(e,t,r){return t&&JR(e.prototype,t),r&&JR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DTe(e,t,r){return t=ux(t),LTe(e,$V()?Reflect.construct(t,r||[],ux(e).constructor):t.apply(e,r))}function LTe(e,t){if(t&&(Rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FTe(e)}function FTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($V=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ux(e)}function UTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wS(e,t)}function wS(e,t){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wS(e,t)}function yP(e,t,r){return t=MV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=BTe(e,"string");return Rd(t)=="symbol"?t:t+""}function BTe(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var df=function(e){function t(r){var n;return $Te(this,t),n=DTe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return UTe(t,e),MTe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=tj(n,OTe),l=this.props,c=l.viewBox,u=tj(l,TTe);return!Iu(i,c)||!Iu(o,u)||!Iu(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,g,y,m,x,b,p,w=f?-1:1,N=n.tickSize||d,j=je(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=y=n.coordinate,x=o+ +!f*c,m=x-w*N,p=m-w*h,b=j;break;case"left":m=x=n.coordinate,y=i+ +!f*l,g=y-w*N,b=g-w*h,p=j;break;case"right":m=x=n.coordinate,y=i+ +f*l,g=y+w*N,b=g+w*h,p=j;break;default:g=y=n.coordinate,x=o+ +f*c,m=x+w*N,p=m+w*h,b=j;break}return{line:{x1:g,y1:m,x2:y,y2:x},tick:{x:b,y:p}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Fr(Fr(Fr({},Je(this.props,!1)),Je(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Fr(Fr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=Fr(Fr({},f),{},{x1:s+g*o,y1:i,x2:s+g*o,y2:i+l})}return M.createElement("line",ju({},f,{className:ft("recharts-cartesian-axis-line",ws(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,g=vP(Fr(Fr({},this.props),{},{ticks:n}),s,i),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=Je(this.props,!1),b=Je(d,!1),p=Fr(Fr({},x),{},{fill:"none"},Je(c,!1)),w=g.map(function(N,j){var S=o.getTickLineCoord(N),_=S.line,k=S.tick,C=Fr(Fr(Fr(Fr({textAnchor:y,verticalAnchor:m},x),{},{stroke:"none",fill:u},b),k),{},{index:j,payload:N,visibleTicksCount:g.length,tickFormatter:f});return M.createElement(Dt,ju({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},dc(o.props,N,j)),c&&M.createElement("line",ju({},p,_,{className:ft("recharts-cartesian-axis-tick-line",ws(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(at(f)?f(N.value,j):N.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,g=tj(f,ITe),y=h;return at(c)&&(y=h&&h.length>0?c(this.props):c(g)),o<=0||l<=0||!y||!y.length?null:M.createElement(Dt,{className:ft("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),nn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=ft(s.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?o=M.cloneElement(n,Fr(Fr({},s),{},{className:l})):at(n)?o=n(Fr(Fr({},s),{},{className:l})):o=M.createElement(fc,ju({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);yP(df,"displayName","CartesianAxis");yP(df,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var VTe=["x1","y1","x2","y2","key"],qTe=["offset"];function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function e$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(r),!0).forEach(function(n){zTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zTe(e,t,r){return t=WTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WTe(e){var t=HTe(e,"string");return pc(t)=="symbol"?t:t+""}function HTe(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ol.apply(this,arguments)}function t$(e,t){if(e==null)return{};var r=KTe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GTe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function DV(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(at(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=t$(t,VTe),u=Je(c,!1);u.offset;var d=t$(u,qTe);r=M.createElement("line",Ol({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function YTe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Nn(Nn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return DV(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function QTe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Nn(Nn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return DV(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function XTe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,g){return h-g});s!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var y=!d[g+1],m=y?s+o-h:d[g+1]-h;if(m<=0)return null;var x=g%t.length;return M.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ZTe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var y=!d[g+1],m=y?i+l-h:d[g+1]-h;if(m<=0)return null;var x=g%n.length;return M.createElement("rect",{key:"react-".concat(g),x:h,y:o,width:m,height:c,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var JTe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return R8(vP(Nn(Nn(Nn({},df.defaultProps),n),{},{ticks:xi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},eIe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return R8(vP(Nn(Nn(Nn({},df.defaultProps),n),{},{ticks:xi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function LV(e){var t,r,n,s,i,o,l=hP(),c=mP(),u=BOe(),d=Nn(Nn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Gc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Gc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Gc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Gc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Gc.verticalFill,x:je(e.x)?e.x:u.left,y:je(e.y)?e.y:u.top,width:je(e.width)?e.width:u.width,height:je(e.height)?e.height:u.height}),f=d.x,h=d.y,g=d.width,y=d.height,m=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,p=LOe(),w=FOe();if(!je(g)||g<=0||!je(y)||y<=0||!je(f)||f!==+f||!je(h)||h!==+h)return null;var N=d.verticalCoordinatesGenerator||JTe,j=d.horizontalCoordinatesGenerator||eIe,S=d.horizontalPoints,_=d.verticalPoints;if((!S||!S.length)&&at(j)){var k=x&&x.length,C=j({yAxis:w?Nn(Nn({},w),{},{ticks:k?x:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);pa(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pc(C),"]")),Array.isArray(C)&&(S=C)}if((!_||!_.length)&&at(N)){var E=b&&b.length,P=N({xAxis:p?Nn(Nn({},p),{},{ticks:E?b:p.ticks}):void 0,width:l,height:c,offset:u},E?!0:m);pa(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pc(P),"]")),Array.isArray(P)&&(_=P)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(GTe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(YTe,Ol({},d,{offset:u,horizontalPoints:S,xAxis:p,yAxis:w})),M.createElement(QTe,Ol({},d,{offset:u,verticalPoints:_,xAxis:p,yAxis:w})),M.createElement(XTe,Ol({},d,{horizontalPoints:S})),M.createElement(ZTe,Ol({},d,{verticalPoints:_})))}LV.displayName="CartesianGrid";function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function tIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BV(n.key),n)}}function nIe(e,t,r){return t&&rIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sIe(e,t,r){return t=dx(t),aIe(e,FV()?Reflect.construct(t,r||[],dx(e).constructor):t.apply(e,r))}function aIe(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iIe(e)}function iIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FV=function(){return!!e})()}function dx(e){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dx(e)}function oIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jS(e,t)}function jS(e,t){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jS(e,t)}function UV(e,t,r){return t=BV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BV(e){var t=lIe(e,"string");return $d(t)=="symbol"?t:t+""}function lIe(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NS.apply(this,arguments)}function cIe(e){var t=e.xAxisId,r=hP(),n=mP(),s=kV(t);return s==null?null:v.createElement(df,NS({},s,{className:ft("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return xi(o,!0)}}))}var g0=function(e){function t(){return tIe(this,t),sIe(this,t,arguments)}return oIe(t,e),nIe(t,[{key:"render",value:function(){return v.createElement(cIe,this.props)}}])}(v.Component);UV(g0,"displayName","XAxis");UV(g0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function uIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zV(n.key),n)}}function fIe(e,t,r){return t&&dIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hIe(e,t,r){return t=fx(t),mIe(e,VV()?Reflect.construct(t,r||[],fx(e).constructor):t.apply(e,r))}function mIe(e,t){if(t&&(Md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pIe(e)}function pIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VV=function(){return!!e})()}function fx(e){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fx(e)}function gIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}function SS(e,t){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},SS(e,t)}function qV(e,t,r){return t=zV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=vIe(e,"string");return Md(t)=="symbol"?t:t+""}function vIe(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_S.apply(this,arguments)}var yIe=function(t){var r=t.yAxisId,n=hP(),s=mP(),i=CV(r);return i==null?null:v.createElement(df,_S({},i,{className:ft("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return xi(l,!0)}}))},v0=function(e){function t(){return uIe(this,t),hIe(this,t,arguments)}return gIe(t,e),fIe(t,[{key:"render",value:function(){return v.createElement(yIe,this.props)}}])}(v.Component);qV(v0,"displayName","YAxis");qV(v0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function r$(e){return jIe(e)||wIe(e)||bIe(e)||xIe()}function xIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bIe(e,t){if(e){if(typeof e=="string")return kS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kS(e,t)}}function wIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jIe(e){if(Array.isArray(e))return kS(e)}function kS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var CS=function(t,r,n,s,i){var o=Us(t,gP),l=Us(t,h0),c=[].concat(r$(o),r$(l)),u=Us(t,p0),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,x){if(x.props[d]===n&&Va(x.props,"extendDomain")&&je(x.props[f])){var b=x.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var g="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,x){if(x.props[d]===n&&Va(x.props,"extendDomain")&&je(x.props[g])&&je(x.props[y])){var b=x.props[g],p=x.props[y];return[Math.min(m[0],b,p),Math.max(m[1],b,p)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,x){return je(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},WV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],g]:c._events[y].push(g):(c._events[y]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,y=new Array(g);h<g;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,g,y){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],b=arguments.length,p,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,g),!0;case 6:return x.fn.call(x.context,d,f,h,g,y),!0}for(w=1,p=new Array(b-1);w<b;w++)p[w-1]=arguments[w];x.fn.apply(x.context,p)}else{var N=x.length,j;for(w=0;w<N;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,h);break;default:if(!p)for(j=1,p=new Array(b-1);j<b;j++)p[j-1]=arguments[j];x[w].fn.apply(x[w].context,p)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,g);else{for(var m=0,x=[],b=y.length;m<b;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&x.push(y[m]);x.length?this._events[g]=x.length===1?x[0]:x:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(WV);var NIe=WV.exports;const SIe=It(NIe);var rj=new SIe,nj="recharts.syncMouseEvents";function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function _Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HV(n.key),n)}}function CIe(e,t,r){return t&&kIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sj(e,t,r){return t=HV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HV(e){var t=PIe(e,"string");return Km(t)=="symbol"?t:t+""}function PIe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var EIe=function(){function e(){_Ie(this,e),sj(this,"activeIndex",0),sj(this,"coordinateList",[]),sj(this,"layout","horizontal")}return CIe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function AIe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&je(n)&&je(s))return!0}return!1}function OIe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function KV(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Gt(t,r,n,s),l=Gt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function TIe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Gt(l,c,u,f),g=Gt(l,c,d,f);n=h.x,s=h.y,i=g.x,o=g.y}else return KV(t);return[{x:n,y:s},{x:i,y:o}]}function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(n){IIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IIe(e,t,r){return t=RIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RIe(e){var t=$Ie(e,"string");return Gm(t)=="symbol"?t:t+""}function $Ie(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MIe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var y,m=QN;if(h==="ScatterChart")y=o,m=hEe;else if(h==="BarChart")y=OIe(f,o,c,d),m=lP;else if(f==="radial"){var x=KV(o),b=x.cx,p=x.cy,w=x.radius,N=x.startAngle,j=x.endAngle;y={cx:b,cy:p,startAngle:N,endAngle:j,innerRadius:w,outerRadius:w},m=W8}else y={points:TIe(f,o,c)},m=QN;var S=Fg(Fg(Fg(Fg({stroke:"#ccc",pointerEvents:"none"},c),y),Je(g,!1)),{},{payload:l,payloadIndex:u,className:ft("recharts-tooltip-cursor",g.className)});return v.isValidElement(g)?v.cloneElement(g,S):v.createElement(m,S)}var DIe=["item"],LIe=["children","className","width","height","style","compact","title","desc"];function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nu.apply(this,arguments)}function s$(e,t){return BIe(e)||UIe(e,t)||YV(e,t)||FIe()}function FIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function BIe(e){if(Array.isArray(e))return e}function a$(e,t){if(e==null)return{};var r=VIe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QV(n.key),n)}}function WIe(e,t,r){return t&&zIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HIe(e,t,r){return t=hx(t),KIe(e,GV()?Reflect.construct(t,r||[],hx(e).constructor):t.apply(e,r))}function KIe(e,t){if(t&&(Dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GIe(e)}function GIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GV=function(){return!!e})()}function hx(e){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hx(e)}function YIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PS(e,t)}function PS(e,t){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},PS(e,t)}function Ld(e){return ZIe(e)||XIe(e)||YV(e)||QIe()}function QIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YV(e,t){if(e){if(typeof e=="string")return ES(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ES(e,t)}}function XIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZIe(e){if(Array.isArray(e))return ES(e)}function ES(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i$(Object(r),!0).forEach(function(n){We(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function We(e,t,r){return t=QV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QV(e){var t=JIe(e,"string");return Dd(t)=="symbol"?t:t+""}function JIe(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eRe={xAxis:["bottom","top"],yAxis:["left","right"]},tRe={width:"100%",height:"100%"},XV={x:0,y:0};function Ug(e){return e}var rRe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},nRe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return te(te(te({},s),Gt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return te(te(te({},s),Gt(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return XV},y0=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ld(l),Ld(u)):l},[]);return o.length>0?o:t&&t.length&&je(s)&&je(i)?t.slice(s,i+1):[]};function ZV(e){return e==="number"?[0,"auto"]:void 0}var AS=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=y0(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?l:f;h=sN(g,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Ld(c),[F8(u,h)]):c},[])},o$=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=rRe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=I_e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=AS(t,r,d,f),g=nRe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},sRe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,g=I8(d,i);return n.reduce(function(y,m){var x,b=m.type.defaultProps!==void 0?te(te({},m.type.defaultProps),m.props):m.props,p=b.type,w=b.dataKey,N=b.allowDataOverflow,j=b.allowDuplicatedCategory,S=b.scale,_=b.ticks,k=b.includeHidden,C=b[o];if(y[C])return y;var E=y0(t.data,{graphicalItems:s.filter(function(L){var K,re=o in L.props?L.props[o]:(K=L.type.defaultProps)===null||K===void 0?void 0:K[o];return re===C}),dataStartIndex:c,dataEndIndex:u}),P=E.length,R,O,I;AIe(b.domain,N,p)&&(R=WN(b.domain,null,N),g&&(p==="number"||S!=="auto")&&(I=bh(E,w,"category")));var T=ZV(p);if(!R||R.length===0){var D,q=(D=b.domain)!==null&&D!==void 0?D:T;if(w){if(R=bh(E,w,p),p==="category"&&g){var A=Nfe(R);j&&A?(O=R,R=tx(0,P)):j||(R=$I(q,R,m).reduce(function(L,K){return L.indexOf(K)>=0?L:[].concat(Ld(L),[K])},[]))}else if(p==="category")j?R=R.filter(function(L){return L!==""&&!vt(L)}):R=$I(q,R,m).reduce(function(L,K){return L.indexOf(K)>=0||K===""||vt(K)?L:[].concat(Ld(L),[K])},[]);else if(p==="number"){var $=L_e(E,s.filter(function(L){var K,re,ae=o in L.props?L.props[o]:(K=L.type.defaultProps)===null||K===void 0?void 0:K[o],be="hide"in L.props?L.props.hide:(re=L.type.defaultProps)===null||re===void 0?void 0:re.hide;return ae===C&&(k||!be)}),w,i,d);$&&(R=$)}g&&(p==="number"||S!=="auto")&&(I=bh(E,w,"category"))}else g?R=tx(0,P):l&&l[C]&&l[C].hasStack&&p==="number"?R=h==="expand"?[0,1]:L8(l[C].stackGroups,c,u):R=T8(E,s.filter(function(L){var K=o in L.props?L.props[o]:L.type.defaultProps[o],re="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return K===C&&(k||!re)}),p,d,!0);if(p==="number")R=CS(f,R,C,i,_),q&&(R=WN(q,R,N));else if(p==="category"&&q){var H=q,Y=R.every(function(L){return H.indexOf(L)>=0});Y&&(R=H)}}return te(te({},y),{},We({},C,te(te({},b),{},{axisType:i,domain:R,categoricalDomain:I,duplicateDomain:O,originalDomain:(x=b.domain)!==null&&x!==void 0?x:T,isCategorical:g,layout:d})))},{})},aRe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=y0(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=h.length,y=I8(d,i),m=-1;return n.reduce(function(x,b){var p=b.type.defaultProps!==void 0?te(te({},b.type.defaultProps),b.props):b.props,w=p[o],N=ZV("number");if(!x[w]){m++;var j;return y?j=tx(0,g):l&&l[w]&&l[w].hasStack?(j=L8(l[w].stackGroups,c,u),j=CS(f,j,w,i)):(j=WN(N,T8(h,n.filter(function(S){var _,k,C=o in S.props?S.props[o]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[o],E="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!E}),"number",d),s.defaultProps.allowDataOverflow),j=CS(f,j,w,i)),te(te({},x),{},We({},w,te(te({axisType:i},s.defaultProps),{},{hide:!0,orientation:ws(eRe,"".concat(i,".").concat(m%2),null),domain:j,originalDomain:N,isCategorical:y,layout:d})))}return x},{})},iRe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=Us(d,i),g={};return h&&h.length?g=sRe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=aRe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},oRe=function(t){var r=io(t),n=xi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$C(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Vy(r,n)}},l$=function(t){var r=t.children,n=t.defaultShowTooltip,s=ds(r,Ed),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},lRe=function(t){return!t||!t.length?!1:t.some(function(r){var n=wi(r&&r.type);return n&&n.indexOf("Bar")>=0})},c$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},cRe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},g=ds(f,Ed),y=ds(f,zl),m=Object.keys(c).reduce(function(j,S){var _=c[S],k=_.orientation;return!_.mirror&&!_.hide?te(te({},j),{},We({},k,j[k]+_.width)):j},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(j,S){var _=o[S],k=_.orientation;return!_.mirror&&!_.hide?te(te({},j),{},We({},k,ws(j,"".concat(k))+_.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=te(te({},x),m),p=b.bottom;g&&(b.bottom+=g.props.height||Ed.defaultProps.height),y&&r&&(b=M_e(b,s,n,r));var w=u-b.left-b.right,N=d-b.top-b.bottom;return te(te({brushBottom:p},b),{},{width:Math.max(w,0),height:Math.max(N,0)})},uRe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},JV=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,p){var w=p.graphicalItems,N=p.stackGroups,j=p.offset,S=p.updateId,_=p.dataStartIndex,k=p.dataEndIndex,C=b.barSize,E=b.layout,P=b.barGap,R=b.barCategoryGap,O=b.maxBarSize,I=c$(E),T=I.numericAxisName,D=I.cateAxisName,q=lRe(w),A=[];return w.forEach(function($,H){var Y=y0(b.data,{graphicalItems:[$],dataStartIndex:_,dataEndIndex:k}),L=$.type.defaultProps!==void 0?te(te({},$.type.defaultProps),$.props):$.props,K=L.dataKey,re=L.maxBarSize,ae=L["".concat(T,"Id")],be=L["".concat(D,"Id")],ee={},se=c.reduce(function(F,G){var Z=p["".concat(G.axisType,"Map")],_e=L["".concat(G.axisType,"Id")];Z&&Z[_e]||G.axisType==="zAxis"||mc();var ye=Z[_e];return te(te({},F),{},We(We({},G.axisType,ye),"".concat(G.axisType,"Ticks"),xi(ye)))},ee),Q=se[D],X=se["".concat(D,"Ticks")],ie=N&&N[ae]&&N[ae].hasStack&&K_e($,N[ae].stackGroups),W=wi($.type).indexOf("Bar")>=0,z=Vy(Q,X),ce=[],qe=q&&R_e({barSize:C,stackGroups:N,totalSize:uRe(se,D)});if(W){var Ye,ut,Yt=vt(re)?O:re,kt=(Ye=(ut=Vy(Q,X,!0))!==null&&ut!==void 0?ut:Yt)!==null&&Ye!==void 0?Ye:0;ce=$_e({barGap:P,barCategoryGap:R,bandSize:kt!==z?kt:z,sizeList:qe[be],maxBarSize:Yt}),kt!==z&&(ce=ce.map(function(F){return te(te({},F),{},{position:te(te({},F.position),{},{offset:F.position.offset-kt/2})})}))}var kr=$&&$.type&&$.type.getComposedData;kr&&A.push({props:te(te({},kr(te(te({},se),{},{displayedData:Y,props:b,dataKey:K,item:$,bandSize:z,barPosition:ce,offset:j,stackedData:ie,layout:E,dataStartIndex:_,dataEndIndex:k}))),{},We(We(We({key:$.key||"item-".concat(H)},T,se[T]),D,se[D]),"animationId",S)),childIndex:$fe($,b.children),item:$})}),A},g=function(b,p){var w=b.props,N=b.dataStartIndex,j=b.dataEndIndex,S=b.updateId;if(!PO({props:w}))return null;var _=w.children,k=w.layout,C=w.stackOffset,E=w.data,P=w.reverseStackOrder,R=c$(k),O=R.numericAxisName,I=R.cateAxisName,T=Us(_,n),D=W_e(E,T,"".concat(O,"Id"),"".concat(I,"Id"),C,P),q=c.reduce(function(L,K){var re="".concat(K.axisType,"Map");return te(te({},L),{},We({},re,iRe(w,te(te({},K),{},{graphicalItems:T,stackGroups:K.axisType===O&&D,dataStartIndex:N,dataEndIndex:j}))))},{}),A=cRe(te(te({},q),{},{props:w,graphicalItems:T}),p==null?void 0:p.legendBBox);Object.keys(q).forEach(function(L){q[L]=d(w,q[L],A,L.replace("Map",""),r)});var $=q["".concat(I,"Map")],H=oRe($),Y=h(w,te(te({},q),{},{dataStartIndex:N,dataEndIndex:j,updateId:S,graphicalItems:T,stackGroups:D,offset:A}));return te(te({formattedGraphicalItems:Y,graphicalItems:T,offset:A,stackGroups:D},H),q)},y=function(x){function b(p){var w,N,j;return qIe(this,b),j=HIe(this,b,[p]),We(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(j,"accessibilityManager",new EIe),We(j,"handleLegendBBoxUpdate",function(S){if(S){var _=j.state,k=_.dataStartIndex,C=_.dataEndIndex,E=_.updateId;j.setState(te({legendBBox:S},g({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:E},te(te({},j.state),{},{legendBBox:S}))))}}),We(j,"handleReceiveSyncEvent",function(S,_,k){if(j.props.syncId===S){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(_)}}),We(j,"handleBrushChange",function(S){var _=S.startIndex,k=S.endIndex;if(_!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return te({dataStartIndex:_,dataEndIndex:k},g({props:j.props,dataStartIndex:_,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:_,dataEndIndex:k})}}),We(j,"handleMouseEnter",function(S){var _=j.getMouseInfo(S);if(_){var k=te(te({},_),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;at(C)&&C(k,S)}}),We(j,"triggeredAfterMouseMove",function(S){var _=j.getMouseInfo(S),k=_?te(te({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;at(C)&&C(k,S)}),We(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),We(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),We(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),We(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var k=j.props.onMouseLeave;at(k)&&k(_,S)}),We(j,"handleOuterEvent",function(S){var _=Rfe(S),k=ws(j.props,"".concat(_));if(_&&at(k)){var C,E;/.*touch.*/i.test(_)?E=j.getMouseInfo(S.changedTouches[0]):E=j.getMouseInfo(S),k((C=E)!==null&&C!==void 0?C:{},S)}}),We(j,"handleClick",function(S){var _=j.getMouseInfo(S);if(_){var k=te(te({},_),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;at(C)&&C(k,S)}}),We(j,"handleMouseDown",function(S){var _=j.props.onMouseDown;if(at(_)){var k=j.getMouseInfo(S);_(k,S)}}),We(j,"handleMouseUp",function(S){var _=j.props.onMouseUp;if(at(_)){var k=j.getMouseInfo(S);_(k,S)}}),We(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),We(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),We(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),We(j,"handleDoubleClick",function(S){var _=j.props.onDoubleClick;if(at(_)){var k=j.getMouseInfo(S);_(k,S)}}),We(j,"handleContextMenu",function(S){var _=j.props.onContextMenu;if(at(_)){var k=j.getMouseInfo(S);_(k,S)}}),We(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&rj.emit(nj,j.props.syncId,S,j.eventEmitterSymbol)}),We(j,"applySyncEvent",function(S){var _=j.props,k=_.layout,C=_.syncMethod,E=j.state.updateId,P=S.dataStartIndex,R=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(te({dataStartIndex:P,dataEndIndex:R},g({props:j.props,dataStartIndex:P,dataEndIndex:R,updateId:E},j.state)));else if(S.activeTooltipIndex!==void 0){var O=S.chartX,I=S.chartY,T=S.activeTooltipIndex,D=j.state,q=D.offset,A=D.tooltipTicks;if(!q)return;if(typeof C=="function")T=C(A,S);else if(C==="value"){T=-1;for(var $=0;$<A.length;$++)if(A[$].value===S.activeLabel){T=$;break}}var H=te(te({},q),{},{x:q.left,y:q.top}),Y=Math.min(O,H.x+H.width),L=Math.min(I,H.y+H.height),K=A[T]&&A[T].value,re=AS(j.state,j.props.data,T),ae=A[T]?{x:k==="horizontal"?A[T].coordinate:Y,y:k==="horizontal"?L:A[T].coordinate}:XV;j.setState(te(te({},S),{},{activeLabel:K,activeCoordinate:ae,activePayload:re,activeTooltipIndex:T}))}else j.setState(S)}),We(j,"renderCursor",function(S){var _,k=j.state,C=k.isTooltipActive,E=k.activeCoordinate,P=k.activePayload,R=k.offset,O=k.activeTooltipIndex,I=k.tooltipAxisBandSize,T=j.getTooltipEventType(),D=(_=S.props.active)!==null&&_!==void 0?_:C,q=j.props.layout,A=S.key||"_recharts-cursor";return M.createElement(MIe,{key:A,activeCoordinate:E,activePayload:P,activeTooltipIndex:O,chartName:r,element:S,isActive:D,layout:q,offset:R,tooltipAxisBandSize:I,tooltipEventType:T})}),We(j,"renderPolarAxis",function(S,_,k){var C=ws(S,"type.axisType"),E=ws(j.state,"".concat(C,"Map")),P=S.type.defaultProps,R=P!==void 0?te(te({},P),S.props):S.props,O=E&&E[R["".concat(C,"Id")]];return v.cloneElement(S,te(te({},O),{},{className:ft(C,O.className),key:S.key||"".concat(_,"-").concat(k),ticks:xi(O,!0)}))}),We(j,"renderPolarGrid",function(S){var _=S.props,k=_.radialLines,C=_.polarAngles,E=_.polarRadius,P=j.state,R=P.radiusAxisMap,O=P.angleAxisMap,I=io(R),T=io(O),D=T.cx,q=T.cy,A=T.innerRadius,$=T.outerRadius;return v.cloneElement(S,{polarAngles:Array.isArray(C)?C:xi(T,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(E)?E:xi(I,!0).map(function(H){return H.coordinate}),cx:D,cy:q,innerRadius:A,outerRadius:$,key:S.key||"polar-grid",radialLines:k})}),We(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,_=j.props,k=_.children,C=_.width,E=_.height,P=j.props.margin||{},R=C-(P.left||0)-(P.right||0),O=A8({children:k,formattedGraphicalItems:S,legendWidth:R,legendContent:u});if(!O)return null;var I=O.item,T=a$(O,DIe);return v.cloneElement(I,te(te({},T),{},{chartWidth:C,chartHeight:E,margin:P,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),We(j,"renderTooltip",function(){var S,_=j.props,k=_.children,C=_.accessibilityLayer,E=ds(k,aa);if(!E)return null;var P=j.state,R=P.isTooltipActive,O=P.activeCoordinate,I=P.activePayload,T=P.activeLabel,D=P.offset,q=(S=E.props.active)!==null&&S!==void 0?S:R;return v.cloneElement(E,{viewBox:te(te({},D),{},{x:D.left,y:D.top}),active:q,label:T,payload:q?I:[],coordinate:O,accessibilityLayer:C})}),We(j,"renderBrush",function(S){var _=j.props,k=_.margin,C=_.data,E=j.state,P=E.offset,R=E.dataStartIndex,O=E.dataEndIndex,I=E.updateId;return v.cloneElement(S,{key:S.key||"_recharts-brush",onChange:$g(j.handleBrushChange,S.props.onChange),data:C,x:je(S.props.x)?S.props.x:P.left,y:je(S.props.y)?S.props.y:P.top+P.height+P.brushBottom-(k.bottom||0),width:je(S.props.width)?S.props.width:P.width,startIndex:R,endIndex:O,updateId:"brush-".concat(I)})}),We(j,"renderReferenceElement",function(S,_,k){if(!S)return null;var C=j,E=C.clipPathId,P=j.state,R=P.xAxisMap,O=P.yAxisMap,I=P.offset,T=S.type.defaultProps||{},D=S.props,q=D.xAxisId,A=q===void 0?T.xAxisId:q,$=D.yAxisId,H=$===void 0?T.yAxisId:$;return v.cloneElement(S,{key:S.key||"".concat(_,"-").concat(k),xAxis:R[A],yAxis:O[H],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:E})}),We(j,"renderActivePoints",function(S){var _=S.item,k=S.activePoint,C=S.basePoint,E=S.childIndex,P=S.isRange,R=[],O=_.props.key,I=_.item.type.defaultProps!==void 0?te(te({},_.item.type.defaultProps),_.item.props):_.item.props,T=I.activeDot,D=I.dataKey,q=te(te({index:E,dataKey:D,cx:k.x,cy:k.y,r:4,fill:oP(_.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Je(T,!1)),py(T));return R.push(b.renderActiveDot(T,q,"".concat(O,"-activePoint-").concat(E))),C?R.push(b.renderActiveDot(T,te(te({},q),{},{cx:C.x,cy:C.y}),"".concat(O,"-basePoint-").concat(E))):P&&R.push(null),R}),We(j,"renderGraphicChild",function(S,_,k){var C=j.filterFormatItem(S,_,k);if(!C)return null;var E=j.getTooltipEventType(),P=j.state,R=P.isTooltipActive,O=P.tooltipAxis,I=P.activeTooltipIndex,T=P.activeLabel,D=j.props.children,q=ds(D,aa),A=C.props,$=A.points,H=A.isRange,Y=A.baseLine,L=C.item.type.defaultProps!==void 0?te(te({},C.item.type.defaultProps),C.item.props):C.item.props,K=L.activeDot,re=L.hide,ae=L.activeBar,be=L.activeShape,ee=!!(!re&&R&&q&&(K||ae||be)),se={};E!=="axis"&&q&&q.props.trigger==="click"?se={onClick:$g(j.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(se={onMouseLeave:$g(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:$g(j.handleItemMouseEnter,S.props.onMouseEnter)});var Q=v.cloneElement(S,te(te({},C.props),se));function X(G){return typeof O.dataKey=="function"?O.dataKey(G.payload):null}if(ee)if(I>=0){var ie,W;if(O.dataKey&&!O.allowDuplicatedCategory){var z=typeof O.dataKey=="function"?X:"payload.".concat(O.dataKey.toString());ie=sN($,z,T),W=H&&Y&&sN(Y,z,T)}else ie=$==null?void 0:$[I],W=H&&Y&&Y[I];if(be||ae){var ce=S.props.activeIndex!==void 0?S.props.activeIndex:I;return[v.cloneElement(S,te(te(te({},C.props),se),{},{activeIndex:ce})),null,null]}if(!vt(ie))return[Q].concat(Ld(j.renderActivePoints({item:C,activePoint:ie,basePoint:W,childIndex:I,isRange:H})))}else{var qe,Ye=(qe=j.getItemByXY(j.state.activeCoordinate))!==null&&qe!==void 0?qe:{graphicalItem:Q},ut=Ye.graphicalItem,Yt=ut.item,kt=Yt===void 0?S:Yt,kr=ut.childIndex,F=te(te(te({},C.props),se),{},{activeIndex:kr});return[v.cloneElement(kt,F),null,null]}return H?[Q,null,null]:[Q,null]}),We(j,"renderCustomized",function(S,_,k){return v.cloneElement(S,te(te({key:"recharts-customized-".concat(k)},j.props),j.state))}),We(j,"renderMap",{CartesianGrid:{handler:Ug,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Ug},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Ug},YAxis:{handler:Ug},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=p.id)!==null&&w!==void 0?w:Tp("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=EB(j.triggeredAfterMouseMove,(N=p.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return YIe(b,x),WIe(b,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,j=w.data,S=w.height,_=w.layout,k=ds(N,aa);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,P=AS(this.state,j,C,E),R=this.state.tooltipTicks[C].coordinate,O=(this.state.offset.top+S)/2,I=_==="horizontal",T=I?{x:R,y:O}:{y:R,x:O},D=this.state.formattedGraphicalItems.find(function(A){var $=A.item;return $.type.name==="Scatter"});D&&(T=te(te({},T),D.props.points[C].tooltipPosition),P=D.props.points[C].tooltipPayload);var q={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:E,activePayload:P,activeCoordinate:T};this.setState(q),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){iN([ds(w.children,aa)],[ds(this.props.children,aa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ds(this.props.children,aa);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),S=oje(j),_={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},k=j.width/N.offsetWidth||1,C=this.inRange(_.chartX,_.chartY,k);if(!C)return null;var E=this.state,P=E.xAxisMap,R=E.yAxisMap,O=this.getTooltipEventType(),I=o$(this.state,this.props.data,this.props.layout,C);if(O!=="axis"&&P&&R){var T=io(P).scale,D=io(R).scale,q=T&&T.invert?T.invert(_.chartX):null,A=D&&D.invert?D.invert(_.chartY):null;return te(te({},_),{},{xValue:q,yValue:A},I)}return I?te(te({},_),I):null}},{key:"inRange",value:function(w,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,_=w/j,k=N/j;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,E=_>=C.left&&_<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return E?{x:_,y:k}:null}var P=this.state,R=P.angleAxisMap,O=P.radiusAxisMap;if(R&&O){var I=io(R);return LI({x:_,y:k},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),j=ds(w,aa),S={};j&&N==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=py(this.props,this.handleOuterEvent);return te(te({},_),S)}},{key:"addListener",value:function(){rj.on(nj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rj.removeListener(nj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,j){for(var S=this.state.formattedGraphicalItems,_=0,k=S.length;_<k;_++){var C=S[_];if(C.item===w||C.props.key===w.key||N===wi(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,j=N.left,S=N.top,_=N.height,k=N.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:j,y:S,height:_,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,j){var S=s$(j,2),_=S[0],k=S[1];return te(te({},N),{},We({},_,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,j){var S=s$(j,2),_=S[0],k=S[1];return te(te({},N),{},We({},_,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,j=N.formattedGraphicalItems,S=N.activeItem;if(j&&j.length)for(var _=0,k=j.length;_<k;_++){var C=j[_],E=C.props,P=C.item,R=P.type.defaultProps!==void 0?te(te({},P.type.defaultProps),P.props):P.props,O=wi(P.type);if(O==="Bar"){var I=(E.data||[]).find(function(A){return KPe(w,A)});if(I)return{graphicalItem:C,payload:I}}else if(O==="RadialBar"){var T=(E.data||[]).find(function(A){return LI(w,A)});if(T)return{graphicalItem:C,payload:T}}else if(c0(C,S)||u0(C,S)||Vm(C,S)){var D=$Ae({graphicalItem:C,activeTooltipItem:S,itemData:R.data}),q=R.activeIndex===void 0?D:R.activeIndex;return{graphicalItem:te(te({},C),{},{childIndex:q}),payload:Vm(C,S)?R.data[D]:C.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!PO(this))return null;var N=this.props,j=N.children,S=N.className,_=N.width,k=N.height,C=N.style,E=N.compact,P=N.title,R=N.desc,O=a$(N,LIe),I=Je(O,!1);if(E)return M.createElement(qR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(lN,Nu({},I,{width:_,height:k,title:P,desc:R}),this.renderClipPath(),AO(j,this.renderMap)));if(this.props.accessibilityLayer){var T,D;I.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,I.role=(D=this.props.role)!==null&&D!==void 0?D:"application",I.onKeyDown=function(A){w.accessibilityManager.keyboardEvent(A)},I.onFocus=function(){w.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return M.createElement(qR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Nu({className:ft("recharts-wrapper",S),style:te({position:"relative",cursor:"default",width:_,height:k},C)},q,{ref:function($){w.container=$}}),M.createElement(lN,Nu({},I,{width:_,height:k,title:P,desc:R,style:tRe}),this.renderClipPath(),AO(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);We(y,"displayName",r),We(y,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),We(y,"getDerivedStateFromProps",function(x,b){var p=x.dataKey,w=x.data,N=x.children,j=x.width,S=x.height,_=x.layout,k=x.stackOffset,C=x.margin,E=b.dataStartIndex,P=b.dataEndIndex;if(b.updateId===void 0){var R=l$(x);return te(te(te({},R),{},{updateId:0},g(te(te({props:x},R),{},{updateId:0}),b)),{},{prevDataKey:p,prevData:w,prevWidth:j,prevHeight:S,prevLayout:_,prevStackOffset:k,prevMargin:C,prevChildren:N})}if(p!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||S!==b.prevHeight||_!==b.prevLayout||k!==b.prevStackOffset||!Iu(C,b.prevMargin)){var O=l$(x),I={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},T=te(te({},o$(b,w,_)),{},{updateId:b.updateId+1}),D=te(te(te({},O),I),T);return te(te(te({},D),g(te({props:x},D),b)),{},{prevDataKey:p,prevData:w,prevWidth:j,prevHeight:S,prevLayout:_,prevStackOffset:k,prevMargin:C,prevChildren:N})}if(!iN(N,b.prevChildren)){var q,A,$,H,Y=ds(N,Ed),L=Y&&(q=(A=Y.props)===null||A===void 0?void 0:A.startIndex)!==null&&q!==void 0?q:E,K=Y&&($=(H=Y.props)===null||H===void 0?void 0:H.endIndex)!==null&&$!==void 0?$:P,re=L!==E||K!==P,ae=!vt(w),be=ae&&!re?b.updateId:b.updateId+1;return te(te({updateId:be},g(te(te({props:x},b),{},{updateId:be,dataStartIndex:L,dataEndIndex:K}),b)),{},{prevChildren:N,dataStartIndex:L,dataEndIndex:K})}return null}),We(y,"renderActiveDot",function(x,b,p){var w;return v.isValidElement(x)?w=v.cloneElement(x,b):at(x)?w=x(b):w=M.createElement(cP,b),M.createElement(Dt,{className:"recharts-active-dot",key:p},w)});var m=v.forwardRef(function(b,p){return M.createElement(y,Nu({},b,{ref:p}))});return m.displayName=y.displayName,m},dRe=JV({chartName:"BarChart",GraphicalChild:Ac,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:g0},{axisType:"yAxis",AxisComp:v0}],formatAxisMap:hOe}),fRe=JV({chartName:"PieChart",GraphicalChild:qi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:l0},{axisType:"radiusAxis",AxisComp:i0}],formatAxisMap:nke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Bg={VERIFIED:"#22c55e",PENDING_VERIFICATION:"#eab308",PENDING_PAYMENT:"#6b7280",REJECTED:"#ef4444"};function hRe(){const{adminPath:e}=mp(),t=`/${e}`,{data:r}=ve({queryKey:["/api/admin/facilities"]}),{data:n}=ve({queryKey:["/api/admin/announcements"]}),{data:s}=ve({queryKey:["/api/admin/gallery"]}),{data:i}=ve({queryKey:["/api/admin/pricing-tiers"]}),{data:o}=ve({queryKey:["/api/admin/careers"]}),{data:l}=ve({queryKey:["/api/admin/rules"]}),{data:c}=ve({queryKey:["/api/admin/bookings"]}),{data:u}=ve({queryKey:["/api/admin/users"]}),d=(c==null?void 0:c.filter(j=>j.paymentStatus==="PENDING_VERIFICATION").length)||0,f=(c==null?void 0:c.filter(j=>j.status==="CONFIRMED").length)||0,h=(c==null?void 0:c.filter(j=>j.paymentStatus==="VERIFIED").reduce((j,S)=>j+(S.totalPrice||0),0))||0,g=[{name:"Verified",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="VERIFIED").length)||0,color:Bg.VERIFIED},{name:"Pending Verification",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="PENDING_VERIFICATION").length)||0,color:Bg.PENDING_VERIFICATION},{name:"Awaiting Payment",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="PENDING_PAYMENT").length)||0,color:Bg.PENDING_PAYMENT},{name:"Rejected",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="REJECTED").length)||0,color:Bg.REJECTED}].filter(j=>j.value>0),y=(r==null?void 0:r.map(j=>({name:j.name.length>15?j.name.slice(0,12)+"...":j.name,fullName:j.name,bookings:(c==null?void 0:c.filter(S=>S.facilityId===j.id).length)||0,revenue:(c==null?void 0:c.filter(S=>S.facilityId===j.id&&S.paymentStatus==="VERIFIED").reduce((S,_)=>S+(_.totalPrice||0),0))||0})))||[],m=(c==null?void 0:c.slice().sort((j,S)=>{const _=new Date(`${j.date} ${j.startTime}`);return new Date(`${S.date} ${S.startTime}`).getTime()-_.getTime()}).slice(0,5))||[],x=[{label:"Total Bookings",value:(c==null?void 0:c.length)||0,icon:gn,color:"text-blue-500",bgColor:"bg-blue-500/10",trend:`${f} confirmed`},{label:"Pending Verification",value:d,icon:_r,color:"text-amber-500",bgColor:"bg-amber-500/10",trend:d>0?"Action needed":"All clear"},{label:"Verified Revenue",value:`PKR ${h.toLocaleString()}`,icon:v1,color:"text-green-500",bgColor:"bg-green-500/10",trend:`${(c==null?void 0:c.filter(j=>j.paymentStatus==="VERIFIED").length)||0} payments`},{label:"Total Users",value:(u==null?void 0:u.length)||0,icon:Qr,color:"text-purple-500",bgColor:"bg-purple-500/10",trend:`${(u==null?void 0:u.filter(j=>j.role==="ADMIN"||j.role==="SUPER_ADMIN").length)||0} admins`}],b=[{label:"Facilities",value:(r==null?void 0:r.length)||0,icon:kn,color:"text-blue-500"},{label:"Pricing Tiers",value:(i==null?void 0:i.length)||0,icon:v1,color:"text-green-500"},{label:"Announcements",value:(n==null?void 0:n.length)||0,icon:nd,color:"text-amber-500"},{label:"Career Listings",value:(o==null?void 0:o.length)||0,icon:Vh,color:"text-purple-500"},{label:"Rules & Policies",value:(l==null?void 0:l.length)||0,icon:ec,color:"text-red-500"},{label:"Gallery Images",value:(s==null?void 0:s.length)||0,icon:Ei,color:"text-indigo-500"}],p=j=>{switch(j){case"VERIFIED":return a.jsx(Se,{className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return a.jsx(Se,{className:"bg-amber-500",children:"Pending"});case"REJECTED":return a.jsx(Se,{variant:"destructive",children:"Rejected"});default:return a.jsx(Se,{variant:"secondary",children:"Awaiting"})}},w=(j,S)=>j==="CONFIRMED"&&S==="VERIFIED"?a.jsx(Se,{className:"bg-green-600",children:"Confirmed"}):j==="CANCELLED"?a.jsx(Se,{variant:"destructive",children:"Cancelled"}):a.jsx(Se,{variant:"secondary",children:"Tentative"}),N=j=>{if(!j||!r)return"Unknown";const S=r.find(_=>_.id===j);return(S==null?void 0:S.name)||"Unknown"};return a.jsx(Nt,{title:"Dashboard",children:a.jsxs("div",{className:"space-y-6",children:[d>0&&a.jsx(le,{className:"border-amber-500 bg-amber-50 dark:bg-amber-900/20","data-testid":"alert-pending-verification",children:a.jsxs(ue,{className:"flex flex-wrap items-center gap-4 p-4",children:[a.jsx($n,{className:"h-5 w-5 text-amber-600 shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("span",{className:"font-medium text-amber-800 dark:text-amber-200",children:[d," booking",d>1?"s":""," pending payment verification"]}),a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Review and verify payments to confirm bookings."})]}),a.jsx(oe,{href:`${t}/bookings`,children:a.jsxs(U,{size:"sm",variant:"outline","data-testid":"button-view-pending",children:["View Pending ",a.jsx(qa,{className:"w-4 h-4 ml-1"})]})})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:x.map(j=>{const S=j.icon;return a.jsx(le,{"data-testid":`card-stat-${j.label.toLowerCase().replace(/\s+/g,"-")}`,children:a.jsx(ue,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:j.label}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:j.value}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[a.jsx(TK,{className:"w-3 h-3"}),j.trend]})]}),a.jsx("div",{className:`p-3 rounded-full ${j.bgColor}`,children:a.jsx(S,{className:`w-6 h-6 ${j.color}`})})]})})},j.label)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(le,{children:[a.jsxs(Ge,{children:[a.jsx(et,{className:"text-lg",children:"Bookings by Facility"}),a.jsx(Kt,{children:"Total bookings and revenue per facility"})]}),a.jsx(ue,{children:y.length>0?a.jsx("div",{className:"h-[300px]",children:a.jsx(CT,{width:"100%",height:"100%",children:a.jsxs(dRe,{data:y,margin:{top:10,right:10,left:-10,bottom:0},children:[a.jsx(LV,{strokeDasharray:"3 3",className:"stroke-muted"}),a.jsx(g0,{dataKey:"name",tick:{fontSize:11},className:"text-muted-foreground"}),a.jsx(v0,{tick:{fontSize:11},className:"text-muted-foreground"}),a.jsx(aa,{formatter:(j,S)=>[S==="revenue"?`PKR ${j.toLocaleString()}`:j,S==="revenue"?"Revenue":"Bookings"],labelFormatter:j=>{const S=y.find(_=>_.name===j);return(S==null?void 0:S.fullName)||j},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(Ac,{dataKey:"bookings",fill:"#3b82f6",radius:[4,4,0,0],name:"Bookings"})]})})}):a.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No booking data available"})})]}),a.jsxs(le,{children:[a.jsxs(Ge,{children:[a.jsx(et,{className:"text-lg",children:"Payment Status Distribution"}),a.jsx(Kt,{children:"Overview of payment statuses across all bookings"})]}),a.jsx(ue,{children:g.length>0?a.jsx("div",{className:"h-[300px]",children:a.jsx(CT,{width:"100%",height:"100%",children:a.jsxs(fRe,{children:[a.jsx(qi,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:g.map((j,S)=>a.jsx(Wb,{fill:j.color},`cell-${S}`))}),a.jsx(aa,{formatter:j=>[j,"Bookings"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(zl,{})]})})}):a.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No payment data available"})})]})]}),a.jsxs(le,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{className:"text-lg",children:"Recent Bookings"}),a.jsx(Kt,{children:"Latest booking activity"})]}),a.jsx(oe,{href:`${t}/bookings`,children:a.jsxs(U,{variant:"outline",size:"sm","data-testid":"button-view-all-bookings",children:["View All ",a.jsx(qa,{className:"w-4 h-4 ml-1"})]})})]}),a.jsx(ue,{children:m.length>0?a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Booking ID"}),a.jsx(ke,{children:"Date / Time"}),a.jsx(ke,{children:"Facility"}),a.jsx(ke,{children:"Amount"}),a.jsx(ke,{children:"Payment"}),a.jsx(ke,{children:"Status"})]})}),a.jsx(ts,{children:m.map(j=>{var S;return a.jsxs(wt,{"data-testid":`row-recent-booking-${j.id}`,children:[a.jsxs(we,{className:"font-mono text-xs",children:[j.id.slice(0,8),"..."]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-sm font-medium",children:j.date}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[j.startTime," - ",j.endTime]})]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-sm",children:N(j.facilityId)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",j.resourceId]})]}),a.jsx(we,{children:a.jsxs("span",{className:"font-medium",children:["PKR ",((S=j.totalPrice)==null?void 0:S.toLocaleString())||0]})}),a.jsx(we,{children:p(j.paymentStatus)}),a.jsx(we,{children:w(j.status,j.paymentStatus)})]},j.id)})})]})}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings yet"})})]}),a.jsxs(le,{children:[a.jsxs(Ge,{children:[a.jsx(et,{className:"text-lg",children:"Content Overview"}),a.jsx(Kt,{children:"Quick stats on website content managed through the admin panel"})]}),a.jsx(ue,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:b.map(j=>{const S=j.icon;return a.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50","data-testid":`stat-${j.label.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(S,{className:`w-8 h-8 mx-auto mb-2 ${j.color}`}),a.jsx("p",{className:"text-2xl font-bold",children:j.value}),a.jsx("p",{className:"text-xs text-muted-foreground",children:j.label})]},j.label)})})})]})]})})}const aj={hero:{title:"Hero Section",description:"The main banner section at the top of the homepage.",fields:[{key:"hero_eyebrow",label:"Eyebrow Text",type:"text",placeholder:"Target Launch: Q4 2026"},{key:"hero_title",label:"Main Title",type:"textarea",placeholder:"A bright, premium multi-sport arena..."},{key:"hero_subtitle",label:"Subtitle",type:"textarea",placeholder:"The Quarterdeck brings state-of-the-art..."},{key:"hero_launch_date",label:"Launch Date (for countdown)",type:"date"},{key:"hero_cta_1",label:"Primary Button Text",type:"text",placeholder:"Explore Facilities"},{key:"hero_cta_2",label:"Secondary Button Text",type:"text",placeholder:"View Site Updates"}]},about:{title:"About Section",description:"Information about The Quarterdeck's vision and team.",fields:[{key:"about_title",label:"Section Title",type:"text",placeholder:"About The Quarterdeck"},{key:"about_subtitle",label:"Section Subtitle",type:"textarea",placeholder:"Our core vision..."},{key:"about_vision_title",label:"Vision Card Title",type:"text",placeholder:"Vision & Philosophy"},{key:"about_vision_content",label:"Vision Content",type:"textarea",placeholder:"The Quarterdeck is born from..."},{key:"about_vision_content_2",label:"Vision Content (Paragraph 2)",type:"textarea"},{key:"about_team_title",label:"Team Card Title",type:"text",placeholder:"The Project Team"},{key:"about_team_content",label:"Team Content",type:"textarea"}]},facilities:{title:"Facilities Section",description:"Overview of available sports facilities.",fields:[{key:"facilities_title",label:"Section Title",type:"text",placeholder:"World-Class Facilities"},{key:"facilities_subtitle",label:"Section Subtitle",type:"textarea"},{key:"facilities_cta",label:"CTA Button Text",type:"text",placeholder:"Check Court Availability"}]},membership:{title:"Membership Section",description:"Membership options and benefits.",fields:[{key:"membership_title",label:"Section Title",type:"text",placeholder:"Membership Options"},{key:"membership_subtitle",label:"Section Subtitle",type:"textarea"},{key:"membership_cta",label:"CTA Button Text",type:"text",placeholder:"Explore Membership"}]},contact:{title:"Contact Information",description:"Contact details displayed across the site.",fields:[{key:"contact_title",label:"Section Title",type:"text",placeholder:"Get In Touch"},{key:"contact_subtitle",label:"Section Subtitle",type:"textarea"},{key:"contact_email",label:"Email Address",type:"email",placeholder:"info@thequarterdeck.pk"},{key:"contact_phone",label:"Phone Number",type:"text",placeholder:"+92 51 1234567"},{key:"contact_address",label:"Physical Address",type:"textarea"},{key:"contact_hours",label:"Operating Hours",type:"text"}]},updates:{title:"Updates Section",description:"Construction updates and progress section.",fields:[{key:"updates_title",label:"Section Title",type:"text",placeholder:"Construction Updates"},{key:"updates_subtitle",label:"Section Subtitle",type:"textarea"},{key:"updates_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Roadmap"}]},gallery:{title:"Gallery Section",description:"Progress photos and renders section.",fields:[{key:"gallery_title",label:"Section Title",type:"text",placeholder:"Gallery & Progress Photos"},{key:"gallery_subtitle",label:"Section Subtitle",type:"textarea"},{key:"gallery_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Gallery"}]},careers:{title:"Careers Page",description:"Content for the careers/jobs section.",fields:[{key:"careers_title",label:"Page Title",type:"text",placeholder:"Join Our Team"},{key:"careers_subtitle",label:"Page Subtitle",type:"textarea"},{key:"careers_cta",label:"CTA Button Text",type:"text",placeholder:"View Open Positions"}]},rules:{title:"Rules Page",description:"Club rules and etiquette content.",fields:[{key:"rules_title",label:"Page Title",type:"text",placeholder:"Club Rules & Etiquette"},{key:"rules_subtitle",label:"Page Subtitle",type:"textarea"},{key:"rules_cta",label:"CTA Button Text",type:"text",placeholder:"View All Rules"}]},events:{title:"Events Page",description:"Content for events and programs section.",fields:[{key:"events_title",label:"Page Title",type:"text",placeholder:"Events & Programs"},{key:"events_subtitle",label:"Page Subtitle",type:"textarea"}]},leaderboard:{title:"Leaderboard Page",description:"Content for the leaderboard section.",fields:[{key:"leaderboard_title",label:"Page Title",type:"text",placeholder:"Leaderboard"},{key:"leaderboard_subtitle",label:"Page Subtitle",type:"textarea"}]},coming_soon:{title:"Coming Soon Page",description:"Content for the pre-launch Coming Soon page.",fields:[{key:"coming_soon_title",label:"Page Title",type:"text",placeholder:"Something Amazing Is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",type:"textarea"},{key:"coming_soon_description",label:"Description",type:"textarea"},{key:"coming_soon_cta",label:"CTA Button Text",type:"text",placeholder:"Join the Waitlist"},{key:"coming_soon_launch_date",label:"Launch Date",type:"date"},{key:"coming_soon_location",label:"Location Text",type:"text"}]},social:{title:"Social Media Links",description:"Social media profile URLs.",fields:[{key:"social_facebook",label:"Facebook URL",type:"text"},{key:"social_instagram",label:"Instagram URL",type:"text"},{key:"social_twitter",label:"Twitter/X URL",type:"text"},{key:"social_linkedin",label:"LinkedIn URL",type:"text"},{key:"social_youtube",label:"YouTube URL",type:"text"}]},footer:{title:"Footer Content",description:"Footer text and copyright information.",fields:[{key:"footer_tagline",label:"Tagline",type:"text"},{key:"footer_copyright",label:"Copyright Text",type:"text"},{key:"footer_disclaimer",label:"Disclaimer Text",type:"textarea"}]}};function mRe(){const{toast:e}=At(),[t,r]=v.useState({}),[n,s]=v.useState(new Set),[i,o]=v.useState(new Set),{data:l,isLoading:c}=ve({queryKey:["/api/admin/cms"]});v.useEffect(()=>{if(l){const p={};l.forEach(w=>{p[w.key]=w.content||""}),r(w=>({...p,...w}))}},[l]);const u=Te({mutationFn:async p=>await Ae("POST","/api/admin/cms",{key:p.key,title:p.title,content:p.content}),onSuccess:(p,w)=>{Ne.invalidateQueries({queryKey:["/api/admin/cms"]}),Ne.invalidateQueries({queryKey:["/api/cms/bulk"]}),s(N=>{const j=new Set(N);return j.delete(w.key),j}),o(N=>new Set(N).add(w.key)),setTimeout(()=>{o(N=>{const j=new Set(N);return j.delete(w.key),j})},2e3),e({title:"Content saved successfully"})},onError:(p,w)=>{s(N=>{const j=new Set(N);return j.delete(w.key),j}),e({title:"Failed to save content",variant:"destructive"})}}),d=p=>{const w=l==null?void 0:l.find(N=>N.key===p);return(w==null?void 0:w.content)??void 0},f=p=>Ze[p]||"",h=p=>{const w=d(p);return w!==void 0&&w!==""},g=p=>{const w=d(p)||"",N=t[p];return N!==void 0&&N!==w},y=(p,w)=>{r(N=>({...N,[p]:w}))},m=(p,w)=>{const N=t[p]??d(p)??"";s(j=>new Set(j).add(p)),u.mutate({key:p,content:N,title:w})},x=p=>{aj[p].fields.forEach(N=>{((t[N.key]??d(N.key)??"")||g(N.key))&&m(N.key,N.label)})},b=p=>{const w=f(p);r(N=>({...N,[p]:w}))};return c?a.jsx(Nt,{title:"Site Content",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(it,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):a.jsx(Nt,{title:"Site Content",children:a.jsx("div",{className:"space-y-6",children:a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsx(et,{children:"Edit Site Content"})}),a.jsxs(ue,{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sA,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm",children:"Saved in database"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ec,{className:"w-4 h-4 text-amber-600"}),a.jsx("span",{className:"text-sm",children:"Using default value"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($n,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm",children:"Unsaved changes"})]})]}),a.jsxs(Ti,{defaultValue:"hero",className:"w-full",children:[a.jsx(Ha,{className:"flex flex-wrap h-auto gap-1 mb-6",children:Object.entries(aj).map(([p,w])=>a.jsx(Nr,{value:p,className:"text-xs","data-testid":`tab-${p}`,children:w.title},p))}),Object.entries(aj).map(([p,w])=>a.jsxs(Sr,{value:p,className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:w.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]}),a.jsxs(U,{variant:"outline",onClick:()=>x(p),"data-testid":`button-save-all-${p}`,children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),"Save All Changes"]})]}),a.jsx("div",{className:"space-y-6",children:w.fields.map(N=>{const j=d(N.key),S=f(N.key),_=t[N.key]??j??"",k=h(N.key),C=g(N.key);return a.jsxs("div",{className:"space-y-2 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(J,{htmlFor:N.key,className:"font-medium",children:N.label}),i.has(N.key)?a.jsxs(Se,{className:"bg-green-500 text-xs",children:[a.jsx(Dv,{className:"w-3 h-3 mr-1"}),"Saved"]}):C?a.jsxs(Se,{variant:"outline",className:"text-blue-600 border-blue-600 text-xs",children:[a.jsx($n,{className:"w-3 h-3 mr-1"}),"Unsaved"]}):k?a.jsxs(Se,{variant:"outline",className:"text-green-600 border-green-600 text-xs",children:[a.jsx(sA,{className:"w-3 h-3 mr-1"}),"Database"]}):S?a.jsxs(Se,{variant:"outline",className:"text-amber-600 border-amber-600 text-xs",children:[a.jsx(ec,{className:"w-3 h-3 mr-1"}),"Default"]}):null]}),a.jsxs("div",{className:"flex items-center gap-1",children:[S&&!k&&a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>b(N.key),className:"text-xs",title:"Use default value",children:"Reset"}),a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>m(N.key,N.label),disabled:n.has(N.key),"data-testid":`button-save-${N.key}`,children:n.has(N.key)?a.jsx(it,{className:"w-4 h-4 animate-spin"}):a.jsx(ln,{className:"w-4 h-4"})})]})]}),S&&!k&&a.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded border-l-2 border-amber-500",children:[a.jsx("span",{className:"font-medium",children:"Currently showing on website: "}),a.jsx("span",{className:"italic",children:S.length>150?S.substring(0,150)+"...":S})]}),N.type==="textarea"?a.jsx(ur,{id:N.key,value:_,onChange:E=>y(N.key,E.target.value),placeholder:N.placeholder||S||"Enter content...",rows:4,className:C?"border-blue-500":"","data-testid":`input-${N.key}`}):a.jsx(ne,{id:N.key,type:N.type==="date"?"date":N.type==="email"?"email":"text",value:_,onChange:E=>y(N.key,E.target.value),placeholder:N.placeholder||S||"Enter content...",className:C?"border-blue-500":"","data-testid":`input-${N.key}`})]},N.key)})})]},p))]})]})]})})})}const u$=[{key:"coming_soon_launch_date",label:"Launch Date",description:"The countdown timer on the Coming Soon page counts down to this date",type:"date",pageRef:"/coming-soon",defaultValue:Ze.coming_soon_launch_date||"2025-12-25"},{key:"coming_soon_title",label:"Main Title",description:"The large heading on the Coming Soon page",type:"text",pageRef:"/coming-soon",defaultValue:Ze.coming_soon_title||"Something Extraordinary is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",description:"The description text below the main title",type:"textarea",pageRef:"/coming-soon",defaultValue:Ze.coming_soon_subtitle||"Premium sports and recreation complex launching soon in Islamabad"},{key:"coming_soon_location",label:"Location",description:"The location displayed at the bottom of the page",type:"text",pageRef:"/coming-soon",defaultValue:Ze.coming_soon_location||"Sector F-7, Islamabad"},{key:"hero_eyebrow",label:"Launch Badge Text",description:"The small badge text shown above the countdown (e.g., 'Target Launch: Q4 2025')",type:"text",pageRef:"/coming-soon",defaultValue:Ze.hero_eyebrow||"Target Launch: Q4 2025"}];function pRe(){const{toast:e}=At(),[t,r]=v.useState({}),[n,s]=v.useState(new Set),{data:i,isLoading:o}=ve({queryKey:["/api/cms"]}),{data:l,isLoading:c}=ve({queryKey:["/api/admin/site-settings"]});v.useEffect(()=>{if(!o&&!c){const b={};u$.forEach(p=>{const w=i==null?void 0:i.find(j=>j.key===p.key),N=l==null?void 0:l.find(j=>j.key===p.key);b[p.key]=(w==null?void 0:w.content)||(N==null?void 0:N.value)||p.defaultValue}),r(b)}},[i,l,o,c]);const u=Te({mutationFn:async({key:b,value:p})=>await Ae("POST","/api/admin/cms",{key:b,content:p}),onSuccess:(b,p)=>{Ne.invalidateQueries({queryKey:["/api/cms"]}),Ne.invalidateQueries({queryKey:["/api/cms/bulk"]}),Ne.invalidateQueries({queryKey:["/api/admin/site-settings"]}),s(w=>{const N=new Set(w);return N.delete(p.key),N}),e({title:"Setting saved successfully"})},onError:()=>{e({title:"Failed to save setting",variant:"destructive"})}}),d=(b,p)=>{r(w=>({...w,[b]:p})),s(w=>new Set(w).add(b))},f=b=>{u.mutate({key:b,value:t[b]})},h=async()=>{const b=Array.from(n).map(p=>Ae("POST","/api/admin/cms",{key:p,content:t[p]}));try{await Promise.all(b),Ne.invalidateQueries({queryKey:["/api/cms"]}),Ne.invalidateQueries({queryKey:["/api/cms/bulk"]}),Ne.invalidateQueries({queryKey:["/api/admin/site-settings"]}),s(new Set),e({title:"All changes saved successfully"})}catch{e({title:"Failed to save some settings",variant:"destructive"})}},g=b=>{if(n.has(b))return"edited";const p=i==null?void 0:i.find(N=>N.key===b),w=l==null?void 0:l.find(N=>N.key===b);return p||w?"database":"default"},y=b=>{switch(b){case"database":return a.jsx(Se,{className:"bg-green-500 text-xs",children:"From Database"});case"edited":return a.jsx(Se,{className:"bg-amber-500 text-xs",children:"Edited (Unsaved)"});default:return a.jsx(Se,{variant:"secondary",className:"text-xs",children:"Using Default"})}},m=t.coming_soon_launch_date?new Date(t.coming_soon_launch_date):new Date("2025-12-25"),x=Wee(m,new Date);return o||c?a.jsx(Nt,{title:"Coming Soon Page",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Coming Soon Page",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage the Coming Soon page content and countdown timer."}),a.jsxs("a",{href:"/coming-soon",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[a.jsx(Mo,{className:"w-3 h-3"})," View Coming Soon Page",a.jsx(zh,{className:"w-3 h-3"})]})]}),n.size>0&&a.jsxs(U,{onClick:h,"data-testid":"button-save-all-coming-soon",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"})," Save All Changes (",n.size,")"]})]}),a.jsxs(le,{className:"border-primary/20 bg-primary/5",children:[a.jsxs(Ge,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(gn,{className:"w-5 h-5"}),"Countdown Status"]}),a.jsx(Kt,{children:"Current countdown configuration"})]}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[a.jsx("div",{className:"text-3xl font-bold text-primary",children:x}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Until Launch"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[a.jsx("div",{className:"text-xl font-semibold",children:cd(m,"MMMM d, yyyy")}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Launch Date"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[a.jsx("div",{className:"text-xl font-semibold",children:x>0?"Counting Down":"Launched!"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]})]})})]}),a.jsx("div",{className:"grid gap-6",children:u$.map(b=>{const p=g(b.key);return a.jsxs(le,{children:[a.jsx(Ge,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs(et,{className:"text-base flex items-center gap-2",children:[b.label,y(p)]}),a.jsx(Kt,{className:"mt-1",children:b.description})]}),a.jsxs("a",{href:b.pageRef,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary flex items-center gap-1 hover:underline whitespace-nowrap",children:["View on site ",a.jsx(zh,{className:"w-3 h-3"})]})]})}),a.jsxs(ue,{children:[a.jsxs("div",{className:"flex gap-3",children:[b.type==="textarea"?a.jsx(ur,{value:t[b.key]||"",onChange:w=>d(b.key,w.target.value),rows:3,className:"flex-1","data-testid":`input-${b.key}`}):b.type==="date"?a.jsx(ne,{type:"date",value:t[b.key]||"",onChange:w=>d(b.key,w.target.value),className:"flex-1","data-testid":`input-${b.key}`}):a.jsx(ne,{value:t[b.key]||"",onChange:w=>d(b.key,w.target.value),className:"flex-1","data-testid":`input-${b.key}`}),a.jsx(U,{variant:"outline",onClick:()=>f(b.key),disabled:!n.has(b.key)||u.isPending,"data-testid":`button-save-${b.key}`,children:a.jsx(ln,{className:"w-4 h-4"})})]}),b.key==="coming_soon_launch_date"&&t[b.key]&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Formatted: ",cd(new Date(t[b.key]),"EEEE, MMMM d, yyyy")]})]})]},b.key)})})]})})}function gRe(e){const t=vRe(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(xRe);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function vRe(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=wRe(s),l=bRe(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yRe=Symbol("radix.slottable");function xRe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yRe}function bRe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function wRe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jRe=[" ","Enter","ArrowUp","ArrowDown"],NRe=[" ","Enter"],gc="Select",[x0,b0,SRe]=ap(gc),[ff]=yn(gc,[SRe,Go]),w0=Go(),[_Re,el]=ff(gc),[kRe,CRe]=ff(gc),eq=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:y}=e,m=w0(t),[x,b]=v.useState(null),[p,w]=v.useState(null),[N,j]=v.useState(!1),S=Xd(u),[_,k]=rs({prop:n,defaultProp:s??!1,onChange:i,caller:gc}),[C,E]=rs({prop:o,defaultProp:l,onChange:c,caller:gc}),P=v.useRef(null),R=x?y||!!x.closest("form"):!0,[O,I]=v.useState(new Set),T=Array.from(O).map(D=>D.props.value).join(";");return a.jsx(zx,{...m,children:a.jsxs(_Re,{required:g,scope:t,trigger:x,onTriggerChange:b,valueNode:p,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:Rr(),value:C,onValueChange:E,open:_,onOpenChange:k,dir:S,triggerPointerDownPosRef:P,disabled:h,children:[a.jsx(x0.Provider,{scope:t,children:a.jsx(kRe,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(D=>{I(q=>new Set(q).add(D))},[]),onNativeOptionRemove:v.useCallback(D=>{I(q=>{const A=new Set(q);return A.delete(D),A})},[]),children:r})}),R?a.jsxs(Sq,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:D=>E(D.target.value),disabled:h,form:y,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(O)]},T):null]})})};eq.displayName=gc;var tq="SelectTrigger",rq=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=w0(r),o=el(tq,r),l=o.disabled||n,c=rt(t,o.onTriggerChange),u=b0(r),d=v.useRef("touch"),[f,h,g]=kq(m=>{const x=u().filter(w=>!w.disabled),b=x.find(w=>w.value===o.value),p=Cq(x,m,b);p!==void 0&&o.onValueChange(p.value)}),y=m=>{l||(o.onOpenChange(!0),g()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(fp,{asChild:!0,...i,children:a.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":_q(o.value)?"":void 0,...s,ref:c,onClick:me(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:me(s.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:me(s.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&jRe.includes(m.key)&&(y(),m.preventDefault())})})})});rq.displayName=tq;var nq="SelectValue",sq=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=el(nq,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=rt(t,c.onValueNodeChange);return yr(()=>{u(d)},[u,d]),a.jsx(Oe.span,{...l,ref:f,style:{pointerEvents:"none"},children:_q(c.value)?a.jsx(a.Fragment,{children:o}):i})});sq.displayName=nq;var PRe="SelectIcon",aq=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Oe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});aq.displayName=PRe;var ERe="SelectPortal",iq=e=>a.jsx(zd,{asChild:!0,...e});iq.displayName=ERe;var vc="SelectContent",oq=v.forwardRef((e,t)=>{const r=el(vc,e.__scopeSelect),[n,s]=v.useState();if(yr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?bc.createPortal(a.jsx(lq,{scope:e.__scopeSelect,children:a.jsx(x0.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(cq,{...e,ref:t})});oq.displayName=vc;var Zs=10,[lq,tl]=ff(vc),ARe="SelectContentImpl",ORe=gRe("SelectContent.RemoveScroll"),cq=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:y,hideWhenDetached:m,avoidCollisions:x,...b}=e,p=el(vc,r),[w,N]=v.useState(null),[j,S]=v.useState(null),_=rt(t,ee=>N(ee)),[k,C]=v.useState(null),[E,P]=v.useState(null),R=b0(r),[O,I]=v.useState(!1),T=v.useRef(!1);v.useEffect(()=>{if(w)return eb(w)},[w]),Jx();const D=v.useCallback(ee=>{const[se,...Q]=R().map(W=>W.ref.current),[X]=Q.slice(-1),ie=document.activeElement;for(const W of ee)if(W===ie||(W==null||W.scrollIntoView({block:"nearest"}),W===se&&j&&(j.scrollTop=0),W===X&&j&&(j.scrollTop=j.scrollHeight),W==null||W.focus(),document.activeElement!==ie))return},[R,j]),q=v.useCallback(()=>D([k,w]),[D,k,w]);v.useEffect(()=>{O&&q()},[O,q]);const{onOpenChange:A,triggerPointerDownPosRef:$}=p;v.useEffect(()=>{if(w){let ee={x:0,y:0};const se=X=>{var ie,W;ee={x:Math.abs(Math.round(X.pageX)-(((ie=$.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(X.pageY)-(((W=$.current)==null?void 0:W.y)??0))}},Q=X=>{ee.x<=10&&ee.y<=10?X.preventDefault():w.contains(X.target)||A(!1),document.removeEventListener("pointermove",se),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",Q,{capture:!0})}}},[w,A,$]),v.useEffect(()=>{const ee=()=>A(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[A]);const[H,Y]=kq(ee=>{const se=R().filter(ie=>!ie.disabled),Q=se.find(ie=>ie.ref.current===document.activeElement),X=Cq(se,ee,Q);X&&setTimeout(()=>X.ref.current.focus())}),L=v.useCallback((ee,se,Q)=>{const X=!T.current&&!Q;(p.value!==void 0&&p.value===se||X)&&(C(ee),X&&(T.current=!0))},[p.value]),K=v.useCallback(()=>w==null?void 0:w.focus(),[w]),re=v.useCallback((ee,se,Q)=>{const X=!T.current&&!Q;(p.value!==void 0&&p.value===se||X)&&P(ee)},[p.value]),ae=n==="popper"?OS:uq,be=ae===OS?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:y,hideWhenDetached:m,avoidCollisions:x}:{};return a.jsx(lq,{scope:r,content:w,viewport:j,onViewportChange:S,itemRefCallback:L,selectedItem:k,onItemLeave:K,itemTextRefCallback:re,focusSelectedItem:q,selectedItemText:E,position:n,isPositioned:O,searchRef:H,children:a.jsx(gp,{as:ORe,allowPinchZoom:!0,children:a.jsx(pp,{asChild:!0,trapped:p.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:me(s,ee=>{var se;(se=p.trigger)==null||se.focus({preventScroll:!0}),ee.preventDefault()}),children:a.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:a.jsx(ae,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:ee=>ee.preventDefault(),...b,...be,onPlaced:()=>I(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:me(b.onKeyDown,ee=>{const se=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!se&&ee.key.length===1&&Y(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let X=R().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ie=ee.target,W=X.indexOf(ie);X=X.slice(W+1)}setTimeout(()=>D(X)),ee.preventDefault()}})})})})})})});cq.displayName=ARe;var TRe="SelectItemAlignedPosition",uq=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=el(vc,r),o=tl(vc,r),[l,c]=v.useState(null),[u,d]=v.useState(null),f=rt(t,_=>d(_)),h=b0(r),g=v.useRef(!1),y=v.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:b,focusSelectedItem:p}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&x&&b){const _=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),E=b.getBoundingClientRect();if(i.dir!=="rtl"){const ie=E.left-k.left,W=C.left-ie,z=_.left-W,ce=_.width+z,qe=Math.max(ce,k.width),Ye=window.innerWidth-Zs,ut=L1(W,[Zs,Math.max(Zs,Ye-qe)]);l.style.minWidth=ce+"px",l.style.left=ut+"px"}else{const ie=k.right-E.right,W=window.innerWidth-C.right-ie,z=window.innerWidth-_.right-W,ce=_.width+z,qe=Math.max(ce,k.width),Ye=window.innerWidth-Zs,ut=L1(W,[Zs,Math.max(Zs,Ye-qe)]);l.style.minWidth=ce+"px",l.style.right=ut+"px"}const P=h(),R=window.innerHeight-Zs*2,O=m.scrollHeight,I=window.getComputedStyle(u),T=parseInt(I.borderTopWidth,10),D=parseInt(I.paddingTop,10),q=parseInt(I.borderBottomWidth,10),A=parseInt(I.paddingBottom,10),$=T+D+O+A+q,H=Math.min(x.offsetHeight*5,$),Y=window.getComputedStyle(m),L=parseInt(Y.paddingTop,10),K=parseInt(Y.paddingBottom,10),re=_.top+_.height/2-Zs,ae=R-re,be=x.offsetHeight/2,ee=x.offsetTop+be,se=T+D+ee,Q=$-se;if(se<=re){const ie=P.length>0&&x===P[P.length-1].ref.current;l.style.bottom="0px";const W=u.clientHeight-m.offsetTop-m.offsetHeight,z=Math.max(ae,be+(ie?K:0)+W+q),ce=se+z;l.style.height=ce+"px"}else{const ie=P.length>0&&x===P[0].ref.current;l.style.top="0px";const z=Math.max(re,T+m.offsetTop+(ie?L:0)+be)+Q;l.style.height=z+"px",m.scrollTop=se-re+m.offsetTop}l.style.margin=`${Zs}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,x,b,i.dir,n]);yr(()=>w(),[w]);const[N,j]=v.useState();yr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=v.useCallback(_=>{_&&y.current===!0&&(w(),p==null||p(),y.current=!1)},[w,p]);return a.jsx(RRe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx(Oe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});uq.displayName=TRe;var IRe="SelectPopperPosition",OS=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Zs,...i}=e,o=w0(r);return a.jsx(Wx,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});OS.displayName=IRe;var[RRe,xP]=ff(vc,{}),TS="SelectViewport",dq=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=tl(TS,r),o=xP(TS,r),l=rt(t,i.onViewportChange),c=v.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(x0.Slot,{scope:r,children:a.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:me(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const y=window.innerHeight-Zs*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(m,x);if(b<y){const p=b+g,w=Math.min(y,p),N=p-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});dq.displayName=TS;var fq="SelectGroup",[$Re,MRe]=ff(fq),DRe=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Rr();return a.jsx($Re,{scope:r,id:s,children:a.jsx(Oe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});DRe.displayName=fq;var hq="SelectLabel",mq=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=MRe(hq,r);return a.jsx(Oe.div,{id:s.id,...n,ref:t})});mq.displayName=hq;var mx="SelectItem",[LRe,pq]=ff(mx),gq=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=el(mx,r),c=tl(mx,r),u=l.value===n,[d,f]=v.useState(i??""),[h,g]=v.useState(!1),y=rt(t,p=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,p,n,s)}),m=Rr(),x=v.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(LRe,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:v.useCallback(p=>{f(w=>w||((p==null?void 0:p.textContent)??"").trim())},[]),children:a.jsx(x0.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Oe.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:me(o.onFocus,()=>g(!0)),onBlur:me(o.onBlur,()=>g(!1)),onClick:me(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:me(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:me(o.onPointerDown,p=>{x.current=p.pointerType}),onPointerMove:me(o.onPointerMove,p=>{var w;x.current=p.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(o.onPointerLeave,p=>{var w;p.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:me(o.onKeyDown,p=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&p.key===" "||(NRe.includes(p.key)&&b(),p.key===" "&&p.preventDefault())})})})})});gq.displayName=mx;var th="SelectItemText",vq=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=el(th,r),l=tl(th,r),c=pq(th,r),u=CRe(th,r),[d,f]=v.useState(null),h=rt(t,b=>f(b),c.onItemTextChange,b=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,b,c.value,c.disabled)}),g=d==null?void 0:d.textContent,y=v.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return yr(()=>(m(y),()=>x(y)),[m,x,y]),a.jsxs(a.Fragment,{children:[a.jsx(Oe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bc.createPortal(i.children,o.valueNode):null]})});vq.displayName=th;var yq="SelectItemIndicator",xq=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return pq(yq,r).isSelected?a.jsx(Oe.span,{"aria-hidden":!0,...n,ref:t}):null});xq.displayName=yq;var IS="SelectScrollUpButton",bq=v.forwardRef((e,t)=>{const r=tl(IS,e.__scopeSelect),n=xP(IS,e.__scopeSelect),[s,i]=v.useState(!1),o=rt(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(jq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});bq.displayName=IS;var RS="SelectScrollDownButton",wq=v.forwardRef((e,t)=>{const r=tl(RS,e.__scopeSelect),n=xP(RS,e.__scopeSelect),[s,i]=v.useState(!1),o=rt(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(jq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});wq.displayName=RS;var jq=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=tl("SelectScrollButton",r),o=v.useRef(null),l=b0(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),yr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Oe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:me(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:me(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:me(s.onPointerLeave,()=>{c()})})}),FRe="SelectSeparator",Nq=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Oe.div,{"aria-hidden":!0,...n,ref:t})});Nq.displayName=FRe;var $S="SelectArrow",URe=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=w0(r),i=el($S,r),o=tl($S,r);return i.open&&o.position==="popper"?a.jsx(Hx,{...s,...n,ref:t}):null});URe.displayName=$S;var BRe="SelectBubbleInput",Sq=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=v.useRef(null),i=rt(n,s),o=lC(t);return v.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Oe.select,{...r,style:{...xD,...r.style},ref:i,defaultValue:t})});Sq.displayName=BRe;function _q(e){return e===""||e===void 0}function kq(e){const t=vr(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function Cq(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=VRe(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function VRe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var qRe=eq,Pq=rq,zRe=sq,WRe=aq,HRe=iq,Eq=oq,KRe=dq,Aq=mq,Oq=gq,GRe=vq,YRe=xq,Tq=bq,Iq=wq,Rq=Nq;const Kr=qRe,Gr=zRe,Tr=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Pq,{ref:n,className:fe("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(WRe,{asChild:!0,children:a.jsx(Pi,{className:"h-4 w-4 opacity-50"})})]}));Tr.displayName=Pq.displayName;const $q=v.forwardRef(({className:e,...t},r)=>a.jsx(Tq,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(qh,{className:"h-4 w-4"})}));$q.displayName=Tq.displayName;const Mq=v.forwardRef(({className:e,...t},r)=>a.jsx(Iq,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Pi,{className:"h-4 w-4"})}));Mq.displayName=Iq.displayName;const Ir=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(HRe,{children:a.jsxs(Eq,{ref:s,className:fe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx($q,{}),a.jsx(KRe,{className:fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(Mq,{})]})}));Ir.displayName=Eq.displayName;const QRe=v.forwardRef(({className:e,...t},r)=>a.jsx(Aq,{ref:r,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));QRe.displayName=Aq.displayName;const ze=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Oq,{ref:n,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(YRe,{children:a.jsx(an,{className:"h-4 w-4"})})}),a.jsx(GRe,{children:t})]}));ze.displayName=Oq.displayName;const XRe=v.forwardRef(({className:e,...t},r)=>a.jsx(Rq,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));XRe.displayName=Rq.displayName;var j0="Switch",[ZRe]=yn(j0),[JRe,e$e]=ZRe(j0),Dq=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=v.useState(null),y=rt(t,w=>g(w)),m=v.useRef(!1),x=h?d||!!h.closest("form"):!0,[b,p]=rs({prop:s,defaultProp:i??!1,onChange:u,caller:j0});return a.jsxs(JRe,{scope:r,checked:b,disabled:l,children:[a.jsx(Oe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Bq(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:me(e.onClick,w=>{p(N=>!N),x&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),x&&a.jsx(Uq,{control:h,bubbles:!m.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Dq.displayName=j0;var Lq="SwitchThumb",Fq=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=e$e(Lq,r);return a.jsx(Oe.span,{"data-state":Bq(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Fq.displayName=Lq;var t$e="SwitchBubbleInput",Uq=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=v.useRef(null),l=rt(o,i),c=lC(r),u=tk(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&g){const y=new Event("click",{bubbles:n});g.call(d,r),d.dispatchEvent(y)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Uq.displayName=t$e;function Bq(e){return e?"checked":"unchecked"}var Vq=Dq,r$e=Fq;const Yr=v.forwardRef(({className:e,...t},r)=>a.jsx(Vq,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(r$e,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Yr.displayName=Vq.displayName;function n$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState("details"),[l,c]=v.useState(!1),[u,d]=v.useState(null),f=v.useRef(null),[h,g]=v.useState({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:""}),[y,m]=v.useState({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""}),[x,b]=v.useState({label:"",price:0,icon:""}),[p,w]=v.useState(null),{data:N,isLoading:j}=ve({queryKey:["/api/admin/facilities"]}),{data:S}=ve({queryKey:["/api/admin/venues"]}),{data:_,refetch:k}=ve({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"venues"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const z=await fetch(`/api/admin/facilities/${t.id}/venues`,{credentials:"include"});if(!z.ok)throw new Error("Failed to fetch");return z.json()},enabled:!!(t!=null&&t.id)}),{data:C,refetch:E}=ve({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"addons"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const z=await fetch(`/api/admin/facilities/${t.id}/addons`,{credentials:"include"});if(!z.ok)throw new Error("Failed to fetch");return z.json()},enabled:!!(t!=null&&t.id)}),P=Te({mutationFn:async z=>await Ae("POST","/api/admin/facilities",z),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility created successfully"}),s(!1),H()},onError:()=>{e({title:"Failed to create facility",variant:"destructive"})}}),R=Te({mutationFn:async({id:z,data:ce})=>await Ae("PATCH",`/api/admin/facilities/${z}`,ce),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility updated successfully"}),s(!1),r(null),H()},onError:()=>{e({title:"Failed to update facility",variant:"destructive"})}}),O=Te({mutationFn:async z=>await Ae("DELETE",`/api/admin/facilities/${z}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility deleted successfully"})},onError:()=>{e({title:"Failed to delete facility",variant:"destructive"})}}),I=Te({mutationFn:async z=>await Ae("POST",`/api/admin/facilities/${z.facilityId}/venues`,z),onSuccess:()=>{k(),e({title:"Venue added to facility"}),L()},onError:()=>{e({title:"Failed to add venue",variant:"destructive"})}}),T=Te({mutationFn:async({id:z,data:ce})=>await Ae("PATCH",`/api/admin/facility-venues/${z}`,ce),onSuccess:()=>{k(),e({title:"Venue settings updated"})},onError:()=>{e({title:"Failed to update venue settings",variant:"destructive"})}}),D=Te({mutationFn:async z=>await Ae("DELETE",`/api/admin/facility-venues/${z}`),onSuccess:()=>{k(),e({title:"Venue removed from facility"})},onError:()=>{e({title:"Failed to remove venue",variant:"destructive"})}}),q=Te({mutationFn:async z=>await Ae("POST",`/api/admin/facilities/${z.facilityId}/addons`,z),onSuccess:()=>{E(),e({title:"Add-on created successfully"}),K()},onError:()=>{e({title:"Failed to create add-on",variant:"destructive"})}}),A=Te({mutationFn:async({id:z,data:ce})=>await Ae("PATCH",`/api/admin/facility-addons/${z}`,ce),onSuccess:()=>{E(),e({title:"Add-on updated successfully"}),K()},onError:()=>{e({title:"Failed to update add-on",variant:"destructive"})}}),$=Te({mutationFn:async z=>await Ae("DELETE",`/api/admin/facility-addons/${z}`),onSuccess:()=>{E(),e({title:"Add-on deleted successfully"})},onError:()=>{e({title:"Failed to delete add-on",variant:"destructive"})}}),H=()=>{g({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:""}),o("details"),d(null),f.current&&(f.current.value="")},Y=async z=>{var qe;const ce=(qe=z.target.files)==null?void 0:qe[0];if(ce){if(!["image/jpeg","image/png","image/webp"].includes(ce.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(ce.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const Ye=new FormData;Ye.append("image",ce);const ut=await fetch("/api/admin/upload",{method:"POST",body:Ye,credentials:"include"});if(!ut.ok){let kt="Upload failed";try{kt=(await ut.json()).message||kt}catch{kt=ut.statusText||kt}throw new Error(kt)}const Yt=await ut.json();d({name:ce.name,url:Yt.imageUrl}),g(kt=>({...kt,imageUrl:Yt.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(Ye){e({title:"Upload failed",description:Ye.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1)}}},L=()=>{m({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""})},K=()=>{b({label:"",price:0,icon:""}),w(null)},re=()=>{t&&(p?A.mutate({id:p.id,data:x}):q.mutate({facilityId:t.id,...x}))},ae=z=>{w(z),b({label:z.label,price:z.price,icon:z.icon||""})},be=z=>{r(z),g({slug:z.slug,name:z.name,description:z.description||"",category:z.category||"",basePrice:z.basePrice,minPlayers:z.minPlayers||1,resourceCount:z.resourceCount||1,requiresCertification:z.requiresCertification||!1,isRestricted:z.isRestricted||!1,isHidden:z.isHidden||!1,status:z.status||"PLANNED",imageUrl:z.imageUrl||""}),o("details"),s(!0)},ee=()=>{t?R.mutate({id:t.id,data:h}):P.mutate(h)},se=()=>{!t||!y.venueId||I.mutate({facilityId:t.id,venueId:y.venueId,status:y.status,resourceCount:y.resourceCount,priceOverride:y.priceOverride?parseInt(y.priceOverride):null})},Q=z=>{switch(z){case"ACTIVE":return a.jsx(Se,{className:"bg-green-500",children:"Active"});case"OPENING_SOON":return a.jsx(Se,{className:"bg-amber-500",children:"Opening Soon"});case"COMING_SOON":return a.jsx(Se,{className:"bg-amber-500",children:"Coming Soon"});case"PLANNED":default:return a.jsx(Se,{variant:"secondary",children:"Planned"})}},X=z=>{const ce=S==null?void 0:S.find(qe=>qe.id===z);return(ce==null?void 0:ce.name)||"Unknown Venue"},ie=(_==null?void 0:_.map(z=>z.venueId))||[],W=(S==null?void 0:S.filter(z=>!ie.includes(z.id)))||[];return j?a.jsx(Nt,{title:"Facilities",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Facilities",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage facilities available for booking at The Quarterdeck."}),a.jsxs(xr,{open:n,onOpenChange:z=>{s(z),z||(r(null),H())},children:[a.jsx(wa,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-facility",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Facility"]})}),a.jsxs(cr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Facility":"Add New Facility"})}),a.jsxs(Ti,{value:i,onValueChange:o,children:[a.jsxs(Ha,{className:"grid w-full grid-cols-3",children:[a.jsxs(Nr,{value:"details",className:"flex items-center gap-2",children:[a.jsx(uK,{className:"w-4 h-4"}),"Details"]}),a.jsxs(Nr,{value:"venues",className:"flex items-center gap-2",disabled:!t,children:[a.jsx(za,{className:"w-4 h-4"}),"Venues",!t&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]}),a.jsxs(Nr,{value:"addons",className:"flex items-center gap-2",disabled:!t,children:[a.jsx(SK,{className:"w-4 h-4"}),"Add-ons",!t&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]})]}),a.jsxs(Sr,{value:"details",className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"name",children:"Name"}),a.jsx(ne,{id:"name",value:h.name,onChange:z=>g({...h,name:z.target.value}),"data-testid":"input-facility-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),a.jsx(ne,{id:"slug",value:h.slug,onChange:z=>g({...h,slug:z.target.value}),"data-testid":"input-facility-slug"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Description"}),a.jsx(ur,{id:"description",value:h.description,onChange:z=>g({...h,description:z.target.value}),rows:3,"data-testid":"input-facility-description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"category",children:"Category"}),a.jsx(ne,{id:"category",value:h.category,onChange:z=>g({...h,category:z.target.value}),placeholder:"e.g., Indoor Court, Precision Sport","data-testid":"input-facility-category"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"status",children:"Default Status"}),a.jsxs(Kr,{value:h.status,onValueChange:z=>g({...h,status:z}),children:[a.jsx(Tr,{"data-testid":"select-facility-status",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"PLANNED",children:"Planned"}),a.jsx(ze,{value:"OPENING_SOON",children:"Opening Soon"}),a.jsx(ze,{value:"ACTIVE",children:"Active"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"basePrice",children:"Base Price (PKR)"}),a.jsx(ne,{id:"basePrice",type:"number",value:h.basePrice,onChange:z=>g({...h,basePrice:parseInt(z.target.value)||0}),"data-testid":"input-facility-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"minPlayers",children:"Min Players"}),a.jsx(ne,{id:"minPlayers",type:"number",value:h.minPlayers,onChange:z=>g({...h,minPlayers:parseInt(z.target.value)||1}),"data-testid":"input-facility-min-players"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"resourceCount",children:"Default Resource Count"}),a.jsx(ne,{id:"resourceCount",type:"number",value:h.resourceCount,onChange:z=>g({...h,resourceCount:parseInt(z.target.value)||1}),"data-testid":"input-facility-resource-count"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Facility Image"}),a.jsxs("div",{className:"border rounded-md p-3 space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:Y,className:"hidden","data-testid":"input-facility-image-file"}),a.jsx(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{var z;return(z=f.current)==null?void 0:z.click()},disabled:l,"data-testid":"button-upload-facility-image",children:l?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Do,{className:"w-4 h-4 mr-2"}),"Upload"]})}),a.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"or"}),a.jsx(ne,{id:"imageUrl",value:h.imageUrl,onChange:z=>g({...h,imageUrl:z.target.value}),placeholder:"Enter image URL...",className:"flex-1","data-testid":"input-facility-image-url"})]}),u&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[a.jsx(Ns,{className:"w-4 h-4"}),u.name]}),h.imageUrl&&a.jsx("div",{className:"rounded-md border overflow-hidden",children:a.jsx("img",{src:h.imageUrl,alt:"Preview",className:"w-full h-24 object-cover",onError:z=>{z.target.style.display="none"}})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"requiresCertification",checked:h.requiresCertification,onCheckedChange:z=>g({...h,requiresCertification:z})}),a.jsx(J,{htmlFor:"requiresCertification",children:"Requires Certification"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isRestricted",checked:h.isRestricted,onCheckedChange:z=>g({...h,isRestricted:z})}),a.jsx(J,{htmlFor:"isRestricted",children:"Restricted Access"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isHidden",checked:h.isHidden,onCheckedChange:z=>g({...h,isHidden:z}),"data-testid":"switch-is-hidden"}),a.jsx(J,{htmlFor:"isHidden",children:"Hide from Public"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:ee,disabled:P.isPending||R.isPending,"data-testid":"button-save-facility",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),a.jsx(Sr,{value:"venues",className:"space-y-4 py-4",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Add Venue"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Venue"}),a.jsxs(Kr,{value:y.venueId,onValueChange:z=>m({...y,venueId:z}),children:[a.jsx(Tr,{"data-testid":"select-venue",children:a.jsx(Gr,{placeholder:"Select venue..."})}),a.jsx(Ir,{children:W.length===0?a.jsx(ze,{value:"none",disabled:!0,children:"No venues available"}):W.map(z=>a.jsxs(ze,{value:z.id,children:[z.name," (",z.city,")"]},z.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Status at Venue"}),a.jsxs(Kr,{value:y.status,onValueChange:z=>m({...y,status:z}),children:[a.jsx(Tr,{"data-testid":"select-venue-status",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"PLANNED",children:"Planned"}),a.jsx(ze,{value:"COMING_SOON",children:"Coming Soon"}),a.jsx(ze,{value:"ACTIVE",children:"Active"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Resource Count at Venue"}),a.jsx(ne,{type:"number",value:y.resourceCount,onChange:z=>m({...y,resourceCount:parseInt(z.target.value)||1}),"data-testid":"input-venue-resource-count"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Price Override (PKR)"}),a.jsx(ne,{type:"number",value:y.priceOverride,onChange:z=>m({...y,priceOverride:z.target.value}),placeholder:`Leave empty to use base price (${h.basePrice})`,"data-testid":"input-venue-price-override"})]})]}),a.jsxs(U,{onClick:se,disabled:!y.venueId||I.isPending,"data-testid":"button-add-venue",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Assigned Venues"}),!_||_.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No venues assigned to this facility yet. Add a venue above to configure venue-specific settings."}):a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Venue"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{children:"Resources"}),a.jsx(ke,{children:"Price"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsx(ts,{children:_.map(z=>a.jsxs(wt,{"data-testid":`row-venue-${z.id}`,children:[a.jsx(we,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(za,{className:"w-4 h-4 text-muted-foreground"}),X(z.venueId)]})}),a.jsx(we,{children:a.jsxs(Kr,{value:z.status||"PLANNED",onValueChange:ce=>T.mutate({id:z.id,data:{status:ce}}),children:[a.jsx(Tr,{className:"w-32","data-testid":`select-fv-status-${z.id}`,children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"PLANNED",children:"Planned"}),a.jsx(ze,{value:"COMING_SOON",children:"Coming Soon"}),a.jsx(ze,{value:"ACTIVE",children:"Active"})]})]})}),a.jsx(we,{children:a.jsx(ne,{type:"number",className:"w-20",value:z.resourceCount||1,onChange:ce=>T.mutate({id:z.id,data:{resourceCount:parseInt(ce.target.value)||1}}),"data-testid":`input-fv-resources-${z.id}`})}),a.jsx(we,{children:a.jsx(ne,{type:"number",className:"w-28",value:z.priceOverride||"",placeholder:h.basePrice.toString(),onChange:ce=>T.mutate({id:z.id,data:{priceOverride:ce.target.value?parseInt(ce.target.value):null}}),"data-testid":`input-fv-price-${z.id}`})}),a.jsx(we,{className:"text-right",children:a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remove this venue from the facility?")&&D.mutate(z.id)},"data-testid":`button-remove-venue-${z.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})})]},z.id))})]})]})]})}),a.jsx(Sr,{value:"addons",className:"space-y-4 py-4",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:p?"Edit Add-on":"Add New Add-on"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Label"}),a.jsx(ne,{value:x.label,onChange:z=>b({...x,label:z.target.value}),placeholder:"e.g., Equipment Rental","data-testid":"input-addon-label"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Price (PKR)"}),a.jsx(ne,{type:"number",value:x.price,onChange:z=>b({...x,price:parseInt(z.target.value)||0}),placeholder:"0","data-testid":"input-addon-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Icon (optional)"}),a.jsx(ne,{value:x.icon,onChange:z=>b({...x,icon:z.target.value}),placeholder:"e.g., Target, Coffee","data-testid":"input-addon-icon"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{onClick:re,disabled:!x.label||q.isPending||A.isPending,"data-testid":"button-save-addon",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),p?"Update Add-on":"Add Add-on"]}),p&&a.jsx(U,{variant:"outline",onClick:K,children:"Cancel"})]})]}),a.jsxs("div",{className:"rounded-lg border",children:[a.jsx("h4",{className:"font-medium p-4 border-b",children:"Facility Add-ons"}),!C||C.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No add-ons configured for this facility yet."}):a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Label"}),a.jsx(ke,{children:"Price"}),a.jsx(ke,{children:"Icon"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsx(ts,{children:C.map(z=>a.jsxs(wt,{"data-testid":`row-addon-${z.id}`,children:[a.jsx(we,{className:"font-medium",children:z.label}),a.jsxs(we,{children:["PKR ",z.price.toLocaleString()]}),a.jsx(we,{children:z.icon||"-"}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>ae(z),"data-testid":`button-edit-addon-${z.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Delete this add-on?")&&$.mutate(z.id)},"data-testid":`button-delete-addon-${z.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},z.id))})]})]})]})})]})]})]})]}),a.jsx(le,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Name"}),a.jsx(ke,{children:"Category"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{children:"Base Price"}),a.jsx(ke,{children:"Courts/Resources"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[N==null?void 0:N.map(z=>a.jsxs(wt,{"data-testid":`row-facility-${z.id}`,children:[a.jsx(we,{className:"font-medium",children:z.name}),a.jsx(we,{children:z.category||"-"}),a.jsx(we,{children:Q(z.status)}),a.jsxs(we,{children:["PKR ",z.basePrice.toLocaleString()]}),a.jsx(we,{children:z.resourceCount}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>be(z),"data-testid":`button-edit-facility-${z.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this facility?")&&O.mutate(z.id)},"data-testid":`button-delete-facility-${z.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},z.id)),(!N||N.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No facilities found. Add your first facility to get started."})})]})]})})})]})})}function s$e(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:g,...y}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=v.useMemo(()=>y,Object.values(y));return a.jsx(m.Provider,{value:x,children:g})};u.displayName=i+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=v.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,a$e(s,...t)]}function a$e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var i$e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qq=i$e.reduce((e,t)=>{const r=Zx(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),bP="Progress",wP=100,[o$e]=s$e(bP),[l$e,c$e]=o$e(bP),zq=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=u$e,...o}=e;(s||s===0)&&!d$(s)&&console.error(d$e(`${s}`,"Progress"));const l=d$(s)?s:wP;n!==null&&!f$(n,l)&&console.error(f$e(`${n}`,"Progress"));const c=f$(n,l)?n:null,u=px(c)?i(c,l):void 0;return a.jsx(l$e,{scope:r,value:c,max:l,children:a.jsx(qq.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":px(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Kq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});zq.displayName=bP;var Wq="ProgressIndicator",Hq=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=c$e(Wq,r);return a.jsx(qq.div,{"data-state":Kq(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Hq.displayName=Wq;function u$e(e,t){return`${Math.round(e/t*100)}%`}function Kq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function px(e){return typeof e=="number"}function d$(e){return px(e)&&!isNaN(e)&&e>0}function f$(e,t){return px(e)&&!isNaN(e)&&e<=t&&e>=0}function d$e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${wP}\`.`}function f$e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${wP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Gq=zq,h$e=Hq;const MS=v.forwardRef(({className:e,value:t,...r},n)=>a.jsx(Gq,{ref:n,className:fe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(h$e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));MS.displayName=Gq.displayName;function m$e(){const{toast:e}=At(),[t,r]=v.useState(new Set),[n,s]=v.useState(null),[i,o]=v.useState({}),{data:l,isLoading:c}=ve({queryKey:["/api/admin/construction-phases"]});v.useEffect(()=>{if(l){const m={};l.forEach(x=>{m[x.id]={...x}}),o(m)}},[l]);const u=Te({mutationFn:async({id:m,data:x})=>{const b={...x,progress:x.progress!==void 0?Number(x.progress):void 0,isActive:x.status==="IN_PROGRESS",isComplete:x.status==="COMPLETE"||x.progress===100};return await Ae("PATCH",`/api/admin/construction-phases/${m}`,b)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/construction-phases"]}),e({title:"Phase updated successfully"}),s(null)},onError:()=>{e({title:"Failed to update phase",variant:"destructive"})}}),d=(m,x,b)=>{o(p=>({...p,[m]:{...p[m],[x]:b}}))},f=m=>{u.mutate({id:m,data:i[m]})},h=m=>{switch(m){case"COMPLETE":return a.jsx(Ns,{className:"w-5 h-5 text-green-500"});case"IN_PROGRESS":return a.jsx(HD,{className:"w-5 h-5 text-amber-500"});default:return a.jsx(_r,{className:"w-5 h-5 text-muted-foreground"})}},g=m=>{switch(m){case"COMPLETE":return a.jsx(Se,{className:"bg-green-500",children:"Complete"});case"IN_PROGRESS":return a.jsx(Se,{className:"bg-amber-500",children:"In Progress"});default:return a.jsx(Se,{variant:"secondary",children:"Not Started"})}},y=()=>{if(!l||l.length===0)return 0;const m=l.reduce((x,b)=>x+(b.progress||0),0);return Math.round(m/l.length)};return c?a.jsx(Nt,{title:"Construction Status",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Construction Status",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage construction phases and milestones. Changes automatically update the public roadmap."}),a.jsxs("a",{href:"/roadmap",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[a.jsx(Mo,{className:"w-3 h-3"})," View Public Roadmap",a.jsx(zh,{className:"w-3 h-3"})]})]})}),a.jsxs(le,{className:"border-primary/20 bg-primary/5",children:[a.jsxs(Ge,{children:[a.jsx(et,{children:"Overall Project Progress"}),a.jsx(Kt,{children:"Combined progress across all construction phases"})]}),a.jsx(ue,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-2xl font-bold",children:[y(),"%"]}),a.jsxs("span",{className:"text-muted-foreground",children:[(l==null?void 0:l.filter(m=>m.status==="COMPLETE").length)||0," of ",(l==null?void 0:l.length)||0," phases complete"]})]}),a.jsx(MS,{value:y(),className:"h-3"})]})})]}),a.jsx("div",{className:"space-y-4",children:l==null?void 0:l.sort((m,x)=>(m.sortOrder||0)-(x.sortOrder||0)).map(m=>{const x=i[m.id]||m,b=n===m.id;return a.jsxs(le,{className:`transition-all ${b?"ring-2 ring-primary":""}`,children:[a.jsxs(Ge,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[h(x.status),a.jsxs("div",{children:[a.jsxs(et,{className:"text-lg flex items-center gap-2",children:[x.label,": ",x.title,g(x.status)]}),a.jsx(Kt,{children:x.timeframe||"No timeframe set"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-semibold",children:[x.progress||0,"%"]}),a.jsx(U,{variant:b?"default":"outline",size:"sm",onClick:()=>s(b?null:m.id),"data-testid":`button-edit-phase-${m.id}`,children:b?"Cancel":"Edit"}),b&&a.jsxs(U,{size:"sm",onClick:()=>f(m.id),disabled:u.isPending,"data-testid":`button-save-phase-${m.id}`,children:[a.jsx(ln,{className:"w-4 h-4 mr-1"})," Save"]})]})]}),a.jsx(MS,{value:x.progress||0,className:"mt-3"})]}),b&&a.jsxs(ue,{className:"border-t pt-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Phase Label"}),a.jsx(ne,{value:x.label||"",onChange:p=>d(m.id,"label",p.target.value),"data-testid":`input-phase-label-${m.id}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Phase Title"}),a.jsx(ne,{value:x.title||"",onChange:p=>d(m.id,"title",p.target.value),"data-testid":`input-phase-title-${m.id}`})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Status"}),a.jsxs(Kr,{value:x.status,onValueChange:p=>{const w=p==="COMPLETE"?100:p==="NOT_STARTED"?0:x.progress;d(m.id,"status",p),d(m.id,"progress",w),d(m.id,"isComplete",p==="COMPLETE"),d(m.id,"isActive",p==="IN_PROGRESS")},children:[a.jsx(Tr,{"data-testid":`select-phase-status-${m.id}`,children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"NOT_STARTED",children:"Not Started"}),a.jsx(ze,{value:"IN_PROGRESS",children:"In Progress"}),a.jsx(ze,{value:"COMPLETE",children:"Complete"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Progress (%)"}),a.jsx(ne,{type:"number",min:"0",max:"100",value:x.progress||0,onChange:p=>{const w=Math.min(100,Math.max(0,parseInt(p.target.value)||0));d(m.id,"progress",w),w===100?(d(m.id,"status","COMPLETE"),d(m.id,"isComplete",!0),d(m.id,"isActive",!1)):w>0?(d(m.id,"status","IN_PROGRESS"),d(m.id,"isComplete",!1),d(m.id,"isActive",!0)):(d(m.id,"status","NOT_STARTED"),d(m.id,"isComplete",!1),d(m.id,"isActive",!1))},"data-testid":`input-phase-progress-${m.id}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Timeframe"}),a.jsx(ne,{value:x.timeframe||"",onChange:p=>d(m.id,"timeframe",p.target.value),placeholder:"e.g., March - August 2024","data-testid":`input-phase-timeframe-${m.id}`})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Milestones (one per line)"}),a.jsx(ur,{value:(x.milestones||[]).join(`
`),onChange:p=>d(m.id,"milestones",p.target.value.split(`
`).filter(w=>w.trim())),rows:4,placeholder:"Enter milestones, one per line","data-testid":`input-phase-milestones-${m.id}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix with [x] for completed milestones, [ ] for pending"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Highlights (one per line)"}),a.jsx(ur,{value:(x.highlights||[]).join(`
`),onChange:p=>d(m.id,"highlights",p.target.value.split(`
`).filter(w=>w.trim())),rows:2,placeholder:"Key achievements or notes","data-testid":`input-phase-highlights-${m.id}`})]})]}),!b&&a.jsx(ue,{className:"pt-0",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Milestones"}),a.jsxs("ul",{className:"space-y-1",children:[(x.milestones||[]).slice(0,4).map((p,w)=>a.jsxs("li",{className:"text-sm flex items-center gap-2",children:[a.jsx(Ns,{className:`w-3 h-3 ${p.startsWith("[x]")?"text-green-500":"text-muted-foreground"}`}),a.jsx("span",{className:p.startsWith("[x]")?"line-through text-muted-foreground":"",children:p.replace(/^\[(x| )\] /,"")})]},w)),(x.milestones||[]).length>4&&a.jsxs("li",{className:"text-sm text-muted-foreground",children:["+",x.milestones.length-4," more..."]})]})]}),(x.highlights||[]).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Highlights"}),a.jsx("ul",{className:"space-y-1",children:(x.highlights||[]).map((p,w)=>a.jsx("li",{className:"text-sm text-muted-foreground",children:p},w))})]})]})})]},m.id)})}),a.jsx(le,{className:"border-dashed",children:a.jsxs(ue,{className:"py-6 text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-2",children:"Construction phases are automatically synced with the public roadmap page."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"When you update progress or mark milestones as complete, the changes will be immediately visible to visitors."})]})})]})})}function p$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState({facilityId:"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),{data:h,isLoading:g}=ve({queryKey:["/api/admin/events"]}),{data:y}=ve({queryKey:["/api/admin/facilities"]}),m=Te({mutationFn:async k=>await Ae("POST","/api/admin/events",k),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/events"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event created successfully"}),s(!1),p()},onError:()=>{e({title:"Failed to create event",variant:"destructive"})}}),x=Te({mutationFn:async({id:k,data:C})=>await Ae("PATCH",`/api/admin/events/${k}`,C),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/events"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event updated successfully"}),s(!1),r(null),p()},onError:()=>{e({title:"Failed to update event",variant:"destructive"})}}),b=Te({mutationFn:async k=>await Ae("DELETE",`/api/admin/events/${k}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/events"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event deleted successfully"})},onError:()=>{e({title:"Failed to delete event",variant:"destructive"})}}),p=()=>{var k;f({facilityId:((k=y==null?void 0:y[0])==null?void 0:k.id)||"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),c(null),u.current&&(u.current.value="")},w=async k=>{var E;const C=(E=k.target.files)==null?void 0:E[0];if(C){if(!["image/jpeg","image/png","image/webp"].includes(C.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(C.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const P=new FormData;P.append("image",C);const R=await fetch("/api/admin/upload",{method:"POST",body:P,credentials:"include"});if(!R.ok){let I="Upload failed";try{I=(await R.json()).message||I}catch{I=R.statusText||I}throw new Error(I)}const O=await R.json();c({name:C.name,url:O.imageUrl}),f(I=>({...I,imageUrl:O.imageUrl})),u.current&&(u.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(P){e({title:"Upload failed",description:P.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},N=k=>{r(k),f({facilityId:k.facilityId,title:k.title,description:k.description||"",type:k.type,instructor:k.instructor||"",scheduleDay:k.scheduleDay||"",scheduleTime:k.scheduleTime||"",scheduleDatetime:k.scheduleDatetime?cd(new Date(k.scheduleDatetime),"yyyy-MM-dd'T'HH:mm"):"",price:k.price||0,capacity:k.capacity||20,enrollmentDeadline:k.enrollmentDeadline?cd(new Date(k.enrollmentDeadline),"yyyy-MM-dd"):"",imageUrl:k.imageUrl||"",slug:k.slug||"",isActive:k.isActive??!0}),s(!0)},j=()=>{if(!d.facilityId){e({title:"Please select a facility",variant:"destructive"});return}t?x.mutate({id:t.id,data:d}):m.mutate(d)},S=k=>{switch(k){case"ACADEMY":return a.jsx(Se,{className:"bg-purple-500",children:"Academy"});case"TOURNAMENT":return a.jsx(Se,{className:"bg-orange-500",children:"Tournament"});case"CLASS":return a.jsx(Se,{className:"bg-blue-500",children:"Class"});case"SOCIAL":return a.jsx(Se,{className:"bg-green-500",children:"Social"});default:return a.jsx(Se,{variant:"secondary",children:k})}},_=k=>{var C;return((C=y==null?void 0:y.find(E=>E.id===k))==null?void 0:C.name)||"Unknown"};return g?a.jsx(Nt,{title:"Events & Academies",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Events & Academies",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage events, academies, tournaments, and classes at The Quarterdeck."}),a.jsxs(xr,{open:n,onOpenChange:k=>{s(k),k||(r(null),p())},children:[a.jsx(wa,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-event",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Event"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Event":"Add New Event"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Event Title"}),a.jsx(ne,{id:"title",value:d.title,onChange:k=>f({...d,title:k.target.value}),placeholder:"e.g., Beginner Padel Academy","data-testid":"input-event-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"type",children:"Event Type"}),a.jsxs(Kr,{value:d.type,onValueChange:k=>f({...d,type:k}),children:[a.jsx(Tr,{"data-testid":"select-event-type",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"ACADEMY",children:"Academy (Ongoing Program)"}),a.jsx(ze,{value:"TOURNAMENT",children:"Tournament"}),a.jsx(ze,{value:"CLASS",children:"Class (One-time)"}),a.jsx(ze,{value:"SOCIAL",children:"Social Event"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"facilityId",children:"Facility"}),a.jsxs(Kr,{value:d.facilityId,onValueChange:k=>f({...d,facilityId:k}),children:[a.jsx(Tr,{"data-testid":"select-event-facility",children:a.jsx(Gr,{placeholder:"Select facility"})}),a.jsx(Ir,{children:y==null?void 0:y.map(k=>a.jsx(ze,{value:k.id,children:k.name},k.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"instructor",children:"Instructor/Host"}),a.jsx(ne,{id:"instructor",value:d.instructor,onChange:k=>f({...d,instructor:k.target.value}),placeholder:"e.g., Coach Ahmad","data-testid":"input-event-instructor"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Description"}),a.jsx(ur,{id:"description",value:d.description,onChange:k=>f({...d,description:k.target.value}),rows:3,placeholder:"Describe the event, what participants will learn, etc.","data-testid":"input-event-description"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"scheduleDay",children:"Schedule Day"}),a.jsx(ne,{id:"scheduleDay",value:d.scheduleDay,onChange:k=>f({...d,scheduleDay:k.target.value}),placeholder:"e.g., Mon, Wed, Fri","data-testid":"input-event-schedule-day"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"scheduleTime",children:"Schedule Time"}),a.jsx(ne,{id:"scheduleTime",value:d.scheduleTime,onChange:k=>f({...d,scheduleTime:k.target.value}),placeholder:"e.g., 6:00 PM - 8:00 PM","data-testid":"input-event-schedule-time"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"scheduleDatetime",children:"Specific Date/Time"}),a.jsx(ne,{id:"scheduleDatetime",type:"datetime-local",value:d.scheduleDatetime,onChange:k=>f({...d,scheduleDatetime:k.target.value}),"data-testid":"input-event-datetime"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"price",children:"Price (PKR)"}),a.jsx(ne,{id:"price",type:"number",value:d.price,onChange:k=>f({...d,price:parseInt(k.target.value)||0}),"data-testid":"input-event-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"capacity",children:"Capacity"}),a.jsx(ne,{id:"capacity",type:"number",value:d.capacity,onChange:k=>f({...d,capacity:parseInt(k.target.value)||20}),"data-testid":"input-event-capacity"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"enrollmentDeadline",children:"Enrollment Deadline"}),a.jsx(ne,{id:"enrollmentDeadline",type:"date",value:d.enrollmentDeadline,onChange:k=>f({...d,enrollmentDeadline:k.target.value}),"data-testid":"input-event-deadline"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Event Image"}),a.jsxs(Ti,{defaultValue:"upload",className:"w-full",children:[a.jsxs(Ha,{className:"grid w-full grid-cols-2",children:[a.jsxs(Nr,{value:"upload",className:"flex items-center gap-2",children:[a.jsx(Do,{className:"w-4 h-4"}),"Upload"]}),a.jsxs(Nr,{value:"url",className:"flex items-center gap-2",children:[a.jsx(QD,{className:"w-4 h-4"}),"URL"]})]}),a.jsxs(Sr,{value:"upload",className:"space-y-3",children:[a.jsx("input",{ref:u,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:w,className:"hidden","data-testid":"input-event-image-file"}),a.jsx(U,{type:"button",variant:"outline",onClick:()=>{var k;return(k=u.current)==null?void 0:k.click()},disabled:i,className:"w-full","data-testid":"button-upload-event-image",children:i?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Do,{className:"w-4 h-4 mr-2"}),"Choose Image"]})}),l&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[a.jsx(Ns,{className:"w-4 h-4"}),l.name]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]}),a.jsx(Sr,{value:"url",className:"space-y-3",children:a.jsx(ne,{id:"imageUrl",value:d.imageUrl,onChange:k=>f({...d,imageUrl:k.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-event-image-url"})})]}),d.imageUrl&&a.jsx("div",{className:"mt-3 rounded-md border overflow-hidden",children:a.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-32 object-cover",onError:k=>{k.target.style.display="none"}})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"slug",children:"URL Slug"}),a.jsx(ne,{id:"slug",value:d.slug,onChange:k=>f({...d,slug:k.target.value}),placeholder:"beginner-padel-academy","data-testid":"input-event-slug"})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[a.jsx(Yr,{id:"isActive",checked:d.isActive,onCheckedChange:k=>f({...d,isActive:k})}),a.jsx(J,{htmlFor:"isActive",children:"Active (visible on website)"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:j,disabled:m.isPending||x.isPending,"data-testid":"button-save-event",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(le,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Event"}),a.jsx(ke,{children:"Type"}),a.jsx(ke,{children:"Facility"}),a.jsx(ke,{children:"Schedule"}),a.jsx(ke,{children:"Capacity"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[h==null?void 0:h.map(k=>a.jsxs(wt,{"data-testid":`row-event-${k.id}`,children:[a.jsx(we,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:k.title}),k.instructor&&a.jsxs("div",{className:"text-sm text-muted-foreground",children:["by ",k.instructor]})]})}),a.jsx(we,{children:S(k.type)}),a.jsx(we,{children:_(k.facilityId)}),a.jsx(we,{children:a.jsxs("div",{className:"flex flex-col gap-1",children:[k.scheduleDay&&a.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[a.jsx(gn,{className:"w-3 h-3"}),k.scheduleDay]}),k.scheduleTime&&a.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(_r,{className:"w-3 h-3"}),k.scheduleTime]})]})}),a.jsx(we,{children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Qr,{className:"w-3 h-3"}),k.enrolledCount||0,"/",k.capacity]})}),a.jsx(we,{children:k.isActive?a.jsx(Se,{className:"bg-green-500",children:"Active"}):a.jsx(Se,{variant:"secondary",children:"Inactive"})}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>N(k),"data-testid":`button-edit-event-${k.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this event?")&&b.mutate(k.id)},"data-testid":`button-delete-event-${k.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},k.id)),(!h||h.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No events found. Add your first event to get started."})})]})]})})})]})})}function g$e(){const{toast:e}=At(),{adminPath:t}=mp(),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),[c,u]=v.useState(""),{data:d,isLoading:f}=ve({queryKey:["/api/admin/pricing-tiers"]}),{data:h}=ve({queryKey:["/api/admin/membership-tiers"]}),g=()=>{Ne.invalidateQueries({queryKey:["/api/admin/pricing-tiers"]}),Ne.invalidateQueries({queryKey:["/api/pricing-tiers"]})},y=Te({mutationFn:async _=>await Ae("POST","/api/admin/pricing-tiers",_),onSuccess:()=>{g(),e({title:"Pricing tier created successfully"}),i(!1),b()},onError:()=>{e({title:"Failed to create pricing tier",variant:"destructive"})}}),m=Te({mutationFn:async({id:_,data:k})=>await Ae("PATCH",`/api/admin/pricing-tiers/${_}`,k),onSuccess:()=>{g(),e({title:"Pricing tier updated successfully"}),i(!1),n(null),b()},onError:()=>{e({title:"Failed to update pricing tier",variant:"destructive"})}}),x=Te({mutationFn:async _=>await Ae("DELETE",`/api/admin/pricing-tiers/${_}`),onSuccess:()=>{g(),e({title:"Pricing tier deleted successfully"})},onError:()=>{e({title:"Failed to delete pricing tier",variant:"destructive"})}}),b=()=>{l({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),u("")},p=_=>{n(_),l({name:_.name,tier:_.tier,price:_.price,billingPeriod:_.billingPeriod||"yearly",benefits:_.benefits||[],isPopular:_.isPopular||!1,sortOrder:_.sortOrder||0,isActive:_.isActive??!0}),i(!0)},w=()=>{r?m.mutate({id:r.id,data:o}):y.mutate(o)},N=()=>{c.trim()&&(l({...o,benefits:[...o.benefits,c.trim()]}),u(""))},j=_=>{l({...o,benefits:o.benefits.filter((k,C)=>C!==_)})},S=_=>{switch(_){case"FOUNDING":return a.jsx(Se,{className:"bg-amber-600",children:"Founding"});case"GOLD":return a.jsx(Se,{className:"bg-yellow-500",children:"Gold"});case"SILVER":return a.jsx(Se,{className:"bg-gray-400",children:"Silver"});default:return a.jsx(Se,{variant:"secondary",children:"Guest"})}};return f?a.jsx(Nt,{title:"Pricing Tiers",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Pricing Tiers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage membership pricing tiers and their benefits."}),a.jsx(oe,{href:`/${t}/membership-tiers`,children:a.jsxs(U,{variant:"link",size:"sm",className:"p-0 h-auto text-primary","data-testid":"link-manage-tiers",children:[a.jsx(Fv,{className:"w-3 h-3 mr-1"})," Manage Tier Definitions"]})})]}),a.jsxs(xr,{open:s,onOpenChange:_=>{i(_),_||(n(null),b())},children:[a.jsx(wa,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-pricing-tier",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Pricing Tier"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:r?"Edit Pricing Tier":"Add New Pricing Tier"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"name",children:"Display Name"}),a.jsx(ne,{id:"name",value:o.name,onChange:_=>l({...o,name:_.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-tier-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"tier",children:"Tier Level"}),a.jsxs(Kr,{value:o.tier,onValueChange:_=>l({...o,tier:_}),children:[a.jsx(Tr,{"data-testid":"select-tier-level",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[h==null?void 0:h.filter(_=>_.isActive).map(_=>a.jsx(ze,{value:_.slug.toUpperCase(),"data-testid":`select-tier-${_.slug}`,children:_.displayName},_.id)),(!h||h.length===0)&&a.jsxs(a.Fragment,{children:[a.jsx(ze,{value:"FOUNDING",children:"Founding"}),a.jsx(ze,{value:"GOLD",children:"Gold"}),a.jsx(ze,{value:"SILVER",children:"Silver"}),a.jsx(ze,{value:"GUEST",children:"Guest"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"price",children:"Price (PKR)"}),a.jsx(ne,{id:"price",type:"number",value:o.price,onChange:_=>l({...o,price:parseInt(_.target.value)||0}),"data-testid":"input-tier-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"billingPeriod",children:"Billing Period"}),a.jsxs(Kr,{value:o.billingPeriod,onValueChange:_=>l({...o,billingPeriod:_}),children:[a.jsx(Tr,{"data-testid":"select-billing-period",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"monthly",children:"Monthly"}),a.jsx(ze,{value:"yearly",children:"Yearly"}),a.jsx(ze,{value:"lifetime",children:"Lifetime"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Benefits"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{value:c,onChange:_=>u(_.target.value),placeholder:"Add a benefit",onKeyDown:_=>_.key==="Enter"&&(_.preventDefault(),N()),"data-testid":"input-benefit"}),a.jsx(U,{type:"button",onClick:N,variant:"secondary",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.benefits.map((_,k)=>a.jsxs(Se,{variant:"secondary",className:"px-2 py-1",children:[_,a.jsx("button",{type:"button",onClick:()=>j(k),className:"ml-2 text-muted-foreground hover:text-foreground",children:""})]},k))})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:o.sortOrder,onChange:_=>l({...o,sortOrder:parseInt(_.target.value)||0}),"data-testid":"input-sort-order"})]})}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isPopular",checked:o.isPopular,onCheckedChange:_=>l({...o,isPopular:_})}),a.jsx(J,{htmlFor:"isPopular",children:"Mark as Popular"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isActive",checked:o.isActive,onCheckedChange:_=>l({...o,isActive:_})}),a.jsx(J,{htmlFor:"isActive",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsxs(U,{onClick:w,disabled:y.isPending||m.isPending,"data-testid":"button-save-tier",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"]})]})]})]})]})]}),a.jsx(le,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Name"}),a.jsx(ke,{children:"Tier"}),a.jsx(ke,{children:"Price"}),a.jsx(ke,{children:"Billing"}),a.jsx(ke,{children:"Benefits"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[d==null?void 0:d.map(_=>{var k;return a.jsxs(wt,{"data-testid":`row-tier-${_.id}`,children:[a.jsxs(we,{className:"font-medium",children:[_.name,_.isPopular&&a.jsx(up,{className:"inline w-4 h-4 ml-2 text-amber-500"})]}),a.jsx(we,{children:S(_.tier)}),a.jsxs(we,{children:["PKR ",_.price.toLocaleString()]}),a.jsx(we,{className:"capitalize",children:_.billingPeriod}),a.jsxs(we,{children:[((k=_.benefits)==null?void 0:k.length)||0," benefits"]}),a.jsx(we,{children:_.isActive?a.jsx(Se,{className:"bg-green-500",children:"Active"}):a.jsx(Se,{variant:"secondary",children:"Inactive"})}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>p(_),"data-testid":`button-edit-tier-${_.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this pricing tier?")&&x.mutate(_.id)},"data-testid":`button-delete-tier-${_.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},_.id)}),(!d||d.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No pricing tiers found. Add your first tier to get started."})})]})]})})})]})})}function v$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),[l,c]=v.useState(""),{data:u,isLoading:d}=ve({queryKey:["/api/admin/membership-tiers"]}),f=()=>{Ne.invalidateQueries({queryKey:["/api/admin/membership-tiers"]}),Ne.invalidateQueries({queryKey:["/api/membership-tiers"]})},h=Te({mutationFn:async S=>await Ae("POST","/api/admin/membership-tiers",S),onSuccess:()=>{f(),e({title:"Membership tier created successfully"}),s(!1),m()},onError:()=>{e({title:"Failed to create membership tier",variant:"destructive"})}}),g=Te({mutationFn:async({id:S,data:_})=>await Ae("PATCH",`/api/admin/membership-tiers/${S}`,_),onSuccess:()=>{f(),e({title:"Membership tier updated successfully"}),s(!1),r(null),m()},onError:()=>{e({title:"Failed to update membership tier",variant:"destructive"})}}),y=Te({mutationFn:async S=>await Ae("DELETE",`/api/admin/membership-tiers/${S}`),onSuccess:()=>{f(),e({title:"Membership tier deleted successfully"})},onError:()=>{e({title:"Failed to delete membership tier",variant:"destructive"})}}),m=()=>{o({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),c("")},x=S=>{r(S),o({slug:S.slug,displayName:S.displayName,description:S.description||"",color:S.color||"#6B7280",discountPercent:S.discountPercent||0,guestPassesIncluded:S.guestPassesIncluded||0,benefits:S.benefits||[],sortOrder:S.sortOrder||0,isActive:S.isActive??!0}),s(!0)},b=()=>{t?g.mutate({id:t.id,data:i}):h.mutate(i)},p=()=>{l.trim()&&(o({...i,benefits:[...i.benefits,l.trim()]}),c(""))},w=S=>{o({...i,benefits:i.benefits.filter((_,k)=>k!==S)})},N=S=>S.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");if(d)return a.jsx(Nt,{title:"Membership Tiers",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const j=[...u||[]].sort((S,_)=>(S.sortOrder||0)-(_.sortOrder||0));return a.jsx(Nt,{title:"Membership Tiers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-muted-foreground",children:"Define membership tier types with their names, colors, discount percentages, and benefits."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"These tiers are used throughout the website for pricing and membership management."})]}),a.jsxs(xr,{open:n,onOpenChange:S=>{s(S),S||(r(null),m())},children:[a.jsx(wa,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-tier",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Tier"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Membership Tier":"Add New Membership Tier"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"displayName",children:"Display Name"}),a.jsx(ne,{id:"displayName",value:i.displayName,onChange:S=>{const _=S.target.value;o({...i,displayName:_,slug:i.slug||N(_)})},placeholder:"e.g., Platinum Member","data-testid":"input-display-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),a.jsx(ne,{id:"slug",value:i.slug,onChange:S=>o({...i,slug:N(S.target.value)}),placeholder:"e.g., platinum","data-testid":"input-slug"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Description"}),a.jsx(ur,{id:"description",value:i.description,onChange:S=>o({...i,description:S.target.value}),placeholder:"Brief description of this membership tier","data-testid":"input-description"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"color",children:"Tier Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{id:"color",type:"color",value:i.color,onChange:S=>o({...i,color:S.target.value}),className:"w-12 h-9 p-1 cursor-pointer","data-testid":"input-color"}),a.jsx(ne,{value:i.color,onChange:S=>o({...i,color:S.target.value}),placeholder:"#6B7280",className:"flex-1","data-testid":"input-color-text"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"discountPercent",children:"Discount % (Off-Peak)"}),a.jsx(ne,{id:"discountPercent",type:"number",min:"0",max:"100",value:i.discountPercent,onChange:S=>o({...i,discountPercent:parseInt(S.target.value)||0}),"data-testid":"input-discount"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"guestPasses",children:"Guest Passes/Month"}),a.jsx(ne,{id:"guestPasses",type:"number",min:"0",value:i.guestPassesIncluded,onChange:S=>o({...i,guestPassesIncluded:parseInt(S.target.value)||0}),"data-testid":"input-guest-passes"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Benefits"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{value:l,onChange:S=>c(S.target.value),placeholder:"Add a benefit",onKeyDown:S=>S.key==="Enter"&&(S.preventDefault(),p()),"data-testid":"input-benefit"}),a.jsx(U,{type:"button",onClick:p,variant:"secondary","data-testid":"button-add-benefit",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.benefits.map((S,_)=>a.jsxs(Se,{variant:"secondary",className:"px-2 py-1","data-testid":`badge-benefit-${_}`,children:[S,a.jsx("button",{type:"button",onClick:()=>w(_),className:"ml-2 text-muted-foreground hover:text-foreground","data-testid":`button-remove-benefit-${_}`,children:"x"})]},_))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:S=>o({...i,sortOrder:parseInt(S.target.value)||0}),"data-testid":"input-sort-order"})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[a.jsx(Yr,{id:"isActive",checked:i.isActive,onCheckedChange:S=>o({...i,isActive:S}),"data-testid":"switch-is-active"}),a.jsx(J,{htmlFor:"isActive",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel",children:"Cancel"}),a.jsx(U,{onClick:b,disabled:h.isPending||g.isPending,"data-testid":"button-save-tier",children:h.isPending||g.isPending?"Saving...":t?"Update Tier":"Create Tier"})]})]})]})]})]}),a.jsxs(le,{children:[a.jsxs(Ge,{children:[a.jsx(et,{children:"Membership Tier Definitions"}),a.jsx(Kt,{children:"Configure the properties of each membership tier. Changes here affect how tiers are displayed across the website."})]}),a.jsx(ue,{children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{className:"w-12",children:"Order"}),a.jsx(ke,{children:"Name"}),a.jsx(ke,{children:"Slug"}),a.jsx(ke,{children:"Color"}),a.jsx(ke,{children:"Discount"}),a.jsx(ke,{children:"Guest Passes"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[j.map(S=>a.jsxs(wt,{"data-testid":`row-tier-${S.id}`,children:[a.jsx(we,{children:a.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(Mx,{className:"w-4 h-4"}),S.sortOrder]})}),a.jsx(we,{className:"font-medium","data-testid":`text-tier-name-${S.id}`,children:S.displayName}),a.jsx(we,{children:a.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded","data-testid":`text-tier-slug-${S.id}`,children:S.slug})}),a.jsx(we,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:S.color||"#6B7280"}}),a.jsx("span",{className:"text-xs text-muted-foreground",children:S.color})]})}),a.jsxs(we,{children:[S.discountPercent,"%"]}),a.jsx(we,{children:S.guestPassesIncluded}),a.jsx(we,{children:a.jsx(Se,{variant:S.isActive?"default":"secondary","data-testid":`badge-status-${S.id}`,children:S.isActive?"Active":"Inactive"})}),a.jsx(we,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>x(S),"data-testid":`button-edit-tier-${S.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this tier?")&&y.mutate(S.id)},disabled:y.isPending,"data-testid":`button-delete-tier-${S.id}`,children:a.jsx(on,{className:"w-4 h-4"})})]})})]},S.id)),j.length===0&&a.jsx(wt,{children:a.jsx(we,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'No membership tiers defined yet. Click "Add Tier" to create one.'})})]})]})})]})]})})}function y$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({title:"",content:"",category:"",isActive:!0}),{data:l,isLoading:c}=ve({queryKey:["/api/admin/announcements"]}),u=Te({mutationFn:async m=>await Ae("POST","/api/admin/announcements",m),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement created successfully"}),s(!1),h()},onError:()=>{e({title:"Failed to create announcement",variant:"destructive"})}}),d=Te({mutationFn:async({id:m,data:x})=>await Ae("PATCH",`/api/admin/announcements/${m}`,x),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement updated successfully"}),s(!1),r(null),h()},onError:()=>{e({title:"Failed to update announcement",variant:"destructive"})}}),f=Te({mutationFn:async m=>await Ae("DELETE",`/api/admin/announcements/${m}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement deleted successfully"})},onError:()=>{e({title:"Failed to delete announcement",variant:"destructive"})}}),h=()=>{o({title:"",content:"",category:"",isActive:!0})},g=m=>{r(m),o({title:m.title,content:m.content||"",category:m.category||"",isActive:m.isActive??!0}),s(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?a.jsx(Nt,{title:"Announcements",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Announcements",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage announcements and updates shown on the website."}),a.jsxs(xr,{open:n,onOpenChange:m=>{s(m),m||(r(null),h())},children:[a.jsx(wa,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-announcement",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Announcement"]})}),a.jsxs(cr,{className:"max-w-2xl",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Announcement":"Add New Announcement"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-announcement-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"content",children:"Content"}),a.jsx(ur,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:5,"data-testid":"input-announcement-content"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"category",children:"Category"}),a.jsx(ne,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., Construction, Events, General","data-testid":"input-announcement-category"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),a.jsx(J,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-announcement",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(le,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Title"}),a.jsx(ke,{children:"Category"}),a.jsx(ke,{children:"Published"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[l==null?void 0:l.map(m=>a.jsxs(wt,{"data-testid":`row-announcement-${m.id}`,children:[a.jsx(we,{className:"font-medium",children:m.title}),a.jsx(we,{children:m.category||"-"}),a.jsx(we,{children:m.publishedAt?cd(new Date(m.publishedAt),"MMM d, yyyy"):"-"}),a.jsx(we,{children:m.isActive?a.jsx(Se,{className:"bg-green-500",children:"Active"}):a.jsx(Se,{variant:"secondary",children:"Inactive"})}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>g(m),"data-testid":`button-edit-announcement-${m.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this announcement?")&&f.mutate(m.id)},"data-testid":`button-delete-announcement-${m.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No announcements found. Add your first announcement to get started."})})]})]})})})]})})}function x$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0}),{data:l,isLoading:c}=ve({queryKey:["/api/admin/careers"]}),u=Te({mutationFn:async m=>await Ae("POST","/api/admin/careers",m),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing created successfully"}),s(!1),h()},onError:()=>{e({title:"Failed to create career listing",variant:"destructive"})}}),d=Te({mutationFn:async({id:m,data:x})=>await Ae("PATCH",`/api/admin/careers/${m}`,x),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing updated successfully"}),s(!1),r(null),h()},onError:()=>{e({title:"Failed to update career listing",variant:"destructive"})}}),f=Te({mutationFn:async m=>await Ae("DELETE",`/api/admin/careers/${m}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing deleted successfully"})},onError:()=>{e({title:"Failed to delete career listing",variant:"destructive"})}}),h=()=>{o({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0})},g=m=>{r(m),o({title:m.title,department:m.department||"",location:m.location||"Islamabad",type:m.type||"Full-time",description:m.description||"",requirements:m.requirements||"",salary:m.salary||"",isActive:m.isActive??!0}),s(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?a.jsx(Nt,{title:"Careers",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Careers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage job listings and career opportunities at The Quarterdeck."}),a.jsxs(xr,{open:n,onOpenChange:m=>{s(m),m||(r(null),h())},children:[a.jsx(wa,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-career",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Job Listing"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Job Listing":"Add New Job Listing"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Job Title"}),a.jsx(ne,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-career-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"department",children:"Department"}),a.jsx(ne,{id:"department",value:i.department,onChange:m=>o({...i,department:m.target.value}),placeholder:"e.g., Operations, Sports, Admin","data-testid":"input-career-department"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"location",children:"Location"}),a.jsx(ne,{id:"location",value:i.location,onChange:m=>o({...i,location:m.target.value}),"data-testid":"input-career-location"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"type",children:"Employment Type"}),a.jsxs(Kr,{value:i.type,onValueChange:m=>o({...i,type:m}),children:[a.jsx(Tr,{"data-testid":"select-career-type",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"Full-time",children:"Full-time"}),a.jsx(ze,{value:"Part-time",children:"Part-time"}),a.jsx(ze,{value:"Contract",children:"Contract"}),a.jsx(ze,{value:"Internship",children:"Internship"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"salary",children:"Salary Range"}),a.jsx(ne,{id:"salary",value:i.salary,onChange:m=>o({...i,salary:m.target.value}),placeholder:"e.g., PKR 50,000 - 80,000 / month","data-testid":"input-career-salary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Job Description"}),a.jsx(ur,{id:"description",value:i.description,onChange:m=>o({...i,description:m.target.value}),rows:4,"data-testid":"input-career-description"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"requirements",children:"Requirements"}),a.jsx(ur,{id:"requirements",value:i.requirements,onChange:m=>o({...i,requirements:m.target.value}),rows:4,placeholder:"List the requirements, each on a new line","data-testid":"input-career-requirements"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),a.jsx(J,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-career",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(le,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Title"}),a.jsx(ke,{children:"Department"}),a.jsx(ke,{children:"Location"}),a.jsx(ke,{children:"Type"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[l==null?void 0:l.map(m=>a.jsxs(wt,{"data-testid":`row-career-${m.id}`,children:[a.jsx(we,{className:"font-medium",children:m.title}),a.jsx(we,{children:m.department||"-"}),a.jsx(we,{children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(za,{className:"w-3 h-3"}),m.location]})}),a.jsx(we,{children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Vh,{className:"w-3 h-3"}),m.type]})}),a.jsx(we,{children:m.isActive?a.jsx(Se,{className:"bg-green-500",children:"Active"}):a.jsx(Se,{variant:"secondary",children:"Inactive"})}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>g(m),"data-testid":`button-edit-career-${m.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this job listing?")&&f.mutate(m.id)},"data-testid":`button-delete-career-${m.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No job listings found. Add your first listing to get started."})})]})]})})})]})})}function b$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({title:"",category:"",content:"",sortOrder:0,isActive:!0}),{data:l,isLoading:c}=ve({queryKey:["/api/admin/rules"]}),u=Te({mutationFn:async m=>await Ae("POST","/api/admin/rules",m),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule created successfully"}),s(!1),h()},onError:()=>{e({title:"Failed to create rule",variant:"destructive"})}}),d=Te({mutationFn:async({id:m,data:x})=>await Ae("PATCH",`/api/admin/rules/${m}`,x),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule updated successfully"}),s(!1),r(null),h()},onError:()=>{e({title:"Failed to update rule",variant:"destructive"})}}),f=Te({mutationFn:async m=>await Ae("DELETE",`/api/admin/rules/${m}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule deleted successfully"})},onError:()=>{e({title:"Failed to delete rule",variant:"destructive"})}}),h=()=>{o({title:"",category:"",content:"",sortOrder:0,isActive:!0})},g=m=>{r(m),o({title:m.title,category:m.category||"",content:m.content||"",sortOrder:m.sortOrder||0,isActive:m.isActive??!0}),s(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?a.jsx(Nt,{title:"Rules & Policies",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Rules & Policies",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage facility rules, policies, and guidelines shown to members."}),a.jsxs(xr,{open:n,onOpenChange:m=>{s(m),m||(r(null),h())},children:[a.jsx(wa,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-rule",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Rule"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Rule":"Add New Rule"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-rule-title"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"category",children:"Category"}),a.jsx(ne,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., General, Safety, Booking","data-testid":"input-rule-category"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:m=>o({...i,sortOrder:parseInt(m.target.value)||0}),"data-testid":"input-rule-sort"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"content",children:"Content"}),a.jsx(ur,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:8,placeholder:"Enter the rule or policy details...","data-testid":"input-rule-content"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),a.jsx(J,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-rule",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(le,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{className:"w-12",children:"Order"}),a.jsx(ke,{children:"Title"}),a.jsx(ke,{children:"Category"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(ts,{children:[l==null?void 0:l.map(m=>a.jsxs(wt,{"data-testid":`row-rule-${m.id}`,children:[a.jsx(we,{children:a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(Mx,{className:"w-4 h-4"}),m.sortOrder]})}),a.jsx(we,{className:"font-medium",children:m.title}),a.jsx(we,{children:m.category?a.jsx(Se,{variant:"outline",children:m.category}):"-"}),a.jsx(we,{children:m.isActive?a.jsx(Se,{className:"bg-green-500",children:"Active"}):a.jsx(Se,{variant:"secondary",children:"Inactive"})}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>g(m),"data-testid":`button-edit-rule-${m.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this rule?")&&f.mutate(m.id)},"data-testid":`button-delete-rule-${m.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No rules found. Add your first rule to get started."})})]})]})})})]})})}const h$=[{section:"1. Information We Collect",content:"We collect information to provide and improve our services:",items:["Personal Information: Name, email, phone number","Membership Data: Tier, payment history, bookings","Usage Information: Facility patterns, preferences"]},{section:"2. How We Use Information",content:"Your information is used to:",items:["Process memberships and bookings","Communicate updates","Improve facilities and services"]},{section:"3. Contact",content:"For privacy inquiries, contact privacy@thequarterdeck.pk",items:[]}],m$=[{section:"1. Acceptance of Terms",content:"By using The Quarterdeck facilities, you agree to these terms.",items:[]},{section:"2. Membership",content:"Membership is subject to approval and payment of fees.",items:["Non-transferable","Valid ID required","Guest privileges vary by tier"]},{section:"3. Contact",content:"For questions, contact legal@thequarterdeck.pk",items:[]}];function w$e(){const{toast:e}=At(),[t,r]=v.useState("privacy"),[n,s]=v.useState([]),[i,o]=v.useState([]),[l,c]=v.useState(!1),{data:u,isLoading:d}=ve({queryKey:["/api/cms/bulk"]});v.useEffect(()=>{if(u){const j=u.find(_=>_.key==="privacy_policy"),S=u.find(_=>_.key==="terms_conditions");try{j!=null&&j.content?s(JSON.parse(j.content)):s(h$)}catch{s(h$)}try{S!=null&&S.content?o(JSON.parse(S.content)):o(m$)}catch{o(m$)}}},[u]);const f=Te({mutationFn:async({key:j,content:S})=>Ae("POST","/api/admin/cms",{key:j,title:j==="privacy_policy"?"Privacy Policy":"Terms & Conditions",content:S,isActive:!0}),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/cms/bulk"]}),e({title:"Saved successfully"})},onError:()=>{e({title:"Failed to save",variant:"destructive"})}}),h=async()=>{c(!0);try{await f.mutateAsync({key:"privacy_policy",content:JSON.stringify(n)})}finally{c(!1)}},g=async()=>{c(!0);try{await f.mutateAsync({key:"terms_conditions",content:JSON.stringify(i)})}finally{c(!1)}},y=(j,S,_,k)=>{(j==="privacy"?s:o)(E=>E.map((P,R)=>R===S?{...P,[_]:k}:P))},m=j=>{const S={section:`${j==="privacy"?n.length+1:i.length+1}. New Section`,content:"",items:[]};j==="privacy"?s([...n,S]):o([...i,S])},x=(j,S)=>{j==="privacy"?s(_=>_.filter((k,C)=>C!==S)):o(_=>_.filter((k,C)=>C!==S))},b=(j,S,_,k)=>{(j==="privacy"?s:o)(E=>E.map((P,R)=>{if(R!==S)return P;const O=[...P.items];return O[_]=k,{...P,items:O}}))},p=(j,S)=>{(j==="privacy"?s:o)(k=>k.map((C,E)=>E!==S?C:{...C,items:[...C.items,""]}))},w=(j,S,_)=>{(j==="privacy"?s:o)(C=>C.map((E,P)=>P!==S?E:{...E,items:E.items.filter((R,O)=>O!==_)}))},N=(j,S)=>a.jsxs("div",{className:"space-y-6",children:[S.map((_,k)=>a.jsxs(le,{className:"relative",children:[a.jsx(Ge,{className:"pb-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Mx,{className:"w-5 h-5 text-muted-foreground mt-2 cursor-grab"}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{children:"Section Title"}),a.jsx(ne,{value:_.section,onChange:C=>y(j,k,"section",C.target.value),placeholder:"1. Section Title","data-testid":`input-section-title-${k}`})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Content"}),a.jsx(ur,{value:_.content,onChange:C=>y(j,k,"content",C.target.value),placeholder:"Section content...",rows:3,"data-testid":`input-section-content-${k}`})]})]}),a.jsx(U,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>x(j,k),"data-testid":`button-remove-section-${k}`,children:a.jsx(on,{className:"w-4 h-4"})})]})}),a.jsx(ue,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm",children:"Bullet Points"}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>p(j,k),"data-testid":`button-add-item-${k}`,children:[a.jsx(vn,{className:"w-3 h-3 mr-1"})," Add Item"]})]}),_.items.length===0?a.jsx("p",{className:"text-sm text-muted-foreground py-2",children:'No bullet points. Click "Add Item" to add one.'}):a.jsx("div",{className:"space-y-2",children:_.items.map((C,E)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{value:C,onChange:P=>b(j,k,E,P.target.value),placeholder:"Bullet point text...","data-testid":`input-item-${k}-${E}`}),a.jsx(U,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive flex-shrink-0",onClick:()=>w(j,k,E),"data-testid":`button-remove-item-${k}-${E}`,children:a.jsx(on,{className:"w-4 h-4"})})]},E))})]})})]},k)),a.jsxs(U,{variant:"outline",className:"w-full",onClick:()=>m(j),"data-testid":`button-add-section-${j}`,children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Section"]})]});return d?a.jsx(Nt,{title:"Policy Management",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(it,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):a.jsx(Nt,{title:"Policy Management",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[a.jsx("h2",{className:"text-lg font-bold mb-1",children:"Privacy Policy & Terms Management"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Edit the content displayed on the Privacy Policy and Terms & Conditions pages. Changes are reflected immediately on the website."})]}),a.jsxs(Ti,{value:t,onValueChange:r,children:[a.jsxs(Ha,{className:"grid w-full grid-cols-2 mb-6",children:[a.jsxs(Nr,{value:"privacy",className:"flex items-center gap-2","data-testid":"tab-privacy",children:[a.jsx(Hh,{className:"w-4 h-4"}),"Privacy Policy"]}),a.jsxs(Nr,{value:"terms",className:"flex items-center gap-2","data-testid":"tab-terms",children:[a.jsx(ec,{className:"w-4 h-4"}),"Terms & Conditions"]})]}),a.jsxs(Sr,{value:"privacy",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Privacy Policy Sections"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /privacy page."})]}),a.jsxs(U,{onClick:h,disabled:l,"data-testid":"button-save-privacy",children:[l?a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(ln,{className:"w-4 h-4 mr-2"}),"Save Privacy Policy"]})]}),N("privacy",n)]}),a.jsxs(Sr,{value:"terms",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Terms & Conditions Sections"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /terms page."})]}),a.jsxs(U,{onClick:g,disabled:l,"data-testid":"button-save-terms",children:[l?a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(ln,{className:"w-4 h-4 mr-2"}),"Save Terms & Conditions"]})]}),N("terms",i)]})]})]})})}const Yc={dimensions:{recommended:"1920 x 1080 px (16:9 aspect ratio)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",categories:{Renders:"3D architectural renders and concept designs for The Quarterdeck complex",Construction:"Progress photos from the construction site showing different phases",Facilities:"Photos of completed or in-progress facilities (courts, halls, etc.)"}};function j$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),h=async P=>{var O;const R=(O=P.target.files)==null?void 0:O[0];if(R){if(!["image/jpeg","image/png","image/webp"].includes(R.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(R.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const I=new FormData;I.append("image",R);const T=await fetch("/api/admin/upload",{method:"POST",body:I,credentials:"include"});if(!T.ok){let q="Upload failed";try{q=(await T.json()).message||q}catch{q=T.statusText||q}throw new Error(q)}const D=await T.json();c({name:R.name,url:D.imageUrl}),f(q=>({...q,imageUrl:D.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(I){e({title:"Upload failed",description:I.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:g,isLoading:y}=ve({queryKey:["/api/admin/gallery"]}),m=Te({mutationFn:async P=>await Ae("POST","/api/admin/gallery",P),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image added successfully"}),s(!1),p()},onError:()=>{e({title:"Failed to add gallery image",variant:"destructive"})}}),x=Te({mutationFn:async({id:P,data:R})=>await Ae("PATCH",`/api/admin/gallery/${P}`,R),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image updated successfully"}),s(!1),r(null),p()},onError:()=>{e({title:"Failed to update gallery image",variant:"destructive"})}}),b=Te({mutationFn:async P=>await Ae("DELETE",`/api/admin/gallery/${P}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image deleted successfully"})},onError:()=>{e({title:"Failed to delete gallery image",variant:"destructive"})}}),p=()=>{f({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),c(null),u.current&&(u.current.value="")},w=P=>{r(P),f({imageUrl:P.imageUrl,title:P.title||"",description:P.description||"",category:P.category||"Construction",sortOrder:P.sortOrder||0,isActive:P.isActive??!0}),s(!0)},N=()=>{t?x.mutate({id:t.id,data:d}):m.mutate(d)},j=P=>{switch(P){case"Renders":return a.jsx(Se,{className:"bg-purple-500",children:"Renders"});case"Construction":return a.jsx(Se,{className:"bg-orange-500",children:"Construction"});case"Facilities":return a.jsx(Se,{className:"bg-blue-500",children:"Facilities"});default:return a.jsx(Se,{variant:"secondary",children:P||"Other"})}};if(y)return a.jsx(Nt,{title:"Gallery",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const S=(g==null?void 0:g.filter(P=>P.category==="Renders").length)||0,_=(g==null?void 0:g.filter(P=>P.category==="Construction").length)||0,k=(g==null?void 0:g.filter(P=>P.category==="Facilities").length)||0,C=(g==null?void 0:g.filter(P=>P.isActive).length)||0,E=(g==null?void 0:g.filter(P=>!P.isActive).length)||0;return a.jsx(Nt,{title:"Gallery",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 via-orange-500/10 to-blue-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold mb-1",children:"Gallery Management"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage gallery images shown on the website. Images should be high-quality and relevant to The Quarterdeck."}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),a.jsxs("span",{className:"text-sm",children:[S," Renders"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),a.jsxs("span",{className:"text-sm",children:[_," Construction"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),a.jsxs("span",{className:"text-sm",children:[k," Facilities"]})]}),a.jsxs("div",{className:"border-l pl-3 flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400",children:[C," Active"]}),E>0&&a.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",E," Hidden"]})]})]})]}),a.jsxs(xr,{open:n,onOpenChange:P=>{s(P),P||(r(null),p())},children:[a.jsx(wa,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-gallery-image",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Image"]})}),a.jsxs(cr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Image":"Add New Image"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Dx,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Image Guidelines"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-blue-700 dark:text-blue-400",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Recommended:"}),a.jsx("p",{className:"text-xs",children:Yc.dimensions.recommended})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Formats:"}),a.jsx("p",{className:"text-xs",children:Yc.formats.join(", ")})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Max Size:"}),a.jsx("p",{className:"text-xs",children:Yc.maxFileSize})]})]})]})]})}),a.jsxs(Ti,{defaultValue:"url",className:"w-full",children:[a.jsxs(Ha,{className:"grid w-full grid-cols-2",children:[a.jsxs(Nr,{value:"url",className:"flex items-center gap-2","data-testid":"tab-url",children:[a.jsx(QD,{className:"w-4 h-4"})," URL"]}),a.jsxs(Nr,{value:"upload",className:"flex items-center gap-2","data-testid":"tab-upload",children:[a.jsx(Do,{className:"w-4 h-4"})," Upload (Testing)"]})]}),a.jsx(Sr,{value:"url",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"imageUrl",children:"Image URL"}),a.jsx(ne,{id:"imageUrl",value:d.imageUrl,onChange:P=>f({...d,imageUrl:P.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-gallery-url"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a direct link to your image. Supports any publicly accessible URL."})]})}),a.jsxs(Sr,{value:"upload",className:"space-y-4 mt-4",children:[a.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),a.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var P;return!i&&((P=u.current)==null?void 0:P.click())},children:i?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Uploading..."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while your image is being uploaded."})]}):l?a.jsxs(a.Fragment,{children:[a.jsx(Ns,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),a.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),a.jsx(U,{variant:"outline",size:"sm",onClick:P=>{P.stopPropagation(),c(null),f(R=>({...R,imageUrl:""})),u.current&&(u.current.value="")},"data-testid":"button-clear-upload",children:"Upload Different Image"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Do,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop or click to browse"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Preview"}),a.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:a.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:P=>{P.target.style.display="none"}})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:d.title,onChange:P=>f({...d,title:P.target.value}),placeholder:"e.g., Padel Court Construction - Week 12","data-testid":"input-gallery-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(J,{htmlFor:"category",children:"Category"}),a.jsxs(mQ,{children:[a.jsx(pQ,{asChild:!0,children:a.jsx(Eo,{className:"w-4 h-4 text-muted-foreground cursor-help"})}),a.jsx(HL,{className:"max-w-xs",children:a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Renders:"})," ",Yc.categories.Renders]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Construction:"})," ",Yc.categories.Construction]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Facilities:"})," ",Yc.categories.Facilities]})]})})]})]}),a.jsxs(Kr,{value:d.category,onValueChange:P=>f({...d,category:P}),children:[a.jsx(Tr,{"data-testid":"select-gallery-category",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"Renders",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Renders"]})}),a.jsx(ze,{value:"Construction",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Construction"]})}),a.jsx(ze,{value:"Facilities",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Facilities"]})})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Description"}),a.jsx(ur,{id:"description",value:d.description,onChange:P=>f({...d,description:P.target.value}),rows:3,"data-testid":"input-gallery-description"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:P=>f({...d,sortOrder:parseInt(P.target.value)||0}),"data-testid":"input-gallery-sort"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isActive",checked:d.isActive,onCheckedChange:P=>f({...d,isActive:P})}),a.jsx(J,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(U,{onClick:N,disabled:i||m.isPending||x.isPending,"data-testid":"button-save-gallery-image",children:i?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[g==null?void 0:g.map(P=>a.jsxs(le,{className:"overflow-hidden","data-testid":`card-gallery-${P.id}`,children:[a.jsxs("div",{className:"relative aspect-video bg-muted",children:[P.imageUrl?a.jsx("img",{src:P.imageUrl,alt:P.title||"Gallery image",className:"w-full h-full object-cover"}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Ei,{className:"w-12 h-12 text-muted-foreground"})}),!P.isActive&&a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx(Se,{variant:"secondary",children:"Hidden"})})]}),a.jsxs(ue,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium truncate",children:P.title||"Untitled"}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:P.description||"No description"})]}),j(P.category)]}),a.jsxs("div",{className:"flex justify-end gap-1 mt-3",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>w(P),"data-testid":`button-edit-gallery-${P.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this image?")&&b.mutate(P.id)},"data-testid":`button-delete-gallery-${P.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]})]},P.id)),(!g||g.length===0)&&a.jsxs("div",{className:"col-span-full text-center text-muted-foreground py-12",children:[a.jsx(Ei,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No gallery images found. Add your first image to get started."})]})]})]})})}const p$=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"coming-soon",label:"Coming Soon"},{value:"about",label:"About Page"},{value:"contact",label:"Contact Page"},{value:"events",label:"Events Page"}],g$={landing:[{value:"hero",label:"Hero Background",dimensions:"1920x1080"},{value:"gallery-1",label:"Gallery Image 1",dimensions:"800x600"},{value:"gallery-2",label:"Gallery Image 2",dimensions:"800x600"},{value:"gallery-3",label:"Gallery Image 3",dimensions:"800x600"},{value:"about-bg",label:"About Section Background",dimensions:"1200x800"}],facilities:[{value:"padel-tennis",label:"Padel Tennis Header",dimensions:"1920x600"},{value:"squash",label:"Squash Courts Header",dimensions:"1920x600"},{value:"air-rifle-range",label:"Air Rifle Range Header",dimensions:"1920x600"},{value:"bridge-room",label:"Bridge Room Header",dimensions:"1920x600"},{value:"multipurpose-hall",label:"Multipurpose Hall Header",dimensions:"1920x600"}],"coming-soon":[{value:"hero",label:"Coming Soon Hero",dimensions:"1920x1080"},{value:"countdown-bg",label:"Countdown Background",dimensions:"1920x600"}],about:[{value:"hero",label:"About Hero",dimensions:"1920x600"},{value:"team",label:"Team Section Background",dimensions:"1200x800"}],contact:[{value:"hero",label:"Contact Hero",dimensions:"1920x400"},{value:"map-bg",label:"Map Background",dimensions:"1200x600"}],events:[{value:"hero",label:"Events Hero",dimensions:"1920x600"},{value:"academy-bg",label:"Academy Section",dimensions:"1200x600"}]};function N$e(){var C,E,P,R;const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),h=async O=>{var T;const I=(T=O.target.files)==null?void 0:T[0];if(I){if(!["image/jpeg","image/png","image/webp"].includes(I.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(I.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const D=new FormData;D.append("image",I);const q=await fetch("/api/admin/upload",{method:"POST",body:D,credentials:"include"});if(!q.ok){let $="Upload failed";try{$=(await q.json()).message||$}catch{$=q.statusText||$}throw new Error($)}const A=await q.json();c({name:I.name,url:A.imageUrl}),f($=>({...$,imageUrl:A.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(D){e({title:"Upload failed",description:D.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:g,isLoading:y}=ve({queryKey:["/api/admin/site-images"]}),m=Te({mutationFn:O=>Ae("POST","/api/admin/site-images",O),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/site-images"]}),Ne.invalidateQueries({queryKey:["/api/site-images"]}),s(!1),p(),e({title:"Site image added successfully"})},onError:()=>{e({title:"Failed to add site image",variant:"destructive"})}}),x=Te({mutationFn:({id:O,data:I})=>Ae("PATCH",`/api/admin/site-images/${O}`,I),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/site-images"]}),Ne.invalidateQueries({queryKey:["/api/site-images"]}),s(!1),p(),e({title:"Site image updated successfully"})},onError:()=>{e({title:"Failed to update site image",variant:"destructive"})}}),b=Te({mutationFn:O=>Ae("DELETE",`/api/admin/site-images/${O}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/site-images"]}),Ne.invalidateQueries({queryKey:["/api/site-images"]}),e({title:"Site image deleted successfully"})},onError:()=>{e({title:"Failed to delete site image",variant:"destructive"})}}),p=()=>{f({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),r(null),c(null),u.current&&(u.current.value="")},w=O=>{r(O),f({key:O.key,imageUrl:O.imageUrl,alt:O.alt||"",title:O.title||"",description:O.description||"",page:O.page,section:O.section||"",dimensions:O.dimensions||"",isActive:O.isActive??!0,sortOrder:O.sortOrder||0}),s(!0)},N=()=>{if(!d.key||!d.imageUrl||!d.page){e({title:"Missing required fields",description:"Please fill in the key, image URL, and page.",variant:"destructive"});return}t?x.mutate({id:t.id,data:d}):m.mutate(d)},j=O=>{f(I=>({...I,page:O,section:""}))},S=O=>{var T;const I=(T=g$[d.page])==null?void 0:T.find(D=>D.value===O);f(D=>({...D,section:O,dimensions:(I==null?void 0:I.dimensions)||"",key:t?D.key:`${d.page}_${O}`}))},_=O=>{const I=p$.find(D=>D.value===O),T={landing:"bg-blue-500",facilities:"bg-green-500","coming-soon":"bg-purple-500",about:"bg-amber-500",contact:"bg-teal-500",events:"bg-rose-500"};return a.jsx(Se,{className:T[O]||"bg-gray-500",children:(I==null?void 0:I.label)||O})};if(y)return a.jsx(Nt,{title:"Site Images",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const k=(g==null?void 0:g.reduce((O,I)=>{const T=I.page||"other";return O[T]||(O[T]=[]),O[T].push(I),O},{}))||{};return a.jsx(Nt,{title:"Site Images",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold mb-1",children:"Site Images Management"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage all website images from a central location. Upload and update images for the landing page, facility pages, coming soon pages, and more."}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[a.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 rounded",children:["Landing: ",((C=k.landing)==null?void 0:C.length)||0]}),a.jsxs("span",{className:"px-2 py-1 bg-green-500/20 rounded",children:["Facilities: ",((E=k.facilities)==null?void 0:E.length)||0]}),a.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 rounded",children:["Coming Soon: ",((P=k["coming-soon"])==null?void 0:P.length)||0]})]})]}),a.jsxs(xr,{open:n,onOpenChange:O=>{s(O),O||p()},children:[a.jsx(wa,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-site-image",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Add Site Image"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Site Image":"Add New Site Image"})}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"page",children:"Page *"}),a.jsxs(Kr,{value:d.page,onValueChange:j,children:[a.jsx(Tr,{"data-testid":"select-site-image-page",children:a.jsx(Gr,{placeholder:"Select page"})}),a.jsx(Ir,{children:p$.map(O=>a.jsx(ze,{value:O.value,children:O.label},O.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"section",children:"Section"}),a.jsxs(Kr,{value:d.section,onValueChange:S,children:[a.jsx(Tr,{"data-testid":"select-site-image-section",children:a.jsx(Gr,{placeholder:"Select section"})}),a.jsx(Ir,{children:(R=g$[d.page])==null?void 0:R.map(O=>a.jsxs(ze,{value:O.value,children:[O.label," (",O.dimensions,")"]},O.value))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"key",children:"Unique Key *"}),a.jsx(ne,{id:"key",value:d.key,onChange:O=>f({...d,key:O.target.value.toLowerCase().replace(/\s+/g,"_")}),placeholder:"e.g., landing_hero",disabled:!!t,"data-testid":"input-site-image-key"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This key is used to reference the image in the code."})]}),a.jsxs(Ti,{defaultValue:"upload",className:"w-full",children:[a.jsxs(Ha,{className:"grid w-full grid-cols-2",children:[a.jsx(Nr,{value:"upload",children:"Upload File"}),a.jsx(Nr,{value:"url",children:"Use URL"})]}),a.jsxs(Sr,{value:"url",className:"space-y-2 mt-4",children:[a.jsx(J,{htmlFor:"imageUrl",children:"Image URL *"}),a.jsx(ne,{id:"imageUrl",value:d.imageUrl,onChange:O=>f({...d,imageUrl:O.target.value}),placeholder:"https://...","data-testid":"input-site-image-url"})]}),a.jsxs(Sr,{value:"upload",className:"space-y-4 mt-4",children:[a.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),a.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var O;return!i&&((O=u.current)==null?void 0:O.click())},children:i?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Uploading..."})]}):l?a.jsxs(a.Fragment,{children:[a.jsx(Ns,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),a.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),a.jsx(U,{variant:"outline",size:"sm",onClick:O=>{O.stopPropagation(),c(null),f(I=>({...I,imageUrl:""})),u.current&&(u.current.value="")},children:"Upload Different Image"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Do,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Preview"}),a.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:a.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:O=>{O.target.style.display="none"}})})]}),d.dimensions&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[a.jsx(Dx,{className:"w-4 h-4 text-blue-500"}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Recommended dimensions: ",a.jsx("strong",{children:d.dimensions})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:d.title,onChange:O=>f({...d,title:O.target.value}),placeholder:"Image title","data-testid":"input-site-image-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"alt",children:"Alt Text"}),a.jsx(ne,{id:"alt",value:d.alt,onChange:O=>f({...d,alt:O.target.value}),placeholder:"Image description for accessibility","data-testid":"input-site-image-alt"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Description"}),a.jsx(ur,{id:"description",value:d.description,onChange:O=>f({...d,description:O.target.value}),rows:2,"data-testid":"input-site-image-description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:O=>f({...d,sortOrder:parseInt(O.target.value)||0}),"data-testid":"input-site-image-sort"})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[a.jsx(Yr,{id:"isActive",checked:d.isActive,onCheckedChange:O=>f({...d,isActive:O})}),a.jsx(J,{htmlFor:"isActive",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(U,{onClick:N,disabled:i||m.isPending||x.isPending,"data-testid":"button-save-site-image",children:i?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),Object.keys(k).length===0?a.jsx(le,{className:"border-dashed",children:a.jsxs(ue,{className:"py-12",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(Ei,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Site Images Yet"}),a.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Upload images to customize the look of your website. Images can be used for hero backgrounds, facility headers, gallery sections, and more."}),a.jsxs(U,{onClick:()=>s(!0),"data-testid":"button-add-first-image",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Add Your First Image"]})]}),a.jsxs("div",{className:"border-t pt-8 mt-8",children:[a.jsx("h4",{className:"font-semibold text-center mb-6",children:"Where Images Can Be Used"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[a.jsx("h5",{className:"font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Landing Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero background, gallery images, about section"}),a.jsx("p",{className:"text-xs text-blue-500 mt-2",children:"Recommended: 1920x1080 for hero"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[a.jsx("h5",{className:"font-medium text-green-700 dark:text-green-300 mb-1",children:"Facilities"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Headers for each sport facility page"}),a.jsx("p",{className:"text-xs text-green-500 mt-2",children:"Recommended: 1920x600"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[a.jsx("h5",{className:"font-medium text-purple-700 dark:text-purple-300 mb-1",children:"Coming Soon"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero and countdown backgrounds"}),a.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"Recommended: 1920x1080"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx("h5",{className:"font-medium text-amber-700 dark:text-amber-300 mb-1",children:"About Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"About hero and team section"}),a.jsx("p",{className:"text-xs text-amber-500 mt-2",children:"Recommended: 1920x600"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-teal-500/10 border border-teal-500/20",children:[a.jsx("h5",{className:"font-medium text-teal-700 dark:text-teal-300 mb-1",children:"Contact Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact hero and map background"}),a.jsx("p",{className:"text-xs text-teal-500 mt-2",children:"Recommended: 1920x400"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-rose-500/10 border border-rose-500/20",children:[a.jsx("h5",{className:"font-medium text-rose-700 dark:text-rose-300 mb-1",children:"Events Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Events hero and academy section"}),a.jsx("p",{className:"text-xs text-rose-500 mt-2",children:"Recommended: 1920x600"})]})]})]}),a.jsxs("div",{className:"border-t pt-8 mt-8 text-center",children:[a.jsx("h4",{className:"font-semibold mb-4",children:"How It Works"}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-6 text-sm text-muted-foreground max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-primary font-bold text-xs",children:"1"})}),a.jsx("span",{children:'Click "Add Site Image" and select a page and section'})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-primary font-bold text-xs",children:"2"})}),a.jsx("span",{children:"Upload your image or paste a URL"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-primary font-bold text-xs",children:"3"})}),a.jsx("span",{children:"Save and it appears on your website instantly"})]})]})]})]})}):Object.entries(k).map(([O,I])=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[_(O),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",I.length," images)"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:I.map(T=>a.jsxs(le,{className:"overflow-hidden","data-testid":`card-site-image-${T.id}`,children:[a.jsxs("div",{className:"relative aspect-video bg-muted",children:[T.imageUrl?a.jsx("img",{src:T.imageUrl,alt:T.alt||T.title||"Site image",className:"w-full h-full object-cover"}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Ei,{className:"w-12 h-12 text-muted-foreground"})}),!T.isActive&&a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx(Se,{variant:"secondary",children:"Hidden"})})]}),a.jsxs(ue,{className:"p-4",children:[a.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-medium truncate",children:T.title||T.key}),a.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:T.key}),T.section&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.section}),T.dimensions&&a.jsx("p",{className:"text-xs text-blue-500 mt-1",children:T.dimensions})]})}),a.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[a.jsxs(U,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>w(T),"data-testid":`button-edit-site-image-${T.id}`,children:[a.jsx(ns,{className:"w-3 h-3 mr-1"}),"Edit"]}),a.jsx(U,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>b.mutate(T.id),"data-testid":`button-delete-site-image-${T.id}`,children:a.jsx(on,{className:"w-3 h-3"})})]})]})]},T.id))})]},O))]})})}function S$e(){var D,q;const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(""),[g,y]=v.useState(""),[m,x]=v.useState("all"),[b,p]=v.useState("all"),{data:w,isLoading:N}=ve({queryKey:["/api/admin/bookings"]}),{data:j}=ve({queryKey:["/api/admin/facilities"]}),S=A=>{if(!A||!j)return"Unknown";const $=j.find(H=>H.id===A);return($==null?void 0:$.name)||"Unknown"},_=Te({mutationFn:async({id:A,data:$})=>await Ae("PATCH",`/api/admin/bookings/${A}/payment`,$),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Booking updated successfully"}),s(!1),r(null),c("")},onError:()=>{e({title:"Failed to update booking",variant:"destructive"})}}),k=Te({mutationFn:async({id:A,status:$,cancelReason:H})=>await Ae("PATCH",`/api/admin/bookings/${A}/status`,{status:$,cancelReason:H}),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Status updated successfully"}),o(!1),h("")},onError:()=>{e({title:"Failed to update status",variant:"destructive"})}}),C=()=>{t&&k.mutate({id:t.id,status:"CANCELLED",cancelReason:f})},E=()=>{t&&_.mutate({id:t.id,data:{paymentStatus:"VERIFIED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},P=()=>{t&&_.mutate({id:t.id,data:{paymentStatus:"REJECTED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},R=A=>{switch(A){case"VERIFIED":return a.jsx(Se,{variant:"default",className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return a.jsx(Se,{variant:"default",className:"bg-yellow-600",children:"Pending Verification"});case"REJECTED":return a.jsx(Se,{variant:"destructive",children:"Rejected"});case"PENDING_PAYMENT":default:return a.jsx(Se,{variant:"secondary",children:"Awaiting Payment"})}},O=(A,$)=>A==="CONFIRMED"&&$==="VERIFIED"?a.jsx(Se,{variant:"default",className:"bg-green-600",children:"Confirmed"}):A==="CANCELLED"?a.jsx(Se,{variant:"destructive",children:"Cancelled"}):$==="VERIFIED"&&A!=="CONFIRMED"?a.jsx(Se,{variant:"default",className:"bg-blue-600",children:"Payment Verified"}):$==="PENDING_VERIFICATION"?a.jsx(Se,{variant:"default",className:"bg-amber-500",children:"Tentative - Awaiting Verification"}):a.jsx(Se,{variant:"secondary",children:"Tentative - Awaiting Payment"}),I=w==null?void 0:w.filter(A=>{var K;const $=S(A.facilityId),H=A.id.toLowerCase().includes(g.toLowerCase())||$.toLowerCase().includes(g.toLowerCase())||((K=A.userId)==null?void 0:K.toLowerCase().includes(g.toLowerCase())),Y=m==="all"||A.paymentStatus===m,L=b==="all"||A.status===b;return H&&Y&&L}),T=(w==null?void 0:w.filter(A=>A.paymentStatus==="PENDING_VERIFICATION").length)||0;return N?a.jsx(Nt,{title:"Bookings Management",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Bookings Management",children:a.jsxs("div",{className:"space-y-6",children:[T>0&&a.jsx(le,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:a.jsxs(ue,{className:"flex items-center gap-3 p-4",children:[a.jsx($n,{className:"h-5 w-5 text-yellow-600"}),a.jsxs("span",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:[T," booking",T>1?"s":""," pending payment verification"]}),a.jsx(U,{size:"sm",variant:"outline",onClick:()=>x("PENDING_VERIFICATION"),className:"ml-auto","data-testid":"button-show-pending",children:"Show Pending"})]})}),a.jsxs(le,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5"}),"All Bookings (",(w==null?void 0:w.length)||0,")"]})}),a.jsxs(ue,{children:[a.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsxs("div",{className:"relative",children:[a.jsx(Lx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ne,{placeholder:"Search by ID, facility, or user...",value:g,onChange:A=>y(A.target.value),className:"pl-10","data-testid":"input-search-bookings"})]})}),a.jsxs(Kr,{value:m,onValueChange:x,children:[a.jsxs(Tr,{className:"w-[180px]","data-testid":"select-payment-filter",children:[a.jsx(WD,{className:"h-4 w-4 mr-2"}),a.jsx(Gr,{placeholder:"Payment Status"})]}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"all",children:"All Payments"}),a.jsx(ze,{value:"PENDING_PAYMENT",children:"Awaiting Payment"}),a.jsx(ze,{value:"PENDING_VERIFICATION",children:"Pending Verification"}),a.jsx(ze,{value:"VERIFIED",children:"Verified"}),a.jsx(ze,{value:"REJECTED",children:"Rejected"})]})]}),a.jsxs(Kr,{value:b,onValueChange:p,children:[a.jsx(Tr,{className:"w-[160px]","data-testid":"select-status-filter",children:a.jsx(Gr,{placeholder:"Status"})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"all",children:"All Status"}),a.jsx(ze,{value:"PENDING",children:"Pending"}),a.jsx(ze,{value:"CONFIRMED",children:"Confirmed"}),a.jsx(ze,{value:"CANCELLED",children:"Cancelled"})]})]})]}),I&&I.length>0?a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Booking ID"}),a.jsx(ke,{children:"Date / Time"}),a.jsx(ke,{children:"Facility"}),a.jsx(ke,{children:"Amount"}),a.jsx(ke,{children:"Payment"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{children:"Actions"})]})}),a.jsx(ts,{children:I.map(A=>{var $;return a.jsxs(wt,{"data-testid":`row-booking-${A.id}`,children:[a.jsxs(we,{className:"font-mono text-xs",children:[A.id.slice(0,8),"..."]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-sm font-medium",children:A.date}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[A.startTime," - ",A.endTime]})]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-sm",children:S(A.facilityId)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",A.resourceId]})]}),a.jsx(we,{children:a.jsxs("span",{className:"font-medium",children:["PKR ",(($=A.totalPrice)==null?void 0:$.toLocaleString())||0]})}),a.jsx(we,{children:R(A.paymentStatus)}),a.jsx(we,{children:O(A.status,A.paymentStatus)}),a.jsx(we,{children:a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>{r(A),c(A.paymentNotes||""),d(A.paymentProofUrl||""),s(!0)},"data-testid":`button-view-${A.id}`,children:a.jsx(Mo,{className:"h-4 w-4"})})})]},A.id)})})]})}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings found matching your filters."})]})]}),a.jsx(xr,{open:n,onOpenChange:s,children:a.jsxs(cr,{className:"max-w-2xl",children:[a.jsx(br,{children:a.jsx(wr,{children:"Booking Details"})}),t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Booking ID"}),a.jsx("p",{className:"font-mono text-sm",children:t.id})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"User ID"}),a.jsx("p",{className:"font-mono text-sm",children:t.userId})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Date"}),a.jsx("p",{className:"font-medium",children:t.date})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Time"}),a.jsxs("p",{className:"font-medium",children:[t.startTime," - ",t.endTime]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Facility"}),a.jsx("p",{className:"font-medium",children:S(t.facilityId)})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Resource"}),a.jsxs("p",{className:"font-medium",children:["#",t.resourceId]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Total Amount"}),a.jsxs("p",{className:"font-bold text-lg",children:["PKR ",((D=t.totalPrice)==null?void 0:D.toLocaleString())||0]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Payment Method"}),a.jsx("p",{className:"font-medium capitalize",children:((q=t.paymentMethod)==null?void 0:q.replace("_"," "))||"N/A"})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Payment Status"}),a.jsx("div",{className:"mt-1",children:R(t.paymentStatus)})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Booking Status"}),a.jsx("div",{className:"mt-1",children:O(t.status,t.paymentStatus)})]})]}),a.jsxs("div",{className:"mb-4 space-y-2",children:[a.jsx(J,{htmlFor:"paymentProofUrl",children:"Payment Proof URL"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{id:"paymentProofUrl",value:u,onChange:A=>d(A.target.value),placeholder:"Enter proof URL (receipt/transfer screenshot)","data-testid":"input-payment-proof-url"}),(t.paymentProofUrl||u)&&a.jsx(U,{variant:"outline",size:"icon",onClick:()=>window.open(u||t.paymentProofUrl,"_blank"),title:"View proof document","data-testid":"button-view-proof",children:a.jsx(zh,{className:"h-4 w-4"})})]}),t.paymentProofUrl&&!u&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current: ",a.jsx("a",{href:t.paymentProofUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View existing proof"})]})]}),t.paymentVerifiedBy&&a.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Verified by: ",t.paymentVerifiedBy,t.paymentVerifiedAt&&a.jsxs(a.Fragment,{children:[" on ",cd(new Date(t.paymentVerifiedAt),"PPp")]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"paymentNotes",children:"Admin Notes"}),a.jsx(ur,{id:"paymentNotes",value:l,onChange:A=>c(A.target.value),placeholder:"Add notes about payment verification...",rows:3,"data-testid":"textarea-payment-notes"})]})]}),(t.paymentStatus==="PENDING_VERIFICATION"||t.paymentStatus==="PENDING_PAYMENT")&&a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsxs(U,{onClick:E,disabled:_.isPending,className:"flex-1 bg-green-600 hover:bg-green-500","data-testid":"button-verify-payment",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Verify Payment"]}),a.jsxs(U,{onClick:P,disabled:_.isPending,variant:"destructive",className:"flex-1","data-testid":"button-reject-payment",children:[a.jsx(sd,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),t.status!=="CANCELLED"&&a.jsx("div",{className:"flex gap-3 pt-4 border-t",children:a.jsxs(U,{onClick:()=>{o(!0)},disabled:k.isPending,variant:"destructive","data-testid":"button-cancel-booking",children:[a.jsx(sd,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})]})}),a.jsx(xr,{open:i,onOpenChange:o,children:a.jsxs(cr,{children:[a.jsx(br,{children:a.jsx(wr,{children:"Cancel Booking"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to cancel this booking? This action cannot be undone. The user will receive an email notification about the cancellation."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"cancelReason",children:"Cancellation Reason (Optional)"}),a.jsx(ur,{id:"cancelReason",value:f,onChange:A=>h(A.target.value),placeholder:"Reason for cancellation...",rows:3,"data-testid":"textarea-cancel-reason"})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(U,{variant:"outline",onClick:()=>{o(!1),h("")},"data-testid":"button-cancel-dialog-close",children:"Keep Booking"}),a.jsx(U,{variant:"destructive",onClick:C,disabled:k.isPending,"data-testid":"button-confirm-cancel",children:k.isPending?"Cancelling...":"Confirm Cancellation"})]})]})]})})]})})}function _$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""}),[l,c]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(""),[g,y]=v.useState(""),[m,x]=v.useState(""),{data:b,isLoading:p,dataUpdatedAt:w}=ve({queryKey:["/api/admin/site-settings"]}),{data:N,isLoading:j}=ve({queryKey:["/api/admin/navbar-items"]}),S=T=>{var D;return((D=b==null?void 0:b.find(q=>q.key===T))==null?void 0:D.value)||""};v.useEffect(()=>{b&&!p&&(c(S("logo_main_url")),d(S("logo_dark_url")),h(S("favicon_url")),y(S("site_name")||"The Quarterdeck"),x(S("site_tagline")||"Sports & Recreation Complex"))},[b,p,w]);const _=Te({mutationFn:async T=>{for(const D of T)await Ae("POST","/api/admin/site-settings",D)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/site-settings"]}),Ne.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Branding settings saved successfully"})},onError:()=>{e({title:"Failed to save branding settings",variant:"destructive"})}}),k=Te({mutationFn:async T=>await Ae("POST","/api/admin/navbar-items",T),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Ne.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item created successfully"}),s(!1),P()},onError:()=>{e({title:"Failed to create navigation item",variant:"destructive"})}}),C=Te({mutationFn:async({id:T,data:D})=>await Ae("PATCH",`/api/admin/navbar-items/${T}`,D),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Ne.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item updated successfully"}),s(!1),r(null),P()},onError:()=>{e({title:"Failed to update navigation item",variant:"destructive"})}}),E=Te({mutationFn:async T=>await Ae("DELETE",`/api/admin/navbar-items/${T}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Ne.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item deleted successfully"})},onError:()=>{e({title:"Failed to delete navigation item",variant:"destructive"})}}),P=()=>{o({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""})},R=T=>{r(T),o({label:T.label,href:T.href,sortOrder:T.sortOrder,isVisible:T.isVisible,target:T.target||"_self",requiresAuth:T.requiresAuth||!1,icon:T.icon||""}),s(!0)},O=()=>{t?C.mutate({id:t.id,data:i}):k.mutate(i)},I=()=>{const T=[{key:"logo_main_url",value:l,label:"Main Logo URL",category:"branding"},{key:"logo_dark_url",value:u,label:"Dark Mode Logo URL",category:"branding"},{key:"favicon_url",value:f,label:"Favicon URL",category:"branding"},{key:"site_name",value:g,label:"Site Name",category:"branding"},{key:"site_tagline",value:m,label:"Site Tagline",category:"branding"}];_.mutate(T)};return p||j?a.jsx(Nt,{title:"Branding & Navigation",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Branding & Navigation",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs(le,{children:[a.jsxs(Ge,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Ei,{className:"h-5 w-5"}),"Site Branding"]}),a.jsx(Kt,{children:"Customize your site logo, favicon, and branding text. Provide URLs to your logo images."})]}),a.jsxs(ue,{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"siteName",children:"Site Name"}),a.jsx(ne,{id:"siteName",value:g,onChange:T=>y(T.target.value),placeholder:"The Quarterdeck","data-testid":"input-site-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"siteTagline",children:"Site Tagline"}),a.jsx(ne,{id:"siteTagline",value:m,onChange:T=>x(T.target.value),placeholder:"Sports & Recreation Complex","data-testid":"input-site-tagline"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"logoUrl",children:"Main Logo URL"}),a.jsx(ne,{id:"logoUrl",value:l,onChange:T=>c(T.target.value),placeholder:"https://example.com/logo.png","data-testid":"input-logo-url"}),l&&a.jsxs("div",{className:"mt-2 p-4 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),a.jsx("img",{src:l,alt:"Logo preview",className:"h-12 w-auto object-contain"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"logoDarkUrl",children:"Dark Mode Logo URL (Optional)"}),a.jsx(ne,{id:"logoDarkUrl",value:u,onChange:T=>d(T.target.value),placeholder:"https://example.com/logo-dark.png","data-testid":"input-logo-dark-url"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"faviconUrl",children:"Favicon URL"}),a.jsx(ne,{id:"faviconUrl",value:f,onChange:T=>h(T.target.value),placeholder:"https://example.com/favicon.ico","data-testid":"input-favicon-url"})]}),a.jsxs(U,{onClick:I,disabled:_.isPending,"data-testid":"button-save-branding",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),_.isPending?"Saving...":"Save Branding Settings"]})]})]}),a.jsxs(le,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(NK,{className:"h-5 w-5"}),"Navigation Items"]}),a.jsx(Kt,{children:"Manage the navigation links that appear in the header."})]}),a.jsxs(U,{onClick:()=>{P(),r(null),s(!0)},"data-testid":"button-add-nav-item",children:[a.jsx(vn,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.jsx(ue,{children:N&&N.length>0?a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{className:"w-[50px]",children:"Order"}),a.jsx(ke,{children:"Label"}),a.jsx(ke,{children:"Link"}),a.jsx(ke,{children:"Visibility"}),a.jsx(ke,{children:"Actions"})]})}),a.jsx(ts,{children:N.map(T=>a.jsxs(wt,{"data-testid":`row-nav-${T.id}`,children:[a.jsx(we,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mx,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:T.sortOrder})]})}),a.jsx(we,{className:"font-medium",children:T.label}),a.jsx(we,{children:a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[T.href,T.target==="_blank"&&a.jsx(zh,{className:"h-3 w-3"})]})}),a.jsx(we,{children:T.isVisible?a.jsx(Se,{variant:"default",className:"bg-green-600",children:"Visible"}):a.jsx(Se,{variant:"secondary",children:"Hidden"})}),a.jsx(we,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>R(T),"data-testid":`button-edit-nav-${T.id}`,children:a.jsx(ns,{className:"h-4 w-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>E.mutate(T.id),"data-testid":`button-delete-nav-${T.id}`,children:a.jsx(on,{className:"h-4 w-4"})})]})})]},T.id))})]})}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No navigation items configured. Click "Add Item" to create one.'})})]}),a.jsx(xr,{open:n,onOpenChange:s,children:a.jsxs(cr,{children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Navigation Item":"Add Navigation Item"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"navLabel",children:"Label"}),a.jsx(ne,{id:"navLabel",value:i.label,onChange:T=>o({...i,label:T.target.value}),placeholder:"Home","data-testid":"input-nav-label"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"navHref",children:"Link URL"}),a.jsx(ne,{id:"navHref",value:i.href,onChange:T=>o({...i,href:T.target.value}),placeholder:"/home or https://...","data-testid":"input-nav-href"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"navOrder",children:"Sort Order"}),a.jsx(ne,{id:"navOrder",type:"number",value:i.sortOrder,onChange:T=>o({...i,sortOrder:parseInt(T.target.value)||0}),"data-testid":"input-nav-order"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"navTarget",children:"Link Target"}),a.jsxs(Kr,{value:i.target,onValueChange:T=>o({...i,target:T}),children:[a.jsx(Tr,{"data-testid":"select-nav-target",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"_self",children:"Same Window"}),a.jsx(ze,{value:"_blank",children:"New Window"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{htmlFor:"navVisible",children:"Visible"}),a.jsx(Yr,{id:"navVisible",checked:i.isVisible,onCheckedChange:T=>o({...i,isVisible:T}),"data-testid":"switch-nav-visible"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{htmlFor:"navAuth",children:"Requires Authentication"}),a.jsx(Yr,{id:"navAuth",checked:i.requiresAuth,onCheckedChange:T=>o({...i,requiresAuth:T}),"data-testid":"switch-nav-auth"})]}),a.jsxs(U,{className:"w-full",onClick:O,disabled:k.isPending||C.isPending,"data-testid":"button-save-nav-item",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),t?"Update Item":"Create Item"]})]})]})})]})})}var k$e=Symbol("radix.slottable");function C$e(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=k$e,t}var Yq="AlertDialog",[P$e]=yn(Yq,[G5]),zi=G5(),Qq=e=>{const{__scopeAlertDialog:t,...r}=e,n=zi(t);return a.jsx(Vk,{...n,...r,modal:!0})};Qq.displayName=Yq;var E$e="AlertDialogTrigger",A$e=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zi(r);return a.jsx(u6,{...s,...n,ref:t})});A$e.displayName=E$e;var O$e="AlertDialogPortal",Xq=e=>{const{__scopeAlertDialog:t,...r}=e,n=zi(t);return a.jsx(qk,{...n,...r})};Xq.displayName=O$e;var T$e="AlertDialogOverlay",Zq=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zi(r);return a.jsx(hb,{...s,...n,ref:t})});Zq.displayName=T$e;var Mu="AlertDialogContent",[I$e,R$e]=P$e(Mu),$$e=C$e("AlertDialogContent"),Jq=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=zi(r),o=v.useRef(null),l=rt(t,o),c=v.useRef(null);return a.jsx(Tae,{contentName:Mu,titleName:ez,docsSlug:"alert-dialog",children:a.jsx(I$e,{scope:r,cancelRef:c,children:a.jsxs(mb,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:me(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx($$e,{children:n}),a.jsx(D$e,{contentRef:o})]})})})});Jq.displayName=Mu;var ez="AlertDialogTitle",tz=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zi(r);return a.jsx(zk,{...s,...n,ref:t})});tz.displayName=ez;var rz="AlertDialogDescription",nz=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zi(r);return a.jsx(Wk,{...s,...n,ref:t})});nz.displayName=rz;var M$e="AlertDialogAction",sz=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zi(r);return a.jsx(Hk,{...s,...n,ref:t})});sz.displayName=M$e;var az="AlertDialogCancel",iz=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=R$e(az,r),i=zi(r),o=rt(t,s);return a.jsx(Hk,{...i,...n,ref:o})});iz.displayName=az;var D$e=({contentRef:e})=>{const t=`\`${Mu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Mu}\` by passing a \`${rz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Mu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},L$e=Qq,F$e=Xq,oz=Zq,lz=Jq,cz=sz,uz=iz,dz=tz,fz=nz;const U$e=L$e,B$e=F$e,hz=v.forwardRef(({className:e,...t},r)=>a.jsx(oz,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));hz.displayName=oz.displayName;const mz=v.forwardRef(({className:e,...t},r)=>a.jsxs(B$e,{children:[a.jsx(hz,{}),a.jsx(lz,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));mz.displayName=lz.displayName;const pz=({className:e,...t})=>a.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",e),...t});pz.displayName="AlertDialogHeader";const gz=({className:e,...t})=>a.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gz.displayName="AlertDialogFooter";const vz=v.forwardRef(({className:e,...t},r)=>a.jsx(dz,{ref:r,className:fe("text-lg font-semibold",e),...t}));vz.displayName=dz.displayName;const yz=v.forwardRef(({className:e,...t},r)=>a.jsx(fz,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));yz.displayName=fz.displayName;const xz=v.forwardRef(({className:e,...t},r)=>a.jsx(cz,{ref:r,className:fe(dk(),e),...t}));xz.displayName=cz.displayName;const bz=v.forwardRef(({className:e,...t},r)=>a.jsx(uz,{ref:r,className:fe(dk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));bz.displayName=uz.displayName;const V$e=Qa({title:jt().min(1,"Title is required"),icon:jt().optional(),sortOrder:H5.number().default(0),isActive:Lk().default(!0)}),q$e=Qa({categoryId:jt().min(1,"Category is required"),question:jt().min(1,"Question is required"),answer:jt().min(1,"Answer is required"),sortOrder:H5.number().default(0),isActive:Lk().default(!0)}),z$e=[{value:"help-circle",label:"Help Circle"},{value:"users",label:"Users"},{value:"calendar",label:"Calendar"},{value:"credit-card",label:"Credit Card"},{value:"building-2",label:"Building"},{value:"shield",label:"Shield"},{value:"clock",label:"Clock"},{value:"settings",label:"Settings"}];function W$e(){const{toast:e}=At(),[t,r]=v.useState(!1),[n,s]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,h]=v.useState(null),[g,y]=v.useState(new Set),{data:m=[],isLoading:x}=ve({queryKey:["/api/admin/faq/categories"]}),{data:b=[],isLoading:p}=ve({queryKey:["/api/admin/faq/items"]}),w=xa({resolver:ba(V$e),defaultValues:{title:"",icon:"help-circle",sortOrder:0,isActive:!0}}),N=xa({resolver:ba(q$e),defaultValues:{categoryId:"",question:"",answer:"",sortOrder:0,isActive:!0}}),j=Te({mutationFn:async A=>await Ae("POST","/api/admin/faq/categories",A),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category created successfully"}),r(!1),w.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),S=Te({mutationFn:async({id:A,data:$})=>await Ae("PATCH",`/api/admin/faq/categories/${A}`,$),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category updated successfully"}),r(!1),o(null),w.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),_=Te({mutationFn:async A=>await Ae("DELETE",`/api/admin/faq/categories/${A}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),Ne.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"Category deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),k=Te({mutationFn:async A=>await Ae("POST","/api/admin/faq/items",A),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item created successfully"}),s(!1),N.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),C=Te({mutationFn:async({id:A,data:$})=>await Ae("PATCH",`/api/admin/faq/items/${A}`,$),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item updated successfully"}),s(!1),c(null),N.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),E=Te({mutationFn:async A=>await Ae("DELETE",`/api/admin/faq/items/${A}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),P=A=>{o(A),w.reset({title:A.title,icon:A.icon||"help-circle",sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),r(!0)},R=A=>{c(A),N.reset({categoryId:A.categoryId,question:A.question,answer:A.answer,sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),s(!0)},O=A=>{i?S.mutate({id:i.id,data:A}):j.mutate(A)},I=A=>{l?C.mutate({id:l.id,data:A}):k.mutate(A)},T=()=>{f&&(f.type==="category"?_.mutate(f.id):E.mutate(f.id),d(!1),h(null))},D=A=>{y($=>{const H=new Set($);return H.has(A)?H.delete(A):H.add(A),H})},q=A=>b.filter($=>$.categoryId===A).sort(($,H)=>($.sortOrder||0)-(H.sortOrder||0));return x||p?a.jsx(Nt,{title:"FAQ Management",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(it,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):a.jsx(Nt,{title:"FAQ Management",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-faq-management-title",children:"FAQ Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage frequently asked questions and categories"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(xr,{open:t,onOpenChange:A=>{r(A),A||(o(null),w.reset())},children:[a.jsx(wa,{asChild:!0,children:a.jsxs(U,{variant:"outline","data-testid":"button-add-category",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),a.jsxs(cr,{children:[a.jsx(br,{children:a.jsx(wr,{children:i?"Edit Category":"Add Category"})}),a.jsx(ja,{...w,children:a.jsxs("form",{onSubmit:w.handleSubmit(O),className:"space-y-4",children:[a.jsx(tt,{control:w.control,name:"title",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Title"}),a.jsx(Xe,{children:a.jsx(ne,{...A,"data-testid":"input-category-title"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:w.control,name:"icon",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Icon"}),a.jsxs(Kr,{onValueChange:A.onChange,value:A.value,children:[a.jsx(Xe,{children:a.jsx(Tr,{"data-testid":"select-category-icon",children:a.jsx(Gr,{placeholder:"Select an icon"})})}),a.jsx(Ir,{children:z$e.map($=>a.jsx(ze,{value:$.value,children:$.label},$.value))})]}),a.jsx(st,{})]})}),a.jsx(tt,{control:w.control,name:"sortOrder",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Sort Order"}),a.jsx(Xe,{children:a.jsx(ne,{type:"number",...A,"data-testid":"input-category-sort-order"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:w.control,name:"isActive",render:({field:A})=>a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(Xe,{children:a.jsx(Yr,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-category-active"})}),a.jsx(J,{children:"Active"})]})}),a.jsxs(U,{type:"submit",className:"w-full",disabled:j.isPending||S.isPending,"data-testid":"button-save-category",children:[(j.isPending||S.isPending)&&a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Update":"Create"," Category"]})]})})]})]}),a.jsxs(xr,{open:n,onOpenChange:A=>{s(A),A||(c(null),N.reset())},children:[a.jsx(wa,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-faq-item",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Add FAQ Item"]})}),a.jsxs(cr,{className:"max-w-2xl",children:[a.jsx(br,{children:a.jsx(wr,{children:l?"Edit FAQ Item":"Add FAQ Item"})}),a.jsx(ja,{...N,children:a.jsxs("form",{onSubmit:N.handleSubmit(I),className:"space-y-4",children:[a.jsx(tt,{control:N.control,name:"categoryId",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Category"}),a.jsxs(Kr,{onValueChange:A.onChange,value:A.value,children:[a.jsx(Xe,{children:a.jsx(Tr,{"data-testid":"select-item-category",children:a.jsx(Gr,{placeholder:"Select a category"})})}),a.jsx(Ir,{children:m.map($=>a.jsx(ze,{value:$.id,children:$.title},$.id))})]}),a.jsx(st,{})]})}),a.jsx(tt,{control:N.control,name:"question",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Question"}),a.jsx(Xe,{children:a.jsx(ne,{...A,"data-testid":"input-item-question"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:N.control,name:"answer",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Answer"}),a.jsx(Xe,{children:a.jsx(ur,{...A,rows:4,"data-testid":"input-item-answer"})}),a.jsx(st,{})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(tt,{control:N.control,name:"sortOrder",render:({field:A})=>a.jsxs(Qe,{className:"flex-1",children:[a.jsx(nt,{children:"Sort Order"}),a.jsx(Xe,{children:a.jsx(ne,{type:"number",...A,"data-testid":"input-item-sort-order"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:N.control,name:"isActive",render:({field:A})=>a.jsxs(Qe,{className:"flex items-center gap-2 pt-8",children:[a.jsx(Xe,{children:a.jsx(Yr,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-item-active"})}),a.jsx(J,{children:"Active"})]})})]}),a.jsxs(U,{type:"submit",className:"w-full",disabled:k.isPending||C.isPending,"data-testid":"button-save-item",children:[(k.isPending||C.isPending)&&a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),l?"Update":"Create"," FAQ Item"]})]})})]})]})]})]}),m.length===0?a.jsx(le,{children:a.jsxs(ue,{className:"py-12 text-center",children:[a.jsx(Eo,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQ Categories"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first category to start adding FAQ items."})]})}):a.jsx("div",{className:"space-y-4",children:m.sort((A,$)=>(A.sortOrder||0)-($.sortOrder||0)).map(A=>a.jsxs(le,{className:"overflow-visible","data-testid":`card-category-${A.id}`,children:[a.jsx(Ge,{className:"cursor-pointer",onClick:()=>D(A.id),children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[g.has(A.id)?a.jsx(qh,{className:"w-5 h-5 text-muted-foreground"}):a.jsx(Pi,{className:"w-5 h-5 text-muted-foreground"}),a.jsx(et,{className:"text-lg",children:A.title}),!A.isActive&&a.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Inactive"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",q(A.id).length," items)"]})]}),a.jsxs("div",{className:"flex gap-2",onClick:$=>$.stopPropagation(),children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>P(A),"data-testid":`button-edit-category-${A.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>{h({type:"category",id:A.id}),d(!0)},"data-testid":`button-delete-category-${A.id}`,children:a.jsx(on,{className:"w-4 h-4"})})]})]})}),g.has(A.id)&&a.jsx(ue,{className:"pt-0",children:q(A.id).length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-4",children:"No FAQ items in this category."}):a.jsx("div",{className:"space-y-2",children:q(A.id).map($=>a.jsxs("div",{className:"border rounded-md p-4 flex items-start justify-between gap-4","data-testid":`item-faq-${$.id}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:$.question}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:$.answer}),!$.isActive&&a.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded mt-2 inline-block",children:"Inactive"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>R($),"data-testid":`button-edit-item-${$.id}`,children:a.jsx(ns,{className:"w-4 h-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>{h({type:"item",id:$.id}),d(!0)},"data-testid":`button-delete-item-${$.id}`,children:a.jsx(on,{className:"w-4 h-4"})})]})]},$.id))})})]},A.id))}),a.jsx(U$e,{open:u,onOpenChange:d,children:a.jsxs(mz,{children:[a.jsxs(pz,{children:[a.jsx(vz,{children:"Are you sure?"}),a.jsx(yz,{children:(f==null?void 0:f.type)==="category"?"This will delete the category and all its FAQ items. This action cannot be undone.":"This will delete the FAQ item. This action cannot be undone."})]}),a.jsxs(gz,{children:[a.jsx(bz,{"data-testid":"button-cancel-delete",children:"Cancel"}),a.jsx(xz,{onClick:T,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})})}const Vf={dimensions:{recommended:"800 x 800 px (1:1 square)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",dpi:"72-150 DPI (web optimized)",tips:["Use a well-lit, clear photo of the face","Avoid filters or heavy editing","Ensure the face is centered in the frame","Use a neutral or solid background if possible","Live selfie or camera capture is acceptable"]};function H$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState(null),f=v.useRef(null),[h,g]=v.useState({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),{data:y,isLoading:m}=ve({queryKey:["/api/admin/users"]}),{data:x}=ve({queryKey:["/api/auth/user"]}),b=(x==null?void 0:x.role)==="SUPER_ADMIN",p=Te({mutationFn:async({id:E,data:P})=>await Ae("PATCH",`/api/admin/users/${E}`,P),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Member updated successfully"}),s(!1),r(null),w()},onError:E=>{e({title:"Failed to update member",description:E.message||"An error occurred",variant:"destructive"})}}),w=()=>{g({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),d(null),f.current&&(f.current.value="")},N=async E=>{var R;const P=(R=E.target.files)==null?void 0:R[0];if(P){if(!["image/jpeg","image/png","image/webp"].includes(P.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(P.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const O=new FormData;O.append("image",P);const I=await fetch("/api/admin/upload",{method:"POST",body:O,credentials:"include"});if(!I.ok){let D="Upload failed";try{D=(await I.json()).message||D}catch{D=I.statusText||D}throw new Error(D)}const T=await I.json();d({name:P.name,url:T.imageUrl}),g(D=>({...D,profileImageUrl:T.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Profile photo has been uploaded."})}catch(O){e({title:"Upload failed",description:O.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1),f.current&&(f.current.value="")}}},j=E=>{r(E),g({firstName:E.firstName||"",lastName:E.lastName||"",phone:E.phone||"",profileImageUrl:E.profileImageUrl||"",role:E.role,isSafetyCertified:E.isSafetyCertified||!1,hasSignedWaiver:E.hasSignedWaiver||!1}),d(null),f.current&&(f.current.value=""),s(!0)},S=()=>{t&&p.mutate({id:t.id,data:h})},_=y==null?void 0:y.filter(E=>{var O,I;if(!i)return!0;const P=i.toLowerCase();return`${E.firstName||""} ${E.lastName||""}`.toLowerCase().includes(P)||((O=E.email)==null?void 0:O.toLowerCase().includes(P))||((I=E.phone)==null?void 0:I.toLowerCase().includes(P))}),k=E=>{switch(E){case"SUPER_ADMIN":return"destructive";case"ADMIN":return"default";default:return"secondary"}},C=E=>{var O,I,T;const P=((O=E.firstName)==null?void 0:O.charAt(0))||"",R=((I=E.lastName)==null?void 0:I.charAt(0))||"";return(P+R).toUpperCase()||((T=E.email)==null?void 0:T.charAt(0).toUpperCase())||"?"};return a.jsx(Nt,{title:"Members Management",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-members-title",children:"Members Management"}),a.jsx("p",{className:"text-muted-foreground",children:"View and manage member profiles, certifications, and profile photos"})]})}),a.jsxs(le,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-4",children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Qr,{className:"w-5 h-5"}),"All Members (",(_==null?void 0:_.length)||0,")"]}),a.jsxs("div",{className:"relative w-64",children:[a.jsx(Lx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ne,{placeholder:"Search by name, email, phone...",value:i,onChange:E=>o(E.target.value),className:"pl-9","data-testid":"input-member-search"})]})]}),a.jsx(ue,{children:m?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(it,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.jsxs(Jn,{children:[a.jsx(es,{children:a.jsxs(wt,{children:[a.jsx(ke,{className:"w-16",children:"Photo"}),a.jsx(ke,{children:"Name"}),a.jsx(ke,{children:"Email"}),a.jsx(ke,{children:"Phone"}),a.jsx(ke,{children:"Role"}),a.jsx(ke,{children:"Certifications"}),a.jsx(ke,{className:"w-20",children:"Actions"})]})}),a.jsxs(ts,{children:[_==null?void 0:_.map(E=>a.jsxs(wt,{"data-testid":`row-member-${E.id}`,children:[a.jsx(we,{children:a.jsxs(om,{className:"w-10 h-10",children:[a.jsx(lm,{src:E.profileImageUrl||void 0,alt:`${E.firstName} ${E.lastName}`}),a.jsx(cm,{children:C(E)})]})}),a.jsx(we,{className:"font-medium",children:E.firstName||E.lastName?`${E.firstName||""} ${E.lastName||""}`.trim():a.jsx("span",{className:"text-muted-foreground",children:"Not set"})}),a.jsx(we,{children:E.email||a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx(we,{children:E.phone||a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx(we,{children:a.jsx(Se,{variant:k(E.role),children:E.role})}),a.jsx(we,{children:a.jsxs("div",{className:"flex gap-1",children:[E.isSafetyCertified&&a.jsx(Se,{variant:"outline",className:"text-xs",children:"Safety"}),E.hasSignedWaiver&&a.jsx(Se,{variant:"outline",className:"text-xs",children:"Waiver"}),!E.isSafetyCertified&&!E.hasSignedWaiver&&a.jsx("span",{className:"text-muted-foreground text-sm",children:"None"})]})}),a.jsx(we,{children:a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>j(E),"data-testid":`button-edit-member-${E.id}`,children:a.jsx(ns,{className:"w-4 h-4"})})})]},E.id)),(_==null?void 0:_.length)===0&&a.jsx(wt,{children:a.jsx(we,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No members found"})})]})]})})]}),a.jsx(xr,{open:n,onOpenChange:E=>{s(E),E||(r(null),w())},children:a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:"Edit Member Profile"})}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs(J,{className:"text-base font-medium flex items-center gap-2",children:[a.jsx(BD,{className:"w-4 h-4"}),"Profile Photo"]}),a.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-muted/30",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs(om,{className:"w-20 h-20",children:[a.jsx(lm,{src:h.profileImageUrl||void 0}),a.jsx(cm,{className:"text-xl",children:t?C(t):"?"})]}),a.jsx("div",{className:"flex-1 space-y-3",children:a.jsxs(Ti,{defaultValue:"upload",className:"w-full",children:[a.jsxs(Ha,{className:"grid w-full grid-cols-2",children:[a.jsxs(Nr,{value:"upload","data-testid":"tab-upload",children:[a.jsx(Do,{className:"w-4 h-4 mr-2"}),"Upload"]}),a.jsxs(Nr,{value:"url","data-testid":"tab-url",children:[a.jsx(Ei,{className:"w-4 h-4 mr-2"}),"URL"]})]}),a.jsxs(Sr,{value:"upload",className:"space-y-3 mt-3",children:[a.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:N,className:"hidden","data-testid":"input-member-image-file"}),a.jsx(U,{type:"button",variant:"outline",onClick:()=>{var E;return(E=f.current)==null?void 0:E.click()},disabled:l,className:"w-full","data-testid":"button-upload-member-image",children:l?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Do,{className:"w-4 h-4 mr-2"}),"Choose File or Take Selfie"]})}),u&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[a.jsx(Ns,{className:"w-4 h-4"}),u.name]})]}),a.jsx(Sr,{value:"url",className:"space-y-3 mt-3",children:a.jsx(ne,{value:h.profileImageUrl,onChange:E=>g({...h,profileImageUrl:E.target.value}),placeholder:"Enter image URL...","data-testid":"input-member-image-url"})})]})})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Dx,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsx("p",{className:"font-medium",children:"Image Guidelines:"}),a.jsxs("ul",{className:"list-disc ml-4 space-y-0.5",children:[a.jsxs("li",{children:["Dimensions: ",Vf.dimensions.recommended]}),a.jsxs("li",{children:["Formats: ",Vf.formats.join(", ")]}),a.jsxs("li",{children:["Max size: ",Vf.maxFileSize]}),a.jsxs("li",{children:["DPI: ",Vf.dpi]})]}),a.jsx("p",{className:"font-medium mt-2",children:"Tips:"}),a.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:Vf.tips.map((E,P)=>a.jsx("li",{children:E},P))})]})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"firstName",children:"First Name"}),a.jsx(ne,{id:"firstName",value:h.firstName,onChange:E=>g({...h,firstName:E.target.value}),"data-testid":"input-member-firstname"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"lastName",children:"Last Name"}),a.jsx(ne,{id:"lastName",value:h.lastName,onChange:E=>g({...h,lastName:E.target.value}),"data-testid":"input-member-lastname"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"phone",children:"Phone Number"}),a.jsx(ne,{id:"phone",value:h.phone,onChange:E=>g({...h,phone:E.target.value}),placeholder:"+92 300 1234567","data-testid":"input-member-phone"})]}),b?a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"role",children:"Role"}),a.jsxs(Kr,{value:h.role,onValueChange:E=>g({...h,role:E}),children:[a.jsx(Tr,{"data-testid":"select-member-role",children:a.jsx(Gr,{placeholder:"Select role..."})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"USER",children:"User"}),a.jsx(ze,{value:"ADMIN",children:"Admin"}),a.jsx(ze,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Role"}),a.jsxs("div",{className:"flex items-center gap-2 h-9 px-3 rounded-md border bg-muted/50",children:[a.jsx(Se,{variant:k(h.role),children:h.role}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Only super admins can change roles)"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{className:"text-base font-medium",children:"Certifications"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"safetyCertified",className:"font-normal",children:"Safety Certified"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has completed safety training"})]}),a.jsx(Yr,{id:"safetyCertified",checked:h.isSafetyCertified,onCheckedChange:E=>g({...h,isSafetyCertified:E}),"data-testid":"switch-safety-certified"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"signedWaiver",className:"font-normal",children:"Signed Waiver"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has signed liability waiver"})]}),a.jsx(Yr,{id:"signedWaiver",checked:h.hasSignedWaiver,onCheckedChange:E=>g({...h,hasSignedWaiver:E}),"data-testid":"switch-signed-waiver"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),a.jsxs(U,{onClick:S,disabled:p.isPending,"data-testid":"button-save-member",children:[p.isPending&&a.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})]})})}function K$e(){const{adminPath:e,isAuthorized:t,isLoading:r}=mp();if(r||!t)return null;const n=`/${e}`;return a.jsxs(eD,{children:[a.jsx(ot,{path:`${n}/homepage`,component:mRe}),a.jsx(ot,{path:`${n}/coming-soon`,component:pRe}),a.jsx(ot,{path:`${n}/facilities`,component:n$e}),a.jsx(ot,{path:`${n}/roadmap`,component:m$e}),a.jsx(ot,{path:`${n}/events`,component:p$e}),a.jsx(ot,{path:`${n}/pricing`,component:g$e}),a.jsx(ot,{path:`${n}/membership-tiers`,component:v$e}),a.jsx(ot,{path:`${n}/announcements`,component:y$e}),a.jsx(ot,{path:`${n}/careers`,component:x$e}),a.jsx(ot,{path:`${n}/rules`,component:b$e}),a.jsx(ot,{path:`${n}/policies`,component:w$e}),a.jsx(ot,{path:`${n}/gallery`,component:j$e}),a.jsx(ot,{path:`${n}/site-images`,component:N$e}),a.jsx(ot,{path:`${n}/bookings`,component:S$e}),a.jsx(ot,{path:`${n}/branding`,component:_$e}),a.jsx(ot,{path:`${n}/faq`,component:W$e}),a.jsx(ot,{path:`${n}/members`,component:H$e}),a.jsx(ot,{path:n,component:hRe})]})}function G$e(){const{adminPath:e,isAuthorized:t}=mp(),[r]=ss();return t&&e&&r.startsWith(`/${e}`)?null:a.jsxs(eD,{children:[a.jsx(ot,{path:"/booking",component:use}),a.jsx(ot,{path:"/profile",component:Nse}),a.jsx(ot,{path:"/events/:slug",component:Kae}),a.jsx(ot,{path:"/events",component:zae}),a.jsx(ot,{path:"/leaderboard",component:Yae}),a.jsx(ot,{path:"/gallery",component:Qae}),a.jsx(ot,{path:"/vision",component:Xae}),a.jsx(ot,{path:"/facilities/:slug",component:die}),a.jsx(ot,{path:"/facilities",component:nie}),a.jsx(ot,{path:"/roadmap",component:hie}),a.jsx(ot,{path:"/rules",component:Rie}),a.jsx(ot,{path:"/careers",component:Mie}),a.jsx(ot,{path:"/terms",component:Die}),a.jsx(ot,{path:"/privacy",component:Lie}),a.jsx(ot,{path:"/coming-soon",component:_oe}),a.jsx(ot,{path:"/contact",component:Coe}),a.jsx(ot,{path:"/faq",component:Aoe}),a.jsx(ot,{path:"/membership",component:$oe}),a.jsx(ot,{path:"/updates",component:Moe}),a.jsx(ot,{path:"/login",component:ele}),a.jsx(ot,{path:"/signup",component:ile}),a.jsx(ot,{path:"/forgot-password",component:lle}),a.jsx(ot,{path:"/verify-email",component:dle}),a.jsx(ot,{path:"/auth/callback",component:fle}),a.jsx(ot,{path:"/auth/reset-password",component:ule}),a.jsx(ot,{path:"/",component:ase}),a.jsx(ot,{component:Doe})]})}function Y$e(){return a.jsxs(a.Fragment,{children:[a.jsx(K$e,{}),a.jsx(G$e,{})]})}function Q$e(){return a.jsx(H7,{client:Ne,children:a.jsx(hQ,{children:a.jsx(tJ,{children:a.jsxs(xQ,{children:[a.jsx(_G,{}),a.jsx(dJ,{}),a.jsx(Y$e,{}),a.jsx(rJ,{}),a.jsx(uJ,{})]})})})})}U4(document.getElementById("root")).render(a.jsx(Q$e,{}));
