var aP=e=>{throw TypeError(e)};var tw=(e,t,r)=>t.has(e)||aP("Cannot "+r);var W=(e,t,r)=>(tw(e,t,"read from private field"),r?r.call(e):t.get(e)),et=(e,t,r)=>t.has(e)?aP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ie=(e,t,r,n)=>(tw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),yt=(e,t,r)=>(tw(e,t,"access private method"),r);var ug=(e,t,r,n)=>({set _(a){Ie(e,t,a,r)},get _(){return W(e,t,n)}});function r7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ht(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var g$={exports:{}},Ly={},v$={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=Symbol.for("react.element"),n7=Symbol.for("react.portal"),s7=Symbol.for("react.fragment"),a7=Symbol.for("react.strict_mode"),i7=Symbol.for("react.profiler"),o7=Symbol.for("react.provider"),l7=Symbol.for("react.context"),c7=Symbol.for("react.forward_ref"),u7=Symbol.for("react.suspense"),d7=Symbol.for("react.memo"),f7=Symbol.for("react.lazy"),iP=Symbol.iterator;function h7(e){return e===null||typeof e!="object"?null:(e=iP&&e[iP]||e["@@iterator"],typeof e=="function"?e:null)}var x$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y$=Object.assign,b$={};function of(e,t,r){this.props=e,this.context=t,this.refs=b$,this.updater=r||x$}of.prototype.isReactComponent={};of.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};of.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function w$(){}w$.prototype=of.prototype;function yS(e,t,r){this.props=e,this.context=t,this.refs=b$,this.updater=r||x$}var bS=yS.prototype=new w$;bS.constructor=yS;y$(bS,of.prototype);bS.isPureReactComponent=!0;var oP=Array.isArray,j$=Object.prototype.hasOwnProperty,wS={current:null},N$={key:!0,ref:!0,__self:!0,__source:!0};function _$(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)j$.call(t,n)&&!N$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:bp,type:e,key:i,ref:o,props:a,_owner:wS.current}}function m7(e,t){return{$$typeof:bp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jS(e){return typeof e=="object"&&e!==null&&e.$$typeof===bp}function p7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lP=/\/+/g;function rw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?p7(""+e.key):t.toString(36)}function cv(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bp:case n7:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+rw(o,0):n,oP(a)?(r="",e!=null&&(r=e.replace(lP,"$&/")+"/"),cv(a,t,r,"",function(u){return u})):a!=null&&(jS(a)&&(a=m7(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(lP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",oP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+rw(i,l);o+=cv(i,t,r,c,a)}else if(c=h7(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+rw(i,l++),o+=cv(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fg(e,t,r){if(e==null)return e;var n=[],a=0;return cv(e,n,"","",function(i){return t.call(r,i,a++)}),n}function g7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jn={current:null},uv={transition:null},v7={ReactCurrentDispatcher:Jn,ReactCurrentBatchConfig:uv,ReactCurrentOwner:wS};function S$(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:fg,forEach:function(e,t,r){fg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fg(e,function(){t++}),t},toArray:function(e){return fg(e,function(t){return t})||[]},only:function(e){if(!jS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};St.Component=of;St.Fragment=s7;St.Profiler=i7;St.PureComponent=yS;St.StrictMode=a7;St.Suspense=u7;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v7;St.act=S$;St.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=y$({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=wS.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j$.call(t,c)&&!N$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bp,type:e.type,key:a,ref:i,props:n,_owner:o}};St.createContext=function(e){return e={$$typeof:l7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:o7,_context:e},e.Consumer=e};St.createElement=_$;St.createFactory=function(e){var t=_$.bind(null,e);return t.type=e,t};St.createRef=function(){return{current:null}};St.forwardRef=function(e){return{$$typeof:c7,render:e}};St.isValidElement=jS;St.lazy=function(e){return{$$typeof:f7,_payload:{_status:-1,_result:e},_init:g7}};St.memo=function(e,t){return{$$typeof:d7,type:e,compare:t===void 0?null:t}};St.startTransition=function(e){var t=uv.transition;uv.transition={};try{e()}finally{uv.transition=t}};St.unstable_act=S$;St.useCallback=function(e,t){return Jn.current.useCallback(e,t)};St.useContext=function(e){return Jn.current.useContext(e)};St.useDebugValue=function(){};St.useDeferredValue=function(e){return Jn.current.useDeferredValue(e)};St.useEffect=function(e,t){return Jn.current.useEffect(e,t)};St.useId=function(){return Jn.current.useId()};St.useImperativeHandle=function(e,t,r){return Jn.current.useImperativeHandle(e,t,r)};St.useInsertionEffect=function(e,t){return Jn.current.useInsertionEffect(e,t)};St.useLayoutEffect=function(e,t){return Jn.current.useLayoutEffect(e,t)};St.useMemo=function(e,t){return Jn.current.useMemo(e,t)};St.useReducer=function(e,t,r){return Jn.current.useReducer(e,t,r)};St.useRef=function(e){return Jn.current.useRef(e)};St.useState=function(e){return Jn.current.useState(e)};St.useSyncExternalStore=function(e,t,r){return Jn.current.useSyncExternalStore(e,t,r)};St.useTransition=function(){return Jn.current.useTransition()};St.version="18.3.1";v$.exports=St;var y=v$.exports;const D=Ht(y),Fy=r7({__proto__:null,default:D},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x7=y,y7=Symbol.for("react.element"),b7=Symbol.for("react.fragment"),w7=Object.prototype.hasOwnProperty,j7=x7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N7={key:!0,ref:!0,__self:!0,__source:!0};function k$(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)w7.call(t,n)&&!N7.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:y7,type:e,key:i,ref:o,props:a,_owner:j7.current}}Ly.Fragment=b7;Ly.jsx=k$;Ly.jsxs=k$;g$.exports=Ly;var s=g$.exports,C$={exports:{}},Fs={},P$={exports:{}},E$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,R){var G=A.length;A.push(R);e:for(;0<G;){var Y=G-1>>>1,F=A[Y];if(0<a(F,R))A[Y]=R,A[G]=F,G=Y;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var R=A[0],G=A.pop();if(G!==R){A[0]=G;e:for(var Y=0,F=A.length,X=F>>>1;Y<X;){var le=2*(Y+1)-1,he=A[le],je=le+1,ee=A[je];if(0>a(he,G))je<F&&0>a(ee,he)?(A[Y]=ee,A[je]=G,Y=je):(A[Y]=he,A[le]=G,Y=le);else if(je<F&&0>a(ee,G))A[Y]=ee,A[je]=G,Y=je;else break e}}return R}function a(A,R){var G=A.sortIndex-R.sortIndex;return G!==0?G:A.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,b=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=A)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function j(A){if(m=!1,v(A),!b)if(r(c)!==null)b=!0,V(N);else{var R=r(u);R!==null&&K(j,R.startTime-A)}}function N(A,R){b=!1,m&&(m=!1,x(k),k=-1),p=!0;var G=h;try{for(v(R),f=r(c);f!==null&&(!(f.expirationTime>R)||A&&!E());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var F=Y(f.expirationTime<=R);R=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),v(R)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var le=r(u);le!==null&&K(j,le.startTime-R),X=!1}return X}finally{f=null,h=G,p=!1}}var _=!1,S=null,k=-1,C=5,P=-1;function E(){return!(e.unstable_now()-P<C)}function O(){if(S!==null){var A=e.unstable_now();P=A;var R=!0;try{R=S(!0,A)}finally{R?I():(_=!1,S=null)}}else _=!1}var I;if(typeof g=="function")I=function(){g(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,M=T.port2;T.port1.onmessage=O,I=function(){M.postMessage(null)}}else I=function(){w(O,0)};function V(A){S=A,_||(_=!0,I())}function K(A,R){k=w(function(){A(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,V(N))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var G=h;h=R;try{return A()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,R){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var G=h;h=A;try{return R()}finally{h=G}},e.unstable_scheduleCallback=function(A,R,G){var Y=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Y+G:Y):G=Y,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=G+F,A={id:d++,callback:R,priorityLevel:A,startTime:G,expirationTime:F,sortIndex:-1},G>Y?(A.sortIndex=G,t(u,A),r(c)===null&&A===r(u)&&(m?(x(k),k=-1):m=!0,K(j,G-Y))):(A.sortIndex=F,t(c,A),b||p||(b=!0,V(N))),A},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(A){var R=h;return function(){var G=h;h=R;try{return A.apply(this,arguments)}finally{h=G}}}})(E$);P$.exports=E$;var _7=P$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S7=y,Ts=_7;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A$=new Set,Gh={};function Ec(e,t){hd(e,t),hd(e+"Capture",t)}function hd(e,t){for(Gh[e]=t,e=0;e<t.length;e++)A$.add(t[e])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fj=Object.prototype.hasOwnProperty,k7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cP={},uP={};function C7(e){return Fj.call(uP,e)?!0:Fj.call(cP,e)?!1:k7.test(e)?uP[e]=!0:(cP[e]=!0,!1)}function P7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E7(e,t,r,n){if(t===null||typeof t>"u"||P7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kn[e]=new Zn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kn[t]=new Zn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kn[e]=new Zn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kn[e]=new Zn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kn[e]=new Zn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kn[e]=new Zn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kn[e]=new Zn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kn[e]=new Zn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kn[e]=new Zn(e,5,!1,e.toLowerCase(),null,!1,!1)});var NS=/[\-:]([a-z])/g;function _S(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(NS,_S);kn[t]=new Zn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(NS,_S);kn[t]=new Zn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(NS,_S);kn[t]=new Zn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kn[e]=new Zn(e,1,!1,e.toLowerCase(),null,!1,!1)});kn.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kn[e]=new Zn(e,1,!1,e.toLowerCase(),null,!0,!0)});function SS(e,t,r,n){var a=kn.hasOwnProperty(t)?kn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E7(t,r,a,n)&&(r=null),n||a===null?C7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Yi=S7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hg=Symbol.for("react.element"),wu=Symbol.for("react.portal"),ju=Symbol.for("react.fragment"),kS=Symbol.for("react.strict_mode"),Uj=Symbol.for("react.profiler"),O$=Symbol.for("react.provider"),T$=Symbol.for("react.context"),CS=Symbol.for("react.forward_ref"),Bj=Symbol.for("react.suspense"),Vj=Symbol.for("react.suspense_list"),PS=Symbol.for("react.memo"),uo=Symbol.for("react.lazy"),I$=Symbol.for("react.offscreen"),dP=Symbol.iterator;function qf(e){return e===null||typeof e!="object"?null:(e=dP&&e[dP]||e["@@iterator"],typeof e=="function"?e:null)}var Pr=Object.assign,nw;function hh(e){if(nw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);nw=t&&t[1]||""}return`
`+nw+e}var sw=!1;function aw(e,t){if(!e||sw)return"";sw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{sw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?hh(e):""}function A7(e){switch(e.tag){case 5:return hh(e.type);case 16:return hh("Lazy");case 13:return hh("Suspense");case 19:return hh("SuspenseList");case 0:case 2:case 15:return e=aw(e.type,!1),e;case 11:return e=aw(e.type.render,!1),e;case 1:return e=aw(e.type,!0),e;default:return""}}function qj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ju:return"Fragment";case wu:return"Portal";case Uj:return"Profiler";case kS:return"StrictMode";case Bj:return"Suspense";case Vj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T$:return(e.displayName||"Context")+".Consumer";case O$:return(e._context.displayName||"Context")+".Provider";case CS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case PS:return t=e.displayName||null,t!==null?t:qj(e.type)||"Memo";case uo:t=e._payload,e=e._init;try{return qj(e(t))}catch{}}return null}function O7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qj(t);case 8:return t===kS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ko(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function R$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function T7(e){var t=R$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mg(e){e._valueTracker||(e._valueTracker=T7(e))}function $$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=R$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Av(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zj(e,t){var r=t.checked;return Pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function fP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ko(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function M$(e,t){t=t.checked,t!=null&&SS(e,"checked",t,!1)}function Wj(e,t){M$(e,t);var r=Ko(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kj(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kj(e,t.type,Ko(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kj(e,t,r){(t!=="number"||Av(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var mh=Array.isArray;function Vu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ko(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Hj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_e(92));if(mh(r)){if(1<r.length)throw Error(_e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ko(r)}}function D$(e,t){var r=Ko(t.value),n=Ko(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function pP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function L$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?L$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pg,F$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pg=pg||document.createElement("div"),pg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var kh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I7=["Webkit","ms","Moz","O"];Object.keys(kh).forEach(function(e){I7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kh[t]=kh[e]})});function U$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||kh.hasOwnProperty(e)&&kh[e]?(""+t).trim():t+"px"}function B$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=U$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var R7=Pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qj(e,t){if(t){if(R7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function Yj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xj=null;function ES(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jj=null,qu=null,zu=null;function gP(e){if(e=Np(e)){if(typeof Jj!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=zy(t),Jj(e.stateNode,e.type,t))}}function V$(e){qu?zu?zu.push(e):zu=[e]:qu=e}function q$(){if(qu){var e=qu,t=zu;if(zu=qu=null,gP(e),t)for(e=0;e<t.length;e++)gP(t[e])}}function z$(e,t){return e(t)}function W$(){}var iw=!1;function K$(e,t,r){if(iw)return e(t,r);iw=!0;try{return z$(e,t,r)}finally{iw=!1,(qu!==null||zu!==null)&&(W$(),q$())}}function Yh(e,t){var r=e.stateNode;if(r===null)return null;var n=zy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_e(231,t,typeof r));return r}var Zj=!1;if(Li)try{var zf={};Object.defineProperty(zf,"passive",{get:function(){Zj=!0}}),window.addEventListener("test",zf,zf),window.removeEventListener("test",zf,zf)}catch{Zj=!1}function $7(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ch=!1,Ov=null,Tv=!1,e1=null,M7={onError:function(e){Ch=!0,Ov=e}};function D7(e,t,r,n,a,i,o,l,c){Ch=!1,Ov=null,$7.apply(M7,arguments)}function L7(e,t,r,n,a,i,o,l,c){if(D7.apply(this,arguments),Ch){if(Ch){var u=Ov;Ch=!1,Ov=null}else throw Error(_e(198));Tv||(Tv=!0,e1=u)}}function Ac(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function H$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vP(e){if(Ac(e)!==e)throw Error(_e(188))}function F7(e){var t=e.alternate;if(!t){if(t=Ac(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return vP(a),e;if(i===n)return vP(a),t;i=i.sibling}throw Error(_e(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(_e(189))}}if(r.alternate!==n)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?e:t}function G$(e){return e=F7(e),e!==null?Q$(e):null}function Q$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Q$(e);if(t!==null)return t;e=e.sibling}return null}var Y$=Ts.unstable_scheduleCallback,xP=Ts.unstable_cancelCallback,U7=Ts.unstable_shouldYield,B7=Ts.unstable_requestPaint,Lr=Ts.unstable_now,V7=Ts.unstable_getCurrentPriorityLevel,AS=Ts.unstable_ImmediatePriority,X$=Ts.unstable_UserBlockingPriority,Iv=Ts.unstable_NormalPriority,q7=Ts.unstable_LowPriority,J$=Ts.unstable_IdlePriority,Uy=null,Za=null;function z7(e){if(Za&&typeof Za.onCommitFiberRoot=="function")try{Za.onCommitFiberRoot(Uy,e,void 0,(e.current.flags&128)===128)}catch{}}var Pa=Math.clz32?Math.clz32:H7,W7=Math.log,K7=Math.LN2;function H7(e){return e>>>=0,e===0?32:31-(W7(e)/K7|0)|0}var gg=64,vg=4194304;function ph(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=ph(l):(i&=o,i!==0&&(n=ph(i)))}else o=r&~a,o!==0?n=ph(o):i!==0&&(n=ph(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pa(t),a=1<<r,n|=e[r],t&=~a;return n}function G7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q7(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Pa(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=G7(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function t1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Z$(){var e=gg;return gg<<=1,!(gg&4194240)&&(gg=64),e}function ow(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pa(t),e[t]=r}function Y7(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Pa(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function OS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Jt=0;function eM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tM,TS,rM,nM,sM,r1=!1,xg=[],Io=null,Ro=null,$o=null,Xh=new Map,Jh=new Map,vo=[],X7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yP(e,t){switch(e){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":Xh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jh.delete(t.pointerId)}}function Wf(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Np(t),t!==null&&TS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function J7(e,t,r,n,a){switch(t){case"focusin":return Io=Wf(Io,e,t,r,n,a),!0;case"dragenter":return Ro=Wf(Ro,e,t,r,n,a),!0;case"mouseover":return $o=Wf($o,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Xh.set(i,Wf(Xh.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Jh.set(i,Wf(Jh.get(i)||null,e,t,r,n,a)),!0}return!1}function aM(e){var t=$l(e.target);if(t!==null){var r=Ac(t);if(r!==null){if(t=r.tag,t===13){if(t=H$(r),t!==null){e.blockedOn=t,sM(e.priority,function(){rM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=n1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Xj=n,r.target.dispatchEvent(n),Xj=null}else return t=Np(r),t!==null&&TS(t),e.blockedOn=r,!1;t.shift()}return!0}function bP(e,t,r){dv(e)&&r.delete(t)}function Z7(){r1=!1,Io!==null&&dv(Io)&&(Io=null),Ro!==null&&dv(Ro)&&(Ro=null),$o!==null&&dv($o)&&($o=null),Xh.forEach(bP),Jh.forEach(bP)}function Kf(e,t){e.blockedOn===t&&(e.blockedOn=null,r1||(r1=!0,Ts.unstable_scheduleCallback(Ts.unstable_NormalPriority,Z7)))}function Zh(e){function t(a){return Kf(a,e)}if(0<xg.length){Kf(xg[0],e);for(var r=1;r<xg.length;r++){var n=xg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Io!==null&&Kf(Io,e),Ro!==null&&Kf(Ro,e),$o!==null&&Kf($o,e),Xh.forEach(t),Jh.forEach(t),r=0;r<vo.length;r++)n=vo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vo.length&&(r=vo[0],r.blockedOn===null);)aM(r),r.blockedOn===null&&vo.shift()}var Wu=Yi.ReactCurrentBatchConfig,$v=!0;function ez(e,t,r,n){var a=Jt,i=Wu.transition;Wu.transition=null;try{Jt=1,IS(e,t,r,n)}finally{Jt=a,Wu.transition=i}}function tz(e,t,r,n){var a=Jt,i=Wu.transition;Wu.transition=null;try{Jt=4,IS(e,t,r,n)}finally{Jt=a,Wu.transition=i}}function IS(e,t,r,n){if($v){var a=n1(e,t,r,n);if(a===null)vw(e,t,n,Mv,r),yP(e,n);else if(J7(a,e,t,r,n))n.stopPropagation();else if(yP(e,n),t&4&&-1<X7.indexOf(e)){for(;a!==null;){var i=Np(a);if(i!==null&&tM(i),i=n1(e,t,r,n),i===null&&vw(e,t,n,Mv,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else vw(e,t,n,null,r)}}var Mv=null;function n1(e,t,r,n){if(Mv=null,e=ES(n),e=$l(e),e!==null)if(t=Ac(e),t===null)e=null;else if(r=t.tag,r===13){if(e=H$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mv=e,null}function iM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V7()){case AS:return 1;case X$:return 4;case Iv:case q7:return 16;case J$:return 536870912;default:return 16}default:return 16}}var Ao=null,RS=null,fv=null;function oM(){if(fv)return fv;var e,t=RS,r=t.length,n,a="value"in Ao?Ao.value:Ao.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return fv=a.slice(e,1<n?1-n:void 0)}function hv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yg(){return!0}function wP(){return!1}function Us(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yg:wP,this.isPropagationStopped=wP,this}return Pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yg)},persist:function(){},isPersistent:yg}),t}var lf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$S=Us(lf),jp=Pr({},lf,{view:0,detail:0}),rz=Us(jp),lw,cw,Hf,By=Pr({},jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:MS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hf&&(Hf&&e.type==="mousemove"?(lw=e.screenX-Hf.screenX,cw=e.screenY-Hf.screenY):cw=lw=0,Hf=e),lw)},movementY:function(e){return"movementY"in e?e.movementY:cw}}),jP=Us(By),nz=Pr({},By,{dataTransfer:0}),sz=Us(nz),az=Pr({},jp,{relatedTarget:0}),uw=Us(az),iz=Pr({},lf,{animationName:0,elapsedTime:0,pseudoElement:0}),oz=Us(iz),lz=Pr({},lf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cz=Us(lz),uz=Pr({},lf,{data:0}),NP=Us(uz),dz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hz[e])?!!t[e]:!1}function MS(){return mz}var pz=Pr({},jp,{key:function(e){if(e.key){var t=dz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:MS,charCode:function(e){return e.type==="keypress"?hv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gz=Us(pz),vz=Pr({},By,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_P=Us(vz),xz=Pr({},jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:MS}),yz=Us(xz),bz=Pr({},lf,{propertyName:0,elapsedTime:0,pseudoElement:0}),wz=Us(bz),jz=Pr({},By,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nz=Us(jz),_z=[9,13,27,32],DS=Li&&"CompositionEvent"in window,Ph=null;Li&&"documentMode"in document&&(Ph=document.documentMode);var Sz=Li&&"TextEvent"in window&&!Ph,lM=Li&&(!DS||Ph&&8<Ph&&11>=Ph),SP=" ",kP=!1;function cM(e,t){switch(e){case"keyup":return _z.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nu=!1;function kz(e,t){switch(e){case"compositionend":return uM(t);case"keypress":return t.which!==32?null:(kP=!0,SP);case"textInput":return e=t.data,e===SP&&kP?null:e;default:return null}}function Cz(e,t){if(Nu)return e==="compositionend"||!DS&&cM(e,t)?(e=oM(),fv=RS=Ao=null,Nu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lM&&t.locale!=="ko"?null:t.data;default:return null}}var Pz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pz[e.type]:t==="textarea"}function dM(e,t,r,n){V$(n),t=Dv(t,"onChange"),0<t.length&&(r=new $S("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Eh=null,em=null;function Ez(e){jM(e,0)}function Vy(e){var t=ku(e);if($$(t))return e}function Az(e,t){if(e==="change")return t}var fM=!1;if(Li){var dw;if(Li){var fw="oninput"in document;if(!fw){var PP=document.createElement("div");PP.setAttribute("oninput","return;"),fw=typeof PP.oninput=="function"}dw=fw}else dw=!1;fM=dw&&(!document.documentMode||9<document.documentMode)}function EP(){Eh&&(Eh.detachEvent("onpropertychange",hM),em=Eh=null)}function hM(e){if(e.propertyName==="value"&&Vy(em)){var t=[];dM(t,em,e,ES(e)),K$(Ez,t)}}function Oz(e,t,r){e==="focusin"?(EP(),Eh=t,em=r,Eh.attachEvent("onpropertychange",hM)):e==="focusout"&&EP()}function Tz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vy(em)}function Iz(e,t){if(e==="click")return Vy(t)}function Rz(e,t){if(e==="input"||e==="change")return Vy(t)}function $z(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ia=typeof Object.is=="function"?Object.is:$z;function tm(e,t){if(Ia(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Fj.call(t,a)||!Ia(e[a],t[a]))return!1}return!0}function AP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function OP(e,t){var r=AP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=AP(r)}}function mM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pM(){for(var e=window,t=Av();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Av(e.document)}return t}function LS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mz(e){var t=pM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&mM(r.ownerDocument.documentElement,r)){if(n!==null&&LS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=OP(r,i);var o=OP(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dz=Li&&"documentMode"in document&&11>=document.documentMode,_u=null,s1=null,Ah=null,a1=!1;function TP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;a1||_u==null||_u!==Av(n)||(n=_u,"selectionStart"in n&&LS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ah&&tm(Ah,n)||(Ah=n,n=Dv(s1,"onSelect"),0<n.length&&(t=new $S("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_u)))}function bg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Su={animationend:bg("Animation","AnimationEnd"),animationiteration:bg("Animation","AnimationIteration"),animationstart:bg("Animation","AnimationStart"),transitionend:bg("Transition","TransitionEnd")},hw={},gM={};Li&&(gM=document.createElement("div").style,"AnimationEvent"in window||(delete Su.animationend.animation,delete Su.animationiteration.animation,delete Su.animationstart.animation),"TransitionEvent"in window||delete Su.transitionend.transition);function qy(e){if(hw[e])return hw[e];if(!Su[e])return e;var t=Su[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in gM)return hw[e]=t[r];return e}var vM=qy("animationend"),xM=qy("animationiteration"),yM=qy("animationstart"),bM=qy("transitionend"),wM=new Map,IP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){wM.set(e,t),Ec(t,[e])}for(var mw=0;mw<IP.length;mw++){var pw=IP[mw],Lz=pw.toLowerCase(),Fz=pw[0].toUpperCase()+pw.slice(1);rl(Lz,"on"+Fz)}rl(vM,"onAnimationEnd");rl(xM,"onAnimationIteration");rl(yM,"onAnimationStart");rl("dblclick","onDoubleClick");rl("focusin","onFocus");rl("focusout","onBlur");rl(bM,"onTransitionEnd");hd("onMouseEnter",["mouseout","mouseover"]);hd("onMouseLeave",["mouseout","mouseover"]);hd("onPointerEnter",["pointerout","pointerover"]);hd("onPointerLeave",["pointerout","pointerover"]);Ec("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ec("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ec("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ec("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ec("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ec("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uz=new Set("cancel close invalid load scroll toggle".split(" ").concat(gh));function RP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,L7(n,t,void 0,e),e.currentTarget=null}function jM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;RP(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;RP(a,l,u),i=c}}}if(Tv)throw e=e1,Tv=!1,e1=null,e}function pr(e,t){var r=t[u1];r===void 0&&(r=t[u1]=new Set);var n=e+"__bubble";r.has(n)||(NM(t,e,2,!1),r.add(n))}function gw(e,t,r){var n=0;t&&(n|=4),NM(r,e,n,t)}var wg="_reactListening"+Math.random().toString(36).slice(2);function rm(e){if(!e[wg]){e[wg]=!0,A$.forEach(function(r){r!=="selectionchange"&&(Uz.has(r)||gw(r,!1,e),gw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wg]||(t[wg]=!0,gw("selectionchange",!1,t))}}function NM(e,t,r,n){switch(iM(t)){case 1:var a=ez;break;case 4:a=tz;break;default:a=IS}r=a.bind(null,t,r,e),a=void 0,!Zj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function vw(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=$l(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}K$(function(){var u=i,d=ES(r),f=[];e:{var h=wM.get(e);if(h!==void 0){var p=$S,b=e;switch(e){case"keypress":if(hv(r)===0)break e;case"keydown":case"keyup":p=gz;break;case"focusin":b="focus",p=uw;break;case"focusout":b="blur",p=uw;break;case"beforeblur":case"afterblur":p=uw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yz;break;case vM:case xM:case yM:p=oz;break;case bM:p=wz;break;case"scroll":p=rz;break;case"wheel":p=Nz;break;case"copy":case"cut":case"paste":p=cz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_P}var m=(t&4)!==0,w=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,v;g!==null;){v=g;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,x!==null&&(j=Yh(g,x),j!=null&&m.push(nm(g,j,v)))),w)break;g=g.return}0<m.length&&(h=new p(h,b,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Xj&&(b=r.relatedTarget||r.fromElement)&&($l(b)||b[Fi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?$l(b):null,b!==null&&(w=Ac(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(m=jP,j="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=_P,j="onPointerLeave",x="onPointerEnter",g="pointer"),w=p==null?h:ku(p),v=b==null?h:ku(b),h=new m(j,g+"leave",p,r,d),h.target=w,h.relatedTarget=v,j=null,$l(d)===u&&(m=new m(x,g+"enter",b,r,d),m.target=v,m.relatedTarget=w,j=m),w=j,p&&b)t:{for(m=p,x=b,g=0,v=m;v;v=Xc(v))g++;for(v=0,j=x;j;j=Xc(j))v++;for(;0<g-v;)m=Xc(m),g--;for(;0<v-g;)x=Xc(x),v--;for(;g--;){if(m===x||x!==null&&m===x.alternate)break t;m=Xc(m),x=Xc(x)}m=null}else m=null;p!==null&&$P(f,h,p,m,!1),b!==null&&w!==null&&$P(f,w,b,m,!0)}}e:{if(h=u?ku(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=Az;else if(CP(h))if(fM)N=Rz;else{N=Tz;var _=Oz}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Iz);if(N&&(N=N(e,u))){dM(f,N,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Kj(h,"number",h.value)}switch(_=u?ku(u):window,e){case"focusin":(CP(_)||_.contentEditable==="true")&&(_u=_,s1=u,Ah=null);break;case"focusout":Ah=s1=_u=null;break;case"mousedown":a1=!0;break;case"contextmenu":case"mouseup":case"dragend":a1=!1,TP(f,r,d);break;case"selectionchange":if(Dz)break;case"keydown":case"keyup":TP(f,r,d)}var S;if(DS)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Nu?cM(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(lM&&r.locale!=="ko"&&(Nu||k!=="onCompositionStart"?k==="onCompositionEnd"&&Nu&&(S=oM()):(Ao=d,RS="value"in Ao?Ao.value:Ao.textContent,Nu=!0)),_=Dv(u,k),0<_.length&&(k=new NP(k,e,null,r,d),f.push({event:k,listeners:_}),S?k.data=S:(S=uM(r),S!==null&&(k.data=S)))),(S=Sz?kz(e,r):Cz(e,r))&&(u=Dv(u,"onBeforeInput"),0<u.length&&(d=new NP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}jM(f,t)})}function nm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Dv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Yh(e,r),i!=null&&n.unshift(nm(e,i,a)),i=Yh(e,t),i!=null&&n.push(nm(e,i,a))),e=e.return}return n}function Xc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $P(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Yh(r,i),c!=null&&o.unshift(nm(r,c,l))):a||(c=Yh(r,i),c!=null&&o.push(nm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Bz=/\r\n?/g,Vz=/\u0000|\uFFFD/g;function MP(e){return(typeof e=="string"?e:""+e).replace(Bz,`
`).replace(Vz,"")}function jg(e,t,r){if(t=MP(t),MP(e)!==t&&r)throw Error(_e(425))}function Lv(){}var i1=null,o1=null;function l1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var c1=typeof setTimeout=="function"?setTimeout:void 0,qz=typeof clearTimeout=="function"?clearTimeout:void 0,DP=typeof Promise=="function"?Promise:void 0,zz=typeof queueMicrotask=="function"?queueMicrotask:typeof DP<"u"?function(e){return DP.resolve(null).then(e).catch(Wz)}:c1;function Wz(e){setTimeout(function(){throw e})}function xw(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Zh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Zh(t)}function Mo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function LP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var cf=Math.random().toString(36).slice(2),Qa="__reactFiber$"+cf,sm="__reactProps$"+cf,Fi="__reactContainer$"+cf,u1="__reactEvents$"+cf,Kz="__reactListeners$"+cf,Hz="__reactHandles$"+cf;function $l(e){var t=e[Qa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fi]||r[Qa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=LP(e);e!==null;){if(r=e[Qa])return r;e=LP(e)}return t}e=r,r=e.parentNode}return null}function Np(e){return e=e[Qa]||e[Fi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ku(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function zy(e){return e[sm]||null}var d1=[],Cu=-1;function nl(e){return{current:e}}function xr(e){0>Cu||(e.current=d1[Cu],d1[Cu]=null,Cu--)}function fr(e,t){Cu++,d1[Cu]=e.current,e.current=t}var Ho={},$n=nl(Ho),us=nl(!1),ac=Ho;function md(e,t){var r=e.type.contextTypes;if(!r)return Ho;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ds(e){return e=e.childContextTypes,e!=null}function Fv(){xr(us),xr($n)}function FP(e,t,r){if($n.current!==Ho)throw Error(_e(168));fr($n,t),fr(us,r)}function _M(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(_e(108,O7(e)||"Unknown",a));return Pr({},r,n)}function Uv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ho,ac=$n.current,fr($n,e),fr(us,us.current),!0}function UP(e,t,r){var n=e.stateNode;if(!n)throw Error(_e(169));r?(e=_M(e,t,ac),n.__reactInternalMemoizedMergedChildContext=e,xr(us),xr($n),fr($n,e)):xr(us),fr(us,r)}var ji=null,Wy=!1,yw=!1;function SM(e){ji===null?ji=[e]:ji.push(e)}function Gz(e){Wy=!0,SM(e)}function sl(){if(!yw&&ji!==null){yw=!0;var e=0,t=Jt;try{var r=ji;for(Jt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ji=null,Wy=!1}catch(a){throw ji!==null&&(ji=ji.slice(e+1)),Y$(AS,sl),a}finally{Jt=t,yw=!1}}return null}var Pu=[],Eu=0,Bv=null,Vv=0,Ks=[],Hs=0,ic=null,Ci=1,Pi="";function Sl(e,t){Pu[Eu++]=Vv,Pu[Eu++]=Bv,Bv=e,Vv=t}function kM(e,t,r){Ks[Hs++]=Ci,Ks[Hs++]=Pi,Ks[Hs++]=ic,ic=e;var n=Ci;e=Pi;var a=32-Pa(n)-1;n&=~(1<<a),r+=1;var i=32-Pa(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ci=1<<32-Pa(t)+a|r<<a|n,Pi=i+e}else Ci=1<<i|r<<a|n,Pi=e}function FS(e){e.return!==null&&(Sl(e,1),kM(e,1,0))}function US(e){for(;e===Bv;)Bv=Pu[--Eu],Pu[Eu]=null,Vv=Pu[--Eu],Pu[Eu]=null;for(;e===ic;)ic=Ks[--Hs],Ks[Hs]=null,Pi=Ks[--Hs],Ks[Hs]=null,Ci=Ks[--Hs],Ks[Hs]=null}var Es=null,Ps=null,yr=!1,_a=null;function CM(e,t){var r=Qs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function BP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Es=e,Ps=Mo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Es=e,Ps=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ic!==null?{id:Ci,overflow:Pi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Es=e,Ps=null,!0):!1;default:return!1}}function f1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function h1(e){if(yr){var t=Ps;if(t){var r=t;if(!BP(e,t)){if(f1(e))throw Error(_e(418));t=Mo(r.nextSibling);var n=Es;t&&BP(e,t)?CM(n,r):(e.flags=e.flags&-4097|2,yr=!1,Es=e)}}else{if(f1(e))throw Error(_e(418));e.flags=e.flags&-4097|2,yr=!1,Es=e}}}function VP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Es=e}function Ng(e){if(e!==Es)return!1;if(!yr)return VP(e),yr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!l1(e.type,e.memoizedProps)),t&&(t=Ps)){if(f1(e))throw PM(),Error(_e(418));for(;t;)CM(e,t),t=Mo(t.nextSibling)}if(VP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ps=Mo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ps=null}}else Ps=Es?Mo(e.stateNode.nextSibling):null;return!0}function PM(){for(var e=Ps;e;)e=Mo(e.nextSibling)}function pd(){Ps=Es=null,yr=!1}function BS(e){_a===null?_a=[e]:_a.push(e)}var Qz=Yi.ReactCurrentBatchConfig;function Gf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var n=r.stateNode}if(!n)throw Error(_e(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,e))}return e}function _g(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qP(e){var t=e._init;return t(e._payload)}function EM(e){function t(x,g){if(e){var v=x.deletions;v===null?(x.deletions=[g],x.flags|=16):v.push(g)}}function r(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function a(x,g){return x=Uo(x,g),x.index=0,x.sibling=null,x}function i(x,g,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<g?(x.flags|=2,g):v):(x.flags|=2,g)):(x.flags|=1048576,g)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,v,j){return g===null||g.tag!==6?(g=kw(v,x.mode,j),g.return=x,g):(g=a(g,v),g.return=x,g)}function c(x,g,v,j){var N=v.type;return N===ju?d(x,g,v.props.children,j,v.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===uo&&qP(N)===g.type)?(j=a(g,v.props),j.ref=Gf(x,g,v),j.return=x,j):(j=bv(v.type,v.key,v.props,null,x.mode,j),j.ref=Gf(x,g,v),j.return=x,j)}function u(x,g,v,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Cw(v,x.mode,j),g.return=x,g):(g=a(g,v.children||[]),g.return=x,g)}function d(x,g,v,j,N){return g===null||g.tag!==7?(g=tc(v,x.mode,j,N),g.return=x,g):(g=a(g,v),g.return=x,g)}function f(x,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=kw(""+g,x.mode,v),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hg:return v=bv(g.type,g.key,g.props,null,x.mode,v),v.ref=Gf(x,null,g),v.return=x,v;case wu:return g=Cw(g,x.mode,v),g.return=x,g;case uo:var j=g._init;return f(x,j(g._payload),v)}if(mh(g)||qf(g))return g=tc(g,x.mode,v,null),g.return=x,g;_g(x,g)}return null}function h(x,g,v,j){var N=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(x,g,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hg:return v.key===N?c(x,g,v,j):null;case wu:return v.key===N?u(x,g,v,j):null;case uo:return N=v._init,h(x,g,N(v._payload),j)}if(mh(v)||qf(v))return N!==null?null:d(x,g,v,j,null);_g(x,v)}return null}function p(x,g,v,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(v)||null,l(g,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case hg:return x=x.get(j.key===null?v:j.key)||null,c(g,x,j,N);case wu:return x=x.get(j.key===null?v:j.key)||null,u(g,x,j,N);case uo:var _=j._init;return p(x,g,v,_(j._payload),N)}if(mh(j)||qf(j))return x=x.get(v)||null,d(g,x,j,N,null);_g(g,j)}return null}function b(x,g,v,j){for(var N=null,_=null,S=g,k=g=0,C=null;S!==null&&k<v.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var P=h(x,S,v[k],j);if(P===null){S===null&&(S=C);break}e&&S&&P.alternate===null&&t(x,S),g=i(P,g,k),_===null?N=P:_.sibling=P,_=P,S=C}if(k===v.length)return r(x,S),yr&&Sl(x,k),N;if(S===null){for(;k<v.length;k++)S=f(x,v[k],j),S!==null&&(g=i(S,g,k),_===null?N=S:_.sibling=S,_=S);return yr&&Sl(x,k),N}for(S=n(x,S);k<v.length;k++)C=p(S,x,k,v[k],j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),g=i(C,g,k),_===null?N=C:_.sibling=C,_=C);return e&&S.forEach(function(E){return t(x,E)}),yr&&Sl(x,k),N}function m(x,g,v,j){var N=qf(v);if(typeof N!="function")throw Error(_e(150));if(v=N.call(v),v==null)throw Error(_e(151));for(var _=N=null,S=g,k=g=0,C=null,P=v.next();S!==null&&!P.done;k++,P=v.next()){S.index>k?(C=S,S=null):C=S.sibling;var E=h(x,S,P.value,j);if(E===null){S===null&&(S=C);break}e&&S&&E.alternate===null&&t(x,S),g=i(E,g,k),_===null?N=E:_.sibling=E,_=E,S=C}if(P.done)return r(x,S),yr&&Sl(x,k),N;if(S===null){for(;!P.done;k++,P=v.next())P=f(x,P.value,j),P!==null&&(g=i(P,g,k),_===null?N=P:_.sibling=P,_=P);return yr&&Sl(x,k),N}for(S=n(x,S);!P.done;k++,P=v.next())P=p(S,x,k,P.value,j),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?k:P.key),g=i(P,g,k),_===null?N=P:_.sibling=P,_=P);return e&&S.forEach(function(O){return t(x,O)}),yr&&Sl(x,k),N}function w(x,g,v,j){if(typeof v=="object"&&v!==null&&v.type===ju&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case hg:e:{for(var N=v.key,_=g;_!==null;){if(_.key===N){if(N=v.type,N===ju){if(_.tag===7){r(x,_.sibling),g=a(_,v.props.children),g.return=x,x=g;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===uo&&qP(N)===_.type){r(x,_.sibling),g=a(_,v.props),g.ref=Gf(x,_,v),g.return=x,x=g;break e}r(x,_);break}else t(x,_);_=_.sibling}v.type===ju?(g=tc(v.props.children,x.mode,j,v.key),g.return=x,x=g):(j=bv(v.type,v.key,v.props,null,x.mode,j),j.ref=Gf(x,g,v),j.return=x,x=j)}return o(x);case wu:e:{for(_=v.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(x,g.sibling),g=a(g,v.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else t(x,g);g=g.sibling}g=Cw(v,x.mode,j),g.return=x,x=g}return o(x);case uo:return _=v._init,w(x,g,_(v._payload),j)}if(mh(v))return b(x,g,v,j);if(qf(v))return m(x,g,v,j);_g(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(x,g.sibling),g=a(g,v),g.return=x,x=g):(r(x,g),g=kw(v,x.mode,j),g.return=x,x=g),o(x)):r(x,g)}return w}var gd=EM(!0),AM=EM(!1),qv=nl(null),zv=null,Au=null,VS=null;function qS(){VS=Au=zv=null}function zS(e){var t=qv.current;xr(qv),e._currentValue=t}function m1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ku(e,t){zv=e,VS=Au=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(os=!0),e.firstContext=null)}function ta(e){var t=e._currentValue;if(VS!==e)if(e={context:e,memoizedValue:t,next:null},Au===null){if(zv===null)throw Error(_e(308));Au=e,zv.dependencies={lanes:0,firstContext:e}}else Au=Au.next=e;return t}var Ml=null;function WS(e){Ml===null?Ml=[e]:Ml.push(e)}function OM(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,WS(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ui(e,n)}function Ui(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fo=!1;function KS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ii(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Mt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ui(e,r)}return a=n.interleaved,a===null?(t.next=t,WS(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ui(e,r)}function mv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,OS(e,r)}}function zP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wv(e,t,r,n){var a=e.updateQueue;fo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,m=l;switch(h=t,p=r,m.tag){case 1:if(b=m.payload,typeof b=="function"){f=b.call(p,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=m.payload,h=typeof b=="function"?b.call(p,f,h):b,h==null)break e;f=Pr({},f,h);break e;case 2:fo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);lc|=o,e.lanes=o,e.memoizedState=f}}function WP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(_e(191,a));a.call(n)}}}var _p={},ei=nl(_p),am=nl(_p),im=nl(_p);function Dl(e){if(e===_p)throw Error(_e(174));return e}function HS(e,t){switch(fr(im,t),fr(am,e),fr(ei,_p),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gj(t,e)}xr(ei),fr(ei,t)}function vd(){xr(ei),xr(am),xr(im)}function IM(e){Dl(im.current);var t=Dl(ei.current),r=Gj(t,e.type);t!==r&&(fr(am,e),fr(ei,r))}function GS(e){am.current===e&&(xr(ei),xr(am))}var _r=nl(0);function Kv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bw=[];function QS(){for(var e=0;e<bw.length;e++)bw[e]._workInProgressVersionPrimary=null;bw.length=0}var pv=Yi.ReactCurrentDispatcher,ww=Yi.ReactCurrentBatchConfig,oc=0,Cr=null,sn=null,mn=null,Hv=!1,Oh=!1,om=0,Yz=0;function En(){throw Error(_e(321))}function YS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ia(e[r],t[r]))return!1;return!0}function XS(e,t,r,n,a,i){if(oc=i,Cr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pv.current=e===null||e.memoizedState===null?eW:tW,e=r(n,a),Oh){i=0;do{if(Oh=!1,om=0,25<=i)throw Error(_e(301));i+=1,mn=sn=null,t.updateQueue=null,pv.current=rW,e=r(n,a)}while(Oh)}if(pv.current=Gv,t=sn!==null&&sn.next!==null,oc=0,mn=sn=Cr=null,Hv=!1,t)throw Error(_e(300));return e}function JS(){var e=om!==0;return om=0,e}function za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Cr.memoizedState=mn=e:mn=mn.next=e,mn}function ra(){if(sn===null){var e=Cr.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=mn===null?Cr.memoizedState:mn.next;if(t!==null)mn=t,sn=e;else{if(e===null)throw Error(_e(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},mn===null?Cr.memoizedState=mn=e:mn=mn.next=e}return mn}function lm(e,t){return typeof t=="function"?t(e):t}function jw(e){var t=ra(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=sn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((oc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Cr.lanes|=d,lc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Ia(n,t.memoizedState)||(os=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Cr.lanes|=i,lc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nw(e){var t=ra(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ia(i,t.memoizedState)||(os=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function RM(){}function $M(e,t){var r=Cr,n=ra(),a=t(),i=!Ia(n.memoizedState,a);if(i&&(n.memoizedState=a,os=!0),n=n.queue,ZS(LM.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||mn!==null&&mn.memoizedState.tag&1){if(r.flags|=2048,cm(9,DM.bind(null,r,n,a,t),void 0,null),gn===null)throw Error(_e(349));oc&30||MM(r,t,a)}return a}function MM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Cr.updateQueue,t===null?(t={lastEffect:null,stores:null},Cr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function DM(e,t,r,n){t.value=r,t.getSnapshot=n,FM(t)&&UM(e)}function LM(e,t,r){return r(function(){FM(t)&&UM(e)})}function FM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ia(e,r)}catch{return!0}}function UM(e){var t=Ui(e,1);t!==null&&Ea(t,e,1,-1)}function KP(e){var t=za();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:e},t.queue=e,e=e.dispatch=Zz.bind(null,Cr,e),[t.memoizedState,e]}function cm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Cr.updateQueue,t===null?(t={lastEffect:null,stores:null},Cr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function BM(){return ra().memoizedState}function gv(e,t,r,n){var a=za();Cr.flags|=e,a.memoizedState=cm(1|t,r,void 0,n===void 0?null:n)}function Ky(e,t,r,n){var a=ra();n=n===void 0?null:n;var i=void 0;if(sn!==null){var o=sn.memoizedState;if(i=o.destroy,n!==null&&YS(n,o.deps)){a.memoizedState=cm(t,r,i,n);return}}Cr.flags|=e,a.memoizedState=cm(1|t,r,i,n)}function HP(e,t){return gv(8390656,8,e,t)}function ZS(e,t){return Ky(2048,8,e,t)}function VM(e,t){return Ky(4,2,e,t)}function qM(e,t){return Ky(4,4,e,t)}function zM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function WM(e,t,r){return r=r!=null?r.concat([e]):null,Ky(4,4,zM.bind(null,t,e),r)}function ek(){}function KM(e,t){var r=ra();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&YS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HM(e,t){var r=ra();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&YS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function GM(e,t,r){return oc&21?(Ia(r,t)||(r=Z$(),Cr.lanes|=r,lc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,os=!0),e.memoizedState=r)}function Xz(e,t){var r=Jt;Jt=r!==0&&4>r?r:4,e(!0);var n=ww.transition;ww.transition={};try{e(!1),t()}finally{Jt=r,ww.transition=n}}function QM(){return ra().memoizedState}function Jz(e,t,r){var n=Fo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},YM(e))XM(t,r);else if(r=OM(e,t,r,n),r!==null){var a=Gn();Ea(r,e,n,a),JM(r,t,n)}}function Zz(e,t,r){var n=Fo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(YM(e))XM(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ia(l,o)){var c=t.interleaved;c===null?(a.next=a,WS(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=OM(e,t,a,n),r!==null&&(a=Gn(),Ea(r,e,n,a),JM(r,t,n))}}function YM(e){var t=e.alternate;return e===Cr||t!==null&&t===Cr}function XM(e,t){Oh=Hv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function JM(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,OS(e,r)}}var Gv={readContext:ta,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},eW={readContext:ta,useCallback:function(e,t){return za().memoizedState=[e,t===void 0?null:t],e},useContext:ta,useEffect:HP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,gv(4194308,4,zM.bind(null,t,e),r)},useLayoutEffect:function(e,t){return gv(4194308,4,e,t)},useInsertionEffect:function(e,t){return gv(4,2,e,t)},useMemo:function(e,t){var r=za();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=za();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Jz.bind(null,Cr,e),[n.memoizedState,e]},useRef:function(e){var t=za();return e={current:e},t.memoizedState=e},useState:KP,useDebugValue:ek,useDeferredValue:function(e){return za().memoizedState=e},useTransition:function(){var e=KP(!1),t=e[0];return e=Xz.bind(null,e[1]),za().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Cr,a=za();if(yr){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=t(),gn===null)throw Error(_e(349));oc&30||MM(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,HP(LM.bind(null,n,i,e),[e]),n.flags|=2048,cm(9,DM.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=za(),t=gn.identifierPrefix;if(yr){var r=Pi,n=Ci;r=(n&~(1<<32-Pa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=om++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Yz++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tW={readContext:ta,useCallback:KM,useContext:ta,useEffect:ZS,useImperativeHandle:WM,useInsertionEffect:VM,useLayoutEffect:qM,useMemo:HM,useReducer:jw,useRef:BM,useState:function(){return jw(lm)},useDebugValue:ek,useDeferredValue:function(e){var t=ra();return GM(t,sn.memoizedState,e)},useTransition:function(){var e=jw(lm)[0],t=ra().memoizedState;return[e,t]},useMutableSource:RM,useSyncExternalStore:$M,useId:QM,unstable_isNewReconciler:!1},rW={readContext:ta,useCallback:KM,useContext:ta,useEffect:ZS,useImperativeHandle:WM,useInsertionEffect:VM,useLayoutEffect:qM,useMemo:HM,useReducer:Nw,useRef:BM,useState:function(){return Nw(lm)},useDebugValue:ek,useDeferredValue:function(e){var t=ra();return sn===null?t.memoizedState=e:GM(t,sn.memoizedState,e)},useTransition:function(){var e=Nw(lm)[0],t=ra().memoizedState;return[e,t]},useMutableSource:RM,useSyncExternalStore:$M,useId:QM,unstable_isNewReconciler:!1};function ga(e,t){if(e&&e.defaultProps){t=Pr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function p1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hy={isMounted:function(e){return(e=e._reactInternals)?Ac(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Gn(),a=Fo(e),i=Ii(n,a);i.payload=t,r!=null&&(i.callback=r),t=Do(e,i,a),t!==null&&(Ea(t,e,a,n),mv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Gn(),a=Fo(e),i=Ii(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Do(e,i,a),t!==null&&(Ea(t,e,a,n),mv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Gn(),n=Fo(e),a=Ii(r,n);a.tag=2,t!=null&&(a.callback=t),t=Do(e,a,n),t!==null&&(Ea(t,e,n,r),mv(t,e,n))}};function GP(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!tm(r,n)||!tm(a,i):!0}function ZM(e,t,r){var n=!1,a=Ho,i=t.contextType;return typeof i=="object"&&i!==null?i=ta(i):(a=ds(t)?ac:$n.current,n=t.contextTypes,i=(n=n!=null)?md(e,a):Ho),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function QP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hy.enqueueReplaceState(t,t.state,null)}function g1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},KS(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ta(i):(i=ds(t)?ac:$n.current,a.context=md(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(p1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Hy.enqueueReplaceState(a,a.state,null),Wv(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function xd(e,t){try{var r="",n=t;do r+=A7(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function _w(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function v1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var nW=typeof WeakMap=="function"?WeakMap:Map;function eD(e,t,r){r=Ii(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yv||(Yv=!0,C1=n),v1(e,t)},r}function tD(e,t,r){r=Ii(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){v1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){v1(e,t),typeof n!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function YP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new nW;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=vW.bind(null,e,t,r),t.then(e,e))}function XP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function JP(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ii(-1,1),t.tag=2,Do(r,t,1))),r.lanes|=1),e)}var sW=Yi.ReactCurrentOwner,os=!1;function Bn(e,t,r,n){t.child=e===null?AM(t,null,r,n):gd(t,e.child,r,n)}function ZP(e,t,r,n,a){r=r.render;var i=t.ref;return Ku(t,a),n=XS(e,t,r,n,i,a),r=JS(),e!==null&&!os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bi(e,t,a)):(yr&&r&&FS(t),t.flags|=1,Bn(e,t,n,a),t.child)}function eE(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!lk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,rD(e,t,i,n,a)):(e=bv(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:tm,r(o,n)&&e.ref===t.ref)return Bi(e,t,a)}return t.flags|=1,e=Uo(i,n),e.ref=t.ref,e.return=t,t.child=e}function rD(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(tm(i,n)&&e.ref===t.ref)if(os=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(os=!0);else return t.lanes=e.lanes,Bi(e,t,a)}return x1(e,t,r,n,a)}function nD(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(Tu,ys),ys|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fr(Tu,ys),ys|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,fr(Tu,ys),ys|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,fr(Tu,ys),ys|=n;return Bn(e,t,a,r),t.child}function sD(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function x1(e,t,r,n,a){var i=ds(r)?ac:$n.current;return i=md(t,i),Ku(t,a),r=XS(e,t,r,n,i,a),n=JS(),e!==null&&!os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bi(e,t,a)):(yr&&n&&FS(t),t.flags|=1,Bn(e,t,r,a),t.child)}function tE(e,t,r,n,a){if(ds(r)){var i=!0;Uv(t)}else i=!1;if(Ku(t,a),t.stateNode===null)vv(e,t),ZM(t,r,n),g1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ta(u):(u=ds(r)?ac:$n.current,u=md(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&QP(t,o,n,u),fo=!1;var h=t.memoizedState;o.state=h,Wv(t,n,o,a),c=t.memoizedState,l!==n||h!==c||us.current||fo?(typeof d=="function"&&(p1(t,r,d,n),c=t.memoizedState),(l=fo||GP(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,TM(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ga(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ta(c):(c=ds(r)?ac:$n.current,c=md(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&QP(t,o,n,c),fo=!1,h=t.memoizedState,o.state=h,Wv(t,n,o,a);var b=t.memoizedState;l!==f||h!==b||us.current||fo?(typeof p=="function"&&(p1(t,r,p,n),b=t.memoizedState),(u=fo||GP(t,r,u,n,h,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return y1(e,t,r,n,i,a)}function y1(e,t,r,n,a,i){sD(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&UP(t,r,!1),Bi(e,t,i);n=t.stateNode,sW.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=gd(t,e.child,null,i),t.child=gd(t,null,l,i)):Bn(e,t,l,i),t.memoizedState=n.state,a&&UP(t,r,!0),t.child}function aD(e){var t=e.stateNode;t.pendingContext?FP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&FP(e,t.context,!1),HS(e,t.containerInfo)}function rE(e,t,r,n,a){return pd(),BS(a),t.flags|=256,Bn(e,t,r,n),t.child}var b1={dehydrated:null,treeContext:null,retryLane:0};function w1(e){return{baseLanes:e,cachePool:null,transitions:null}}function iD(e,t,r){var n=t.pendingProps,a=_r.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),fr(_r,a&1),e===null)return h1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yy(o,n,0,null),e=tc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=w1(r),t.memoizedState=b1,e):tk(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return aW(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Uo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Uo(l,i):(i=tc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?w1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=b1,n}return i=e.child,e=i.sibling,n=Uo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function tk(e,t){return t=Yy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sg(e,t,r,n){return n!==null&&BS(n),gd(t,e.child,null,r),e=tk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aW(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=_w(Error(_e(422))),Sg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Yy({mode:"visible",children:n.children},a,0,null),i=tc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&gd(t,e.child,null,o),t.child.memoizedState=w1(o),t.memoizedState=b1,i);if(!(t.mode&1))return Sg(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(_e(419)),n=_w(i,n,void 0),Sg(e,t,o,n)}if(l=(o&e.childLanes)!==0,os||l){if(n=gn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ui(e,a),Ea(n,e,a,-1))}return ok(),n=_w(Error(_e(421))),Sg(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=xW.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ps=Mo(a.nextSibling),Es=t,yr=!0,_a=null,e!==null&&(Ks[Hs++]=Ci,Ks[Hs++]=Pi,Ks[Hs++]=ic,Ci=e.id,Pi=e.overflow,ic=t),t=tk(t,n.children),t.flags|=4096,t)}function nE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),m1(e.return,t,r)}function Sw(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function oD(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Bn(e,t,n.children,r),n=_r.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nE(e,r,t);else if(e.tag===19)nE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fr(_r,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Kv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Sw(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Kv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Sw(t,!0,r,null,i);break;case"together":Sw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),lc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,r=Uo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Uo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function iW(e,t,r){switch(t.tag){case 3:aD(t),pd();break;case 5:IM(t);break;case 1:ds(t.type)&&Uv(t);break;case 4:HS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;fr(qv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fr(_r,_r.current&1),t.flags|=128,null):r&t.child.childLanes?iD(e,t,r):(fr(_r,_r.current&1),e=Bi(e,t,r),e!==null?e.sibling:null);fr(_r,_r.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return oD(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fr(_r,_r.current),n)break;return null;case 22:case 23:return t.lanes=0,nD(e,t,r)}return Bi(e,t,r)}var lD,j1,cD,uD;lD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};j1=function(){};cD=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Dl(ei.current);var i=null;switch(r){case"input":a=zj(e,a),n=zj(e,n),i=[];break;case"select":a=Pr({},a,{value:void 0}),n=Pr({},n,{value:void 0}),i=[];break;case"textarea":a=Hj(e,a),n=Hj(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Lv)}Qj(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};uD=function(e,t,r,n){r!==n&&(t.flags|=4)};function Qf(e,t){if(!yr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function An(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function oW(e,t,r){var n=t.pendingProps;switch(US(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(t),null;case 1:return ds(t.type)&&Fv(),An(t),null;case 3:return n=t.stateNode,vd(),xr(us),xr($n),QS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ng(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_a!==null&&(A1(_a),_a=null))),j1(e,t),An(t),null;case 5:GS(t);var a=Dl(im.current);if(r=t.type,e!==null&&t.stateNode!=null)cD(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(_e(166));return An(t),null}if(e=Dl(ei.current),Ng(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Qa]=t,n[sm]=i,e=(t.mode&1)!==0,r){case"dialog":pr("cancel",n),pr("close",n);break;case"iframe":case"object":case"embed":pr("load",n);break;case"video":case"audio":for(a=0;a<gh.length;a++)pr(gh[a],n);break;case"source":pr("error",n);break;case"img":case"image":case"link":pr("error",n),pr("load",n);break;case"details":pr("toggle",n);break;case"input":fP(n,i),pr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},pr("invalid",n);break;case"textarea":mP(n,i),pr("invalid",n)}Qj(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&jg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&jg(n.textContent,l,e),a=["children",""+l]):Gh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pr("scroll",n)}switch(r){case"input":mg(n),hP(n,i,!0);break;case"textarea":mg(n),pP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Lv)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=L$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Qa]=t,e[sm]=n,lD(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yj(r,n),r){case"dialog":pr("cancel",e),pr("close",e),a=n;break;case"iframe":case"object":case"embed":pr("load",e),a=n;break;case"video":case"audio":for(a=0;a<gh.length;a++)pr(gh[a],e);a=n;break;case"source":pr("error",e),a=n;break;case"img":case"image":case"link":pr("error",e),pr("load",e),a=n;break;case"details":pr("toggle",e),a=n;break;case"input":fP(e,n),a=zj(e,n),pr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Pr({},n,{value:void 0}),pr("invalid",e);break;case"textarea":mP(e,n),a=Hj(e,n),pr("invalid",e);break;default:a=n}Qj(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?B$(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&F$(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qh(e,c):typeof c=="number"&&Qh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pr("scroll",e):c!=null&&SS(e,i,c,o))}switch(r){case"input":mg(e),hP(e,n,!1);break;case"textarea":mg(e),pP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ko(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Vu(e,!!n.multiple,i,!1):n.defaultValue!=null&&Vu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Lv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return An(t),null;case 6:if(e&&t.stateNode!=null)uD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(_e(166));if(r=Dl(im.current),Dl(ei.current),Ng(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qa]=t,(i=n.nodeValue!==r)&&(e=Es,e!==null))switch(e.tag){case 3:jg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qa]=t,t.stateNode=n}return An(t),null;case 13:if(xr(_r),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yr&&Ps!==null&&t.mode&1&&!(t.flags&128))PM(),pd(),t.flags|=98560,i=!1;else if(i=Ng(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(_e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[Qa]=t}else pd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;An(t),i=!1}else _a!==null&&(A1(_a),_a=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||_r.current&1?on===0&&(on=3):ok())),t.updateQueue!==null&&(t.flags|=4),An(t),null);case 4:return vd(),j1(e,t),e===null&&rm(t.stateNode.containerInfo),An(t),null;case 10:return zS(t.type._context),An(t),null;case 17:return ds(t.type)&&Fv(),An(t),null;case 19:if(xr(_r),i=t.memoizedState,i===null)return An(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Qf(i,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Kv(e),o!==null){for(t.flags|=128,Qf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fr(_r,_r.current&1|2),t.child}e=e.sibling}i.tail!==null&&Lr()>yd&&(t.flags|=128,n=!0,Qf(i,!1),t.lanes=4194304)}else{if(!n)if(e=Kv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Qf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!yr)return An(t),null}else 2*Lr()-i.renderingStartTime>yd&&r!==1073741824&&(t.flags|=128,n=!0,Qf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Lr(),t.sibling=null,r=_r.current,fr(_r,n?r&1|2:r&1),t):(An(t),null);case 22:case 23:return ik(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ys&1073741824&&(An(t),t.subtreeFlags&6&&(t.flags|=8192)):An(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function lW(e,t){switch(US(t),t.tag){case 1:return ds(t.type)&&Fv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vd(),xr(us),xr($n),QS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return GS(t),null;case 13:if(xr(_r),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));pd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xr(_r),null;case 4:return vd(),null;case 10:return zS(t.type._context),null;case 22:case 23:return ik(),null;case 24:return null;default:return null}}var kg=!1,Tn=!1,cW=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Ou(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tr(e,t,n)}else r.current=null}function N1(e,t,r){try{r()}catch(n){Tr(e,t,n)}}var sE=!1;function uW(e,t){if(i1=$v,e=pM(),LS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(o1={focusedElem:e,selectionRange:r},$v=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var m=b.memoizedProps,w=b.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:ga(t.type,m),w);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(j){Tr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return b=sE,sE=!1,b}function Th(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&N1(t,r,i)}a=a.next}while(a!==n)}}function Gy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dD(e){var t=e.alternate;t!==null&&(e.alternate=null,dD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qa],delete t[sm],delete t[u1],delete t[Kz],delete t[Hz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fD(e){return e.tag===5||e.tag===3||e.tag===4}function aE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function S1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Lv));else if(n!==4&&(e=e.child,e!==null))for(S1(e,t,r),e=e.sibling;e!==null;)S1(e,t,r),e=e.sibling}function k1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(k1(e,t,r),e=e.sibling;e!==null;)k1(e,t,r),e=e.sibling}var Nn=null,ba=!1;function ao(e,t,r){for(r=r.child;r!==null;)hD(e,t,r),r=r.sibling}function hD(e,t,r){if(Za&&typeof Za.onCommitFiberUnmount=="function")try{Za.onCommitFiberUnmount(Uy,r)}catch{}switch(r.tag){case 5:Tn||Ou(r,t);case 6:var n=Nn,a=ba;Nn=null,ao(e,t,r),Nn=n,ba=a,Nn!==null&&(ba?(e=Nn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Nn.removeChild(r.stateNode));break;case 18:Nn!==null&&(ba?(e=Nn,r=r.stateNode,e.nodeType===8?xw(e.parentNode,r):e.nodeType===1&&xw(e,r),Zh(e)):xw(Nn,r.stateNode));break;case 4:n=Nn,a=ba,Nn=r.stateNode.containerInfo,ba=!0,ao(e,t,r),Nn=n,ba=a;break;case 0:case 11:case 14:case 15:if(!Tn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&N1(r,t,o),a=a.next}while(a!==n)}ao(e,t,r);break;case 1:if(!Tn&&(Ou(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Tr(r,t,l)}ao(e,t,r);break;case 21:ao(e,t,r);break;case 22:r.mode&1?(Tn=(n=Tn)||r.memoizedState!==null,ao(e,t,r),Tn=n):ao(e,t,r);break;default:ao(e,t,r)}}function iE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cW),t.forEach(function(n){var a=yW.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function fa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Nn=l.stateNode,ba=!1;break e;case 3:Nn=l.stateNode.containerInfo,ba=!0;break e;case 4:Nn=l.stateNode.containerInfo,ba=!0;break e}l=l.return}if(Nn===null)throw Error(_e(160));hD(i,o,a),Nn=null,ba=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Tr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mD(t,e),t=t.sibling}function mD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fa(t,e),qa(e),n&4){try{Th(3,e,e.return),Gy(3,e)}catch(m){Tr(e,e.return,m)}try{Th(5,e,e.return)}catch(m){Tr(e,e.return,m)}}break;case 1:fa(t,e),qa(e),n&512&&r!==null&&Ou(r,r.return);break;case 5:if(fa(t,e),qa(e),n&512&&r!==null&&Ou(r,r.return),e.flags&32){var a=e.stateNode;try{Qh(a,"")}catch(m){Tr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&M$(a,i),Yj(l,o);var u=Yj(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?B$(a,f):d==="dangerouslySetInnerHTML"?F$(a,f):d==="children"?Qh(a,f):SS(a,d,f,u)}switch(l){case"input":Wj(a,i);break;case"textarea":D$(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Vu(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Vu(a,!!i.multiple,i.defaultValue,!0):Vu(a,!!i.multiple,i.multiple?[]:"",!1))}a[sm]=i}catch(m){Tr(e,e.return,m)}}break;case 6:if(fa(t,e),qa(e),n&4){if(e.stateNode===null)throw Error(_e(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Tr(e,e.return,m)}}break;case 3:if(fa(t,e),qa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zh(t.containerInfo)}catch(m){Tr(e,e.return,m)}break;case 4:fa(t,e),qa(e);break;case 13:fa(t,e),qa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(sk=Lr())),n&4&&iE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Tn=(u=Tn)||d,fa(t,e),Tn=u):fa(t,e),qa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Le=e,d=e.child;d!==null;){for(f=Le=d;Le!==null;){switch(h=Le,p=h.child,h.tag){case 0:case 11:case 14:case 15:Th(4,h,h.return);break;case 1:Ou(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(m){Tr(n,r,m)}}break;case 5:Ou(h,h.return);break;case 22:if(h.memoizedState!==null){lE(f);continue}}p!==null?(p.return=h,Le=p):lE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=U$("display",o))}catch(m){Tr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Tr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fa(t,e),qa(e),n&4&&iE(e);break;case 21:break;default:fa(t,e),qa(e)}}function qa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(fD(r)){var n=r;break e}r=r.return}throw Error(_e(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Qh(a,""),n.flags&=-33);var i=aE(e);k1(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=aE(e);S1(e,l,o);break;default:throw Error(_e(161))}}catch(c){Tr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dW(e,t,r){Le=e,pD(e)}function pD(e,t,r){for(var n=(e.mode&1)!==0;Le!==null;){var a=Le,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||kg;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Tn;l=kg;var u=Tn;if(kg=o,(Tn=c)&&!u)for(Le=a;Le!==null;)o=Le,c=o.child,o.tag===22&&o.memoizedState!==null?cE(a):c!==null?(c.return=o,Le=c):cE(a);for(;i!==null;)Le=i,pD(i),i=i.sibling;Le=a,kg=l,Tn=u}oE(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Le=i):oE(e)}}function oE(e){for(;Le!==null;){var t=Le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tn||Gy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ga(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&WP(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}WP(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Zh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Tn||t.flags&512&&_1(t)}catch(h){Tr(t,t.return,h)}}if(t===e){Le=null;break}if(r=t.sibling,r!==null){r.return=t.return,Le=r;break}Le=t.return}}function lE(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Le=r;break}Le=t.return}}function cE(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gy(4,t)}catch(c){Tr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Tr(t,a,c)}}var i=t.return;try{_1(t)}catch(c){Tr(t,i,c)}break;case 5:var o=t.return;try{_1(t)}catch(c){Tr(t,o,c)}}}catch(c){Tr(t,t.return,c)}if(t===e){Le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Le=l;break}Le=t.return}}var fW=Math.ceil,Qv=Yi.ReactCurrentDispatcher,rk=Yi.ReactCurrentOwner,Xs=Yi.ReactCurrentBatchConfig,Mt=0,gn=null,zr=null,Sn=0,ys=0,Tu=nl(0),on=0,um=null,lc=0,Qy=0,nk=0,Ih=null,is=null,sk=0,yd=1/0,yi=null,Yv=!1,C1=null,Lo=null,Cg=!1,Oo=null,Xv=0,Rh=0,P1=null,xv=-1,yv=0;function Gn(){return Mt&6?Lr():xv!==-1?xv:xv=Lr()}function Fo(e){return e.mode&1?Mt&2&&Sn!==0?Sn&-Sn:Qz.transition!==null?(yv===0&&(yv=Z$()),yv):(e=Jt,e!==0||(e=window.event,e=e===void 0?16:iM(e.type)),e):1}function Ea(e,t,r,n){if(50<Rh)throw Rh=0,P1=null,Error(_e(185));wp(e,r,n),(!(Mt&2)||e!==gn)&&(e===gn&&(!(Mt&2)&&(Qy|=r),on===4&&xo(e,Sn)),fs(e,n),r===1&&Mt===0&&!(t.mode&1)&&(yd=Lr()+500,Wy&&sl()))}function fs(e,t){var r=e.callbackNode;Q7(e,t);var n=Rv(e,e===gn?Sn:0);if(n===0)r!==null&&xP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xP(r),t===1)e.tag===0?Gz(uE.bind(null,e)):SM(uE.bind(null,e)),zz(function(){!(Mt&6)&&sl()}),r=null;else{switch(eM(n)){case 1:r=AS;break;case 4:r=X$;break;case 16:r=Iv;break;case 536870912:r=J$;break;default:r=Iv}r=ND(r,gD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gD(e,t){if(xv=-1,yv=0,Mt&6)throw Error(_e(327));var r=e.callbackNode;if(Hu()&&e.callbackNode!==r)return null;var n=Rv(e,e===gn?Sn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Jv(e,n);else{t=n;var a=Mt;Mt|=2;var i=xD();(gn!==e||Sn!==t)&&(yi=null,yd=Lr()+500,ec(e,t));do try{pW();break}catch(l){vD(e,l)}while(!0);qS(),Qv.current=i,Mt=a,zr!==null?t=0:(gn=null,Sn=0,t=on)}if(t!==0){if(t===2&&(a=t1(e),a!==0&&(n=a,t=E1(e,a))),t===1)throw r=um,ec(e,0),xo(e,n),fs(e,Lr()),r;if(t===6)xo(e,n);else{if(a=e.current.alternate,!(n&30)&&!hW(a)&&(t=Jv(e,n),t===2&&(i=t1(e),i!==0&&(n=i,t=E1(e,i))),t===1))throw r=um,ec(e,0),xo(e,n),fs(e,Lr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(_e(345));case 2:kl(e,is,yi);break;case 3:if(xo(e,n),(n&130023424)===n&&(t=sk+500-Lr(),10<t)){if(Rv(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Gn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=c1(kl.bind(null,e,is,yi),t);break}kl(e,is,yi);break;case 4:if(xo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Pa(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Lr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fW(n/1960))-n,10<n){e.timeoutHandle=c1(kl.bind(null,e,is,yi),n);break}kl(e,is,yi);break;case 5:kl(e,is,yi);break;default:throw Error(_e(329))}}}return fs(e,Lr()),e.callbackNode===r?gD.bind(null,e):null}function E1(e,t){var r=Ih;return e.current.memoizedState.isDehydrated&&(ec(e,t).flags|=256),e=Jv(e,t),e!==2&&(t=is,is=r,t!==null&&A1(t)),e}function A1(e){is===null?is=e:is.push.apply(is,e)}function hW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ia(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xo(e,t){for(t&=~nk,t&=~Qy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pa(t),n=1<<r;e[r]=-1,t&=~n}}function uE(e){if(Mt&6)throw Error(_e(327));Hu();var t=Rv(e,0);if(!(t&1))return fs(e,Lr()),null;var r=Jv(e,t);if(e.tag!==0&&r===2){var n=t1(e);n!==0&&(t=n,r=E1(e,n))}if(r===1)throw r=um,ec(e,0),xo(e,t),fs(e,Lr()),r;if(r===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,is,yi),fs(e,Lr()),null}function ak(e,t){var r=Mt;Mt|=1;try{return e(t)}finally{Mt=r,Mt===0&&(yd=Lr()+500,Wy&&sl())}}function cc(e){Oo!==null&&Oo.tag===0&&!(Mt&6)&&Hu();var t=Mt;Mt|=1;var r=Xs.transition,n=Jt;try{if(Xs.transition=null,Jt=1,e)return e()}finally{Jt=n,Xs.transition=r,Mt=t,!(Mt&6)&&sl()}}function ik(){ys=Tu.current,xr(Tu)}function ec(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qz(r)),zr!==null)for(r=zr.return;r!==null;){var n=r;switch(US(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fv();break;case 3:vd(),xr(us),xr($n),QS();break;case 5:GS(n);break;case 4:vd();break;case 13:xr(_r);break;case 19:xr(_r);break;case 10:zS(n.type._context);break;case 22:case 23:ik()}r=r.return}if(gn=e,zr=e=Uo(e.current,null),Sn=ys=t,on=0,um=null,nk=Qy=lc=0,is=Ih=null,Ml!==null){for(t=0;t<Ml.length;t++)if(r=Ml[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Ml=null}return e}function vD(e,t){do{var r=zr;try{if(qS(),pv.current=Gv,Hv){for(var n=Cr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Hv=!1}if(oc=0,mn=sn=Cr=null,Oh=!1,om=0,rk.current=null,r===null||r.return===null){on=1,um=t,zr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=XP(o);if(p!==null){p.flags&=-257,JP(p,o,l,i,t),p.mode&1&&YP(i,u,t),t=p,c=u;var b=t.updateQueue;if(b===null){var m=new Set;m.add(c),t.updateQueue=m}else b.add(c);break e}else{if(!(t&1)){YP(i,u,t),ok();break e}c=Error(_e(426))}}else if(yr&&l.mode&1){var w=XP(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),JP(w,o,l,i,t),BS(xd(c,l));break e}}i=c=xd(c,l),on!==4&&(on=2),Ih===null?Ih=[i]:Ih.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=eD(i,c,t);zP(i,x);break e;case 1:l=c;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Lo===null||!Lo.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=tD(i,l,t);zP(i,j);break e}}i=i.return}while(i!==null)}bD(r)}catch(N){t=N,zr===r&&r!==null&&(zr=r=r.return);continue}break}while(!0)}function xD(){var e=Qv.current;return Qv.current=Gv,e===null?Gv:e}function ok(){(on===0||on===3||on===2)&&(on=4),gn===null||!(lc&268435455)&&!(Qy&268435455)||xo(gn,Sn)}function Jv(e,t){var r=Mt;Mt|=2;var n=xD();(gn!==e||Sn!==t)&&(yi=null,ec(e,t));do try{mW();break}catch(a){vD(e,a)}while(!0);if(qS(),Mt=r,Qv.current=n,zr!==null)throw Error(_e(261));return gn=null,Sn=0,on}function mW(){for(;zr!==null;)yD(zr)}function pW(){for(;zr!==null&&!U7();)yD(zr)}function yD(e){var t=jD(e.alternate,e,ys);e.memoizedProps=e.pendingProps,t===null?bD(e):zr=t,rk.current=null}function bD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=lW(r,t),r!==null){r.flags&=32767,zr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,zr=null;return}}else if(r=oW(r,t,ys),r!==null){zr=r;return}if(t=t.sibling,t!==null){zr=t;return}zr=t=e}while(t!==null);on===0&&(on=5)}function kl(e,t,r){var n=Jt,a=Xs.transition;try{Xs.transition=null,Jt=1,gW(e,t,r,n)}finally{Xs.transition=a,Jt=n}return null}function gW(e,t,r,n){do Hu();while(Oo!==null);if(Mt&6)throw Error(_e(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Y7(e,i),e===gn&&(zr=gn=null,Sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cg||(Cg=!0,ND(Iv,function(){return Hu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Xs.transition,Xs.transition=null;var o=Jt;Jt=1;var l=Mt;Mt|=4,rk.current=null,uW(e,r),mD(r,e),Mz(o1),$v=!!i1,o1=i1=null,e.current=r,dW(r),B7(),Mt=l,Jt=o,Xs.transition=i}else e.current=r;if(Cg&&(Cg=!1,Oo=e,Xv=a),i=e.pendingLanes,i===0&&(Lo=null),z7(r.stateNode),fs(e,Lr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Yv)throw Yv=!1,e=C1,C1=null,e;return Xv&1&&e.tag!==0&&Hu(),i=e.pendingLanes,i&1?e===P1?Rh++:(Rh=0,P1=e):Rh=0,sl(),null}function Hu(){if(Oo!==null){var e=eM(Xv),t=Xs.transition,r=Jt;try{if(Xs.transition=null,Jt=16>e?16:e,Oo===null)var n=!1;else{if(e=Oo,Oo=null,Xv=0,Mt&6)throw Error(_e(331));var a=Mt;for(Mt|=4,Le=e.current;Le!==null;){var i=Le,o=i.child;if(Le.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Le=u;Le!==null;){var d=Le;switch(d.tag){case 0:case 11:case 15:Th(8,d,i)}var f=d.child;if(f!==null)f.return=d,Le=f;else for(;Le!==null;){d=Le;var h=d.sibling,p=d.return;if(dD(d),d===u){Le=null;break}if(h!==null){h.return=p,Le=h;break}Le=p}}}var b=i.alternate;if(b!==null){var m=b.child;if(m!==null){b.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}Le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Le=o;else e:for(;Le!==null;){if(i=Le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Th(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Le=x;break e}Le=i.return}}var g=e.current;for(Le=g;Le!==null;){o=Le;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Le=v;else e:for(o=g;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gy(9,l)}}catch(N){Tr(l,l.return,N)}if(l===o){Le=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Le=j;break e}Le=l.return}}if(Mt=a,sl(),Za&&typeof Za.onPostCommitFiberRoot=="function")try{Za.onPostCommitFiberRoot(Uy,e)}catch{}n=!0}return n}finally{Jt=r,Xs.transition=t}}return!1}function dE(e,t,r){t=xd(r,t),t=eD(e,t,1),e=Do(e,t,1),t=Gn(),e!==null&&(wp(e,1,t),fs(e,t))}function Tr(e,t,r){if(e.tag===3)dE(e,e,r);else for(;t!==null;){if(t.tag===3){dE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lo===null||!Lo.has(n))){e=xd(r,e),e=tD(t,e,1),t=Do(t,e,1),e=Gn(),t!==null&&(wp(t,1,e),fs(t,e));break}}t=t.return}}function vW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Gn(),e.pingedLanes|=e.suspendedLanes&r,gn===e&&(Sn&r)===r&&(on===4||on===3&&(Sn&130023424)===Sn&&500>Lr()-sk?ec(e,0):nk|=r),fs(e,t)}function wD(e,t){t===0&&(e.mode&1?(t=vg,vg<<=1,!(vg&130023424)&&(vg=4194304)):t=1);var r=Gn();e=Ui(e,t),e!==null&&(wp(e,t,r),fs(e,r))}function xW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),wD(e,r)}function yW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(_e(314))}n!==null&&n.delete(t),wD(e,r)}var jD;jD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||us.current)os=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return os=!1,iW(e,t,r);os=!!(e.flags&131072)}else os=!1,yr&&t.flags&1048576&&kM(t,Vv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;vv(e,t),e=t.pendingProps;var a=md(t,$n.current);Ku(t,r),a=XS(null,t,n,e,a,r);var i=JS();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ds(n)?(i=!0,Uv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,KS(t),a.updater=Hy,t.stateNode=a,a._reactInternals=t,g1(t,n,e,r),t=y1(null,t,n,!0,i,r)):(t.tag=0,yr&&i&&FS(t),Bn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(vv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=wW(n),e=ga(n,e),a){case 0:t=x1(null,t,n,e,r);break e;case 1:t=tE(null,t,n,e,r);break e;case 11:t=ZP(null,t,n,e,r);break e;case 14:t=eE(null,t,n,ga(n.type,e),r);break e}throw Error(_e(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ga(n,a),x1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ga(n,a),tE(e,t,n,a,r);case 3:e:{if(aD(t),e===null)throw Error(_e(387));n=t.pendingProps,i=t.memoizedState,a=i.element,TM(e,t),Wv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=xd(Error(_e(423)),t),t=rE(e,t,n,r,a);break e}else if(n!==a){a=xd(Error(_e(424)),t),t=rE(e,t,n,r,a);break e}else for(Ps=Mo(t.stateNode.containerInfo.firstChild),Es=t,yr=!0,_a=null,r=AM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pd(),n===a){t=Bi(e,t,r);break e}Bn(e,t,n,r)}t=t.child}return t;case 5:return IM(t),e===null&&h1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,l1(n,a)?o=null:i!==null&&l1(n,i)&&(t.flags|=32),sD(e,t),Bn(e,t,o,r),t.child;case 6:return e===null&&h1(t),null;case 13:return iD(e,t,r);case 4:return HS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gd(t,null,n,r):Bn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ga(n,a),ZP(e,t,n,a,r);case 7:return Bn(e,t,t.pendingProps,r),t.child;case 8:return Bn(e,t,t.pendingProps.children,r),t.child;case 12:return Bn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,fr(qv,n._currentValue),n._currentValue=o,i!==null)if(Ia(i.value,o)){if(i.children===a.children&&!us.current){t=Bi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ii(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),m1(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_e(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),m1(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Bn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ku(t,r),a=ta(a),n=n(a),t.flags|=1,Bn(e,t,n,r),t.child;case 14:return n=t.type,a=ga(n,t.pendingProps),a=ga(n.type,a),eE(e,t,n,a,r);case 15:return rD(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ga(n,a),vv(e,t),t.tag=1,ds(n)?(e=!0,Uv(t)):e=!1,Ku(t,r),ZM(t,n,a),g1(t,n,a,r),y1(null,t,n,!0,e,r);case 19:return oD(e,t,r);case 22:return nD(e,t,r)}throw Error(_e(156,t.tag))};function ND(e,t){return Y$(e,t)}function bW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(e,t,r,n){return new bW(e,t,r,n)}function lk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wW(e){if(typeof e=="function")return lk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===CS)return 11;if(e===PS)return 14}return 2}function Uo(e,t){var r=e.alternate;return r===null?(r=Qs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function bv(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")lk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ju:return tc(r.children,a,i,t);case kS:o=8,a|=8;break;case Uj:return e=Qs(12,r,t,a|2),e.elementType=Uj,e.lanes=i,e;case Bj:return e=Qs(13,r,t,a),e.elementType=Bj,e.lanes=i,e;case Vj:return e=Qs(19,r,t,a),e.elementType=Vj,e.lanes=i,e;case I$:return Yy(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O$:o=10;break e;case T$:o=9;break e;case CS:o=11;break e;case PS:o=14;break e;case uo:o=16,n=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=Qs(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function tc(e,t,r,n){return e=Qs(7,e,n,t),e.lanes=r,e}function Yy(e,t,r,n){return e=Qs(22,e,n,t),e.elementType=I$,e.lanes=r,e.stateNode={isHidden:!1},e}function kw(e,t,r){return e=Qs(6,e,null,t),e.lanes=r,e}function Cw(e,t,r){return t=Qs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jW(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ow(0),this.expirationTimes=ow(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ow(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ck(e,t,r,n,a,i,o,l,c){return e=new jW(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},KS(i),e}function NW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _D(e){if(!e)return Ho;e=e._reactInternals;e:{if(Ac(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var r=e.type;if(ds(r))return _M(e,r,t)}return t}function SD(e,t,r,n,a,i,o,l,c){return e=ck(r,n,!0,e,a,i,o,l,c),e.context=_D(null),r=e.current,n=Gn(),a=Fo(r),i=Ii(n,a),i.callback=t??null,Do(r,i,a),e.current.lanes=a,wp(e,a,n),fs(e,n),e}function Xy(e,t,r,n){var a=t.current,i=Gn(),o=Fo(a);return r=_D(r),t.context===null?t.context=r:t.pendingContext=r,t=Ii(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Do(a,t,o),e!==null&&(Ea(e,a,o,i),mv(e,a,o)),o}function Zv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function uk(e,t){fE(e,t),(e=e.alternate)&&fE(e,t)}function _W(){return null}var kD=typeof reportError=="function"?reportError:function(e){console.error(e)};function dk(e){this._internalRoot=e}Jy.prototype.render=dk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Xy(e,t,null,null)};Jy.prototype.unmount=dk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cc(function(){Xy(null,e,null,null)}),t[Fi]=null}};function Jy(e){this._internalRoot=e}Jy.prototype.unstable_scheduleHydration=function(e){if(e){var t=nM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vo.length&&t!==0&&t<vo[r].priority;r++);vo.splice(r,0,e),r===0&&aM(e)}};function fk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hE(){}function SW(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Zv(o);i.call(u)}}var o=SD(t,n,e,0,null,!1,!1,"",hE);return e._reactRootContainer=o,e[Fi]=o.current,rm(e.nodeType===8?e.parentNode:e),cc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Zv(c);l.call(u)}}var c=ck(e,0,!1,null,null,!1,!1,"",hE);return e._reactRootContainer=c,e[Fi]=c.current,rm(e.nodeType===8?e.parentNode:e),cc(function(){Xy(t,c,r,n)}),c}function eb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Zv(o);l.call(c)}}Xy(t,o,e,a)}else o=SW(r,t,e,a,n);return Zv(o)}tM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ph(t.pendingLanes);r!==0&&(OS(t,r|1),fs(t,Lr()),!(Mt&6)&&(yd=Lr()+500,sl()))}break;case 13:cc(function(){var n=Ui(e,1);if(n!==null){var a=Gn();Ea(n,e,1,a)}}),uk(e,1)}};TS=function(e){if(e.tag===13){var t=Ui(e,134217728);if(t!==null){var r=Gn();Ea(t,e,134217728,r)}uk(e,134217728)}};rM=function(e){if(e.tag===13){var t=Fo(e),r=Ui(e,t);if(r!==null){var n=Gn();Ea(r,e,t,n)}uk(e,t)}};nM=function(){return Jt};sM=function(e,t){var r=Jt;try{return Jt=e,t()}finally{Jt=r}};Jj=function(e,t,r){switch(t){case"input":if(Wj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=zy(n);if(!a)throw Error(_e(90));$$(n),Wj(n,a)}}}break;case"textarea":D$(e,r);break;case"select":t=r.value,t!=null&&Vu(e,!!r.multiple,t,!1)}};z$=ak;W$=cc;var kW={usingClientEntryPoint:!1,Events:[Np,ku,zy,V$,q$,ak]},Yf={findFiberByHostInstance:$l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CW={bundleType:Yf.bundleType,version:Yf.version,rendererPackageName:Yf.rendererPackageName,rendererConfig:Yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=G$(e),e===null?null:e.stateNode},findFiberByHostInstance:Yf.findFiberByHostInstance||_W,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pg.isDisabled&&Pg.supportsFiber)try{Uy=Pg.inject(CW),Za=Pg}catch{}}Fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kW;Fs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fk(t))throw Error(_e(200));return NW(e,t,null,r)};Fs.createRoot=function(e,t){if(!fk(e))throw Error(_e(299));var r=!1,n="",a=kD;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ck(e,1,!1,null,null,r,!1,n,a),e[Fi]=t.current,rm(e.nodeType===8?e.parentNode:e),new dk(t)};Fs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=G$(t),e=e===null?null:e.stateNode,e};Fs.flushSync=function(e){return cc(e)};Fs.hydrate=function(e,t,r){if(!Zy(t))throw Error(_e(200));return eb(null,e,t,!0,r)};Fs.hydrateRoot=function(e,t,r){if(!fk(e))throw Error(_e(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=kD;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=SD(t,null,e,1,r??null,a,!1,i,o),e[Fi]=t.current,rm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Jy(t)};Fs.render=function(e,t,r){if(!Zy(t))throw Error(_e(200));return eb(null,e,t,!1,r)};Fs.unmountComponentAtNode=function(e){if(!Zy(e))throw Error(_e(40));return e._reactRootContainer?(cc(function(){eb(null,null,e,!1,function(){e._reactRootContainer=null,e[Fi]=null})}),!0):!1};Fs.unstable_batchedUpdates=ak;Fs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zy(r))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return eb(e,t,r,!1,n)};Fs.version="18.3.1-next-f1338f8080-20240426";function CD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CD)}catch(e){console.error(e)}}CD(),C$.exports=Fs;var Oc=C$.exports;const PW=Ht(Oc);var PD,mE=Oc;PD=mE.createRoot,mE.hydrateRoot;function EW(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var ED={exports:{}},AD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=y;function AW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OW=typeof Object.is=="function"?Object.is:AW,TW=bd.useState,IW=bd.useEffect,RW=bd.useLayoutEffect,$W=bd.useDebugValue;function MW(e,t){var r=t(),n=TW({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return RW(function(){a.value=r,a.getSnapshot=t,Pw(a)&&i({inst:a})},[e,r,t]),IW(function(){return Pw(a)&&i({inst:a}),e(function(){Pw(a)&&i({inst:a})})},[e]),$W(r),r}function Pw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!OW(e,r)}catch{return!0}}function DW(e,t){return t()}var LW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DW:MW;AD.useSyncExternalStore=bd.useSyncExternalStore!==void 0?bd.useSyncExternalStore:LW;ED.exports=AD;var OD=ED.exports;const FW=Fy.useInsertionEffect,UW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BW=UW?y.useLayoutEffect:y.useEffect,VW=FW||BW,TD=e=>{const t=y.useRef([e,(...r)=>t[0](...r)]).current;return VW(()=>{t[0]=e}),t[1]},qW="popstate",hk="pushState",mk="replaceState",zW="hashchange",pE=[qW,hk,mk,zW],WW=e=>{for(const t of pE)addEventListener(t,e);return()=>{for(const t of pE)removeEventListener(t,e)}},ID=(e,t)=>OD.useSyncExternalStore(WW,e,t),gE=()=>location.search,KW=({ssrSearch:e}={})=>ID(gE,e!=null?()=>e:gE),vE=()=>location.pathname,HW=({ssrPath:e}={})=>ID(vE,e!=null?()=>e:vE),GW=(e,{replace:t=!1,state:r=null}={})=>history[t?mk:hk](r,"",e),QW=(e={})=>[HW(e),GW],xE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[xE]>"u"){for(const e of[hk,mk]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,xE,{value:!0})}const YW=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",RD=(e="")=>e==="/"?"":e,XW=(e,t)=>e[0]==="~"?e.slice(1):RD(t)+e,JW=(e="",t)=>YW(O1(RD(e)),O1(t)),ZW=e=>e[0]==="?"?e.slice(1):e,O1=e=>{try{return decodeURI(e)}catch{return e}},eK=e=>O1(ZW(e)),$D={hook:QW,searchHook:KW,parser:EW,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},MD=y.createContext($D),uf=()=>y.useContext(MD),DD={},LD=y.createContext(DD),tb=()=>y.useContext(LD),rb=e=>{const[t,r]=e.hook(e);return[JW(e.base,t),TD((n,a)=>e.aroundNav(r,XW(n,e.base),a))]},Mn=()=>rb(uf()),FD=()=>{const e=uf();return eK(e.searchHook(e))},UD=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},tK=({children:e,...t})=>{var d,f,h;const r=uf(),n=t.hook?$D:r;let a=n;const[i,o=t.ssrSearch??""]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs),t.searchHook=t.searchHook??((h=t.hook)==null?void 0:h.searchHook);let l=y.useRef({}),c=l.current,u=c;for(let p in n){const b=p==="base"?n[p]+(t[p]??""):t[p]??n[p];c===u&&b!==u[p]&&(l.current=u={...u}),u[p]=b,(b!==n[p]||b!==a[p])&&(a=u)}return y.createElement(MD.Provider,{value:a,children:e})},yE=({children:e,component:t},r)=>t?y.createElement(t,{params:r}):typeof e=="function"?e(r):e,rK=e=>{let t=y.useRef(DD);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,a])=>a!==r[n])?e:r},Ye=({path:e,nest:t,match:r,...n})=>{const a=uf(),[i]=rb(a),[o,l,c]=r??UD(a.parser,e,i,t),u=rK({...tb(),...l});if(!o)return null;const d=c?y.createElement(tK,{base:c},yE(n,u)):yE(n,u);return y.createElement(LD.Provider,{value:u,children:d})},fe=y.forwardRef((e,t)=>{const r=uf(),[n,a]=rb(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,transition:p,...b}=e,m=TD(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),a(o,e)))}),w=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&y.isValidElement(u)?y.cloneElement(u,{onClick:m,href:w}):y.createElement("a",{...b,onClick:m,href:w,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),BD=e=>Array.isArray(e)?e.flatMap(t=>BD(t&&t.type===y.Fragment?t.props.children:t)):[e],VD=({children:e,location:t})=>{const r=uf(),[n]=rb(r);for(const a of BD(e)){let i=0;if(y.isValidElement(a)&&(i=UD(r.parser,a.props.path,t||n,a.props.nest))[0])return y.cloneElement(a,{match:i})}return null};var df=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nK={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},wo,xS,a$,sK=(a$=class{constructor(){et(this,wo,nK);et(this,xS,!1)}setTimeoutProvider(e){Ie(this,wo,e)}setTimeout(e,t){return W(this,wo).setTimeout(e,t)}clearTimeout(e){W(this,wo).clearTimeout(e)}setInterval(e,t){return W(this,wo).setInterval(e,t)}clearInterval(e){W(this,wo).clearInterval(e)}},wo=new WeakMap,xS=new WeakMap,a$),Ll=new sK;function aK(e){setTimeout(e,0)}var uc=typeof window>"u"||"Deno"in globalThis;function Vn(){}function iK(e,t){return typeof e=="function"?e(t):e}function T1(e){return typeof e=="number"&&e>=0&&e!==1/0}function qD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bo(e,t){return typeof e=="function"?e(t):e}function Ws(e,t){return typeof e=="function"?e(t):e}function bE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==pk(o,t.options))return!1}else if(!dm(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function wE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(dc(t.options.mutationKey)!==dc(i))return!1}else if(!dm(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function pk(e,t){return((t==null?void 0:t.queryKeyHashFn)||dc)(e)}function dc(e){return JSON.stringify(e,(t,r)=>I1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function dm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>dm(e[r],t[r])):!1}var oK=Object.prototype.hasOwnProperty;function zD(e,t){if(e===t)return e;const r=jE(e)&&jE(t);if(!r&&!(I1(e)&&I1(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:oK.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=zD(f,h);l[d]=p,p===f&&c++}return a===o&&c===a?e:l}function ex(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function jE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function I1(e){if(!NE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!NE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NE(e){return Object.prototype.toString.call(e)==="[object Object]"}function lK(e){return new Promise(t=>{Ll.setTimeout(t,e)})}function R1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?zD(e,t):t}function cK(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function uK(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var gk=Symbol();function WD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function KD(e,t){return typeof e=="function"?e(...t):!!e}var Wl,jo,td,i$,dK=(i$=class extends df{constructor(){super();et(this,Wl);et(this,jo);et(this,td);Ie(this,td,t=>{if(!uc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,jo)||this.setEventListener(W(this,td))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,jo))==null||t.call(this),Ie(this,jo,void 0))}setEventListener(t){var r;Ie(this,td,t),(r=W(this,jo))==null||r.call(this),Ie(this,jo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){W(this,Wl)!==t&&(Ie(this,Wl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof W(this,Wl)=="boolean"?W(this,Wl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Wl=new WeakMap,jo=new WeakMap,td=new WeakMap,i$),vk=new dK;function $1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var fK=aK;function hK(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=fK;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var an=hK(),rd,No,nd,o$,mK=(o$=class extends df{constructor(){super();et(this,rd,!0);et(this,No);et(this,nd);Ie(this,nd,t=>{if(!uc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){W(this,No)||this.setEventListener(W(this,nd))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,No))==null||t.call(this),Ie(this,No,void 0))}setEventListener(t){var r;Ie(this,nd,t),(r=W(this,No))==null||r.call(this),Ie(this,No,t(this.setOnline.bind(this)))}setOnline(t){W(this,rd)!==t&&(Ie(this,rd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return W(this,rd)}},rd=new WeakMap,No=new WeakMap,nd=new WeakMap,o$),tx=new mK;function pK(e){return Math.min(1e3*2**e,3e4)}function HD(e){return(e??"online")==="online"?tx.isOnline():!0}var M1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function GD(e){let t=!1,r=0,n;const a=$1(),i=()=>a.status!=="pending",o=m=>{var w;if(!i()){const x=new M1(m);h(x),(w=e.onCancel)==null||w.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>vk.isFocused()&&(e.networkMode==="always"||tx.isOnline())&&e.canRun(),d=()=>HD(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),a.resolve(m))},h=m=>{i()||(n==null||n(),a.reject(m))},p=()=>new Promise(m=>{var w;n=x=>{(i()||u())&&m(x)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),b=()=>{if(i())return;let m;const w=r===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(f).catch(x=>{var _;if(i())return;const g=e.retry??(uc?0:3),v=e.retryDelay??pK,j=typeof v=="function"?v(r,x):v,N=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,x);if(t||!N){h(x);return}r++,(_=e.onFail)==null||_.call(e,r,x),lK(j).then(()=>u()?void 0:p()).then(()=>{t?h(x):b()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():p().then(b),a)}}var Kl,l$,QD=(l$=class{constructor(){et(this,Kl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T1(this.gcTime)&&Ie(this,Kl,Ll.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(uc?1/0:5*60*1e3))}clearGcTimeout(){W(this,Kl)&&(Ll.clearTimeout(W(this,Kl)),Ie(this,Kl,void 0))}},Kl=new WeakMap,l$),Hl,sd,zs,Gl,fn,pp,Ql,xa,xi,c$,gK=(c$=class extends QD{constructor(t){super();et(this,xa);et(this,Hl);et(this,sd);et(this,zs);et(this,Gl);et(this,fn);et(this,pp);et(this,Ql);Ie(this,Ql,!1),Ie(this,pp,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ie(this,Gl,t.client),Ie(this,zs,W(this,Gl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ie(this,Hl,SE(this.options)),this.state=t.state??W(this,Hl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,fn))==null?void 0:t.promise}setOptions(t){if(this.options={...W(this,pp),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=SE(this.options);r.data!==void 0&&(this.setState(_E(r.data,r.dataUpdatedAt)),Ie(this,Hl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,zs).remove(this)}setData(t,r){const n=R1(this.state.data,t,this.options);return yt(this,xa,xi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){yt(this,xa,xi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=W(this,fn))==null?void 0:n.promise;return(a=W(this,fn))==null||a.cancel(t),r?r.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Hl))}isActive(){return this.observers.some(t=>Ws(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qD(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,fn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,fn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,zs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(W(this,fn)&&(W(this,Ql)?W(this,fn).cancel({revert:!0}):W(this,fn).cancelRetry()),this.scheduleGc()),W(this,zs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,xa,xi).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,b,m,w,x,g,v;if(this.state.fetchStatus!=="idle"&&((c=W(this,fn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,fn))return W(this,fn).continueRetry(),W(this,fn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Ie(this,Ql,!0),n.signal)})},i=()=>{const j=WD(this.options,r),_=(()=>{const S={client:W(this,Gl),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return Ie(this,Ql,!1),this.options.persister?this.options.persister(j,_,this):j(_)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:W(this,Gl),state:this.state,fetchFn:i};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),Ie(this,sd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&yt(this,xa,xi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ie(this,fn,GD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof M1&&j.revert&&this.setState({...W(this,sd),fetchStatus:"idle"}),n.abort()},onFail:(j,N)=>{yt(this,xa,xi).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{yt(this,xa,xi).call(this,{type:"pause"})},onContinue:()=>{yt(this,xa,xi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await W(this,fn).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(p=(h=W(this,zs).config).onSuccess)==null||p.call(h,j,this),(m=(b=W(this,zs).config).onSettled)==null||m.call(b,j,this.state.error,this),j}catch(j){if(j instanceof M1){if(j.silent)return W(this,fn).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw yt(this,xa,xi).call(this,{type:"error",error:j}),(x=(w=W(this,zs).config).onError)==null||x.call(w,j,this),(v=(g=W(this,zs).config).onSettled)==null||v.call(g,this.state.data,j,this),j}finally{this.scheduleGc()}}},Hl=new WeakMap,sd=new WeakMap,zs=new WeakMap,Gl=new WeakMap,fn=new WeakMap,pp=new WeakMap,Ql=new WeakMap,xa=new WeakSet,xi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...YD(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,..._E(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ie(this,sd,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),an.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),W(this,zs).notify({query:this,type:"updated",action:t})})},c$);function YD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _E(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function SE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ns,Tt,gp,Ln,Yl,ad,Ni,_o,vp,id,od,Xl,Jl,So,ld,zt,vh,D1,L1,F1,U1,B1,V1,q1,XD,u$,vK=(u$=class extends df{constructor(t,r){super();et(this,zt);et(this,ns);et(this,Tt);et(this,gp);et(this,Ln);et(this,Yl);et(this,ad);et(this,Ni);et(this,_o);et(this,vp);et(this,id);et(this,od);et(this,Xl);et(this,Jl);et(this,So);et(this,ld,new Set);this.options=r,Ie(this,ns,t),Ie(this,_o,null),Ie(this,Ni,$1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,Tt).addObserver(this),kE(W(this,Tt),this.options)?yt(this,zt,vh).call(this):this.updateResult(),yt(this,zt,U1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return z1(W(this,Tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return z1(W(this,Tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,yt(this,zt,B1).call(this),yt(this,zt,V1).call(this),W(this,Tt).removeObserver(this)}setOptions(t){const r=this.options,n=W(this,Tt);if(this.options=W(this,ns).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ws(this.options.enabled,W(this,Tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");yt(this,zt,q1).call(this),W(this,Tt).setOptions(this.options),r._defaulted&&!ex(this.options,r)&&W(this,ns).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,Tt),observer:this});const a=this.hasListeners();a&&CE(W(this,Tt),n,this.options,r)&&yt(this,zt,vh).call(this),this.updateResult(),a&&(W(this,Tt)!==n||Ws(this.options.enabled,W(this,Tt))!==Ws(r.enabled,W(this,Tt))||Bo(this.options.staleTime,W(this,Tt))!==Bo(r.staleTime,W(this,Tt)))&&yt(this,zt,D1).call(this);const i=yt(this,zt,L1).call(this);a&&(W(this,Tt)!==n||Ws(this.options.enabled,W(this,Tt))!==Ws(r.enabled,W(this,Tt))||i!==W(this,So))&&yt(this,zt,F1).call(this,i)}getOptimisticResult(t){const r=W(this,ns).getQueryCache().build(W(this,ns),t),n=this.createResult(r,t);return yK(this,n)&&(Ie(this,Ln,n),Ie(this,ad,this.options),Ie(this,Yl,W(this,Tt).state)),n}getCurrentResult(){return W(this,Ln)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&W(this,Ni).status==="pending"&&W(this,Ni).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){W(this,ld).add(t)}getCurrentQuery(){return W(this,Tt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=W(this,ns).defaultQueryOptions(t),n=W(this,ns).getQueryCache().build(W(this,ns),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return yt(this,zt,vh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,Ln)))}createResult(t,r){var C;const n=W(this,Tt),a=this.options,i=W(this,Ln),o=W(this,Yl),l=W(this,ad),u=t!==n?t.state:W(this,gp),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const P=this.hasListeners(),E=!P&&kE(t,r),O=P&&CE(t,n,r,a);(E||O)&&(f={...f,...YD(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:m,status:w}=f;p=f.data;let x=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let P;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(P=i.data,x=!0):P=typeof r.placeholderData=="function"?r.placeholderData((C=W(this,od))==null?void 0:C.state.data,W(this,od)):r.placeholderData,P!==void 0&&(w="success",p=R1(i==null?void 0:i.data,P,r),h=!0)}if(r.select&&p!==void 0&&!x)if(i&&p===(o==null?void 0:o.data)&&r.select===W(this,vp))p=W(this,id);else try{Ie(this,vp,r.select),p=r.select(p),p=R1(i==null?void 0:i.data,p,r),Ie(this,id,p),Ie(this,_o,null)}catch(P){Ie(this,_o,P)}W(this,_o)&&(b=W(this,_o),p=W(this,id),m=Date.now(),w="error");const g=f.fetchStatus==="fetching",v=w==="pending",j=w==="error",N=v&&g,_=p!==void 0,k={status:w,fetchStatus:f.fetchStatus,isPending:v,isSuccess:w==="success",isError:j,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:j&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&_,isStale:xk(t,r),refetch:this.refetch,promise:W(this,Ni),isEnabled:Ws(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=I=>{k.status==="error"?I.reject(k.error):k.data!==void 0&&I.resolve(k.data)},E=()=>{const I=Ie(this,Ni,k.promise=$1());P(I)},O=W(this,Ni);switch(O.status){case"pending":t.queryHash===n.queryHash&&P(O);break;case"fulfilled":(k.status==="error"||k.data!==O.value)&&E();break;case"rejected":(k.status!=="error"||k.error!==O.reason)&&E();break}}return k}updateResult(){const t=W(this,Ln),r=this.createResult(W(this,Tt),this.options);if(Ie(this,Yl,W(this,Tt).state),Ie(this,ad,this.options),W(this,Yl).data!==void 0&&Ie(this,od,W(this,Tt)),ex(r,t))return;Ie(this,Ln,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!W(this,ld).size)return!0;const o=new Set(i??W(this,ld));return this.options.throwOnError&&o.add("error"),Object.keys(W(this,Ln)).some(l=>{const c=l;return W(this,Ln)[c]!==t[c]&&o.has(c)})};yt(this,zt,XD).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&yt(this,zt,U1).call(this)}},ns=new WeakMap,Tt=new WeakMap,gp=new WeakMap,Ln=new WeakMap,Yl=new WeakMap,ad=new WeakMap,Ni=new WeakMap,_o=new WeakMap,vp=new WeakMap,id=new WeakMap,od=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,So=new WeakMap,ld=new WeakMap,zt=new WeakSet,vh=function(t){yt(this,zt,q1).call(this);let r=W(this,Tt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Vn)),r},D1=function(){yt(this,zt,B1).call(this);const t=Bo(this.options.staleTime,W(this,Tt));if(uc||W(this,Ln).isStale||!T1(t))return;const n=qD(W(this,Ln).dataUpdatedAt,t)+1;Ie(this,Xl,Ll.setTimeout(()=>{W(this,Ln).isStale||this.updateResult()},n))},L1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,Tt)):this.options.refetchInterval)??!1},F1=function(t){yt(this,zt,V1).call(this),Ie(this,So,t),!(uc||Ws(this.options.enabled,W(this,Tt))===!1||!T1(W(this,So))||W(this,So)===0)&&Ie(this,Jl,Ll.setInterval(()=>{(this.options.refetchIntervalInBackground||vk.isFocused())&&yt(this,zt,vh).call(this)},W(this,So)))},U1=function(){yt(this,zt,D1).call(this),yt(this,zt,F1).call(this,yt(this,zt,L1).call(this))},B1=function(){W(this,Xl)&&(Ll.clearTimeout(W(this,Xl)),Ie(this,Xl,void 0))},V1=function(){W(this,Jl)&&(Ll.clearInterval(W(this,Jl)),Ie(this,Jl,void 0))},q1=function(){const t=W(this,ns).getQueryCache().build(W(this,ns),this.options);if(t===W(this,Tt))return;const r=W(this,Tt);Ie(this,Tt,t),Ie(this,gp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},XD=function(t){an.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(W(this,Ln))}),W(this,ns).getQueryCache().notify({query:W(this,Tt),type:"observerResultsUpdated"})})},u$);function xK(e,t){return Ws(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kE(e,t){return xK(e,t)||e.state.data!==void 0&&z1(e,t,t.refetchOnMount)}function z1(e,t,r){if(Ws(t.enabled,e)!==!1&&Bo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&xk(e,t)}return!1}function CE(e,t,r,n){return(e!==t||Ws(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&xk(e,r)}function xk(e,t){return Ws(t.enabled,e)!==!1&&e.isStaleByTime(Bo(t.staleTime,e))}function yK(e,t){return!ex(e.getCurrentResult(),t)}function PE(e){return{onFetch:(t,r)=>{var d,f,h,p,b;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=WD(t.options,t.fetchOptions),g=async(v,j,N)=>{if(m)return Promise.reject();if(j==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return w(E),E})(),k=await x(S),{maxPages:C}=t.options,P=N?uK:cK;return{pages:P(v.pages,k,C),pageParams:P(v.pageParams,j,C)}};if(a&&i.length){const v=a==="backward",j=v?bK:EE,N={pages:i,pageParams:o},_=j(n,N);l=await g(N,_,v)}else{const v=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:EE(n,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function EE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function bK(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var xp,Ka,Fn,Zl,Ha,lo,d$,wK=(d$=class extends QD{constructor(t){super();et(this,Ha);et(this,xp);et(this,Ka);et(this,Fn);et(this,Zl);Ie(this,xp,t.client),this.mutationId=t.mutationId,Ie(this,Fn,t.mutationCache),Ie(this,Ka,[]),this.state=t.state||JD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,Ka).includes(t)||(W(this,Ka).push(t),this.clearGcTimeout(),W(this,Fn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ie(this,Ka,W(this,Ka).filter(r=>r!==t)),this.scheduleGc(),W(this,Fn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,Ka).length||(this.state.status==="pending"?this.scheduleGc():W(this,Fn).remove(this))}continue(){var t;return((t=W(this,Zl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,b,m,w,x,g,v,j,N,_,S,k,C;const r=()=>{yt(this,Ha,lo).call(this,{type:"continue"})},n={client:W(this,xp),meta:this.options.meta,mutationKey:this.options.mutationKey};Ie(this,Zl,GD({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,E)=>{yt(this,Ha,lo).call(this,{type:"failed",failureCount:P,error:E})},onPause:()=>{yt(this,Ha,lo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Fn).canRun(this)}));const a=this.state.status==="pending",i=!W(this,Zl).canStart();try{if(a)r();else{yt(this,Ha,lo).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=W(this,Fn).config).onMutate)==null?void 0:l.call(o,t,this,n));const E=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));E!==this.state.context&&yt(this,Ha,lo).call(this,{type:"pending",context:E,variables:t,isPaused:i})}const P=await W(this,Zl).start();return await((f=(d=W(this,Fn).config).onSuccess)==null?void 0:f.call(d,P,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,P,t,this.state.context,n)),await((m=(b=W(this,Fn).config).onSettled)==null?void 0:m.call(b,P,null,this.state.variables,this.state.context,this,n)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,P,null,t,this.state.context,n)),yt(this,Ha,lo).call(this,{type:"success",data:P}),P}catch(P){try{throw await((v=(g=W(this,Fn).config).onError)==null?void 0:v.call(g,P,t,this.state.context,this,n)),await((N=(j=this.options).onError)==null?void 0:N.call(j,P,t,this.state.context,n)),await((S=(_=W(this,Fn).config).onSettled)==null?void 0:S.call(_,void 0,P,this.state.variables,this.state.context,this,n)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,P,t,this.state.context,n)),P}finally{yt(this,Ha,lo).call(this,{type:"error",error:P})}}finally{W(this,Fn).runNext(this)}}},xp=new WeakMap,Ka=new WeakMap,Fn=new WeakMap,Zl=new WeakMap,Ha=new WeakSet,lo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),an.batch(()=>{W(this,Ka).forEach(n=>{n.onMutationUpdate(t)}),W(this,Fn).notify({mutation:this,type:"updated",action:t})})},d$);function JD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _i,ya,yp,f$,jK=(f$=class extends df{constructor(t={}){super();et(this,_i);et(this,ya);et(this,yp);this.config=t,Ie(this,_i,new Set),Ie(this,ya,new Map),Ie(this,yp,0)}build(t,r,n){const a=new wK({client:t,mutationCache:this,mutationId:++ug(this,yp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){W(this,_i).add(t);const r=Eg(t);if(typeof r=="string"){const n=W(this,ya).get(r);n?n.push(t):W(this,ya).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(W(this,_i).delete(t)){const r=Eg(t);if(typeof r=="string"){const n=W(this,ya).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&W(this,ya).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Eg(t);if(typeof r=="string"){const n=W(this,ya).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Eg(t);if(typeof r=="string"){const a=(n=W(this,ya).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){an.batch(()=>{W(this,_i).forEach(t=>{this.notify({type:"removed",mutation:t})}),W(this,_i).clear(),W(this,ya).clear()})}getAll(){return Array.from(W(this,_i))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wE(r,n))}findAll(t={}){return this.getAll().filter(r=>wE(t,r))}notify(t){an.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return an.batch(()=>Promise.all(t.map(r=>r.continue().catch(Vn))))}},_i=new WeakMap,ya=new WeakMap,yp=new WeakMap,f$);function Eg(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Si,ko,ss,ki,Di,wv,W1,h$,NK=(h$=class extends df{constructor(r,n){super();et(this,Di);et(this,Si);et(this,ko);et(this,ss);et(this,ki);Ie(this,Si,r),this.setOptions(n),this.bindMethods(),yt(this,Di,wv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=W(this,Si).defaultMutationOptions(r),ex(this.options,n)||W(this,Si).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,ss),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&dc(n.mutationKey)!==dc(this.options.mutationKey)?this.reset():((a=W(this,ss))==null?void 0:a.state.status)==="pending"&&W(this,ss).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=W(this,ss))==null||r.removeObserver(this)}onMutationUpdate(r){yt(this,Di,wv).call(this),yt(this,Di,W1).call(this,r)}getCurrentResult(){return W(this,ko)}reset(){var r;(r=W(this,ss))==null||r.removeObserver(this),Ie(this,ss,void 0),yt(this,Di,wv).call(this),yt(this,Di,W1).call(this)}mutate(r,n){var a;return Ie(this,ki,n),(a=W(this,ss))==null||a.removeObserver(this),Ie(this,ss,W(this,Si).getMutationCache().build(W(this,Si),this.options)),W(this,ss).addObserver(this),W(this,ss).execute(r)}},Si=new WeakMap,ko=new WeakMap,ss=new WeakMap,ki=new WeakMap,Di=new WeakSet,wv=function(){var n;const r=((n=W(this,ss))==null?void 0:n.state)??JD();Ie(this,ko,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},W1=function(r){an.batch(()=>{var n,a,i,o,l,c,u,d;if(W(this,ki)&&this.hasListeners()){const f=W(this,ko).variables,h=W(this,ko).context,p={client:W(this,Si),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=W(this,ki)).onSuccess)==null||a.call(n,r.data,f,h,p),(o=(i=W(this,ki)).onSettled)==null||o.call(i,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=W(this,ki)).onError)==null||c.call(l,r.error,f,h,p),(d=(u=W(this,ki)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(W(this,ko))})})},h$),Ga,m$,_K=(m$=class extends df{constructor(t={}){super();et(this,Ga);this.config=t,Ie(this,Ga,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??pk(a,r);let o=this.get(i);return o||(o=new gK({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){W(this,Ga).has(t.queryHash)||(W(this,Ga).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=W(this,Ga).get(t.queryHash);r&&(t.destroy(),r===t&&W(this,Ga).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){an.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,Ga).get(t)}getAll(){return[...W(this,Ga).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>bE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>bE(t,n)):r}notify(t){an.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){an.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ga=new WeakMap,m$),Ar,Co,Po,cd,ud,Eo,dd,fd,p$,SK=(p$=class{constructor(e={}){et(this,Ar);et(this,Co);et(this,Po);et(this,cd);et(this,ud);et(this,Eo);et(this,dd);et(this,fd);Ie(this,Ar,e.queryCache||new _K),Ie(this,Co,e.mutationCache||new jK),Ie(this,Po,e.defaultOptions||{}),Ie(this,cd,new Map),Ie(this,ud,new Map),Ie(this,Eo,0)}mount(){ug(this,Eo)._++,W(this,Eo)===1&&(Ie(this,dd,vk.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,Ar).onFocus())})),Ie(this,fd,tx.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,Ar).onOnline())})))}unmount(){var e,t;ug(this,Eo)._--,W(this,Eo)===0&&((e=W(this,dd))==null||e.call(this),Ie(this,dd,void 0),(t=W(this,fd))==null||t.call(this),Ie(this,fd,void 0))}isFetching(e){return W(this,Ar).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,Co).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,Ar).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=W(this,Ar).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Bo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return W(this,Ar).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=W(this,Ar).get(n.queryHash),i=a==null?void 0:a.state.data,o=iK(t,i);if(o!==void 0)return W(this,Ar).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return an.batch(()=>W(this,Ar).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,Ar).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=W(this,Ar);an.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=W(this,Ar);return an.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=an.batch(()=>W(this,Ar).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Vn).catch(Vn)}invalidateQueries(e,t={}){return an.batch(()=>(W(this,Ar).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=an.batch(()=>W(this,Ar).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Vn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=W(this,Ar).build(this,t);return r.isStaleByTime(Bo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vn).catch(Vn)}fetchInfiniteQuery(e){return e.behavior=PE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vn).catch(Vn)}ensureInfiniteQueryData(e){return e.behavior=PE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return tx.isOnline()?W(this,Co).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Ar)}getMutationCache(){return W(this,Co)}getDefaultOptions(){return W(this,Po)}setDefaultOptions(e){Ie(this,Po,e)}setQueryDefaults(e,t){W(this,cd).set(dc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,cd).values()],r={};return t.forEach(n=>{dm(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){W(this,ud).set(dc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,ud).values()],r={};return t.forEach(n=>{dm(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Po).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Po).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,Ar).clear(),W(this,Co).clear()}},Ar=new WeakMap,Co=new WeakMap,Po=new WeakMap,cd=new WeakMap,ud=new WeakMap,Eo=new WeakMap,dd=new WeakMap,fd=new WeakMap,p$),ZD=y.createContext(void 0),e5=e=>{const t=y.useContext(ZD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},kK=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(ZD.Provider,{value:e,children:t})),t5=y.createContext(!1),CK=()=>y.useContext(t5);t5.Provider;function PK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var EK=y.createContext(PK()),AK=()=>y.useContext(EK),OK=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},TK=e=>{y.useEffect(()=>{e.clearReset()},[e])},IK=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||KD(r,[e.error,n])),RK=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},$K=(e,t)=>e.isLoading&&e.isFetching&&!t,MK=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,AE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function DK(e,t,r){var f,h,p,b,m;const n=CK(),a=AK(),i=e5(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",RK(o),OK(o,a),TK(a);const l=!i.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(w=>{const x=d?c.subscribe(an.batchCalls(w)):Vn;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o)},[o,c]),MK(o,u))throw AE(o,c,a);if(IK({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||b.call(p,o,u),o.experimental_prefetchInRender&&!uc&&$K(u,n)){const w=l?AE(o,c,a):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;w==null||w.catch(Vn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ce(e,t){return DK(e,vK)}function xe(e,t){const r=e5(),[n]=y.useState(()=>new NK(r,e));y.useEffect(()=>{n.setOptions(e)},[n,e]);const a=y.useSyncExternalStore(y.useCallback(o=>n.subscribe(an.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=y.useCallback((o,l)=>{n.mutate(o,l).catch(Vn)},[n]);if(a.error&&KD(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function r5(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ve(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await r5(n),n}const n5=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await r5(r),await r.json())},Z=new SK({defaultOptions:{queries:{queryFn:n5({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),LK=1,FK=1e6;let Ew=0;function UK(){return Ew=(Ew+1)%Number.MAX_SAFE_INTEGER,Ew.toString()}const Aw=new Map,OE=e=>{if(Aw.has(e))return;const t=setTimeout(()=>{Aw.delete(e),$h({type:"REMOVE_TOAST",toastId:e})},FK);Aw.set(e,t)},BK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,LK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?OE(r):e.toasts.forEach(n=>{OE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},jv=[];let Nv={toasts:[]};function $h(e){Nv=BK(Nv,e),jv.forEach(t=>{t(Nv)})}function VK({...e}){const t=UK(),r=a=>$h({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>$h({type:"DISMISS_TOAST",toastId:t});return $h({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function gt(){const[e,t]=y.useState(Nv);return y.useEffect(()=>(jv.push(t),()=>{const r=jv.indexOf(t);r>-1&&jv.splice(r,1)}),[e]),{...e,toast:VK,dismiss:r=>$h({type:"DISMISS_TOAST",toastId:r})}}function Ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function TE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xn(...e){return t=>{let r=!1;const n=e.map(a=>{const i=TE(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():TE(e[a],null)}}}}function dt(...e){return y.useCallback(Xn(...e),e)}function qK(e,t){const r=y.createContext(t),n=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Cn(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...b}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,w=y.useMemo(()=>b,Object.values(b));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,b=y.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,zK(a,...t)]}function zK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function IE(e){const t=WK(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(HK);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function WK(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=QK(a),l=GK(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Xn(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KK=Symbol("radix.slottable");function HK(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KK}function GK(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function QK(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Sp(e){const t=e+"CollectionProvider",[r,n]=Cn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:x}=m,g=D.useRef(null),v=D.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:v,collectionRef:g,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=IE(l),u=D.forwardRef((m,w)=>{const{scope:x,children:g}=m,v=i(l,x),j=dt(w,v.collectionRef);return s.jsx(c,{ref:j,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=IE(d),p=D.forwardRef((m,w)=>{const{scope:x,children:g,...v}=m,j=D.useRef(null),N=dt(w,j),_=i(d,x);return D.useEffect(()=>(_.itemMap.set(j,{ref:j,...v}),()=>void _.itemMap.delete(j))),s.jsx(h,{[f]:"",ref:N,children:g})});p.displayName=d;function b(m){const w=i(e+"CollectionConsumer",m);return D.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((_,S)=>v.indexOf(_.ref.current)-v.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},b,n]}function YK(e){const t=XK(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(ZK);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function XK(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=tH(a),l=eH(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Xn(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JK=Symbol("radix.slottable");function ZK(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JK}function eH(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function tH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=rH.reduce((e,t)=>{const r=YK(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yk(e,t){e&&Oc.flushSync(()=>e.dispatchEvent(t))}function $r(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function nH(e,t=globalThis==null?void 0:globalThis.document){const r=$r(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var sH="DismissableLayer",K1="dismissableLayer.update",aH="dismissableLayer.pointerDownOutside",iH="dismissableLayer.focusOutside",RE,s5=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tc=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(s5),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),b=dt(t,S=>f(S)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(w),g=d?m.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=x,N=lH(S=>{const k=S.target,C=[...u.branches].some(P=>P.contains(k));!j||C||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),_=cH(S=>{const k=S.target;[...u.branches].some(P=>P.contains(k))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return nH(S=>{g===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(RE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),$E(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=RE)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),$E())},[d,u]),y.useEffect(()=>{const S=()=>p({});return document.addEventListener(K1,S),()=>document.removeEventListener(K1,S)},[]),s.jsx(Me.div,{...c,ref:b,style:{pointerEvents:v?j?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,N.onPointerDownCapture)})});Tc.displayName=sH;var oH="DismissableLayerBranch",a5=y.forwardRef((e,t)=>{const r=y.useContext(s5),n=y.useRef(null),a=dt(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Me.div,{...e,ref:a})});a5.displayName=oH;function lH(e,t=globalThis==null?void 0:globalThis.document){const r=$r(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){i5(aH,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function cH(e,t=globalThis==null?void 0:globalThis.document){const r=$r(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&i5(iH,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function $E(){const e=new CustomEvent(K1);document.dispatchEvent(e)}function i5(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yk(a,i):a.dispatchEvent(i)}var uH=Tc,dH=a5,Mr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},fH="Portal",ff=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=y.useState(!1);Mr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?PW.createPortal(s.jsx(Me.div,{...n,ref:t}),o):null});ff.displayName=fH;function hH(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var cn=e=>{const{present:t,children:r}=e,n=mH(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=dt(n.ref,pH(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};cn.displayName="Presence";function mH(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=hH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Ag(n.current);i.current=l==="mounted"?u:"none"},[l]),Mr(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=Ag(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Mr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Ag(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(i.current=Ag(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ag(e){return(e==null?void 0:e.animationName)||"none"}function pH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gH=Fy[" useInsertionEffect ".trim().toString()]||Mr;function hs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=vH({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=y.useCallback(d=>{var f;if(l){const h=xH(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function vH({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return gH(()=>{i.current=t},[t]),y.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function xH(e){return typeof e=="function"}var o5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yH="VisuallyHidden",nb=y.forwardRef((e,t)=>s.jsx(Me.span,{...e,ref:t,style:{...o5,...e.style}}));nb.displayName=yH;var bH=nb,bk="ToastProvider",[wk,wH,jH]=Sp("Toast"),[l5]=Cn("Toast",[jH]),[NH,sb]=l5(bk),c5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${bk}\`. Expected non-empty \`string\`.`),s.jsx(wk.Provider,{scope:t,children:s.jsx(NH,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(p=>p+1),[]),onToastRemove:y.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};c5.displayName=bk;var u5="ToastViewport",_H=["F8"],H1="toast.viewportPause",G1="toast.viewportResume",d5=y.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=_H,label:a="Notifications ({hotkey})",...i}=e,o=sb(u5,r),l=wH(r),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=dt(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;y.useEffect(()=>{const w=x=>{var v;n.length!==0&&n.every(j=>x[j]||x.code===j)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),y.useEffect(()=>{const w=c.current,x=f.current;if(b&&w&&x){const g=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(H1);x.dispatchEvent(_),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(G1);x.dispatchEvent(_),o.isClosePausedRef.current=!1}},j=_=>{!w.contains(_.relatedTarget)&&v()},N=()=>{w.contains(document.activeElement)||v()};return w.addEventListener("focusin",g),w.addEventListener("focusout",j),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",v),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",v)}}},[b,o.isClosePausedRef]);const m=y.useCallback(({tabbingDirection:w})=>{const g=l().map(v=>{const j=v.ref.current,N=[j,...DH(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?g.reverse():g).flat()},[l]);return y.useEffect(()=>{const w=f.current;if(w){const x=g=>{var N,_,S;const v=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!v){const k=document.activeElement,C=g.shiftKey;if(g.target===w&&C){(N=u.current)==null||N.focus();return}const O=m({tabbingDirection:C?"backwards":"forwards"}),I=O.findIndex(T=>T===k);Ow(O.slice(I+1))?g.preventDefault():C?(_=u.current)==null||_.focus():(S=d.current)==null||S.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[l,m]),s.jsxs(dH,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&s.jsx(Q1,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Ow(w)}}),s.jsx(wk.Slot,{scope:r,children:s.jsx(Me.ol,{tabIndex:-1,...i,ref:h})}),b&&s.jsx(Q1,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Ow(w)}})]})});d5.displayName=u5;var f5="ToastFocusProxy",Q1=y.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=sb(f5,r);return s.jsx(nb,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Q1.displayName=f5;var kp="Toast",SH="toast.swipeStart",kH="toast.swipeMove",CH="toast.swipeCancel",PH="toast.swipeEnd",h5=y.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=hs({prop:n,defaultProp:a??!0,onChange:i,caller:kp});return s.jsx(cn,{present:r||l,children:s.jsx(OH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:$r(e.onPause),onResume:$r(e.onResume),onSwipeStart:Ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});h5.displayName=kp;var[EH,AH]=l5(kp,{onClose(){}}),OH=y.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...b}=e,m=sb(kp,r),[w,x]=y.useState(null),g=dt(t,T=>x(T)),v=y.useRef(null),j=y.useRef(null),N=a||m.duration,_=y.useRef(0),S=y.useRef(N),k=y.useRef(0),{onToastAdd:C,onToastRemove:P}=m,E=$r(()=>{var M;(w==null?void 0:w.contains(document.activeElement))&&((M=m.viewport)==null||M.focus()),o()}),O=y.useCallback(T=>{!T||T===1/0||(window.clearTimeout(k.current),_.current=new Date().getTime(),k.current=window.setTimeout(E,T))},[E]);y.useEffect(()=>{const T=m.viewport;if(T){const M=()=>{O(S.current),u==null||u()},V=()=>{const K=new Date().getTime()-_.current;S.current=S.current-K,window.clearTimeout(k.current),c==null||c()};return T.addEventListener(H1,V),T.addEventListener(G1,M),()=>{T.removeEventListener(H1,V),T.removeEventListener(G1,M)}}},[m.viewport,N,c,u,O]),y.useEffect(()=>{i&&!m.isClosePausedRef.current&&O(N)},[i,N,m.isClosePausedRef,O]),y.useEffect(()=>(C(),()=>P()),[C,P]);const I=y.useMemo(()=>w?b5(w):null,[w]);return m.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx(TH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:I}),s.jsx(EH,{scope:r,onClose:E,children:Oc.createPortal(s.jsx(wk.ItemSlot,{scope:r,children:s.jsx(uH,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||E(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Me.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...b,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Ne(e.onPointerDown,T=>{T.button===0&&(v.current={x:T.clientX,y:T.clientY})}),onPointerMove:Ne(e.onPointerMove,T=>{if(!v.current)return;const M=T.clientX-v.current.x,V=T.clientY-v.current.y,K=!!j.current,A=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,G=A?R(0,M):0,Y=A?0:R(0,V),F=T.pointerType==="touch"?10:2,X={x:G,y:Y},le={originalEvent:T,delta:X};K?(j.current=X,Og(kH,f,le,{discrete:!1})):ME(X,m.swipeDirection,F)?(j.current=X,Og(SH,d,le,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(M)>F||Math.abs(V)>F)&&(v.current=null)}),onPointerUp:Ne(e.onPointerUp,T=>{const M=j.current,V=T.target;if(V.hasPointerCapture(T.pointerId)&&V.releasePointerCapture(T.pointerId),j.current=null,v.current=null,M){const K=T.currentTarget,A={originalEvent:T,delta:M};ME(M,m.swipeDirection,m.swipeThreshold)?Og(PH,p,A,{discrete:!0}):Og(CH,h,A,{discrete:!0}),K.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),TH=e=>{const{__scopeToast:t,children:r,...n}=e,a=sb(kp,t),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return $H(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(ff,{asChild:!0,children:s.jsx(nb,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},IH="ToastTitle",m5=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});m5.displayName=IH;var RH="ToastDescription",p5=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});p5.displayName=RH;var g5="ToastAction",v5=y.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(y5,{altText:r,asChild:!0,children:s.jsx(jk,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${g5}\`. Expected non-empty \`string\`.`),null)});v5.displayName=g5;var x5="ToastClose",jk=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=AH(x5,r);return s.jsx(y5,{asChild:!0,children:s.jsx(Me.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,a.onClose)})})});jk.displayName=x5;var y5=y.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function b5(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),MH(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...b5(n))}}),t}function Og(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yk(a,i):a.dispatchEvent(i)}var ME=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function $H(e=()=>{}){const t=$r(e);Mr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function MH(e){return e.nodeType===e.ELEMENT_NODE}function DH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ow(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var LH=c5,w5=d5,j5=h5,N5=m5,_5=p5,S5=v5,k5=jk;function C5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=C5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=C5(e))&&(n&&(n+=" "),n+=t);return n}const DE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,LE=xt,Cp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return LE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=DE(d)||DE(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(b=>{let[m,w]=b;return Array.isArray(w)?w.includes({...i,...l}[m]):{...i,...l}[m]===w})?[...u,f,h]:u},[]);return LE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P5=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...UH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:P5("lucide",a),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const r=y.forwardRef(({className:n,...a},i)=>y.createElement(BH,{ref:i,iconNode:t,className:P5(`lucide-${FH(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=pe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=pe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=pe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=pe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=pe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=pe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=pe("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=pe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=pe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=pe("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=pe("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=pe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=pe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=pe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=pe("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=pe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=pe("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=pe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=pe("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=pe("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=pe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=pe("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=pe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=pe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=pe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=pe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=pe("MessageSquareQuote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=pe("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=pe("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=pe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=pe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=pe("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=pe("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=pe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=pe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=pe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=pe("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=pe("Spade",[["path",{d:"M5 9c-1.5 1.5-3 3.2-3 5.5A5.5 5.5 0 0 0 7.5 20c1.8 0 3-.5 4.5-2 1.5 1.5 2.7 2 4.5 2a5.5 5.5 0 0 0 5.5-5.5c0-2.3-1.5-4-3-5.5l-7-7-7 7Z",key:"40bo9n"}],["path",{d:"M12 18v4",key:"jadmvz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=pe("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=pe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=pe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=pe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),vG=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},xG=(e,t)=>({classGroupId:e,validator:t}),U5=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),ox="-",HE=[],yG="arbitrary..",bG=e=>{const t=jG(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return wG(o);const l=o.split(ox),c=l[0]===""&&l.length>1?1:0;return B5(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],u=r[o];return c?u?vG(u,c):c:u||HE}return r[o]||HE}}},B5=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const u=B5(e,t+1,i);if(u)return u}const o=r.validators;if(o===null)return;const l=t===0?e.join(ox):e.slice(t).join(ox),c=o.length;for(let u=0;u<c;u++){const d=o[u];if(d.validator(l))return d.classGroupId}},wG=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?yG+n:void 0})(),jG=e=>{const{theme:t,classGroups:r}=e;return NG(r,t)},NG=(e,t)=>{const r=U5();for(const n in e){const a=e[n];Ck(a,r,n,t)}return r},Ck=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];_G(o,t,r,n)}},_G=(e,t,r,n)=>{if(typeof e=="string"){SG(e,t,r);return}if(typeof e=="function"){kG(e,t,r,n);return}CG(e,t,r,n)},SG=(e,t,r)=>{const n=e===""?t:V5(t,e);n.classGroupId=r},kG=(e,t,r,n)=>{if(PG(e)){Ck(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(xG(r,e))},CG=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];Ck(c,V5(t,l),r,n)}},V5=(e,t)=>{let r=e;const n=t.split(ox),a=n.length;for(let i=0;i<a;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=U5(),r.nextPart.set(o,l)),r=l}return r},PG=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,EG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},eN="!",GE=":",AG=[],QE=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),OG=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,u;const d=a.length;for(let m=0;m<d;m++){const w=a[m];if(o===0&&l===0){if(w===GE){i.push(a.slice(c,m)),c=m+1;continue}if(w==="/"){u=m;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const f=i.length===0?a:a.slice(c);let h=f,p=!1;f.endsWith(eN)?(h=f.slice(0,-1),p=!0):f.startsWith(eN)&&(h=f.slice(1),p=!0);const b=u&&u>c?u-c:void 0;return QE(i,p,h,b)};if(t){const a=t+GE,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):QE(AG,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},TG=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},IG=e=>({cache:EG(e.cacheSize),parseClassName:OG(e),sortModifiers:TG(e),...bG(e)}),RG=/\s+/,$G=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(RG);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!m,x=n(w?b.substring(0,m):b);if(!x){if(!w){c=d+(c.length>0?" "+c:c);continue}if(x=n(b),!x){c=d+(c.length>0?" "+c:c);continue}w=!1}const g=h.length===0?"":h.length===1?h[0]:i(h).join(":"),v=p?g+eN:g,j=v+x;if(o.indexOf(j)>-1)continue;o.push(j);const N=a(x,w);for(let _=0;_<N.length;++_){const S=N[_];o.push(v+S)}c=d+(c.length>0?" "+c:c)}return c},MG=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=q5(r))&&(a&&(a+=" "),a+=n);return a},q5=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=q5(e[n]))&&(r&&(r+=" "),r+=t);return r},DG=(e,...t)=>{let r,n,a,i;const o=c=>{const u=t.reduce((d,f)=>f(d),e());return r=IG(u),n=r.cache.get,a=r.cache.set,i=l,l(c)},l=c=>{const u=n(c);if(u)return u;const d=$G(c,r);return a(c,d),d};return i=o,(...c)=>i(MG(...c))},LG=[],Zr=e=>{const t=r=>r[e]||LG;return t.isThemeGetter=!0,t},z5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,W5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,FG=/^\d+\/\d+$/,UG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jc=e=>FG.test(e),bt=e=>!!e&&!Number.isNaN(Number(e)),io=e=>!!e&&Number.isInteger(Number(e)),Tw=e=>e.endsWith("%")&&bt(e.slice(0,-1)),pi=e=>UG.test(e),WG=()=>!0,KG=e=>BG.test(e)&&!VG.test(e),K5=()=>!1,HG=e=>qG.test(e),GG=e=>zG.test(e),QG=e=>!Be(e)&&!Ve(e),YG=e=>mf(e,Q5,K5),Be=e=>z5.test(e),vl=e=>mf(e,Y5,KG),Iw=e=>mf(e,tQ,bt),YE=e=>mf(e,H5,K5),XG=e=>mf(e,G5,GG),Tg=e=>mf(e,X5,HG),Ve=e=>W5.test(e),Xf=e=>pf(e,Y5),JG=e=>pf(e,rQ),XE=e=>pf(e,H5),ZG=e=>pf(e,Q5),eQ=e=>pf(e,G5),Ig=e=>pf(e,X5,!0),mf=(e,t,r)=>{const n=z5.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},pf=(e,t,r=!1)=>{const n=W5.exec(e);return n?n[1]?t(n[1]):r:!1},H5=e=>e==="position"||e==="percentage",G5=e=>e==="image"||e==="url",Q5=e=>e==="length"||e==="size"||e==="bg-size",Y5=e=>e==="length",tQ=e=>e==="number",rQ=e=>e==="family-name",X5=e=>e==="shadow",nQ=()=>{const e=Zr("color"),t=Zr("font"),r=Zr("text"),n=Zr("font-weight"),a=Zr("tracking"),i=Zr("leading"),o=Zr("breakpoint"),l=Zr("container"),c=Zr("spacing"),u=Zr("radius"),d=Zr("shadow"),f=Zr("inset-shadow"),h=Zr("text-shadow"),p=Zr("drop-shadow"),b=Zr("blur"),m=Zr("perspective"),w=Zr("aspect"),x=Zr("ease"),g=Zr("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...j(),Ve,Be],_=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],k=()=>[Ve,Be,c],C=()=>[Jc,"full","auto",...k()],P=()=>[io,"none","subgrid",Ve,Be],E=()=>["auto",{span:["full",io,Ve,Be]},io,Ve,Be],O=()=>[io,"auto",Ve,Be],I=()=>["auto","min","max","fr",Ve,Be],T=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],M=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...k()],K=()=>[Jc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],A=()=>[e,Ve,Be],R=()=>[...j(),XE,YE,{position:[Ve,Be]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",ZG,YG,{size:[Ve,Be]}],F=()=>[Tw,Xf,vl],X=()=>["","none","full",u,Ve,Be],le=()=>["",bt,Xf,vl],he=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[bt,Tw,XE,YE],we=()=>["","none",b,Ve,Be],ae=()=>["none",bt,Ve,Be],L=()=>["none",bt,Ve,Be],te=()=>[bt,Ve,Be],H=()=>[Jc,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pi],breakpoint:[pi],color:[WG],container:[pi],"drop-shadow":[pi],ease:["in","out","in-out"],font:[QG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pi],shadow:[pi],spacing:["px",bt],text:[pi],"text-shadow":[pi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jc,Be,Ve,w]}],container:["container"],columns:[{columns:[bt,Be,Ve,l]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[io,"auto",Ve,Be]}],basis:[{basis:[Jc,"full","auto",l,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bt,Jc,"auto","initial","none",Be]}],grow:[{grow:["",bt,Ve,Be]}],shrink:[{shrink:["",bt,Ve,Be]}],order:[{order:[io,"first","last","none",Ve,Be]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...T(),"normal"]}],"justify-items":[{"justify-items":[...M(),"normal"]}],"justify-self":[{"justify-self":["auto",...M()]}],"align-content":[{content:["normal",...T()]}],"align-items":[{items:[...M(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...M(),{baseline:["","last"]}]}],"place-content":[{"place-content":T()}],"place-items":[{"place-items":[...M(),"baseline"]}],"place-self":[{"place-self":["auto",...M()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[l,"screen",...K()]}],"min-w":[{"min-w":[l,"screen","none",...K()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",r,Xf,vl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ve,Iw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Tw,Be]}],"font-family":[{font:[JG,Be,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ve,Be]}],"line-clamp":[{"line-clamp":[bt,"none",Ve,Iw]}],leading:[{leading:[i,...k()]}],"list-image":[{"list-image":["none",Ve,Be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,Be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[bt,"from-font","auto",Ve,vl]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[bt,"auto",Ve,Be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},io,Ve,Be],radial:["",Ve,Be],conic:[io,Ve,Be]},eQ,XG]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[bt,Ve,Be]}],"outline-w":[{outline:["",bt,Xf,vl]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",d,Ig,Tg]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",f,Ig,Tg]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[bt,vl]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",h,Ig,Tg]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[bt,Ve,Be]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[Ve,Be]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,Be]}],filter:[{filter:["","none",Ve,Be]}],blur:[{blur:we()}],brightness:[{brightness:[bt,Ve,Be]}],contrast:[{contrast:[bt,Ve,Be]}],"drop-shadow":[{"drop-shadow":["","none",p,Ig,Tg]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",bt,Ve,Be]}],"hue-rotate":[{"hue-rotate":[bt,Ve,Be]}],invert:[{invert:["",bt,Ve,Be]}],saturate:[{saturate:[bt,Ve,Be]}],sepia:[{sepia:["",bt,Ve,Be]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,Be]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[bt,Ve,Be]}],"backdrop-contrast":[{"backdrop-contrast":[bt,Ve,Be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bt,Ve,Be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bt,Ve,Be]}],"backdrop-invert":[{"backdrop-invert":["",bt,Ve,Be]}],"backdrop-opacity":[{"backdrop-opacity":[bt,Ve,Be]}],"backdrop-saturate":[{"backdrop-saturate":[bt,Ve,Be]}],"backdrop-sepia":[{"backdrop-sepia":["",bt,Ve,Be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,Be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bt,"initial",Ve,Be]}],ease:[{ease:["linear","initial",x,Ve,Be]}],delay:[{delay:[bt,Ve,Be]}],animate:[{animate:["none",g,Ve,Be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Ve,Be]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:ae()}],"rotate-x":[{"rotate-x":ae()}],"rotate-y":[{"rotate-y":ae()}],"rotate-z":[{"rotate-z":ae()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:te()}],"skew-x":[{"skew-x":te()}],"skew-y":[{"skew-y":te()}],transform:[{transform:[Ve,Be,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:H()}],"translate-x":[{"translate-x":H()}],"translate-y":[{"translate-y":H()}],"translate-z":[{"translate-z":H()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,Be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,Be]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[bt,Xf,vl,Iw]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sQ=DG(nQ);function ye(...e){return sQ(xt(e))}const aQ=LH,J5=y.forwardRef(({className:e,...t},r)=>s.jsx(w5,{ref:r,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));J5.displayName=w5.displayName;const iQ=Cp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Z5=y.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(j5,{ref:n,className:ye(iQ({variant:t}),e),...r}));Z5.displayName=j5.displayName;const oQ=y.forwardRef(({className:e,...t},r)=>s.jsx(S5,{ref:r,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));oQ.displayName=S5.displayName;const e3=y.forwardRef(({className:e,...t},r)=>s.jsx(k5,{ref:r,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Nd,{className:"h-4 w-4"})}));e3.displayName=k5.displayName;const t3=y.forwardRef(({className:e,...t},r)=>s.jsx(N5,{ref:r,className:ye("text-sm font-semibold",e),...t}));t3.displayName=N5.displayName;const r3=y.forwardRef(({className:e,...t},r)=>s.jsx(_5,{ref:r,className:ye("text-sm opacity-90",e),...t}));r3.displayName=_5.displayName;function lQ(){const{toasts:e}=gt();return s.jsxs(aQ,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(Z5,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(t3,{children:r}),n&&s.jsx(r3,{children:n})]}),a,s.jsx(e3,{})]},t)}),s.jsx(J5,{})]})}var cQ=Fy[" useId ".trim().toString()]||(()=>{}),uQ=0;function Wr(e){const[t,r]=y.useState(cQ());return Mr(()=>{r(n=>n??String(uQ++))},[e]),t?`radix-${t}`:""}const dQ=["top","right","bottom","left"],Qo=Math.min,js=Math.max,lx=Math.round,Rg=Math.floor,ri=e=>({x:e,y:e}),fQ={left:"right",right:"left",bottom:"top",top:"bottom"},hQ={start:"end",end:"start"};function tN(e,t,r){return js(e,Qo(t,r))}function qi(e,t){return typeof e=="function"?e(t):e}function zi(e){return e.split("-")[0]}function gf(e){return e.split("-")[1]}function Pk(e){return e==="x"?"y":"x"}function Ek(e){return e==="y"?"height":"width"}const mQ=new Set(["top","bottom"]);function Xa(e){return mQ.has(zi(e))?"y":"x"}function Ak(e){return Pk(Xa(e))}function pQ(e,t,r){r===void 0&&(r=!1);const n=gf(e),a=Ak(e),i=Ek(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=cx(o)),[o,cx(o)]}function gQ(e){const t=cx(e);return[rN(e),t,rN(t)]}function rN(e){return e.replace(/start|end/g,t=>hQ[t])}const JE=["left","right"],ZE=["right","left"],vQ=["top","bottom"],xQ=["bottom","top"];function yQ(e,t,r){switch(e){case"top":case"bottom":return r?t?ZE:JE:t?JE:ZE;case"left":case"right":return t?vQ:xQ;default:return[]}}function bQ(e,t,r,n){const a=gf(e);let i=yQ(zi(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(rN)))),i}function cx(e){return e.replace(/left|right|bottom|top/g,t=>fQ[t])}function wQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function n3(e){return typeof e!="number"?wQ(e):{top:e,right:e,bottom:e,left:e}}function ux(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function eA(e,t,r){let{reference:n,floating:a}=e;const i=Xa(t),o=Ak(t),l=Ek(o),c=zi(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(gf(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const jQ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=eA(u,n,c),h=n,p={},b=0;for(let m=0;m<l.length;m++){const{name:w,fn:x}=l[m],{x:g,y:v,data:j,reset:N}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=v??f,p={...p,[w]:{...p[w],...j}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=eA(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function gm(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=qi(t,e),b=n3(p),w=l[h?f==="floating"?"reference":"floating":f],x=ux(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},N=ux(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:c}):g);return{top:(x.top-N.top+b.top)/j.y,bottom:(N.bottom-x.bottom+b.bottom)/j.y,left:(x.left-N.left+b.left)/j.x,right:(N.right-x.right+b.right)/j.x}}const NQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=qi(e,t)||{};if(u==null)return{};const f=n3(d),h={x:r,y:n},p=Ak(a),b=Ek(p),m=await o.getDimensions(u),w=p==="y",x=w?"top":"left",g=w?"bottom":"right",v=w?"clientHeight":"clientWidth",j=i.reference[b]+i.reference[p]-h[p]-i.floating[b],N=h[p]-i.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=_?_[v]:0;(!S||!await(o.isElement==null?void 0:o.isElement(_)))&&(S=l.floating[v]||i.floating[b]);const k=j/2-N/2,C=S/2-m[b]/2-1,P=Qo(f[x],C),E=Qo(f[g],C),O=P,I=S-m[b]-E,T=S/2-m[b]/2+k,M=tN(O,T,I),V=!c.arrow&&gf(a)!=null&&T!==M&&i.reference[b]/2-(T<O?P:E)-m[b]/2<0,K=V?T<O?T-O:T-I:0;return{[p]:h[p]+K,data:{[p]:M,centerOffset:T-M-K,...V&&{alignmentOffset:K}},reset:V}}}),_Q=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:m=!0,...w}=qi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=zi(a),g=Xa(l),v=zi(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(v||!m?[cx(l)]:gQ(l)),_=b!=="none";!h&&_&&N.push(...bQ(l,m,b,j));const S=[l,...N],k=await gm(t,w),C=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[x]),f){const T=pQ(a,o,j);C.push(k[T[0]],k[T[1]])}if(P=[...P,{placement:a,overflows:C}],!C.every(T=>T<=0)){var E,O;const T=(((E=i.flip)==null?void 0:E.index)||0)+1,M=S[T];if(M&&(!(f==="alignment"?g!==Xa(M):!1)||P.every(A=>Xa(A.placement)===g?A.overflows[0]>0:!0)))return{data:{index:T,overflows:P},reset:{placement:M}};let V=(O=P.filter(K=>K.overflows[0]<=0).sort((K,A)=>K.overflows[1]-A.overflows[1])[0])==null?void 0:O.placement;if(!V)switch(p){case"bestFit":{var I;const K=(I=P.filter(A=>{if(_){const R=Xa(A.placement);return R===g||R==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(R=>R>0).reduce((R,G)=>R+G,0)]).sort((A,R)=>A[1]-R[1])[0])==null?void 0:I[0];K&&(V=K);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function tA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rA(e){return dQ.some(t=>e[t]>=0)}const SQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=qi(e,t);switch(n){case"referenceHidden":{const i=await gm(t,{...a,elementContext:"reference"}),o=tA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rA(o)}}}case"escaped":{const i=await gm(t,{...a,altBoundary:!0}),o=tA(i,r.floating);return{data:{escapedOffsets:o,escaped:rA(o)}}}default:return{}}}}},s3=new Set(["left","top"]);async function kQ(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=zi(r),l=gf(r),c=Xa(r)==="y",u=s3.has(o)?-1:1,d=i&&c?-1:1,f=qi(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const CQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await kQ(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},PQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x,y:g}=w;return{x,y:g}}},...c}=qi(e,t),u={x:r,y:n},d=await gm(t,c),f=Xa(zi(a)),h=Pk(f);let p=u[h],b=u[f];if(i){const w=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=p+d[w],v=p-d[x];p=tN(g,p,v)}if(o){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",g=b+d[w],v=b-d[x];b=tN(g,b,v)}const m=l.fn({...t,[h]:p,[f]:b});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},EQ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=qi(e,t),d={x:r,y:n},f=Xa(a),h=Pk(f);let p=d[h],b=d[f];const m=qi(l,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const v=h==="y"?"height":"width",j=i.reference[h]-i.floating[v]+w.mainAxis,N=i.reference[h]+i.reference[v]-w.mainAxis;p<j?p=j:p>N&&(p=N)}if(u){var x,g;const v=h==="y"?"width":"height",j=s3.has(zi(a)),N=i.reference[f]-i.floating[v]+(j&&((x=o.offset)==null?void 0:x[f])||0)+(j?0:w.crossAxis),_=i.reference[f]+i.reference[v]+(j?0:((g=o.offset)==null?void 0:g[f])||0)-(j?w.crossAxis:0);b<N?b=N:b>_&&(b=_)}return{[h]:p,[f]:b}}}},AQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=qi(e,t),d=await gm(t,u),f=zi(a),h=gf(a),p=Xa(a)==="y",{width:b,height:m}=i.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,w=h==="end"?"top":"bottom");const g=m-d.top-d.bottom,v=b-d.left-d.right,j=Qo(m-d[w],g),N=Qo(b-d[x],v),_=!t.middlewareData.shift;let S=j,k=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=g),_&&!h){const P=js(d.left,0),E=js(d.right,0),O=js(d.top,0),I=js(d.bottom,0);p?k=b-2*(P!==0||E!==0?P+E:js(d.left,d.right)):S=m-2*(O!==0||I!==0?O+I:js(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:S});const C=await o.getDimensions(l.floating);return b!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function fb(){return typeof window<"u"}function vf(e){return a3(e)?(e.nodeName||"").toLowerCase():"#document"}function As(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ui(e){var t;return(t=(a3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function a3(e){return fb()?e instanceof Node||e instanceof As(e).Node:!1}function Ma(e){return fb()?e instanceof Element||e instanceof As(e).Element:!1}function ii(e){return fb()?e instanceof HTMLElement||e instanceof As(e).HTMLElement:!1}function nA(e){return!fb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof As(e).ShadowRoot}const OQ=new Set(["inline","contents"]);function Op(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Da(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!OQ.has(a)}const TQ=new Set(["table","td","th"]);function IQ(e){return TQ.has(vf(e))}const RQ=[":popover-open",":modal"];function hb(e){return RQ.some(t=>{try{return e.matches(t)}catch{return!1}})}const $Q=["transform","translate","scale","rotate","perspective"],MQ=["transform","translate","scale","rotate","perspective","filter"],DQ=["paint","layout","strict","content"];function Ok(e){const t=Tk(),r=Ma(e)?Da(e):e;return $Q.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||MQ.some(n=>(r.willChange||"").includes(n))||DQ.some(n=>(r.contain||"").includes(n))}function LQ(e){let t=Yo(e);for(;ii(t)&&!_d(t);){if(Ok(t))return t;if(hb(t))return null;t=Yo(t)}return null}function Tk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FQ=new Set(["html","body","#document"]);function _d(e){return FQ.has(vf(e))}function Da(e){return As(e).getComputedStyle(e)}function mb(e){return Ma(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yo(e){if(vf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nA(e)&&e.host||ui(e);return nA(t)?t.host:t}function i3(e){const t=Yo(e);return _d(t)?e.ownerDocument?e.ownerDocument.body:e.body:ii(t)&&Op(t)?t:i3(t)}function vm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=i3(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=As(a);if(i){const l=nN(o);return t.concat(o,o.visualViewport||[],Op(a)?a:[],l&&r?vm(l):[])}return t.concat(a,vm(a,[],r))}function nN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function o3(e){const t=Da(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ii(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=lx(r)!==i||lx(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Ik(e){return Ma(e)?e:e.contextElement}function Gu(e){const t=Ik(e);if(!ii(t))return ri(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=o3(t);let o=(i?lx(r.width):r.width)/n,l=(i?lx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const UQ=ri(0);function l3(e){const t=As(e);return!Tk()||!t.visualViewport?UQ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function BQ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==As(e)?!1:t}function mc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Ik(e);let o=ri(1);t&&(n?Ma(n)&&(o=Gu(n)):o=Gu(e));const l=BQ(i,r,n)?l3(i):ri(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=As(i),p=n&&Ma(n)?As(n):n;let b=h,m=nN(b);for(;m&&n&&p!==b;){const w=Gu(m),x=m.getBoundingClientRect(),g=Da(m),v=x.left+(m.clientLeft+parseFloat(g.paddingLeft))*w.x,j=x.top+(m.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=v,u+=j,b=As(m),m=nN(b)}}return ux({width:d,height:f,x:c,y:u})}function pb(e,t){const r=mb(e).scrollLeft;return t?t.left+r:mc(ui(e)).left+r}function c3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-pb(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function VQ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=ui(n),l=t?hb(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ri(1);const d=ri(0),f=ii(n);if((f||!f&&!i)&&((vf(n)!=="body"||Op(o))&&(c=mb(n)),ii(n))){const p=mc(n);u=Gu(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?c3(o,c):ri(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function qQ(e){return Array.from(e.getClientRects())}function zQ(e){const t=ui(e),r=mb(e),n=e.ownerDocument.body,a=js(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=js(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+pb(e);const l=-r.scrollTop;return Da(n).direction==="rtl"&&(o+=js(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const sA=25;function WQ(e,t){const r=As(e),n=ui(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Tk();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=pb(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,b=Math.abs(n.clientWidth-f.clientWidth-p);b<=sA&&(i-=b)}else u<=sA&&(i+=u);return{width:i,height:o,x:l,y:c}}const KQ=new Set(["absolute","fixed"]);function HQ(e,t){const r=mc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ii(e)?Gu(e):ri(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function aA(e,t,r){let n;if(t==="viewport")n=WQ(e,r);else if(t==="document")n=zQ(ui(e));else if(Ma(t))n=HQ(t,r);else{const a=l3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ux(n)}function u3(e,t){const r=Yo(e);return r===t||!Ma(r)||_d(r)?!1:Da(r).position==="fixed"||u3(r,t)}function GQ(e,t){const r=t.get(e);if(r)return r;let n=vm(e,[],!1).filter(l=>Ma(l)&&vf(l)!=="body"),a=null;const i=Da(e).position==="fixed";let o=i?Yo(e):e;for(;Ma(o)&&!_d(o);){const l=Da(o),c=Ok(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&KQ.has(a.position)||Op(o)&&!c&&u3(e,o))?n=n.filter(d=>d!==o):a=l,o=Yo(o)}return t.set(e,n),n}function QQ(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?hb(t)?[]:GQ(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=aA(t,d,a);return u.top=js(f.top,u.top),u.right=Qo(f.right,u.right),u.bottom=Qo(f.bottom,u.bottom),u.left=js(f.left,u.left),u},aA(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function YQ(e){const{width:t,height:r}=o3(e);return{width:t,height:r}}function XQ(e,t,r){const n=ii(t),a=ui(t),i=r==="fixed",o=mc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ri(0);function u(){c.x=pb(a)}if(n||!n&&!i)if((vf(t)!=="body"||Op(a))&&(l=mb(t)),n){const p=mc(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?c3(a,l):ri(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Rw(e){return Da(e).position==="static"}function iA(e,t){if(!ii(e)||Da(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ui(e)===r&&(r=r.ownerDocument.body),r}function d3(e,t){const r=As(e);if(hb(e))return r;if(!ii(e)){let a=Yo(e);for(;a&&!_d(a);){if(Ma(a)&&!Rw(a))return a;a=Yo(a)}return r}let n=iA(e,t);for(;n&&IQ(n)&&Rw(n);)n=iA(n,t);return n&&_d(n)&&Rw(n)&&!Ok(n)?r:n||LQ(e)||r}const JQ=async function(e){const t=this.getOffsetParent||d3,r=this.getDimensions,n=await r(e.floating);return{reference:XQ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ZQ(e){return Da(e).direction==="rtl"}const eY={convertOffsetParentRelativeRectToViewportRelativeRect:VQ,getDocumentElement:ui,getClippingRect:QQ,getOffsetParent:d3,getElementRects:JQ,getClientRects:qQ,getDimensions:YQ,getScale:Gu,isElement:Ma,isRTL:ZQ};function f3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tY(e,t){let r=null,n;const a=ui(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const b=Rg(f),m=Rg(a.clientWidth-(d+h)),w=Rg(a.clientHeight-(f+p)),x=Rg(d),v={rootMargin:-b+"px "+-m+"px "+-w+"px "+-x+"px",threshold:js(0,Qo(1,c))||1};let j=!0;function N(_){const S=_[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!f3(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(N,{...v,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,v)}r.observe(e)}return o(!0),i}function rY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Ik(e),d=a||i?[...u?vm(u):[],...vm(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?tY(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let b,m=c?mc(e):null;c&&w();function w(){const x=mc(e);m&&!f3(m,x)&&r(),m=x,b=requestAnimationFrame(w)}return r(),()=>{var x;d.forEach(g=>{a&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const nY=CQ,sY=PQ,aY=_Q,iY=AQ,oY=SQ,oA=NQ,lY=EQ,cY=(e,t,r)=>{const n=new Map,a={platform:eY,...r},i={...a.platform,_c:n};return jQ(e,t,{...a,platform:i})};var uY=typeof document<"u",dY=function(){},_v=uY?y.useLayoutEffect:dY;function dx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!dx(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!dx(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function h3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lA(e,t){const r=h3(e);return Math.round(t*r)/r}function $w(e){const t=y.useRef(e);return _v(()=>{t.current=e}),t}function fY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=y.useState(n);dx(h,n)||p(n);const[b,m]=y.useState(null),[w,x]=y.useState(null),g=y.useCallback(A=>{A!==_.current&&(_.current=A,m(A))},[]),v=y.useCallback(A=>{A!==S.current&&(S.current=A,x(A))},[]),j=i||b,N=o||w,_=y.useRef(null),S=y.useRef(null),k=y.useRef(d),C=c!=null,P=$w(c),E=$w(a),O=$w(u),I=y.useCallback(()=>{if(!_.current||!S.current)return;const A={placement:t,strategy:r,middleware:h};E.current&&(A.platform=E.current),cY(_.current,S.current,A).then(R=>{const G={...R,isPositioned:O.current!==!1};T.current&&!dx(k.current,G)&&(k.current=G,Oc.flushSync(()=>{f(G)}))})},[h,t,r,E,O]);_v(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const T=y.useRef(!1);_v(()=>(T.current=!0,()=>{T.current=!1}),[]),_v(()=>{if(j&&(_.current=j),N&&(S.current=N),j&&N){if(P.current)return P.current(j,N,I);I()}},[j,N,I,P,C]);const M=y.useMemo(()=>({reference:_,floating:S,setReference:g,setFloating:v}),[g,v]),V=y.useMemo(()=>({reference:j,floating:N}),[j,N]),K=y.useMemo(()=>{const A={position:r,left:0,top:0};if(!V.floating)return A;const R=lA(V.floating,d.x),G=lA(V.floating,d.y);return l?{...A,transform:"translate("+R+"px, "+G+"px)",...h3(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:G}},[r,l,V.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:I,refs:M,elements:V,floatingStyles:K}),[d,I,M,V,K])}const hY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?oA({element:n.current,padding:a}).fn(r):{}:n?oA({element:n,padding:a}).fn(r):{}}}},mY=(e,t)=>({...nY(e),options:[e,t]}),pY=(e,t)=>({...sY(e),options:[e,t]}),gY=(e,t)=>({...lY(e),options:[e,t]}),vY=(e,t)=>({...aY(e),options:[e,t]}),xY=(e,t)=>({...iY(e),options:[e,t]}),yY=(e,t)=>({...oY(e),options:[e,t]}),bY=(e,t)=>({...hY(e),options:[e,t]});var wY="Arrow",m3=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Me.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});m3.displayName=wY;var jY=m3;function Rk(e){const[t,r]=y.useState(void 0);return Mr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var $k="Popper",[p3,al]=Cn($k),[NY,g3]=p3($k),v3=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return s.jsx(NY,{scope:t,anchor:n,onAnchorChange:a,children:r})};v3.displayName=$k;var x3="PopperAnchor",y3=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=g3(x3,r),o=y.useRef(null),l=dt(t,o),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Me.div,{...a,ref:l})});y3.displayName=x3;var Mk="PopperContent",[_Y,SY]=p3(Mk),b3=y.forwardRef((e,t)=>{var ee,we,ae,L,te,H;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:b,...m}=e,w=g3(Mk,r),[x,g]=y.useState(null),v=dt(t,U=>g(U)),[j,N]=y.useState(null),_=Rk(j),S=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,C=n+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],O=E.length>0,I={padding:P,boundary:E.filter(CY),altBoundary:O},{refs:T,floatingStyles:M,placement:V,isPositioned:K,middlewareData:A}=fY({strategy:"fixed",placement:C,whileElementsMounted:(...U)=>rY(...U,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[mY({mainAxis:a+k,alignmentAxis:o}),c&&pY({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?gY():void 0,...I}),c&&vY({...I}),xY({...I,apply:({elements:U,rects:me,availableWidth:He,availableHeight:Pe})=>{const{width:ht,height:sr}=me.reference,Ut=U.floating.style;Ut.setProperty("--radix-popper-available-width",`${He}px`),Ut.setProperty("--radix-popper-available-height",`${Pe}px`),Ut.setProperty("--radix-popper-anchor-width",`${ht}px`),Ut.setProperty("--radix-popper-anchor-height",`${sr}px`)}}),j&&bY({element:j,padding:l}),PY({arrowWidth:S,arrowHeight:k}),h&&yY({strategy:"referenceHidden",...I})]}),[R,G]=N3(V),Y=$r(b);Mr(()=>{K&&(Y==null||Y())},[K,Y]);const F=(ee=A.arrow)==null?void 0:ee.x,X=(we=A.arrow)==null?void 0:we.y,le=((ae=A.arrow)==null?void 0:ae.centerOffset)!==0,[he,je]=y.useState();return Mr(()=>{x&&je(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:K?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(L=A.transformOrigin)==null?void 0:L.x,(te=A.transformOrigin)==null?void 0:te.y].join(" "),...((H=A.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(_Y,{scope:r,placedSide:R,onArrowChange:N,arrowX:F,arrowY:X,shouldHideArrow:le,children:s.jsx(Me.div,{"data-side":R,"data-align":G,...m,ref:v,style:{...m.style,animation:K?void 0:"none"}})})})});b3.displayName=Mk;var w3="PopperArrow",kY={top:"bottom",right:"left",bottom:"top",left:"right"},j3=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=SY(w3,n),o=kY[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(jY,{...a,ref:r,style:{...a.style,display:"block"}})})});j3.displayName=w3;function CY(e){return e!==null}var PY=e=>({name:"transformOrigin",options:e,fn(t){var w,x,g;const{placement:r,rects:n,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=N3(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,p=(((g=a.arrow)==null?void 0:g.y)??0)+c/2;let b="",m="";return u==="bottom"?(b=o?f:`${h}px`,m=`${-c}px`):u==="top"?(b=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(b=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:b,y:m}}}});function N3(e){const[t,r="center"]=e.split("-");return[t,r]}var gb=v3,Tp=y3,vb=b3,xb=j3,EY=Symbol("radix.slottable");function AY(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=EY,t}var[yb]=Cn("Tooltip",[al]),bb=al(),_3="TooltipProvider",OY=700,sN="tooltip.open",[TY,Dk]=yb(_3),S3=e=>{const{__scopeTooltip:t,delayDuration:r=OY,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=y.useRef(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(TY,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};S3.displayName=_3;var xm="Tooltip",[IY,wb]=yb(xm),k3=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Dk(xm,e.__scopeTooltip),u=bb(t),[d,f]=y.useState(null),h=Wr(),p=y.useRef(0),b=o??c.disableHoverableContent,m=l??c.delayDuration,w=y.useRef(!1),[x,g]=hs({prop:n,defaultProp:a??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(sN))):c.onClose(),i==null||i(S)},caller:xm}),v=y.useMemo(()=>x?w.current?"delayed-open":"instant-open":"closed",[x]),j=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,g(!0)},[g]),N=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g(!1)},[g]),_=y.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,g(!0),p.current=0},m)},[m,g]);return y.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(gb,{...u,children:s.jsx(IY,{scope:t,contentId:h,open:x,stateAttribute:v,trigger:d,onTriggerChange:f,onTriggerEnter:y.useCallback(()=>{c.isOpenDelayedRef.current?_():j()},[c.isOpenDelayedRef,_,j]),onTriggerLeave:y.useCallback(()=>{b?N():(window.clearTimeout(p.current),p.current=0)},[N,b]),onOpen:j,onClose:N,disableHoverableContent:b,children:r})})};k3.displayName=xm;var aN="TooltipTrigger",C3=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=wb(aN,r),i=Dk(aN,r),o=bb(r),l=y.useRef(null),c=dt(t,l,a.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Tp,{asChild:!0,...o,children:s.jsx(Me.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ne(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ne(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ne(e.onBlur,a.onClose),onClick:Ne(e.onClick,a.onClose)})})});C3.displayName=aN;var RY="TooltipPortal",[uMe,$Y]=yb(RY,{forceMount:void 0}),Sd="TooltipContent",P3=y.forwardRef((e,t)=>{const r=$Y(Sd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=wb(Sd,e.__scopeTooltip);return s.jsx(cn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(E3,{side:a,...i,ref:t}):s.jsx(MY,{side:a,...i,ref:t})})}),MY=y.forwardRef((e,t)=>{const r=wb(Sd,e.__scopeTooltip),n=Dk(Sd,e.__scopeTooltip),a=y.useRef(null),i=dt(t,a),[o,l]=y.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=y.useCallback(()=>{l(null),f(!1)},[f]),p=y.useCallback((b,m)=>{const w=b.currentTarget,x={x:b.clientX,y:b.clientY},g=BY(x,w.getBoundingClientRect()),v=VY(x,g),j=qY(m.getBoundingClientRect()),N=WY([...v,...j]);l(N),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const b=w=>p(w,d),m=w=>p(w,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),y.useEffect(()=>{if(o){const b=m=>{const w=m.target,x={x:m.clientX,y:m.clientY},g=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),v=!zY(x,o);g?h():v&&(h(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,o,u,h]),s.jsx(E3,{...e,ref:i})}),[DY,LY]=yb(xm,{isInside:!1}),FY=AY("TooltipContent"),E3=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=wb(Sd,r),u=bb(r),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(sN,d),()=>document.removeEventListener(sN,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(vb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(FY,{children:n}),s.jsx(DY,{scope:r,isInside:!0,children:s.jsx(bH,{id:c.contentId,role:"tooltip",children:a||n})})]})})});P3.displayName=Sd;var A3="TooltipArrow",UY=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=bb(r);return LY(A3,r).isInside?null:s.jsx(xb,{...a,...n,ref:t})});UY.displayName=A3;function BY(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function VY(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function qY(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function zY(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function WY(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),KY(t)}function KY(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var HY=S3,GY=k3,QY=C3,O3=P3;const YY=HY,XY=GY,JY=QY,T3=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(O3,{ref:n,sideOffset:t,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));T3.displayName=O3.displayName;const ZY=3e4,cA=["mousemove","keydown","click","scroll","touchstart"],eX=5e3;function tX(e=!1){const[,t]=Mn(),{toast:r}=gt(),[n,a]=y.useState(null),i=y.useRef(Date.now()),o=y.useRef(null),l=y.useRef(!1),c=y.useRef(!1),u=y.useCallback(h=>{o.current&&(clearInterval(o.current),o.current=null),c.current=!1,r({variant:"destructive",title:"Session Expired",description:h||"Please log in again to continue."}),setTimeout(()=>{t("/login")},1500)},[r,t]),d=y.useCallback(async()=>{try{const p=await(await ve("POST","/api/session/heartbeat")).json();p.success&&(a({sessionRemainingMs:p.sessionRemainingMs,inactivityTimeoutMs:p.inactivityTimeoutMs,reauthTimeoutMs:p.reauthTimeoutMs,isActive:!0}),l.current=!1)}catch(h){(h==null?void 0:h.code)==="SESSION_REAUTH_REQUIRED"||(h==null?void 0:h.code)==="SESSION_INACTIVITY_TIMEOUT"?u(h.reason||h.message):((h==null?void 0:h.status)===401||(h==null?void 0:h.status)===403)&&u("Your session has expired. Please log in again.")}},[u]),f=y.useCallback(()=>{const h=Date.now();h-i.current>eX&&(i.current=h,d())},[d]);return y.useEffect(()=>{if(!(!e||c.current))return c.current=!0,d(),o.current=setInterval(d,ZY),cA.forEach(h=>{window.addEventListener(h,f,{passive:!0})}),()=>{o.current&&(clearInterval(o.current),o.current=null),cA.forEach(h=>{window.removeEventListener(h,f)}),c.current=!1}},[e,d,f]),y.useEffect(()=>{if(n&&n.sessionRemainingMs<6e4&&!l.current){l.current=!0;const h=Math.ceil(n.sessionRemainingMs/6e4);r({variant:"default",title:"Session Expiring Soon",description:`Your session will expire in ${h} minute(s). You will need to log in again.`})}},[n,r]),{sessionState:n,sendHeartbeat:d}}function rX({children:e}){const{data:t,isLoading:r}=ce({queryKey:["/api/auth/user"],retry:!1,staleTime:3e4});return tX(!r&&!!t),s.jsx(s.Fragment,{children:e})}var Ya=function(){return Ya=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ya.apply(this,arguments)};function xf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function nX(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function sX(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const aX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Lk extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class iX extends Lk{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uA extends Lk{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dA extends Lk{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var iN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(iN||(iN={}));class oX{constructor(t,{headers:r={},customFetch:n,region:a=iN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=aX(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return nX(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const b=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,b.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let w=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(w=o.signal,d.addEventListener("abort",()=>o.abort())):w=o.signal);const x=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:w}).catch(N=>{throw new iX(N)}),g=x.headers.get("x-relay-error");if(g&&g==="true")throw new uA(x);if(!x.ok)throw new dA(x);let v=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return v==="application/json"?j=yield x.json():v==="application/octet-stream"||v==="application/pdf"?j=yield x.blob():v==="text/event-stream"?j=x:v==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof dA||l instanceof uA?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var lX=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},cX=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const x=await i.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&w&&w.length>1&&(c=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new lX(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const b=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${b}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},uX=class extends cX{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const fA=new RegExp("[,()]");var mu=class extends uX{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},dX=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new mu({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new mu({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new mu({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new mu({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new mu({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},fX=class I3{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new dX(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new I3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new mu({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class hX{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mX="2.89.0",pX=`realtime-js/${mX}`,R3="1.0.0",gX="2.0.0",hA=R3,oN=1e4,vX=1e3,xX=100;var ho;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ho||(ho={}));var rn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rn||(rn={}));var wa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wa||(wa={}));var lN;(function(e){e.websocket="websocket"})(lN||(lN={}));var Tl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Tl||(Tl={}));class yX{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let b=new DataView(p),m=0;b.setUint8(m++,this.KINDS.userBroadcastPush),b.setUint8(m++,c.length),b.setUint8(m++,l.length),b.setUint8(m++,o.length),b.setUint8(m++,u.length),b.setUint8(m++,f.length),b.setUint8(m++,r),Array.from(c,x=>b.setUint8(m++,x.charCodeAt(0))),Array.from(l,x=>b.setUint8(m++,x.charCodeAt(0))),Array.from(o,x=>b.setUint8(m++,x.charCodeAt(0))),Array.from(u,x=>b.setUint8(m++,x.charCodeAt(0))),Array.from(f,x=>b.setUint8(m++,x.charCodeAt(0)));var w=new Uint8Array(p.byteLength+n.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(n),p.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,b={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class $3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var cr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(cr||(cr={}));const mA=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=bX(o,e,t,a),i),{}):{}},bX=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?M3(i,o):cN(o)},M3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _X(t,r)}switch(e){case cr.bool:return wX(t);case cr.float4:case cr.float8:case cr.int2:case cr.int4:case cr.int8:case cr.numeric:case cr.oid:return jX(t);case cr.json:case cr.jsonb:return NX(t);case cr.timestamp:return SX(t);case cr.abstime:case cr.date:case cr.daterange:case cr.int4range:case cr.int8range:case cr.money:case cr.reltime:case cr.text:case cr.time:case cr.timestamptz:case cr.timetz:case cr.tsrange:case cr.tstzrange:return cN(t);default:return cN(t)}},cN=e=>e,wX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jX=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},NX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},_X=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>M3(t,l))}return e},SX=e=>typeof e=="string"?e.replace(" ","T"):e,D3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mw{constructor(t,r,n={},a=oN){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pA||(pA={}));class Mh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mh.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Mh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Mh.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),b=d.filter(w=>p.indexOf(w.presence_ref)<0),m=f.filter(w=>h.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gA||(gA={}));var Dh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dh||(Dh={}));var bi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bi||(bi={}));class Iu{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mw(this,wa.join,this.params,this.timeout),this.rejoinTimer=new $3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Mh(this),this.broadcastEndpointURL=D3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Dh.PRESENCE]&&this.bindings[Dh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(bi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(bi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(bi.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(b=m==null?void 0:m.length)!==null&&b!==void 0?b:0,x=[];for(let g=0;g<w;g++){const v=m[g],{filter:{event:j,schema:N,table:_,filter:S}}=v,k=p&&p[g];if(k&&k.event===j&&Iu.isFilterValueEqual(k.schema,N)&&Iu.isFilterValueEqual(k.table,_)&&Iu.isFilterValueEqual(k.filter,S))x.push(Object.assign(Object.assign({},v),{id:k.id}));else{this.unsubscribe(),this.state=rn.errored,t==null||t(bi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(bi.SUBSCRIBED);return}}).receive("error",p=>{this.state=rn.errored,t==null||t(bi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rn.joined&&t===Dh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Mw(this,wa.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Mw(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xX){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=wa;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var b,m,w;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(m=p.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var b,m,w,x,g,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,N=(b=p.filter)===null||b===void 0?void 0:b.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(g=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:m,table:w,commit_timestamp:x,type:g,errors:v}=b;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:x,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(b))}p.callback(h,n)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Iu.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wa.close,{},t)}_onError(t){this._on(wa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mA(t.columns,t.old_record)),r}}const Dw=()=>{},$g={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kX=[1e3,2e3,5e3,1e4],CX=1e4,PX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class EX{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oN,this.transport=null,this.heartbeatIntervalMs=$g.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dw,this.ref=0,this.reconnectTimer=null,this.vsn=hA,this.logger=Dw,this.conn=null,this.sendBuffer=[],this.serializer=new yX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${lN.websocket}`,this.httpEndpoint=D3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hX.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ho.connecting:return Tl.Connecting;case ho.open:return Tl.Open;case ho.closing:return Tl.Closing;default:return Tl.Closed}}isConnected(){return this.connectionState()===Tl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Iu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(vX,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$g.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ho.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ho.open||this.conn.readyState===ho.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(wa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([PX],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:pX};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(wa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$g.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:oN,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:$g.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Dw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:hA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>kX[b-1]||CX,this.vsn){case R3:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,m)=>m(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,m)=>m(JSON.parse(b));break;case gX:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ym=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function AX(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function OX(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function TX(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=AX(e.baseUrl,n,a),c=await OX(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,b=p==null?void 0:p.error;throw new ym((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Mg(e){return e.join("")}var IX=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Mg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mg(e.namespace)}`}),!0}catch(t){if(t instanceof ym&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ym&&r.status===409)return;throw r}}};function Zc(e){return e.join("")}var RX=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ym&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ym&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},$X=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=TX({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new IX(this.client,t),this.tableOps=new RX(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},jb=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Nr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var MX=class extends jb{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uN=class extends jb{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Fk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DX=()=>Response,dN=e=>{if(Array.isArray(e))return e.map(r=>dN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=dN(n)}),t},LX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},FX=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function UX(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BX(e){var t=UX(e,"string");return bm(t)=="symbol"?t:t+""}function VX(e,t,r){return(t=BX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){VX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Lw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},qX=async(e,t,r)=>{e instanceof await DX()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new MX(Lw(n),a,i))}).catch(n=>{t(new uN(Lw(n),n))}):t(new uN(Lw(e),e))},zX=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(LX(n)?(a.headers=ot({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),ot(ot({},a),r))};async function Ip(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,zX(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>qX(c,l,n))})}async function wm(e,t,r,n){return Ip(e,"GET",t,r,n)}async function va(e,t,r,n,a){return Ip(e,"POST",t,n,a,r)}async function fN(e,t,r,n,a){return Ip(e,"PUT",t,n,a,r)}async function WX(e,t,r,n){return Ip(e,"HEAD",t,ot(ot({},r),{},{noResolveJson:!0}),n)}async function Uk(e,t,r,n,a){return Ip(e,"DELETE",t,n,a,r)}var KX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Nr(t))return{data:null,error:t};throw t}}};let L3;L3=Symbol.toStringTag;var HX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[L3]="BlobDownloadBuilder",this.promise=null}asStream(){return new KX(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Nr(t))return{data:null,error:t};throw t}}};const GX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var QX=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Fk(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const o=ot(ot({},xA),n);let l=ot(ot({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=ot(ot({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?fN:va)(a.fetch,`${a.url}/object/${d}`,i,ot({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Nr(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=ot({upsert:xA.upsert},n),d=ot(ot({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await fN(a.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(Nr(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=ot({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await va(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new jb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await va(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Nr(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await va(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Nr(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await va(n.fetch,`${n.url}/object/sign/${a}`,ot({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Nr(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await va(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>ot(ot({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Nr(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>wm(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new HX(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:dN(await wm(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await WX(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Nr(n)&&n instanceof uN){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await Uk(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=ot(ot(ot({},GX),t),{},{prefix:e||""});return{data:await va(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Nr(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=ot({},e);return{data:await va(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const F3="2.89.0",U3={"X-Client-Info":`storage-js/${F3}`};var YX=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=ot(ot({},U3),t),this.fetch=Fk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await wm(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await wm(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await va(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await fN(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await va(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Uk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},XX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},U3),t),this.fetch=Fk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await va(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await wm(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Uk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!FX(e))throw new jb("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new $X({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Bk={"X-Client-Info":`storage-js/${F3}`,"Content-Type":"application/json"};var B3=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function _s(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Fw=class extends B3{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},JX=class extends B3{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Vk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eJ=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Fw(yA(i),n,o))}).catch(()=>{const i=n+"";t(new Fw(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Fw(a.statusText||`HTTP ${n} error`,n,i))}}else t(new JX(yA(e),e))},tJ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(ZX(n)?(a.headers=ot({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,ot(ot({},a),r)):a};async function rJ(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,tJ(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>eJ(c,l,n))})}async function Ss(e,t,r,n,a){return rJ(e,"POST",t,n,a,r)}var nJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},Bk),t),this.fetch=Vk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Ss(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_s(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Ss(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_s(n))return{data:null,error:n};throw n}}},sJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},Bk),t),this.fetch=Vk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ss(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ss(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ss(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}},aJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},Bk),t),this.fetch=Vk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}},iJ=class extends aJ{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new oJ(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},oJ=class extends nJ{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new lJ(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},lJ=class extends sJ{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},cJ=class extends YX{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new QX(this.url,this.headers,e,this.fetch)}get vectors(){return new iJ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new XX(this.url+"/iceberg",this.headers,this.fetch)}};const V3="2.89.0",pu=30*1e3,hN=3,Uw=hN*pu,uJ="http://localhost:9999",dJ="supabase.auth.token",fJ={"X-Client-Info":`gotrue-js/${V3}`},mN="X-Supabase-Api-Version",q3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mJ=10*60*1e3;class jm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pJ extends jm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function gJ(e){return Qe(e)&&e.name==="AuthApiError"}class Il extends jm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Xi extends jm{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class vs extends Xi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vJ(e){return Qe(e)&&e.name==="AuthSessionMissingError"}class eu extends Xi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dg extends Xi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Lg extends Xi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xJ(e){return Qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class bA extends Xi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yJ extends Xi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class pN extends Xi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Bw(e){return Qe(e)&&e.name==="AuthRetryableFetchError"}class wA extends Xi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gN extends Xi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jA=` 	
\r=`.split(""),bJ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jA.length;t+=1)e[jA[t].charCodeAt(0)]=-2;for(let t=0;t<fx.length;t+=1)e[fx[t].charCodeAt(0)]=t;return e})();function NA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fx[n]),t.queuedBits-=6}}function z3(e,t,r){const n=bJ[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _A(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{NJ(o,n,r)};for(let o=0;o<e.length;o+=1)z3(e.charCodeAt(o),a,i);return t.join("")}function wJ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jJ(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}wJ(n,t)}}function NJ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Qu(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)z3(e.charCodeAt(a),r,n);return new Uint8Array(t)}function _J(e){const t=[];return jJ(e,r=>t.push(r)),new Uint8Array(t)}function Fl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>NA(a,r,n)),NA(null,r,n),t.join("")}function SJ(e){return Math.round(Date.now()/1e3)+e}function kJ(){return Symbol("auth-callback")}const wn=()=>typeof window<"u"&&typeof document<"u",xl={tested:!1,writable:!1},W3=()=>{if(!wn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xl.tested)return xl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xl.tested=!0,xl.writable=!0}catch{xl.tested=!0,xl.writable=!1}return xl.writable};function CJ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const K3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),PJ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},yl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bn=async(e,t)=>{await e.removeItem(t)};class Nb{constructor(){this.promise=new Nb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Nb.promiseConstructor=Promise;function Vw(e){const t=e.split(".");if(t.length!==3)throw new gN("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!hJ.test(t[n]))throw new gN("JWT not in base64url format");return{header:JSON.parse(_A(t[0])),payload:JSON.parse(_A(t[1])),signature:Qu(t[2]),raw:{header:t[0],payload:t[1]}}}async function EJ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function AJ(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function OJ(e){return("0"+e.toString(16)).substr(-2)}function TJ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,OJ).join("")}async function IJ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function RJ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await IJ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tu(e,t,r=!1){const n=TJ();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await gu(e,`${t}-code-verifier`,a);const i=await RJ(n);return[i,n===i?"plain":"s256"]}const $J=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MJ(e){const t=e.headers.get(mN);if(!t||!t.match($J))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DJ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LJ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const FJ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ru(e){if(!FJ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function UJ(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function SA(e){return JSON.parse(JSON.stringify(e))}const Cl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BJ=[502,503,504];async function kA(e){var t;if(!PJ(e))throw new pN(Cl(e),0);if(BJ.includes(e.status))throw new pN(Cl(e),e.status);let r;try{r=await e.json()}catch(i){throw new Il(Cl(i),i)}let n;const a=MJ(e);if(a&&a.getTime()>=q3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new wA(Cl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new vs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new wA(Cl(r),e.status,r.weak_password.reasons);throw new pJ(Cl(r),e.status||500,n)}const VJ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function it(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[mN]||(i[mN]=q3["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await qJ(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function qJ(e,t,r,n,a,i){const o=VJ(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new pN(Cl(c),0)}if(l.ok||await kA(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await kA(c)}}function ma(e){var t;let r=null;KJ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=SJ(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function CA(e){const t=ma(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zJ(e){return{data:e,error:null}}function WJ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=xf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function PA(e){return e}function KJ(e){return e.access_token&&e.refresh_token&&e.expires_in}const zw=["global","local","others"];class HJ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=K3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=zw[0]){if(zw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zw.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yo})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=xf(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:WJ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yo})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:PA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const m=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Qe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ru(t);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yo})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ru(t);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:yo})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ru(t);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:yo})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ru(t.userId);try{const{data:r,error:n}=await it(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ru(t.userId),ru(t.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await it(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:PA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const m=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Qe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await it(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await it(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await it(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}}function EA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const nu={debug:!!(globalThis&&W3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class H3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class GJ extends H3{}async function QJ(e,t,r){nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),nu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new GJ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(nu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function YJ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function G3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function XJ(e){return parseInt(e,16)}function JJ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function ZJ(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=G3(e.address),b=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${p}

${m}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}x+=g}return`${w}
${x}`}class Vr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class hx extends Vr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function eZ({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Vr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Vr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Vr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Vr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Vr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Vr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Vr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Q3(o)){if(i.rp.id!==o)return new Vr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Vr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Vr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function tZ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Vr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Q3(n)){if(r.rpId!==n)return new Vr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Vr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class rZ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const nZ=new rZ;function sZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=xf(e,["challenge","user","excludeCredentials"]),i=Qu(t).buffer,o=Object.assign(Object.assign({},r),{id:Qu(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Qu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function aZ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=xf(e,["challenge","allowCredentials"]),a=Qu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Qu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function iZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Fl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Fl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function oZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Fl(new Uint8Array(a.authenticatorData)),clientDataJSON:Fl(new Uint8Array(a.clientDataJSON)),signature:Fl(new Uint8Array(a.signature)),userHandle:a.userHandle?Fl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Q3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function AA(){var e,t;return!!(wn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function lZ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hx("Browser returned unexpected credential type",t)}:{data:null,error:new hx("Empty credential response",t)}}catch(t){return{data:null,error:eZ({error:t,options:e})}}}async function cZ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hx("Browser returned unexpected credential type",t)}:{data:null,error:new hx("Empty credential response",t)}}catch(t){return{data:null,error:tZ({error:t,options:e})}}}const uZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dZ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function mx(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=mx(l,o):n[i]=mx(o)}else n[i]=o}return n}function fZ(e,t){return mx(uZ,e,t||{})}function hZ(e,t){return mx(dZ,e,t||{})}class mZ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??nZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=fZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await lZ({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=hZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await cZ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Qe(o)?{data:null,error:o}:{data:null,error:new Il("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new jm("rpId is required for WebAuthn authentication")};try{if(!AA())return{data:null,error:new Il("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Qe(o)?{data:null,error:o}:{data:null,error:new Il("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new jm("rpId is required for WebAuthn registration")};try{if(!AA())return{data:null,error:new Il("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Qe(o)?{data:null,error:o}:{data:null,error:new Il("Unexpected error in register",o)}}}}YJ();const pZ={url:uJ,storageKey:dJ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fJ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function OA(e,t,r){return await r()}const su={};class Nm{get jwks(){var t,r;return(r=(t=su[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){su[this.storageKey]=Object.assign(Object.assign({},su[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=su[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){su[this.storageKey]=Object.assign(Object.assign({},su[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},pZ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Nm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Nm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&wn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new HJ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=K3(i.fetch),this.lock=i.lock||OA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&wn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=QJ:this.lock=OA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:W3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=EA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=EA(this.memoryStorage)),wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${V3}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(wn()&&(r=CJ(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),wn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xJ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Qe(r)?this._returnResult({error:r}):this._returnResult({error:new Il("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ma}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await tu(this.storage,this.storageKey)),i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:b},xform:ma})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ma})}else throw new Dg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await bn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CA})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CA})}else throw new Dg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new eu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:m,wallet:w,statement:x,options:g}=t;let v;if(wn())if(typeof w=="object")v=w;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")v=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const j=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),N=await v.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=G3(N[0]);let S=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const C=await v.request({method:"eth_chainId"});S=XJ(C)}const k={domain:j.host,address:_,statement:x,uri:j.href,version:"1",chainId:S,nonce:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=ZJ(k),b=await v.request({method:"personal_sign",params:[JJ(p),_]})}try{const{data:m,error:w}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ma});if(w)throw w;if(!m||!m.session||!m.user){const x=new eu;return this._returnResult({data:{user:null,session:null},error:x})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:w})}catch(m){if(Qe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,p;let b,m;if("message"in t)b=t.message,m=t.signature;else{const{chain:w,wallet:x,statement:g,options:v}=t;let j;if(wn())if(typeof x=="object")j=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const N=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),g?{statement:g}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),m=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:w,error:x}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Fl(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ma});if(x)throw x;if(!w||!w.session||!w.user){const g=new eu;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(Qe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await yl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new yJ;const{data:i,error:o}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ma});if(await bn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new eu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Qe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ma}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new eu;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await tu(this.storage,this.storageKey));const{error:f}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Dg("You must provide either an email or phone number.")}catch(l){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ma});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await tu(this.storage,this.storageKey));const u=await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:zJ});return!((i=u.data)===null||i===void 0)&&i.url&&wn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Qe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new vs;const{error:a}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await it(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await it(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Dg("You must provide either an email or phone number and a type")}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await yl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Uw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await yl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=qw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=UJ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yo}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vs}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:yo})})}catch(r){if(Qe(r))return vJ(r)&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new vs;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await tu(this.storage,this.storageKey));const{data:u,error:d}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:yo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Qe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vs;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Vw(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new vs;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!wn())throw new Lg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Lg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bA("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Lg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=pu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:m,error:w}=await this._getUser(i);if(w)throw w;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(Qe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await yl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(gJ(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=kJ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await tu(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Qe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return wn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Qe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ma}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new eu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await AJ(async a=>(a>0&&await EJ(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ma})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Bw(i)&&Date.now()+o-n<pu})}catch(n){if(this._debug(r,"error",n),Qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),wn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await yl(this.storage,this.storageKey);if(a&&this.userStorage){let o=await yl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await gu(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:qw()}else if(a&&!a.user&&!a.user){const o=await yl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await bn(this.storage,this.storageKey+"-user"),await gu(this.storage,this.storageKey,a)):a.user=qw()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Uw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Uw}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Bw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new vs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Nb;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new vs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Qe(i)){const o={data:null,error:i};return Bw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await gu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=SA(a);await gu(this.storage,this.storageKey,i)}else{const a=SA(r);await gu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bn(this.storage,this.storageKey),await bn(this.storage,this.storageKey+"-code-verifier"),await bn(this.storage,this.storageKey+"-user"),this.userStorage&&await bn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),pu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/pu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${pu}ms, refresh threshold is ${hN} ticks`),a<=hN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof H3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await tu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await it(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await it(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?iZ(t.webauthn.credential_response):oZ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:sZ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:aZ(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Vw(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await it(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new vs})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new vs});const o=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&wn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new vs});const o=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&wn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await it(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new vs})})}catch(t){if(Qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await it(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vs})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+mJ>a)return n;const{data:i,error:o}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return this._returnResult({data:null,error:b});n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Vw(n);r!=null&&r.allowExpired||DJ(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=LJ(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,_J(`${l}.${c}`)))throw new gN("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}}Nm.nextInstanceID={};const gZ=Nm,vZ="2.89.0";let xh="";typeof Deno<"u"?xh="deno":typeof document<"u"?xh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xh="react-native":xh="node";const xZ={"X-Client-Info":`supabase-js-${xh}/${vZ}`},yZ={headers:xZ},bZ={schema:"public"},wZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jZ={};function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function NZ(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Z(e){var t=NZ(e,"string");return _m(t)=="symbol"?t:t+""}function SZ(e,t,r){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){SZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const kZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),CZ=()=>Headers,PZ=(e,t,r)=>{const n=kZ(r),a=CZ();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Or(Or({},o),{},{headers:u}))}};function EZ(e){return e.endsWith("/")?e:e+"/"}function AZ(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Or(Or({},c),a),auth:Or(Or({},u),i),realtime:Or(Or({},d),o),storage:{},global:Or(Or(Or({},f),l),{},{headers:Or(Or({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function OZ(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(EZ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var TZ=class extends gZ{constructor(e){super(e)}},IZ=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=OZ(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:bZ,realtime:jZ,auth:Or(Or({},wZ),{},{storageKey:o}),global:yZ},c=AZ(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=PZ(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Or({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new fX(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new cJ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new oX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TZ({url:this.authUrl.href,headers:Or(Or({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new EX(this.realtimeUrl.href,Or(Or({},e),{},{params:Or(Or({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const RZ=(e,t,r)=>new IZ(e,t,r);function $Z(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$Z()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Ww=null,IA=!1,Fg=null,Sm=null,km=null;const MZ="quarterdeck-auth";async function DZ(){if(!IA)return Fg||(Fg=(async()=>{try{console.log("[Supabase] Loading config from /api/public-config...");const t=await(await fetch("/api/public-config")).json();if(Sm=t.supabaseUrl,km=t.supabaseAnonKey,console.log("[Supabase] Config loaded:",{hasUrl:!!Sm,hasKey:!!km}),typeof window<"u"){const r=Object.keys(localStorage).filter(n=>n.includes("auth")||n.includes("supabase")||n.includes("sb-"));console.log("[Supabase] Auth-related localStorage keys:",r)}}catch(e){console.error("[Supabase] Failed to load config:",e)}IA=!0})(),Fg)}function Y3(){return!!(Sm&&km)}function bl(){if(!Sm||!km)throw new Error("Supabase is not configured. Please ensure config is loaded first.");return Ww||(console.log("[Supabase] Creating client"),Ww=RZ(Sm,km,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:MZ}})),Ww}const X3=y.createContext(null);function LZ({children:e}){const[t,r]=y.useState({user:null,session:null,isLoading:!0,isAuthenticated:!1}),[n,a]=y.useState(!1),[i,o]=y.useState(!1);y.useEffect(()=>{console.log("[Auth] Loading Supabase config..."),DZ().then(()=>{const b=Y3();console.log("[Auth] Config loaded, isConfigured:",b),o(!0),a(b)})},[]),y.useEffect(()=>{if(!i){console.log("[Auth] Waiting for config to load...");return}if(!n){console.log("[Auth] Supabase not configured, skipping auth init"),r(w=>({...w,isLoading:!1}));return}console.log("[Auth] Initializing auth...");let b;try{b=bl()}catch(w){console.error("[Auth] Failed to get Supabase client:",w),r(x=>({...x,isLoading:!1}));return}console.log("[Auth] Getting session..."),b.auth.getSession().then(({data:{session:w},error:x})=>{var g;console.log("[Auth] getSession result:",{hasSession:!!w,user:(g=w==null?void 0:w.user)==null?void 0:g.email,error:x==null?void 0:x.message}),r({user:(w==null?void 0:w.user)??null,session:w,isLoading:!1,isAuthenticated:!!(w!=null&&w.user)}),w!=null&&w.user&&(console.log("[Auth] User found, syncing to backend..."),l(w))});const{data:{subscription:m}}=b.auth.onAuthStateChange(async(w,x)=>{var g;console.log("[Auth] onAuthStateChange:",w,(g=x==null?void 0:x.user)==null?void 0:g.email),r({user:(x==null?void 0:x.user)??null,session:x,isLoading:!1,isAuthenticated:!!(x!=null&&x.user)}),w==="SIGNED_IN"&&x&&(console.log("[Auth] User signed in, syncing to backend..."),await l(x),Z.invalidateQueries({queryKey:["/api/auth/user"]})),w==="SIGNED_OUT"&&(console.log("[Auth] User signed out"),Z.invalidateQueries({queryKey:["/api/auth/user"]}))});return()=>m.unsubscribe()},[i,n]);const l=async b=>{var m,w,x,g;try{const v=await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b.access_token}`},body:JSON.stringify({supabaseUserId:b.user.id,email:b.user.email,firstName:((m=b.user.user_metadata)==null?void 0:m.firstName)||((w=b.user.user_metadata)==null?void 0:w.first_name),lastName:((x=b.user.user_metadata)==null?void 0:x.lastName)||((g=b.user.user_metadata)==null?void 0:g.last_name)})});if(console.log("[Auth] Sync response:",v.status),v.status===403){const j=await v.json();return console.log("[Auth] Email verification required:",j.message),{success:!1,requiresEmailVerification:!0,error:j.message}}return v.ok?{success:!0}:{success:!1,error:(await v.json()).message||"Sync failed"}}catch(v){return console.error("[Auth] Failed to sync user to backend:",v),{success:!1,error:"Network error during sync"}}},c=y.useCallback(async(b,m,w)=>{if(!n)return{error:{message:"Supabase not configured"}};const x=bl(),{error:g}=await x.auth.signUp({email:b,password:m,options:{data:w,emailRedirectTo:`${window.location.origin}/auth/callback`}});return{error:g}},[n]),u=y.useCallback(async(b,m)=>{var v;if(!n)return console.log("[Auth] signIn failed - not configured"),{error:{message:"Supabase not configured"}};console.log("[Auth] signIn called for:",b);const w=bl(),{data:x,error:g}=await w.auth.signInWithPassword({email:b,password:m});if(g)return console.log("[Auth] signIn error:",g.message),{error:g};if(console.log("[Auth] signIn success:",(v=x.user)==null?void 0:v.email),x.session){const j=await l(x.session);if(!j.success)return j.requiresEmailVerification?(console.log("[Auth] Email verification required, signing out..."),await w.auth.signOut(),localStorage.removeItem("quarterdeck-auth"),{error:{message:"Please verify your email address before signing in. Check your inbox for a verification link."},requiresEmailVerification:!0}):{error:{message:j.error||"Failed to establish session"}}}return{}},[n]),d=y.useCallback(async()=>{if(console.log("[Auth] signOut called"),r({user:null,session:null,isLoading:!1,isAuthenticated:!1}),Z.clear(),localStorage.removeItem("quarterdeck-auth"),n)try{await bl().auth.signOut()}catch(b){console.error("[Auth] Supabase signOut error:",b)}try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(b){console.error("[Auth] Backend logout error:",b)}console.log("[Auth] signOut complete")},[n]),f=y.useCallback(async b=>{if(!n)return{error:{message:"Supabase not configured"}};const m=bl(),{error:w}=await m.auth.resetPasswordForEmail(b,{redirectTo:`${window.location.origin}/auth/reset-password`});return{error:w}},[n]),h=y.useCallback(async b=>{if(!n)return{error:{message:"Supabase not configured"}};const m=bl(),{error:w}=await m.auth.updateUser({password:b});return{error:w}},[n]),p=y.useCallback(async b=>{if(!n)return{error:{message:"Supabase not configured"}};const m=bl(),{error:w}=await m.auth.signInWithOAuth({provider:b,options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:w}},[n]);return s.jsx(X3.Provider,{value:{...t,signUp:c,signIn:u,signInWithOAuth:p,signOut:d,resetPassword:f,updatePassword:h,isSupabaseConfigured:n,useSupabaseAuth:n},children:e})}function yf(){const e=y.useContext(X3);if(!e)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e}function FZ(){const[e]=Mn(),{data:t}=ce({queryKey:["/api/admin/config"],queryFn:async()=>{try{const b=await fetch("/api/admin/config");return b.ok?await b.json():{}}catch{return{}}}}),{data:r,isLoading:n}=ce({queryKey:["/api/site-settings"],queryFn:async()=>{try{const b=await fetch("/api/site-settings");if(!b.ok)return{};const m=await b.json();return m&&typeof m=="object"&&!m.message?m:{}}catch{return{}}}}),a=(r==null?void 0:r.whatsapp_button_visible)==="true",i=(r==null?void 0:r.whatsapp_phone)||"",o=(r==null?void 0:r.whatsapp_default_message)||"",l=(r==null?void 0:r.whatsapp_button_text)||"Chat on WhatsApp",c=t==null?void 0:t.adminPath,u=c?e.startsWith(`/${c}`):!1,d=e==="/booking"||e.startsWith("/booking/");if(n||!a||!i||u||d)return null;const f=i.replace(/[^0-9]/g,""),h=window.encodeURIComponent(o),p=`https://wa.me/${f}${o?`?text=${h}`:""}`;return s.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5A] text-white px-4 py-3 rounded-full shadow-lg transition-all duration-300 hover:scale-105 group","data-testid":"button-whatsapp-float","aria-label":l,children:[s.jsx(eG,{className:"w-6 h-6"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:l})]})}var UZ=Symbol.for("react.lazy"),px=Fy[" use ".trim().toString()];function BZ(e){return typeof e=="object"&&e!==null&&"then"in e}function J3(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===UZ&&"_payload"in e&&BZ(e._payload)}function _b(e){const t=VZ(e),r=y.forwardRef((n,a)=>{let{children:i,...o}=n;J3(i)&&typeof px=="function"&&(i=px(i._payload));const l=y.Children.toArray(i),c=l.find(zZ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var qk=_b("Slot");function VZ(e){const t=y.forwardRef((r,n)=>{let{children:a,...i}=r;if(J3(a)&&typeof px=="function"&&(a=px(a._payload)),y.isValidElement(a)){const o=KZ(a),l=WZ(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Xn(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qZ=Symbol("radix.slottable");function zZ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qZ}function WZ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function KZ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const zk=Cp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),$=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?qk:"button";return s.jsx(o,{className:ye(zk({variant:t,size:r,className:e})),ref:i,...a})});$.displayName="Button";function HZ(){const[e,t]=y.useState(!1);y.useEffect(()=>{const n=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return s.jsx($,{size:"icon",variant:"outline",className:`fixed bottom-6 right-20 z-50 rounded-full shadow-lg transition-all duration-300 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border border-border ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,onClick:r,"aria-label":"Scroll to top","data-testid":"button-scroll-to-top",children:s.jsx(VH,{className:"h-4 w-4"})})}function GZ(){const[e]=Mn();return y.useEffect(()=>{e.includes("#")||window.scrollTo({top:0,behavior:"instant"})},[e]),null}function Rp(){const{data:e,isLoading:t,error:r}=ce({queryKey:["/api/admin/config"],queryFn:async()=>{const n=await fetch("/api/admin/config",{credentials:"include"});if(!n.ok)throw new Error("Not authorized to access admin config");return n.json()},retry:!1,staleTime:18e5});return{adminPath:(e==null?void 0:e.adminPath)||"admin",isLoading:t,error:r,isAuthorized:!!e&&!r}}function QZ({onLoaded:e,minDisplayTime:t=800}){const[r,n]=y.useState(0),[a,i]=y.useState(!1),{data:o}=ce({queryKey:["/api/site-settings"],queryFn:async()=>{try{const u=await fetch("/api/site-settings");if(!u.ok)return{};const d=await u.json();return d&&typeof d=="object"&&!d.message?d:{}}catch{return{}}},staleTime:1e3*60*10}),l=o==null?void 0:o.logo_main_url,c=(o==null?void 0:o.site_name)||"The Quarterdeck";return y.useEffect(()=>{const u=Date.now(),d=setInterval(()=>{const f=Date.now()-u,h=Math.min(f/t*100,100);n(h),h>=100&&(clearInterval(d),i(!0),setTimeout(()=>{e()},400))},16);return()=>clearInterval(d)},[t,e]),s.jsx("div",{className:`fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-background transition-opacity duration-400 ${a?"opacity-0":"opacity-100"}`,"data-testid":"logo-loader",children:s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l?s.jsx("img",{src:l,alt:c,className:"h-16 w-auto animate-pulse","data-testid":"img-loader-logo"}):s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center animate-pulse",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"Q"})}),s.jsx("div",{className:"w-48 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-100 ease-out",style:{width:`${r}%`},"data-testid":"loader-progress-bar"})}),s.jsx("p",{className:"text-sm text-muted-foreground animate-pulse","data-testid":"text-loader-status",children:"Loading..."})]})})}const YZ=()=>{const[e]=Mn(),t=y.useRef(e);y.useEffect(()=>{e!==t.current&&(t.current=e)},[e])},gx="/assets/dark_elegant_sports__61a0b4ec-CXuzKOFY.jpg";function Ji(){const{data:e,isLoading:t,error:r}=ce({queryKey:["/api/auth/user"],queryFn:n5({on401:"returnNull"}),retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e,error:r}}function RA(){const[e,t]=y.useState("light");y.useEffect(()=>{const n=localStorage.getItem("qd-theme");n?(t(n),document.documentElement.classList.toggle("dark",n==="dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(t("dark"),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=e==="light"?"dark":"light";t(n),localStorage.setItem("qd-theme",n),document.documentElement.classList.toggle("dark",n==="dark")};return s.jsx($,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full","data-testid":"button-theme-toggle",children:e==="light"?s.jsx(nG,{className:"w-4 h-4"}):s.jsx(mG,{className:"w-4 h-4"})})}var Kw=0;function Sb(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$A()),document.body.insertAdjacentElement("beforeend",e[1]??$A()),Kw++,()=>{Kw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kw--}},[])}function $A(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hw="focusScope.autoFocusOnMount",Gw="focusScope.autoFocusOnUnmount",MA={bubbles:!1,cancelable:!0},XZ="FocusScope",$p=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),u=$r(a),d=$r(i),f=y.useRef(null),h=dt(t,m=>c(m)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let m=function(v){if(p.paused||!l)return;const j=v.target;l.contains(j)?f.current=j:co(f.current,{select:!0})},w=function(v){if(p.paused||!l)return;const j=v.relatedTarget;j!==null&&(l.contains(j)||co(f.current,{select:!0}))},x=function(v){if(document.activeElement===document.body)for(const N of v)N.removedNodes.length>0&&co(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const g=new MutationObserver(x);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),g.disconnect()}}},[n,l,p.paused]),y.useEffect(()=>{if(l){LA.add(p);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(Hw,MA);l.addEventListener(Hw,u),l.dispatchEvent(x),x.defaultPrevented||(JZ(nee(Z3(l)),{select:!0}),document.activeElement===m&&co(l))}return()=>{l.removeEventListener(Hw,u),setTimeout(()=>{const x=new CustomEvent(Gw,MA);l.addEventListener(Gw,d),l.dispatchEvent(x),x.defaultPrevented||co(m??document.body,{select:!0}),l.removeEventListener(Gw,d),LA.remove(p)},0)}}},[l,u,d,p]);const b=y.useCallback(m=>{if(!r&&!n||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(w&&x){const g=m.currentTarget,[v,j]=ZZ(g);v&&j?!m.shiftKey&&x===j?(m.preventDefault(),r&&co(v,{select:!0})):m.shiftKey&&x===v&&(m.preventDefault(),r&&co(j,{select:!0})):x===g&&m.preventDefault()}},[r,n,p.paused]);return s.jsx(Me.div,{tabIndex:-1,...o,ref:h,onKeyDown:b})});$p.displayName=XZ;function JZ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(co(n,{select:t}),document.activeElement!==r)return}function ZZ(e){const t=Z3(e),r=DA(t,e),n=DA(t.reverse(),e);return[r,n]}function Z3(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function DA(e,t){for(const r of e)if(!eee(r,{upTo:t}))return r}function eee(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tee(e){return e instanceof HTMLInputElement&&"select"in e}function co(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&tee(e)&&t&&e.select()}}var LA=ree();function ree(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=FA(e,t),e.unshift(t)},remove(t){var r;e=FA(e,t),(r=e[0])==null||r.resume()}}}function FA(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function nee(e){return e.filter(t=>t.tagName!=="A")}function see(e){const t=aee(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(oee);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function aee(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=cee(a),l=lee(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Xn(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iee=Symbol("radix.slottable");function oee(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iee}function lee(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function cee(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var uee=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},au=new WeakMap,Ug=new WeakMap,Bg={},Qw=0,eL=function(e){return e&&(e.host||eL(e.parentNode))},dee=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=eL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},fee=function(e,t,r,n){var a=dee(t,Array.isArray(e)?e:[e]);Bg[r]||(Bg[r]=new WeakMap);var i=Bg[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),b=p!==null&&p!=="false",m=(au.get(h)||0)+1,w=(i.get(h)||0)+1;au.set(h,m),i.set(h,w),o.push(h),m===1&&b&&Ug.set(h,!0),w===1&&h.setAttribute(r,"true"),b||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Qw++,function(){o.forEach(function(f){var h=au.get(f)-1,p=i.get(f)-1;au.set(f,h),i.set(f,p),h||(Ug.has(f)||f.removeAttribute(n),Ug.delete(f)),p||f.removeAttribute(r)}),Qw--,Qw||(au=new WeakMap,au=new WeakMap,Ug=new WeakMap,Bg={})}},kb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=uee(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),fee(n,a,r,"aria-hidden")):function(){return null}},Sv="right-scroll-bar-position",kv="width-before-scroll-bar",hee="with-scroll-bars-hidden",mee="--removed-body-scroll-bar-size";function Yw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pee(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var gee=typeof window<"u"?y.useLayoutEffect:y.useEffect,UA=new WeakMap;function vee(e,t){var r=pee(null,function(n){return e.forEach(function(a){return Yw(a,n)})});return gee(function(){var n=UA.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Yw(l,null)}),i.forEach(function(l){a.has(l)||Yw(l,o)})}UA.set(r,e)},[e]),r}function xee(e){return e}function yee(e,t){t===void 0&&(t=xee);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function bee(e){e===void 0&&(e={});var t=yee(null);return t.options=Ya({async:!0,ssr:!1},e),t}var tL=function(e){var t=e.sideCar,r=xf(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Ya({},r))};tL.isSideCarExport=!0;function wee(e,t){return e.useMedium(t),tL}var rL=bee(),Xw=function(){},Cb=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:Xw,onWheelCapture:Xw,onTouchMoveCapture:Xw}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,b=e.noIsolation,m=e.inert,w=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,v=e.gapMode,j=xf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,_=vee([r,t]),S=Ya(Ya({},j),a);return y.createElement(y.Fragment,null,d&&y.createElement(N,{sideCar:rL,removeScrollBar:u,shards:f,noRelative:p,noIsolation:b,inert:m,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:v}),o?y.cloneElement(y.Children.only(l),Ya(Ya({},S),{ref:_})):y.createElement(g,Ya({},S,{className:c,ref:_}),l))});Cb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cb.classNames={fullWidth:kv,zeroRight:Sv};var jee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Nee(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=jee();return t&&e.setAttribute("nonce",t),e}function _ee(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function See(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kee=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Nee())&&(_ee(t,r),See(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Cee=function(){var e=kee();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},nL=function(){var e=Cee(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Pee={left:0,top:0,right:0,gap:0},Jw=function(e){return parseInt(e||"",10)||0},Eee=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Jw(r),Jw(n),Jw(a)]},Aee=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Pee;var t=Eee(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Oee=nL(),Yu="data-scroll-locked",Tee=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(hee,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Yu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(kv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sv," .").concat(Sv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(kv," .").concat(kv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Yu,`] {
    `).concat(mee,": ").concat(l,`px;
  }
`)},BA=function(){var e=parseInt(document.body.getAttribute(Yu)||"0",10);return isFinite(e)?e:0},Iee=function(){y.useEffect(function(){return document.body.setAttribute(Yu,(BA()+1).toString()),function(){var e=BA()-1;e<=0?document.body.removeAttribute(Yu):document.body.setAttribute(Yu,e.toString())}},[])},Ree=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Iee();var i=y.useMemo(function(){return Aee(a)},[a]);return y.createElement(Oee,{styles:Tee(i,!t,a,r?"":"!important")})},vN=!1;if(typeof window<"u")try{var Vg=Object.defineProperty({},"passive",{get:function(){return vN=!0,!0}});window.addEventListener("test",Vg,Vg),window.removeEventListener("test",Vg,Vg)}catch{vN=!1}var iu=vN?{passive:!1}:!1,$ee=function(e){return e.tagName==="TEXTAREA"},sL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!$ee(e)&&r[t]==="visible")},Mee=function(e){return sL(e,"overflowY")},Dee=function(e){return sL(e,"overflowX")},VA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=aL(e,n);if(a){var i=iL(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Lee=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Fee=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},aL=function(e,t){return e==="v"?Mee(t):Dee(t)},iL=function(e,t){return e==="v"?Lee(t):Fee(t)},Uee=function(e,t){return e==="h"&&t==="rtl"?-1:1},Bee=function(e,t,r,n,a){var i=Uee(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=iL(e,l),b=p[0],m=p[1],w=p[2],x=m-w-i*b;(b||x)&&aL(e,l)&&(f+=x,h+=b);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},qg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qA=function(e){return[e.deltaX,e.deltaY]},zA=function(e){return e&&"current"in e?e.current:e},Vee=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qee=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zee=0,ou=[];function Wee(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(zee++)[0],i=y.useState(nL)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=sX([e.lockRef.current],(e.shards||[]).map(zA),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=qg(m),g=r.current,v="deltaX"in m?m.deltaX:g[0]-x[0],j="deltaY"in m?m.deltaY:g[1]-x[1],N,_=m.target,S=Math.abs(v)>Math.abs(j)?"h":"v";if("touches"in m&&S==="h"&&_.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,P=C?C===_||C.contains(_):!1;if(P)return!1;var E=VA(S,_);if(!E)return!0;if(E?N=S:(N=S==="v"?"h":"v",E=VA(S,_)),!E)return!1;if(!n.current&&"changedTouches"in m&&(v||j)&&(n.current=N),!N)return!0;var O=n.current||N;return Bee(O,w,m,O==="h"?v:j)},[]),c=y.useCallback(function(m){var w=m;if(!(!ou.length||ou[ou.length-1]!==i)){var x="deltaY"in w?qA(w):qg(w),g=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&Vee(N.delta,x)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var v=(o.current.shards||[]).map(zA).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=v.length>0?l(w,v[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=y.useCallback(function(m,w,x,g){var v={name:m,delta:w,target:x,should:g,shadowParent:Kee(x)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(j){return j!==v})},1)},[]),d=y.useCallback(function(m){r.current=qg(m),n.current=void 0},[]),f=y.useCallback(function(m){u(m.type,qA(m),m.target,l(m,e.lockRef.current))},[]),h=y.useCallback(function(m){u(m.type,qg(m),m.target,l(m,e.lockRef.current))},[]);y.useEffect(function(){return ou.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,iu),document.addEventListener("touchmove",c,iu),document.addEventListener("touchstart",d,iu),function(){ou=ou.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,iu),document.removeEventListener("touchmove",c,iu),document.removeEventListener("touchstart",d,iu)}},[]);var p=e.removeScrollBar,b=e.inert;return y.createElement(y.Fragment,null,b?y.createElement(i,{styles:qee(a)}):null,p?y.createElement(Ree,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Kee(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Hee=wee(rL,Wee);var Mp=y.forwardRef(function(e,t){return y.createElement(Cb,Ya({},e,{ref:t,sideCar:Hee}))});Mp.classNames=Cb.classNames;var Pb="Popover",[oL]=Cn(Pb,[al]),Dp=al(),[Gee,il]=oL(Pb),lL=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Dp(t),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=hs({prop:n,defaultProp:a??!1,onChange:i,caller:Pb});return s.jsx(gb,{...l,children:s.jsx(Gee,{scope:t,contentId:Wr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:o,children:r})})};lL.displayName=Pb;var cL="PopoverAnchor",Qee=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=il(cL,r),i=Dp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return y.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Tp,{...i,...n,ref:t})});Qee.displayName=cL;var uL="PopoverTrigger",dL=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=il(uL,r),i=Dp(r),o=dt(t,a.triggerRef),l=s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":gL(a.open),...n,ref:o,onClick:Ne(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Tp,{asChild:!0,...i,children:l})});dL.displayName=uL;var Wk="PopoverPortal",[Yee,Xee]=oL(Wk,{forceMount:void 0}),fL=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=il(Wk,t);return s.jsx(Yee,{scope:t,forceMount:r,children:s.jsx(cn,{present:r||i.open,children:s.jsx(ff,{asChild:!0,container:a,children:n})})})};fL.displayName=Wk;var kd="PopoverContent",hL=y.forwardRef((e,t)=>{const r=Xee(kd,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=il(kd,e.__scopePopover);return s.jsx(cn,{present:n||i.open,children:i.modal?s.jsx(Zee,{...a,ref:t}):s.jsx(ete,{...a,ref:t})})});hL.displayName=kd;var Jee=see("PopoverContent.RemoveScroll"),Zee=y.forwardRef((e,t)=>{const r=il(kd,e.__scopePopover),n=y.useRef(null),a=dt(t,n),i=y.useRef(!1);return y.useEffect(()=>{const o=n.current;if(o)return kb(o)},[]),s.jsx(Mp,{as:Jee,allowPinchZoom:!0,children:s.jsx(mL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ete=y.forwardRef((e,t)=>{const r=il(kd,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(mL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),mL=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=il(kd,r),p=Dp(r);return Sb(),s.jsx($p,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(vb,{"data-state":gL(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pL="PopoverClose",tte=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=il(pL,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});tte.displayName=pL;var rte="PopoverArrow",nte=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Dp(r);return s.jsx(xb,{...a,...n,ref:t})});nte.displayName=rte;function gL(e){return e?"open":"closed"}var ste=lL,ate=dL,ite=fL,vL=hL;const ote=ste,lte=ate,xL=y.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(ite,{children:s.jsx(vL,{ref:a,align:t,sideOffset:r,className:ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));xL.displayName=vL.displayName;var cte=y.createContext(void 0);function bf(e){const t=y.useContext(cte);return e||t||"ltr"}function xN(e,[t,r]){return Math.min(r,Math.max(t,e))}function ute(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Kk="ScrollArea",[yL]=Cn(Kk),[dte,ia]=yL(Kk),bL=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[p,b]=y.useState(null),[m,w]=y.useState(null),[x,g]=y.useState(0),[v,j]=y.useState(0),[N,_]=y.useState(!1),[S,k]=y.useState(!1),C=dt(t,E=>c(E)),P=bf(a);return s.jsx(dte,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:b,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:m,onScrollbarYChange:w,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:g,onCornerHeightChange:j,children:s.jsx(Me.div,{dir:P,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});bL.displayName=Kk;var wL="ScrollAreaViewport",jL=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=ia(wL,r),l=y.useRef(null),c=dt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});jL.displayName=wL;var di="ScrollAreaScrollbar",Hk=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ia(di,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(fte,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(hte,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(NL,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Gk,{...n,ref:t}):null});Hk.displayName=di;var fte=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ia(di,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(cn,{present:r||i,children:s.jsx(NL,{"data-state":i?"visible":"hidden",...n,ref:t})})}),hte=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ia(di,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Ab(()=>c("SCROLL_END"),100),[l,c]=ute("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),y.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(cn,{present:r||l!=="hidden",children:s.jsx(Gk,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),NL=y.forwardRef((e,t)=>{const r=ia(di,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",c=Ab(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Cd(r.viewport,c),Cd(r.content,c),s.jsx(cn,{present:n||i,children:s.jsx(Gk,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Gk=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ia(di,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=PL(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return yte(h,o.current,l,p)}return r==="horizontal"?s.jsx(mte,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=WA(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(pte,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=WA(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),mte=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ia(di,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=dt(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(SL,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Eb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),AL(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:xx(o.paddingLeft),paddingEnd:xx(o.paddingRight)}})}})}),pte=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ia(di,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=dt(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(SL,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Eb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),AL(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:xx(o.paddingTop),paddingEnd:xx(o.paddingBottom)}})}})}),[gte,_L]=yL(di),SL=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=ia(di,r),[b,m]=y.useState(null),w=dt(t,C=>m(C)),x=y.useRef(null),g=y.useRef(""),v=p.viewport,j=n.content-n.viewport,N=$r(d),_=$r(c),S=Ab(f,10);function k(C){if(x.current){const P=C.clientX-x.current.left,E=C.clientY-x.current.top;u({x:P,y:E})}}return y.useEffect(()=>{const C=P=>{const E=P.target;(b==null?void 0:b.contains(E))&&N(P,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[v,b,j,N]),y.useEffect(_,[n,_]),Cd(b,S),Cd(p.content,S),s.jsx(gte,{scope:r,scrollbar:b,hasThumb:a,onThumbChange:$r(i),onThumbPointerUp:$r(o),onThumbPositionChange:_,onThumbPointerDown:$r(l),children:s.jsx(Me.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:Ne(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),x.current=b.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Ne(e.onPointerMove,k),onPointerUp:Ne(e.onPointerUp,C=>{const P=C.target;P.hasPointerCapture(C.pointerId)&&P.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=g.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),vx="ScrollAreaThumb",kL=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_L(vx,e.__scopeScrollArea);return s.jsx(cn,{present:r||a.hasThumb,children:s.jsx(vte,{ref:t,...n})})}),vte=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ia(vx,r),o=_L(vx,r),{onThumbPositionChange:l}=o,c=dt(t,f=>o.onThumbChange(f)),u=y.useRef(void 0),d=Ab(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=bte(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ne(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),b=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:b,y:m})}),onPointerUp:Ne(e.onPointerUp,o.onThumbPointerUp)})});kL.displayName=vx;var Qk="ScrollAreaCorner",CL=y.forwardRef((e,t)=>{const r=ia(Qk,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(xte,{...e,ref:t}):null});CL.displayName=Qk;var xte=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ia(Qk,r),[i,o]=y.useState(0),[l,c]=y.useState(0),u=!!(i&&l);return Cd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Cd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Me.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function xx(e){return e?parseInt(e,10):0}function PL(e,t){const r=e/t;return isNaN(r)?0:r}function Eb(e){const t=PL(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function yte(e,t,r,n="ltr"){const a=Eb(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return EL([c,u],f)(e)}function WA(e,t,r="ltr"){const n=Eb(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=xN(e,c);return EL([0,o],[0,l])(u)}function EL(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function AL(e,t){return e>0&&e<t}var bte=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Ab(e,t){const r=$r(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Cd(e,t){const r=$r(t);Mr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var OL=bL,wte=jL,jte=CL;const TL=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(OL,{ref:n,className:ye("relative overflow-hidden",e),...r,children:[s.jsx(wte,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(IL,{}),s.jsx(jte,{})]}));TL.displayName=OL.displayName;const IL=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Hk,{ref:n,orientation:t,className:ye("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(kL,{className:"relative flex-1 rounded-full bg-border"})}));IL.displayName=Hk.displayName;function Xt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Xo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const RL=6048e5,Nte=864e5,zg=43200,KA=1440;let _te={};function Lp(){return _te}function Cm(e,t){var l,c,u,d;const r=Lp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Xt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function yx(e){return Cm(e,{weekStartsOn:1})}function $L(e){const t=Xt(e),r=t.getFullYear(),n=Xo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=yx(n),i=Xo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=yx(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function HA(e){const t=Xt(e);return t.setHours(0,0,0,0),t}function bx(e){const t=Xt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ML(e,t){const r=HA(e),n=HA(t),a=+r-bx(r),i=+n-bx(n);return Math.round((a-i)/Nte)}function Ste(e){const t=$L(e),r=Xo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),yx(r)}function Cv(e,t){const r=Xt(e),n=Xt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function kte(e){return Xo(e,Date.now())}function Cte(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Pte(e){if(!Cte(e)&&typeof e!="number")return!1;const t=Xt(e);return!isNaN(Number(t))}function Ete(e,t){const r=Xt(e),n=Xt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Ate(e,t){const r=Xt(e),n=Xt(t),a=GA(r,n),i=Math.abs(ML(r,n));r.setDate(r.getDate()-a*i);const o=+(GA(r,n)===-a),l=a*(i-o);return l===0?0:l}function GA(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Ote(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Tte(e,t){return+Xt(e)-+Xt(t)}function Ite(e){const t=Xt(e);return t.setHours(23,59,59,999),t}function Rte(e){const t=Xt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function $te(e){const t=Xt(e);return+Ite(t)==+Rte(t)}function Mte(e,t){const r=Xt(e),n=Xt(t),a=Cv(r,n),i=Math.abs(Ete(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Cv(r,n)===-a;$te(Xt(e))&&i===1&&Cv(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function Dte(e,t,r){const n=Tte(e,t)/1e3;return Ote(r==null?void 0:r.roundingMethod)(n)}function Lte(e){const t=Xt(e),r=Xo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Fte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ute=(e,t,r)=>{let n;const a=Fte[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Zw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Bte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zte={date:Zw({formats:Bte,defaultWidth:"full"}),time:Zw({formats:Vte,defaultWidth:"full"}),dateTime:Zw({formats:qte,defaultWidth:"full"})},Wte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kte=(e,t,r,n)=>Wte[e];function Jf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Hte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zte=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ere={ordinalNumber:Zte,era:Jf({values:Hte,defaultWidth:"wide"}),quarter:Jf({values:Gte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Jf({values:Qte,defaultWidth:"wide"}),day:Jf({values:Yte,defaultWidth:"wide"}),dayPeriod:Jf({values:Xte,defaultWidth:"wide",formattingValues:Jte,defaultFormattingWidth:"wide"})};function Zf(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rre(l,f=>f.test(o)):tre(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function tre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function nre(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const sre=/^(\d+)(th|st|nd|rd)?/i,are=/\d+/i,ire={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ore={any:[/^b/i,/^(a|c)/i]},lre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cre={any:[/1/i,/2/i,/3/i,/4/i]},ure={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gre={ordinalNumber:nre({matchPattern:sre,parsePattern:are,valueCallback:e=>parseInt(e,10)}),era:Zf({matchPatterns:ire,defaultMatchWidth:"wide",parsePatterns:ore,defaultParseWidth:"any"}),quarter:Zf({matchPatterns:lre,defaultMatchWidth:"wide",parsePatterns:cre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zf({matchPatterns:ure,defaultMatchWidth:"wide",parsePatterns:dre,defaultParseWidth:"any"}),day:Zf({matchPatterns:fre,defaultMatchWidth:"wide",parsePatterns:hre,defaultParseWidth:"any"}),dayPeriod:Zf({matchPatterns:mre,defaultMatchWidth:"any",parsePatterns:pre,defaultParseWidth:"any"})},DL={code:"en-US",formatDistance:Ute,formatLong:zte,formatRelative:Kte,localize:ere,match:gre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vre(e){const t=Xt(e);return ML(t,Lte(t))+1}function xre(e){const t=Xt(e),r=+yx(t)-+Ste(t);return Math.round(r/RL)+1}function LL(e,t){var d,f,h,p;const r=Xt(e),n=r.getFullYear(),a=Lp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Xo(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Cm(o,t),c=Xo(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Cm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function yre(e,t){var l,c,u,d;const r=Lp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=LL(e,t),i=Xo(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Cm(i,t)}function bre(e,t){const r=Xt(e),n=+Cm(r,t)-+yre(r,t);return Math.round(n/RL)+1}function Qt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const oo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Qt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Qt(r+1,2)},d(e,t){return Qt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Qt(e.getHours()%12||12,t.length)},H(e,t){return Qt(e.getHours(),t.length)},m(e,t){return Qt(e.getMinutes(),t.length)},s(e,t){return Qt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Qt(a,t.length)}},lu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return oo.y(e,t)},Y:function(e,t,r,n){const a=LL(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Qt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Qt(i,t.length)},R:function(e,t){const r=$L(e);return Qt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Qt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Qt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Qt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return oo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Qt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=bre(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Qt(a,t.length)},I:function(e,t,r){const n=xre(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Qt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):oo.d(e,t)},D:function(e,t,r){const n=vre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Qt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Qt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Qt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=lu.noon:n===0?a=lu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=lu.evening:n>=12?a=lu.afternoon:n>=4?a=lu.morning:a=lu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return oo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):oo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):oo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):oo.s(e,t)},S:function(e,t){return oo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return XA(n);case"XXXX":case"XX":return Pl(n);case"XXXXX":case"XXX":default:return Pl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return XA(n);case"xxxx":case"xx":return Pl(n);case"xxxxx":case"xxx":default:return Pl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+YA(n,":");case"OOOO":default:return"GMT"+Pl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+YA(n,":");case"zzzz":default:return"GMT"+Pl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Qt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Qt(n,t.length)}};function YA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Qt(i,2)}function XA(e,t){return e%60===0?(e>0?"-":"+")+Qt(Math.abs(e)/60,2):Pl(e,t)}function Pl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Qt(Math.trunc(n/60),2),i=Qt(n%60,2);return r+a+t+i}const JA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},FL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return JA(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",JA(n,t)).replace("{{time}}",FL(a,t))},jre={p:FL,P:wre},Nre=/^D+$/,_re=/^Y+$/,Sre=["D","DD","YY","YYYY"];function kre(e){return Nre.test(e)}function Cre(e){return _re.test(e)}function Pre(e,t,r){const n=Ere(e,t,r);if(console.warn(n),Sre.includes(e))throw new RangeError(n)}function Ere(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Are=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ore=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tre=/^'([^]*?)'?$/,Ire=/''/g,Rre=/[a-zA-Z]/;function Yn(e,t,r){var d,f,h,p;const n=Lp(),a=n.locale??DL,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=Xt(e);if(!Pte(l))throw new RangeError("Invalid time value");let c=t.match(Ore).map(b=>{const m=b[0];if(m==="p"||m==="P"){const w=jre[m];return w(b,a.formatLong)}return b}).join("").match(Are).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const m=b[0];if(m==="'")return{isToken:!1,value:$re(b)};if(QA[m])return{isToken:!0,value:b};if(m.match(Rre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const m=b.value;(Cre(m)||kre(m))&&Pre(m,t,String(e));const w=QA[m[0]];return w(l,m,a.localize,u)}).join("")}function $re(e){const t=e.match(Tre);return t?t[1].replace(Ire,"'"):e}function Mre(e,t,r){const n=Lp(),a=(r==null?void 0:r.locale)??n.locale??DL,i=2520,o=Cv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Xt(t),u=Xt(e)):(c=Xt(e),u=Xt(t));const d=Dte(u,c),f=(bx(u)-bx(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<KA){const b=Math.round(h/60);return a.formatDistance("aboutXHours",b,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<zg){const b=Math.round(h/KA);return a.formatDistance("xDays",b,l)}else if(h<zg*2)return p=Math.round(h/zg),a.formatDistance("aboutXMonths",p,l)}if(p=Mte(u,c),p<12){const b=Math.round(h/zg);return a.formatDistance("xMonths",b,l)}else{const b=p%12,m=Math.trunc(p/12);return b<3?a.formatDistance("aboutXYears",m,l):b<9?a.formatDistance("overXYears",m,l):a.formatDistance("almostXYears",m+1,l)}}function UL(e,t){return Mre(e,kte(e),t)}function Dre(){const[e,t]=y.useState(!1),{data:r=[],isLoading:n}=ce({queryKey:["/api/notifications"]}),{data:a}=ce({queryKey:["/api/notifications/unread-count"]}),i=xe({mutationFn:async f=>{await ve("POST",`/api/notifications/${f}/read`)},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/notifications"]}),Z.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),o=xe({mutationFn:async()=>{await ve("POST","/api/notifications/read-all")},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/notifications"]}),Z.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=xe({mutationFn:async f=>{await ve("DELETE",`/api/notifications/${f}`)},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/notifications"]}),Z.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),c=(a==null?void 0:a.count)||0,u=f=>{switch(f){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},d=f=>{f.isRead||i.mutate(f.id),f.link&&t(!1)};return s.jsxs(ote,{open:e,onOpenChange:t,children:[s.jsx(lte,{asChild:!0,children:s.jsxs($,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[s.jsx(wd,{className:"w-5 h-5"}),c>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] px-1 text-xs font-medium text-white bg-red-500 rounded-full","data-testid":"notification-count",children:c>99?"99+":c})]})}),s.jsxs(xL,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),c>0&&s.jsxs($,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-mark-all-read",children:[s.jsx(Sr,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),s.jsx(TL,{className:"h-[300px]",children:n?s.jsx("div",{className:"flex items-center justify-center h-20",children:s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-primary border-t-transparent rounded-full"})}):r.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-sm text-muted-foreground",children:[s.jsx(wd,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No notifications"})]}):s.jsx("div",{className:"divide-y",children:r.map(f=>s.jsx("div",{className:`p-3 group ${f.isRead?"":"bg-muted/50"}`,"data-testid":`notification-item-${f.id}`,children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${u(f.type)}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[f.link?s.jsx(fe,{href:f.link,onClick:()=>d(f),children:s.jsx("p",{className:"text-sm font-medium cursor-pointer hover:underline",children:f.title})}):s.jsx("p",{className:"text-sm font-medium",children:f.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:f.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:UL(new Date(f.createdAt),{addSuffix:!0})})]}),s.jsxs("div",{className:"flex items-start gap-1 invisible group-hover:visible",children:[!f.isRead&&s.jsx($,{variant:"ghost",size:"icon",className:"w-6 h-6",onClick:()=>i.mutate(f.id),disabled:i.isPending,"data-testid":`button-mark-read-${f.id}`,children:s.jsx(Sr,{className:"w-3 h-3"})}),s.jsx($,{variant:"ghost",size:"icon",className:"w-6 h-6 text-destructive",onClick:()=>l.mutate(f.id),disabled:l.isPending,"data-testid":`button-delete-notification-${f.id}`,children:s.jsx(mr,{className:"w-3 h-3"})})]})]})},f.id))})}),s.jsx("div",{className:"p-2 border-t",children:s.jsx(fe,{href:"/profile?tab=notifications",onClick:()=>t(!1),children:s.jsx($,{variant:"ghost",className:"w-full text-xs h-8","data-testid":"button-view-all-notifications",children:"View all notifications"})})})]})]})}var ej="rovingFocusGroup.onEntryFocus",Lre={bubbles:!1,cancelable:!0},Fp="RovingFocusGroup",[yN,BL,Fre]=Sp(Fp),[Ure,Ob]=Cn(Fp,[Fre]),[Bre,Vre]=Ure(Fp),VL=y.forwardRef((e,t)=>s.jsx(yN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(yN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(qre,{...e,ref:t})})}));VL.displayName=Fp;var qre=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),p=dt(t,h),b=bf(i),[m,w]=hs({prop:o,defaultProp:l??null,onChange:c,caller:Fp}),[x,g]=y.useState(!1),v=$r(u),j=BL(r),N=y.useRef(!1),[_,S]=y.useState(0);return y.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(ej,v),()=>k.removeEventListener(ej,v)},[v]),s.jsx(Bre,{scope:r,orientation:n,dir:b,loop:a,currentTabStopId:m,onItemFocus:y.useCallback(k=>w(k),[w]),onItemShiftTab:y.useCallback(()=>g(!0),[]),onFocusableItemAdd:y.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:y.useCallback(()=>S(k=>k-1),[]),children:s.jsx(Me.div,{tabIndex:x||_===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{N.current=!0}),onFocus:Ne(e.onFocus,k=>{const C=!N.current;if(k.target===k.currentTarget&&C&&!x){const P=new CustomEvent(ej,Lre);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const E=j().filter(V=>V.focusable),O=E.find(V=>V.active),I=E.find(V=>V.id===m),M=[O,I,...E].filter(Boolean).map(V=>V.ref.current);WL(M,d)}}N.current=!1}),onBlur:Ne(e.onBlur,()=>g(!1))})})}),qL="RovingFocusGroupItem",zL=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Wr(),u=i||c,d=Vre(qL,r),f=d.currentTabStopId===u,h=BL(r),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:m}=d;return y.useEffect(()=>{if(n)return p(),()=>b()},[n,p,b]),s.jsx(yN.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ne(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:Ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ne(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=Kre(w,d.orientation,d.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=h().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const j=v.indexOf(w.currentTarget);v=d.loop?Hre(v,j+1):v.slice(j+1)}setTimeout(()=>WL(v))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});zL.displayName=qL;var zre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Wre(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Kre(e,t,r){const n=Wre(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return zre[n]}function WL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Hre(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var KL=VL,HL=zL;function Gre(e){const t=Qre(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(Xre);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Qre(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=Zre(a),l=Jre(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Xn(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yre=Symbol("radix.slottable");function Xre(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yre}function Jre(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Zre(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bN=["Enter"," "],ene=["ArrowDown","PageUp","Home"],GL=["ArrowUp","PageDown","End"],tne=[...ene,...GL],rne={ltr:[...bN,"ArrowRight"],rtl:[...bN,"ArrowLeft"]},nne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Up="Menu",[Pm,sne,ane]=Sp(Up),[Ic,QL]=Cn(Up,[ane,al,Ob]),Tb=al(),YL=Ob(),[ine,Rc]=Ic(Up),[one,Bp]=Ic(Up),XL=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Tb(t),[c,u]=y.useState(null),d=y.useRef(!1),f=$r(i),h=bf(a);return y.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),s.jsx(gb,{...l,children:s.jsx(ine,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(one,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};XL.displayName=Up;var lne="MenuAnchor",Yk=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Tb(r);return s.jsx(Tp,{...a,...n,ref:t})});Yk.displayName=lne;var Xk="MenuPortal",[cne,JL]=Ic(Xk,{forceMount:void 0}),ZL=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Rc(Xk,t);return s.jsx(cne,{scope:t,forceMount:r,children:s.jsx(cn,{present:r||i.open,children:s.jsx(ff,{asChild:!0,container:a,children:n})})})};ZL.displayName=Xk;var Zs="MenuContent",[une,Jk]=Ic(Zs),eF=y.forwardRef((e,t)=>{const r=JL(Zs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Rc(Zs,e.__scopeMenu),o=Bp(Zs,e.__scopeMenu);return s.jsx(Pm.Provider,{scope:e.__scopeMenu,children:s.jsx(cn,{present:n||i.open,children:s.jsx(Pm.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(dne,{...a,ref:t}):s.jsx(fne,{...a,ref:t})})})})}),dne=y.forwardRef((e,t)=>{const r=Rc(Zs,e.__scopeMenu),n=y.useRef(null),a=dt(t,n);return y.useEffect(()=>{const i=n.current;if(i)return kb(i)},[]),s.jsx(Zk,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),fne=y.forwardRef((e,t)=>{const r=Rc(Zs,e.__scopeMenu);return s.jsx(Zk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),hne=Gre("MenuContent.ScrollLock"),Zk=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:b,...m}=e,w=Rc(Zs,r),x=Bp(Zs,r),g=Tb(r),v=YL(r),j=sne(r),[N,_]=y.useState(null),S=y.useRef(null),k=dt(t,S,w.onContentChange),C=y.useRef(0),P=y.useRef(""),E=y.useRef(0),O=y.useRef(null),I=y.useRef("right"),T=y.useRef(0),M=b?Mp:y.Fragment,V=b?{as:hne,allowPinchZoom:!0}:void 0,K=R=>{var ee,we;const G=P.current+R,Y=j().filter(ae=>!ae.disabled),F=document.activeElement,X=(ee=Y.find(ae=>ae.ref.current===F))==null?void 0:ee.textValue,le=Y.map(ae=>ae.textValue),he=Sne(le,G,X),je=(we=Y.find(ae=>ae.textValue===he))==null?void 0:we.ref.current;(function ae(L){P.current=L,window.clearTimeout(C.current),L!==""&&(C.current=window.setTimeout(()=>ae(""),1e3))})(G),je&&setTimeout(()=>je.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),Sb();const A=y.useCallback(R=>{var Y,F;return I.current===((Y=O.current)==null?void 0:Y.side)&&Cne(R,(F=O.current)==null?void 0:F.area)},[]);return s.jsx(une,{scope:r,searchRef:P,onItemEnter:y.useCallback(R=>{A(R)&&R.preventDefault()},[A]),onItemLeave:y.useCallback(R=>{var G;A(R)||((G=S.current)==null||G.focus(),_(null))},[A]),onTriggerLeave:y.useCallback(R=>{A(R)&&R.preventDefault()},[A]),pointerGraceTimerRef:E,onPointerGraceIntentChange:y.useCallback(R=>{O.current=R},[]),children:s.jsx(M,{...V,children:s.jsx($p,{asChild:!0,trapped:a,onMountAutoFocus:Ne(i,R=>{var G;R.preventDefault(),(G=S.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:s.jsx(KL,{asChild:!0,...v,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:Ne(c,R=>{x.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(vb,{role:"menu","aria-orientation":"vertical","data-state":gF(w.open),"data-radix-menu-content":"",dir:x.dir,...g,...m,ref:k,style:{outline:"none",...m.style},onKeyDown:Ne(m.onKeyDown,R=>{const Y=R.target.closest("[data-radix-menu-content]")===R.currentTarget,F=R.ctrlKey||R.altKey||R.metaKey,X=R.key.length===1;Y&&(R.key==="Tab"&&R.preventDefault(),!F&&X&&K(R.key));const le=S.current;if(R.target!==le||!tne.includes(R.key))return;R.preventDefault();const je=j().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);GL.includes(R.key)&&je.reverse(),Nne(je)}),onBlur:Ne(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(C.current),P.current="")}),onPointerMove:Ne(e.onPointerMove,Em(R=>{const G=R.target,Y=T.current!==R.clientX;if(R.currentTarget.contains(G)&&Y){const F=R.clientX>T.current?"right":"left";I.current=F,T.current=R.clientX}}))})})})})})})});eF.displayName=Zs;var mne="MenuGroup",eC=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"group",...n,ref:t})});eC.displayName=mne;var pne="MenuLabel",tF=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});tF.displayName=pne;var wx="MenuItem",ZA="menu.itemSelect",Ib=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=y.useRef(null),o=Bp(wx,e.__scopeMenu),l=Jk(wx,e.__scopeMenu),c=dt(t,i),u=y.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(ZA,{bubbles:!0,cancelable:!0});f.addEventListener(ZA,p=>n==null?void 0:n(p),{once:!0}),yk(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(rF,{...a,ref:c,disabled:r,onClick:Ne(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ne(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ne(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||bN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ib.displayName=wx;var rF=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=Jk(wx,r),l=YL(r),c=y.useRef(null),u=dt(t,c),[d,f]=y.useState(!1),[h,p]=y.useState("");return y.useEffect(()=>{const b=c.current;b&&p((b.textContent??"").trim())},[i.children]),s.jsx(Pm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(HL,{asChild:!0,...l,focusable:!n,children:s.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ne(e.onPointerMove,Em(b=>{n?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(e.onPointerLeave,Em(b=>o.onItemLeave(b))),onFocus:Ne(e.onFocus,()=>f(!0)),onBlur:Ne(e.onBlur,()=>f(!1))})})})}),gne="MenuCheckboxItem",nF=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(lF,{scope:e.__scopeMenu,checked:r,children:s.jsx(Ib,{role:"menuitemcheckbox","aria-checked":jx(r)?"mixed":r,...a,ref:t,"data-state":rC(r),onSelect:Ne(a.onSelect,()=>n==null?void 0:n(jx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});nF.displayName=gne;var sF="MenuRadioGroup",[vne,xne]=Ic(sF,{value:void 0,onValueChange:()=>{}}),aF=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=$r(n);return s.jsx(vne,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(eC,{...a,ref:t})})});aF.displayName=sF;var iF="MenuRadioItem",oF=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=xne(iF,e.__scopeMenu),i=r===a.value;return s.jsx(lF,{scope:e.__scopeMenu,checked:i,children:s.jsx(Ib,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":rC(i),onSelect:Ne(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});oF.displayName=iF;var tC="MenuItemIndicator",[lF,yne]=Ic(tC,{checked:!1}),cF=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=yne(tC,r);return s.jsx(cn,{present:n||jx(i.checked)||i.checked===!0,children:s.jsx(Me.span,{...a,ref:t,"data-state":rC(i.checked)})})});cF.displayName=tC;var bne="MenuSeparator",uF=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});uF.displayName=bne;var wne="MenuArrow",dF=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Tb(r);return s.jsx(xb,{...a,...n,ref:t})});dF.displayName=wne;var jne="MenuSub",[dMe,fF]=Ic(jne),yh="MenuSubTrigger",hF=y.forwardRef((e,t)=>{const r=Rc(yh,e.__scopeMenu),n=Bp(yh,e.__scopeMenu),a=fF(yh,e.__scopeMenu),i=Jk(yh,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(Yk,{asChild:!0,...u,children:s.jsx(rF,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":gF(r.open),...e,ref:Xn(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ne(e.onPointerMove,Em(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ne(e.onPointerLeave,Em(f=>{var p,b;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(b=r.content)==null?void 0:b.dataset.side,w=m==="right",x=w?-5:5,g=h[w?"left":"right"],v=h[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:g,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x:g,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||rne[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});hF.displayName=yh;var mF="MenuSubContent",pF=y.forwardRef((e,t)=>{const r=JL(Zs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Rc(Zs,e.__scopeMenu),o=Bp(Zs,e.__scopeMenu),l=fF(mF,e.__scopeMenu),c=y.useRef(null),u=dt(t,c);return s.jsx(Pm.Provider,{scope:e.__scopeMenu,children:s.jsx(cn,{present:n||i.open,children:s.jsx(Pm.Slot,{scope:e.__scopeMenu,children:s.jsx(Zk,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ne(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ne(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=nne[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});pF.displayName=mF;function gF(e){return e?"open":"closed"}function jx(e){return e==="indeterminate"}function rC(e){return jx(e)?"indeterminate":e?"checked":"unchecked"}function Nne(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function _ne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Sne(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=_ne(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function kne(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Cne(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return kne(r,t)}function Em(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Pne=XL,Ene=Yk,Ane=ZL,One=eF,Tne=eC,Ine=tF,Rne=Ib,$ne=nF,Mne=aF,Dne=oF,Lne=cF,Fne=uF,Une=dF,Bne=hF,Vne=pF,Rb="DropdownMenu",[qne]=Cn(Rb,[QL]),es=QL(),[zne,vF]=qne(Rb),xF=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=es(t),u=y.useRef(null),[d,f]=hs({prop:a,defaultProp:i??!1,onChange:o,caller:Rb});return s.jsx(zne,{scope:t,triggerId:Wr(),triggerRef:u,contentId:Wr(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(Pne,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};xF.displayName=Rb;var yF="DropdownMenuTrigger",bF=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=vF(yF,r),o=es(r);return s.jsx(Ene,{asChild:!0,...o,children:s.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Xn(t,i.triggerRef),onPointerDown:Ne(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ne(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});bF.displayName=yF;var Wne="DropdownMenuPortal",wF=e=>{const{__scopeDropdownMenu:t,...r}=e,n=es(t);return s.jsx(Ane,{...n,...r})};wF.displayName=Wne;var jF="DropdownMenuContent",NF=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vF(jF,r),i=es(r),o=y.useRef(!1);return s.jsx(One,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ne(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NF.displayName=jF;var Kne="DropdownMenuGroup",Hne=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=es(r);return s.jsx(Tne,{...a,...n,ref:t})});Hne.displayName=Kne;var Gne="DropdownMenuLabel",_F=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=es(r);return s.jsx(Ine,{...a,...n,ref:t})});_F.displayName=Gne;var Qne="DropdownMenuItem",SF=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=es(r);return s.jsx(Rne,{...a,...n,ref:t})});SF.displayName=Qne;var Yne="DropdownMenuCheckboxItem",kF=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=es(r);return s.jsx($ne,{...a,...n,ref:t})});kF.displayName=Yne;var Xne="DropdownMenuRadioGroup",Jne=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=es(r);return s.jsx(Mne,{...a,...n,ref:t})});Jne.displayName=Xne;var Zne="DropdownMenuRadioItem",CF=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=es(r);return s.jsx(Dne,{...a,...n,ref:t})});CF.displayName=Zne;var ese="DropdownMenuItemIndicator",PF=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=es(r);return s.jsx(Lne,{...a,...n,ref:t})});PF.displayName=ese;var tse="DropdownMenuSeparator",EF=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=es(r);return s.jsx(Fne,{...a,...n,ref:t})});EF.displayName=tse;var rse="DropdownMenuArrow",nse=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=es(r);return s.jsx(Une,{...a,...n,ref:t})});nse.displayName=rse;var sse="DropdownMenuSubTrigger",AF=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=es(r);return s.jsx(Bne,{...a,...n,ref:t})});AF.displayName=sse;var ase="DropdownMenuSubContent",OF=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=es(r);return s.jsx(Vne,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OF.displayName=ase;var ise=xF,ose=bF,lse=wF,TF=NF,IF=_F,RF=SF,$F=kF,MF=CF,DF=PF,LF=EF,FF=AF,UF=OF;const cse=ise,use=ose,dse=y.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(FF,{ref:a,className:ye("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(na,{className:"ml-auto"})]}));dse.displayName=FF.displayName;const fse=y.forwardRef(({className:e,...t},r)=>s.jsx(UF,{ref:r,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));fse.displayName=UF.displayName;const BF=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(lse,{children:s.jsx(TF,{ref:n,sideOffset:t,className:ye("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));BF.displayName=TF.displayName;const Pv=y.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(RF,{ref:n,className:ye("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Pv.displayName=RF.displayName;const hse=y.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs($F,{ref:a,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(DF,{children:s.jsx(Sr,{className:"h-4 w-4"})})}),t]}));hse.displayName=$F.displayName;const mse=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(MF,{ref:n,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(DF,{children:s.jsx(KH,{className:"h-2 w-2 fill-current"})})}),t]}));mse.displayName=MF.displayName;const pse=y.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(IF,{ref:n,className:ye("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));pse.displayName=IF.displayName;const wN=y.forwardRef(({className:e,...t},r)=>s.jsx(LF,{ref:r,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));wN.displayName=LF.displayName;const gse=[{label:"Facilities",href:"/facilities"},{label:"Events & Academies",href:"/events"},{label:"Updates",href:"/roadmap"},{label:"Contact",href:"/contact"}];function tr({onScrollTo:e}){const[t,r]=y.useState(!1),{user:n,isAuthenticated:a}=Ji(),[i,o]=Mn(),{data:l}=ce({queryKey:["/api/site-settings"],queryFn:async()=>{try{const g=await fetch("/api/site-settings");if(!g.ok)return{};const v=await g.json();return v&&typeof v=="object"&&!v.message?v:{}}catch{return{}}}}),{data:c}=ce({queryKey:["/api/navbar-items"],queryFn:async()=>{try{const g=await fetch("/api/navbar-items");if(!g.ok)return[];const v=await g.json();return Array.isArray(v)?v:[]}catch{return[]}}}),{data:u}=ce({queryKey:["/api/admin/config"],enabled:a&&((n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN")}),d=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN",f=g=>{if(r(!1),i!=="/"){o("/"),sessionStorage.setItem("scrollToSection",g);return}const v=document.getElementById(g);if(!v)return;const N=v.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:N,behavior:"smooth"})};y.useEffect(()=>{if(i==="/"){const g=sessionStorage.getItem("scrollToSection");g&&(sessionStorage.removeItem("scrollToSection"),setTimeout(()=>{const v=document.getElementById(g);if(v){const N=v.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:N,behavior:"smooth"})}},100))}},[i]);const h=(g,v="")=>(l==null?void 0:l[g])||v,p=h("logo_main_url"),b=h("site_name","The Quarterdeck"),m=h("site_tagline","Sports & Recreation Complex"),w=y.useMemo(()=>!c||c.length===0?gse:c.filter(g=>g.isVisible).sort((g,v)=>(g.sortOrder||0)-(v.sortOrder||0)).map(g=>{var v;return g.href==="/#gallery"?{label:g.label,href:"/gallery"}:g.href==="/#contact"?{label:g.label,href:"/contact"}:(v=g.href)!=null&&v.startsWith("/#")?{label:g.label,section:g.href.replace("/#","")}:{label:g.label,href:g.href}}),[c]),x=g=>{g.href?(r(!1),o(g.href)):g.section&&f(g.section)};return s.jsxs("header",{className:"sticky top-0 z-50 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-15 dark:opacity-25",style:{backgroundImage:`url(${gx})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("nav",{className:"h-[70px] flex items-center justify-between gap-8",children:[s.jsx(fe,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-logo",children:[p?s.jsx("img",{src:p,alt:b,className:"h-10 w-auto object-contain","data-testid":"img-site-logo"}):s.jsx("div",{className:"qd-logo-mark",children:"Q"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:b}),s.jsx("div",{className:"text-xs text-primary-foreground/70",children:m})]})]})}),s.jsx("div",{className:"hidden lg:flex items-center gap-7 text-sm text-primary-foreground/70",children:w.map(g=>g.href?s.jsx(fe,{href:g.href,children:s.jsx("span",{className:"hover:text-primary-foreground transition-colors cursor-pointer","data-testid":`link-nav-${g.label.toLowerCase()}`,children:g.label})},g.label):s.jsx("button",{onClick:()=>f(g.section),className:"hover:text-primary-foreground transition-colors","data-testid":`link-nav-${g.section}`,children:g.label},g.section))}),s.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[s.jsx(RA,{}),a?s.jsxs(s.Fragment,{children:[s.jsx(Dre,{}),s.jsx(fe,{href:"/booking",children:s.jsx($,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})}),s.jsxs(cse,{children:[s.jsx(use,{asChild:!0,children:s.jsxs($,{variant:"outline",className:"rounded-full gap-2","data-testid":"button-user-menu",children:[s.jsx(ls,{className:"w-4 h-4"}),(n==null?void 0:n.firstName)||"Account",s.jsx(Ra,{className:"w-3 h-3"})]})}),s.jsxs(BF,{align:"end",className:"w-48",children:[s.jsx(fe,{href:"/profile",children:s.jsxs(Pv,{className:"cursor-pointer","data-testid":"menu-item-profile",children:[s.jsx(ls,{className:"w-4 h-4 mr-2"}),"My Profile"]})}),d&&(u==null?void 0:u.adminPath)&&s.jsxs(s.Fragment,{children:[s.jsx(wN,{}),s.jsx(fe,{href:`/${u.adminPath}`,children:s.jsxs(Pv,{className:"cursor-pointer","data-testid":"menu-item-admin",children:[s.jsx(mm,{className:"w-4 h-4 mr-2"}),"Admin Dashboard"]})})]}),s.jsx(wN,{}),s.jsx("a",{href:"/api/logout",children:s.jsxs(Pv,{className:"cursor-pointer text-destructive","data-testid":"menu-item-logout",children:[s.jsx(qE,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(fe,{href:"/login",children:s.jsx($,{variant:"outline",className:"rounded-full","data-testid":"button-login",children:"Log In"})}),s.jsx(fe,{href:"/booking",children:s.jsx($,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})})]})]}),s.jsx("button",{className:"lg:hidden p-2",onClick:()=>r(!t),"aria-label":"Toggle navigation","data-testid":"button-mobile-menu",children:t?s.jsx(Nd,{className:"w-5 h-5 text-primary-foreground"}):s.jsx(M5,{className:"w-5 h-5 text-primary-foreground"})})]}),t&&s.jsxs("div",{className:"lg:hidden flex flex-col gap-2 pb-4 border-t border-primary-foreground/10 pt-4 animate-qd-fade-in",children:[w.map(g=>g.href?s.jsx(fe,{href:g.href,children:s.jsx("span",{className:"block text-left py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground cursor-pointer",onClick:()=>r(!1),"data-testid":`link-mobile-nav-${g.label.toLowerCase()}`,children:g.label})},g.label):s.jsx("button",{onClick:()=>x(g),className:"text-left py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground","data-testid":`link-mobile-nav-${g.section}`,children:g.label},g.section)),s.jsxs("div",{className:"flex items-center justify-between border-t border-primary-foreground/10 pt-4 mt-4",children:[s.jsx("span",{className:"text-sm text-primary-foreground/70",children:"Theme"}),s.jsx(RA,{})]}),s.jsx("div",{className:"flex flex-col gap-2 mt-4",children:a?s.jsxs(s.Fragment,{children:[s.jsx(fe,{href:"/profile",onClick:()=>r(!1),children:s.jsxs($,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-profile",children:[s.jsx(ls,{className:"w-4 h-4"}),"My Profile"]})}),d&&(u==null?void 0:u.adminPath)&&s.jsx(fe,{href:`/${u.adminPath}`,onClick:()=>r(!1),children:s.jsxs($,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-admin",children:[s.jsx(mm,{className:"w-4 h-4"}),"Admin Dashboard"]})}),s.jsx(fe,{href:"/booking",onClick:()=>r(!1),children:s.jsx($,{className:"w-full rounded-full","data-testid":"button-mobile-book",children:"Book Now"})}),s.jsx("a",{href:"/api/logout",children:s.jsxs($,{variant:"outline",className:"w-full rounded-full gap-2 text-destructive","data-testid":"button-mobile-logout",children:[s.jsx(qE,{className:"w-4 h-4"}),"Log Out"]})})]}):s.jsx(s.Fragment,{children:s.jsx(fe,{href:"/login",children:s.jsx($,{className:"w-full rounded-full","data-testid":"button-mobile-login",children:"Log In"})})})})]})]})]})}function rr(){const{data:e,isLoading:t}=ce({queryKey:["/api/site-settings"],queryFn:async()=>{try{const f=await fetch("/api/site-settings");if(!f.ok)return{};const h=await f.json();return h&&typeof h=="object"&&!h.message?h:{}}catch{return{}}},staleTime:3e5}),{data:r=[]}=ce({queryKey:["/api/site-images","global"],queryFn:async()=>{const h=await(await fetch("/api/site-images?page=global")).json();return Array.isArray(h)?h:[]},staleTime:1e3*60*5}),n=y.useMemo(()=>{if(!Array.isArray(r))return gx;const f=r.find(h=>h.section==="footer"&&h.isActive);return(f==null?void 0:f.imageUrl)||gx},[r]),a=(f,h="")=>(e==null?void 0:e[f])||h,i=a("site_name","The Quarterdeck"),o=a("site_tagline","Sports & Recreation Complex"),l=a("instagram_url")||a("social_instagram","#"),c=a("facebook_url")||a("social_facebook","#"),u=a("linkedin_url")||a("social_linkedin","#"),d=new Date().getFullYear();return s.jsxs("footer",{className:"qd-footer relative overflow-hidden bg-primary dark:bg-slate-900",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-10 dark:opacity-20",style:{backgroundImage:`url(${n})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary via-primary/95 to-primary/80 dark:from-slate-900 dark:via-slate-900/95 dark:to-slate-900/80"}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("div",{className:"flex flex-wrap justify-between gap-6 items-center",children:[s.jsx(fe,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-footer-logo",children:[s.jsx("div",{className:"qd-logo-mark",children:i.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:i}),s.jsx("div",{className:"text-xs text-primary-foreground/70",children:o})]})]})}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(fe,{href:"/vision",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-about",children:"About Us"})}),s.jsx(fe,{href:"/rules",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-rules",children:"Rules & Safety"})}),s.jsx(fe,{href:"/careers",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-careers",children:"Careers"})}),s.jsx(fe,{href:"/contact",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-contact",children:"Contact"})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Instagram","data-testid":"link-social-instagram",children:s.jsx(R5,{className:"w-4 h-4"})}),s.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Facebook","data-testid":"link-social-facebook",children:s.jsx(A5,{className:"w-4 h-4"})}),s.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"LinkedIn","data-testid":"link-social-linkedin",children:s.jsx(J1,{className:"w-4 h-4"})})]})]}),s.jsxs("p",{className:"text-center mt-6 text-primary-foreground/60 text-xs",children:[" ",d," ",i,"  All rights reserved."," ",s.jsx(fe,{href:"/terms",className:"font-semibold hover:text-primary-foreground cursor-pointer","data-testid":"link-footer-terms",children:"Terms & Conditions"})," | ",s.jsx(fe,{href:"/privacy",className:"font-semibold hover:text-primary-foreground cursor-pointer","data-testid":"link-footer-privacy",children:"Privacy Policy"})]})]})]})}function qe({className:e,...t}){return s.jsx("div",{className:ye("animate-pulse rounded-md bg-muted",e),...t})}function Dr(e,t={}){const{data:r=[],isLoading:n}=ce({queryKey:["/api/cms/bulk"],staleTime:3e5,retry:!1}),a={};return e.forEach(i=>{const o=r.find(l=>l.key===i);a[i]=(o==null?void 0:o.content)||t[i]||""}),{content:a,isLoading:n,getValue:i=>a[i]||t[i]||""}}const Ee={hero_title:'A bright, premium <span class="qd-hero-highlight">multi-sport arena</span> built for play, performance & community.',hero_subtitle:"The Quarterdeck brings state-of-the-art Padel Tennis, Squash, an Air Rifle Range, a Multipurpose Hall, and an Open Cafe/Bar experience into a single, purpose-built complex. We are setting the new standard for indoor sports and recreation in Islamabad.",hero_eyebrow:"Target Launch: December 25, 2025",hero_launch_date:"2025-12-25",hero_cta_1:"Explore Facilities",hero_cta_1_url:"/facilities",hero_cta_2:"View Site Updates",hero_cta_2_url:"/roadmap",hero_countdown_label:"Estimated Launch Countdown",hero_status_active:"Construction Active",hero_status_updates:"Transparent progress updates",hero_status_booking:"Early booking & waitlists planned",about_title:"About The Quarterdeck",about_subtitle:"Our core vision: Excellence in Play and Community. We are building Islamabad's premier destination for indoor sports, recreation, and social gathering.",about_cta:"See Our Vision",about_cta_url:"/vision",about_vision_title:"Vision & Philosophy",about_vision_content:"The Quarterdeck is born from a simple idea: that sports facilities should be world-class, accessible, and designed for social connection. We prioritize bright, modern architecture, superior court surfaces, and a welcoming atmosphere. Our aim is to cultivate a vibrant community around Padel, Squash, and recreational activities.",about_vision_content_2:"We are locally invested and committed to transparency throughout the construction and launch phases, ensuring the highest standards of quality and service.",about_tags:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly",about_team_title:"The Project Team",about_team_content:"The project is managed by a consortium of local real estate developers, sports enthusiasts, and seasoned facility operators. We have brought together expertise in engineering, architecture, and sports management to deliver an exceptional facility.",about_team_credits:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation",facilities_title:"Facilities at a Glance",facilities_subtitle:'The complex is engineered for high-performance sports and comfortable recreation. Click "View details" for the dedicated facility pages.',facilities_cta:"Check Court Availability",facilities_cta_url:"/booking",membership_title:"Membership & Pricing",membership_subtitle:"Choose the membership tier that fits your lifestyle. All members enjoy priority booking, exclusive discounts, and access to our world-class facilities.",membership_cta:"Inquire Now",membership_cta_url:"/membership",membership_comparison_title:"Quick Comparison",membership_footer:"Questions about membership? Contact us for more details or to discuss corporate packages.",membership_contact_cta:"Contact for Details",membership_contact_cta_url:"#contact",membership_terms_cta:"View Terms & Conditions",membership_terms_cta_url:"/terms",founding_tier_name:"Founding Member",founding_tier_label:"Limited & Exclusive",founding_tier_description:"For early supporters and investors who believe in our vision.",founding_tier_price:"PKR 35,000",founding_tier_period:"/month",founding_tier_features:"Lifetime priority booking (14-day window)|25% discount on all court bookings|10 guest passes per month|Permanent credit bonus (10%)|VIP parking & locker|Invitation to all exclusive events|Founding member recognition wall",gold_tier_name:"Gold Membership",gold_tier_label:"Premium Access",gold_tier_description:"For serious athletes and frequent players who want the best experience.",gold_tier_price:"PKR 15,000",gold_tier_period:"/month",gold_tier_features:"7-day advance booking window|20% discount on all court bookings|4 guest passes per month|Priority event registration|15% off coaching & clinics|Free equipment rental (2x/month)|Access to member lounge",silver_tier_name:"Silver Membership",silver_tier_label:"Standard Access",silver_tier_description:"Perfect for recreational players who want regular access at great value.",silver_tier_price:"PKR 5,000",silver_tier_period:"/month",silver_tier_features:"5-day advance booking window|10% discount on off-peak bookings|2 guest passes per month|10% off coaching & clinics|Member newsletter & updates|Discounted event entry",guest_tier_name:"Pay-to-Play",guest_tier_label:"Non-Member Access",guest_tier_description:"Try our facilities without commitment. Subject to availability.",guest_tier_price:"Standard",guest_tier_price_suffix:" rates",guest_tier_features:"2-day advance booking window|Access after member priority|Equipment rental available|Guest registration required|Can be upgraded to membership",contact_title:"Contact & Early Interest",contact_subtitle:"Connect with Our Development Team: Use the form to subscribe to our construction updates, inquire about corporate partnerships, or apply for our pre-launch membership waitlist.",contact_form_title:"Early Interest Form",contact_form_subtitle:"Submit your interest below and we'll keep you updated on our progress and launch.",contact_name_label:"Your Name",contact_email_label:"Your Email",contact_message_label:"Your Message/Interest (e.g., Padel Coaching, Corporate Event, Career Inquiry)",contact_submit:"Send Message",contact_email:"info@thequarterdeck.pk",contact_phone:"+92 51 1234567",contact_address:"Sector F-7, Islamabad, Pakistan",contact_socials_title:"Socials & Location",contact_socials_subtitle:"Follow our official channels for the most recent updates and progress photos:",contact_site_status_title:"Site Status",contact_site_status:"The complex is currently under active construction. No public access or walk-ins are permitted for safety reasons. All updates will be digital.",updates_title:"Construction Updates",updates_subtitle:"Transparent updates on progress, timeline, and achievements. Hover over each phase to see milestones.",updates_cta:"View Full Roadmap",updates_cta_url:"/roadmap",gallery_title:"Gallery & Progress Photos",gallery_subtitle:"Visual updates from the construction site and architectural renders of the completed facility.",gallery_cta:"View Full Gallery",gallery_cta_url:"/gallery",rules_title:"Rules & Safety Protocols",rules_subtitle:"Ensuring a safe, respectful, and high-quality environment for all members and guests. These are our key rules.",rules_cta:"View All Rules",rules_cta_url:"/rules",careers_title:"Careers at The Quarterdeck",careers_subtitle:"Join our team! We are looking for passionate, high-energy individuals to help us launch and run Islamabad's premier sports complex.",careers_cta:"View Open Positions",careers_cta_url:"/careers",events_title:"Events & Programs",events_subtitle:"Join tournaments, training academies, and social events at The Quarterdeck.",leaderboard_title:"Leaderboard",leaderboard_subtitle:"Track your progress and compete with fellow members.",footer_tagline:"Pakistan's Premier Sports & Recreation Complex",footer_copyright:"2024 The Quarterdeck. All rights reserved.",footer_quick_links_title:"Quick Links",footer_facilities_title:"Facilities",footer_legal_title:"Legal",social_instagram:"https://instagram.com/thequarterdeck",social_facebook:"https://facebook.com/thequarterdeck",social_linkedin:"https://linkedin.com/company/thequarterdeck",coming_soon_title:"Something Amazing Is Coming",coming_soon_subtitle:"Opening December 2025: Padel Courts & Cafe/Bar. Construction continues through 2026 for our 3-floor building with Multipurpose Hall & Air Rifle Range.",coming_soon_description:"The Quarterdeck will feature world-class Padel Tennis courts, Squash facilities, an Air Rifle Range, Multipurpose Hall, and an Open Cafe/Bar experience.",coming_soon_cta:"Join the Waitlist",coming_soon_cta_url:"#contact",coming_soon_progress_label:"Construction Progress",coming_soon_launch_date:"2025-12-25",coming_soon_location:"Islamabad, Pakistan",site_name:"The Quarterdeck",site_tagline:"Sports & Recreation Complex",site_launch_status:"pre-launch",navbar_book_now:"Book Now",navbar_login:"Log In",navbar_signup:"Sign Up",navbar_profile:"Profile",navbar_logout:"Log Out",navbar_admin:"Admin",navbar_dashboard:"Dashboard",footer_about_title:"About The Quarterdeck",footer_about_text:"Pakistan's premier indoor sports and recreation complex, featuring world-class Padel Tennis, Squash, Air Rifle Range, and more.",footer_newsletter_title:"Stay Updated",footer_newsletter_placeholder:"Enter your email",footer_newsletter_button:"Subscribe",footer_address_title:"Visit Us",footer_hours_title:"Opening Hours",footer_hours_weekday:"Mon-Fri: 10:00 AM - 10:00 PM",footer_hours_weekend:"Sat-Sun: 9:00 AM - 11:00 PM",footer_privacy_link:"Privacy Policy",footer_terms_link:"Terms of Service",footer_refund_link:"Refund Policy",booking_title:"Book a Court",booking_subtitle:"Select your facility, date, and time slot",booking_select_venue:"Select Venue",booking_select_facility:"Select Facility",booking_select_date:"Select Date",booking_select_time:"Select Time",booking_select_court:"Select Court",booking_duration_label:"Duration",booking_addons_title:"Add-ons",booking_summary_title:"Booking Summary",booking_confirm_button:"Confirm Booking",booking_cancel_button:"Cancel",booking_payment_title:"Payment Method",booking_no_slots:"No available slots for this date",booking_login_required:"Please log in to book",countdown_days:"Days",countdown_hours:"Hours",countdown_minutes:"Minutes",countdown_seconds:"Seconds",btn_learn_more:"Learn More",btn_view_all:"View All",btn_submit:"Submit",btn_cancel:"Cancel",btn_save:"Save Changes",btn_close:"Close",btn_back:"Go Back",btn_next:"Next",btn_previous:"Previous",whatsapp_phone:"+923001234567",whatsapp_button_text:"Chat on WhatsApp",whatsapp_button_visible:"true",whatsapp_default_message:"Hello, I have a question about The Quarterdeck.",empty_bookings:"You have no bookings yet.",empty_events:"No events scheduled at this time.",empty_leaderboard:"Leaderboard will be available after launch.",page_facilities_title:"Our Facilities",page_facilities_subtitle:"World-class sports and recreation facilities designed for excellence in Islamabad",page_facilities_ready_title:"Ready to Book?",page_facilities_ready_description:"Members can book facilities through our online booking system. Log in to access all our premium facilities and exclusive member benefits.",page_facilities_book_cta:"Book Now",page_facilities_contact_cta:"Contact Us",page_membership_title:"Membership",page_membership_subtitle:"Join The Quarterdeck community and unlock exclusive benefits, priority booking, and member-only perks.",page_membership_why_title:"Why Become a Member?",page_membership_why_description:"Enjoy exclusive access to world-class facilities, priority booking, and a vibrant community of sports enthusiasts.",page_membership_tiers_title:"Membership Tiers",page_membership_tiers_description:"Choose the membership tier that best fits your lifestyle and sports goals.",page_membership_ready_title:"Ready to Join?",page_membership_ready_description:"Create your account and choose your membership tier to start enjoying exclusive benefits today.",page_membership_create_cta:"Create Account",page_membership_contact_cta:"Contact Us",page_contact_title:"Contact Us",page_contact_subtitle:"Get in touch with The Quarterdeck team. We're here to help with bookings, memberships, and any questions you may have.",page_contact_form_title:"Send Us a Message",page_contact_success_title:"Thank You!",page_contact_success_message:"Your message has been sent successfully. We'll respond within 24-48 hours.",page_contact_info_title:"Contact Information",page_contact_social_title:"Follow Us",page_contact_faq_title:"Frequently Asked",page_careers_title:"Join Our Team",page_careers_subtitle:"Be part of Islamabad's premier sports and recreation destination",page_careers_benefits_title:"Why Work With Us",page_careers_positions_title:"Open Positions",page_careers_apply_cta:"Apply Now",page_careers_no_positions:"No open positions at this time. Check back soon!",page_events_title:"Events & Academies",page_events_subtitle:"Tournaments, leagues, and training programs",page_events_upcoming_title:"Upcoming Events",page_events_no_events:"No events scheduled at this time. Check back soon!",page_events_register_cta:"Register Now",page_gallery_title:"Gallery & Progress",page_gallery_subtitle:"Explore architectural renders, construction updates, and facility photos from The Quarterdeck sports complex.",page_gallery_construction_title:"Construction Progress",page_gallery_renders_title:"Architectural Renders",page_leaderboard_title:"Leaderboard",page_leaderboard_subtitle:"Top players across all sports at The Quarterdeck",page_leaderboard_top_players:"Top Players",page_leaderboard_coming_soon:"Leaderboard will be available after launch.",page_roadmap_title:"Development Roadmap",page_roadmap_subtitle:"Follow our journey from groundbreaking to grand opening",page_roadmap_timeline_title:"Construction Timeline",page_rules_title:"Rules & Safety",page_rules_subtitle:"For the safety and enjoyment of all members, please familiarize yourself with our facility rules",page_rules_general_title:"General Rules",page_rules_safety_title:"Safety Guidelines",page_faq_title:"Frequently Asked Questions",page_faq_subtitle:"Find answers to common questions about The Quarterdeck, memberships, bookings, and more.",page_faq_contact_cta:"Still have questions? Contact us",page_vision_title:"Our Vision",page_vision_subtitle:"Building Islamabad's premier sports and recreation destination",page_vision_mission_title:"Our Mission",page_vision_values_title:"Our Values",page_privacy_title:"Privacy Policy",page_privacy_subtitle:"Last updated: December 2025",page_terms_title:"Terms & Conditions",page_terms_subtitle:"Last updated: December 2025",page_booking_title:"Book a Court",page_booking_subtitle:"Select your facility, date, and time slot",page_booking_login_required:"Please log in to book",page_booking_select_facility:"Select Facility",error_generic:"Something went wrong. Please try again.",error_network:"Unable to connect. Please check your internet connection.",error_auth_required:"Please log in to continue.",error_permission_denied:"You do not have permission to access this.",section_about_visible:"true",section_facilities_visible:"true",section_updates_visible:"true",section_gallery_visible:"true",section_membership_visible:"true",section_rules_visible:"true",section_careers_visible:"true",section_about_order:"1",section_facilities_order:"2",section_updates_order:"3",section_gallery_order:"4",section_membership_order:"5",section_rules_order:"6",section_careers_order:"7"};function vse(e,t=!0){return e===void 0||e===""?t:e.toLowerCase()==="true"}const eO="/assets/padel_tennis_court_i_37ae0ba3-BrkfenoQ.jpg";function xse(){const[e,t]=y.useState({days:0,hours:0,minutes:0,seconds:0}),{data:r=[]}=ce({queryKey:["/api/cms/bulk"],queryFn:async()=>{const S=await(await fetch("/api/cms/bulk")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),{data:n=[],isLoading:a}=ce({queryKey:["/api/construction-phases"],queryFn:async()=>{const S=await(await fetch("/api/construction-phases")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),{data:i=[]}=ce({queryKey:["/api/site-images","landing"],queryFn:async()=>{const S=await(await fetch("/api/site-images?page=landing")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),o=y.useMemo(()=>{if(!Array.isArray(i))return eO;const _=i.find(S=>S.section==="hero"&&S.isActive);return(_==null?void 0:_.imageUrl)||eO},[i]),l=y.useMemo(()=>[...n].sort((_,S)=>_.sortOrder-S.sortOrder),[n]),c=y.useMemo(()=>l.find(_=>_.isActive)||l[0],[l]),u=y.useMemo(()=>l.length===0?0:l.reduce((_,S)=>_+S.progress,0)/l.length,[l]),d=_=>{const S=r.find(k=>k.key===_);return(S==null?void 0:S.content)||Ee[_]||""},f=d("hero_launch_date")||"2026-10-01";y.useEffect(()=>{const _=new Date(`${f}T00:00:00`),S=()=>{const C=new Date,P=_.getTime()-C.getTime();if(P>0){const E=Math.floor(P/864e5),O=Math.floor(P%(1e3*60*60*24)/(1e3*60*60)),I=Math.floor(P%(1e3*60*60)/(1e3*60)),T=Math.floor(P%(1e3*60)/1e3);t({days:E,hours:O,minutes:I,seconds:T})}};S();const k=setInterval(S,1e3);return()=>clearInterval(k)},[f]);const h=d("hero_title")||Ee.hero_title,p=d("hero_subtitle")||Ee.hero_subtitle,b=d("hero_eyebrow")||Ee.hero_eyebrow,m=d("hero_cta_1")||"Explore Facilities",w=d("hero_cta_1_url")||Ee.hero_cta_1_url||"/facilities",x=d("hero_cta_2")||"View Site Updates",g=d("hero_cta_2_url")||Ee.hero_cta_2_url||"/roadmap",v=d("hero_status_active")||Ee.hero_status_active,j=d("hero_status_updates")||Ee.hero_status_updates,N=d("hero_status_booking")||Ee.hero_status_booking;return s.jsxs("section",{id:"hero",className:"qd-section pt-12 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${o})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/95 via-white/90 to-white/70 dark:from-slate-900/95 dark:via-slate-900/90 dark:to-slate-900/70"}),s.jsx("div",{className:"qd-container relative z-10",children:s.jsxs("div",{className:"qd-hero-grid",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"qd-eyebrow",children:[s.jsx("span",{className:"qd-eyebrow-dot"})," ",b]}),s.jsx("h1",{className:"qd-hero-title","data-testid":"text-hero-title",dangerouslySetInnerHTML:{__html:h}}),s.jsx("p",{className:"text-muted-foreground max-w-lg mb-6 text-sm sm:text-base","data-testid":"text-hero-subtitle",children:p}),s.jsxs("div",{className:"qd-countdown",children:[s.jsx("div",{className:"text-xs uppercase tracking-widest text-muted-foreground font-semibold",children:"Estimated Launch Countdown"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-3 font-mono flex-wrap justify-center sm:justify-start","data-testid":"countdown-timer",children:[s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.days}),s.jsx("span",{className:"qd-countdown-label",children:"Days"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.hours}),s.jsx("span",{className:"qd-countdown-label",children:"Hours"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.minutes}),s.jsx("span",{className:"qd-countdown-label",children:"Mins"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.seconds}),s.jsx("span",{className:"qd-countdown-label",children:"Secs"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[s.jsx(fe,{href:w,children:s.jsx($,{className:"rounded-full px-6","data-testid":"button-explore-facilities",children:m})}),s.jsx(fe,{href:g,children:s.jsx($,{variant:"outline",className:"rounded-full px-6","data-testid":"button-view-updates",children:x})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-6 text-[10px] sm:text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1 sm:gap-2","data-testid":"status-construction-active",children:[s.jsx("span",{className:"qd-status-dot"})," ",v]}),s.jsx("span",{"data-testid":"status-updates",children:j}),s.jsx("span",{"data-testid":"status-booking",children:N})]})]}),s.jsx("aside",{children:s.jsxs("div",{className:"qd-hero-card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("div",{className:"text-sm uppercase tracking-widest text-muted-foreground",children:"Construction Status"}),a?s.jsx(qe,{className:"h-6 w-20 rounded-full"}):c?s.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-blue-50 dark:bg-blue-900/30 text-slate-800 dark:text-blue-200 font-semibold uppercase tracking-wide",children:c.label}):s.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-gray-100 dark:bg-slate-700 text-muted-foreground font-semibold uppercase tracking-wide",children:"Planning"})]}),a?s.jsxs(s.Fragment,{children:[s.jsx(qe,{className:"h-4 w-full mb-2"}),s.jsx(qe,{className:"h-3 w-full rounded-full"}),s.jsx(qe,{className:"h-12 w-full mt-4"})]}):c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-2",children:[s.jsxs("span",{children:[c.label,": ",c.title]}),s.jsxs("span",{children:[c.progress,"% Complete"]})]}),s.jsx("div",{className:"qd-progress-track",children:s.jsx("div",{className:"qd-progress-fill",style:{width:`${c.progress}%`}})}),c.highlights&&c.highlights.length>0&&s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:c.highlights[0]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5",children:[s.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"}),s.jsxs("div",{className:"font-semibold text-sm",children:[l.filter(_=>_.isComplete).length," phases"]})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Overall"}),s.jsxs("div",{className:"font-semibold text-sm",children:[Math.round(u),"% done"]})]})]})]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Construction timeline will be available soon."})]})})]})})]})}function yse(){const{getValue:e}=Dr(["about_title","about_subtitle","about_cta","about_cta_url","about_vision_title","about_vision_content","about_vision_content_2","about_tags","about_team_title","about_team_content","about_team_credits"],Ee),t=(e("about_tags")||Ee.about_tags).split(",").map(n=>n.trim()),r=(e("about_team_credits")||Ee.about_team_credits).split("|").map(n=>n.trim());return s.jsx("section",{id:"about",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-about-title",children:e("about_title")||Ee.about_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("about_subtitle")||Ee.about_subtitle})]}),s.jsx(fe,{href:e("about_cta_url")||Ee.about_cta_url||"/vision",children:s.jsx($,{variant:"outline",className:"rounded-full","data-testid":"button-see-vision",children:e("about_cta")||Ee.about_cta})})]}),s.jsxs("div",{className:"qd-dev-grid",children:[s.jsxs("div",{className:"qd-info-card",children:[s.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_vision_title")||Ee.about_vision_title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_vision_content")||Ee.about_vision_content}),s.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:e("about_vision_content_2")||Ee.about_vision_content_2}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-5",children:t.map((n,a)=>s.jsx("span",{className:"qd-tag",children:n},a))})]}),s.jsxs("div",{className:"qd-info-card",children:[s.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_team_title")||Ee.about_team_title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_team_content")||Ee.about_team_content}),s.jsx("ul",{className:"list-disc list-inside mt-4 text-sm space-y-1 text-muted-foreground",children:r.map((n,a)=>s.jsx("li",{children:n},a))})]})]})]})})}var VF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tO=D.createContext&&D.createContext(VF),bse=["attr","size","title"];function wse(e,t){if(e==null)return{};var r=jse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nx.apply(this,arguments)}function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _x(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){Nse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nse(e,t,r){return t=_se(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _se(e){var t=Sse(e,"string");return typeof t=="symbol"?t:t+""}function Sse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qF(e){return e&&e.map((t,r)=>D.createElement(t.tag,_x({key:r},t.attr),qF(t.child)))}function Zi(e){return t=>D.createElement(kse,Nx({attr:_x({},e.attr)},t),qF(e.child))}function kse(e){var t=r=>{var{attr:n,size:a,title:i}=e,o=wse(e,bse),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),D.createElement("svg",Nx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:_x(_x({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&D.createElement("title",null,i),e.children)};return tO!==void 0?D.createElement(tO.Consumer,null,r=>t(r)):t(VF)}function Vp(e){return Zi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23.05 23.05V488.9H488.9V23.05zm17.9 17.9H471.1V471.1H40.95z"},child:[]}]})(e)}function Jo(e){return Zi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M365.6 31c-6.6 0-13.2.6-19.7 1.59-34.5 5.44-66.5 23.14-88.3 44.96-28.8 28.85-49.6 70.85-58.4 111.65-1.6 6.7-2.6 13.6-3.5 20.4L162.2 334l15.8 15.8 124.3-33.5c6.8-.9 13.7-2 20.5-3.5 40.8-8.8 82.8-29.6 111.6-58.4 21.9-21.9 39.6-53.9 45-88.4 5.2-34.5-2.4-72.3-31.9-101.71-23.8-23.93-53.1-33.44-81.9-33.29zm.1 19.29c24.3-.28 47.9 7.49 68.2 27.71 25 24.9 31 55.2 26.3 85-4.6 29.9-20.7 58.8-39.5 77.6-25.4 25.4-64.7 45.2-102 53.2-37.2 8.2-71.2 3.8-87.8-12.9-16.5-16.5-20.9-50.4-12.8-87.7 8.1-37.2 27.8-76.6 53.3-101.94 18.7-18.78 47.7-34.84 77.6-39.55 5.5-.88 11.2-1.36 16.7-1.42zm-166 214.81c3.7 11.3 9.3 21.5 17.5 29.5 8.1 8.2 18.2 14 29.5 17.6l-63 16zm-50.3 83.6L50 448.2l-5.25-5.1-13.71 13.7L55.41 481l13.7-13.6-5.41-5.4 99.5-99.6zm211 45.1c-19.5 0-35.6 16-35.6 35.5s16.1 35.5 35.6 35.5c19.4 0 35.5-16 35.5-35.5s-16.1-35.5-35.5-35.5z"},child:[]}]})(e)}function Cse(e){return Object.prototype.toString.call(e)==="[object Object]"}function nO(e){return Cse(e)||Array.isArray(e)}function Pse(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function nC(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!nO(l)||!nO(c)?l===c:nC(l,c)})}function sO(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function Ese(e,t){if(e.length!==t.length)return!1;const r=sO(e),n=sO(t);return r.every((a,i)=>{const o=n[i];return nC(a,o)})}function sC(e){return typeof e=="number"}function jN(e){return typeof e=="string"}function $b(e){return typeof e=="boolean"}function aO(e){return Object.prototype.toString.call(e)==="[object Object]"}function kr(e){return Math.abs(e)}function aC(e){return Math.sign(e)}function Lh(e,t){return kr(e-t)}function Ase(e,t){if(e===0||t===0||kr(e)<=kr(t))return 0;const r=Lh(kr(e),kr(t));return kr(r/e)}function Ose(e){return Math.round(e*100)/100}function Am(e){return Om(e).map(Number)}function Oa(e){return e[qp(e)]}function qp(e){return Math.max(0,e.length-1)}function iC(e,t){return t===qp(e)}function iO(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function Om(e){return Object.keys(e)}function zF(e,t){return[e,t].reduce((r,n)=>(Om(n).forEach(a=>{const i=r[a],o=n[a],l=aO(i)&&aO(o);r[a]=l?zF(i,o):o}),r),{})}function NN(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Tse(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return t-c}function o(c,u){return jN(e)?r[e](c):e(t,c,u)}return{measure:o}}function Tm(){let e=[];function t(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function Ise(e,t,r,n){const a=Tm(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(e,"visibilitychange",()=>{e.hidden&&b()})}function d(){p(),a.clear()}function f(w){if(!c)return;o||(o=w,r(),r());const x=w-o;for(o=w,l+=x;l>=i;)r(),l-=i;const g=l/i;n(g),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function b(){o=null,l=0}return{init:u,destroy:d,start:h,stop:p,update:r,render:n}}function Rse(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(b){const{height:m,width:w}=b;return n?m:w}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function h(b){return b*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:h}}function pc(e=0,t=0){const r=kr(e-t);function n(u){return u<e}function a(u){return u>t}function i(u){return n(u)||a(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function WF(e,t,r){const{constrain:n}=pc(0,e),a=e+1;let i=o(t);function o(h){return r?kr((a+h)%a):n(h)}function l(){return i}function c(h){return i=o(h),f}function u(h){return d().set(l()+h)}function d(){return WF(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function $se(e,t,r,n,a,i,o,l,c,u,d,f,h,p,b,m,w,x,g){const{cross:v,direction:j}=e,N=["INPUT","SELECT","TEXTAREA"],_={passive:!1},S=Tm(),k=Tm(),C=pc(50,225).constrain(p.measure(20)),P={mouse:300,touch:400},E={mouse:500,touch:600},O=b?43:25;let I=!1,T=0,M=0,V=!1,K=!1,A=!1,R=!1;function G(H){if(!g)return;function U(He){($b(g)||g(H,He))&&je(He)}const me=t;S.add(me,"dragstart",He=>He.preventDefault(),_).add(me,"touchmove",()=>{},_).add(me,"touchend",()=>{}).add(me,"touchstart",U).add(me,"mousedown",U).add(me,"touchcancel",we).add(me,"contextmenu",we).add(me,"click",ae,!0)}function Y(){S.clear(),k.clear()}function F(){const H=R?r:t;k.add(H,"touchmove",ee,_).add(H,"touchend",we).add(H,"mousemove",ee,_).add(H,"mouseup",we)}function X(H){const U=H.nodeName||"";return N.includes(U)}function le(){return(b?E:P)[R?"mouse":"touch"]}function he(H,U){const me=f.add(aC(H)*-1),He=d.byDistance(H,!b).distance;return b||kr(H)<C?He:w&&U?He*.5:d.byIndex(me.get(),0).distance}function je(H){const U=NN(H,n);R=U,A=b&&U&&!H.buttons&&I,I=Lh(a.get(),o.get())>=2,!(U&&H.button!==0)&&(X(H.target)||(V=!0,i.pointerDown(H),u.useFriction(0).useDuration(0),a.set(o),F(),T=i.readPoint(H),M=i.readPoint(H,v),h.emit("pointerDown")))}function ee(H){if(!NN(H,n)&&H.touches.length>=2)return we(H);const me=i.readPoint(H),He=i.readPoint(H,v),Pe=Lh(me,T),ht=Lh(He,M);if(!K&&!R&&(!H.cancelable||(K=Pe>ht,!K)))return we(H);const sr=i.pointerMove(H);Pe>m&&(A=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(j(sr)),H.preventDefault()}function we(H){const me=d.byDistance(0,!1).index!==f.get(),He=i.pointerUp(H)*le(),Pe=he(j(He),me),ht=Ase(He,Pe),sr=O-10*ht,Ut=x+ht/50;K=!1,V=!1,k.clear(),u.useDuration(sr).useFriction(Ut),c.distance(Pe,!b),R=!1,h.emit("pointerUp")}function ae(H){A&&(H.stopPropagation(),H.preventDefault(),A=!1)}function L(){return V}return{init:G,destroy:Y,pointerDown:L}}function Mse(e,t){let n,a;function i(f){return f.timeStamp}function o(f,h){const b=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(NN(f,t)?f:f.touches[0])[b]}function l(f){return n=f,a=f,o(f)}function c(f){const h=o(f)-o(a),p=i(f)-i(n)>170;return a=f,p&&(n=f),h}function u(f){if(!n||!a)return 0;const h=o(a)-o(n),p=i(f)-i(n),b=i(f)-i(a)>170,m=h/p;return p&&!b&&kr(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function Dse(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function Lse(e){function t(n){return e*(n/100)}return{measure:t}}function Fse(e,t,r,n,a,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function h(w){return a.measureSize(o.measure(w))}function p(w){if(!i)return;u=h(e),d=n.map(h);function x(g){for(const v of g){if(f)return;const j=v.target===e,N=n.indexOf(v.target),_=j?u:d[N],S=h(j?e:n[N]);if(kr(S-_)>=.5){w.reInit(),t.emit("resize");break}}}c=new ResizeObserver(g=>{($b(i)||i(w,g))&&x(g)}),r.requestAnimationFrame(()=>{l.forEach(g=>c.observe(g))})}function b(){f=!0,c&&c.disconnect()}return{init:p,destroy:b}}function Use(e,t,r,n,a,i){let o=0,l=0,c=a,u=i,d=e.get(),f=0;function h(){const _=n.get()-e.get(),S=!c;let k=0;return S?(o=0,r.set(n),e.set(n),k=_):(r.set(e),o+=_/c,o*=u,d+=o,e.add(o),k=d-f),l=aC(k),f=d,N}function p(){const _=n.get()-t.get();return kr(_)<.001}function b(){return c}function m(){return l}function w(){return o}function x(){return v(a)}function g(){return j(i)}function v(_){return c=_,N}function j(_){return u=_,N}const N={direction:m,duration:b,velocity:w,seek:h,settled:p,useBaseFriction:g,useBaseDuration:x,useFriction:j,useDuration:v};return N}function Bse(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),l=pc(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const b=e.reachedMin(t.get())?"min":"max",m=kr(e[b]-t.get()),w=r.get()-t.get(),x=l.constrain(m/o);r.subtract(w*x),!p&&kr(w)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function Vse(e,t,r,n,a){const i=pc(-t+e,0),o=f(),l=d(),c=h();function u(b,m){return Lh(b,m)<=1}function d(){const b=o[0],m=Oa(o),w=o.lastIndexOf(b),x=o.indexOf(m)+1;return pc(w,x)}function f(){return r.map((b,m)=>{const{min:w,max:x}=i,g=i.constrain(b),v=!m,j=iC(r,m);return v?x:j||u(w,g)?w:u(x,g)?x:g}).map(b=>parseFloat(b.toFixed(3)))}function h(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:b,max:m}=l;return o.slice(b,m)}return{snapsContained:c,scrollContainLimit:l}}function qse(e,t,r){const n=t[0],a=r?n-e:Oa(t);return{limit:pc(a,n)}}function zse(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=pc(i,o);function u(h){return h===1?c(r.get()):h===-1?l(r.get()):!1}function d(h){if(!u(h))return;const p=e*(h*-1);n.forEach(b=>b.add(p))}return{loop:d}}function Wse(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function Kse(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=a,c=f().map(t.measure),u=h(),d=p();function f(){return l(n).map(m=>Oa(m)[o]-m[0][i]).map(kr)}function h(){return n.map(m=>r[i]-m[i]).map(m=>-kr(m))}function p(){return l(u).map(m=>m[0]).map((m,w)=>m+c[w])}return{snaps:u,snapsAligned:d}}function Hse(e,t,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,u=d();function d(){const h=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?h:h.slice(l,c).map((b,m,w)=>{const x=!m,g=iC(w,m);if(x){const v=Oa(w[0])+1;return iO(v)}if(g){const v=qp(i)-Oa(w)[0]+1;return iO(v,Oa(w)[0])}return b})}return{slideRegistry:u}}function Gse(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(b){return b.concat().sort((m,w)=>kr(m)-kr(w))[0]}function u(b){const m=e?o(b):l(b),w=t.map((g,v)=>({diff:d(g-m,0),index:v})).sort((g,v)=>kr(g.diff)-kr(v.diff)),{index:x}=w[0];return{index:x,distance:m}}function d(b,m){const w=[b,b+r,b-r];if(!e)return b;if(!m)return c(w);const x=w.filter(g=>aC(g)===m);return x.length?c(x):Oa(w)-r}function f(b,m){const w=t[b]-a.get(),x=d(w,m);return{index:b,distance:x}}function h(b,m){const w=a.get()+b,{index:x,distance:g}=u(w),v=!e&&i(w);if(!m||v)return{index:x,distance:b};const j=t[x]-g,N=b+d(j,0);return{index:x,distance:N}}return{byDistance:h,byIndex:f,shortcut:d}}function Qse(e,t,r,n,a,i,o){function l(f){const h=f.distance,p=f.index!==t.get();i.add(h),h&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,h){const p=a.byDistance(f,h);l(p)}function u(f,h){const p=t.clone().set(f),b=a.byIndex(p.get(),h);l(b)}return{distance:c,index:u}}function Yse(e,t,r,n,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function b(m){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const g=r.findIndex(v=>v.includes(m));sC(g)&&(a.useDuration(0),n.index(g,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((m,w)=>{i.add(m,"focus",x=>{($b(l)||l(p,x))&&b(w)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function bh(e){let t=e;function r(){return t}function n(c){t=o(c)}function a(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return sC(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function KF(e,t){const r=e.scroll==="x"?o:l,n=t.style;let a=null,i=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(i)return;const p=Ose(e.direction(h));p!==a&&(n.transform=r(p),a=p)}function u(h){i=!h}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function Xse(e,t,r,n,a,i,o,l,c){const d=Am(a),f=Am(a).reverse(),h=x().concat(g());function p(S,k){return S.reduce((C,P)=>C-a[P],k)}function b(S,k){return S.reduce((C,P)=>p(C,k)>0?C.concat([P]):C,[])}function m(S){return i.map((k,C)=>({start:k-n[C]+.5+S,end:k+t-.5+S}))}function w(S,k,C){const P=m(k);return S.map(E=>{const O=C?0:-r,I=C?r:0,T=C?"end":"start",M=P[E][T];return{index:E,loopPoint:M,slideLocation:bh(-1),translate:KF(e,c[E]),target:()=>l.get()>M?O:I}})}function x(){const S=o[0],k=b(f,S);return w(k,r,!1)}function g(){const S=t-o[0]-1,k=b(d,S);return w(k,-r,!0)}function v(){return h.every(({index:S})=>{const k=d.filter(C=>C!==S);return p(k,t)<=.1})}function j(){h.forEach(S=>{const{target:k,translate:C,slideLocation:P}=S,E=k();E!==P.get()&&(C.to(E),P.set(E))})}function N(){h.forEach(S=>S.translate.clear())}return{canLoop:v,clear:N,loop:j,loopPoints:h}}function Jse(e,t,r){let n,a=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{a||($b(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function Zse(e,t,r,n){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(b=>{c||(b.forEach(m=>{const w=t.indexOf(m.target);a[w]=m}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(b=>l.observe(b))}function d(){l&&l.disconnect(),c=!0}function f(b){return Om(a).reduce((m,w)=>{const x=parseInt(w),{isIntersecting:g}=a[x];return(b&&g||!b&&!g)&&m.push(x),m},[])}function h(b=!0){if(b&&i)return i;if(!b&&o)return o;const m=f(b);return b&&(i=m),b||(o=m),m}return{init:u,destroy:d,get:h}}function eae(e,t,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&a,d=b(),f=m(),h=r.map(o),p=w();function b(){if(!u)return 0;const g=r[0];return kr(t[l]-g[l])}function m(){if(!u)return 0;const g=i.getComputedStyle(Oa(n));return parseFloat(g.getPropertyValue(`margin-${c}`))}function w(){return r.map((g,v,j)=>{const N=!v,_=iC(j,v);return N?h[v]+d:_?h[v]+f:j[v+1][l]-g[l]}).map(kr)}return{slideSizes:h,slideSizesWithGaps:p,startGap:d,endGap:f}}function tae(e,t,r,n,a,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,h=sC(r);function p(x,g){return Am(x).filter(v=>v%g===0).map(v=>x.slice(v,v+g))}function b(x){return x.length?Am(x).reduce((g,v,j)=>{const N=Oa(g)||0,_=N===0,S=v===qp(x),k=a[u]-i[N][u],C=a[u]-i[v][d],P=!n&&_?f(o):0,E=!n&&S?f(l):0,O=kr(C-E-(k+P));return j&&O>t+c&&g.push(v),S&&g.push(x.length),g},[]).map((g,v,j)=>{const N=Math.max(j[v-1]||0);return x.slice(N,g)}):[]}function m(x){return h?p(x,r):b(x)}return{groupSlides:m}}function rae(e,t,r,n,a,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:p,dragThreshold:b,inViewThreshold:m,slidesToScroll:w,skipSnaps:x,containScroll:g,watchResize:v,watchSlides:j,watchDrag:N,watchFocus:_}=i,S=2,k=Dse(),C=k.measure(t),P=r.map(k.measure),E=Rse(c,u),O=E.measureSize(C),I=Lse(O),T=Tse(l,O),M=!f&&!!g,V=f||!!g,{slideSizes:K,slideSizesWithGaps:A,startGap:R,endGap:G}=eae(E,C,P,r,V,a),Y=tae(E,O,w,f,C,P,R,G,S),{snaps:F,snapsAligned:X}=Kse(E,T,C,P,Y),le=-Oa(F)+Oa(A),{snapsContained:he,scrollContainLimit:je}=Vse(O,le,X,g,S),ee=M?he:X,{limit:we}=qse(le,ee,f),ae=WF(qp(ee),d,f),L=ae.clone(),te=Am(r),H=({dragHandler:jr,scrollBody:da,scrollBounds:rs,options:{loop:Va}})=>{Va||rs.constrain(jr.pointerDown()),da.seek()},U=({scrollBody:jr,translate:da,location:rs,offsetLocation:Va,previousLocation:hl,scrollLooper:Dn,slideLooper:Hc,dragHandler:ml,animation:pl,eventHandler:gl,scrollBounds:Lf,options:{loop:Gc}},ag)=>{const Ff=jr.settled(),Z0=!Lf.shouldConstrain(),Pn=Gc?Ff:Ff&&Z0,ig=Pn&&!ml.pointerDown();ig&&pl.stop();const og=rs.get()*ag+hl.get()*(1-ag);Va.set(og),Gc&&(Dn.loop(jr.direction()),Hc.loop()),da.to(Va.get()),ig&&gl.emit("settle"),Pn||gl.emit("scroll")},me=Ise(n,a,()=>H(Ot),jr=>U(Ot,jr)),He=.68,Pe=ee[ae.get()],ht=bh(Pe),sr=bh(Pe),Ut=bh(Pe),or=bh(Pe),q=Use(ht,Ut,sr,or,h,He),J=Gse(f,ee,le,we,or),ne=Qse(me,ae,L,q,J,or,o),Ae=Wse(we),Ce=Tm(),be=Zse(t,r,o,m),{slideRegistry:We}=Hse(M,g,ee,je,Y,te),At=Yse(e,r,We,ne,q,Ce,o,_),Ot={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:C,slideRects:P,animation:me,axis:E,dragHandler:$se(E,e,n,a,or,Mse(E,a),ht,me,ne,q,J,ae,o,I,p,b,x,He,N),eventStore:Ce,percentOfView:I,index:ae,indexPrevious:L,limit:we,location:ht,offsetLocation:Ut,previousLocation:sr,options:i,resizeHandler:Fse(t,o,a,r,E,v,k),scrollBody:q,scrollBounds:Bse(we,Ut,or,q,I),scrollLooper:zse(le,we,Ut,[ht,Ut,sr,or]),scrollProgress:Ae,scrollSnapList:ee.map(Ae.get),scrollSnaps:ee,scrollTarget:J,scrollTo:ne,slideLooper:Xse(E,O,le,K,A,F,ee,Ut,r),slideFocus:At,slidesHandler:Jse(t,o,j),slidesInView:be,slideIndexes:te,slideRegistry:We,slidesToScroll:Y,target:or,translate:KF(E,t)};return Ot}function nae(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function a(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const sae={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function aae(e){function t(i,o){return zF(i,o||{})}function r(i){const o=i.breakpoints||{},l=Om(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>Om(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function iae(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function Sx(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=aae(a),o=iae(i),l=Tm(),c=nae(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:h,off:p,emit:b}=c,m=E;let w=!1,x,g=u(sae,Sx.globalOptions),v=u(g),j=[],N,_,S;function k(){const{container:te,slides:H}=v;_=(jN(te)?e.querySelector(te):te)||e.children[0];const me=jN(H)?_.querySelectorAll(H):H;S=[].slice.call(me||_.children)}function C(te){const H=rae(e,_,S,n,a,te,c);if(te.loop&&!H.slideLooper.canLoop()){const U=Object.assign({},te,{loop:!1});return C(U)}return H}function P(te,H){w||(g=u(g,te),v=d(g),j=H||j,k(),x=C(v),f([g,...j.map(({options:U})=>U)]).forEach(U=>l.add(U,"change",E)),v.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(L),x.eventHandler.init(L),x.resizeHandler.init(L),x.slidesHandler.init(L),x.options.loop&&x.slideLooper.loop(),_.offsetParent&&S.length&&x.dragHandler.init(L),N=o.init(L,j)))}function E(te,H){const U=Y();O(),P(u({startIndex:U},te),H),c.emit("reInit")}function O(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),o.destroy(),l.clear()}function I(){w||(w=!0,l.clear(),O(),c.emit("destroy"),c.clear())}function T(te,H,U){!v.active||w||(x.scrollBody.useBaseFriction().useDuration(H===!0?0:v.duration),x.scrollTo.index(te,U||0))}function M(te){const H=x.index.add(1).get();T(H,te,-1)}function V(te){const H=x.index.add(-1).get();T(H,te,1)}function K(){return x.index.add(1).get()!==Y()}function A(){return x.index.add(-1).get()!==Y()}function R(){return x.scrollSnapList}function G(){return x.scrollProgress.get(x.offsetLocation.get())}function Y(){return x.index.get()}function F(){return x.indexPrevious.get()}function X(){return x.slidesInView.get()}function le(){return x.slidesInView.get(!1)}function he(){return N}function je(){return x}function ee(){return e}function we(){return _}function ae(){return S}const L={canScrollNext:K,canScrollPrev:A,containerNode:we,internalEngine:je,destroy:I,off:p,on:h,emit:b,plugins:he,previousScrollSnap:F,reInit:m,rootNode:ee,scrollNext:M,scrollPrev:V,scrollProgress:G,scrollSnapList:R,scrollTo:T,selectedScrollSnap:Y,slideNodes:ae,slidesInView:X,slidesNotInView:le};return P(t,r),setTimeout(()=>c.emit("init"),0),L}Sx.globalOptions=void 0;function oC(e={},t=[]){const r=y.useRef(e),n=y.useRef(t),[a,i]=y.useState(),[o,l]=y.useState(),c=y.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return y.useEffect(()=>{nC(r.current,e)||(r.current=e,c())},[e,c]),y.useEffect(()=>{Ese(n.current,t)||(n.current=t,c())},[t,c]),y.useEffect(()=>{if(Pse()&&o){Sx.globalOptions=oC.globalOptions;const u=Sx(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}oC.globalOptions=void 0;const HF=y.createContext(null);function Mb(){const e=y.useContext(HF);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const zp=y.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,u]=oC({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=y.useState(!1),[h,p]=y.useState(!1),b=y.useCallback(g=>{g&&(f(g.canScrollPrev()),p(g.canScrollNext()))},[]),m=y.useCallback(()=>{u==null||u.scrollPrev()},[u]),w=y.useCallback(()=>{u==null||u.scrollNext()},[u]),x=y.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),m()):g.key==="ArrowRight"&&(g.preventDefault(),w())},[m,w]);return y.useEffect(()=>{!u||!r||r(u)},[u,r]),y.useEffect(()=>{if(u)return b(u),u.on("reInit",b),u.on("select",b),()=>{u==null||u.off("select",b)}},[u,b]),s.jsx(HF.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:w,canScrollPrev:d,canScrollNext:h},children:s.jsx("div",{ref:l,onKeyDownCapture:x,className:ye("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});zp.displayName="Carousel";const Wp=y.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=Mb();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:ye("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});Wp.displayName="CarouselContent";const Kp=y.forwardRef(({className:e,...t},r)=>{const{orientation:n}=Mb();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:ye("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});Kp.displayName="CarouselItem";const oae=y.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=Mb();return s.jsxs($,{ref:a,variant:t,size:r,className:ye("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(_n,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});oae.displayName="CarouselPrevious";const lae=y.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=Mb();return s.jsxs($,{ref:a,variant:t,size:r,className:ye("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(ab,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});lae.displayName="CarouselNext";const cae={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function uae(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function dae(e,t){const r=e.rootNode();return t&&t(r)||r}function wf(e={}){let t,r,n,a,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(T,M){r=T;const{mergeOptions:V,optionsAtMedia:K}=M,A=V(cae,wf.globalOptions),R=V(A,e);if(t=K(R),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,a=uae(r,t.delay);const{eventStore:G,ownerDocument:Y}=r.internalEngine(),F=!!r.internalEngine().options.watchDrag,X=dae(r,t.rootNode);G.add(Y,"visibilitychange",x),F&&r.on("pointerDown",v),F&&!t.stopOnInteraction&&r.on("pointerUp",j),t.stopOnMouseEnter&&G.add(X,"mouseenter",N),t.stopOnMouseEnter&&!t.stopOnInteraction&&G.add(X,"mouseleave",_),t.stopOnFocusIn&&r.on("slideFocusStart",w),t.stopOnFocusIn&&!t.stopOnInteraction&&G.add(r.containerNode(),"focusout",m),t.playOnInit&&m()}function h(){r.off("pointerDown",v).off("pointerUp",j).off("slideFocusStart",w),w(),n=!0,l=!1}function p(){const{ownerWindow:T}=r.internalEngine();T.clearTimeout(o),o=T.setTimeout(E,a[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function b(){const{ownerWindow:T}=r.internalEngine();T.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function m(){if(!n){if(g()){u=!0;return}l||r.emit("autoplay:play"),p(),l=!0}}function w(){n||(l&&r.emit("autoplay:stop"),b(),l=!1)}function x(){if(g())return u=l,w();u&&m()}function g(){const{ownerDocument:T}=r.internalEngine();return T.visibilityState==="hidden"}function v(){c||w()}function j(){c||m()}function N(){c=!0,w()}function _(){c=!1,m()}function S(T){typeof T<"u"&&(d=T),m()}function k(){l&&w()}function C(){l&&m()}function P(){return l}function E(){const{index:T}=r.internalEngine(),M=T.clone().add(1).get(),V=r.scrollSnapList().length-1,K=t.stopOnLastSnap&&M===V;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),K)return w();m()}function O(){if(!i)return null;const T=a[r.selectedScrollSnap()],M=new Date().getTime()-i;return T-M}return{name:"autoplay",options:e,init:f,destroy:h,play:S,stop:k,reset:C,isPlaying:P,timeUntilNext:O}}wf.globalOptions=void 0;const jf="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Db="/assets/indoor_squash_court__c97e350b-C624hay8.jpg",lC="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",Lb="/assets/large_event_hall_int_39cfb773-D7tynaMB.jpg",fae="/assets/elegant_card_game_ro_26fec1dc-B0OzwSTX.jpg",cC="/assets/modern_cafe_bar_inte_bc2874c0-DokhLEuU.jpg",hae={GiTennisRacket:Jo,GiSquare:Vp,Crosshair:Pp,Building2:vn,Coffee:Nk,Spade:db},mae={"padel-tennis":jf,squash:Db,"air-rifle-range":lC,"multipurpose-hall":Lb,"bridge-room":fae,"cafe-bar":cC},oO=[{id:"padel",slug:"padel-tennis",name:"Padel Tennis",icon:Jo,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"World-Class Padel Courts: Three premium glass-backed indoor Padel Courts optimized for competitive doubles play and available year-round, regardless of the weather.",footer:"3 courts planned",image:jf},{id:"squash",slug:"squash",name:"Squash Court",icon:Vp,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"Dedicated Squash Facility: A single, premium-grade squash court built to international dimensions. Ideal for focused training, intense solo practice, and eventually, club ladder competitions.",footer:"Planned | 1 court",image:Db},{id:"air_rifle",slug:"air-rifle-range",name:"Air Rifle Range",icon:Pp,category:"Precision Sport",status:"soon",statusLabel:"Opening Soon",description:"Certified Precision Range: A safe, controlled, and sound-dampened indoor range compliant with all safety regulations. Access requires mandatory certification.",footer:"Certificate-based access",image:lC},{id:"hall",slug:"multipurpose-hall",name:"Multipurpose Hall",icon:vn,category:"Indoor Space",status:"planned",statusLabel:"Planned",description:"Flexible Event & Training Space: A large, adaptable hall suitable for yoga, aerobics, martial arts, corporate workshops, and private functions. Available for flexible, block, and event-based bookings.",footer:"Use-cases evolving",image:Lb},{id:"cafe",slug:"cafe-bar",name:"Open Cafe/Bar",icon:Nk,category:"Recreation",status:"planned",statusLabel:"Planned",description:"The Quarterdeck Social Hub: A bright, spacious area offering artisanal coffee, healthy refreshments, light meals, and a view overlooking the main courts - perfect for post-match debriefs or casual meetings.",footer:"No booking required",image:cC}];function pae(e){switch(e){case"ACTIVE":return{status:"active",statusLabel:"Active"};case"OPENING_SOON":return{status:"soon",statusLabel:"Opening Soon"};case"PLANNED":default:return{status:"planned",statusLabel:"Planned"}}}function gae(){const{getValue:e}=Dr(["facilities_title","facilities_subtitle","facilities_cta","facilities_cta_url"],Ee),{data:t,isLoading:r}=ce({queryKey:["/api/facilities"]}),n=t&&t.length>0?t.map(a=>{const i=pae(a.status),o=oO.find(l=>l.slug===a.slug);return{id:a.id,slug:a.slug,name:a.name,icon:hae[a.icon]||(o==null?void 0:o.icon)||vn,category:a.category||(o==null?void 0:o.category)||"Facility",status:i.status,statusLabel:i.statusLabel,description:a.description||(o==null?void 0:o.description)||"",footer:`${a.resourceCount||1} ${a.resourceCount===1?"court":"courts"} available`,image:a.imageUrl||mae[a.slug]||(o==null?void 0:o.image)||Lb}}):oO;return s.jsx("section",{id:"facilities",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-facilities-title",children:e("facilities_title")||Ee.facilities_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("facilities_subtitle")||Ee.facilities_subtitle})]}),s.jsx(fe,{href:e("facilities_cta_url")||Ee.facilities_cta_url||"/booking",children:s.jsx($,{className:"rounded-full","data-testid":"button-check-availability",children:e("facilities_cta")||Ee.facilities_cta})})]}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsx(zp,{opts:{align:"start",loop:!0},plugins:[wf({delay:4e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Wp,{className:"-ml-2 md:-ml-4",children:n.map(a=>s.jsx(Kp,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/3",children:s.jsx(fe,{href:`/facilities/${a.slug}`,children:s.jsxs("div",{className:"group relative aspect-[4/3] rounded-xl overflow-hidden cursor-pointer","data-testid":`card-facility-${a.slug||a.id}`,children:[s.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold backdrop-blur-sm ${a.status==="soon"?"bg-blue-500/80 text-white":a.status==="active"?"bg-green-500/80 text-white":"bg-gray-500/80 text-white"}`,children:a.statusLabel})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:a.name}),s.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:[a.category,s.jsx(na,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]})})},a.id))})})]})})}const vae={check:Sr,"check-circle":xn,clock:Kt,hammer:T5,"hard-hat":I5,rocket:uG,target:Ri};function xae(){const[e,t]=y.useState(null),{getValue:r}=Dr(["updates_title","updates_subtitle","updates_cta","updates_cta_url"],Ee),{data:n=[],isLoading:a}=ce({queryKey:["/api/construction-phases"]}),i=y.useMemo(()=>[...n].sort((c,u)=>c.sortOrder-u.sortOrder),[n]),o=y.useMemo(()=>i.length===0?0:i.reduce((c,u)=>c+u.progress,0)/i.length,[i]),l=c=>c.isComplete?"Complete":c.isActive?`${c.progress}%`:c.timeframe||"Upcoming";return a?s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsx("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:s.jsxs("div",{children:[s.jsx(qe,{className:"h-8 w-64 mb-2"}),s.jsx(qe,{className:"h-4 w-96"})]})}),s.jsxs("div",{className:"relative py-12",children:[s.jsx(qe,{className:"h-1 w-full rounded-full"}),s.jsx("div",{className:"flex justify-between mt-8",children:[1,2,3,4].map(c=>s.jsxs("div",{className:"flex flex-col items-center",style:{width:"25%"},children:[s.jsx(qe,{className:"w-14 h-14 rounded-full"}),s.jsx(qe,{className:"h-4 w-16 mt-4"}),s.jsx(qe,{className:"h-3 w-24 mt-1"})]},c))})]})]})}):i.length===0?s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsx("div",{className:"qd-container",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"qd-section-title mb-4",children:"Construction Updates"}),s.jsx("p",{className:"text-muted-foreground",children:"Construction timeline coming soon."})]})})}):s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-updates-title",children:r("updates_title")||Ee.updates_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:r("updates_subtitle")||Ee.updates_subtitle})]}),s.jsx(fe,{href:r("updates_cta_url")||Ee.updates_cta_url||"/roadmap",children:s.jsxs("span",{className:"text-sm font-semibold text-[#2a4060] dark:text-blue-400 hover:underline cursor-pointer flex items-center gap-1","data-testid":"link-view-roadmap",children:[r("updates_cta")||Ee.updates_cta," ",s.jsx(na,{className:"w-4 h-4"})]})})]}),s.jsxs("div",{className:"relative py-12",children:[s.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-gray-200 dark:bg-slate-700 rounded-full transform -translate-y-1/2"}),s.jsx("div",{className:"absolute left-0 top-1/2 h-1 bg-gradient-to-r from-green-500 via-blue-500 to-blue-500 rounded-full transform -translate-y-1/2 transition-all duration-1000 ease-out",style:{width:`${o}%`}}),s.jsx("div",{className:"absolute top-1/2 h-1 w-8 bg-gradient-to-r from-transparent via-white to-transparent rounded-full transform -translate-y-1/2 animate-pulse opacity-80",style:{left:`calc(${o}% - 16px)`}}),s.jsx("div",{className:"relative flex justify-between items-center",children:i.map((c,u)=>{const d=vae[c.icon]||Kt,f=e===c.id,h=i.length>0?`${100/i.length}%`:"25%";return s.jsxs("div",{className:"relative flex flex-col items-center",style:{width:h},onMouseEnter:()=>t(c.id),onMouseLeave:()=>t(null),children:[s.jsx(fe,{href:`/roadmap#${c.id}`,children:s.jsxs("div",{className:`
                        relative z-10 w-14 h-14 rounded-full flex items-center justify-center cursor-pointer
                        transition-all duration-300 ease-out transform
                        ${f?"scale-125":"scale-100"}
                        ${c.isComplete?"bg-green-500 text-white shadow-lg shadow-green-500/30":c.isActive?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 animate-pulse":"bg-white dark:bg-slate-800 text-muted-foreground border-2 border-gray-300 dark:border-slate-600"}
                      `,"data-testid":`timeline-point-${c.id}`,children:[s.jsx(d,{className:"w-6 h-6"}),c.isActive&&s.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-400 animate-ping opacity-50"})]})}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("div",{className:`text-sm font-bold ${c.isComplete?"text-green-600 dark:text-green-400":c.isActive?"text-blue-600 dark:text-blue-400":"text-muted-foreground"}`,children:c.label}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:c.title}),s.jsx("div",{className:`text-xs font-semibold mt-1 ${c.isComplete?"text-green-600":c.isActive?"text-blue-600":"text-muted-foreground"}`,children:l(c)})]}),s.jsxs("div",{className:`
                      absolute z-50 w-72 p-4 rounded-xl bg-white dark:bg-slate-800 
                      border border-gray-200 dark:border-slate-700 shadow-2xl
                      transition-all duration-300 ease-out
                      ${f?"opacity-100 visible translate-y-0":"opacity-0 invisible translate-y-2"}
                      ${u>=i.length/2?"right-0":"left-0"}
                    `,style:{top:"100%",marginTop:"80px"},children:[s.jsx("div",{className:`absolute -top-2 w-4 h-4 bg-white dark:bg-slate-800 border-l border-t border-gray-200 dark:border-slate-700 transform rotate-45 ${u>=i.length/2?"right-8":"left-8"}`}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-100 dark:border-slate-700",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c.isComplete?"bg-green-100 dark:bg-green-900/30 text-green-600":c.isActive?"bg-blue-100 dark:bg-blue-900/30 text-blue-600":"bg-gray-100 dark:bg-slate-700 text-muted-foreground"}`,children:s.jsx(d,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm",children:c.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:c.timeframe})]})]}),c.milestones&&c.milestones.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"MILESTONES"}),s.jsx("ul",{className:"space-y-1",children:c.milestones.map((p,b)=>s.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[s.jsx(Sr,{className:`w-3 h-3 mt-0.5 flex-shrink-0 ${c.isComplete?"text-green-500":"text-muted-foreground"}`}),s.jsx("span",{children:p})]},b))})]}),c.highlights&&c.highlights.length>0&&s.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"HIGHLIGHTS"}),s.jsx("ul",{className:"space-y-1",children:c.highlights.map((p,b)=>s.jsxs("li",{className:"flex items-start gap-2 text-xs text-blue-600 dark:text-blue-400",children:[s.jsx(na,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:p})]},b))})]})]})]})]},c.id)})})]}),s.jsx("div",{className:"mt-8 p-6 rounded-xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),s.jsxs("div",{className:"text-2xl font-bold text-[#2a4060] dark:text-white mt-1",children:[Math.round(o),"% Complete"]})]}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsx("div",{className:"h-3 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${o}%`}})})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:i.filter(c=>c.isComplete).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:i.filter(c=>c.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:i.filter(c=>!c.isComplete&&!c.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})]})})}const GF="/assets/architectural_render_b118ee78-hmTi1mjz.jpg",QF="/assets/architectural_render_cd4dce75-BruYoWlw.jpg",yae="/assets/architectural_render_c7f63aa7-m2TWghKc.jpg",YF="/assets/sports_facility_cons_6b087ae8-Bawvazvq.jpg",bae="/assets/sports_facility_cons_aa71e508-BJWEQx7e.jpg",wae="/assets/sports_facility_cons_44a23ac3-C9MzLDrF.jpg",jae=[{key:"gallery-1",title:"Complex Exterior Render",type:"render",image:GF,category:"renders"},{key:"gallery-2",title:"Court Construction Progress",type:"photo",image:YF,category:"construction"},{key:"gallery-3",title:"Sports Arena Render",type:"render",image:QF,category:"renders"},{key:"gallery-4",title:"Indoor Facility Build",type:"photo",image:bae,category:"construction"},{key:"gallery-5",title:"Final Design Concept",type:"render",image:yae,category:"renders"},{key:"gallery-6",title:"Structural Framework",type:"photo",image:wae,category:"construction"}];function Nae(){const{getValue:e}=Dr(["gallery_title","gallery_subtitle","gallery_cta","gallery_cta_url"],Ee),{data:t=[]}=ce({queryKey:["/api/site-images","gallery"],queryFn:async()=>{const a=await(await fetch("/api/site-images?page=gallery")).json();return Array.isArray(a)?a:[]},staleTime:1e3*60*5}),r=y.useMemo(()=>jae.map((n,a)=>{const i=t.find(o=>o.section===n.key&&o.isActive);return{...n,title:(i==null?void 0:i.title)||n.title,image:(i==null?void 0:i.imageUrl)||n.image}}),[t]);return s.jsx("section",{id:"gallery",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-gallery-title",children:e("gallery_title")||Ee.gallery_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("gallery_subtitle")||Ee.gallery_subtitle})]}),s.jsx(fe,{href:e("gallery_cta_url")||Ee.gallery_cta_url||"/gallery",children:s.jsxs($,{variant:"outline",className:"rounded-full","data-testid":"button-view-full-gallery",children:[e("gallery_cta")||Ee.gallery_cta," ",s.jsx(ab,{className:"ml-2 w-4 h-4"})]})})]}),s.jsx(zp,{opts:{align:"start",loop:!0},plugins:[wf({delay:3500,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Wp,{className:"-ml-2 md:-ml-4",children:r.map((n,a)=>s.jsx(Kp,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/3",children:s.jsx(fe,{href:`/gallery?category=${n.category}`,children:s.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer","data-testid":`gallery-item-${a}`,children:[s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:n.title}),s.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${n.type==="render"?"bg-blue-500/80":"bg-amber-500/80"} text-white uppercase tracking-wide`,children:n.type})]})]})})},a))})})]})})}const lO="/assets/modern_indoor_sports_8b182ff8-CMa6_W-x.jpg",_ae={FOUNDING:jf,GOLD:Db,SILVER:Lb,GUEST:cC},Sae={FOUNDING:ib,GOLD:ci,SILVER:L5,GUEST:Er},cO={FOUNDING:{gradient:"from-amber-600/90 to-amber-800/90",badge:"bg-amber-500"},GOLD:{gradient:"from-yellow-500/90 to-yellow-700/90",badge:"bg-yellow-500"},SILVER:{gradient:"from-gray-500/90 to-gray-700/90",badge:"bg-gray-500"},GUEST:{gradient:"from-blue-500/90 to-blue-700/90",badge:"bg-blue-500"}},kae=[{id:"founding",name:"Founding",tier:"FOUNDING",tagline:"Exclusive",price:35e3,billingPeriod:"monthly",closed:!0,isActive:!0,sortOrder:1},{id:"gold",name:"Gold",tier:"GOLD",tagline:"Premium",price:15e3,billingPeriod:"monthly",closed:!1,isActive:!0,sortOrder:2},{id:"silver",name:"Silver",tier:"SILVER",tagline:"Standard",price:5e3,billingPeriod:"monthly",closed:!1,isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Casual",price:0,billingPeriod:"per visit",closed:!1,isActive:!0,sortOrder:4}];function Cae(){const{getValue:e}=Dr(["membership_title","membership_subtitle","membership_cta","membership_cta_url"],Ee),{data:t,isLoading:r}=ce({queryKey:["/api/pricing-tiers"],queryFn:async()=>{try{const c=await fetch("/api/pricing-tiers");if(!c.ok)return[];const u=await c.json();return Array.isArray(u)?u:[]}catch{return[]}},staleTime:1e3*60*5}),{data:n=[]}=ce({queryKey:["/api/site-images","membership"],queryFn:async()=>{const u=await(await fetch("/api/site-images?page=membership")).json();return Array.isArray(u)?u:[]},staleTime:1e3*60*5}),a=c=>{const u=n.find(d=>d.section===`tier-${c.toLowerCase()}`&&d.isActive);return(u==null?void 0:u.imageUrl)||_ae[c]||lO},i=y.useMemo(()=>{const c=n.find(u=>u.section==="background"&&u.isActive);return(c==null?void 0:c.imageUrl)||lO},[n]),o=y.useMemo(()=>!t||t.length===0?kae:t.filter(c=>c.isActive).sort((c,u)=>(c.sortOrder||0)-(u.sortOrder||0)).map(c=>({id:c.id,name:c.name,tier:c.tier,tagline:c.tier==="FOUNDING"?"Exclusive":c.tier==="GOLD"?"Premium":c.tier==="SILVER"?"Standard":"Casual",price:c.price,billingPeriod:c.billingPeriod||"monthly",closed:c.tier==="FOUNDING",isActive:c.isActive,sortOrder:c.sortOrder||0})),[t]),l=(c,u)=>{if(c===0||!c)return"Pay per use";const d=u==="yearly"?"/yr":"/mo";return`PKR ${(c/1e3).toFixed(0)}k${d}`};return r?s.jsx("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:s.jsx("div",{className:"qd-container relative z-10",children:s.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3,4].map(c=>s.jsx(qe,{className:"aspect-[4/3] w-72 rounded-xl flex-shrink-0"},c))})})}):s.jsxs("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-5 dark:opacity-10",style:{backgroundImage:`url(${i})`}}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-membership-title",children:e("membership_title")||Ee.membership_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("membership_subtitle")||Ee.membership_subtitle})]}),s.jsx(fe,{href:e("membership_cta_url")||Ee.membership_cta_url||"/membership",children:s.jsx($,{className:"rounded-full","data-testid":"button-inquire-membership",children:e("membership_cta")||Ee.membership_cta})})]}),s.jsx(zp,{opts:{align:"start",loop:!0},plugins:[wf({delay:5e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Wp,{className:"-ml-2 md:-ml-4",children:o.map(c=>{const u=Sae[c.tier]||Er,d=cO[c.tier]||cO.GUEST,f=a(c.tier);return s.jsx(Kp,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/4",children:s.jsx(fe,{href:"/membership",children:s.jsxs("div",{className:"group relative aspect-[3/4] rounded-xl overflow-hidden cursor-pointer","data-testid":`membership-tier-${c.tier.toLowerCase()}`,children:[s.jsx("img",{src:f,alt:c.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${d.gradient}`}),c.closed&&s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-bold bg-red-500 text-white",children:"CLOSED"})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d.badge}`,children:s.jsx(u,{className:"w-5 h-5 text-white"})})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[s.jsx("p",{className:"text-xs uppercase tracking-wider text-white/70 mb-1",children:c.tagline}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:c.name}),s.jsx("p",{className:"text-lg font-semibold text-white/90 mb-2",children:l(c.price,c.billingPeriod)}),s.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:["View details",s.jsx(na,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]})})},c.id)})})}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e("membership_footer")||Ee.membership_footer}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(fe,{href:e("membership_contact_cta_url")||Ee.membership_contact_cta_url||"/contact",children:s.jsx($,{variant:"outline",className:"rounded-full","data-testid":"button-contact-membership",children:e("membership_contact_cta")||Ee.membership_contact_cta})}),s.jsx(fe,{href:e("membership_terms_cta_url")||Ee.membership_terms_cta_url||"/terms",children:s.jsx($,{variant:"ghost",className:"rounded-full text-muted-foreground","data-testid":"button-view-terms-membership",children:e("membership_terms_cta")||Ee.membership_terms_cta})})]})]})]})]})}function Pae(){const{getValue:e}=Dr(["rules_title","rules_subtitle","rules_cta","rules_cta_url"],Ee),{data:t,isLoading:r}=ce({queryKey:["/api/rules"]}),n=(t==null?void 0:t.slice(0,4))||[];return s.jsx("section",{id:"rules",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-rules-title",children:e("rules_title")||Ee.rules_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("rules_subtitle")||Ee.rules_subtitle})]}),s.jsx(fe,{href:e("rules_cta_url")||Ee.rules_cta_url||"/rules",children:s.jsxs($,{variant:"outline",className:"rounded-full","data-testid":"button-view-all-rules",children:[e("rules_cta")||Ee.rules_cta," ",s.jsx(na,{className:"w-4 h-4 ml-1"})]})})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Rules coming soon..."}):s.jsx("div",{className:"qd-rules-grid",children:n.map((a,i)=>s.jsx(fe,{href:"/rules",children:s.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`rule-item-${i}`,children:[s.jsx("h4",{className:"font-bold text-foreground mb-2",children:a.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a.content})]})},a.id))})]})})}function Eae(){var a;const{getValue:e}=Dr(["careers_title","careers_subtitle","careers_cta","careers_cta_url"],Ee),{data:t,isLoading:r}=ce({queryKey:["/api/careers"]}),n=((a=t==null?void 0:t.filter(i=>i.isActive))==null?void 0:a.slice(0,4))||[];return s.jsx("section",{id:"careers",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-careers-title",children:e("careers_title")||Ee.careers_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("careers_subtitle")||Ee.careers_subtitle})]}),s.jsx(fe,{href:e("careers_cta_url")||Ee.careers_cta_url||"/careers",children:s.jsxs($,{className:"rounded-full","data-testid":"button-submit-cv",children:[e("careers_cta")||Ee.careers_cta," ",s.jsx(na,{className:"w-4 h-4 ml-1"})]})})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No open positions at the moment. Check back soon!"}):s.jsx("div",{className:"qd-rules-grid",children:n.map((i,o)=>s.jsx(fe,{href:"/careers",children:s.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`career-position-${o}`,children:[s.jsx("h4",{className:"font-bold text-foreground mb-2",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})},i.id))})]})})}const Wg="The Quarterdeck",Aae="Premium sports and recreation complex in Islamabad, Pakistan featuring Padel Tennis, Squash, Air Rifle Range, and more. Book your facilities, join events, and become a member today.";function Fr({title:e,description:t=Aae,ogTitle:r,ogDescription:n,ogImage:a,ogType:i="website",twitterCard:o="summary_large_image",canonicalUrl:l}={}){y.useEffect(()=>{const c=e?`${e} | ${Wg}`:Wg;document.title=c;const u=(d,f,h=!1)=>{const p=h?`meta[property="${d}"]`:`meta[name="${d}"]`;let b=document.querySelector(p);b||(b=document.createElement("meta"),h?b.setAttribute("property",d):b.setAttribute("name",d),document.head.appendChild(b)),b.setAttribute("content",f)};if(u("description",t),u("og:title",r||c,!0),u("og:description",n||t,!0),u("og:type",i,!0),u("og:site_name",Wg,!0),a&&u("og:image",a,!0),l){u("og:url",l,!0);let d=document.querySelector('link[rel="canonical"]');d||(d=document.createElement("link"),d.setAttribute("rel","canonical"),document.head.appendChild(d)),d.setAttribute("href",l)}return u("twitter:card",o),u("twitter:title",r||c),u("twitter:description",n||t),a&&u("twitter:image",a),()=>{document.title=Wg}},[e,t,r,n,a,i,o,l])}const tj=[{id:"about",component:()=>s.jsx(yse,{}),altBackground:!0,visibilityKey:"section_about_visible",orderKey:"section_about_order"},{id:"facilities",component:()=>s.jsx(gae,{}),altBackground:!1,visibilityKey:"section_facilities_visible",orderKey:"section_facilities_order"},{id:"updates",component:()=>s.jsx(xae,{}),altBackground:!0,visibilityKey:"section_updates_visible",orderKey:"section_updates_order"},{id:"gallery",component:()=>s.jsx(Nae,{}),altBackground:!1,visibilityKey:"section_gallery_visible",orderKey:"section_gallery_order"},{id:"membership",component:()=>s.jsx(Cae,{}),altBackground:!0,visibilityKey:"section_membership_visible",orderKey:"section_membership_order"},{id:"rules",component:()=>s.jsx(Pae,{}),altBackground:!1,visibilityKey:"section_rules_visible",orderKey:"section_rules_order"},{id:"careers",component:()=>s.jsx(Eae,{}),altBackground:!0,visibilityKey:"section_careers_visible",orderKey:"section_careers_order"}];function Oae(){Fr({description:"The Quarterdeck is Islamabad's premier sports and recreation complex featuring Padel Tennis, Squash, Air Rifle Range, and exclusive membership packages. Book facilities and join events today."});const e=[...tj.map(n=>n.visibilityKey),...tj.map(n=>n.orderKey)],{getValue:t}=Dr(e,Ee),r=y.useMemo(()=>tj.filter(n=>vse(t(n.visibilityKey))).sort((n,a)=>{const i=parseInt(t(n.orderKey)||"99",10),o=parseInt(t(a.orderKey)||"99",10);return i-o}),[t]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(xse,{}),r.map(n=>{const a=n.component;return n.altBackground?s.jsx("div",{className:"qd-section-alt",children:s.jsx(a,{})},n.id):s.jsx(a,{},n.id)})]}),s.jsx(rr,{})]})}const Q=y.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ye("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Q.displayName="Input";const Tae=Cp("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ue({className:e,variant:t,...r}){return s.jsx("div",{className:ye(Tae({variant:t}),e),...r})}function Wa(e){return e.toLocaleString("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0})}function Iae(e,t){const[r,n]=e.split(":").map(Number),a=r*60+n+t,i=Math.floor(a/60),o=a%60;return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function uO(e){const t=parseInt(e.split(":")[0]);return t>=10&&t<17}const Fb=()=>"Notification"in window,Rae=()=>Fb()?Notification.permission:"unsupported",$ae=async()=>Fb()?Notification.permission==="granted"?"granted":Notification.permission!=="denied"?await Notification.requestPermission():Notification.permission:(console.warn("Push notifications are not supported in this browser"),"unsupported"),dO=e=>{if(!Fb())return console.warn("Push notifications are not supported"),null;if(Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;const t=new Notification(e.title,{body:e.body,icon:e.icon||"/favicon.ico",tag:e.tag,requireInteraction:e.requireInteraction||!1});return e.onClick&&(t.onclick=()=>{var r;window.focus(),(r=e.onClick)==null||r.call(e),t.close()}),t},fO={bookingReminder:(e,t,r)=>({title:"Upcoming Booking Reminder",body:`Your ${e} booking is scheduled for ${t} on ${r}`,tag:"booking-reminder",requireInteraction:!0}),bookingConfirmed:e=>({title:"Booking Confirmed",body:`Your booking for ${e} has been confirmed!`,tag:"booking-confirmed"}),paymentVerified:e=>({title:"Payment Verified",body:`Your payment for ${e} has been verified`,tag:"payment-verified"}),eventReminder:(e,t)=>({title:"Event Reminder",body:`Don't forget: ${e} is happening on ${t}`,tag:"event-reminder",requireInteraction:!0})};function Mae(){const[e]=y.useState(()=>Fb()),[t,r]=y.useState("default");y.useEffect(()=>{r(Rae())},[]);const n=y.useCallback(async()=>{const o=await $ae();return r(o),o},[]),a=y.useCallback((o,l)=>{if(t!=="granted")return;const c=fO.bookingReminder(l,o.startTime,o.date);dO(c)},[t]),i=y.useCallback((o,l)=>{if(t!=="granted")return;const c=fO.eventReminder(o,l);dO(c)},[t]);return{isSupported:e,permission:t,requestPermission:n,showBookingReminder:a,showEventReminder:i}}const Dae="/assets/bottled_mineral_wate_edb6abad-CPxK56g4.jpg",hO={"padel-tennis":Jo,squash:Vp,"air-rifle-range":Pp,"bridge-room":db,"multipurpose-hall":vn},Kg=["padel-tennis","squash","air-rifle-range","bridge-room","multipurpose-hall"];function Lae({initialView:e="booking"}){var rP,nP,sP;const{user:t,isAuthenticated:r}=Ji(),{toast:n}=gt(),{isSupported:a,permission:i,requestPermission:o}=Mae(),[l,c]=y.useState(e),[u,d]=y.useState(null),[f,h]=y.useState("Islamabad"),[p,b]=y.useState(()=>new Date().toISOString().split("T")[0]),[m,w]=y.useState(60),[x,g]=y.useState(1),[v,j]=y.useState(null),[N,_]=y.useState("cash"),[S,k]=y.useState(!1),[C,P]=y.useState("self"),[E,O]=y.useState(""),[I,T]=y.useState(null),[M,V]=y.useState(new Set),[K,A]=y.useState({}),[R,G]=y.useState(!1),[Y,F]=y.useState(!1),[X,le]=y.useState(1),[he,je]=y.useState(null),[ee,we]=y.useState("cumulative"),[ae,L]=y.useState(!1),{data:te}=ce({queryKey:["/api/memberships/my"],queryFn:async()=>{try{const z=await fetch("/api/memberships/my",{credentials:"include"});return z.status===404||!z.ok?null:await z.json()}catch{return null}},enabled:r}),{data:H=[]}=ce({queryKey:["/api/leaderboard",ee==="cumulative"?void 0:ee],queryFn:async()=>{try{const z=ee==="cumulative"?"":`?facilityId=${ee}`,ge=await fetch(`/api/leaderboard${z}`);if(!ge.ok)return[];const ct=await ge.json();return Array.isArray(ct)?ct:[]}catch{return[]}}}),{data:U=[]}=ce({queryKey:["/api/pricing-tiers"]}),me=y.useMemo(()=>{const z={FOUNDING:0,GOLD:0,SILVER:0,GUEST:0};return U.forEach(ge=>{if(ge.discountPercent!==null&&ge.discountPercent!==void 0)z[ge.tier]=ge.discountPercent;else{const De=(ge.benefits||[]).find(lr=>lr.toLowerCase().includes("discount")&&lr.toLowerCase().includes("off-peak"));if(De){const lr=De.match(/(\d+)%/);lr&&(z[ge.tier]=parseInt(lr[1],10))}}}),z},[U]),He=y.useMemo(()=>{const z={FOUNDING:14,GOLD:7,SILVER:5,GUEST:2};return U.forEach(ge=>{ge.advanceBookingDays!==null&&ge.advanceBookingDays!==void 0&&(z[ge.tier]=ge.advanceBookingDays)}),z},[U]),Pe=y.useMemo(()=>{const z=(te==null?void 0:te.tier)||"GUEST",ge=(te==null?void 0:te.status)||"PENDING_PAYMENT",ct=ge==="ACTIVE";return{name:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest",email:(t==null?void 0:t.email)||"",creditBalance:(t==null?void 0:t.creditBalance)||0,totalHoursPlayed:(t==null?void 0:t.totalHoursPlayed)||0,guestPasses:(te==null?void 0:te.guestPasses)||0,membershipTier:z,membershipStatus:ge,membershipNumber:(te==null?void 0:te.membershipNumber)||null,membershipExpiry:(te==null?void 0:te.validTo)||null,isSafetyCertified:(t==null?void 0:t.isSafetyCertified)||!1,hasSignedWaiver:(t==null?void 0:t.hasSignedWaiver)||!1,isActiveMember:ct}},[t,r,te]),ht=y.useMemo(()=>{const z=Pe.membershipTier,ct=Pe.isActiveMember&&He[z]||2,De=new Date;return De.setDate(De.getDate()+ct),De.toISOString().split("T")[0]},[Pe.membershipTier,Pe.isActiveMember,He]),sr=y.useMemo(()=>p<=ht,[p,ht]);y.useEffect(()=>{const z=new URLSearchParams(window.location.search),ge=z.get("success"),ct=z.get("session_id"),De=z.get("canceled");ge==="true"&&ct?ve("POST","/api/stripe/verify-session",{sessionId:ct}).then(lr=>lr.json()).then(lr=>{lr.booking&&(n({title:"Payment Successful!",description:"Your booking has been confirmed and paid."}),Z.invalidateQueries({queryKey:["/api/bookings"]}))}).catch(lr=>{n({title:"Payment Verification Failed",description:lr.message||"Please contact support if your payment was deducted.",variant:"destructive"})}).finally(()=>{window.history.replaceState({},"",window.location.pathname)}):De==="true"&&(n({title:"Payment Canceled",description:"Your payment was canceled. No charges were made.",variant:"default"}),window.history.replaceState({},"",window.location.pathname))},[n]);const{data:Ut=[]}=ce({queryKey:["/api/bookings",u==null?void 0:u.id,p],enabled:!!u}),{data:or=[],isLoading:q}=ce({queryKey:["/api/facilities"],queryFn:async()=>{try{const z=await fetch("/api/facilities");if(!z.ok)return[];const ge=await z.json();return Array.isArray(ge)?ge:[]}catch{return[]}}}),{data:J=[]}=ce({queryKey:["/api/venues"],queryFn:async()=>{try{const z=await fetch("/api/venues");if(!z.ok)return[];const ge=await z.json();return Array.isArray(ge)?ge:[]}catch{return[]}}}),{data:ne=[]}=ce({queryKey:["/api/hall-activities"],queryFn:async()=>{try{const z=await fetch("/api/hall-activities");if(!z.ok)return[];const ge=await z.json();return Array.isArray(ge)?ge:[]}catch{return[]}}}),Ae=y.useMemo(()=>J.length===0?["Islamabad"]:J.map(z=>z.city),[J]),Ce=y.useMemo(()=>ne.length===0?[]:ne.map(z=>({value:z.name,label:z.name})),[ne]),be=y.useMemo(()=>new Date(p+"T12:00:00").getDay(),[p]),We=y.useMemo(()=>{if(!u)return null;const z=or.find(ge=>ge.slug===u.id);return(z==null?void 0:z.id)||null},[or,u==null?void 0:u.id]),At=y.useMemo(()=>{const z=J.find(ge=>ge.city===f);return(z==null?void 0:z.id)||null},[J,f]),{data:Ot=[]}=ce({queryKey:["/api/operating-hours",be],queryFn:async()=>{try{const z=await fetch(`/api/operating-hours?dayOfWeek=${be}`);if(!z.ok)return[];const ge=await z.json();return Array.isArray(ge)?ge:[]}catch{return[]}}}),jr=y.useMemo(()=>{const z=We?Ot.find(dn=>!dn.isClosed&&!dn.isHoliday&&dn.facilityId===We&&dn.dayOfWeek===be):null,ge=At?Ot.find(dn=>!dn.isClosed&&!dn.isHoliday&&dn.venueId===At&&!dn.facilityId&&dn.dayOfWeek===be):null,ct=Ot.find(dn=>!dn.isClosed&&!dn.isHoliday&&!dn.facilityId&&!dn.venueId&&dn.dayOfWeek===be),De=z||ge||ct;if(!De)return[];const lr=[],Qc=De.slotDurationMinutes||60,[lg,Bf]=De.openTime.split(":").map(Number),[Yc,cg]=De.closeTime.split(":").map(Number);let mi=lg*60+Bf;const Vf=Yc*60+cg-m;for(;mi<=Vf;){const dn=Math.floor(mi/60),t7=mi%60;lr.push(`${dn.toString().padStart(2,"0")}:${t7.toString().padStart(2,"0")}`),mi+=Qc}return lr},[Ot,be,We,At,m]),{data:da=[]}=ce({queryKey:["/api/facilities",u==null?void 0:u.id,"addons"],queryFn:async()=>{if(!u)return[];try{const z=await fetch(`/api/facilities/${u.id}/addons`);if(!z.ok)return[];const ge=await z.json();return Array.isArray(ge)?ge:[]}catch{return[]}},enabled:!!(u!=null&&u.id)}),rs={Target:Ri,CircleDot:WH,Droplets:GH,ShieldCheck:pm,Headphones:XH,Glasses:YH,Coffee:Nk,Speaker:hG},Va=y.useMemo(()=>da.map(z=>({id:z.id,label:z.label,price:z.price,icon:z.icon&&rs[z.icon]||Ri,image:z.imageUrl||Dae})),[da]),hl=y.useMemo(()=>{const z={};return or.forEach(ge=>{z[ge.id]=ge.slug}),z},[or]),Dn=y.useMemo(()=>or.length===0?[]:or.filter(z=>z.status==="ACTIVE"&&z.slug!=="bridge-room").map(z=>({id:z.slug,label:z.name,count:z.resourceCount||1,basePrice:z.basePrice,minPlayers:z.minPlayers||1,icon:hO[z.slug]||vn,requiresCert:z.requiresCertification||!1,restricted:z.isRestricted||!1})).sort((z,ge)=>{const ct=Kg.indexOf(z.id),De=Kg.indexOf(ge.id);return(ct===-1?999:ct)-(De===-1?999:De)}),[or]),Hc=y.useMemo(()=>or.filter(z=>z.slug!=="bridge-room").map(z=>({id:z.slug,label:z.name,count:z.resourceCount||1,basePrice:z.basePrice,minPlayers:z.minPlayers||1,icon:hO[z.slug]||vn,requiresCert:z.requiresCertification||!1,restricted:z.isRestricted||!1,status:z.status})).sort((z,ge)=>{const ct=Kg.indexOf(z.id),De=Kg.indexOf(ge.id);return(ct===-1?999:ct)-(De===-1?999:De)}),[or]);y.useEffect(()=>{if(Dn.length>0)if(!u||!Dn.find(z=>z.id===u.id))d(Dn[0]);else{const z=Dn.find(ge=>ge.id===u.id);z&&(z.count!==u.count||z.basePrice!==u.basePrice)&&d(z)}},[Dn,u==null?void 0:u.id]),y.useEffect(()=>{Ae.length>0&&!Ae.includes(f)&&h(Ae[0])},[Ae,f]);const{data:ml=[]}=ce({queryKey:["/api/events"]}),pl=xe({mutationFn:async z=>await ve("POST",`/api/events/${z.eventId}/register`,z),onSuccess:()=>{n({title:"Registration Submitted!",description:"Your registration is pending approval. You'll receive a confirmation email once approved."}),Z.invalidateQueries({queryKey:["/api/events"]})},onError:z=>{n({title:"Registration Failed",description:z.message||"Unable to register for this event.",variant:"destructive"})}}),gl=z=>{if(!r||!t){n({title:"Login Required",description:"Please log in to register for events.",variant:"destructive"}),window.location.href="/login";return}pl.mutate({eventId:z.id,fullName:`${t.firstName||""} ${t.lastName||""}`.trim()||"Member",email:t.email||""})},Lf=f!=="Islamabad",Gc=xe({mutationFn:async z=>await ve("POST","/api/bookings",z),onSuccess:async(z,ge)=>{const ct=ge.paymentMethod==="bank_transfer",De=ge.paymentMethod==="cash";n(ct?{title:"Booking Created!",description:"Please complete your bank transfer and share the receipt with us for verification."}:De?{title:"Booking Created!",description:"Please pay at the facility on your booking date. Your booking will be confirmed upon payment."}:{title:"Booking Created!",description:"Your booking has been successfully created."}),a&&i==="default"&&setTimeout(()=>{n({title:"Enable Booking Reminders?",description:"Get notified 1 hour before your booking starts.",action:s.jsx($,{size:"sm",onClick:async()=>{await o()==="granted"&&n({title:"Reminders Enabled",description:"You'll receive notifications before your bookings."})},"data-testid":"button-enable-notifications",children:"Enable"})})},1500),Z.invalidateQueries({queryKey:["/api/bookings"]}),j(null),V(new Set),G(!1),F(!1),le(1)},onError:z=>{var ct;const ge=(ct=z.message)==null?void 0:ct.includes("certification");n({title:ge?"Certification Required":"Booking Failed",description:ge?"This facility requires a valid certification to book. Visit our Certifications page to complete the required training.":z.message,variant:"destructive"})}}),ag=z=>{const ge=Ff(z),ct=ge+m;return Ut.some(De=>{if(De.date!==p||De.resourceId!==x||De.status==="CANCELLED")return!1;const lr=Ff(De.startTime),Qc=lr+(De.durationMinutes||60);return ge<Qc&&ct>lr})},Ff=z=>{const[ge,ct]=z.split(":").map(Number);return ge*60+ct},Z0=async z=>{const ge=z.trim().toUpperCase();if(O(ge),!ge){T(null);return}if(!/^QD-\d{4}$/.test(ge)){T(!1);return}L(!0);try{const De=await fetch(`/api/memberships/validate/${ge}`);if(!De.ok){T(!1);return}const lr=await De.json();T(lr.valid===!0)}catch{T(!1)}finally{L(!1)}},Pn=y.useMemo(()=>{if(!v||!u)return null;let ct=u.basePrice/60*m,De=0;const lr=Pe.membershipTier,Qc=Pe.isActiveMember,lg=uO(v),Bf=me[lr]||0;lg&&Qc&&Bf>0&&(De=ct*(Bf/100));let Yc=0;M.forEach(mi=>{const ew=Va.find(Vf=>Vf.id===mi);if(ew){const Vf=K[mi]??1;Yc+=ew.price*Vf}}),R&&(Yc+=4e3);let cg=null;if(lg&&Qc&&De>0){const mi=lr.charAt(0)+lr.slice(1).toLowerCase();cg=`${Bf}% ${mi} (Off-Peak)`}return{basePrice:Math.round(ct),discount:Math.round(De),discountLabel:cg,addOnTotal:Yc,totalPrice:Math.round(ct-De+Yc),date:p,startTime:v,endTime:Iae(v,m)}},[v,u,m,M,K,R,p,Pe.membershipTier,Pe.isActiveMember,Va,me]),ig=z=>{const ge=new Set(M);ge.has(z.id)?ge.delete(z.id):(ge.add(z.id),A(ct=>({...ct,[z.id]:ct[z.id]??1}))),V(ge)},og=(z,ge)=>{A(ct=>{const De=ct[z]??1,lr=Math.min(10,Math.max(1,De+ge));return{...ct,[z]:lr}})},Z9=async()=>{if(!(!Pn||!v||!u)){if(!sr){const z=Pe.membershipTier,ge=Pe.isActiveMember&&He[z]||2;n({title:"Date Out of Range",description:`Your membership tier allows booking up to ${ge} days in advance.`,variant:"destructive"});return}if(u.id==="multipurpose-hall"&&!he){n({title:"Activity Required",description:"Please select a purpose for the Multipurpose Hall booking.",variant:"destructive"});return}Gc.mutate({facilitySlug:u.id,venue:f,resourceId:x,date:p,startTime:v,endTime:Pn.endTime,durationMinutes:m,paymentMethod:N,payerType:C.toUpperCase(),payerMembershipNumber:C==="member"?E:null,basePrice:Pn.basePrice,discount:Pn.discount,addOnTotal:Pn.addOnTotal,totalPrice:Pn.totalPrice,coachBooked:R,isMatchmaking:Y,currentPlayers:X,maxPlayers:u.minPlayers,hallActivity:he,addOns:Array.from(M).map(z=>({id:z,quantity:K[z]??1}))})}},e7=z=>{switch(z){case"Academy":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Tournament":return"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300";case"Social":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300";case"Class":return"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-300"}},eP=Hc.filter(z=>z.id!=="bridge-room"&&z.id!=="multipurpose-hall"),tP=y.useMemo(()=>H.map(z=>({name:z.playerName||"Member",points:z.rankingPoints,tier:"Member",facility:z.facilityId})),[H]),Uf=()=>{window.location.href="/"};return q||Dn.length===0||!u?s.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[s.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 w-full md:w-72 flex-shrink-0 p-6 border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700",children:[s.jsx(qe,{className:"h-8 w-48 mb-2"}),s.jsx(qe,{className:"h-3 w-32 mb-6"}),s.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(z=>s.jsx(qe,{className:"h-12 rounded-xl"},z))})]}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(qe,{className:"h-6 w-24"}),s.jsx(qe,{className:"h-6 w-6 rounded-full"}),s.jsx(qe,{className:"h-6 w-32"})]}),s.jsx(qe,{className:"h-8 w-48 mb-6"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8",children:[1,2,3,4].map(z=>s.jsx(qe,{className:"h-24 rounded-xl"},z))}),s.jsx(qe,{className:"h-6 w-32 mb-4"}),s.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,3].map(z=>s.jsx(qe,{className:"h-10 w-20 rounded-md"},z))}),s.jsx(qe,{className:"h-40 rounded-xl"})]})]}):s.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[s.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700 w-full md:w-72 flex-shrink-0 p-6 flex flex-col justify-between shadow-sm",children:[s.jsxs("div",{children:[s.jsx(fe,{href:"/",children:s.jsxs("div",{className:"cursor-pointer","data-testid":"link-sidebar-logo",children:[s.jsx("h1",{className:"text-2xl font-extrabold text-[#2a4060] dark:text-sky-400 mb-1 tracking-tight",children:"THE QUARTERDECK"}),s.jsx("p",{className:"text-[11px] text-muted-foreground mb-6 uppercase tracking-[0.18em]",children:"Central Booking Console"})]})}),s.jsxs("nav",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>c("booking"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="booking"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-booking",children:[s.jsx(rx,{className:"w-4 h-4"})," Book Facility"]}),r&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>c("events"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="events"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-events",children:[s.jsx(Ns,{className:"w-4 h-4"})," Events & Academies"]}),s.jsxs("button",{onClick:()=>c("leaderboard"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="leaderboard"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-leaderboard",children:[s.jsx(Ns,{className:"w-4 h-4"})," Leaderboard"]}),s.jsxs("button",{onClick:()=>c("profile"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="profile"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-profile",children:[s.jsx(ls,{className:"w-4 h-4"})," My Profile"]})]})]})]}),r&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-4 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(KE,{className:"w-5 h-5 text-amber-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Credit Balance"}),s.jsx("p",{className:"text-lg font-bold",children:Wa(Pe.creditBalance)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(WE,{className:"w-5 h-5 text-sky-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Hours Played"}),s.jsxs("p",{className:"text-lg font-bold",children:[Pe.totalHoursPlayed," hrs"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ix,{className:"w-5 h-5 text-emerald-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Guest Passes"}),s.jsx("p",{className:"text-lg font-bold",children:Pe.guestPasses})]})]})]})]}),s.jsxs("div",{className:"flex-grow p-4 md:p-8 relative overflow-auto bg-gray-50 dark:bg-slate-900",children:[l==="booking"&&!r&&s.jsx("div",{className:"max-w-md mx-auto mt-16 animate-qd-fade-in",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg text-center",children:[s.jsx(ls,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2","data-testid":"text-auth-required",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to access the booking system and make reservations."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(fe,{href:"/login",className:"block",children:s.jsx($,{className:"w-full","data-testid":"button-login-booking",children:"Sign In to Continue"})}),s.jsxs($,{variant:"outline",className:"w-full",onClick:Uf,"data-testid":"button-back-home-auth",children:[s.jsx(_n,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})}),l==="booking"&&r&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-qd-fade-in",children:[s.jsxs("section",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:Uf,className:"rounded-full","data-testid":"button-back-home",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-extrabold","data-testid":"text-booking-title",children:"Central Booking"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your venue, facility, time and extras."})]})]}),s.jsx("div",{className:"mt-3 sm:mt-0",children:s.jsxs("div",{className:"max-w-xs sm:text-right",children:[s.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Venue"}),s.jsx("select",{value:f,onChange:z=>{h(z.target.value),d(Dn[0]),g(1),j(null),V(new Set),A({}),G(!1),F(!1),le(1),je(null)},className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500","data-testid":"select-venue",children:Ae.map(z=>s.jsx("option",{value:z,children:z},z))}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["Booking preview for: ",f]})]})})]}),Lf&&s.jsxs("section",{className:"relative bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 rounded-2xl p-8 text-center shadow-lg border border-slate-300 dark:border-slate-700",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-sky-500/10 rounded-2xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(ms,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),s.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["Coming Soon to ",f]}),s.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:["We're expanding! The Quarterdeck ",f," is currently under development. Stay tuned for updates on our upcoming locations."]}),s.jsx(ue,{className:"bg-amber-500/10 text-amber-700 dark:text-amber-400 border-amber-500/30",children:"Expected 2026-2027"}),s.jsx("div",{className:"mt-6",children:s.jsx($,{variant:"outline",onClick:()=>h("Islamabad"),"data-testid":"button-switch-to-islamabad",children:"Switch to Islamabad (Available Now)"})})]})]}),!Lf&&s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"1. Select Facility"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:Dn.map(z=>{const ge=z.icon,ct=u.id===z.id,De=z.restricted&&Pe.membershipTier!=="FOUNDING";return s.jsxs("button",{onClick:()=>{De?n({title:"Restricted Area",description:"Exclusive to Founding Members and Armed Forces.",variant:"destructive"}):(d(z),g(1),j(null),F(!1),je(null))},className:`p-4 rounded-xl shadow-sm border flex flex-col items-center justify-center transition-all relative overflow-hidden cursor-pointer ${De?"opacity-60 bg-gray-100 dark:bg-slate-700 border-gray-200 dark:border-slate-600":ct?"ring-4 ring-amber-300 bg-white dark:bg-slate-800 border-amber-500":"bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-600 hover:border-sky-500"}`,"data-testid":`button-facility-${z.id}`,children:[s.jsx(ge,{className:"w-8 h-8 mb-1 text-[#2a4060] dark:text-sky-400"}),s.jsx("p",{className:"font-semibold text-sm",children:z.label}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[z.count," available"]}),De&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white text-xs font-bold",children:"RESTRICTED"})]},z.id)})})]}),!Lf&&s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 space-y-4",children:[s.jsxs("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700",children:["2. Select Resource (",u.label,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:u.count}).map((z,ge)=>s.jsxs("button",{onClick:()=>g(ge+1),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${x===ge+1?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-resource-${ge+1}`,children:["Court ",ge+1]},ge+1))}),u.id==="multipurpose-hall"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Purpose of Multipurpose Event"}),s.jsxs("select",{value:he||"",onChange:z=>je(z.target.value),className:"w-full p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"select-hall-activity",children:[s.jsx("option",{value:"",children:"-- Select Activity --"}),Ce.map(z=>s.jsx("option",{value:z.value,children:z.label},z.value))]})]}),u.id!=="hall"&&!u.restricted&&s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("label",{className:"text-sm font-medium",children:"Enable Matchmaking (Join a game)"}),s.jsx("button",{onClick:()=>F(!Y),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${Y?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-matchmaking",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${Y?"translate-x-6":"translate-x-1"}`})})]}),Y&&s.jsxs("select",{value:X,onChange:z=>le(parseInt(z.target.value)),className:"w-full p-2 border rounded-lg text-sm bg-sky-50 dark:bg-sky-900/30 border-amber-200 dark:border-amber-700","data-testid":"select-group-size",children:[s.jsx("option",{value:1,children:"Just Me (1)"}),s.jsx("option",{value:2,children:"Pair (2)"}),s.jsx("option",{value:3,children:"Three (3)"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("label",{className:"text-sm font-medium",children:"Book a coach?"}),s.jsx("button",{onClick:()=>G(!R),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${R?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-coach",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${R?"translate-x-6":"translate-x-1"}`})})]}),R&&s.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 font-semibold text-right",children:"+4,000 PKR"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"3. Select Date"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(wr,{className:"w-5 h-5 text-sky-500"}),s.jsx("input",{type:"date",value:p,min:new Date().toISOString().split("T")[0],max:ht,onChange:z=>{b(z.target.value),j(null)},className:"flex-1 p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"input-date"})]}),!sr&&s.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-1",children:[s.jsx(zn,{className:"w-3 h-3"}),"Your ",Pe.membershipTier," tier allows booking up to ",He[Pe.membershipTier]||2," days ahead"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"4. Select Duration"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[60,90,120].map(z=>s.jsxs("button",{onClick:()=>{w(z),j(null)},className:`px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2 ${m===z?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-duration-${z}`,children:[s.jsx(Kt,{className:"w-4 h-4"}),z," min"]},z))})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"5. Select Time Slot"}),jr.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Kt,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2 animate-pulse"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading available time slots..."})]}):s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 sm:gap-3",children:jr.map(z=>{const ge=ag(z),ct=v===z,De=uO(z);return s.jsxs("button",{onClick:()=>!ge&&j(z),disabled:ge,className:`py-2 px-1 rounded border text-sm font-medium transition relative overflow-hidden ${ge?"bg-gray-200 dark:bg-slate-600 text-muted-foreground cursor-not-allowed opacity-70":ct?"bg-green-500 text-white shadow-lg border-green-500":"bg-white dark:bg-slate-700 text-foreground hover:bg-sky-50 dark:hover:bg-slate-600 border-gray-200 dark:border-slate-600"}`,"data-testid":`button-time-${z.replace(":","")}`,children:[z,De&&!ge&&!ct&&s.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-emerald-400 rounded-bl-md"})]},z)})}),jr.length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[s.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-400 rounded-full mr-1"}),"Green dot = Off-peak hours (10 AM - 5 PM) - All member tiers get discounts"]})]})]}),s.jsx("div",{className:"md:col-span-1 space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-t-4 border-sky-500",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"6. Extras & Payment"}),Pn?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Add-ons"}),s.jsx("div",{className:"space-y-2",children:Va.map(z=>{const ge=M.has(z.id),ct=K[z.id]??1;return s.jsxs("div",{onClick:()=>ig(z),className:`border rounded-xl px-3 py-2 flex items-center gap-3 text-sm transition cursor-pointer hover:shadow-sm ${ge?"bg-sky-50 dark:bg-sky-900/30 border-amber-500 text-amber-800 dark:text-amber-300":"bg-white dark:bg-slate-700 border-gray-200 dark:border-slate-600"}`,"data-testid":`addon-${z.id}`,children:[s.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-slate-600",children:s.jsx("img",{src:z.image,alt:z.label,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"font-semibold truncate",children:z.label}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Wa(z.price)," per unit"]})]}),ge&&s.jsxs("div",{className:"flex items-center gap-1 text-xs flex-shrink-0",onClick:De=>De.stopPropagation(),children:[s.jsx("button",{onClick:()=>og(z.id,-1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:s.jsx(rG,{className:"w-3 h-3"})}),s.jsx("span",{className:"min-w-[1.5rem] text-center font-semibold",children:ct}),s.jsx("button",{onClick:()=>og(z.id,1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:s.jsx(Zt,{className:"w-3 h-3"})})]})]},z.id)})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Payer Details"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-4 text-xs",children:[s.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"payer-type",checked:C==="self",onChange:()=>P("self"),className:"accent-sky-600"}),s.jsx("span",{children:"Self (use my account)"})]}),s.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"payer-type",checked:C==="member",onChange:()=>P("member"),className:"accent-sky-600"}),s.jsx("span",{children:"Another member will pay"})]})]}),C==="member"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-xs font-semibold",children:"Membership number of the payer"}),s.jsx(Q,{type:"text",value:E,onChange:z=>Z0(z.target.value),placeholder:"e.g. QD-0001",className:"text-xs","data-testid":"input-payer-membership"}),I===!0&&s.jsxs("p",{className:"text-[10px] text-emerald-600 flex items-center gap-1",children:[s.jsx(Sr,{className:"w-3 h-3"})," Membership found."]}),I===!1&&s.jsxs("p",{className:"text-[10px] text-rose-500 flex items-center gap-1",children:[s.jsx(zn,{className:"w-3 h-3"})," Membership not found."]})]})]})]}),s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2 border-t pt-4 border-gray-100 dark:border-slate-700",children:"Summary"}),s.jsxs("div",{className:"space-y-1 text-sm mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Base Rate (",m," min)"]}),s.jsx("span",{children:Wa(Pn.basePrice)})]}),Pn.discount>0&&s.jsxs("div",{className:"flex justify-between text-emerald-600",children:[s.jsxs("span",{children:["Member Discount (",Pn.discountLabel,")"]}),s.jsxs("span",{children:["- ",Wa(Pn.discount)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Add-Ons & Coach"}),s.jsxs("span",{children:["+ ",Wa(Pn.addOnTotal)]})]})]}),s.jsxs("div",{className:"flex justify-between border-t border-dashed pt-3 border-gray-200 dark:border-slate-600",children:[s.jsx("span",{className:"font-bold text-lg",children:"TOTAL DUE"}),s.jsx("span",{className:"font-extrabold text-2xl text-sky-700 dark:text-sky-400",children:Wa(Pn.totalPrice)})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>_("cash"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${N==="cash"?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-cash",children:"Pay On-Site"}),s.jsx("button",{onClick:()=>_("bank_transfer"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${N==="bank_transfer"?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-bank",children:"Bank Transfer"}),s.jsx("button",{onClick:()=>_("credits"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${N==="credits"?"bg-slate-900 text-white border-slate-900 dark:bg-slate-100 dark:text-slate-900 dark:border-slate-100":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-credits",children:"Credits"})]})]}),N==="bank_transfer"&&s.jsxs("div",{className:"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-xl",children:[s.jsx("h5",{className:"font-bold text-purple-800 dark:text-purple-300 text-sm mb-2",children:"Bank Transfer Instructions"}),s.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-400 space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Bank:"})," HBL (Habib Bank Limited)"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Account Title:"})," The Quarterdeck Sports Club"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Account #:"})," 1234-5678-9012-3456"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"IBAN:"})," PK00HABB1234567890123456"]})]}),s.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-3 italic",children:"After payment, please share your receipt with admin for verification. Your booking will be confirmed once payment is verified."})]}),s.jsx($,{onClick:Z9,disabled:Gc.isPending,className:"w-full mt-6 py-3 rounded-xl font-bold bg-sky-600 hover:bg-sky-500 shadow-lg","data-testid":"button-confirm-booking",children:Gc.isPending?"Processing...":"Confirm Booking"})]}):s.jsx("p",{className:"text-center text-muted-foreground italic text-sm",children:"Please select a time slot to calculate price."})]})})]})]}),l==="events"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:Uf,className:"rounded-full","data-testid":"button-events-back-home",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-events-title",children:"Events & Academy"}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Classes, tournaments and social events."})]}),s.jsx("div",{className:"w-16"})," "]}),ml.length>0?Hc.map(z=>{const ge=z.icon,ct=ml.filter(De=>hl[De.facilityId]===z.id);return ct.length===0?null:s.jsxs("section",{className:`mb-8 p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-md border-t-4 ${z.id==="padel-tennis"?"border-sky-500":z.id==="air-rifle-range"?"border-red-400":z.id==="squash"?"border-slate-400":z.id==="bridge-room"?"border-blue-500":"border-purple-400"}`,"data-testid":`section-events-${z.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 dark:border-slate-700 pb-3",children:[s.jsx(ge,{className:"w-8 h-8 text-[#2a4060] dark:text-sky-400"}),s.jsxs("h3",{className:"text-xl font-extrabold",children:[z.label," Programs"]}),z.status==="PLANNED"&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:ct.map(De=>s.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-5 rounded-xl border border-gray-100 dark:border-slate-600 flex flex-col justify-between","data-testid":`card-event-${De.id}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:`${e7(De.type)} text-[10px] font-bold px-2 py-0.5 rounded-full uppercase`,children:De.type}),s.jsx("span",{className:"text-sm font-semibold text-sky-700 dark:text-sky-400",children:Wa(De.price)})]}),s.jsx("h4",{className:"font-bold text-lg mb-1",children:De.title}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:[De.scheduleDay," at ",De.scheduleTime||"TBA"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:De.description}),De.instructor&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Instructor: ",De.instructor]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[De.enrolledCount||0," / ",De.capacity," enrolled"]})]}),s.jsx($,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>gl(De),disabled:pl.isPending||(De.enrolledCount||0)>=De.capacity,"data-testid":`button-register-${De.id}`,children:pl.isPending?"Registering...":(De.enrolledCount||0)>=De.capacity?"Full":"Register"})]},De.id))})]},z.id)}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ns,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Check back soon for upcoming events and academies."})]})]}),l==="leaderboard"&&s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:Uf,className:"rounded-full","data-testid":"button-leaderboard-back-home",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-leaderboard-title",children:ee==="cumulative"?"Global Arena Leaderboard":`${((rP=Dn.find(z=>z.id===ee))==null?void 0:rP.label)||""} Top Scorers`}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Top performers across all facilities."})]}),s.jsx("div",{className:"w-16"})," "]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[s.jsx("button",{onClick:()=>we("cumulative"),className:`px-4 py-2 rounded-full text-sm font-medium transition ${ee==="cumulative"?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":"button-leaderboard-cumulative",children:"All Facilities"}),eP.map(z=>{const ge=z.icon;return s.jsxs("button",{onClick:()=>we(z.id),className:`px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-2 ${ee===z.id?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-leaderboard-${z.id}`,children:[s.jsx(ge,{className:"w-4 h-4"}),z.label]},z.id)})]}),s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg overflow-hidden",children:tP.length>0?tP.map((z,ge)=>s.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-100 dark:border-slate-700 ${ge===0?"bg-amber-50 dark:bg-amber-900/20":ge===1?"bg-gray-50 dark:bg-slate-700/50":ge===2?"bg-orange-50 dark:bg-orange-900/10":""}`,"data-testid":`leaderboard-entry-${ge}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${ge===0?"bg-amber-400 text-white":ge===1?"bg-gray-400 text-white":ge===2?"bg-orange-400 text-white":"bg-gray-200 dark:bg-slate-600 text-muted-foreground"}`,children:ge+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:z.name}),s.jsx(ue,{variant:"outline",className:"text-xs",children:z.tier})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-extrabold text-xl text-sky-700 dark:text-sky-400",children:z.points}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"points"})]})]},ge)):s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Ns,{className:"w-16 h-16 mx-auto text-muted-foreground/30 mb-4"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"No Rankings Yet"}),s.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:ee==="cumulative"?"Once members start playing, top performers will appear here!":`Be the first to rank in ${((nP=eP.find(z=>z.id===ee))==null?void 0:nP.label)||"this facility"}!`}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Book a session and start climbing the leaderboard"})]})})]}),l==="profile"&&s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:Uf,className:"rounded-full","data-testid":"button-profile-back-home",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold","data-testid":"text-profile-title",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Your membership details and stats"})]}),s.jsx("div",{className:"w-16"})]}),s.jsx("div",{className:"bg-gradient-to-r from-[#2a4060] to-[#1e3048] p-6 rounded-2xl shadow-lg text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:r&&t?((sP=t.firstName)==null?void 0:sP.charAt(0))||"M":"G"}),s.jsxs("div",{className:"text-center md:text-left flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold mb-1",children:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest User"}),s.jsx("p",{className:"text-white/70 text-sm mb-3",children:r&&t?t.email:"Not logged in"}),s.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[s.jsxs(ue,{className:`${Pe.membershipTier==="FOUNDING"?"bg-amber-400 text-amber-900":Pe.membershipTier==="GOLD"?"bg-yellow-400 text-yellow-900":Pe.membershipTier==="SILVER"?"bg-gray-300 text-gray-800":"bg-slate-500 text-white"} font-bold px-3 py-1`,children:[Pe.membershipTier," MEMBER"]}),Pe.isActiveMember&&s.jsxs(ue,{className:"bg-green-500 text-white font-medium px-3 py-1",children:[s.jsx(Sr,{className:"w-3 h-3 mr-1"})," Active"]})]})]}),te&&s.jsxs("div",{className:"text-center md:text-right bg-white/10 px-4 py-3 rounded-xl",children:[s.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Member ID"}),s.jsx("p",{className:"font-mono font-bold text-lg",children:te.membershipNumber}),s.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Valid until ",new Date(te.validTo).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(KE,{className:"w-8 h-8 mx-auto text-amber-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Wa(Pe.creditBalance)}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Credit Balance"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(WE,{className:"w-8 h-8 mx-auto text-sky-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Pe.totalHoursPlayed}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Hours Played"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(ix,{className:"w-8 h-8 mx-auto text-emerald-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Pe.guestPasses}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Guest Passes"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(rx,{className:"w-8 h-8 mx-auto text-purple-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:He[Pe.membershipTier]||2}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Days Advance"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[s.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(Ns,{className:"w-4 h-4"})," Membership Benefits"]}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:s.jsxs("span",{className:"font-bold text-amber-600 dark:text-amber-400",children:[me[Pe.membershipTier]||0,"%"]})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Off-Peak Discount"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"10AM - 5PM weekdays"})]})]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center",children:s.jsx(wr,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Booking Window"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Book up to ",He[Pe.membershipTier]||2," days ahead"]})]})]}),Pe.guestPasses>0&&s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:s.jsx(ls,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Guest Passes"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Pe.guestPasses," passes remaining"]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[s.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(pm,{className:"w-4 h-4"})," Certifications & Waivers"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${Pe.isSafetyCertified?"bg-green-50 dark:bg-green-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[Pe.isSafetyCertified?s.jsx(Sr,{className:"w-5 h-5 text-green-600"}):s.jsx(zn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Air Rifle Safety"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Pe.isSafetyCertified?"Certified":"Required for range access"})]})]}),s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${Pe.hasSignedWaiver?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[Pe.hasSignedWaiver?s.jsx(_k,{className:"w-5 h-5 text-blue-600"}):s.jsx(zn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Liability Waiver"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Pe.hasSignedWaiver?"Signed":"Sign at reception"})]})]})]})]})]}),!r&&s.jsxs("div",{className:"bg-gradient-to-r from-sky-500 to-blue-600 p-6 rounded-xl text-white text-center",children:[s.jsx(ls,{className:"w-12 h-12 mx-auto mb-3 opacity-80"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Sign In to Access Full Features"}),s.jsx("p",{className:"text-white/80 text-sm mb-4",children:"View your bookings, manage memberships, and more."}),s.jsx(fe,{href:"/login",children:s.jsx($,{variant:"secondary","data-testid":"button-sign-in",children:"Sign In Now"})})]})]})]})]})}function Fae(){return Fr({title:"Book a Facility",description:"Book sports facilities at The Quarterdeck - Padel Tennis, Squash, Air Rifle Range and more. Easy online booking with real-time availability."}),s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-6xl",children:s.jsx(Lae,{})})})}const re=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ye("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));re.displayName="Card";const Ue=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ye("flex flex-col space-y-1.5 p-6",e),...t}));Ue.displayName="CardHeader";const Ke=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ke.displayName="CardTitle";const kt=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ye("text-sm text-muted-foreground",e),...t}));kt.displayName="CardDescription";const se=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ye("p-6 pt-0",e),...t}));se.displayName="CardContent";const kx=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ye("flex items-center p-6 pt-0",e),...t}));kx.displayName="CardFooter";var Ub="Tabs",[Uae]=Cn(Ub,[Ob]),XF=Ob(),[Bae,uC]=Uae(Ub),JF=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=bf(l),[f,h]=hs({prop:n,onChange:a,defaultProp:i??"",caller:Ub});return s.jsx(Bae,{scope:r,baseId:Wr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Me.div,{dir:d,"data-orientation":o,...u,ref:t})})});JF.displayName=Ub;var ZF="TabsList",e6=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=uC(ZF,r),o=XF(r);return s.jsx(KL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});e6.displayName=ZF;var t6="TabsTrigger",r6=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=uC(t6,r),l=XF(r),c=a6(o.baseId,n),u=i6(o.baseId,n),d=n===o.value;return s.jsx(HL,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ne(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ne(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});r6.displayName=t6;var n6="TabsContent",s6=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=uC(n6,r),c=a6(l.baseId,n),u=i6(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(cn,{present:a||d,children:({present:h})=>s.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});s6.displayName=n6;function a6(e,t){return`${e}-trigger-${t}`}function i6(e,t){return`${e}-content-${t}`}var Vae=JF,o6=e6,l6=r6,c6=s6;const sa=Vae,Rs=y.forwardRef(({className:e,...t},r)=>s.jsx(o6,{ref:r,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Rs.displayName=o6.displayName;const Bt=y.forwardRef(({className:e,...t},r)=>s.jsx(l6,{ref:r,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Bt.displayName=l6.displayName;const Vt=y.forwardRef(({className:e,...t},r)=>s.jsx(c6,{ref:r,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Vt.displayName=c6.displayName;function qae(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...b}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,w=y.useMemo(()=>b,Object.values(b));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,b=y.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,zae(a,...t)]}function zae(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Wae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dC=Wae.reduce((e,t)=>{const r=_b(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Kae(){return OD.useSyncExternalStore(Hae,()=>!0,()=>!1)}function Hae(){return()=>{}}var fC="Avatar",[Gae]=qae(fC),[Qae,u6]=Gae(fC),d6=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=y.useState("idle");return s.jsx(Qae,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(dC.span,{...n,ref:t})})});d6.displayName=fC;var f6="AvatarImage",h6=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=u6(f6,r),l=Yae(n,i),c=$r(u=>{a(u),o.onImageLoadingStatusChange(u)});return Mr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(dC.img,{...i,ref:t,src:n}):null});h6.displayName=f6;var m6="AvatarFallback",p6=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=u6(m6,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(dC.span,{...a,ref:t}):null});p6.displayName=m6;function mO(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Yae(e,{referrerPolicy:t,crossOrigin:r}){const n=Kae(),a=y.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=y.useState(()=>mO(i,e));return Mr(()=>{l(mO(i,e))},[i,e]),Mr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var g6=d6,v6=h6,x6=p6;const Pd=y.forwardRef(({className:e,...t},r)=>s.jsx(g6,{ref:r,className:ye(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Pd.displayName=g6.displayName;const Ed=y.forwardRef(({className:e,...t},r)=>s.jsx(v6,{ref:r,className:ye("aspect-square h-full w-full",e),...t}));Ed.displayName=v6.displayName;const Ad=y.forwardRef(({className:e,...t},r)=>s.jsx(x6,{ref:r,className:ye("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ad.displayName=x6.displayName;function Xae(){var S,k;Fr({title:"My Profile",description:"Manage your Quarterdeck account, view bookings, notifications, and membership status."});const{user:e,isLoading:t,isAuthenticated:r}=Ji(),n=FD(),i=new URLSearchParams(n).get("tab")||"account",o=y.useRef(null),{toast:l}=gt(),{data:c}=ce({queryKey:["/api/memberships/my"],enabled:r}),{data:u=[]}=ce({queryKey:["/api/bookings/my"],enabled:r}),{data:d=[],isLoading:f}=ce({queryKey:["/api/notifications"],enabled:r}),h=xe({mutationFn:async C=>{await ve("POST",`/api/notifications/${C}/read`)},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/notifications"]}),Z.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),p=xe({mutationFn:async()=>{await ve("POST","/api/notifications/read-all")},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/notifications"]}),Z.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),b=xe({mutationFn:async C=>{await ve("DELETE",`/api/notifications/${C}`)},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/notifications"]}),Z.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),m=xe({mutationFn:async C=>{const P=new FormData;P.append("photo",C);const E=await fetch("/api/user/profile-photo",{method:"POST",body:P,credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Failed to upload photo")}return E.json()},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/auth/user"]}),l({title:"Photo updated",description:"Your profile photo has been updated successfully."}),o.current&&(o.current.value="")},onError:C=>{l({title:"Upload failed",description:C.message,variant:"destructive"})}}),w=C=>{var E;const P=(E=C.target.files)==null?void 0:E[0];if(P){if(P.size>5*1024*1024){l({title:"File too large",description:"Maximum file size is 5MB",variant:"destructive"});return}m.mutate(P)}},x=new Date().toISOString().split("T")[0],{upcomingBookings:g,pastBookings:v}=y.useMemo(()=>{const C=u.filter(E=>E.date>=x).sort((E,O)=>E.date.localeCompare(O.date)),P=u.filter(E=>E.date<x).sort((E,O)=>O.date.localeCompare(E.date));return{upcomingBookings:C,pastBookings:P}},[u,x]),j=d.filter(C=>!C.isRead).length;if(t)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),s.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:s.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Profile"})})]}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(qe,{className:"h-12 w-64 mb-8"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(qe,{className:"h-64"}),s.jsx(qe,{className:"h-64"})]})]})]}),s.jsx(rr,{})]});if(!r)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center",children:s.jsx(re,{className:"max-w-md w-full mx-4",children:s.jsxs(se,{className:"pt-6 text-center",children:[s.jsx(ls,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view your profile and booking history."}),s.jsx(fe,{href:"/login",children:s.jsx($,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),s.jsx(rr,{})]});const N=C=>{switch(C){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},_=C=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl","data-testid":`booking-entry-${C.id}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:C.venue}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.date," at ",C.startTime," - ",C.endTime]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(ue,{variant:C.status==="CONFIRMED"?"default":"secondary",children:C.status}),s.jsx("div",{className:"text-sm font-semibold text-sky-600 mt-1",children:Wa(C.totalPrice)})]})]},C.id);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),s.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:s.jsx("h1",{className:"text-3xl md:text-4xl font-bold","data-testid":"text-profile-title",children:"My Profile"})})]}),s.jsx("div",{className:"qd-container py-6",children:s.jsxs(sa,{defaultValue:i,className:"space-y-6",children:[s.jsxs(Rs,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[s.jsxs(Bt,{value:"account","data-testid":"tab-account",children:[s.jsx(ls,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Account"]}),s.jsxs(Bt,{value:"bookings","data-testid":"tab-bookings",children:[s.jsx(wr,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Bookings"]}),s.jsxs(Bt,{value:"notifications",className:"relative","data-testid":"tab-notifications",children:[s.jsx(wd,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Notifications",j>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[16px] h-[16px] px-1 text-[10px] font-medium text-white bg-red-500 rounded-full",children:j})]}),s.jsxs(Bt,{value:"membership","data-testid":"tab-membership",children:[s.jsx(ti,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Membership"]})]}),s.jsxs(Vt,{value:"account",className:"space-y-6",children:[s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"w-5 h-5"}),"Account Information"]})}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs(Pd,{className:"w-24 h-24",children:[s.jsx(Ed,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`}),s.jsxs(Ad,{className:"text-2xl bg-primary/10 text-primary",children:[(S=e==null?void 0:e.firstName)==null?void 0:S[0],(k=e==null?void 0:e.lastName)==null?void 0:k[0]]})]}),s.jsx("button",{type:"button",onClick:()=>{var C;return(C=o.current)==null?void 0:C.click()},className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",disabled:m.isPending,"data-testid":"button-change-photo",children:m.isPending?s.jsx(Re,{className:"w-6 h-6 text-white animate-spin"}):s.jsx(E5,{className:"w-6 h-6 text-white"})}),s.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:w,className:"hidden","data-testid":"input-profile-photo"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.email}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on photo to change"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(ls,{className:"w-3 h-3"})," Name"]}),s.jsxs("p",{className:"font-semibold","data-testid":"text-user-name",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(hf,{className:"w-3 h-3"})," Email"]}),s.jsx("p",{className:"font-semibold text-sm truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"Not provided"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(jd,{className:"w-3 h-3"})," Credit Balance"]}),s.jsx("p",{className:"font-semibold text-sky-600","data-testid":"text-credit-balance",children:Wa((e==null?void 0:e.creditBalance)||0)})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Kt,{className:"w-3 h-3"})," Total Hours Played"]}),s.jsxs("p",{className:"font-semibold","data-testid":"text-hours-played",children:[(e==null?void 0:e.totalHoursPlayed)||0," hrs"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Go,{className:"w-3 h-3"})," Safety Certified"]}),s.jsx("p",{className:`font-semibold ${e!=null&&e.isSafetyCertified?"text-green-600":"text-red-600"}`,children:e!=null&&e.isSafetyCertified?"Yes":"No"})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(_k,{className:"w-3 h-3"})," Waiver Signed"]}),s.jsx("p",{className:`font-semibold ${e!=null&&e.hasSignedWaiver?"text-green-600":"text-red-600"}`,children:e!=null&&e.hasSignedWaiver?"Yes":"No"})]})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("a",{href:"/api/logout",children:s.jsx($,{variant:"outline",className:"rounded-full","data-testid":"button-logout",children:"Sign Out"})})})]}),s.jsxs(Vt,{value:"bookings",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Your Bookings"}),s.jsx(fe,{href:"/booking",children:s.jsx($,{size:"sm","data-testid":"button-new-booking",children:"New Booking"})})]}),s.jsxs(sa,{defaultValue:"upcoming",className:"space-y-4",children:[s.jsxs(Rs,{children:[s.jsxs(Bt,{value:"upcoming",className:"gap-2","data-testid":"tab-upcoming-bookings",children:[s.jsx(rx,{className:"w-4 h-4"}),"Upcoming (",g.length,")"]}),s.jsxs(Bt,{value:"past",className:"gap-2","data-testid":"tab-past-bookings",children:[s.jsx(BE,{className:"w-4 h-4"}),"Past (",v.length,")"]})]}),s.jsx(Vt,{value:"upcoming",className:"space-y-3",children:g.length>0?g.map(_):s.jsx(re,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(wr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming bookings"}),s.jsx(fe,{href:"/booking",children:s.jsx($,{"data-testid":"button-make-first-booking",children:"Book a Facility"})})]})})}),s.jsx(Vt,{value:"past",className:"space-y-3",children:v.length>0?v.map(_):s.jsx(re,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(BE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No past bookings"})]})})})]})]}),s.jsxs(Vt,{value:"notifications",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),j>0&&s.jsxs($,{variant:"outline",size:"sm",onClick:()=>p.mutate(),disabled:p.isPending,"data-testid":"button-mark-all-notifications-read",children:[p.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Mark all read"]})]}),f?s.jsxs("div",{className:"space-y-3",children:[s.jsx(qe,{className:"h-20"}),s.jsx(qe,{className:"h-20"}),s.jsx(qe,{className:"h-20"})]}):d.length===0?s.jsx(re,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(wd,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]})}):s.jsx("div",{className:"space-y-3",children:d.map(C=>s.jsx(re,{className:C.isRead?"":"ring-1 ring-primary/20","data-testid":`notification-card-${C.id}`,children:s.jsx(se,{className:"py-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${N(C.type)}`}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[C.link?s.jsx(fe,{href:C.link,children:s.jsx("p",{className:"font-semibold hover:underline cursor-pointer",children:C.title})}):s.jsx("p",{className:"font-semibold",children:C.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:C.createdAt?UL(new Date(C.createdAt),{addSuffix:!0}):""})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!C.isRead&&s.jsx($,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>h.mutate(C.id),disabled:h.isPending,"data-testid":`button-mark-notification-read-${C.id}`,children:h.isPending?s.jsx(Re,{className:"w-4 h-4 animate-spin"}):s.jsx(Sr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",className:"w-8 h-8 text-destructive",onClick:()=>b.mutate(C.id),disabled:b.isPending,"data-testid":`button-delete-notification-${C.id}`,children:b.isPending?s.jsx(Re,{className:"w-4 h-4 animate-spin"}):s.jsx(mr,{className:"w-4 h-4"})})]})]})})]})})},C.id))})]}),s.jsx(Vt,{value:"membership",className:"space-y-6",children:s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(ti,{className:"w-5 h-5"}),"Membership Details"]})}),s.jsx(se,{className:"space-y-4",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-slate-900 to-slate-700 dark:from-slate-700 dark:to-slate-600 rounded-xl text-white",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-xs uppercase tracking-wider opacity-70",children:"Member ID"}),s.jsx("span",{className:"font-mono font-bold","data-testid":"text-membership-number",children:c.membershipNumber})]}),s.jsxs("div",{className:"text-2xl font-bold mb-1",children:[c.tier," Tier"]}),s.jsxs("div",{className:"text-xs opacity-70",children:["Valid until: ",new Date(c.validTo).toLocaleDateString()]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),s.jsx(ue,{variant:c.status==="ACTIVE"?"default":"secondary",children:c.status})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Er,{className:"w-3 h-3"})," Guest Passes"]}),s.jsxs("p",{className:"font-semibold",children:[c.guestPasses," remaining"]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ti,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No active membership"}),s.jsx(fe,{href:"/membership",children:s.jsx($,{variant:"outline","data-testid":"button-view-membership-options",children:"View Membership Options"})})]})})]})})]})})]}),s.jsx(rr,{})]})}var Hp=e=>e.type==="checkbox",Ul=e=>e instanceof Date,as=e=>e==null;const y6=e=>typeof e=="object";var Kr=e=>!as(e)&&!Array.isArray(e)&&y6(e)&&!Ul(e),b6=e=>Kr(e)&&e.target?Hp(e.target)?e.target.checked:e.target.value:e,Jae=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,w6=(e,t)=>e.has(Jae(t)),Zae=e=>{const t=e.constructor&&e.constructor.prototype;return Kr(t)&&t.hasOwnProperty("isPrototypeOf")},hC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nn(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(hC&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Kr(e)&&Zae(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=nn(e[a]));return n}var Bb=e=>/^\w*$/.test(e),Ir=e=>e===void 0,mC=e=>Array.isArray(e)?e.filter(Boolean):[],pC=e=>mC(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,r)=>{if(!t||!Kr(e))return r;const n=(Bb(t)?[t]:pC(t)).reduce((a,i)=>as(a)?a:a[i],e);return Ir(n)||n===e?Ir(e[t])?r:e[t]:n},ws=e=>typeof e=="boolean",qn=e=>typeof e=="function",Gt=(e,t,r)=>{let n=-1;const a=Bb(t)?[t]:pC(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Kr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Cx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Sa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gC=D.createContext(null);gC.displayName="HookFormContext";const Vb=()=>D.useContext(gC),eie=e=>{const{children:t,...r}=e;return D.createElement(gC.Provider,{value:r},t)};var j6=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Sa.all&&(t._proxyFormState[o]=!n||Sa.all),r&&(r[o]=!0),e[o]}});return a};const vC=typeof window<"u"?D.useLayoutEffect:D.useEffect;function tie(e){const t=Vb(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=D.useState(r._formState),c=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vC(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),D.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),D.useMemo(()=>j6(o,r,c.current,!1),[o,r])}var ks=e=>typeof e=="string",_N=(e,t,r,n,a)=>ks(e)?(n&&t.watch.add(e),Te(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Te(r,i))):(n&&(t.watchAll=!0),r),SN=e=>as(e)||!y6(e);function ka(e,t,r=new WeakSet){if(SN(e)||SN(t))return Object.is(e,t);if(Ul(e)&&Ul(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ul(o)&&Ul(l)||Kr(o)&&Kr(l)||Array.isArray(o)&&Array.isArray(l)?!ka(o,l,r):!Object.is(o,l))return!1}}return!0}function rie(e){const t=Vb(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=D.useRef(a),u=D.useRef(l),d=D.useRef(void 0),f=D.useRef(r),h=D.useRef(n);u.current=l;const[p,b]=D.useState(()=>{const j=r._getWatch(n,c.current);return u.current?u.current(j):j}),m=D.useCallback(j=>{const N=_N(n,r._names,j||r._formValues,!1,c.current);return u.current?u.current(N):N},[r._formValues,r._names,n]),w=D.useCallback(j=>{if(!i){const N=_N(n,r._names,j||r._formValues,!1,c.current);if(u.current){const _=u.current(N);ka(_,d.current)||(b(_),d.current=_)}else b(N)}},[r._formValues,r._names,i,n]);vC(()=>((f.current!==r||!ka(h.current,n))&&(f.current=r,h.current=n,w()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:j=>{w(j.values)}})),[r,o,n,w]),D.useEffect(()=>r._removeUnmounted());const x=f.current!==r,g=h.current,v=D.useMemo(()=>{if(i)return null;const j=!x&&!ka(g,n);return x||j?m():null},[i,x,n,g,m]);return v!==null?v:p}function nie(e){const t=Vb(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=w6(a._names.array,r),u=D.useMemo(()=>Te(a._formValues,r,Te(a._defaultValues,r,o)),[a,r,o]),d=rie({control:a,name:r,defaultValue:u,exact:l}),f=tie({control:a,name:r,exact:l}),h=D.useRef(e),p=D.useRef(void 0),b=D.useRef(a.register(r,{...e.rules,value:d,...ws(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=D.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Te(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Te(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Te(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Te(f.validatingFields,r)},error:{enumerable:!0,get:()=>Te(f.errors,r)}}),[f,r]),w=D.useCallback(j=>b.current.onChange({target:{value:b6(j),name:r},type:Cx.CHANGE}),[r]),x=D.useCallback(()=>b.current.onBlur({target:{value:Te(a._formValues,r),name:r},type:Cx.BLUR}),[r,a._formValues]),g=D.useCallback(j=>{const N=Te(a._fields,r);N&&N._f&&j&&(N._f.ref={focus:()=>qn(j.focus)&&j.focus(),select:()=>qn(j.select)&&j.select(),setCustomValidity:_=>qn(j.setCustomValidity)&&j.setCustomValidity(_),reportValidity:()=>qn(j.reportValidity)&&j.reportValidity()})},[a._fields,r]),v=D.useMemo(()=>({name:r,value:d,...ws(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:w,onBlur:x,ref:g}),[r,n,f.disabled,w,x,g,d]);return D.useEffect(()=>{const j=a._options.shouldUnregister||i,N=p.current;N&&N!==r&&!c&&a.unregister(N),a.register(r,{...h.current.rules,...ws(h.current.disabled)?{disabled:h.current.disabled}:{}});const _=(S,k)=>{const C=Te(a._fields,S);C&&C._f&&(C._f.mount=k)};if(_(r,!0),j){const S=nn(Te(a._options.defaultValues,r,h.current.defaultValue));Gt(a._defaultValues,r,S),Ir(Te(a._formValues,r))&&Gt(a._formValues,r,S)}return!c&&a.register(r),p.current=r,()=>{(c?j&&!a._state.action:j)?a.unregister(r):_(r,!1)}},[r,a,c,i]),D.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),D.useMemo(()=>({field:v,formState:f,fieldState:m}),[v,f,m])}const sie=e=>e.render(nie(e));var N6=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Fh=e=>Array.isArray(e)?e:[e],pO=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function _6(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&Kr(a)&&i){const o=_6(a,i);Kr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var Un=e=>Kr(e)&&!Object.keys(e).length,xC=e=>e.type==="file",Px=e=>{if(!hC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},S6=e=>e.type==="select-multiple",yC=e=>e.type==="radio",aie=e=>yC(e)||Hp(e),rj=e=>Px(e)&&e.isConnected;function iie(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ir(e)?n++:e[t[n++]];return e}function oie(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ir(e[t]))return!1;return!0}function Ur(e,t){const r=Array.isArray(t)?t:Bb(t)?[t]:pC(t),n=r.length===1?e:iie(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Kr(n)&&Un(n)||Array.isArray(n)&&oie(n))&&Ur(e,r.slice(0,-1)),e}var lie=e=>{for(const t in e)if(qn(e[t]))return!0;return!1};function k6(e){return Array.isArray(e)||Kr(e)&&!lie(e)}function kN(e,t={}){for(const r in e){const n=e[r];k6(n)?(t[r]=Array.isArray(n)?[]:{},kN(n,t[r])):Ir(n)||(t[r]=!0)}return t}function vu(e,t,r){r||(r=kN(t));for(const n in e){const a=e[n];if(k6(a))Ir(t)||SN(r[n])?r[n]=kN(a,Array.isArray(a)?[]:{}):vu(a,as(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!ka(a,i)}}return r}const gO={value:!1,isValid:!1},vO={value:!0,isValid:!0};var C6=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ir(e[0].attributes.value)?Ir(e[0].value)||e[0].value===""?vO:{value:e[0].value,isValid:!0}:vO:gO}return gO},P6=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ir(e)?e:t?e===""?NaN:e&&+e:r&&ks(e)?new Date(e):n?n(e):e;const xO={isValid:!1,value:null};var E6=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,xO):xO;function yO(e){const t=e.ref;return xC(t)?t.files:yC(t)?E6(e.refs).value:S6(t)?[...t.selectedOptions].map(({value:r})=>r):Hp(t)?C6(e.refs).value:P6(Ir(t.value)?e.ref.value:t.value,e)}var cie=(e,t,r,n)=>{const a={};for(const i of e){const o=Te(t,i);o&&Gt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Ex=e=>e instanceof RegExp,eh=e=>Ir(e)?e:Ex(e)?e.source:Kr(e)?Ex(e.value)?e.value.source:e.value:e,bO=e=>({isOnSubmit:!e||e===Sa.onSubmit,isOnBlur:e===Sa.onBlur,isOnChange:e===Sa.onChange,isOnAll:e===Sa.all,isOnTouch:e===Sa.onTouched});const wO="AsyncFunction";var uie=e=>!!e&&!!e.validate&&!!(qn(e.validate)&&e.validate.constructor.name===wO||Kr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===wO)),die=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),jO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Uh=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Te(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Uh(l,t))break}else if(Kr(l)&&Uh(l,t))break}}};function NO(e,t,r){const n=Te(e,r);if(n||Bb(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Te(t,i),l=Te(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var fie=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Un(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Sa.all))},hie=(e,t,r)=>!e||!t||e===t||Fh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),mie=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,pie=(e,t)=>!mC(Te(e,t)).length&&Ur(e,t),gie=(e,t,r)=>{const n=Fh(Te(e,r));return Gt(n,"root",t[r]),Gt(e,r,n),e};function _O(e,t,r="validate"){if(ks(e)||Array.isArray(e)&&e.every(ks)||ws(e)&&!e)return{type:r,message:ks(e)?e:"",ref:t}}var cu=e=>Kr(e)&&!Ex(e)?e:{value:e,message:""},SO=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:b,name:m,valueAsNumber:w,mount:x}=e._f,g=Te(r,m);if(!x||t.has(m))return{};const v=l?l[0]:o,j=O=>{a&&v.reportValidity&&(v.setCustomValidity(ws(O)?"":O||""),v.reportValidity())},N={},_=yC(o),S=Hp(o),k=_||S,C=(w||xC(o))&&Ir(o.value)&&Ir(g)||Px(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,P=N6.bind(null,m,n,N),E=(O,I,T,M=gi.maxLength,V=gi.minLength)=>{const K=O?I:T;N[m]={type:O?M:V,message:K,ref:o,...P(O?M:V,K)}};if(i?!Array.isArray(g)||!g.length:c&&(!k&&(C||as(g))||ws(g)&&!g||S&&!C6(l).isValid||_&&!E6(l).isValid)){const{value:O,message:I}=ks(c)?{value:!!c,message:c}:cu(c);if(O&&(N[m]={type:gi.required,message:I,ref:v,...P(gi.required,I)},!n))return j(I),N}if(!C&&(!as(f)||!as(h))){let O,I;const T=cu(h),M=cu(f);if(!as(g)&&!isNaN(g)){const V=o.valueAsNumber||g&&+g;as(T.value)||(O=V>T.value),as(M.value)||(I=V<M.value)}else{const V=o.valueAsDate||new Date(g),K=G=>new Date(new Date().toDateString()+" "+G),A=o.type=="time",R=o.type=="week";ks(T.value)&&g&&(O=A?K(g)>K(T.value):R?g>T.value:V>new Date(T.value)),ks(M.value)&&g&&(I=A?K(g)<K(M.value):R?g<M.value:V<new Date(M.value))}if((O||I)&&(E(!!O,T.message,M.message,gi.max,gi.min),!n))return j(N[m].message),N}if((u||d)&&!C&&(ks(g)||i&&Array.isArray(g))){const O=cu(u),I=cu(d),T=!as(O.value)&&g.length>+O.value,M=!as(I.value)&&g.length<+I.value;if((T||M)&&(E(T,O.message,I.message),!n))return j(N[m].message),N}if(p&&!C&&ks(g)){const{value:O,message:I}=cu(p);if(Ex(O)&&!g.match(O)&&(N[m]={type:gi.pattern,message:I,ref:o,...P(gi.pattern,I)},!n))return j(I),N}if(b){if(qn(b)){const O=await b(g,r),I=_O(O,v);if(I&&(N[m]={...I,...P(gi.validate,I.message)},!n))return j(I.message),N}else if(Kr(b)){let O={};for(const I in b){if(!Un(O)&&!n)break;const T=_O(await b[I](g,r),v,I);T&&(O={...T,...P(I,T.message)},j(T.message),n&&(N[m]=O))}if(!Un(O)&&(N[m]={ref:v,...O},!n))return N}}return j(!0),N};const vie={mode:Sa.onSubmit,reValidateMode:Sa.onChange,shouldFocusError:!0};function xie(e={}){let t={...vie,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:qn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Kr(t.defaultValues)||Kr(t.values)?nn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:nn(a),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:pO(),state:pO()},b=t.criteriaMode===Sa.all,m=q=>J=>{clearTimeout(u),u=setTimeout(q,J)},w=async q=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||q)){let J;t.resolver?(J=Un((await k()).errors),x()):J=await P(n,!0),J!==r.isValid&&p.state.next({isValid:J})}},x=(q,J)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((q||Array.from(l.mount)).forEach(ne=>{ne&&(J?Gt(r.validatingFields,ne,J):Ur(r.validatingFields,ne))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Un(r.validatingFields)}))},g=(q,J=[],ne,Ae,Ce=!0,be=!0)=>{if(Ae&&ne&&!t.disabled){if(o.action=!0,be&&Array.isArray(Te(n,q))){const We=ne(Te(n,q),Ae.argA,Ae.argB);Ce&&Gt(n,q,We)}if(be&&Array.isArray(Te(r.errors,q))){const We=ne(Te(r.errors,q),Ae.argA,Ae.argB);Ce&&Gt(r.errors,q,We),pie(r.errors,q)}if((f.touchedFields||h.touchedFields)&&be&&Array.isArray(Te(r.touchedFields,q))){const We=ne(Te(r.touchedFields,q),Ae.argA,Ae.argB);Ce&&Gt(r.touchedFields,q,We)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=vu(a,i)),p.state.next({name:q,isDirty:O(q,J),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Gt(i,q,J)},v=(q,J)=>{Gt(r.errors,q,J),p.state.next({errors:r.errors})},j=q=>{r.errors=q,p.state.next({errors:r.errors,isValid:!1})},N=(q,J,ne,Ae)=>{const Ce=Te(n,q);if(Ce){const be=Te(i,q,Ir(ne)?Te(a,q):ne);Ir(be)||Ae&&Ae.defaultChecked||J?Gt(i,q,J?be:yO(Ce._f)):M(q,be),o.mount&&!o.action&&w()}},_=(q,J,ne,Ae,Ce)=>{let be=!1,We=!1;const At={name:q};if(!t.disabled){if(!ne||Ae){(f.isDirty||h.isDirty)&&(We=r.isDirty,r.isDirty=At.isDirty=O(),be=We!==At.isDirty);const Ot=ka(Te(a,q),J);We=!!Te(r.dirtyFields,q),Ot?Ur(r.dirtyFields,q):Gt(r.dirtyFields,q,!0),At.dirtyFields=r.dirtyFields,be=be||(f.dirtyFields||h.dirtyFields)&&We!==!Ot}if(ne){const Ot=Te(r.touchedFields,q);Ot||(Gt(r.touchedFields,q,ne),At.touchedFields=r.touchedFields,be=be||(f.touchedFields||h.touchedFields)&&Ot!==ne)}be&&Ce&&p.state.next(At)}return be?At:{}},S=(q,J,ne,Ae)=>{const Ce=Te(r.errors,q),be=(f.isValid||h.isValid)&&ws(J)&&r.isValid!==J;if(t.delayError&&ne?(c=m(()=>v(q,ne)),c(t.delayError)):(clearTimeout(u),c=null,ne?Gt(r.errors,q,ne):Ur(r.errors,q)),(ne?!ka(Ce,ne):Ce)||!Un(Ae)||be){const We={...Ae,...be&&ws(J)?{isValid:J}:{},errors:r.errors,name:q};r={...r,...We},p.state.next(We)}},k=async q=>(x(q,!0),await t.resolver(i,t.context,cie(q||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async q=>{const{errors:J}=await k(q);if(x(q),q)for(const ne of q){const Ae=Te(J,ne);Ae?Gt(r.errors,ne,Ae):Ur(r.errors,ne)}else r.errors=J;return J},P=async(q,J,ne={valid:!0})=>{for(const Ae in q){const Ce=q[Ae];if(Ce){const{_f:be,...We}=Ce;if(be){const At=l.array.has(be.name),Ot=Ce._f&&uie(Ce._f);Ot&&f.validatingFields&&x([be.name],!0);const jr=await SO(Ce,l.disabled,i,b,t.shouldUseNativeValidation&&!J,At);if(Ot&&f.validatingFields&&x([be.name]),jr[be.name]&&(ne.valid=!1,J))break;!J&&(Te(jr,be.name)?At?gie(r.errors,jr,be.name):Gt(r.errors,be.name,jr[be.name]):Ur(r.errors,be.name))}!Un(We)&&await P(We,J,ne)}}return ne.valid},E=()=>{for(const q of l.unMount){const J=Te(n,q);J&&(J._f.refs?J._f.refs.every(ne=>!rj(ne)):!rj(J._f.ref))&&we(q)}l.unMount=new Set},O=(q,J)=>!t.disabled&&(q&&J&&Gt(i,q,J),!ka(Y(),a)),I=(q,J,ne)=>_N(q,l,{...o.mount?i:Ir(J)?a:ks(q)?{[q]:J}:J},ne,J),T=q=>mC(Te(o.mount?i:a,q,t.shouldUnregister?Te(a,q,[]):[])),M=(q,J,ne={})=>{const Ae=Te(n,q);let Ce=J;if(Ae){const be=Ae._f;be&&(!be.disabled&&Gt(i,q,P6(J,be)),Ce=Px(be.ref)&&as(J)?"":J,S6(be.ref)?[...be.ref.options].forEach(We=>We.selected=Ce.includes(We.value)):be.refs?Hp(be.ref)?be.refs.forEach(We=>{(!We.defaultChecked||!We.disabled)&&(Array.isArray(Ce)?We.checked=!!Ce.find(At=>At===We.value):We.checked=Ce===We.value||!!Ce)}):be.refs.forEach(We=>We.checked=We.value===Ce):xC(be.ref)?be.ref.value="":(be.ref.value=Ce,be.ref.type||p.state.next({name:q,values:nn(i)})))}(ne.shouldDirty||ne.shouldTouch)&&_(q,Ce,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&G(q)},V=(q,J,ne)=>{for(const Ae in J){if(!J.hasOwnProperty(Ae))return;const Ce=J[Ae],be=q+"."+Ae,We=Te(n,be);(l.array.has(q)||Kr(Ce)||We&&!We._f)&&!Ul(Ce)?V(be,Ce,ne):M(be,Ce,ne)}},K=(q,J,ne={})=>{const Ae=Te(n,q),Ce=l.array.has(q),be=nn(J);Gt(i,q,be),Ce?(p.array.next({name:q,values:nn(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&ne.shouldDirty&&p.state.next({name:q,dirtyFields:vu(a,i),isDirty:O(q,be)})):Ae&&!Ae._f&&!as(be)?V(q,be,ne):M(q,be,ne),jO(q,l)&&p.state.next({...r,name:q}),p.state.next({name:o.mount?q:void 0,values:nn(i)})},A=async q=>{o.mount=!0;const J=q.target;let ne=J.name,Ae=!0;const Ce=Te(n,ne),be=Ot=>{Ae=Number.isNaN(Ot)||Ul(Ot)&&isNaN(Ot.getTime())||ka(Ot,Te(i,ne,Ot))},We=bO(t.mode),At=bO(t.reValidateMode);if(Ce){let Ot,jr;const da=J.type?yO(Ce._f):b6(q),rs=q.type===Cx.BLUR||q.type===Cx.FOCUS_OUT,Va=!die(Ce._f)&&!t.resolver&&!Te(r.errors,ne)&&!Ce._f.deps||mie(rs,Te(r.touchedFields,ne),r.isSubmitted,At,We),hl=jO(ne,l,rs);Gt(i,ne,da),rs?(!J||!J.readOnly)&&(Ce._f.onBlur&&Ce._f.onBlur(q),c&&c(0)):Ce._f.onChange&&Ce._f.onChange(q);const Dn=_(ne,da,rs),Hc=!Un(Dn)||hl;if(!rs&&p.state.next({name:ne,type:q.type,values:nn(i)}),Va)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?rs&&w():rs||w()),Hc&&p.state.next({name:ne,...hl?{}:Dn});if(!rs&&hl&&p.state.next({...r}),t.resolver){const{errors:ml}=await k([ne]);if(x([ne]),be(da),Ae){const pl=NO(r.errors,n,ne),gl=NO(ml,n,pl.name||ne);Ot=gl.error,ne=gl.name,jr=Un(ml)}}else x([ne],!0),Ot=(await SO(Ce,l.disabled,i,b,t.shouldUseNativeValidation))[ne],x([ne]),be(da),Ae&&(Ot?jr=!1:(f.isValid||h.isValid)&&(jr=await P(n,!0)));Ae&&(Ce._f.deps&&(!Array.isArray(Ce._f.deps)||Ce._f.deps.length>0)&&G(Ce._f.deps),S(ne,jr,Ot,Dn))}},R=(q,J)=>{if(Te(r.errors,J)&&q.focus)return q.focus(),1},G=async(q,J={})=>{let ne,Ae;const Ce=Fh(q);if(t.resolver){const be=await C(Ir(q)?q:Ce);ne=Un(be),Ae=q?!Ce.some(We=>Te(be,We)):ne}else q?(Ae=(await Promise.all(Ce.map(async be=>{const We=Te(n,be);return await P(We&&We._f?{[be]:We}:We)}))).every(Boolean),!(!Ae&&!r.isValid)&&w()):Ae=ne=await P(n);return p.state.next({...!ks(q)||(f.isValid||h.isValid)&&ne!==r.isValid?{}:{name:q},...t.resolver||!q?{isValid:ne}:{},errors:r.errors}),J.shouldFocus&&!Ae&&Uh(n,R,q?Ce:l.mount),Ae},Y=(q,J)=>{let ne={...o.mount?i:a};return J&&(ne=_6(J.dirtyFields?r.dirtyFields:r.touchedFields,ne)),Ir(q)?ne:ks(q)?Te(ne,q):q.map(Ae=>Te(ne,Ae))},F=(q,J)=>({invalid:!!Te((J||r).errors,q),isDirty:!!Te((J||r).dirtyFields,q),error:Te((J||r).errors,q),isValidating:!!Te(r.validatingFields,q),isTouched:!!Te((J||r).touchedFields,q)}),X=q=>{q&&Fh(q).forEach(J=>Ur(r.errors,J)),p.state.next({errors:q?r.errors:{}})},le=(q,J,ne)=>{const Ae=(Te(n,q,{_f:{}})._f||{}).ref,Ce=Te(r.errors,q)||{},{ref:be,message:We,type:At,...Ot}=Ce;Gt(r.errors,q,{...Ot,...J,ref:Ae}),p.state.next({name:q,errors:r.errors,isValid:!1}),ne&&ne.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},he=(q,J)=>qn(q)?p.state.subscribe({next:ne=>"values"in ne&&q(I(void 0,J),ne)}):I(q,J,!0),je=q=>p.state.subscribe({next:J=>{hie(q.name,J.name,q.exact)&&fie(J,q.formState||f,sr,q.reRenderRoot)&&q.callback({values:{...i},...r,...J,defaultValues:a})}}).unsubscribe,ee=q=>(o.mount=!0,h={...h,...q.formState},je({...q,formState:{...d,...q.formState}})),we=(q,J={})=>{for(const ne of q?Fh(q):l.mount)l.mount.delete(ne),l.array.delete(ne),J.keepValue||(Ur(n,ne),Ur(i,ne)),!J.keepError&&Ur(r.errors,ne),!J.keepDirty&&Ur(r.dirtyFields,ne),!J.keepTouched&&Ur(r.touchedFields,ne),!J.keepIsValidating&&Ur(r.validatingFields,ne),!t.shouldUnregister&&!J.keepDefaultValue&&Ur(a,ne);p.state.next({values:nn(i)}),p.state.next({...r,...J.keepDirty?{isDirty:O()}:{}}),!J.keepIsValid&&w()},ae=({disabled:q,name:J})=>{(ws(q)&&o.mount||q||l.disabled.has(J))&&(q?l.disabled.add(J):l.disabled.delete(J))},L=(q,J={})=>{let ne=Te(n,q);const Ae=ws(J.disabled)||ws(t.disabled);return Gt(n,q,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:q}},name:q,mount:!0,...J}}),l.mount.add(q),ne?ae({disabled:ws(J.disabled)?J.disabled:t.disabled,name:q}):N(q,!0,J.value),{...Ae?{disabled:J.disabled||t.disabled}:{},...t.progressive?{required:!!J.required,min:eh(J.min),max:eh(J.max),minLength:eh(J.minLength),maxLength:eh(J.maxLength),pattern:eh(J.pattern)}:{},name:q,onChange:A,onBlur:A,ref:Ce=>{if(Ce){L(q,J),ne=Te(n,q);const be=Ir(Ce.value)&&Ce.querySelectorAll&&Ce.querySelectorAll("input,select,textarea")[0]||Ce,We=aie(be),At=ne._f.refs||[];if(We?At.find(Ot=>Ot===be):be===ne._f.ref)return;Gt(n,q,{_f:{...ne._f,...We?{refs:[...At.filter(rj),be,...Array.isArray(Te(a,q))?[{}]:[]],ref:{type:be.type,name:q}}:{ref:be}}}),N(q,!1,void 0,be)}else ne=Te(n,q,{}),ne._f&&(ne._f.mount=!1),(t.shouldUnregister||J.shouldUnregister)&&!(w6(l.array,q)&&o.action)&&l.unMount.add(q)}}},te=()=>t.shouldFocusError&&Uh(n,R,l.mount),H=q=>{ws(q)&&(p.state.next({disabled:q}),Uh(n,(J,ne)=>{const Ae=Te(n,ne);Ae&&(J.disabled=Ae._f.disabled||q,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(Ce=>{Ce.disabled=Ae._f.disabled||q}))},0,!1))},U=(q,J)=>async ne=>{let Ae;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let Ce=nn(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:be,values:We}=await k();x(),r.errors=be,Ce=nn(We)}else await P(n);if(l.disabled.size)for(const be of l.disabled)Ur(Ce,be);if(Ur(r.errors,"root"),Un(r.errors)){p.state.next({errors:{}});try{await q(Ce,ne)}catch(be){Ae=be}}else J&&await J({...r.errors},ne),te(),setTimeout(te);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Un(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},me=(q,J={})=>{Te(n,q)&&(Ir(J.defaultValue)?K(q,nn(Te(a,q))):(K(q,J.defaultValue),Gt(a,q,nn(J.defaultValue))),J.keepTouched||Ur(r.touchedFields,q),J.keepDirty||(Ur(r.dirtyFields,q),r.isDirty=J.defaultValue?O(q,nn(Te(a,q))):O()),J.keepError||(Ur(r.errors,q),f.isValid&&w()),p.state.next({...r}))},He=(q,J={})=>{const ne=q?nn(q):a,Ae=nn(ne),Ce=Un(q),be=Ce?a:Ae;if(J.keepDefaultValues||(a=ne),!J.keepValues){if(J.keepDirtyValues){const We=new Set([...l.mount,...Object.keys(vu(a,i))]);for(const At of Array.from(We))Te(r.dirtyFields,At)?Gt(be,At,Te(i,At)):K(At,Te(be,At))}else{if(hC&&Ir(q))for(const We of l.mount){const At=Te(n,We);if(At&&At._f){const Ot=Array.isArray(At._f.refs)?At._f.refs[0]:At._f.ref;if(Px(Ot)){const jr=Ot.closest("form");if(jr){jr.reset();break}}}}if(J.keepFieldsRef)for(const We of l.mount)K(We,Te(be,We));else n={}}i=t.shouldUnregister?J.keepDefaultValues?nn(a):{}:nn(be),p.array.next({values:{...be}}),p.state.next({values:{...be}})}l={mount:J.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!J.keepIsValid||!!J.keepDirtyValues||!t.shouldUnregister&&!Un(be),o.watch=!!t.shouldUnregister,o.keepIsValid=!!J.keepIsValid,o.action=!1,J.keepErrors||(r.errors={}),p.state.next({submitCount:J.keepSubmitCount?r.submitCount:0,isDirty:Ce?!1:J.keepDirty?r.isDirty:!!(J.keepDefaultValues&&!ka(q,a)),isSubmitted:J.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ce?{}:J.keepDirtyValues?J.keepDefaultValues&&i?vu(a,i):r.dirtyFields:J.keepDefaultValues&&q?vu(a,q):J.keepDirty?r.dirtyFields:{},touchedFields:J.keepTouched?r.touchedFields:{},errors:J.keepErrors?r.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Pe=(q,J)=>He(qn(q)?q(i):q,{...t.resetOptions,...J}),ht=(q,J={})=>{const ne=Te(n,q),Ae=ne&&ne._f;if(Ae){const Ce=Ae.refs?Ae.refs[0]:Ae.ref;Ce.focus&&setTimeout(()=>{Ce.focus(),J.shouldSelect&&qn(Ce.select)&&Ce.select()})}},sr=q=>{r={...r,...q}},or={control:{register:L,unregister:we,getFieldState:F,handleSubmit:U,setError:le,_subscribe:je,_runSchema:k,_updateIsValidating:x,_focusError:te,_getWatch:I,_getDirty:O,_setValid:w,_setFieldArray:g,_setDisabledField:ae,_setErrors:j,_getFieldArray:T,_reset:He,_resetDefaultValues:()=>qn(t.defaultValues)&&t.defaultValues().then(q=>{Pe(q,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:H,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(q){o=q},get _defaultValues(){return a},get _names(){return l},set _names(q){l=q},get _formState(){return r},get _options(){return t},set _options(q){t={...t,...q}}},subscribe:ee,trigger:G,register:L,handleSubmit:U,watch:he,setValue:K,getValues:Y,reset:Pe,resetField:me,clearErrors:X,unregister:we,setError:le,setFocus:ht,getFieldState:F};return{...or,formControl:or}}function $s(e={}){const t=D.useRef(void 0),r=D.useRef(void 0),[n,a]=D.useState({isDirty:!1,isValidating:!1,isLoading:qn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:qn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!qn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=xie(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,vC(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),D.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),D.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),D.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),D.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),D.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),D.useEffect(()=>{var o;e.values&&!ka(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),D.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=j6(n,i),t.current}const kO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Te(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},A6=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?kO(n.ref,r,e):n.refs&&n.refs.forEach(a=>kO(a,r,e))}},yie=(e,t)=>{t.shouldUseNativeValidation&&A6(e,t);const r={};for(const n in e){const a=Te(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(bie(t.names||Object.keys(e),n)){const o=Object.assign({},Te(r,n));Gt(o,"root",i),Gt(r,n,o)}else Gt(r,n,i)}return r},bie=(e,t)=>e.some(r=>r.startsWith(t+"."));var wie=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=N6(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Ms=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&A6({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:yie(wie(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Lt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Lt||(Lt={}));var CO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(CO||(CO={}));const ze=Lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mo=e=>{switch(typeof e){case"undefined":return ze.undefined;case"string":return ze.string;case"number":return Number.isNaN(e)?ze.nan:ze.number;case"boolean":return ze.boolean;case"function":return ze.function;case"bigint":return ze.bigint;case"symbol":return ze.symbol;case"object":return Array.isArray(e)?ze.array:e===null?ze.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ze.promise:typeof Map<"u"&&e instanceof Map?ze.map:typeof Set<"u"&&e instanceof Set?ze.set:typeof Date<"u"&&e instanceof Date?ze.date:ze.object;default:return ze.unknown}},Se=Lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Wi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Wi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Wi.create=e=>new Wi(e);const CN=(e,t)=>{let r;switch(e.code){case Se.invalid_type:e.received===ze.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Lt.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:r=`Unrecognized key(s) in object: ${Lt.joinValues(e.keys,", ")}`;break;case Se.invalid_union:r="Invalid input";break;case Se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Lt.joinValues(e.options)}`;break;case Se.invalid_enum_value:r=`Invalid enum value. Expected ${Lt.joinValues(e.options)}, received '${e.received}'`;break;case Se.invalid_arguments:r="Invalid function arguments";break;case Se.invalid_return_type:r="Invalid function return type";break;case Se.invalid_date:r="Invalid date";break;case Se.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Lt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Se.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Se.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Se.custom:r="Invalid input";break;case Se.invalid_intersection_types:r="Intersection results could not be merged";break;case Se.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Se.not_finite:r="Number must be finite";break;default:r=t.defaultError,Lt.assertNever(e)}return{message:r}};let jie=CN;function Nie(){return jie}const _ie=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function $e(e,t){const r=Nie(),n=_ie({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===CN?void 0:CN].filter(a=>!!a)});e.common.issues.push(n)}class Ds{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return mt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Ds.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return mt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const mt=Object.freeze({status:"aborted"}),wh=e=>({status:"dirty",value:e}),oa=e=>({status:"valid",value:e}),PO=e=>e.status==="aborted",EO=e=>e.status==="dirty",Od=e=>e.status==="valid",Ax=e=>typeof Promise<"u"&&e instanceof Promise;var Ge;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ge||(Ge={}));class Zo{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const AO=(e,t)=>{if(Od(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Wi(e.common.issues);return this._error=r,this._error}}};function wt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Dt{get description(){return this._def.description}_getType(t){return mo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:mo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ds,ctx:{common:t.parent.common,data:t.data,parsedType:mo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ax(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mo(t)},a=this._parseSync({data:t,path:n.path,parent:n});return AO(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Od(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Od(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mo(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Ax(a)?a:Promise.resolve(a));return AO(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Se.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Rd({schema:this,typeName:pt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Vo.create(this,this._def)}nullable(){return $d.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ni.create(this)}promise(){return Rx.create(this,this._def)}or(t){return Tx.create([this,t],this._def)}and(t){return Ix.create(this,t,this._def)}transform(t){return new Rd({...wt(this._def),schema:this,typeName:pt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new AN({...wt(this._def),innerType:this,defaultValue:r,typeName:pt.ZodDefault})}brand(){return new Hie({typeName:pt.ZodBranded,type:this,...wt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ON({...wt(this._def),innerType:this,catchValue:r,typeName:pt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return bC.create(this,t)}readonly(){return TN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Sie=/^c[^\s-]{8,}$/i,kie=/^[0-9a-z]+$/,Cie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Pie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Eie=/^[a-z0-9_-]{21}$/i,Aie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Oie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Tie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Iie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let nj;const Rie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$ie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Mie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Die=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Lie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Fie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,O6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Uie=new RegExp(`^${O6}$`);function T6(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Bie(e){return new RegExp(`^${T6(e)}$`)}function Vie(e){let t=`${O6}T${T6(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function qie(e,t){return!!((t==="v4"||!t)&&Rie.test(e)||(t==="v6"||!t)&&Mie.test(e))}function zie(e,t){if(!Aie.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Wie(e,t){return!!((t==="v4"||!t)&&$ie.test(e)||(t==="v6"||!t)&&Die.test(e))}class Ei extends Dt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ze.string){const i=this._getOrReturnCtx(t);return $e(i,{code:Se.invalid_type,expected:ze.string,received:i.parsedType}),mt}const n=new Ds;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),$e(a,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),$e(a,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?$e(a,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&$e(a,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Tie.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"email",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")nj||(nj=new RegExp(Iie,"u")),nj.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"emoji",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Pie.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"uuid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Eie.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"nanoid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Sie.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"cuid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")kie.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"cuid2",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Cie.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"ulid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),$e(a,{validation:"url",code:Se.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"regex",code:Se.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),$e(a,{code:Se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),$e(a,{code:Se.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),$e(a,{code:Se.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Vie(i).test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{code:Se.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Uie.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{code:Se.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Bie(i).test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{code:Se.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Oie.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"duration",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?qie(t.data,i.version)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"ip",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?zie(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"jwt",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Wie(t.data,i.version)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"cidr",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Lie.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"base64",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Fie.test(t.data)||(a=this._getOrReturnCtx(t,a),$e(a,{validation:"base64url",code:Se.invalid_string,message:i.message}),n.dirty()):Lt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Se.invalid_string,...Ge.errToObj(n)})}_addCheck(t){return new Ei({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ge.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ge.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ge.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ge.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ge.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ge.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ge.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ge.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ge.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ge.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ge.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ge.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ge.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ge.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ge.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ge.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ge.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ge.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ge.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ge.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ge.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ge.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ge.errToObj(r)})}nonempty(t){return this.min(1,Ge.errToObj(t))}trim(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ei.create=e=>new Ei({checks:[],typeName:pt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...wt(e)});function Kie(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class gc extends Dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ze.number){const i=this._getOrReturnCtx(t);return $e(i,{code:Se.invalid_type,expected:ze.number,received:i.parsedType}),mt}let n;const a=new Ds;for(const i of this._def.checks)i.kind==="int"?Lt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),$e(n,{code:Se.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Kie(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Se.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),$e(n,{code:Se.not_finite,message:i.message}),a.dirty()):Lt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ge.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ge.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ge.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ge.toString(r))}setLimit(t,r,n,a){return new gc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ge.toString(a)}]})}_addCheck(t){return new gc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ge.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ge.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ge.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ge.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ge.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Lt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}gc.create=e=>new gc({checks:[],typeName:pt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...wt(e)});class vc extends Dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ze.bigint)return this._getInvalidInput(t);let n;const a=new Ds;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),$e(n,{code:Se.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Lt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return $e(r,{code:Se.invalid_type,expected:ze.bigint,received:r.parsedType}),mt}gte(t,r){return this.setLimit("min",t,!0,Ge.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ge.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ge.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ge.toString(r))}setLimit(t,r,n,a){return new vc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ge.toString(a)}]})}_addCheck(t){return new vc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}vc.create=e=>new vc({checks:[],typeName:pt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...wt(e)});class Ox extends Dt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ze.boolean){const n=this._getOrReturnCtx(t);return $e(n,{code:Se.invalid_type,expected:ze.boolean,received:n.parsedType}),mt}return oa(t.data)}}Ox.create=e=>new Ox({typeName:pt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...wt(e)});class Td extends Dt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ze.date){const i=this._getOrReturnCtx(t);return $e(i,{code:Se.invalid_type,expected:ze.date,received:i.parsedType}),mt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return $e(i,{code:Se.invalid_date}),mt}const n=new Ds;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),$e(a,{code:Se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),$e(a,{code:Se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Lt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Td({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ge.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ge.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Td.create=e=>new Td({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:pt.ZodDate,...wt(e)});class OO extends Dt{_parse(t){if(this._getType(t)!==ze.symbol){const n=this._getOrReturnCtx(t);return $e(n,{code:Se.invalid_type,expected:ze.symbol,received:n.parsedType}),mt}return oa(t.data)}}OO.create=e=>new OO({typeName:pt.ZodSymbol,...wt(e)});class TO extends Dt{_parse(t){if(this._getType(t)!==ze.undefined){const n=this._getOrReturnCtx(t);return $e(n,{code:Se.invalid_type,expected:ze.undefined,received:n.parsedType}),mt}return oa(t.data)}}TO.create=e=>new TO({typeName:pt.ZodUndefined,...wt(e)});class IO extends Dt{_parse(t){if(this._getType(t)!==ze.null){const n=this._getOrReturnCtx(t);return $e(n,{code:Se.invalid_type,expected:ze.null,received:n.parsedType}),mt}return oa(t.data)}}IO.create=e=>new IO({typeName:pt.ZodNull,...wt(e)});class RO extends Dt{constructor(){super(...arguments),this._any=!0}_parse(t){return oa(t.data)}}RO.create=e=>new RO({typeName:pt.ZodAny,...wt(e)});class $O extends Dt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return oa(t.data)}}$O.create=e=>new $O({typeName:pt.ZodUnknown,...wt(e)});class el extends Dt{_parse(t){const r=this._getOrReturnCtx(t);return $e(r,{code:Se.invalid_type,expected:ze.never,received:r.parsedType}),mt}}el.create=e=>new el({typeName:pt.ZodNever,...wt(e)});class MO extends Dt{_parse(t){if(this._getType(t)!==ze.undefined){const n=this._getOrReturnCtx(t);return $e(n,{code:Se.invalid_type,expected:ze.void,received:n.parsedType}),mt}return oa(t.data)}}MO.create=e=>new MO({typeName:pt.ZodVoid,...wt(e)});class ni extends Dt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ze.array)return $e(r,{code:Se.invalid_type,expected:ze.array,received:r.parsedType}),mt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&($e(r,{code:o?Se.too_big:Se.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&($e(r,{code:Se.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&($e(r,{code:Se.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Zo(r,o,r.path,l)))).then(o=>Ds.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Zo(r,o,r.path,l)));return Ds.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ni({...this._def,minLength:{value:t,message:Ge.toString(r)}})}max(t,r){return new ni({...this._def,maxLength:{value:t,message:Ge.toString(r)}})}length(t,r){return new ni({...this._def,exactLength:{value:t,message:Ge.toString(r)}})}nonempty(t){return this.min(1,t)}}ni.create=(e,t)=>new ni({type:e,minLength:null,maxLength:null,exactLength:null,typeName:pt.ZodArray,...wt(t)});function xu(e){if(e instanceof qr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Vo.create(xu(n))}return new qr({...e._def,shape:()=>t})}else return e instanceof ni?new ni({...e._def,type:xu(e.element)}):e instanceof Vo?Vo.create(xu(e.unwrap())):e instanceof $d?$d.create(xu(e.unwrap())):e instanceof xc?xc.create(e.items.map(t=>xu(t))):e}class qr extends Dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Lt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ze.object){const u=this._getOrReturnCtx(t);return $e(u,{code:Se.invalid_type,expected:ze.object,received:u.parsedType}),mt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof el&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Zo(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof el){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&($e(a,{code:Se.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Zo(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ds.mergeObjectSync(n,u)):Ds.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ge.errToObj,new qr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ge.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new qr({...this._def,unknownKeys:"strip"})}passthrough(){return new qr({...this._def,unknownKeys:"passthrough"})}extend(t){return new qr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new qr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:pt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new qr({...this._def,catchall:t})}pick(t){const r={};for(const n of Lt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new qr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Lt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new qr({...this._def,shape:()=>r})}deepPartial(){return xu(this)}partial(t){const r={};for(const n of Lt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new qr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Lt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Vo;)i=i._def.innerType;r[n]=i}return new qr({...this._def,shape:()=>r})}keyof(){return I6(Lt.objectKeys(this.shape))}}qr.create=(e,t)=>new qr({shape:()=>e,unknownKeys:"strip",catchall:el.create(),typeName:pt.ZodObject,...wt(t)});qr.strictCreate=(e,t)=>new qr({shape:()=>e,unknownKeys:"strict",catchall:el.create(),typeName:pt.ZodObject,...wt(t)});qr.lazycreate=(e,t)=>new qr({shape:e,unknownKeys:"strip",catchall:el.create(),typeName:pt.ZodObject,...wt(t)});class Tx extends Dt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Wi(l.ctx.common.issues));return $e(r,{code:Se.invalid_union,unionErrors:o}),mt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Wi(c));return $e(r,{code:Se.invalid_union,unionErrors:l}),mt}}get options(){return this._def.options}}Tx.create=(e,t)=>new Tx({options:e,typeName:pt.ZodUnion,...wt(t)});function PN(e,t){const r=mo(e),n=mo(t);if(e===t)return{valid:!0,data:e};if(r===ze.object&&n===ze.object){const a=Lt.objectKeys(t),i=Lt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=PN(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ze.array&&n===ze.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=PN(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ze.date&&n===ze.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ix extends Dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(PO(i)||PO(o))return mt;const l=PN(i.value,o.value);return l.valid?((EO(i)||EO(o))&&r.dirty(),{status:r.value,value:l.data}):($e(n,{code:Se.invalid_intersection_types}),mt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ix.create=(e,t,r)=>new Ix({left:e,right:t,typeName:pt.ZodIntersection,...wt(r)});class xc extends Dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ze.array)return $e(n,{code:Se.invalid_type,expected:ze.array,received:n.parsedType}),mt;if(n.data.length<this._def.items.length)return $e(n,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),mt;!this._def.rest&&n.data.length>this._def.items.length&&($e(n,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Zo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ds.mergeArray(r,o)):Ds.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new xc({...this._def,rest:t})}}xc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xc({items:e,typeName:pt.ZodTuple,rest:null,...wt(t)})};class DO extends Dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ze.map)return $e(n,{code:Se.invalid_type,expected:ze.map,received:n.parsedType}),mt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Zo(n,l,n.path,[u,"key"])),value:i._parse(new Zo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}DO.create=(e,t,r)=>new DO({valueType:t,keyType:e,typeName:pt.ZodMap,...wt(r)});class Im extends Dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ze.set)return $e(n,{code:Se.invalid_type,expected:ze.set,received:n.parsedType}),mt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&($e(n,{code:Se.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&($e(n,{code:Se.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return mt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Zo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Im({...this._def,minSize:{value:t,message:Ge.toString(r)}})}max(t,r){return new Im({...this._def,maxSize:{value:t,message:Ge.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Im.create=(e,t)=>new Im({valueType:e,minSize:null,maxSize:null,typeName:pt.ZodSet,...wt(t)});class LO extends Dt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}LO.create=(e,t)=>new LO({getter:e,typeName:pt.ZodLazy,...wt(t)});class EN extends Dt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return $e(r,{received:r.data,code:Se.invalid_literal,expected:this._def.value}),mt}return{status:"valid",value:t.data}}get value(){return this._def.value}}EN.create=(e,t)=>new EN({value:e,typeName:pt.ZodLiteral,...wt(t)});function I6(e,t){return new Id({values:e,typeName:pt.ZodEnum,...wt(t)})}class Id extends Dt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return $e(r,{expected:Lt.joinValues(n),received:r.parsedType,code:Se.invalid_type}),mt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return $e(r,{received:r.data,code:Se.invalid_enum_value,options:n}),mt}return oa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Id.create(t,{...this._def,...r})}exclude(t,r=this._def){return Id.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Id.create=I6;class FO extends Dt{_parse(t){const r=Lt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ze.string&&n.parsedType!==ze.number){const a=Lt.objectValues(r);return $e(n,{expected:Lt.joinValues(a),received:n.parsedType,code:Se.invalid_type}),mt}if(this._cache||(this._cache=new Set(Lt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Lt.objectValues(r);return $e(n,{received:n.data,code:Se.invalid_enum_value,options:a}),mt}return oa(t.data)}get enum(){return this._def.values}}FO.create=(e,t)=>new FO({values:e,typeName:pt.ZodNativeEnum,...wt(t)});class Rx extends Dt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ze.promise&&r.common.async===!1)return $e(r,{code:Se.invalid_type,expected:ze.promise,received:r.parsedType}),mt;const n=r.parsedType===ze.promise?r.data:Promise.resolve(r.data);return oa(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Rx.create=(e,t)=>new Rx({type:e,typeName:pt.ZodPromise,...wt(t)});class Rd extends Dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{$e(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return mt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?mt:c.status==="dirty"||r.value==="dirty"?wh(c.value):c});{if(r.value==="aborted")return mt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?mt:l.status==="dirty"||r.value==="dirty"?wh(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?mt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?mt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Od(o))return mt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Od(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):mt);Lt.assertNever(a)}}Rd.create=(e,t,r)=>new Rd({schema:e,typeName:pt.ZodEffects,effect:t,...wt(r)});Rd.createWithPreprocess=(e,t,r)=>new Rd({schema:t,effect:{type:"preprocess",transform:e},typeName:pt.ZodEffects,...wt(r)});class Vo extends Dt{_parse(t){return this._getType(t)===ze.undefined?oa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Vo.create=(e,t)=>new Vo({innerType:e,typeName:pt.ZodOptional,...wt(t)});class $d extends Dt{_parse(t){return this._getType(t)===ze.null?oa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$d.create=(e,t)=>new $d({innerType:e,typeName:pt.ZodNullable,...wt(t)});class AN extends Dt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ze.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}AN.create=(e,t)=>new AN({innerType:e,typeName:pt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...wt(t)});class ON extends Dt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ax(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wi(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Wi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ON.create=(e,t)=>new ON({innerType:e,typeName:pt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...wt(t)});class UO extends Dt{_parse(t){if(this._getType(t)!==ze.nan){const n=this._getOrReturnCtx(t);return $e(n,{code:Se.invalid_type,expected:ze.nan,received:n.parsedType}),mt}return{status:"valid",value:t.data}}}UO.create=e=>new UO({typeName:pt.ZodNaN,...wt(e)});class Hie extends Dt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class bC extends Dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?mt:i.status==="dirty"?(r.dirty(),wh(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?mt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new bC({in:t,out:r,typeName:pt.ZodPipeline})}}class TN extends Dt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Od(a)&&(a.value=Object.freeze(a.value)),a);return Ax(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}TN.create=(e,t)=>new TN({innerType:e,typeName:pt.ZodReadonly,...wt(t)});var pt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(pt||(pt={}));const vt=Ei.create,R6=gc.create;vc.create;const wC=Ox.create;Td.create;el.create;ni.create;const la=qr.create;Tx.create;Ix.create;xc.create;const BO=EN.create;Id.create;Rx.create;Vo.create;$d.create;const qb={string:e=>Ei.create({...e,coerce:!0}),number:e=>gc.create({...e,coerce:!0}),boolean:e=>Ox.create({...e,coerce:!0}),bigint:e=>vc.create({...e,coerce:!0}),date:e=>Td.create({...e,coerce:!0})};function Gie(e){const t=Qie(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(Xie);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Qie(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=Zie(a),l=Jie(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Xn(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yie=Symbol("radix.slottable");function Xie(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yie}function Jie(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Zie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zb="Dialog",[$6,M6]=Cn(zb),[eoe,La]=$6(zb),D6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=hs({prop:n,defaultProp:a??!1,onChange:i,caller:zb});return s.jsx(eoe,{scope:t,triggerRef:l,contentRef:c,contentId:Wr(),titleId:Wr(),descriptionId:Wr(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};D6.displayName=zb;var L6="DialogTrigger",F6=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=La(L6,r),i=dt(t,a.triggerRef);return s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":_C(a.open),...n,ref:i,onClick:Ne(e.onClick,a.onOpenToggle)})});F6.displayName=L6;var jC="DialogPortal",[toe,U6]=$6(jC,{forceMount:void 0}),B6=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=La(jC,t);return s.jsx(toe,{scope:t,forceMount:r,children:y.Children.map(n,o=>s.jsx(cn,{present:r||i.open,children:s.jsx(ff,{asChild:!0,container:a,children:o})}))})};B6.displayName=jC;var $x="DialogOverlay",V6=y.forwardRef((e,t)=>{const r=U6($x,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=La($x,e.__scopeDialog);return i.modal?s.jsx(cn,{present:n||i.open,children:s.jsx(noe,{...a,ref:t})}):null});V6.displayName=$x;var roe=Gie("DialogOverlay.RemoveScroll"),noe=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=La($x,r);return s.jsx(Mp,{as:roe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Me.div,{"data-state":_C(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),yc="DialogContent",q6=y.forwardRef((e,t)=>{const r=U6(yc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=La(yc,e.__scopeDialog);return s.jsx(cn,{present:n||i.open,children:i.modal?s.jsx(soe,{...a,ref:t}):s.jsx(aoe,{...a,ref:t})})});q6.displayName=yc;var soe=y.forwardRef((e,t)=>{const r=La(yc,e.__scopeDialog),n=y.useRef(null),a=dt(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return kb(i)},[]),s.jsx(z6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),aoe=y.forwardRef((e,t)=>{const r=La(yc,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(z6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),z6=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=La(yc,r),c=y.useRef(null),u=dt(t,c);return Sb(),s.jsxs(s.Fragment,{children:[s.jsx($p,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Tc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_C(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ooe,{titleId:l.titleId}),s.jsx(coe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),NC="DialogTitle",W6=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=La(NC,r);return s.jsx(Me.h2,{id:a.titleId,...n,ref:t})});W6.displayName=NC;var K6="DialogDescription",H6=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=La(K6,r);return s.jsx(Me.p,{id:a.descriptionId,...n,ref:t})});H6.displayName=K6;var G6="DialogClose",Q6=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=La(G6,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});Q6.displayName=G6;function _C(e){return e?"open":"closed"}var Y6="DialogTitleWarning",[ioe,X6]=qK(Y6,{contentName:yc,titleName:NC,docsSlug:"dialog"}),ooe=({titleId:e})=>{const t=X6(Y6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},loe="DialogDescriptionWarning",coe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X6(loe).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},SC=D6,J6=F6,kC=B6,Wb=V6,Kb=q6,CC=W6,PC=H6,EC=Q6;const It=SC,Hr=J6,uoe=kC,Z6=y.forwardRef(({className:e,...t},r)=>s.jsx(Wb,{ref:r,className:ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Z6.displayName=Wb.displayName;const Et=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(uoe,{children:[s.jsx(Z6,{}),s.jsxs(Kb,{ref:n,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(EC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Nd,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Et.displayName=Kb.displayName;const Rt=({className:e,...t})=>s.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Rt.displayName="DialogHeader";const IN=({className:e,...t})=>s.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});IN.displayName="DialogFooter";const $t=y.forwardRef(({className:e,...t},r)=>s.jsx(CC,{ref:r,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));$t.displayName=CC.displayName;const oi=y.forwardRef(({className:e,...t},r)=>s.jsx(PC,{ref:r,className:ye("text-sm text-muted-foreground",e),...t}));oi.displayName=PC.displayName;var doe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],foe=doe.reduce((e,t)=>{const r=_b(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),hoe="Label",e8=y.forwardRef((e,t)=>s.jsx(foe.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));e8.displayName=hoe;var t8=e8;const moe=Cp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=y.forwardRef(({className:e,...t},r)=>s.jsx(t8,{ref:r,className:ye(moe(),e),...t}));B.displayName=t8.displayName;const Ls=eie,r8=y.createContext({}),Ze=({...e})=>s.jsx(r8.Provider,{value:{name:e.name},children:s.jsx(sie,{...e})}),Hb=()=>{const e=y.useContext(r8),t=y.useContext(n8),{getFieldState:r,formState:n}=Vb(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},n8=y.createContext({}),Xe=y.forwardRef(({className:e,...t},r)=>{const n=y.useId();return s.jsx(n8.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ye("space-y-2",e),...t})})});Xe.displayName="FormItem";const tt=y.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Hb();return s.jsx(B,{ref:r,className:ye(n&&"text-destructive",e),htmlFor:a,...t})});tt.displayName="FormLabel";const Je=y.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Hb();return s.jsx(qk,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Je.displayName="FormControl";const poe=y.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Hb();return s.jsx("p",{ref:r,id:n,className:ye("text-sm text-muted-foreground",e),...t})});poe.displayName="FormDescription";const rt=y.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Hb(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:n,id:i,className:ye("text-sm font-medium text-destructive",e),...r,children:o}):null});rt.displayName="FormMessage";const lt=y.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));lt.displayName="Textarea";const s8=y.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));s8.displayName="Breadcrumb";const a8=y.forwardRef(({className:e,...t},r)=>s.jsx("ol",{ref:r,className:ye("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));a8.displayName="BreadcrumbList";const RN=y.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:ye("inline-flex items-center gap-1.5",e),...t}));RN.displayName="BreadcrumbItem";const $N=y.forwardRef(({asChild:e,className:t,...r},n)=>{const a=e?qk:"a";return s.jsx(a,{ref:n,className:ye("transition-colors hover:text-foreground",t),...r})});$N.displayName="BreadcrumbLink";const i8=y.forwardRef(({className:e,...t},r)=>s.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:ye("font-normal text-foreground",e),...t}));i8.displayName="BreadcrumbPage";const o8=({children:e,className:t,...r})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:ye("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??s.jsx(na,{})});o8.displayName="BreadcrumbSeparator";const goe={"":"Home",facilities:"Facilities",events:"Events",roadmap:"Roadmap",gallery:"Gallery",booking:"Book a Facility",leaderboard:"Leaderboard",rules:"Rules & Safety",careers:"Careers",contact:"Contact Us",vision:"Our Vision",privacy:"Privacy Policy",terms:"Terms & Conditions",profile:"My Profile"};function Fa({items:e,currentPage:t}){const[r]=Mn(),a=(()=>{if(e)return e;const i=r.split("/").filter(Boolean),o=[];let l="";for(let c=0;c<i.length;c++){const u=i[c];l+=`/${u}`;const d=c===i.length-1,f=goe[u]||u.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");o.push({label:d&&t?t:f,href:d?void 0:l})}return o})();return a.length===0?null:s.jsx(s8,{className:"mb-4","data-testid":"breadcrumb-nav",children:s.jsxs(a8,{children:[s.jsx(RN,{children:s.jsx($N,{asChild:!0,children:s.jsxs(fe,{href:"/",className:"flex items-center gap-1.5",children:[s.jsx(Sk,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"sr-only sm:not-sr-only",children:"Home"})]})})}),a.map((i,o)=>s.jsxs("span",{className:"contents",children:[s.jsx(o8,{}),s.jsx(RN,{children:i.href?s.jsx($N,{asChild:!0,children:s.jsx(fe,{href:i.href,children:i.label})}):s.jsx(i8,{children:i.label})})]},o))]})})}function ts({title:e,subtitle:t,testId:r,subtitleTestId:n}){return s.jsxs("div",{className:"relative overflow-hidden py-8 md:py-12",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-[0.15] dark:opacity-[0.25]",style:{backgroundImage:`url(${gx})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),s.jsxs("div",{className:"qd-container relative z-10 text-center text-primary-foreground",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2","data-testid":r||"text-page-title",children:e}),t&&s.jsx("p",{className:"text-sm opacity-80 max-w-2xl mx-auto","data-testid":n,children:t})]})]})}const voe=la({fullName:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email"),phone:vt().optional(),guestCount:R6().min(0).max(10).default(0),notes:vt().optional()});function xoe(){var N;Fr({title:"Events & Tournaments",description:"Discover upcoming events, tournaments, and classes at The Quarterdeck. Register for sports competitions, training clinics, and social events in Islamabad."});const{user:e}=Ji(),{toast:t}=gt(),[r,n]=y.useState(null),[a,i]=y.useState(!1),[o,l]=y.useState(!1),{getValue:c}=Dr(["page_events_title","page_events_subtitle","page_events_upcoming_title","page_events_no_events","page_events_register_cta"],Ee),u=$s({resolver:Ms(voe),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:d=[],isLoading:f}=ce({queryKey:["/api/events"]}),{data:h=[]}=ce({queryKey:["/api/user/event-registrations"],enabled:!!e}),p=xe({mutationFn:async _=>await ve("POST",`/api/events/${_.eventId}/register`,_),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Z.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Successful",description:"You have been registered for this event."}),i(!1),n(null),u.reset()},onError:_=>{t({title:"Registration Failed",description:_.message||"Unable to register for this event.",variant:"destructive"})}}),b=xe({mutationFn:async _=>await ve("DELETE",`/api/events/${_}/register`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Z.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:_=>{t({title:"Cancellation Failed",description:_.message||"Unable to cancel registration.",variant:"destructive"})}}),m=_=>h.some(S=>S.eventId===_),w=_=>_?new Date(_).toLocaleDateString("en-PK",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):"TBD",x={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300"},g=_=>{if(n(_),!e){l(!0);return}u.setValue("fullName",e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName||""),u.setValue("email",e.email||""),i(!0)},v=_=>{r&&p.mutate({..._,eventId:r.id})},j=_=>{b.mutate(_)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:c("page_events_title"),subtitle:c("page_events_subtitle"),testId:"text-events-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Fa,{}),f?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(_=>s.jsx(qe,{className:"h-64 rounded-xl"},_))}):d.length>0?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(_=>{var P;const S=m(_.id),k=(_.enrolledCount||0)>=(_.capacity||0),C=p.isPending||b.isPending;return s.jsxs(re,{className:"overflow-hidden hover-elevate","data-testid":`card-event-${_.id}`,children:[s.jsx(fe,{href:`/events/${_.slug||_.id}`,children:s.jsx("div",{className:"h-40 bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center cursor-pointer",children:s.jsx(Ns,{className:"w-16 h-16 text-amber-400/50"})})}),s.jsx(Ue,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(fe,{href:`/events/${_.slug||_.id}`,children:s.jsx(Ke,{className:"text-lg cursor-pointer hover:text-primary transition-colors",children:_.title})}),s.jsx(ue,{className:x[_.type]||x.SOCIAL,children:_.type})]})}),s.jsxs(se,{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:_.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(wr,{className:"w-4 h-4"}),s.jsxs("span",{children:[_.scheduleDay," ",_.scheduleTime||""]})]}),_.instructor&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Er,{className:"w-4 h-4"}),s.jsxs("span",{children:["Instructor: ",_.instructor]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Er,{className:"w-4 h-4"}),s.jsxs("span",{children:[_.enrolledCount||0," / ",_.capacity," enrolled"]})]}),_.enrollmentDeadline&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Kt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Register by ",w(_.enrollmentDeadline)]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t gap-2",children:[s.jsxs("div",{className:"font-semibold text-sky-600",children:["PKR ",((P=_.price)==null?void 0:P.toLocaleString())||"Free"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(fe,{href:`/events/${_.slug||_.id}`,children:s.jsx($,{size:"sm",variant:"ghost","data-testid":`button-view-event-${_.id}`,children:"View"})}),S?s.jsx($,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),j(_.id)},disabled:C,"data-testid":`button-cancel-event-${_.id}`,children:C?s.jsx(Re,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Sr,{className:"w-4 h-4 mr-1"}),"Registered"]})}):s.jsx($,{size:"sm",onClick:E=>{E.stopPropagation(),g(_)},disabled:k,"data-testid":`button-register-event-${_.id}`,children:k?"Full":"Register"})]})]})]})]},_.id)})}):s.jsx(re,{children:s.jsxs(se,{className:"py-16 text-center",children:[s.jsx(Ns,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Upcoming Events"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Check back soon for tournaments, leagues, and training programs."}),s.jsx(fe,{href:"/",children:s.jsx($,{variant:"outline","data-testid":"button-back-to-home",children:"Back to Home"})})]})})]})]}),s.jsx(rr,{}),s.jsx(It,{open:a,onOpenChange:i,children:s.jsxs(Et,{className:"sm:max-w-md",children:[s.jsxs(Rt,{children:[s.jsx($t,{"data-testid":"text-registration-title",children:"Event Registration"}),s.jsxs(oi,{children:[(r==null?void 0:r.title)&&s.jsx("span",{className:"font-medium text-foreground",children:r.title}),r!=null&&r.price?` - PKR ${r.price.toLocaleString()}`:" - Free"]})]}),s.jsx(Ls,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(v),className:"space-y-4",children:[s.jsx(Ze,{control:u.control,name:"fullName",render:({field:_})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Full Name *"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"Enter your full name",..._,"data-testid":"input-reg-fullname"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:u.control,name:"email",render:({field:_})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Email *"}),s.jsx(Je,{children:s.jsx(Q,{type:"email",placeholder:"your@email.com",..._,"data-testid":"input-reg-email"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:u.control,name:"phone",render:({field:_})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"+92 300 1234567",..._,"data-testid":"input-reg-phone"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:u.control,name:"guestCount",render:({field:_})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Number of Guests"}),s.jsx(Je,{children:s.jsx(Q,{type:"number",min:0,max:10,placeholder:"0",..._,onChange:S=>_.onChange(parseInt(S.target.value)||0),"data-testid":"input-reg-guests"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:u.control,name:"notes",render:({field:_})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Additional Notes"}),s.jsx(Je,{children:s.jsx(lt,{placeholder:"Any special requirements or notes...",className:"resize-none",..._,"data-testid":"textarea-reg-notes"})}),s.jsx(rt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-registration",children:"Cancel"}),s.jsx($,{type:"submit",disabled:p.isPending,"data-testid":"button-submit-registration",children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]})})]})}),s.jsx(It,{open:o,onOpenChange:l,children:s.jsxs(Et,{className:"sm:max-w-md",children:[s.jsxs(Rt,{children:[s.jsxs($t,{className:"flex items-center gap-2","data-testid":"text-login-prompt-title",children:[s.jsx(Z1,{className:"w-5 h-5"}),"Sign In Required"]}),s.jsx(oi,{children:"Please sign in to register for this event."})]}),s.jsxs("div",{className:"py-4",children:[r&&s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg mb-4",children:[s.jsx("h4",{className:"font-semibold",children:r.title}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.scheduleDay," ",r.scheduleTime||""]}),s.jsxs("p",{className:"text-sm font-medium text-sky-600 mt-2",children:["PKR ",((N=r.price)==null?void 0:N.toLocaleString())||"Free"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create an account or sign in to complete your registration. Your membership will be set up automatically."})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(fe,{href:"/login",className:"w-full",children:s.jsxs($,{className:"w-full","data-testid":"button-login-to-register",children:[s.jsx(Z1,{className:"w-4 h-4 mr-2"}),"Sign In"]})}),s.jsx($,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-login-prompt",children:"Maybe Later"})]})]})})]})}const yoe=la({fullName:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email"),phone:vt().optional(),guestCount:R6().min(0).max(10).default(0),notes:vt().optional()}),VO={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300",WORKSHOP:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300"},boe={TOURNAMENT:"Tournament",CLASS:"Class",ACADEMY:"Academy",SOCIAL:"Social Event",WORKSHOP:"Workshop"};function woe(){const{slug:e}=tb(),{user:t}=Ji(),{toast:r}=gt(),[n,a]=y.useState(!1),[i,o]=y.useState(!1),l=$s({resolver:Ms(yoe),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:c,isLoading:u}=ce({queryKey:["/api/events",e],queryFn:async()=>{const N=await fetch(`/api/events/${e}`);if(!N.ok)throw new Error("Event not found");return N.json()},enabled:!!e});Fr({title:(c==null?void 0:c.title)||"Event Details",description:(c==null?void 0:c.description)||"View event details and register for events at The Quarterdeck sports complex.",ogImage:c==null?void 0:c.imageUrl});const{data:d=[]}=ce({queryKey:["/api/user/event-registrations"],enabled:!!t});y.useEffect(()=>{t&&(l.setValue("fullName",`${t.firstName||""} ${t.lastName||""}`.trim()),l.setValue("email",t.email||""))},[t,l]);const f=xe({mutationFn:async N=>await ve("POST",`/api/events/${N.eventId}/register`,N),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Z.invalidateQueries({queryKey:["/api/events"]}),r({title:"Registration Successful",description:"You have been registered for this event."}),a(!1),l.reset()},onError:N=>{r({title:"Registration Failed",description:N.message||"Unable to register for this event.",variant:"destructive"})}}),h=xe({mutationFn:async N=>await ve("DELETE",`/api/events/${N}/register`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Z.invalidateQueries({queryKey:["/api/events"]}),r({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:N=>{r({title:"Cancellation Failed",description:N.message||"Unable to cancel registration.",variant:"destructive"})}}),p=c?d.some(N=>N.eventId===c.id):!1,b=N=>N?new Date(N).toLocaleDateString("en-PK",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"TBD",m=N=>N||"TBD",w=()=>{if(!t){o(!0);return}a(!0)},x=N=>{c&&f.mutate({...N,eventId:c.id})},g=()=>{navigator.share&&c?navigator.share({title:c.title,text:c.description||"",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Event link copied to clipboard"}))};if(u)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1 qd-container py-8",children:[s.jsx(qe,{className:"h-[300px] w-full rounded-xl mb-8"}),s.jsx(qe,{className:"h-8 w-1/2 mb-4"}),s.jsx(qe,{className:"h-4 w-full mb-2"}),s.jsx(qe,{className:"h-4 w-3/4"})]}),s.jsx(rr,{})]});if(!c)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1 qd-container py-16 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The event you're looking for doesn't exist or has been removed."}),s.jsx(fe,{href:"/events",children:s.jsxs($,{"data-testid":"button-back-events",children:[s.jsx(_n,{className:"w-4 h-4 mr-2"}),"Back to Events"]})})]}),s.jsx(rr,{})]});const v=(c.capacity||0)-(c.enrolledCount||0),j=v<=0;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:c.title,subtitle:c.description||"Join us for this exciting event at The Quarterdeck",testId:"text-event-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Fa,{items:[{label:"Events",href:"/events"},{label:c.title}]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mt-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.imageUrl&&s.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-video",children:[s.jsx("img",{src:c.imageUrl,alt:c.title,className:"w-full h-full object-cover","data-testid":"img-event-banner"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx(ue,{className:VO[c.type]||VO.SOCIAL,children:boe[c.type]||c.type})})]}),s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(cb,{className:"w-5 h-5"}),"About This Event"]})}),s.jsxs(se,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.description||"Join us for an exciting event at The Quarterdeck Sports Complex. Whether you're a beginner or experienced player, this event offers something for everyone."}),c.instructor&&s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(ls,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Instructor / Host"}),s.jsx("p",{className:"font-medium",children:c.instructor})]})]})]})]}),s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(rx,{className:"w-5 h-5"}),"Schedule & Details"]})}),s.jsx(se,{children:s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(wr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:b(c.scheduleDatetime)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Kt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),s.jsx("p",{className:"font-medium",children:m(c.scheduleTime)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Er,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Capacity"}),s.jsxs("p",{className:"font-medium",children:[c.capacity||"Unlimited"," participants"]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ms,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),s.jsx("p",{className:"font-medium",children:"The Quarterdeck, Islamabad"})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(re,{className:"sticky top-24",children:s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:c.price===0?"Free":`PKR ${(c.price||0).toLocaleString()}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per person"})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Spots Available"}),s.jsx("span",{className:`font-medium ${j?"text-destructive":v<=5?"text-amber-600":""}`,children:j?"Full":`${v} left`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Enrolled"}),s.jsxs("span",{className:"font-medium",children:[c.enrolledCount||0," / ",c.capacity||""]})]}),c.enrollmentDeadline&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Deadline"}),s.jsx("span",{className:"font-medium",children:b(c.enrollmentDeadline)})]})]}),p?s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"w-full justify-center py-2 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[s.jsx(Sr,{className:"w-4 h-4 mr-2"}),"You're Registered"]}),s.jsxs($,{variant:"outline",className:"w-full",onClick:()=>h.mutate(c.id),disabled:h.isPending,"data-testid":"button-cancel-registration",children:[h.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Cancel Registration"]})]}):s.jsx($,{className:"w-full",onClick:w,disabled:j,"data-testid":"button-register-event",children:j?"Event Full":"Register Now"}),s.jsxs($,{variant:"ghost",className:"w-full mt-3",onClick:g,"data-testid":"button-share-event",children:[s.jsx(dG,{className:"w-4 h-4 mr-2"}),"Share Event"]})]})}),s.jsx(fe,{href:"/events",children:s.jsxs($,{variant:"outline",className:"w-full","data-testid":"button-back-events",children:[s.jsx(_n,{className:"w-4 h-4 mr-2"}),"Back to All Events"]})})]})]})]})]}),s.jsx(It,{open:i,onOpenChange:o,children:s.jsxs(Et,{children:[s.jsxs(Rt,{children:[s.jsxs($t,{className:"flex items-center gap-2",children:[s.jsx(Z1,{className:"w-5 h-5"}),"Login Required"]}),s.jsx(oi,{children:"Please log in to register for this event."})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx(fe,{href:"/login",className:"flex-1",children:s.jsx($,{className:"w-full","data-testid":"button-login-prompt",children:"Log In"})}),s.jsx(fe,{href:"/signup",className:"flex-1",children:s.jsx($,{variant:"outline",className:"w-full","data-testid":"button-signup-prompt",children:"Sign Up"})})]})]})}),s.jsx(It,{open:n,onOpenChange:a,children:s.jsxs(Et,{children:[s.jsxs(Rt,{children:[s.jsxs($t,{children:["Register for ",c.title]}),s.jsx(oi,{children:"Complete the form below to register for this event."})]}),s.jsx(Ls,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(x),className:"space-y-4",children:[s.jsx(Ze,{control:l.control,name:"fullName",render:({field:N})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Full Name *"}),s.jsx(Je,{children:s.jsx(Q,{...N,"data-testid":"input-reg-name"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:l.control,name:"email",render:({field:N})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Email *"}),s.jsx(Je,{children:s.jsx(Q,{type:"email",...N,"data-testid":"input-reg-email"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:l.control,name:"phone",render:({field:N})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Phone (Optional)"}),s.jsx(Je,{children:s.jsx(Q,{...N,"data-testid":"input-reg-phone"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:l.control,name:"notes",render:({field:N})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Notes (Optional)"}),s.jsx(Je,{children:s.jsx(lt,{...N,"data-testid":"input-reg-notes"})}),s.jsx(rt,{})]})}),s.jsx($,{type:"submit",className:"w-full",disabled:f.isPending,"data-testid":"button-submit-registration",children:f.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})})]})}),s.jsx(rr,{})]})}const joe=[{id:"all",name:"All Sports",icon:Ns},{id:"padel",name:"Padel",icon:Ri},{id:"squash",name:"Squash",icon:Ri},{id:"rifle",name:"Air Rifle",icon:Ri}];function Noe(){Fr({title:"Leaderboard",description:"View The Quarterdeck's sports leaderboard rankings. Track top players and compete in Padel Tennis, Squash, and Air Rifle competitions."});const[e,t]=y.useState("all"),{isAuthenticated:r,isLoading:n}=Ji(),{getValue:a}=Dr(["page_leaderboard_title","page_leaderboard_subtitle","page_leaderboard_coming_soon"],Ee),{data:i=[],isLoading:o}=ce({queryKey:["/api/leaderboard",e!=="all"?e:void 0],enabled:r}),l=u=>{switch(u){case 1:return"bg-gradient-to-r from-amber-400 to-yellow-500 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-800";case 3:return"bg-gradient-to-r from-amber-600 to-amber-700 text-white";default:return"bg-gray-100 dark:bg-slate-700 text-foreground"}},c=u=>u<=3?s.jsx(ZH,{className:`w-5 h-5 ${u===1?"text-amber-400":u===2?"text-gray-400":"text-amber-600"}`}):s.jsx("span",{className:"text-sm font-bold",children:u});return n?s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsx("main",{className:"flex-1",children:s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(qe,{className:"h-12 w-64 mb-8"}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>s.jsx(qe,{className:"h-20 rounded-xl"},u))})]})}),s.jsx(rr,{})]}):r?s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:a("page_leaderboard_title"),subtitle:a("page_leaderboard_subtitle"),testId:"text-leaderboard-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:joe.map(u=>s.jsxs($,{variant:e===u.id?"default":"outline",size:"sm",onClick:()=>t(u.id),className:"gap-2","data-testid":`button-filter-${u.id}`,children:[s.jsx(u.icon,{className:"w-4 h-4"}),u.name]},u.id))}),o?s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>s.jsx(qe,{className:"h-20 rounded-xl"},u))}):i.length>0?s.jsx("div",{className:"space-y-3",children:i.map((u,d)=>{var f,h;return s.jsx(re,{className:`overflow-visible ${d<3?"border-2":""} ${d===0?"border-amber-400":d===1?"border-gray-400":d===2?"border-amber-600":""}`,"data-testid":`leaderboard-entry-${u.id}`,children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${l(d+1)}`,children:c(d+1)}),s.jsxs(Pd,{className:"w-12 h-12",children:[s.jsx(Ed,{src:u.profileImageUrl||""}),s.jsx(Ad,{children:((f=u.playerName)==null?void 0:f.split(" ").map(p=>p[0]).join(""))||"P"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:u.playerName||"Anonymous Player"}),s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2 flex-wrap",children:[s.jsxs("span",{children:[u.wins,"W - ",u.losses,"L"]}),u.winRate&&s.jsxs(ue,{variant:"secondary",className:"text-xs",children:[(u.winRate*100).toFixed(0),"% WR"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-sky-600",children:((h=u.rankingPoints)==null?void 0:h.toLocaleString())||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]})})},u.id)})}):s.jsx(re,{children:s.jsxs(se,{className:"py-16 text-center",children:[s.jsx(Ns,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Rankings Yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Play matches to appear on the leaderboard!"}),s.jsx(fe,{href:"/booking",children:s.jsx($,{"data-testid":"button-book-now",children:"Book a Court"})})]})})]})]}),s.jsx(rr,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center",children:s.jsx(re,{className:"max-w-md w-full mx-4",children:s.jsxs(se,{className:"pt-6 text-center",children:[s.jsx(Ns,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view the leaderboard and player rankings."}),s.jsx(fe,{href:"/login",children:s.jsx($,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),s.jsx(rr,{})]})}const qO=[{id:"all",label:"All Photos"},{id:"Renders",label:"Architectural Renders"},{id:"Construction",label:"Construction Progress"},{id:"Facilities",label:"Facilities"}];function _oe(){Fr({title:"Gallery",description:"View The Quarterdeck's photo gallery featuring architectural renders, construction progress, and facility images of Islamabad's premier sports complex."});const e=FD(),t=new URLSearchParams(e).get("category"),[r,n]=y.useState(t||"all"),[a,i]=y.useState(null),{getValue:o}=Dr(["page_gallery_title","page_gallery_subtitle"],Ee),{data:l,isLoading:c,error:u}=ce({queryKey:["/api/gallery"]}),d=y.useMemo(()=>{if(!l)return[];const h=l.filter(p=>p.isActive!==!1);return r==="all"?h:h.filter(p=>{var b;return((b=p.category)==null?void 0:b.toLowerCase())===r.toLowerCase()})},[r,l]),f=y.useMemo(()=>{if(!l)return qO;const h=new Set(l.filter(p=>p.isActive!==!1).map(p=>{var b;return(b=p.category)==null?void 0:b.toLowerCase()}).filter(Boolean));return qO.filter(p=>p.id==="all"||h.has(p.id.toLowerCase()))},[l]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:o("page_gallery_title"),subtitle:o("page_gallery_subtitle"),testId:"text-gallery-page-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Fa,{}),c?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(h=>s.jsx(qe,{className:"aspect-[4/3] rounded-xl"},h))}):u?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(VE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Unable to load gallery images."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-8","data-testid":"gallery-filters",children:[s.jsx(O5,{className:"w-5 h-5 text-muted-foreground mr-2 self-center"}),f.map(h=>s.jsx($,{variant:r===h.id?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>n(h.id),"data-testid":`filter-${h.id}`,children:h.label},h.id))]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(h=>s.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer",onClick:()=>i(h),"data-testid":`gallery-image-${h.id}`,children:[s.jsx("img",{src:h.imageUrl,alt:h.title||"Gallery image",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:h.title||"Untitled"}),h.category&&s.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-primary/80 text-white uppercase tracking-wide",children:h.category})]})]},h.id))}),d.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(VE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No images found in this category."})]})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>i(null),"data-testid":"gallery-lightbox",children:s.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh]",children:[s.jsx("img",{src:a.imageUrl,alt:a.title||"Gallery image",className:"w-full h-full object-contain rounded-lg"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg",children:[s.jsx("h3",{className:"text-white text-xl font-semibold",children:a.title||"Untitled"}),a.description&&s.jsx("p",{className:"text-white/80 mt-2",children:a.description})]}),s.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-white/80 text-3xl font-light",onClick:h=>{h.stopPropagation(),i(null)},"data-testid":"close-lightbox",children:"x"})]})}),s.jsx(rr,{})]})}function Soe(){Fr({title:"Our Vision",description:"Learn about The Quarterdeck's mission, values, and vision for creating a world-class sports and recreation community in Islamabad, Pakistan."});const{getValue:e}=Dr(["page_vision_title","page_vision_subtitle"],Ee);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:e("page_vision_title"),subtitle:e("page_vision_subtitle"),testId:"text-vision-title",subtitleTestId:"text-vision-subtitle"}),s.jsx("div",{className:"qd-container py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-mission-title",children:"Our Mission"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"The Quarterdeck aims to create a world-class sports and recreation complex that brings together Islamabad's community through premium facilities, professional coaching, and a commitment to excellence in every aspect of the member experience."}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"We believe that access to quality sports facilities should be available to all who seek it, and we're building a space where professionals, families, and enthusiasts can pursue their passion for sports in a safe, welcoming environment."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-8","data-testid":"text-values-title",children:"Our Values"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(re,{"data-testid":"card-value-excellence",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Ns,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Excellence"}),s.jsx("p",{className:"text-muted-foreground",children:"We strive for excellence in our facilities, services, and member experiences."})]})]})})}),s.jsx(re,{"data-testid":"card-value-community",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Er,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Community"}),s.jsx("p",{className:"text-muted-foreground",children:"Building connections through sports and shared experiences."})]})]})})}),s.jsx(re,{"data-testid":"card-value-integrity",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Go,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Safety & Integrity"}),s.jsx("p",{className:"text-muted-foreground",children:"Maintaining the highest standards of safety and ethical conduct."})]})]})})}),s.jsx(re,{"data-testid":"card-value-wellness",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(lb,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Wellness"}),s.jsx("p",{className:"text-muted-foreground",children:"Promoting physical and mental well-being through active lifestyles."})]})]})})})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-future-title",children:"Looking Ahead"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"With our Q4 2026 launch approaching, The Quarterdeck is set to transform the sports and recreation landscape in Islamabad. Our early members will be the first to experience our world-class facilities and exclusive benefits."}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(fe,{href:"/roadmap",children:s.jsxs($,{"data-testid":"button-view-roadmap",children:[s.jsx(vn,{className:"w-4 h-4 mr-2"})," View Our Roadmap"]})}),s.jsx(fe,{href:"/facilities",children:s.jsx($,{variant:"outline","data-testid":"button-explore-facilities",children:"Explore Facilities"})})]})]})]})})]}),s.jsx(rr,{})]})}const koe="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Coe="/assets/professional_squash__c4dca43a-DYvE2Lp8.jpg",Poe="/assets/bridge_card_game_clu_6f83cf65-D9nP8IVw.jpg",Eoe="/assets/multipurpose_event_h_e7c6ac62-D3KmV09D.jpg",zO={"padel-tennis":Jo,squash:Vp,"air-rifle-range":Pp,"bridge-room":db,"multipurpose-hall":vn},WO={"padel-tennis":koe,squash:Coe,"air-rifle-range":lC,"bridge-room":Poe,"multipurpose-hall":Eoe},Aoe=[{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts with LED lighting and premium surfaces.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade turf, and state-of-the-art LED lighting for evening play.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0},{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards with glass back walls.",longDescription:"Our squash courts meet international competition standards with specially designed floors, glass back walls for viewing, and professional lighting systems. Perfect for casual games or serious training.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental"],requiresCertification:!1,isActive:!0},{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with 6 lanes, electronic scoring, and professional supervision.",longDescription:"Our state-of-the-art air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our safety certification course before using the range.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental"],requiresCertification:!0,isActive:!0},{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for corporate events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. Features include a professional sound system, adjustable lighting, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout"],requiresCertification:!1,isActive:!0}];function Ooe(){Fr({title:"Our Facilities",description:"Explore world-class sports facilities at The Quarterdeck - Padel Tennis courts, Squash courts, Air Rifle Range, Bridge Room, and Multipurpose Hall in Islamabad."});const{getValue:e}=Dr(["page_facilities_title","page_facilities_subtitle","page_facilities_ready_title","page_facilities_ready_description","page_facilities_book_cta","page_facilities_contact_cta"],Ee),{data:t}=ce({queryKey:["/api/facilities"]}),n=(t&&t.length>0?t.filter(a=>!a.isHidden).map(a=>({...a,courtCount:a.resourceCount||a.courtCount||1,operatingHours:a.operatingHours||"6:00 AM - 11:00 PM",maxPlayers:a.maxPlayers||a.minPlayers||4,basePrice:String(a.basePrice||0),isActive:a.status!=="CLOSED"})):Aoe).filter(a=>a.isActive);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:e("page_facilities_title"),subtitle:e("page_facilities_subtitle"),testId:"text-facilities-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Fa,{}),s.jsxs("div",{className:"max-w-5xl mx-auto mt-4",children:[s.jsx("div",{className:"grid gap-6",children:n.map(a=>s.jsx(fe,{href:`/facilities/${a.slug}`,children:s.jsx(re,{className:"overflow-hidden hover-elevate cursor-pointer","data-testid":`card-facility-${a.slug}`,children:s.jsx(se,{className:"p-0",children:s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:"md:w-1/3 h-48 md:h-auto relative overflow-hidden",children:a.imageUrl||WO[a.slug]?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:a.imageUrl||WO[a.slug],alt:a.name,className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:(()=>{const i=zO[a.slug]||Jo;return s.jsx(i,{className:"w-5 h-5 text-white"})})()})]}):s.jsx("div",{className:"w-full h-full bg-primary/10 flex items-center justify-center",children:(()=>{const i=zO[a.slug]||Jo;return s.jsx(i,{className:"w-12 h-12 text-primary/50"})})()})}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-xl mb-1",children:a.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ci,{className:"w-4 h-4"})," ",a.courtCount," ",a.courtCount===1?"Unit":"Courts/Lanes"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Er,{className:"w-4 h-4"})," ",a.minPlayers,"-",a.maxPlayers," players"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Kt,{className:"w-4 h-4"})," ",a.operatingHours]})]})]}),a.requiresCertification&&s.jsx(ue,{variant:"destructive",className:"flex-shrink-0",children:"Certification Required"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:a.description}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"From "}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(a.basePrice).toLocaleString()]}),s.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),s.jsxs($,{variant:"ghost",size:"sm",className:"text-primary",children:["View Details ",s.jsx(na,{className:"w-4 h-4 ml-1"})]})]})]})]})})})},a.id))}),s.jsxs("div",{className:"mt-12 mb-16 md:mb-24 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-primary mb-4",children:e("page_facilities_ready_title")}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:e("page_facilities_ready_description")}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(fe,{href:"/booking",children:s.jsx($,{"data-testid":"button-book-now",children:e("page_facilities_book_cta")})}),s.jsx(fe,{href:"/contact",children:s.jsx($,{variant:"outline","data-testid":"button-contact-us",children:e("page_facilities_contact_cta")})})]})]})]})]})]}),s.jsx(rr,{})]})}const Toe="/assets/indoor_squash_court__3447d74a-DPwnnr4G.jpg",Ioe="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",Roe="/assets/elegant_card_game_ro_42b0454d-y4j-Rn8N.jpg",$oe="/assets/large_event_hall_int_32ffc7ae-BCjqhoII.jpg",Moe={"padel-tennis":Jo,squash:Vp,"air-rifle-range":Pp,"bridge-room":db,"multipurpose-hall":vn},Doe={"padel-tennis":jf,squash:Toe,"air-rifle-range":Ioe,"bridge-room":Roe,"multipurpose-hall":$oe},Loe={"padel-tennis":{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade artificial turf, and state-of-the-art LED lighting for evening play. Whether you're a beginner or seasoned player, our facilities provide the perfect environment for this dynamic sport.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available","Video Analysis","Pro Shop"],requiresCertification:!1,isActive:!0,features:["4 International-standard courts","Tempered glass walls","Professional-grade artificial turf","LED lighting system for night play","Covered and climate-controlled"],addOns:[{id:"racket",name:"Rent Racket",price:500},{id:"balls",name:"Sleeve of Balls",price:1500},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},squash:{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards.",longDescription:"Our squash courts meet international competition standards with specially designed maple floors, glass back walls for viewing, and professional lighting systems. The courts are perfect for casual games, serious training, or competitive matches.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0,features:["2 Championship-grade courts","World Squash Federation compliant","Glass back walls for spectating","Professional maple flooring","Climate-controlled environment"],addOns:[{id:"sq_racket",name:"Squash Racket Rental",price:500},{id:"sq_balls",name:"Squash Balls (Tube)",price:1200},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},"air-rifle-range":{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with professional supervision.",longDescription:"Our state-of-the-art 10-meter air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our mandatory safety certification course before using the range. Professional supervision is provided at all times.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental","Certification Course"],requiresCertification:!0,isActive:!0,features:["6 Shooting lanes","10-meter Olympic distance","Electronic scoring system","Professional-grade air rifles","Full safety equipment provided"],addOns:[{id:"ear_protection",name:"Ear Protection",price:300},{id:"safety_glasses",name:"Safety Glasses",price:400},{id:"water",name:"Mineral Water",price:100}]},"multipurpose-hall":{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. The venue features a professional sound system, adjustable lighting, projector facilities, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout","Stage Available"],requiresCertification:!1,isActive:!0,features:["500-person capacity","Professional sound system","HD Projector and screen","Flexible seating arrangements","Full catering kitchen"],addOns:[{id:"mats",name:"Floor Mats",price:500},{id:"speaker",name:"Speaker & Mic Setup",price:1500},{id:"water",name:"Mineral Water",price:100}]}};function Foe(){var c,u,d,f;const{slug:e}=tb(),{data:t}=ce({queryKey:["/api/facilities",e],enabled:!!e}),{data:r=[]}=ce({queryKey:["/api/pricing-tiers"]}),n=y.useMemo(()=>{const h={};return r.forEach(p=>{const m=(p.benefits||[]).find(w=>w.toLowerCase().includes("discount")&&w.toLowerCase().includes("off-peak"));if(m){const w=m.match(/(\d+)%/);w&&(h[p.tier]=w[1])}}),h},[r]),a=Loe[e||""],i=t?{...a,...t,features:(c=t.features)!=null&&c.length?t.features:a==null?void 0:a.features,amenities:(u=t.amenities)!=null&&u.length?t.amenities:a==null?void 0:a.amenities,longDescription:t.aboutContent||(a==null?void 0:a.longDescription),aboutContent:t.aboutContent||(a==null?void 0:a.longDescription),operatingHours:t.operatingHours||(a==null?void 0:a.operatingHours),addOns:t.addOns||(a==null?void 0:a.addOns),courtCount:t.resourceCount||t.courtCount||(a==null?void 0:a.courtCount),pricingNotes:t.pricingNotes,certificationInfo:t.certificationInfo,galleryImages:t.galleryImages,keywords:t.keywords,quickInfo:t.quickInfo}:a;if(!i)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(re,{className:"max-w-md",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Facility Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The facility you're looking for doesn't exist or has been removed."}),s.jsx(fe,{href:"/facilities",children:s.jsx($,{children:"View All Facilities"})})]})})});const o=Moe[e||""]||Jo,l=i.imageUrl||Doe[e||""]||jf;return Fr({title:i.name,description:i.description||`Book ${i.name} at The Quarterdeck sports complex in Islamabad.`,ogImage:l}),s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[50vh] min-h-[400px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:s.jsx(o,{className:"w-8 h-8"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-facility-name",children:i.name}),i.requiresCertification&&s.jsx(ue,{variant:"destructive",className:"mb-4",children:"Safety Certification Required"}),i.restricted&&s.jsx(ue,{className:"bg-amber-500 mb-4",children:"Founding & Forces Members Only"}),s.jsx("p",{className:"text-xl max-w-3xl opacity-90",children:i.description})]})]}),s.jsxs("div",{className:"container mx-auto px-6 py-12",children:[s.jsx(fe,{href:"/facilities",children:s.jsxs($,{variant:"ghost",className:"mb-8","data-testid":"button-back-facilities",children:[s.jsx(_n,{className:"w-4 h-4 mr-2"})," Back to Facilities"]})}),s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"About This Facility"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.longDescription})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Features"}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:(d=i.features)==null?void 0:d.map((h,p)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsx("span",{children:h})]},p))})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(f=i.amenities)==null?void 0:f.map((h,p)=>s.jsx(ue,{variant:"secondary",children:h},p))})]}),i.addOns&&i.addOns.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Available Add-Ons"}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:i.addOns.map(h=>s.jsx(re,{children:s.jsxs(se,{className:"p-4 flex items-center justify-between",children:[s.jsx("span",{children:h.name}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",h.price.toLocaleString()]})]})},h.id))})]}),i.galleryImages&&i.galleryImages.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.galleryImages.map((h,p)=>s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:h,alt:`${i.name} gallery image ${p+1}`,className:"w-full h-full object-cover","data-testid":`img-gallery-${p}`})},p))})]}),(t==null?void 0:t.howToPlayContent)&&s.jsxs("section",{"data-testid":"section-how-to-play",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"How To Play"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.howToPlayContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Sr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.scoringRulesContent)&&s.jsxs("section",{"data-testid":"section-scoring-rules",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Scoring Rules"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.scoringRulesContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Sr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.winningCriteriaContent)&&s.jsxs("section",{"data-testid":"section-winning-criteria",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Winning Criteria"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.winningCriteriaContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Sr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.pointsSystemContent)&&s.jsxs("section",{"data-testid":"section-points-system",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Points & Ranking System"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.pointsSystemContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Sr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsx(Ke,{children:"Quick Info"})}),s.jsx(se,{className:"space-y-4",children:i.quickInfo&&Object.keys(i.quickInfo).length>0?Object.entries(i.quickInfo).map(([h,p])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Kt,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:h}),s.jsx("p",{className:"font-medium",children:String(p)})]})]},h)):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Kt,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Operating Hours"}),s.jsx("p",{className:"font-medium",children:i.operatingHours})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Er,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Players"}),s.jsxs("p",{className:"font-medium",children:[i.minPlayers," - ",i.maxPlayers," players"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ms,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Units"}),s.jsxs("p",{className:"font-medium",children:[i.courtCount," ",i.courtCount===1?"Unit":"Courts/Lanes"]})]})]})]})})]}),s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsx(Ke,{children:"Pricing"})}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Off-Peak (10AM-5PM)"}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.basePrice||"0").toLocaleString(),"/hr"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Peak Hours"}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.peakPrice||"0").toLocaleString(),"/hr"]})]}),Object.keys(n).length>0?s.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Member discounts during off-peak hours (10AM-5PM):",s.jsx("br",{}),n.FOUNDING&&`Founding: ${n.FOUNDING}%`,n.FOUNDING&&n.GOLD&&" | ",n.GOLD&&`Gold: ${n.GOLD}%`,n.GOLD&&n.SILVER&&" | ",n.SILVER&&`Silver: ${n.SILVER}%`]}):s.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:"Members enjoy off-peak discounts (10AM-5PM)"}),i.pricingNotes&&s.jsx("p",{className:"text-xs text-muted-foreground pt-2 mt-2 border-t",children:i.pricingNotes})]})})]}),i.requiresCertification&&s.jsx(re,{className:"border-amber-500/50 bg-amber-500/5",children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ap,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Certification Required"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.certificationInfo||"Safety certification is mandatory before using this facility. Please complete the certification course first."})]})]})})}),s.jsx(fe,{href:"/booking",children:s.jsxs($,{className:"w-full",size:"lg","data-testid":"button-book-facility",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"})," Book This Facility"]})})]})]})})]})]}),s.jsx(rr,{})]})}const Uoe=e=>e.isComplete?s.jsx(ue,{className:"bg-green-500",children:"Completed"}):e.isActive?s.jsxs(ue,{className:"bg-amber-500",children:["In Progress - ",e.progress,"%"]}):s.jsx(ue,{variant:"secondary",children:"Upcoming"}),KO=e=>e.isComplete?s.jsx(hm,{className:"w-8 h-8 text-green-500"}):e.isActive?s.jsx(Kt,{className:"w-8 h-8 text-amber-500"}):s.jsx(wr,{className:"w-8 h-8 text-muted-foreground"});function Boe(){Fr({title:"Construction Roadmap",description:"Follow The Quarterdeck's construction progress in Islamabad. View milestones, timeline, and development phases for our sports complex launch in Q4 2026."});const{getValue:e}=Dr(["page_roadmap_title","page_roadmap_subtitle"],Ee),{data:t=[],isLoading:r}=ce({queryKey:["/api/construction-phases"]}),n=y.useMemo(()=>[...t].sort((i,o)=>i.sortOrder-o.sortOrder),[t]),a=y.useMemo(()=>n.length===0?0:n.reduce((i,o)=>i+o.progress,0)/n.length,[n]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:e("page_roadmap_title"),subtitle:e("page_roadmap_subtitle"),testId:"text-roadmap-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Fa,{}),s.jsx("div",{className:"max-w-5xl mx-auto mb-12",children:s.jsx("div",{className:"p-6 rounded-xl bg-card border shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),s.jsxs("div",{className:"text-2xl font-bold text-primary dark:text-white mt-1",children:[Math.round(a),"% Complete"]})]}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${a}%`}})})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:n.filter(i=>i.isComplete).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-amber-600",children:n.filter(i=>i.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:n.filter(i=>!i.isComplete&&!i.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})}),s.jsxs("div",{className:"max-w-5xl mx-auto",children:[r?s.jsx("div",{className:"space-y-8",children:[1,2,3,4].map(i=>s.jsx("div",{className:"relative",children:s.jsx("div",{className:"md:ml-16",children:s.jsxs(re,{children:[s.jsxs(Ue,{children:[s.jsx(qe,{className:"h-6 w-48"}),s.jsx(qe,{className:"h-4 w-32 mt-2"})]}),s.jsxs(se,{children:[s.jsx(qe,{className:"h-4 w-full mb-4"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>s.jsx(qe,{className:"h-4 w-full"},o))}),s.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>s.jsx(qe,{className:"h-4 w-full"},o))})]})]})]})})},i))}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(vn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Roadmap Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"Our development timeline will be available shortly."})]}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border hidden md:block"}),s.jsx("div",{className:"space-y-8",children:n.map((i,o)=>s.jsx("div",{id:i.id,className:"relative","data-testid":`card-phase-${i.id}`,children:s.jsxs("div",{className:"md:ml-16",children:[s.jsx("div",{className:"absolute left-4 top-6 hidden md:block",children:KO(i)}),s.jsxs(re,{className:i.isActive?"border-amber-500/50 border-2":"",children:[s.jsxs(Ue,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"md:hidden",children:KO(i)}),s.jsxs("div",{children:[s.jsxs(Ke,{className:"text-xl",children:[i.label,": ",i.title]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.timeframe||"Timeline TBD"})]})]}),Uoe(i)]}),i.isActive&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-500",style:{width:`${i.progress}%`}})})})]}),s.jsx(se,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.milestones&&i.milestones.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(hm,{className:"w-4 h-4"})," Milestones"]}),s.jsx("ul",{className:"space-y-2",children:i.milestones.map((l,c)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.isComplete?s.jsx(hm,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-muted-foreground/30 flex-shrink-0"}),s.jsx("span",{className:i.isComplete?"":"text-muted-foreground",children:l})]},c))})]}),i.highlights&&i.highlights.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.icon==="rocket"?s.jsx(lG,{className:"w-4 h-4"}):s.jsx(vn,{className:"w-4 h-4"}),"Key Highlights"]}),s.jsx("ul",{className:"space-y-2",children:i.highlights.map((l,c)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[s.jsx("span",{className:"text-primary dark:text-sky-400",children:""}),l]},c))})]})]})})]})]})},i.id))})]}),s.jsxs("div",{className:"mt-12 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Stay Updated"}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Follow our progress and be the first to know about new developments, preview events, and exclusive opportunities."}),s.jsx(fe,{href:"/contact",children:s.jsx($,{"data-testid":"button-register-interest",children:"Register Your Interest"})})]})]})]})]}),s.jsx(rr,{})]})}var Gb="Collapsible",[Voe,l8]=Cn(Gb),[qoe,AC]=Voe(Gb),c8=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=hs({prop:n,defaultProp:a??!1,onChange:o,caller:Gb});return s.jsx(qoe,{scope:r,disabled:i,contentId:Wr(),open:c,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Me.div,{"data-state":TC(c),"data-disabled":i?"":void 0,...l,ref:t})})});c8.displayName=Gb;var u8="CollapsibleTrigger",d8=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=AC(u8,r);return s.jsx(Me.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":TC(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ne(e.onClick,a.onOpenToggle)})});d8.displayName=u8;var OC="CollapsibleContent",f8=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=AC(OC,e.__scopeCollapsible);return s.jsx(cn,{present:r||a.open,children:({present:i})=>s.jsx(zoe,{...n,ref:t,present:i})})});f8.displayName=OC;var zoe=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=AC(OC,r),[l,c]=y.useState(n),u=y.useRef(null),d=dt(t,u),f=y.useRef(0),h=f.current,p=y.useRef(0),b=p.current,m=o.open||l,w=y.useRef(m),x=y.useRef(void 0);return y.useEffect(()=>{const g=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(g)},[]),Mr(()=>{const g=u.current;if(g){x.current=x.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const v=g.getBoundingClientRect();f.current=v.height,p.current=v.width,w.current||(g.style.transitionDuration=x.current.transitionDuration,g.style.animationName=x.current.animationName),c(n)}},[o.open,n]),s.jsx(Me.div,{"data-state":TC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:m&&a})});function TC(e){return e?"open":"closed"}var Woe=c8,Koe=d8,Hoe=f8,Ua="Accordion",Goe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[IC,Qoe,Yoe]=Sp(Ua),[Qb]=Cn(Ua,[Yoe,l8]),RC=l8(),h8=D.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(IC.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(ele,{...i,ref:t}):s.jsx(Zoe,{...a,ref:t})})});h8.displayName=Ua;var[m8,Xoe]=Qb(Ua),[p8,Joe]=Qb(Ua,{collapsible:!1}),Zoe=D.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=hs({prop:r,defaultProp:n??"",onChange:a,caller:Ua});return s.jsx(m8,{scope:e.__scopeAccordion,value:D.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:D.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(p8,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(g8,{...o,ref:t})})})}),ele=D.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=hs({prop:r,defaultProp:n??[],onChange:a,caller:Ua}),c=D.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=D.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(m8,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(p8,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(g8,{...i,ref:t})})})}),[tle,Yb]=Qb(Ua),g8=D.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=D.useRef(null),c=dt(l,t),u=Qoe(r),f=bf(a)==="ltr",h=Ne(e.onKeyDown,p=>{var k;if(!Goe.includes(p.key))return;const b=p.target,m=u().filter(C=>{var P;return!((P=C.ref.current)!=null&&P.disabled)}),w=m.findIndex(C=>C.ref.current===b),x=m.length;if(w===-1)return;p.preventDefault();let g=w;const v=0,j=x-1,N=()=>{g=w+1,g>j&&(g=v)},_=()=>{g=w-1,g<v&&(g=j)};switch(p.key){case"Home":g=v;break;case"End":g=j;break;case"ArrowRight":i==="horizontal"&&(f?N():_());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?_():N());break;case"ArrowUp":i==="vertical"&&_();break}const S=g%x;(k=m[S].ref.current)==null||k.focus()});return s.jsx(tle,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(IC.Slot,{scope:r,children:s.jsx(Me.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),Mx="AccordionItem",[rle,$C]=Qb(Mx),v8=D.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=Yb(Mx,r),o=Xoe(Mx,r),l=RC(r),c=Wr(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return s.jsx(rle,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(Woe,{"data-orientation":i.orientation,"data-state":N8(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});v8.displayName=Mx;var x8="AccordionHeader",y8=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Yb(Ua,r),i=$C(x8,r);return s.jsx(Me.h3,{"data-orientation":a.orientation,"data-state":N8(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});y8.displayName=x8;var MN="AccordionTrigger",b8=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Yb(Ua,r),i=$C(MN,r),o=Joe(MN,r),l=RC(r);return s.jsx(IC.ItemSlot,{scope:r,children:s.jsx(Koe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});b8.displayName=MN;var w8="AccordionContent",j8=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Yb(Ua,r),i=$C(w8,r),o=RC(r);return s.jsx(Hoe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});j8.displayName=w8;function N8(e){return e?"open":"closed"}var nle=h8,sle=v8,ale=y8,_8=b8,S8=j8;const k8=nle,Ru=y.forwardRef(({className:e,...t},r)=>s.jsx(sle,{ref:r,className:ye("border-b",e),...t}));Ru.displayName="AccordionItem";const $u=y.forwardRef(({className:e,children:t,...r},n)=>s.jsx(ale,{className:"flex",children:s.jsxs(_8,{ref:n,className:ye("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(Ra,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));$u.displayName=_8.displayName;const Mu=y.forwardRef(({className:e,children:t,...r},n)=>s.jsx(S8,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:ye("pb-4 pt-0",e),children:t})}));Mu.displayName=S8.displayName;const ile={general:{title:"General Rules",icon:Go},booking:{title:"Booking & Scheduling",icon:Kt},conduct:{title:"Conduct & Behavior",icon:Er},safety:{title:"Safety Requirements",icon:Ap},dresscode:{title:"Dress Code",icon:fG},equipment:{title:"Equipment & Facilities",icon:qH},guests:{title:"Guest Policy",icon:lb},emergency:{title:"Emergency Procedures",icon:sx}},ole=["general","booking","conduct","safety","dresscode","equipment","guests","emergency"];function lle(){Fr({title:"Club Rules & Guidelines",description:"Review The Quarterdeck's club rules, safety requirements, dress code, booking policies, and guest guidelines for our sports facilities."});const{getValue:e}=Dr(["page_rules_title","page_rules_subtitle"],Ee),{data:t=[],isLoading:r}=ce({queryKey:["/api/rules"]}),n=t.reduce((i,o)=>{const l=o.category||"general";return i[l]||(i[l]=[]),i[l].push(o),i},{}),a=ole.filter(i=>{var o;return((o=n[i])==null?void 0:o.length)>0});return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:e("page_rules_title"),subtitle:e("page_rules_subtitle"),testId:"text-rules-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Fa,{}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(re,{className:"mb-8 border-amber-500/50 bg-amber-500/5",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Ap,{className:"w-6 h-6 text-amber-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Important Safety Notice"}),s.jsx("p",{className:"text-muted-foreground",children:"Certain facilities require mandatory safety certifications before use. The Air Rifle Range requires completion of our safety course. Please contact reception to schedule your certification session."})]})]})})}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Go,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Rules are being updated. Please check back soon."})]}):s.jsx(k8,{type:"multiple",className:"space-y-4",children:a.map(i=>{const o=ile[i]||{title:i,icon:Go},l=o.icon,c=n[i]||[];return s.jsxs(Ru,{value:i,className:"border rounded-md px-4","data-testid":`accordion-${i}`,children:[s.jsx($u,{className:"hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center",children:s.jsx(l,{className:"w-5 h-5 text-primary dark:text-sky-400"})}),s.jsx("span",{className:"font-semibold",children:o.title})]})}),s.jsx(Mu,{children:s.jsx("ul",{className:"space-y-3 pl-13 py-4",children:c.map((u,d)=>s.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[s.jsxs("span",{className:"text-primary dark:text-sky-400 font-bold",children:[d+1,"."]}),s.jsxs("div",{children:[u.title&&s.jsxs("span",{className:"font-medium text-foreground",children:[u.title,": "]}),u.content]})]},u.id))})})]},i)})}),s.jsxs(re,{className:"mt-8",children:[s.jsx(Ue,{children:s.jsx(Ke,{children:"Questions About Our Rules?"})}),s.jsxs(se,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"If you have any questions about our rules and policies, or need clarification on any point, please don't hesitate to contact us."}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(fe,{href:"/contact",children:s.jsx($,{"data-testid":"button-contact-us",children:"Contact Us"})}),s.jsx(fe,{href:"/terms",children:s.jsx($,{variant:"outline","data-testid":"button-view-terms",children:"View Terms & Conditions"})})]})]})]})]})]})]}),s.jsx(rr,{})]})}const HO=la({name:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email"),phone:vt().min(10,"Please enter a valid phone number"),cvUrl:vt().url("Please enter a valid URL to your CV/resume").optional().or(BO("")),linkedinUrl:vt().url("Please enter a valid LinkedIn URL").optional().or(BO("")),coverLetter:vt().min(50,"Cover letter should be at least 50 characters")}),cle=[{id:"1",title:"Sports Facility Manager",department:"Operations",location:"Islamabad",type:"Full-time",description:"Lead the day-to-day operations of our sports facilities, ensuring excellent member experience and efficient facility management.",requirements:"5+ years experience in sports facility management. Strong leadership and communication skills. Knowledge of sports equipment maintenance.",salary:"PKR 150,000 - 200,000 / month",isActive:!0},{id:"2",title:"Padel Tennis Coach",department:"Sports",location:"Islamabad",type:"Full-time",description:"Provide professional coaching for our Padel Tennis program, conducting group classes and private lessons for members of all skill levels.",requirements:"Certified Padel Tennis instructor. 3+ years coaching experience. Fluent in English and Urdu.",salary:"PKR 80,000 - 120,000 / month",isActive:!0},{id:"3",title:"Member Relations Officer",department:"Customer Service",location:"Islamabad",type:"Full-time",description:"Serve as the primary point of contact for members, handling inquiries, feedback, and ensuring exceptional service standards.",requirements:"2+ years customer service experience. Excellent communication skills. Proficiency in CRM systems.",salary:"PKR 50,000 - 70,000 / month",isActive:!0},{id:"4",title:"Range Safety Officer",department:"Safety",location:"Islamabad",type:"Full-time",description:"Ensure safe operations of the Air Rifle Range, conduct safety certifications, and supervise shooting sessions.",requirements:"Military or law enforcement background preferred. Safety certification required. First aid trained.",salary:"PKR 60,000 - 90,000 / month",isActive:!0},{id:"5",title:"Events Coordinator",department:"Events",location:"Islamabad",type:"Part-time",description:"Plan and execute tournaments, social events, and corporate functions at The Quarterdeck.",requirements:"Event management experience. Strong organizational skills. Weekend availability required.",salary:"PKR 40,000 - 60,000 / month",isActive:!0}];function ule(){Fr({title:"Careers",description:"Join The Quarterdeck team. Explore career opportunities at Islamabad's premier sports and recreation complex. Apply for positions in operations, coaching, and hospitality."});const{toast:e}=gt(),{user:t}=Ji(),[r,n]=y.useState(null),[a,i]=y.useState(!1),[o,l]=y.useState(!1),{getValue:c}=Dr(["page_careers_title","page_careers_subtitle","page_careers_positions_title","page_careers_apply_cta","page_careers_no_positions"],Ee),u=(t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN",{data:d}=ce({queryKey:["/api/careers"]}),f=$s({resolver:Ms(HO),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),h=$s({resolver:Ms(HO),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),p=xe({mutationFn:async v=>await ve("POST",`/api/careers/${v.careerId}/apply`,{fullName:v.name,email:v.email,phone:v.phone,cvUrl:v.cvUrl||null,linkedinUrl:v.linkedinUrl||null,coverLetter:v.coverLetter}),onSuccess:()=>{e({title:"Application Submitted",description:"Thank you for your application. We will review it and get back to you soon."}),i(!1),f.reset()},onError:v=>{e({title:"Submission Failed",description:v.message||"Unable to submit application. Please try again.",variant:"destructive"})}}),b=xe({mutationFn:async v=>await ve("POST","/api/careers/general-application",{fullName:v.name,email:v.email,phone:v.phone,cvUrl:v.cvUrl||null,linkedinUrl:v.linkedinUrl||null,coverLetter:v.coverLetter}),onSuccess:()=>{e({title:"CV Submitted",description:"Thank you for your interest! We will keep your CV on file for future opportunities."}),l(!1),h.reset()},onError:v=>{e({title:"Submission Failed",description:v.message||"Unable to submit CV. Please try again.",variant:"destructive"})}}),m=v=>{r&&p.mutate({...v,careerId:r.id})},w=v=>{n(v),i(!0)},g=(d&&d.length>0?d:cle).filter(v=>v.isActive);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:c("page_careers_title"),subtitle:c("page_careers_subtitle"),testId:"text-careers-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Fa,{}),s.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Why Work at The Quarterdeck?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsx(re,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(fm,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Career Growth"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Opportunities for advancement and professional development"})]})}),s.jsx(re,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(ms,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Prime Location"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Work in a beautiful, state-of-the-art facility in Islamabad"})]})}),s.jsx(re,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Kt,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Flexible Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Various shift options to accommodate work-life balance"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-6",children:"Open Positions"}),g.length===0?s.jsx(re,{children:s.jsx(se,{className:"p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No open positions at the moment. Check back soon or send us your CV for future opportunities."})})}):s.jsx("div",{className:"space-y-4",children:g.map(v=>s.jsx(re,{className:"hover-elevate","data-testid":`card-job-${v.id}`,children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:v.title}),s.jsx(ue,{variant:"secondary",className:"text-xs",children:v.type})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fm,{className:"w-4 h-4"})," ",v.department]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ms,{className:"w-4 h-4"})," ",v.location]}),u&&v.salary&&s.jsx("span",{className:"text-primary dark:text-sky-400 font-medium",children:v.salary})]}),s.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:v.description}),v.requirements&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Requirements: "}),s.jsx("span",{className:"text-muted-foreground",children:v.requirements})]})]}),s.jsxs($,{className:" flex-shrink-0",onClick:()=>w(v),"data-testid":`button-apply-${v.id}`,children:["Apply Now ",s.jsx(na,{className:"w-4 h-4 ml-1"})]})]})})},v.id))})]}),s.jsxs(re,{className:"mt-12",children:[s.jsx(Ue,{children:s.jsx(Ke,{children:"Don't See the Right Fit?"})}),s.jsxs(se,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"We're always looking for talented individuals to join our team. Send us your CV and we'll keep you in mind for future opportunities."}),s.jsxs($,{className:"",onClick:()=>l(!0),"data-testid":"button-submit-cv",children:[s.jsx($a,{className:"w-4 h-4 mr-2"})," Send Your CV"]})]})]})]})]})]}),s.jsx(rr,{}),s.jsx(It,{open:a,onOpenChange:i,children:s.jsxs(Et,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(Rt,{children:[s.jsxs($t,{children:["Apply for ",r==null?void 0:r.title]}),s.jsx(oi,{children:"Fill out the form below to submit your application"})]}),s.jsx(Ls,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(m),className:"space-y-4",children:[s.jsx(Ze,{control:f.control,name:"name",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Full Name"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"John Doe",...v,"data-testid":"input-applicant-name"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:f.control,name:"email",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Email"}),s.jsx(Je,{children:s.jsx(Q,{type:"email",placeholder:"john@example.com",...v,"data-testid":"input-applicant-email"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:f.control,name:"phone",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"+92 300 1234567",...v,"data-testid":"input-applicant-phone"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:f.control,name:"cvUrl",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"CV/Resume URL (Optional)"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"https://drive.google.com/...",...v,"data-testid":"input-applicant-cv"})}),s.jsx(rt,{}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a link to your CV on Google Drive, Dropbox, or similar service"})]})}),s.jsx(Ze,{control:f.control,name:"linkedinUrl",render:({field:v})=>s.jsxs(Xe,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(J1,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"https://linkedin.com/in/...",...v,"data-testid":"input-applicant-linkedin"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:f.control,name:"coverLetter",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Cover Letter"}),s.jsx(Je,{children:s.jsx(lt,{placeholder:"Tell us why you're interested in this position and what makes you a great fit...",className:"min-h-[120px]",...v,"data-testid":"input-applicant-cover-letter"})}),s.jsx(rt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-application",children:"Cancel"}),s.jsxs($,{type:"submit",disabled:p.isPending,className:"","data-testid":"button-submit-application",children:[p.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(ax,{className:"w-4 h-4 mr-2"}),"Submit Application"]})]})]})})]})}),s.jsx(It,{open:o,onOpenChange:l,children:s.jsxs(Et,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(Rt,{children:[s.jsx($t,{children:"Send Your CV"}),s.jsx(oi,{children:"Submit your CV for future opportunities at The Quarterdeck"})]}),s.jsx(Ls,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(v=>b.mutate(v)),className:"space-y-4",children:[s.jsx(Ze,{control:h.control,name:"name",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Full Name"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"John Doe",...v,"data-testid":"input-cv-name"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:h.control,name:"email",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Email"}),s.jsx(Je,{children:s.jsx(Q,{type:"email",placeholder:"john@example.com",...v,"data-testid":"input-cv-email"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:h.control,name:"phone",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"+92 300 1234567",...v,"data-testid":"input-cv-phone"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:h.control,name:"cvUrl",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"CV/Resume URL"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"https://drive.google.com/...",...v,"data-testid":"input-cv-url"})}),s.jsx(rt,{}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a link to your CV on Google Drive, Dropbox, or similar service"})]})}),s.jsx(Ze,{control:h.control,name:"linkedinUrl",render:({field:v})=>s.jsxs(Xe,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(J1,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"https://linkedin.com/in/...",...v,"data-testid":"input-cv-linkedin"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:h.control,name:"coverLetter",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Message / Cover Letter"}),s.jsx(Je,{children:s.jsx(lt,{placeholder:"Tell us about yourself, your skills, and what kind of role you're looking for...",className:"min-h-[120px]",...v,"data-testid":"input-cv-cover-letter"})}),s.jsx(rt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-cv",children:"Cancel"}),s.jsxs($,{type:"submit",disabled:b.isPending,className:"","data-testid":"button-submit-cv-form",children:[b.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(ax,{className:"w-4 h-4 mr-2"}),"Submit CV"]})]})]})})]})})]})}function dle(){Fr({title:"Terms & Conditions",description:"The Quarterdeck's terms and conditions. Review our policies for membership, facility usage, bookings, and member conduct."});const{getValue:e}=Dr(["page_terms_title","page_terms_subtitle"],Ee),{data:t,isLoading:r}=ce({queryKey:["/api/cms/bulk"]}),n=t==null?void 0:t.find(i=>i.key==="terms_conditions");let a=[];try{n!=null&&n.content&&(a=JSON.parse(n.content))}catch{console.error("Failed to parse terms content")}return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:e("page_terms_title"),subtitle:e("page_terms_subtitle"),testId:"text-terms-title"}),s.jsx("div",{className:"qd-container py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx($a,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Terms & Conditions are being updated. Please check back soon."})]}):a.map((i,o)=>s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:i.section}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:i.content}),i.items&&i.items.length>0&&s.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:i.items.map((l,c)=>s.jsx("li",{children:l},c))})]},o))})})]}),s.jsx(rr,{})]})}function fle(){Fr({title:"Privacy Policy",description:"The Quarterdeck's privacy policy. Learn how we collect, use, and protect your personal information at our sports complex."});const{getValue:e}=Dr(["page_privacy_title","page_privacy_subtitle"],Ee),{data:t,isLoading:r}=ce({queryKey:["/api/cms/bulk"]}),n=t==null?void 0:t.find(i=>i.key==="privacy_policy");let a=[];try{n!=null&&n.content&&(a=JSON.parse(n.content))}catch{console.error("Failed to parse privacy policy content")}return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:e("page_privacy_title"),subtitle:e("page_privacy_subtitle"),testId:"text-privacy-title"}),s.jsx("div",{className:"qd-container py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(pm,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Privacy policy is being updated. Please check back soon."})]}):a.map((i,o)=>s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:i.section}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:i.content}),i.items&&i.items.length>0&&s.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:i.items.map((l,c)=>{const u=l.indexOf(":");if(u>-1&&u<30){const d=l.slice(0,u),f=l.slice(u+1);return s.jsxs("li",{children:[s.jsxs("strong",{children:[d,":"]}),f]},c)}return s.jsx("li",{children:l},c)})})]},o))})})]}),s.jsx(rr,{})]})}const hle=[{key:"coming-soon-1",src:GF,alt:"Complex Exterior Render",caption:"Premium Sports Complex Design"},{key:"coming-soon-2",src:jf,alt:"Padel Tennis Courts",caption:"World-Class Padel Courts"},{key:"coming-soon-3",src:Db,alt:"Squash Court",caption:"Professional Squash Facility"},{key:"coming-soon-4",src:QF,alt:"Sports Arena",caption:"Modern Architecture"},{key:"coming-soon-5",src:YF,alt:"Construction Progress",caption:"Building Your Future"}];function mle(){Fr({title:"Coming Soon",description:"The Quarterdeck is coming to Islamabad in Q4 2026. Join our waitlist for exclusive early access to Pakistan's premier sports and recreation complex."});const{toast:e}=gt(),[t,r]=y.useState(""),[n,a]=y.useState({days:0,hours:0,minutes:0,seconds:0}),[i,o]=y.useState(!1),{getValue:l}=Dr(["coming_soon_title","coming_soon_subtitle","coming_soon_launch_date","coming_soon_location","site_name","hero_eyebrow"],Ee),{data:c=[]}=ce({queryKey:["/api/site-images","coming-soon"],queryFn:async()=>{const w=await(await fetch("/api/site-images?page=coming-soon")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),u=y.useMemo(()=>hle.map(m=>{const w=c.find(x=>x.section===m.key&&x.isActive);return{...m,src:(w==null?void 0:w.imageUrl)||m.src,alt:(w==null?void 0:w.alt)||m.alt,caption:(w==null?void 0:w.title)||m.caption}}),[c]),d=l("coming_soon_launch_date")||Ee.coming_soon_launch_date||"2026-10-01",f=new Date(d);y.useEffect(()=>{const m=()=>{const x=+f-+new Date;return x>0?(o(!1),{days:Math.floor(x/864e5),hours:Math.floor(x/36e5%24),minutes:Math.floor(x/1e3/60%60),seconds:Math.floor(x/1e3%60)}):(o(!0),{days:0,hours:0,minutes:0,seconds:0})};a(m());const w=setInterval(()=>{a(m())},1e3);return()=>clearInterval(w)},[d]);const h=xe({mutationFn:async m=>await ve("POST","/api/contact",{name:"Early Interest Subscriber",email:m,subject:"Coming Soon - Early Interest",message:"I would like to receive updates about The Quarterdeck launch."}),onSuccess:()=>{e({title:"Successfully Subscribed",description:"You'll be the first to know when we launch!"}),r("")},onError:m=>{e({title:"Subscription Failed",description:m.message||"Please try again later.",variant:"destructive"})}}),p=m=>{m.preventDefault(),t&&h.mutate(t)},b=({value:m,label:w})=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 flex items-center justify-center rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:s.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white tabular-nums",children:m.toString().padStart(2,"0")})}),s.jsx("span",{className:"mt-2 text-sm sm:text-base text-white/80 uppercase tracking-widest font-medium",children:w})]});return s.jsxs("div",{className:"min-h-screen bg-[#1a2a40] relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-amber-500/20 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("header",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(fe,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center backdrop-blur",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"Q"})}),s.jsx("span",{className:"text-xl font-semibold text-white hidden sm:block",children:l("site_name")||Ee.site_name})]})}),s.jsx(fe,{href:"/",children:s.jsxs($,{variant:"outline",className:"text-white border-white/30 bg-white/10 backdrop-blur-sm",children:["Full Website ",s.jsx(ab,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx("main",{className:"container mx-auto px-6 py-12 md:py-24",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("span",{className:"inline-block px-4 py-1.5 bg-amber-500/20 text-amber-300 rounded-full text-sm font-medium",children:l("hero_eyebrow")||Ee.hero_eyebrow}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight",children:l("coming_soon_title")||Ee.coming_soon_title}),s.jsx("p",{className:"text-lg text-white/70 max-w-lg",children:l("coming_soon_subtitle")||Ee.coming_soon_subtitle})]}),s.jsxs("div",{className:"flex items-center gap-4 text-white/70",children:[s.jsx(ms,{className:"w-5 h-5"}),s.jsx("span",{children:l("coming_soon_location")||Ee.coming_soon_location||"Islamabad, Pakistan"})]}),i?s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-xl",children:[s.jsx(xn,{className:"w-6 h-6"}),s.jsx("span",{className:"font-semibold",children:"We're Live!"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[s.jsx(wr,{className:"w-5 h-5"}),s.jsx("span",{children:"Expected Launch: Q4 2026"})]}),s.jsxs("div",{className:"flex gap-3 sm:gap-4 md:gap-6",children:[s.jsx(b,{value:n.days,label:"Days"}),s.jsx(b,{value:n.hours,label:"Hours"}),s.jsx(b,{value:n.minutes,label:"Mins"}),s.jsx(b,{value:n.seconds,label:"Secs"})]})]}),s.jsx(re,{className:"bg-white/10 border-white/20 backdrop-blur",children:s.jsxs(se,{className:"p-6",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[s.jsx(hf,{className:"w-5 h-5"}),"Get Early Access Updates"]}),s.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(Q,{type:"email",placeholder:"your@email.com",value:t,onChange:m=>r(m.target.value),className:"flex-1 bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0,"data-testid":"input-email-subscribe"}),s.jsx($,{type:"submit",disabled:h.isPending,className:"bg-amber-500 text-white","data-testid":"button-subscribe",children:h.isPending?s.jsx(Re,{className:"w-4 h-4 animate-spin"}):"Notify Me"})]}),s.jsx("p",{className:"text-xs text-white/50 mt-3",children:"Join the waitlist for exclusive pre-launch offers and founding member benefits."})]})})]}),s.jsx("div",{className:"lg:pl-8",children:s.jsx(zp,{opts:{loop:!0},plugins:[wf({delay:4e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Wp,{children:u.map((m,w)=>s.jsx(Kp,{children:s.jsxs("div",{className:"relative aspect-[4/3] rounded-2xl overflow-hidden",children:[s.jsx("img",{src:m.src,alt:m.alt,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:s.jsx("p",{className:"text-white font-medium text-lg",children:m.caption})})]})},w))})})})]})}),s.jsx("footer",{className:"container mx-auto px-6 py-8 border-t border-white/10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsx("p",{className:"text-white/50 text-sm",children:"2024-2027 The Quarterdeck. All rights reserved."}),s.jsxs("div",{className:"flex items-center gap-4 text-white/50 text-sm",children:[s.jsx(Kt,{className:"w-4 h-4"}),s.jsx("span",{children:"Pre-launch Phase"})]})]})})]})]})}const ple=la({name:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email address"),phone:vt().optional(),subject:vt().min(3,"Subject must be at least 3 characters"),message:vt().min(10,"Message must be at least 10 characters")});function gle(){Fr({title:"Contact Us",description:"Get in touch with The Quarterdeck. Contact us for facility inquiries, membership questions, event bookings, or general information about our sports complex in Islamabad."});const{toast:e}=gt(),[t,r]=y.useState(!1),{getValue:n}=Dr(["page_contact_title","page_contact_subtitle","page_contact_form_title","page_contact_success_title","page_contact_success_message","page_contact_info_title","page_contact_social_title","page_contact_faq_title"],Ee),{data:a={}}=ce({queryKey:["/api/site-settings"],queryFn:async()=>{try{const d=await fetch("/api/site-settings");if(!d.ok)return{};const f=await d.json();return f&&typeof f=="object"&&!f.message?f:{}}catch{return{}}}}),i=d=>a[d]||"",o=$s({resolver:Ms(ple),defaultValues:{name:"",email:"",phone:"",subject:"",message:""}}),l=xe({mutationFn:async d=>await ve("POST","/api/contact",d),onSuccess:()=>{e({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),r(!0),o.reset()},onError:d=>{e({title:"Error",description:d.message||"Failed to send message. Please try again.",variant:"destructive"})}}),c=d=>{l.mutate(d)},u=[{icon:wr,title:"Book a Facility",description:"Reserve courts, halls, and more",href:"/booking"},{icon:Er,title:"Membership",description:"Join The Quarterdeck community",href:"/membership"},{icon:vn,title:"Our Facilities",description:"Explore what we offer",href:"/facilities"}];return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:n("page_contact_title"),subtitle:n("page_contact_subtitle"),testId:"text-contact-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Fa,{}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(D5,{className:"w-5 h-5"}),n("page_contact_form_title")]})}),s.jsx(se,{children:t?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mx-auto mb-4",children:s.jsx(ax,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:n("page_contact_success_title")}),s.jsx("p",{className:"text-muted-foreground mb-4",children:n("page_contact_success_message")}),s.jsx($,{onClick:()=>r(!1),variant:"outline",children:"Send Another Message"})]}):s.jsx(Ls,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(Ze,{control:o.control,name:"name",render:({field:d})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Full Name *"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"Your name",...d,"data-testid":"input-contact-name"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:o.control,name:"email",render:({field:d})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Email Address *"}),s.jsx(Je,{children:s.jsx(Q,{type:"email",placeholder:"your@email.com",...d,"data-testid":"input-contact-email"})}),s.jsx(rt,{})]})})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(Ze,{control:o.control,name:"phone",render:({field:d})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"+92 xxx xxxxxxx",...d,"data-testid":"input-contact-phone"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:o.control,name:"subject",render:({field:d})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Subject *"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"What's this about?",...d,"data-testid":"input-contact-subject"})}),s.jsx(rt,{})]})})]}),s.jsx(Ze,{control:o.control,name:"message",render:({field:d})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Message *"}),s.jsx(Je,{children:s.jsx(lt,{placeholder:"How can we help you?",rows:5,...d,"data-testid":"input-contact-message"})}),s.jsx(rt,{})]})}),s.jsx($,{type:"submit",className:"w-full sm:w-auto",disabled:l.isPending,"data-testid":"button-contact-submit",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ax,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Links"}),s.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:u.map(d=>s.jsx(fe,{href:d.href,children:s.jsx(re,{className:"h-full hover-elevate cursor-pointer","data-testid":`link-quick-${d.title.toLowerCase().replace(/\s/g,"-")}`,children:s.jsxs(se,{className:"p-4",children:[s.jsx(d.icon,{className:"w-8 h-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold mb-1",children:d.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})})},d.href))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsx(Ke,{children:n("page_contact_info_title")})}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ms,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("address")||"The Quarterdeck Sports Complex, Islamabad, Pakistan"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(sx,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("phone")||"+92 51 XXX XXXX"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(hf,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("email")||"info@thequarterdeck.pk"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Kt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Operating Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("operating_hours")||"6:00 AM - 11:00 PM Daily"})]})]})]})]}),s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsx(Ke,{children:n("page_contact_social_title")})}),s.jsx(se,{children:s.jsxs("div",{className:"flex gap-3",children:[i("facebook")&&s.jsx("a",{href:i("facebook"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-facebook",children:s.jsx(A5,{className:"w-5 h-5 text-primary"})}),i("instagram")&&s.jsx("a",{href:i("instagram"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-instagram",children:s.jsx(R5,{className:"w-5 h-5 text-primary"})}),i("twitter")&&s.jsx("a",{href:i("twitter"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-twitter",children:s.jsx(gG,{className:"w-5 h-5 text-primary"})}),!i("facebook")&&!i("instagram")&&!i("twitter")&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Social links coming soon"})]})})]}),s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Js,{className:"w-5 h-5"}),n("page_contact_faq_title")]})}),s.jsxs(se,{className:"space-y-1",children:[s.jsxs(k8,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(Ru,{value:"booking",className:"border-b-0",children:[s.jsx($u,{className:"text-sm py-3 hover:no-underline","data-testid":"faq-booking",children:"How do I book a facility?"}),s.jsx(Mu,{className:"text-sm text-muted-foreground",children:"You can book facilities through our booking page. Simply select the facility, choose your preferred date and time slot, and confirm your reservation. Members get priority booking windows based on their tier."})]}),s.jsxs(Ru,{value:"membership",className:"border-b-0",children:[s.jsx($u,{className:"text-sm py-3 hover:no-underline","data-testid":"faq-membership",children:"What membership options are available?"}),s.jsx(Mu,{className:"text-sm text-muted-foreground",children:"We offer Founding Member, Gold, Silver, and Pay-to-Play options. Each tier includes different benefits like booking windows, discounts, and guest passes. Visit our membership page for details."})]}),s.jsxs(Ru,{value:"rules",className:"border-b-0",children:[s.jsx($u,{className:"text-sm py-3 hover:no-underline","data-testid":"faq-rules",children:"What are the facility rules?"}),s.jsx(Mu,{className:"text-sm text-muted-foreground",children:"All members must follow our facility guidelines including proper attire, court etiquette, and safety protocols. Visit our Rules page for the complete list."})]}),s.jsxs(Ru,{value:"events",className:"border-b-0",children:[s.jsx($u,{className:"text-sm py-3 hover:no-underline","data-testid":"faq-events",children:"How do I join events?"}),s.jsx(Mu,{className:"text-sm text-muted-foreground",children:"Check our Events page for upcoming tournaments and activities. Members can register directly through the event details page. Some events may have limited spots."})]})]}),s.jsx("div",{className:"pt-3 border-t",children:s.jsx(fe,{href:"/faq",children:s.jsx($,{variant:"outline",size:"sm",className:"w-full","data-testid":"link-view-more-faq",children:"View All FAQs"})})})]})]})]})]})]})]}),s.jsx(rr,{})]})}const vle={"help-circle":Js,users:Er,calendar:wr,"credit-card":jd,clock:Kt,"building-2":vn,shield:Go,settings:mm};function xle({item:e,isOpen:t,onToggle:r}){return s.jsxs("div",{className:"border-b border-border last:border-b-0",children:[s.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between py-4 text-left hover-elevate","data-testid":`button-faq-${e.id}`,children:[s.jsx("span",{className:"font-medium text-foreground pr-4",children:e.question}),s.jsx(Ra,{className:`w-5 h-5 text-muted-foreground shrink-0 transition-transform ${t?"rotate-180":""}`})]}),t&&s.jsx("div",{className:"pb-4 text-muted-foreground animate-qd-fade-in",children:e.answer})]})}function yle(){Fr({title:"Frequently Asked Questions",description:"Find answers to common questions about The Quarterdeck - membership, booking, facilities, payments, and policies at Islamabad's sports complex."});const[e,t]=y.useState({}),{getValue:r}=Dr(["page_faq_title","page_faq_subtitle","page_faq_contact_cta"],Ee),{data:n=[],isLoading:a}=ce({queryKey:["/api/faq"]}),i=l=>{t(c=>({...c,[l]:!c[l]}))},o=l=>vle[l||"help-circle"]||Js;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:r("page_faq_title"),subtitle:r("page_faq_subtitle"),testId:"text-faq-title"}),s.jsx("section",{className:"py-12 md:py-16",children:s.jsxs("div",{className:"qd-container max-w-5xl mx-auto",children:[s.jsx(Fa,{items:[{label:"FAQ"}]}),a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx(re,{className:"overflow-visible",children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(Js,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQs Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Check back later for frequently asked questions."})]})}):s.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:n.map(l=>{const c=o(l.icon);return s.jsx(re,{className:"overflow-visible","data-testid":`card-faq-${l.id}`,children:s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(c,{className:"w-5 h-5 text-primary"})}),s.jsx("h2",{className:"text-lg font-semibold",children:l.title})]}),s.jsx("div",{children:l.items.length===0?s.jsx("p",{className:"text-muted-foreground text-sm",children:"No questions in this category yet."}):l.items.map(u=>s.jsx(xle,{item:u,isOpen:e[u.id]||!1,onToggle:()=>i(u.id)},u.id))})]})},l.id)})}),s.jsx("div",{className:"mt-12 text-center",children:s.jsx(re,{className:"inline-block overflow-visible",children:s.jsxs(se,{className:"p-8",children:[s.jsx(Js,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Still have questions?"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Our team is here to help. Get in touch and we'll respond as soon as possible."}),s.jsx(fe,{href:"/contact",children:s.jsx($,{"data-testid":"button-contact-us",children:"Contact Us"})})]})})})]})})]}),s.jsx(rr,{})]})}function ble(e){const t=wle(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(Nle);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function wle(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=Sle(a),l=_le(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Xn(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jle=Symbol("radix.slottable");function Nle(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jle}function _le(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Sle(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function MC(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var kle=[" ","Enter","ArrowUp","ArrowDown"],Cle=[" ","Enter"],bc="Select",[Xb,Jb,Ple]=Sp(bc),[Nf]=Cn(bc,[Ple,al]),Zb=al(),[Ele,ol]=Nf(bc),[Ale,Ole]=Nf(bc),C8=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:b}=e,m=Zb(t),[w,x]=y.useState(null),[g,v]=y.useState(null),[j,N]=y.useState(!1),_=bf(u),[S,k]=hs({prop:n,defaultProp:a??!1,onChange:i,caller:bc}),[C,P]=hs({prop:o,defaultProp:l,onChange:c,caller:bc}),E=y.useRef(null),O=w?b||!!w.closest("form"):!0,[I,T]=y.useState(new Set),M=Array.from(I).map(V=>V.props.value).join(";");return s.jsx(gb,{...m,children:s.jsxs(Ele,{required:p,scope:t,trigger:w,onTriggerChange:x,valueNode:g,onValueNodeChange:v,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Wr(),value:C,onValueChange:P,open:S,onOpenChange:k,dir:_,triggerPointerDownPosRef:E,disabled:h,children:[s.jsx(Xb.Provider,{scope:t,children:s.jsx(Ale,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(V=>{T(K=>new Set(K).add(V))},[]),onNativeOptionRemove:y.useCallback(V=>{T(K=>{const A=new Set(K);return A.delete(V),A})},[]),children:r})}),O?s.jsxs(X8,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:V=>P(V.target.value),disabled:h,form:b,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},M):null]})})};C8.displayName=bc;var P8="SelectTrigger",E8=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Zb(r),o=ol(P8,r),l=o.disabled||n,c=dt(t,o.onTriggerChange),u=Jb(r),d=y.useRef("touch"),[f,h,p]=Z8(m=>{const w=u().filter(v=>!v.disabled),x=w.find(v=>v.value===o.value),g=eU(w,m,x);g!==void 0&&o.onValueChange(g.value)}),b=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(Tp,{asChild:!0,...i,children:s.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":J8(o.value)?"":void 0,...a,ref:c,onClick:Ne(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&b(m)}),onPointerDown:Ne(a.onPointerDown,m=>{d.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(b(m),m.preventDefault())}),onKeyDown:Ne(a.onKeyDown,m=>{const w=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(w&&m.key===" ")&&kle.includes(m.key)&&(b(),m.preventDefault())})})})});E8.displayName=P8;var A8="SelectValue",O8=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=ol(A8,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=dt(t,c.onValueNodeChange);return Mr(()=>{u(d)},[u,d]),s.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:J8(c.value)?s.jsx(s.Fragment,{children:o}):i})});O8.displayName=A8;var Tle="SelectIcon",T8=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Me.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});T8.displayName=Tle;var Ile="SelectPortal",I8=e=>s.jsx(ff,{asChild:!0,...e});I8.displayName=Ile;var wc="SelectContent",R8=y.forwardRef((e,t)=>{const r=ol(wc,e.__scopeSelect),[n,a]=y.useState();if(Mr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Oc.createPortal(s.jsx($8,{scope:e.__scopeSelect,children:s.jsx(Xb.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(M8,{...e,ref:t})});R8.displayName=wc;var pa=10,[$8,ll]=Nf(wc),Rle="SelectContentImpl",$le=ble("SelectContent.RemoveScroll"),M8=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:b,hideWhenDetached:m,avoidCollisions:w,...x}=e,g=ol(wc,r),[v,j]=y.useState(null),[N,_]=y.useState(null),S=dt(t,ee=>j(ee)),[k,C]=y.useState(null),[P,E]=y.useState(null),O=Jb(r),[I,T]=y.useState(!1),M=y.useRef(!1);y.useEffect(()=>{if(v)return kb(v)},[v]),Sb();const V=y.useCallback(ee=>{const[we,...ae]=O().map(H=>H.ref.current),[L]=ae.slice(-1),te=document.activeElement;for(const H of ee)if(H===te||(H==null||H.scrollIntoView({block:"nearest"}),H===we&&N&&(N.scrollTop=0),H===L&&N&&(N.scrollTop=N.scrollHeight),H==null||H.focus(),document.activeElement!==te))return},[O,N]),K=y.useCallback(()=>V([k,v]),[V,k,v]);y.useEffect(()=>{I&&K()},[I,K]);const{onOpenChange:A,triggerPointerDownPosRef:R}=g;y.useEffect(()=>{if(v){let ee={x:0,y:0};const we=L=>{var te,H;ee={x:Math.abs(Math.round(L.pageX)-(((te=R.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(L.pageY)-(((H=R.current)==null?void 0:H.y)??0))}},ae=L=>{ee.x<=10&&ee.y<=10?L.preventDefault():v.contains(L.target)||A(!1),document.removeEventListener("pointermove",we),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",ae,{capture:!0})}}},[v,A,R]),y.useEffect(()=>{const ee=()=>A(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[A]);const[G,Y]=Z8(ee=>{const we=O().filter(te=>!te.disabled),ae=we.find(te=>te.ref.current===document.activeElement),L=eU(we,ee,ae);L&&setTimeout(()=>L.ref.current.focus())}),F=y.useCallback((ee,we,ae)=>{const L=!M.current&&!ae;(g.value!==void 0&&g.value===we||L)&&(C(ee),L&&(M.current=!0))},[g.value]),X=y.useCallback(()=>v==null?void 0:v.focus(),[v]),le=y.useCallback((ee,we,ae)=>{const L=!M.current&&!ae;(g.value!==void 0&&g.value===we||L)&&E(ee)},[g.value]),he=n==="popper"?DN:D8,je=he===DN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:b,hideWhenDetached:m,avoidCollisions:w}:{};return s.jsx($8,{scope:r,content:v,viewport:N,onViewportChange:_,itemRefCallback:F,selectedItem:k,onItemLeave:X,itemTextRefCallback:le,focusSelectedItem:K,selectedItemText:P,position:n,isPositioned:I,searchRef:G,children:s.jsx(Mp,{as:$le,allowPinchZoom:!0,children:s.jsx($p,{asChild:!0,trapped:g.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Ne(a,ee=>{var we;(we=g.trigger)==null||we.focus({preventScroll:!0}),ee.preventDefault()}),children:s.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:s.jsx(he,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:ee=>ee.preventDefault(),...x,...je,onPlaced:()=>T(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ne(x.onKeyDown,ee=>{const we=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!we&&ee.key.length===1&&Y(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let L=O().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const te=ee.target,H=L.indexOf(te);L=L.slice(H+1)}setTimeout(()=>V(L)),ee.preventDefault()}})})})})})})});M8.displayName=Rle;var Mle="SelectItemAlignedPosition",D8=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ol(wc,r),o=ll(wc,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=dt(t,S=>d(S)),h=Jb(r),p=y.useRef(!1),b=y.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:x,focusSelectedItem:g}=o,v=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&w&&x){const S=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(i.dir!=="rtl"){const te=P.left-k.left,H=C.left-te,U=S.left-H,me=S.width+U,He=Math.max(me,k.width),Pe=window.innerWidth-pa,ht=xN(H,[pa,Math.max(pa,Pe-He)]);l.style.minWidth=me+"px",l.style.left=ht+"px"}else{const te=k.right-P.right,H=window.innerWidth-C.right-te,U=window.innerWidth-S.right-H,me=S.width+U,He=Math.max(me,k.width),Pe=window.innerWidth-pa,ht=xN(H,[pa,Math.max(pa,Pe-He)]);l.style.minWidth=me+"px",l.style.right=ht+"px"}const E=h(),O=window.innerHeight-pa*2,I=m.scrollHeight,T=window.getComputedStyle(u),M=parseInt(T.borderTopWidth,10),V=parseInt(T.paddingTop,10),K=parseInt(T.borderBottomWidth,10),A=parseInt(T.paddingBottom,10),R=M+V+I+A+K,G=Math.min(w.offsetHeight*5,R),Y=window.getComputedStyle(m),F=parseInt(Y.paddingTop,10),X=parseInt(Y.paddingBottom,10),le=S.top+S.height/2-pa,he=O-le,je=w.offsetHeight/2,ee=w.offsetTop+je,we=M+V+ee,ae=R-we;if(we<=le){const te=E.length>0&&w===E[E.length-1].ref.current;l.style.bottom="0px";const H=u.clientHeight-m.offsetTop-m.offsetHeight,U=Math.max(he,je+(te?X:0)+H+K),me=we+U;l.style.height=me+"px"}else{const te=E.length>0&&w===E[0].ref.current;l.style.top="0px";const U=Math.max(le,M+m.offsetTop+(te?F:0)+je)+ae;l.style.height=U+"px",m.scrollTop=we-le+m.offsetTop}l.style.margin=`${pa}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,w,x,i.dir,n]);Mr(()=>v(),[v]);const[j,N]=y.useState();Mr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const _=y.useCallback(S=>{S&&b.current===!0&&(v(),g==null||g(),b.current=!1)},[v,g]);return s.jsx(Lle,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Me.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});D8.displayName=Mle;var Dle="SelectPopperPosition",DN=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=pa,...i}=e,o=Zb(r);return s.jsx(vb,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});DN.displayName=Dle;var[Lle,DC]=Nf(wc,{}),LN="SelectViewport",L8=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=ll(LN,r),o=DC(LN,r),l=dt(t,i.onViewportChange),c=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Xb.Slot,{scope:r,children:s.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ne(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const b=window.innerHeight-pa*2,m=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(m,w);if(x<b){const g=x+p,v=Math.min(b,g),j=g-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});L8.displayName=LN;var F8="SelectGroup",[Fle,Ule]=Nf(F8),Ble=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Wr();return s.jsx(Fle,{scope:r,id:a,children:s.jsx(Me.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Ble.displayName=F8;var U8="SelectLabel",B8=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ule(U8,r);return s.jsx(Me.div,{id:a.id,...n,ref:t})});B8.displayName=U8;var Dx="SelectItem",[Vle,V8]=Nf(Dx),q8=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=ol(Dx,r),c=ll(Dx,r),u=l.value===n,[d,f]=y.useState(i??""),[h,p]=y.useState(!1),b=dt(t,g=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,g,n,a)}),m=Wr(),w=y.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Vle,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:y.useCallback(g=>{f(v=>v||((g==null?void 0:g.textContent)??"").trim())},[]),children:s.jsx(Xb.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Me.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:Ne(o.onFocus,()=>p(!0)),onBlur:Ne(o.onBlur,()=>p(!1)),onClick:Ne(o.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:Ne(o.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:Ne(o.onPointerDown,g=>{w.current=g.pointerType}),onPointerMove:Ne(o.onPointerMove,g=>{var v;w.current=g.pointerType,a?(v=c.onItemLeave)==null||v.call(c):w.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(o.onPointerLeave,g=>{var v;g.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Ne(o.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(Cle.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});q8.displayName=Dx;var jh="SelectItemText",z8=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=ol(jh,r),l=ll(jh,r),c=V8(jh,r),u=Ole(jh,r),[d,f]=y.useState(null),h=dt(t,x=>f(x),c.onItemTextChange,x=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,b=y.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=u;return Mr(()=>(m(b),()=>w(b)),[m,w,b]),s.jsxs(s.Fragment,{children:[s.jsx(Me.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Oc.createPortal(i.children,o.valueNode):null]})});z8.displayName=jh;var W8="SelectItemIndicator",K8=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return V8(W8,r).isSelected?s.jsx(Me.span,{"aria-hidden":!0,...n,ref:t}):null});K8.displayName=W8;var FN="SelectScrollUpButton",H8=y.forwardRef((e,t)=>{const r=ll(FN,e.__scopeSelect),n=DC(FN,e.__scopeSelect),[a,i]=y.useState(!1),o=dt(t,n.onScrollButtonChange);return Mr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Q8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});H8.displayName=FN;var UN="SelectScrollDownButton",G8=y.forwardRef((e,t)=>{const r=ll(UN,e.__scopeSelect),n=DC(UN,e.__scopeSelect),[a,i]=y.useState(!1),o=dt(t,n.onScrollButtonChange);return Mr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Q8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});G8.displayName=UN;var Q8=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=ll("SelectScrollButton",r),o=y.useRef(null),l=Jb(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Mr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ne(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ne(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ne(a.onPointerLeave,()=>{c()})})}),qle="SelectSeparator",Y8=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Me.div,{"aria-hidden":!0,...n,ref:t})});Y8.displayName=qle;var BN="SelectArrow",zle=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Zb(r),i=ol(BN,r),o=ll(BN,r);return i.open&&o.position==="popper"?s.jsx(xb,{...a,...n,ref:t}):null});zle.displayName=BN;var Wle="SelectBubbleInput",X8=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=y.useRef(null),i=dt(n,a),o=MC(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Me.select,{...r,style:{...o5,...r.style},ref:i,defaultValue:t})});X8.displayName=Wle;function J8(e){return e===""||e===void 0}function Z8(e){const t=$r(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function eU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Kle(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Kle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Hle=C8,tU=E8,Gle=O8,Qle=T8,Yle=I8,rU=R8,Xle=L8,nU=B8,sU=q8,Jle=z8,Zle=K8,aU=H8,iU=G8,oU=Y8;const Ct=Hle,Pt=Gle,Nt=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(tU,{ref:n,className:ye("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Qle,{asChild:!0,children:s.jsx(Ra,{className:"h-4 w-4 opacity-50"})})]}));Nt.displayName=tU.displayName;const lU=y.forwardRef(({className:e,...t},r)=>s.jsx(aU,{ref:r,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(fc,{className:"h-4 w-4"})}));lU.displayName=aU.displayName;const cU=y.forwardRef(({className:e,...t},r)=>s.jsx(iU,{ref:r,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ra,{className:"h-4 w-4"})}));cU.displayName=iU.displayName;const _t=y.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Yle,{children:s.jsxs(rU,{ref:a,className:ye("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(lU,{}),s.jsx(Xle,{className:ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(cU,{})]})}));_t.displayName=rU.displayName;const ece=y.forwardRef(({className:e,...t},r)=>s.jsx(nU,{ref:r,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ece.displayName=nU.displayName;const Oe=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(sU,{ref:n,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Zle,{children:s.jsx(Sr,{className:"h-4 w-4"})})}),s.jsx(Jle,{children:t})]}));Oe.displayName=sU.displayName;const tce=y.forwardRef(({className:e,...t},r)=>s.jsx(oU,{ref:r,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));tce.displayName=oU.displayName;const Hg={bankName:"MCB Bank",accountTitle:"Quarterdeck Sports Complex",accountNumber:"0123456789012345",iban:"PK00MCBL0123456789012345"},GO={FOUNDING:35e3,GOLD:15e3,SILVER:5e3};function rce({onSuccess:e}){const{toast:t}=gt(),[r,n]=y.useState(""),[a,i]=y.useState("bank_transfer"),[o,l]=y.useState(""),[c,u]=y.useState(!1),[d,f]=y.useState(null),h=y.useRef(null),{data:p,isLoading:b}=ce({queryKey:["/api/membership-applications/mine"]}),m=p==null?void 0:p.find(_=>_.status==="PENDING"),w=xe({mutationFn:async _=>await ve("POST","/api/membership-applications",_),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/membership-applications/mine"]}),t({title:"Application submitted",description:"Please upload your payment proof to complete the application."}),e==null||e()},onError:_=>{t({title:"Failed to submit application",description:_.message||"An error occurred",variant:"destructive"})}}),x=xe({mutationFn:async({id:_,data:S})=>await ve("PATCH",`/api/membership-applications/${_}`,S),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/membership-applications/mine"]}),t({title:"Payment proof uploaded",description:"Your application is now under review. We'll notify you once it's processed."})},onError:_=>{t({title:"Failed to upload payment proof",description:_.message||"An error occurred",variant:"destructive"})}}),g=async _=>{var C;const S=(C=_.target.files)==null?void 0:C[0];if(!S)return;if(S.size>10*1024*1024){t({title:"File too large",description:"Maximum file size is 10MB",variant:"destructive"});return}if(!["image/jpeg","image/png","image/webp","application/pdf"].includes(S.type)){t({title:"Invalid file type",description:"Please upload an image (JPEG, PNG, WebP) or PDF",variant:"destructive"});return}u(!0);try{const P=new FormData;P.append("file",S);const E=await fetch("/api/upload",{method:"POST",body:P,credentials:"include"});if(!E.ok)throw new Error("Upload failed");const O=await E.json();f({name:S.name,url:O.url}),t({title:"File uploaded successfully"})}catch{t({title:"Upload failed",description:"Please try again",variant:"destructive"})}finally{u(!1)}},v=()=>{if(!r){t({title:"Please select a membership tier",variant:"destructive"});return}w.mutate({tierDesired:r,paymentMethod:a,paymentAmount:GO[r]||0})},j=()=>{!m||!d||x.mutate({id:m.id,data:{paymentProofUrl:d.url,paymentReference:o}})},N=_=>{switch(_){case"PENDING":return s.jsxs(ue,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:[s.jsx(Kt,{className:"w-3 h-3 mr-1"}),"Pending Review"]});case"APPROVED":return s.jsxs(ue,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[s.jsx(xn,{className:"w-3 h-3 mr-1"}),"Approved"]});case"REJECTED":return s.jsxs(ue,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[s.jsx(nx,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(ue,{variant:"secondary",children:_})}};if(b)return s.jsx(re,{children:s.jsx(se,{className:"p-6 flex items-center justify-center",children:s.jsx(Re,{className:"w-6 h-6 animate-spin text-muted-foreground"})})});if(m){const _=!m.paymentProofUrl;return s.jsxs(re,{"data-testid":"card-pending-application",children:[s.jsxs(Ue,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(jd,{className:"w-5 h-5"}),"Your Membership Application"]}),s.jsx(kt,{children:_?"Please complete your payment and upload proof to proceed":"Your application is being reviewed by our team"})]}),s.jsxs(se,{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[m.tierDesired," Membership"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Applied on ",m.createdAt?Yn(new Date(m.createdAt),"PPP"):"N/A"]})]}),N(m.status||"PENDING")]}),_&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(vn,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"Bank Transfer Details"})]}),s.jsxs("div",{className:"grid gap-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Bank Name:"}),s.jsx("span",{className:"font-medium",children:Hg.bankName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Title:"}),s.jsx("span",{className:"font-medium",children:Hg.accountTitle})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Number:"}),s.jsx("span",{className:"font-medium",children:Hg.accountNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"IBAN:"}),s.jsx("span",{className:"font-medium text-xs sm:text-sm",children:Hg.iban})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-bold text-primary",children:["PKR ",(m.paymentAmount||0).toLocaleString()]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"paymentReference",children:"Payment Reference / Transaction ID"}),s.jsx(Q,{id:"paymentReference",value:o,onChange:S=>l(S.target.value),placeholder:"Enter your transaction reference number",className:"mt-1","data-testid":"input-payment-reference"})]}),s.jsxs("div",{children:[s.jsx(B,{children:"Payment Proof (Screenshot/Receipt)"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{ref:h,type:"file",accept:"image/*,.pdf",onChange:g,className:"hidden"}),s.jsxs($,{variant:"outline",onClick:()=>{var S;return(S=h.current)==null?void 0:S.click()},disabled:c,className:"w-full","data-testid":"button-upload-proof",children:[c?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Qn,{className:"w-4 h-4 mr-2"}),d?d.name:"Upload Payment Proof"]}),d&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-green-600",children:[s.jsx(xn,{className:"w-4 h-4"}),s.jsxs("span",{children:["File uploaded: ",d.name]})]})]})]}),s.jsxs($,{onClick:j,disabled:!d||x.isPending,className:"w-full","data-testid":"button-submit-proof",children:[x.isPending&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Submit Payment Proof"]})]})]}),!_&&s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg text-center",children:[s.jsx($a,{className:"w-10 h-10 mx-auto text-primary mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your payment proof has been submitted. Our team will review your application and notify you once approved."})]})]})]})}return s.jsxs(re,{"data-testid":"card-new-application",children:[s.jsxs(Ue,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(jd,{className:"w-5 h-5"}),"Apply for Membership"]}),s.jsx(kt,{children:"Choose your membership tier and complete the payment to join The Quarterdeck"})]}),s.jsxs(se,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"tier",children:"Select Membership Tier"}),s.jsxs(Ct,{value:r,onValueChange:n,children:[s.jsx(Nt,{className:"mt-1","data-testid":"select-tier",children:s.jsx(Pt,{placeholder:"Choose a membership tier"})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"GOLD",children:"Gold Membership - PKR 15,000/month"}),s.jsx(Oe,{value:"SILVER",children:"Silver Membership - PKR 5,000/month"})]})]})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:"paymentMethod",children:"Payment Method"}),s.jsxs(Ct,{value:a,onValueChange:i,children:[s.jsx(Nt,{className:"mt-1","data-testid":"select-payment-method",children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"bank_transfer",children:"Bank Transfer"}),s.jsx(Oe,{value:"cash",children:"Cash (at reception)"})]})]})]}),r&&s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Fee:"}),s.jsxs("span",{className:"text-xl font-bold",children:["PKR ",(GO[r]||0).toLocaleString()]})]})}),s.jsxs($,{onClick:v,disabled:!r||w.isPending,className:"w-full","data-testid":"button-submit-application",children:[w.isPending&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Start Application"]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"After submitting, you'll receive bank details for payment. Upload your payment proof to complete the application."})]})]})}const nce={clock:Kt,gift:ob,award:ti,shield:Go,target:Ri,zap:F5,heart:lb,ticket:ix,calendar:wr,trophy:Ns,star:ci,crown:ib,users:Er,check:Sr,helpCircle:Js};function sce(e){if(!e)return Js;const t=e.toLowerCase();return nce[t]||Js}const ace={FOUNDING:ib,GOLD:ci,SILVER:L5,GUEST:Er},QO={FOUNDING:{bg:"bg-amber-500/10 dark:bg-amber-500/20",text:"text-amber-600 dark:text-amber-400",border:"border-amber-500/30"},GOLD:{bg:"bg-yellow-500/10 dark:bg-yellow-500/20",text:"text-yellow-600 dark:text-yellow-400",border:"border-yellow-500/30"},SILVER:{bg:"bg-gray-500/10 dark:bg-gray-500/20",text:"text-gray-600 dark:text-gray-400",border:"border-gray-500/30"},GUEST:{bg:"bg-blue-500/10 dark:bg-blue-500/20",text:"text-blue-600 dark:text-blue-400",border:"border-blue-500/30"}},ice=[{id:"founding",name:"Founding Member",tier:"FOUNDING",tagline:"Limited & Exclusive",description:"For early supporters and investors who believe in our vision.",price:35e3,billingPeriod:"monthly",featured:!0,closed:!0,benefits:["Lifetime priority booking (14-day window)","25% discount on off-peak bookings (10 AM - 5 PM)","10 guest passes per month","Permanent credit bonus (10%)","VIP parking & locker","Invitation to all exclusive events","Founding member recognition wall"],isActive:!0,sortOrder:1},{id:"gold",name:"Gold Membership",tier:"GOLD",tagline:"Premium Access",description:"For serious athletes and frequent players who want the best experience.",price:15e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["7-day advance booking window","20% discount on off-peak bookings (10 AM - 5 PM)","4 guest passes per month","Priority event registration","15% off coaching & clinics","Free equipment rental (2x/month)","Access to member lounge"],isActive:!0,sortOrder:2},{id:"silver",name:"Silver Membership",tier:"SILVER",tagline:"Standard Access",description:"Perfect for recreational players who want regular access at great value.",price:5e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["5-day advance booking window","10% discount on off-peak bookings (10 AM - 5 PM)","2 guest passes per month","10% off coaching & clinics","Member newsletter & updates","Discounted event entry"],isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Non-Member Access",description:"Try our facilities without commitment. Subject to availability.",price:0,billingPeriod:"per visit",featured:!1,closed:!1,benefits:["2-day advance booking window","Access after member priority","Equipment rental available","Guest registration required","Can be upgraded to membership"],isActive:!0,sortOrder:4}],oce=[{feature:"Advance Booking Window",foundingValue:"14 days",goldValue:"7 days",silverValue:"5 days",guestValue:"2 days"},{feature:"Off-Peak Discount (10 AM - 5 PM)",foundingValue:"25%",goldValue:"20%",silverValue:"10%",guestValue:"None"},{feature:"Monthly Guest Passes",foundingValue:"10",goldValue:"4",silverValue:"2",guestValue:"N/A"},{feature:"Coaching Discount",foundingValue:"20%",goldValue:"15%",silverValue:"10%",guestValue:"None"},{feature:"Event Priority",foundingValue:"VIP",goldValue:"Priority",silverValue:"Standard",guestValue:"Last"}],lce=[{icon:"clock",title:"Priority Booking",description:"Book your preferred time slots ahead of non-members"},{icon:"gift",title:"Exclusive Discounts",description:"Save on bookings, events, and coaching sessions"},{icon:"award",title:"Guest Passes",description:"Share the experience with friends and family"},{icon:"shield",title:"Member-Only Events",description:"Access exclusive tournaments and social gatherings"}];function cce(){Fr({title:"Membership Plans",description:"Join The Quarterdeck with exclusive membership tiers - Founding, Gold, Silver, and Guest. Enjoy priority booking, discounts, and premium benefits at Islamabad's premier sports complex."});const[e,t]=y.useState(null),[r,n]=y.useState(!1),[,a]=Mn(),{isAuthenticated:i}=Ji(),{data:o}=ce({queryKey:["/api/memberships/my"],enabled:i}),l=x=>{a(i?o?"/profile?tab=membership":`/contact?subject=Membership%20Application%20-%20${x.name}`:`/signup?redirect=/membership&tier=${x.tier}`)},{getValue:c}=Dr(["page_membership_title","page_membership_subtitle","page_membership_why_title","page_membership_why_description","page_membership_tiers_title","page_membership_tiers_description","page_membership_ready_title","page_membership_ready_description","page_membership_create_cta","page_membership_contact_cta"],Ee),{data:u,isLoading:d}=ce({queryKey:["/api/pricing-tiers"],queryFn:async()=>{const x=await fetch("/api/pricing-tiers");if(!x.ok)throw new Error("Failed to fetch pricing tiers");return x.json()}}),{data:f}=ce({queryKey:["/api/comparison-features"]}),{data:h}=ce({queryKey:["/api/member-benefits"]}),p=y.useMemo(()=>f&&f.length>0?f:oce,[f]),b=y.useMemo(()=>h&&h.length>0?h:lce,[h]),m=y.useMemo(()=>u&&u.length>0?u.filter(x=>x.isActive).sort((x,g)=>(x.sortOrder||0)-(g.sortOrder||0)).map(x=>({...x,tagline:x.tier==="FOUNDING"?"Limited & Exclusive":x.tier==="GOLD"?"Premium Access":x.tier==="SILVER"?"Standard Access":"Non-Member Access",closed:x.tier==="FOUNDING"})):ice,[u]),w=x=>{t(e===x?null:x)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(ts,{title:c("page_membership_title"),subtitle:c("page_membership_subtitle"),testId:"text-membership-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Fa,{}),s.jsxs("section",{className:"mt-8 mb-16",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:c("page_membership_why_title")}),s.jsx("p",{className:"text-muted-foreground",children:c("page_membership_why_description")})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:b.map((x,g)=>{const v=sce(x.icon);return s.jsx(re,{className:"text-center","data-testid":`card-benefit-${g}`,children:s.jsxs(se,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(v,{className:"w-6 h-6 text-primary"})}),s.jsx("h3",{className:"font-semibold mb-2",children:x.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.description})]})},g)})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:c("page_membership_tiers_title")}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:c("page_membership_tiers_description")})]}),d?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[1,2,3,4].map(x=>s.jsx(re,{children:s.jsxs(se,{className:"p-6 space-y-4",children:[s.jsx(qe,{className:"h-8 w-24"}),s.jsx(qe,{className:"h-10 w-32"}),s.jsx(qe,{className:"h-4 w-full"}),s.jsx(qe,{className:"h-4 w-3/4"})]})},x))}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:m.map(x=>{var N,_,S,k;const g=ace[x.tier]||ci,v=QO[x.tier]||QO.SILVER,j=e===x.id;return s.jsxs(re,{className:`relative overflow-visible ${x.featured?"ring-2 ring-primary":""}`,"data-testid":`card-tier-${(N=x.tier)==null?void 0:N.toLowerCase()}`,children:[x.featured&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx("span",{className:"bg-primary text-primary-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Most Popular"})}),x.closed&&s.jsx("div",{className:"absolute -top-3 right-4",children:s.jsx("span",{className:"bg-destructive text-destructive-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Closed"})}),s.jsxs(se,{className:"p-6",children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${v.bg} flex items-center justify-center mb-4`,children:s.jsx(g,{className:`w-6 h-6 ${v.text}`})}),s.jsx("h3",{className:"font-bold text-lg mb-1",children:x.name}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:x.tagline}),s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"text-3xl font-bold",children:x.price===0?"Free":`PKR ${x.price.toLocaleString()}`}),x.price>0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",x.billingPeriod]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:x.description}),s.jsxs("button",{onClick:()=>w(x.id),className:"flex items-center gap-1 text-sm text-primary hover:underline mb-4","data-testid":`button-toggle-benefits-${(_=x.tier)==null?void 0:_.toLowerCase()}`,children:[j?"Hide":"View"," Benefits",j?s.jsx(fc,{className:"w-4 h-4"}):s.jsx(Ra,{className:"w-4 h-4"})]}),j&&s.jsx("ul",{className:"space-y-2 mb-4 animate-qd-fade-in",children:(S=x.benefits)==null?void 0:S.map((C,P)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Sr,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),s.jsx("span",{children:C})]},P))}),x.closed?s.jsx($,{variant:"secondary",className:"w-full",disabled:!0,children:"Registration Closed"}):s.jsx($,{variant:x.featured?"default":"outline",className:"w-full",onClick:()=>l(x),"data-testid":`button-join-${(k=x.tier)==null?void 0:k.toLowerCase()}`,children:i?o?"View My Membership":"Apply for Membership":x.price===0?"Register Free":"Join Now"})]})]},x.id)})})]}),s.jsxs("section",{className:"mb-16 max-w-5xl mx-auto",children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 text-lg font-semibold mx-auto mb-6 hover:text-primary transition-colors","data-testid":"button-toggle-comparison",children:["Compare Membership Tiers",r?s.jsx(fc,{className:"w-5 h-5"}):s.jsx(Ra,{className:"w-5 h-5"})]}),r&&s.jsx(re,{className:"overflow-visible animate-qd-fade-in",children:s.jsx(se,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-4 font-medium",children:"Feature"}),s.jsx("th",{className:"text-center p-4 font-medium text-amber-600 dark:text-amber-400",children:"Founding"}),s.jsx("th",{className:"text-center p-4 font-medium text-yellow-600 dark:text-yellow-400",children:"Gold"}),s.jsx("th",{className:"text-center p-4 font-medium text-gray-600 dark:text-gray-400",children:"Silver"}),s.jsx("th",{className:"text-center p-4 font-medium text-blue-600 dark:text-blue-400",children:"Guest"})]})}),s.jsx("tbody",{children:p.map((x,g)=>s.jsxs("tr",{className:"border-b last:border-b-0",children:[s.jsx("td",{className:"p-4 text-sm",children:x.feature}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:x.foundingValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:x.goldValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:x.silverValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:x.guestValue})]},g))})]})})})})]}),i&&!o&&s.jsxs("section",{className:"mb-16 max-w-xl mx-auto",id:"apply",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Apply for Membership"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete your application and start enjoying member benefits today"})]}),s.jsx(rce,{})]}),s.jsx("section",{className:"text-center max-w-2xl mx-auto",children:s.jsx(re,{children:s.jsxs(se,{className:"p-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:c("page_membership_ready_title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:c("page_membership_ready_description")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[i?o?s.jsx(fe,{href:"/profile?tab=membership",children:s.jsx($,{"data-testid":"button-view-my-membership",children:"View My Membership"})}):s.jsx($,{onClick:()=>{var x;return(x=document.getElementById("apply"))==null?void 0:x.scrollIntoView({behavior:"smooth"})},"data-testid":"button-apply-membership",children:"Apply for Membership"}):s.jsx(fe,{href:"/signup?redirect=/membership",children:s.jsx($,{"data-testid":"button-create-account",children:c("page_membership_create_cta")})}),s.jsx(fe,{href:"/contact",children:s.jsx($,{variant:"outline","data-testid":"button-contact-membership",children:c("page_membership_contact_cta")})})]})]})})})]})]}),s.jsx(rr,{})]})}function uce(){Fr({title:"Certifications & Training",description:"Get certified for specialized facilities at The Quarterdeck. Enroll in training classes and obtain required certifications for Air Rifle Range and other facilities."});const{isAuthenticated:e}=Ji(),{toast:t}=gt(),[r,n]=y.useState("overview"),[a,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState({certificateNumber:"",expiresAt:"",notes:"",proofFile:null}),{data:d=[],isLoading:f}=ce({queryKey:["/api/certifications"]}),{data:h=[],isLoading:p}=ce({queryKey:["/api/certification-classes"]}),{data:b=[],isLoading:m}=ce({queryKey:["/api/my-certifications"],enabled:e}),{data:w=[],isLoading:x}=ce({queryKey:["/api/my-enrollments"],enabled:e}),g=xe({mutationFn:async P=>{const E=await fetch(`/api/certification-classes/${P}/enroll`,{method:"POST",credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Enrollment failed")}return E.json()},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/my-enrollments"]}),Z.invalidateQueries({queryKey:["/api/certification-classes"]}),t({title:"Success",description:"You have been enrolled in the class."})},onError:P=>{t({title:"Error",description:P.message,variant:"destructive"})}}),v=xe({mutationFn:async P=>{const E=await fetch("/api/my-certifications/submit",{method:"POST",body:P,credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Submission failed")}return E.json()},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/my-certifications"]}),i(!1),u({certificateNumber:"",expiresAt:"",notes:"",proofFile:null}),l(null),t({title:"Submitted",description:"Your certification has been submitted for verification."})},onError:P=>{t({title:"Error",description:P.message,variant:"destructive"})}}),j=()=>{if(!o)return;const P=new FormData;P.append("certificationId",o.id),c.certificateNumber&&P.append("certificateNumber",c.certificateNumber),c.expiresAt&&P.append("expiresAt",c.expiresAt),c.notes&&P.append("notes",c.notes),c.proofFile&&P.append("proofDocument",c.proofFile),v.mutate(P)},N=P=>d.find(E=>E.id===P.certificationId),_=P=>w.some(E=>E.classId===P),S=P=>{switch(P){case"ACTIVE":return s.jsxs(ue,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:[s.jsx(xn,{className:"w-3 h-3 mr-1"})," Active"]});case"PENDING":return s.jsxs(ue,{className:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:[s.jsx(Kt,{className:"w-3 h-3 mr-1"})," Pending Verification"]});case"REVOKED":case"EXPIRED":return s.jsxs(ue,{className:"bg-red-500/20 text-red-700 dark:text-red-400",children:[s.jsx(Ap,{className:"w-3 h-3 mr-1"})," ",P]});default:return s.jsx(ue,{variant:"secondary",children:P})}},k=b.filter(P=>P.status==="ACTIVE"),C=b.filter(P=>P.status==="PENDING");return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsx(ts,{title:"Certifications & Training",subtitle:"Some facilities require safety certifications. View available classes or submit your existing credentials."}),s.jsx(Fa,{items:[{label:"Home",href:"/"},{label:"Certifications"}]}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:s.jsxs(sa,{value:r,onValueChange:n,className:"space-y-6",children:[s.jsxs(Rs,{className:"grid w-full max-w-md mx-auto grid-cols-3",children:[s.jsx(Bt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(Bt,{value:"classes","data-testid":"tab-classes",children:"Classes"}),s.jsx(Bt,{value:"my-certs","data-testid":"tab-my-certs",children:"My Certs"})]}),s.jsxs(Vt,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Available Certifications"}),s.jsx("p",{className:"text-muted-foreground",children:"These certifications may be required for certain facilities"})]}),f?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(P=>s.jsx(re,{children:s.jsx(se,{className:"p-6",children:s.jsx(qe,{className:"h-32"})})},P))}):d.length===0?s.jsx(re,{children:s.jsx(se,{className:"p-8 text-center text-muted-foreground",children:"No certifications available at this time."})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(P=>{const E=k.some(I=>I.certificationId===P.id),O=C.some(I=>I.certificationId===P.id);return s.jsxs(re,{"data-testid":`card-certification-${P.id}`,className:E?"border-green-500/50":"",children:[s.jsxs(Ue,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(ti,{className:"w-8 h-8 text-primary shrink-0"}),E&&s.jsx(ue,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:"Certified"}),O&&s.jsx(ue,{className:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:"Pending"})]}),s.jsx(Ke,{className:"text-lg",children:P.name}),s.jsx(kt,{children:P.description})]}),s.jsxs(se,{className:"space-y-3",children:[P.validityMonths&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Kt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Valid for ",P.validityMonths," months"]})]}),P.facilityId&&s.jsx(ue,{variant:"destructive",children:"Required for facility access"})]}),s.jsx(kx,{children:e?E?s.jsx($,{variant:"secondary",className:"w-full",disabled:!0,children:"Already Certified"}):O?s.jsx($,{variant:"secondary",className:"w-full",disabled:!0,children:"Verification Pending"}):s.jsxs($,{className:"w-full",onClick:()=>{l(P),i(!0)},"data-testid":`button-submit-cert-${P.id}`,children:[s.jsx(Qn,{className:"w-4 h-4 mr-2"})," Submit Certification"]}):s.jsx($,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx("a",{href:"/auth/login",children:"Sign in to submit"})})})]},P.id)})})]}),s.jsxs(Vt,{value:"classes",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Upcoming Training Classes"}),s.jsx("p",{className:"text-muted-foreground",children:"Enroll in a class to get certified at our facility"})]}),p?s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[1,2].map(P=>s.jsx(re,{children:s.jsx(se,{className:"p-6",children:s.jsx(qe,{className:"h-40"})})},P))}):h.length===0?s.jsx(re,{children:s.jsx(se,{className:"p-8 text-center text-muted-foreground",children:"No upcoming classes scheduled. Check back later."})}):s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:h.map(P=>{const E=N(P),O=_(P.id),I=(P.enrolledCount||0)>=(P.capacity||1/0);return s.jsxs(re,{"data-testid":`card-class-${P.id}`,children:[s.jsxs(Ue,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[s.jsx(FE,{className:"w-6 h-6 text-primary"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(ue,{variant:"secondary",children:(E==null?void 0:E.name)||"Certification"}),O&&s.jsx(ue,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:"Enrolled"})]})]}),s.jsx(Ke,{children:P.title}),s.jsx(kt,{children:P.description})]}),s.jsxs(se,{className:"space-y-3",children:[P.scheduledDate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(wr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:Yn(new Date(P.scheduledDate),"PPP 'at' p")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Er,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[P.enrolledCount||0," / ",P.capacity||"Unlimited"," enrolled"]})]}),P.location&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Location: ",P.location]}),P.price&&Number(P.price)>0&&s.jsxs("div",{className:"text-lg font-semibold",children:["PKR ",Number(P.price).toLocaleString()]})]}),s.jsx(kx,{children:e?O?s.jsx($,{variant:"secondary",className:"w-full",disabled:!0,children:"Already Enrolled"}):I?s.jsx($,{variant:"secondary",className:"w-full",disabled:!0,children:"Class Full"}):s.jsx($,{className:"w-full",onClick:()=>g.mutate(P.id),disabled:g.isPending,"data-testid":`button-enroll-${P.id}`,children:"Enroll Now"}):s.jsx($,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx("a",{href:"/auth/login",children:"Sign in to enroll"})})})]},P.id)})})]}),s.jsx(Vt,{value:"my-certs",className:"space-y-6",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"My Certifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your certifications and class enrollments"})]}),m||x?s.jsx("div",{className:"space-y-4",children:[1,2].map(P=>s.jsx(re,{children:s.jsx(se,{className:"p-6",children:s.jsx(qe,{className:"h-20"})})},P))}):b.length===0&&w.length===0?s.jsx(re,{children:s.jsxs(se,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(_k,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"You don't have any certifications yet."}),s.jsx("p",{className:"mt-2",children:"Submit your existing certificates or enroll in a training class."})]})}):s.jsxs("div",{className:"space-y-6",children:[b.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Issued Certifications"}),b.map(P=>{const E=d.find(O=>O.id===P.certificationId);return s.jsx(re,{"data-testid":`card-my-cert-${P.id}`,children:s.jsxs(se,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ti,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(E==null?void 0:E.name)||"Certification"}),P.certificateNumber&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",P.certificateNumber]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[S(P.status),P.expiresAt&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Expires: ",Yn(new Date(P.expiresAt),"PP")]})]})]})},P.id)})]}),w.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Class Enrollments"}),w.map(P=>{const E=h.find(O=>O.id===P.classId);return s.jsx(re,{"data-testid":`card-enrollment-${P.id}`,children:s.jsxs(se,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(FE,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(E==null?void 0:E.title)||"Training Class"}),(E==null?void 0:E.scheduledDate)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:Yn(new Date(E.scheduledDate),"PPP 'at' p")})]})]}),s.jsx(ue,{variant:"secondary",children:P.status})]})},P.id)})]})]})]}):s.jsx(re,{children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Sign in to view your certifications"}),s.jsx($,{asChild:!0,children:s.jsx("a",{href:"/auth/login",children:"Sign In"})})]})})})]})}),s.jsx(It,{open:a,onOpenChange:i,children:s.jsxs(Et,{children:[s.jsxs(Rt,{children:[s.jsx($t,{children:"Submit Certification"}),s.jsxs(oi,{children:["Upload proof of your ",o==null?void 0:o.name," certification for verification."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"certificateNumber",children:"Certificate Number (optional)"}),s.jsx(Q,{id:"certificateNumber",value:c.certificateNumber,onChange:P=>u(E=>({...E,certificateNumber:P.target.value})),placeholder:"Enter your certificate number","data-testid":"input-certificate-number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"expiresAt",children:"Expiration Date (optional)"}),s.jsx(Q,{id:"expiresAt",type:"date",value:c.expiresAt,onChange:P=>u(E=>({...E,expiresAt:P.target.value})),"data-testid":"input-expires-at"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"proofFile",children:"Proof Document"}),s.jsx(Q,{id:"proofFile",type:"file",accept:"image/*,.pdf",onChange:P=>u(E=>{var O;return{...E,proofFile:((O=P.target.files)==null?void 0:O[0])||null}}),"data-testid":"input-proof-file"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload an image or PDF of your certificate"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"notes",children:"Additional Notes (optional)"}),s.jsx(lt,{id:"notes",value:c.notes,onChange:P=>u(E=>({...E,notes:P.target.value})),placeholder:"Any additional information...","data-testid":"input-notes"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx($,{onClick:j,disabled:v.isPending,"data-testid":"button-submit-certification",children:v.isPending?"Submitting...":"Submit for Verification"})]})]})}),s.jsx(rr,{})]})}function dce(){const[,e]=Mn();return y.useEffect(()=>{e("/roadmap")},[e]),null}function fce(){return Fr({title:"Page Not Found",description:"The page you're looking for doesn't exist or has been moved. Visit The Quarterdeck homepage to explore our sports complex."}),s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(tr,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center py-16",children:s.jsx(re,{className:"w-full max-w-lg mx-4",children:s.jsxs(se,{className:"pt-8 pb-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-6xl font-bold text-muted-foreground mb-2",children:"404"}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2","data-testid":"text-error-title",children:"Page Not Found"}),s.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Here are some helpful links:"}),s.jsx(fe,{href:"/",children:s.jsxs($,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-home",children:[s.jsx(Sk,{className:"h-4 w-4"}),"Go to Homepage"]})}),s.jsx(fe,{href:"/facilities",children:s.jsxs($,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-facilities",children:[s.jsx(wr,{className:"h-4 w-4"}),"View Facilities"]})}),s.jsx(fe,{href:"/#membership",children:s.jsxs($,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-membership",children:[s.jsx(Er,{className:"h-4 w-4"}),"Membership Plans"]})})]}),s.jsx("div",{className:"text-center",children:s.jsxs($,{variant:"ghost",onClick:()=>window.history.back(),className:"gap-2","data-testid":"button-go-back",children:[s.jsx(_n,{className:"h-4 w-4"}),"Go Back"]})})]})})}),s.jsx(rr,{})]})}const hce=Cp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Gp=y.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ye(hce({variant:t}),e),...r}));Gp.displayName="Alert";const mce=y.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ye("mb-1 font-medium leading-none tracking-tight",e),...t}));mce.displayName="AlertTitle";const Qp=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ye("text-sm [&_p]:leading-relaxed",e),...t}));Qp.displayName="AlertDescription";function uU(e){return Zi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function pce(e){return Zi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}function gce(e){return Zi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function vce(e){return Zi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},child:[]}]})(e)}function xce(e){return Zi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(e)}function dU(e){return Zi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}function yce(e){return Zi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(e)}const bce=[{id:"twitter",name:"X",icon:dU},{id:"github",name:"GitHub",icon:pce},{id:"facebook",name:"Facebook",icon:uU}];function fU({mode:e}){const{signInWithOAuth:t,isSupabaseConfigured:r}=yf(),{toast:n}=gt(),[a,i]=y.useState(null),o=async c=>{if(!r){n({title:"Configuration Error",description:"Social login is not properly configured.",variant:"destructive"});return}i(c);try{const{error:u}=await t(c);u&&n({title:`${c.charAt(0).toUpperCase()+c.slice(1)} login failed`,description:u.message||"Failed to connect with provider",variant:"destructive"})}catch{n({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(null)}},l=e==="signin"?"Sign in":"Sign up";return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:bce.map(c=>{const u=c.icon,d=a===c.id;return s.jsxs($,{type:"button",variant:"outline",className:"gap-2",disabled:a!==null,onClick:()=>o(c.id),"data-testid":`button-oauth-${c.id}`,children:[d?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(u,{className:"h-4 w-4"}),c.name]},c.id)})}),s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[l," with a social account for instant verification"]})]})}var wce=({as:e="div",...t},r)=>s.jsx(e,{...t,ref:r}),jce=y.forwardRef(wce),Nce="https://challenges.cloudflare.com/turnstile/v0/api.js",LC="cf-turnstile-script",_ce="cf-turnstile",FC="onloadTurnstileCallback",hU=e=>!!document.getElementById(e),Sce=({render:e="explicit",onLoadCallbackName:t=FC,scriptOptions:{nonce:r="",defer:n=!0,async:a=!0,id:i="",appendTo:o,onError:l,crossOrigin:c=""}={}})=>{let u=i||LC;if(hU(u))return;let d=document.createElement("script");d.id=u,d.src=`${Nce}?onload=${t}&render=${e}`,!document.querySelector(`script[src="${d.src}"]`)&&(d.defer=!!n,d.async=!!a,r&&(d.nonce=r),c&&(d.crossOrigin=c),l&&(d.onerror=l,delete window[t]),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(d))},wl={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function kce(e){if(e!=="invisible"&&e!=="interactionOnly")return e}function Cce(e=LC){let[t,r]=y.useState(!1);return y.useEffect(()=>{let n=()=>{hU(e)&&r(!0)},a=new MutationObserver(n);return a.observe(document,{childList:!0,subtree:!0}),n(),()=>{a.disconnect()}},[e]),t}var Bh="unloaded",mU,Pce=new Promise((e,t)=>{mU={resolve:e,reject:t},Bh==="ready"&&e(void 0)}),Ece=(e=FC)=>(Bh==="unloaded"&&(Bh="loading",window[e]=()=>{mU.resolve(),Bh="ready",delete window[e]}),Pce),UC=y.forwardRef((e,t)=>{let{scriptOptions:r,options:n={},siteKey:a,onWidgetLoad:i,onSuccess:o,onExpire:l,onError:c,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h,onLoadScript:p,id:b,style:m,as:w="div",injectScript:x=!0,rerenderOnCallbackChange:g=!1,...v}=e,j=n.size,N=y.useCallback(()=>typeof j>"u"?{}:n.execution==="execute"?wl.invisible:n.appearance==="interaction-only"?wl.interactionOnly:wl[j],[n.execution,j,n.appearance]),[_,S]=y.useState(N()),k=y.useRef(null),[C,P]=y.useState(!1),E=y.useRef(void 0),O=y.useRef(!1),I=b||_ce,T=y.useRef({onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h});y.useEffect(()=>{g||(T.current={onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h})});let M=(r==null?void 0:r.id)||LC,V=Cce(M),K=(r==null?void 0:r.onLoadCallbackName)||FC,A=n.appearance||"always",R=y.useMemo(()=>({sitekey:a,action:n.action,cData:n.cData,theme:n.theme||"auto",language:n.language||"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:kce(j),retry:n.retry||"auto","retry-interval":n.retryInterval||8e3,"refresh-expired":n.refreshExpired||"auto","refresh-timeout":n.refreshTimeout||"auto",execution:n.execution||"render",appearance:n.appearance||"always","feedback-enabled":n.feedbackEnabled||!0,callback:Y=>{var F,X;O.current=!0,g?o==null||o(Y):(X=(F=T.current).onSuccess)==null||X.call(F,Y)},"error-callback":g?c:(...Y)=>{var F,X;return(X=(F=T.current).onError)==null?void 0:X.call(F,...Y)},"expired-callback":g?l:(...Y)=>{var F,X;return(X=(F=T.current).onExpire)==null?void 0:X.call(F,...Y)},"before-interactive-callback":g?u:(...Y)=>{var F,X;return(X=(F=T.current).onBeforeInteractive)==null?void 0:X.call(F,...Y)},"after-interactive-callback":g?d:(...Y)=>{var F,X;return(X=(F=T.current).onAfterInteractive)==null?void 0:X.call(F,...Y)},"unsupported-callback":g?f:(...Y)=>{var F,X;return(X=(F=T.current).onUnsupported)==null?void 0:X.call(F,...Y)},"timeout-callback":g?h:(...Y)=>{var F,X;return(X=(F=T.current).onTimeout)==null?void 0:X.call(F,...Y)}}),[n.action,n.appearance,n.cData,n.execution,n.language,n.refreshExpired,n.responseField,n.responseFieldName,n.retry,n.retryInterval,n.tabIndex,n.theme,n.feedbackEnabled,n.refreshTimeout,a,j,g,g?o:null,g?c:null,g?l:null,g?u:null,g?d:null,g?f:null,g?h:null]),G=y.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return y.useEffect(function(){x&&!C&&Sce({onLoadCallbackName:K,scriptOptions:{...r,id:M}})},[x,C,r,M]),y.useEffect(function(){Bh!=="ready"&&Ece(K).then(()=>P(!0)).catch(console.error)},[]),y.useEffect(function(){if(!k.current||!C)return;let Y=!1;return(async()=>{if(Y||!k.current)return;let F=window.turnstile.render(k.current,R);E.current=F,E.current&&(i==null||i(E.current))})(),()=>{Y=!0,E.current&&(window.turnstile.remove(E.current),O.current=!1)}},[I,C,R]),y.useImperativeHandle(t,()=>{let{turnstile:Y}=window;return{getResponse(){if(!(Y!=null&&Y.getResponse)||!E.current||!G()){console.warn("Turnstile has not been loaded");return}return Y.getResponse(E.current)},async getResponsePromise(F=3e4,X=100){return new Promise((le,he)=>{let je,ee=async()=>{if(O.current&&window.turnstile&&E.current)try{let we=window.turnstile.getResponse(E.current);return je&&clearTimeout(je),we?le(we):he(new Error("No response received"))}catch(we){return je&&clearTimeout(je),console.warn("Failed to get response",we),he(new Error("Failed to get response"))}je||(je=setTimeout(()=>{je&&clearTimeout(je),he(new Error("Timeout"))},F)),await new Promise(we=>setTimeout(we,X)),await ee()};ee()})},reset(){if(!(Y!=null&&Y.reset)||!E.current||!G()){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&S(wl.invisible);try{O.current=!1,Y.reset(E.current)}catch(F){console.warn(`Failed to reset Turnstile widget ${E}`,F)}},remove(){if(!(Y!=null&&Y.remove)||!E.current||!G()){console.warn("Turnstile has not been loaded");return}S(wl.invisible),O.current=!1,Y.remove(E.current),E.current=null},render(){if(!(Y!=null&&Y.render)||!k.current||!G()||E.current){console.warn("Turnstile has not been loaded or container not found");return}let F=Y.render(k.current,R);return E.current=F,E.current&&(i==null||i(E.current)),n.execution!=="execute"&&S(j?wl[j]:{}),F},execute(){if(n.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!(Y!=null&&Y.execute)||!k.current||!E.current||!G()){console.warn("Turnstile has not been loaded or container not found");return}Y.execute(k.current,R),S(j?wl[j]:{})},isExpired(){return!(Y!=null&&Y.isExpired)||!E.current||!G()?(console.warn("Turnstile has not been loaded"),!1):Y.isExpired(E.current)}}},[E,n.execution,j,R,k,G,C,i]),y.useEffect(()=>{V&&!C&&window.turnstile&&P(!0)},[C,V]),y.useEffect(()=>{S(N())},[n.execution,j,A]),y.useEffect(()=>{!V||typeof p!="function"||p()},[V]),s.jsx(jce,{ref:k,as:w,id:I,style:{..._,...m},...v})});UC.displayName="Turnstile";const Ace=la({email:vt().email("Please enter a valid email address"),password:vt().min(1,"Password is required")});function Oce(){const[,e]=Mn(),{toast:t}=gt(),{signIn:r,isSupabaseConfigured:n,isLoading:a}=yf(),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState(null),p=y.useRef(null);y.useEffect(()=>{fetch("/api/public-config").then(w=>w.json()).then(w=>{w.turnstileSiteKey&&h(w.turnstileSiteKey)}).catch(()=>{})},[]);const b=$s({resolver:Ms(Ace),defaultValues:{email:"",password:""}}),m=async w=>{var x;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(f&&!u){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}c(!0);try{const{error:g,requiresEmailVerification:v}=await r(w.email,w.password);g?(t(v?{title:"Email Verification Required",description:"Please check your inbox and verify your email address before signing in.",variant:"destructive"}:{title:"Login failed",description:g.message||"Invalid email or password",variant:"destructive"}),(x=p.current)==null||x.reset(),d(null)):(t({title:"Welcome back!",description:"You have successfully logged in."}),e("/"))}catch{t({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{c(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(re,{className:"w-full max-w-md",children:s.jsx(se,{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(Ue,{className:"text-center",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx(fe,{href:"/",children:s.jsxs($,{variant:"ghost",size:"sm",className:"gap-1","data-testid":"button-back",children:[s.jsx(_n,{className:"w-4 h-4"}),"Back"]})}),s.jsx(fe,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})}),s.jsx("div",{className:"w-16"})]}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Welcome Back"}),s.jsx(kt,{children:"Sign in to your Quarterdeck account"})]}),s.jsxs(se,{children:[s.jsx(Ls,{...b,children:s.jsxs("form",{onSubmit:b.handleSubmit(m),className:"space-y-4",children:[s.jsx(Ze,{control:b.control,name:"email",render:({field:w})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Email"}),s.jsx(Je,{children:s.jsx(Q,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...w})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:b.control,name:"password",render:({field:w})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Q,{type:i?"text":"password",placeholder:"Enter your password","data-testid":"input-password",...w}),s.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(Vi,{className:"h-4 w-4"}):s.jsx(Is,{className:"h-4 w-4"})})]})}),s.jsx(rt,{})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(fe,{href:"/forgot-password",className:"text-sm text-muted-foreground hover:underline","data-testid":"link-forgot-password",children:"Forgot password?"})}),f&&s.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:s.jsx(UC,{ref:p,siteKey:f,options:{theme:"dark"},onSuccess:w=>d(w),onError:()=>d(null),onExpire:()=>d(null)})}),s.jsx($,{type:"submit",className:"w-full",disabled:l,"data-testid":"button-login",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),s.jsx("div",{className:"mt-6",children:s.jsx(fU,{mode:"signin"})}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),s.jsx(fe,{href:"/signup",className:"font-medium hover:underline","data-testid":"link-signup",children:"Sign up"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsx(Ue,{className:"text-center",children:s.jsx(Ke,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),s.jsxs(se,{children:[s.jsxs(Gp,{variant:"destructive",children:[s.jsx(zn,{className:"h-4 w-4"}),s.jsx(Qp,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(fe,{href:"/",children:s.jsx($,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}var e0="Checkbox",[Tce]=Cn(e0),[Ice,BC]=Tce(e0);function Rce(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=hs({prop:r,defaultProp:a??!1,onChange:c,caller:e0}),[b,m]=y.useState(null),[w,x]=y.useState(null),g=y.useRef(!1),v=b?!!o||!!b.closest("form"):!0,j={checked:h,disabled:i,setChecked:p,control:b,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:qo(a)?!1:a,isFormControl:v,bubbleInput:w,setBubbleInput:x};return s.jsx(Ice,{scope:t,...j,children:$ce(f)?f(j):n})}var pU="CheckboxTrigger",gU=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:b}=BC(pU,e),m=dt(a,d),w=y.useRef(c);return y.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const g=()=>f(w.current);return x.addEventListener("reset",g),()=>x.removeEventListener("reset",g)}},[i,f]),s.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":qo(c)?"mixed":c,"aria-required":u,"data-state":wU(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:Ne(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Ne(r,x=>{f(g=>qo(g)?!0:!g),b&&p&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});gU.displayName=pU;var VC=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(Rce,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(gU,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(bU,{__scopeCheckbox:r})]})})});VC.displayName=e0;var vU="CheckboxIndicator",xU=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=BC(vU,r);return s.jsx(cn,{present:n||qo(i.checked)||i.checked===!0,children:s.jsx(Me.span,{"data-state":wU(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});xU.displayName=vU;var yU="CheckboxBubbleInput",bU=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=BC(yU,e),b=dt(r,p),m=MC(i),w=Rk(n);y.useEffect(()=>{const g=h;if(!g)return;const v=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(v,"checked").set,_=!a.current;if(m!==i&&N){const S=new Event("click",{bubbles:_});g.indeterminate=qo(i),N.call(g,qo(i)?!1:i),g.dispatchEvent(S)}},[h,m,i,a]);const x=y.useRef(qo(i)?!1:i);return s.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});bU.displayName=yU;function $ce(e){return typeof e=="function"}function qo(e){return e==="indeterminate"}function wU(e){return qo(e)?"indeterminate":e?"checked":"unchecked"}const jU=y.forwardRef(({className:e,...t},r)=>s.jsx(VC,{ref:r,className:ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(xU,{className:ye("flex items-center justify-center text-current"),children:s.jsx(Sr,{className:"h-4 w-4"})})}));jU.displayName=VC.displayName;const Mce=la({email:vt().email("Please enter a valid email address"),password:vt().min(8,"Password must be at least 8 characters"),confirmPassword:vt(),firstName:vt().min(1,"First name is required"),lastName:vt().min(1,"Last name is required"),phone:vt().optional(),termsAccepted:wC().refine(e=>e===!0,{message:"You must accept the terms and conditions"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Dce(){const[,e]=Mn(),{toast:t}=gt(),{signUp:r,isSupabaseConfigured:n,isLoading:a}=yf(),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(null),[p,b]=y.useState(null),m=y.useRef(null);y.useEffect(()=>{fetch("/api/public-config").then(g=>g.json()).then(g=>{g.turnstileSiteKey&&b(g.turnstileSiteKey)}).catch(()=>{})},[]);const w=$s({resolver:Ms(Mce),defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",termsAccepted:!1}}),x=async g=>{var v;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(p&&!f){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}d(!0);try{const{error:j}=await r(g.email,g.password,{firstName:g.firstName,lastName:g.lastName});j?(t({title:"Signup failed",description:j.message||"Failed to create account",variant:"destructive"}),(v=m.current)==null||v.reset(),h(null)):(t({title:"Account created!",description:"Please check your email to verify your account."}),e("/login"))}catch{t({title:"Signup failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(re,{className:"w-full max-w-md",children:s.jsx(se,{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(fe,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Create Account"}),s.jsx(kt,{children:"Join The Quarterdeck community"})]}),s.jsxs(se,{children:[s.jsx(Ls,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(x),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ze,{control:w.control,name:"firstName",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"First Name"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"John","data-testid":"input-first-name",...g})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:w.control,name:"lastName",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Last Name"}),s.jsx(Je,{children:s.jsx(Q,{placeholder:"Doe","data-testid":"input-last-name",...g})}),s.jsx(rt,{})]})})]}),s.jsx(Ze,{control:w.control,name:"email",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Email"}),s.jsx(Je,{children:s.jsx(Q,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...g})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:w.control,name:"phone",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Phone (Optional)"}),s.jsx(Je,{children:s.jsx(Q,{type:"tel",placeholder:"+92 300 1234567","data-testid":"input-phone",...g})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:w.control,name:"password",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Q,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...g}),s.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(Vi,{className:"h-4 w-4"}):s.jsx(Is,{className:"h-4 w-4"})})]})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:w.control,name:"confirmPassword",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Confirm Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Q,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...g}),s.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?s.jsx(Vi,{className:"h-4 w-4"}):s.jsx(Is,{className:"h-4 w-4"})})]})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:w.control,name:"termsAccepted",render:({field:g})=>s.jsxs(Xe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Je,{children:s.jsx(jU,{checked:g.value,onCheckedChange:g.onChange,"data-testid":"checkbox-terms"})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsxs(tt,{className:"text-sm font-normal",children:["I agree to the"," ",s.jsx(fe,{href:"/terms",className:"underline hover:no-underline","data-testid":"link-terms",children:"Terms of Service"})," ","and"," ",s.jsx(fe,{href:"/privacy",className:"underline hover:no-underline","data-testid":"link-privacy",children:"Privacy Policy"})]}),s.jsx(rt,{})]})]})}),p&&s.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:s.jsx(UC,{ref:m,siteKey:p,options:{theme:"dark"},onSuccess:g=>h(g),onError:()=>h(null),onExpire:()=>h(null)})}),s.jsx($,{type:"submit",className:"w-full",disabled:u,"data-testid":"button-signup",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})}),s.jsx("div",{className:"mt-6",children:s.jsx(fU,{mode:"signup"})}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),s.jsx(fe,{href:"/login",className:"font-medium hover:underline","data-testid":"link-login",children:"Sign in"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsx(Ue,{className:"text-center",children:s.jsx(Ke,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),s.jsxs(se,{children:[s.jsxs(Gp,{variant:"destructive",children:[s.jsx(zn,{className:"h-4 w-4"}),s.jsx(Qp,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(fe,{href:"/",children:s.jsx($,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}const Lce=la({email:vt().email("Please enter a valid email address")});function Fce(){const{toast:e}=gt(),{resetPassword:t,isSupabaseConfigured:r}=yf(),[n,a]=y.useState(!1),[i,o]=y.useState(!1),l=$s({resolver:Ms(Lce),defaultValues:{email:""}}),c=async u=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}o(!0);try{const{error:d}=await t(u.email);d?e({title:"Error",description:d.message||"Failed to send reset email",variant:"destructive"}):a(!0)}catch{e({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}};return r?n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(xn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Check Your Email"}),s.jsx(kt,{children:"If an account exists with that email, we've sent password reset instructions."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"The link will expire in 60 minutes."}),s.jsxs("p",{className:"mt-2",children:["Didn't receive the email? Check your spam folder or"," ",s.jsx("button",{onClick:()=>a(!1),className:"font-medium underline hover:no-underline","data-testid":"button-try-again",children:"try again"})]})]}),s.jsx(fe,{href:"/login",children:s.jsxs($,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:[s.jsx(_n,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:s.jsx(hf,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Forgot Password?"}),s.jsx(kt,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsxs(se,{children:[s.jsx(Ls,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[s.jsx(Ze,{control:l.control,name:"email",render:({field:u})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Email"}),s.jsx(Je,{children:s.jsx(Q,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...u})}),s.jsx(rt,{})]})}),s.jsx($,{type:"submit",className:"w-full",disabled:i,"data-testid":"button-send-reset",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(fe,{href:"/login",className:"text-sm text-muted-foreground hover:underline inline-flex items-center gap-1","data-testid":"link-back-to-login",children:[s.jsx(_n,{className:"h-3 w-3"}),"Back to Sign In"]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsx(Ue,{className:"text-center",children:s.jsx(Ke,{className:"text-2xl font-bold",children:"Service Unavailable"})}),s.jsxs(se,{children:[s.jsxs(Gp,{variant:"destructive",children:[s.jsx(zn,{className:"h-4 w-4"}),s.jsx(Qp,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(fe,{href:"/login",children:s.jsx($,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}const Uce=la({password:vt().min(8,"Password must be at least 8 characters"),confirmPassword:vt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Bce(){Mn();const{toast:e}=gt(),{updatePassword:t,isSupabaseConfigured:r,isAuthenticated:n,isLoading:a}=yf(),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(!1),[p,b]=y.useState(!0),m=$s({resolver:Ms(Uce),defaultValues:{password:"",confirmPassword:""}});y.useEffect(()=>{if(!a){const x=setTimeout(()=>{b(!1)},1e3);return()=>clearTimeout(x)}},[a]);const w=async x=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}h(!0);try{const{error:g}=await t(x.password);g?e({title:"Reset failed",description:g.message||"Failed to reset password",variant:"destructive"}):d(!0)}catch{e({title:"Reset failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{h(!1)}};return p||a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(re,{className:"w-full max-w-md",children:s.jsxs(se,{className:"flex flex-col items-center justify-center py-8 gap-3",children:[s.jsx(Re,{className:"h-8 w-8 animate-spin text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying your session..."})]})})}):r?n?u?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(xn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Password Reset!"}),s.jsx(kt,{children:"Your password has been successfully reset. You can now sign in with your new password."})]}),s.jsx(se,{children:s.jsx(fe,{href:"/login",children:s.jsx($,{className:"w-full","data-testid":"button-go-to-login",children:"Sign In"})})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(fe,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Reset Password"}),s.jsx(kt,{children:"Enter your new password below"})]}),s.jsx(se,{children:s.jsx(Ls,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(w),className:"space-y-4",children:[s.jsx(Ze,{control:m.control,name:"password",render:({field:x})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"New Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Q,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...x}),s.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(Vi,{className:"h-4 w-4"}):s.jsx(Is,{className:"h-4 w-4"})})]})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:m.control,name:"confirmPassword",render:({field:x})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Confirm New Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Q,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...x}),s.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?s.jsx(Vi,{className:"h-4 w-4"}):s.jsx(Is,{className:"h-4 w-4"})})]})}),s.jsx(rt,{})]})}),s.jsx($,{type:"submit",className:"w-full",disabled:f,"data-testid":"button-reset-password",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(zn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Session Expired"}),s.jsx(kt,{children:"Your password reset link has expired or is invalid. Please request a new one."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsx(fe,{href:"/forgot-password",children:s.jsx($,{className:"w-full","data-testid":"button-request-new-link",children:"Request New Reset Link"})}),s.jsx(fe,{href:"/login",children:s.jsx($,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsx(Ue,{className:"text-center",children:s.jsx(Ke,{className:"text-2xl font-bold",children:"Service Unavailable"})}),s.jsxs(se,{children:[s.jsxs(Gp,{variant:"destructive",children:[s.jsx(zn,{className:"h-4 w-4"}),s.jsx(Qp,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(fe,{href:"/login",children:s.jsx($,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}function Vce(){const[,e]=Mn(),{isAuthenticated:t,isLoading:r}=yf(),[n,a]=y.useState("checking");return y.useEffect(()=>{(async()=>{const o=window.location.hash;o&&o.includes("access_token"),r||(t?(a("verified"),setTimeout(()=>{e("/")},2e3)):a("pending"))})()},[t,r,e]),n==="checking"||r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(re,{className:"w-full max-w-md",children:s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Re,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Verifying Email"}),s.jsx(kt,{children:"Please wait while we verify your email address..."})]})})}):n==="verified"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(xn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Email Verified!"}),s.jsx(kt,{children:"Your email has been successfully verified. Redirecting you shortly..."})]}),s.jsx(se,{children:s.jsx(fe,{href:"/",children:s.jsx($,{className:"w-full","data-testid":"button-go-home",children:"Go to Homepage"})})})]})}):n==="error"||!Y3()?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(zn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Verification Failed"}),s.jsx(kt,{children:"This verification link is invalid or has expired."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsx(fe,{href:"/login",children:s.jsx($,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})}),s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Need a new verification link? Sign up again or contact support."})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:s.jsx(hf,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Check Your Email"}),s.jsx(kt,{children:"We've sent a verification link to your email address. Click the link in the email to verify your account."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"The link will expire in 24 hours."}),s.jsx("p",{className:"mt-2",children:"Didn't receive the email? Check your spam folder."})]}),s.jsx(fe,{href:"/login",children:s.jsx($,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})})}function qce(){const[,e]=Mn(),[t,r]=y.useState("loading"),[n,a]=y.useState("");return y.useEffect(()=>{const o=setTimeout(async()=>{{r("error"),a("Authentication is not configured.");return}},100);return()=>clearTimeout(o)},[e]),t==="loading"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(re,{className:"w-full max-w-md",children:s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Re,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Processing"}),s.jsx(kt,{children:"Please wait while we complete your request..."})]})})}):t==="success"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(re,{className:"w-full max-w-md",children:s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(xn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Success!"}),s.jsx(kt,{children:n})]})})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(Ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(zn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(Ke,{className:"text-2xl font-bold",children:"Something Went Wrong"}),s.jsx(kt,{children:n})]}),s.jsx(se,{className:"space-y-4",children:s.jsx(fe,{href:"/login",children:s.jsx($,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})})})]})})}var YO=1,zce=.9,Wce=.8,Kce=.17,sj=.1,aj=.999,Hce=.9999,Gce=.99,Qce=/[\\\/_+.#"@\[\(\{&]/,Yce=/[\\\/_+.#"@\[\(\{&]/g,Xce=/[\s-]/,NU=/[\s-]/g;function VN(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?YO:Gce;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),u=r.indexOf(c,a),d=0,f,h,p,b;u>=0;)f=VN(e,t,r,n,u+1,i+1,o),f>d&&(u===a?f*=YO:Qce.test(e.charAt(u-1))?(f*=Wce,p=e.slice(a,u-1).match(Yce),p&&a>0&&(f*=Math.pow(aj,p.length))):Xce.test(e.charAt(u-1))?(f*=zce,b=e.slice(a,u-1).match(NU),b&&a>0&&(f*=Math.pow(aj,b.length))):(f*=Kce,a>0&&(f*=Math.pow(aj,u-a))),e.charAt(u)!==t.charAt(i)&&(f*=Hce)),(f<sj&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=VN(e,t,r,n,u+1,i+2,o),h*sj>f&&(f=h*sj)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function XO(e){return e.toLowerCase().replace(NU," ")}function Jce(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,VN(e,t,XO(e),XO(t),0,0,{})}var th='[cmdk-group=""]',ij='[cmdk-group-items=""]',Zce='[cmdk-group-heading=""]',_U='[cmdk-item=""]',JO=`${_U}:not([aria-disabled="true"])`,qN="cmdk-item-select",yu="data-value",eue=(e,t,r)=>Jce(e,t,r),SU=y.createContext(void 0),Yp=()=>y.useContext(SU),kU=y.createContext(void 0),qC=()=>y.useContext(kU),CU=y.createContext(void 0),PU=y.forwardRef((e,t)=>{let r=bu(()=>{var F,X;return{search:"",value:(X=(F=e.value)!=null?F:e.defaultValue)!=null?X:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=bu(()=>new Set),a=bu(()=>new Map),i=bu(()=>new Map),o=bu(()=>new Set),l=EU(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:p,loop:b,disablePointerSelection:m=!1,vimBindings:w=!0,...x}=e,g=Wr(),v=Wr(),j=Wr(),N=y.useRef(null),_=due();jc(()=>{if(d!==void 0){let F=d.trim();r.current.value=F,S.emit()}},[d]),jc(()=>{_(6,I)},[]);let S=y.useMemo(()=>({subscribe:F=>(o.current.add(F),()=>o.current.delete(F)),snapshot:()=>r.current,setState:(F,X,le)=>{var he,je,ee,we;if(!Object.is(r.current[F],X)){if(r.current[F]=X,F==="search")O(),P(),_(1,E);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ae=document.getElementById(j);ae?ae.focus():(he=document.getElementById(g))==null||he.focus()}if(_(7,()=>{var ae;r.current.selectedItemId=(ae=T())==null?void 0:ae.id,S.emit()}),le||_(5,I),((je=l.current)==null?void 0:je.value)!==void 0){let ae=X??"";(we=(ee=l.current).onValueChange)==null||we.call(ee,ae);return}}S.emit()}},emit:()=>{o.current.forEach(F=>F())}}),[]),k=y.useMemo(()=>({value:(F,X,le)=>{var he;X!==((he=i.current.get(F))==null?void 0:he.value)&&(i.current.set(F,{value:X,keywords:le}),r.current.filtered.items.set(F,C(X,le)),_(2,()=>{P(),S.emit()}))},item:(F,X)=>(n.current.add(F),X&&(a.current.has(X)?a.current.get(X).add(F):a.current.set(X,new Set([F]))),_(3,()=>{O(),P(),r.current.value||E(),S.emit()}),()=>{i.current.delete(F),n.current.delete(F),r.current.filtered.items.delete(F);let le=T();_(4,()=>{O(),(le==null?void 0:le.getAttribute("id"))===F&&E(),S.emit()})}),group:F=>(a.current.has(F)||a.current.set(F,new Set),()=>{i.current.delete(F),a.current.delete(F)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:g,inputId:j,labelId:v,listInnerRef:N}),[]);function C(F,X){var le,he;let je=(he=(le=l.current)==null?void 0:le.filter)!=null?he:eue;return F?je(F,r.current.search,X):0}function P(){if(!r.current.search||l.current.shouldFilter===!1)return;let F=r.current.filtered.items,X=[];r.current.filtered.groups.forEach(he=>{let je=a.current.get(he),ee=0;je.forEach(we=>{let ae=F.get(we);ee=Math.max(ae,ee)}),X.push([he,ee])});let le=N.current;M().sort((he,je)=>{var ee,we;let ae=he.getAttribute("id"),L=je.getAttribute("id");return((ee=F.get(L))!=null?ee:0)-((we=F.get(ae))!=null?we:0)}).forEach(he=>{let je=he.closest(ij);je?je.appendChild(he.parentElement===je?he:he.closest(`${ij} > *`)):le.appendChild(he.parentElement===le?he:he.closest(`${ij} > *`))}),X.sort((he,je)=>je[1]-he[1]).forEach(he=>{var je;let ee=(je=N.current)==null?void 0:je.querySelector(`${th}[${yu}="${encodeURIComponent(he[0])}"]`);ee==null||ee.parentElement.appendChild(ee)})}function E(){let F=M().find(le=>le.getAttribute("aria-disabled")!=="true"),X=F==null?void 0:F.getAttribute(yu);S.setState("value",X||void 0)}function O(){var F,X,le,he;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let je=0;for(let ee of n.current){let we=(X=(F=i.current.get(ee))==null?void 0:F.value)!=null?X:"",ae=(he=(le=i.current.get(ee))==null?void 0:le.keywords)!=null?he:[],L=C(we,ae);r.current.filtered.items.set(ee,L),L>0&&je++}for(let[ee,we]of a.current)for(let ae of we)if(r.current.filtered.items.get(ae)>0){r.current.filtered.groups.add(ee);break}r.current.filtered.count=je}function I(){var F,X,le;let he=T();he&&(((F=he.parentElement)==null?void 0:F.firstChild)===he&&((le=(X=he.closest(th))==null?void 0:X.querySelector(Zce))==null||le.scrollIntoView({block:"nearest"})),he.scrollIntoView({block:"nearest"}))}function T(){var F;return(F=N.current)==null?void 0:F.querySelector(`${_U}[aria-selected="true"]`)}function M(){var F;return Array.from(((F=N.current)==null?void 0:F.querySelectorAll(JO))||[])}function V(F){let X=M()[F];X&&S.setState("value",X.getAttribute(yu))}function K(F){var X;let le=T(),he=M(),je=he.findIndex(we=>we===le),ee=he[je+F];(X=l.current)!=null&&X.loop&&(ee=je+F<0?he[he.length-1]:je+F===he.length?he[0]:he[je+F]),ee&&S.setState("value",ee.getAttribute(yu))}function A(F){let X=T(),le=X==null?void 0:X.closest(th),he;for(;le&&!he;)le=F>0?cue(le,th):uue(le,th),he=le==null?void 0:le.querySelector(JO);he?S.setState("value",he.getAttribute(yu)):K(F)}let R=()=>V(M().length-1),G=F=>{F.preventDefault(),F.metaKey?R():F.altKey?A(1):K(1)},Y=F=>{F.preventDefault(),F.metaKey?V(0):F.altKey?A(-1):K(-1)};return y.createElement(Me.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:F=>{var X;(X=x.onKeyDown)==null||X.call(x,F);let le=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||le))switch(F.key){case"n":case"j":{w&&F.ctrlKey&&G(F);break}case"ArrowDown":{G(F);break}case"p":case"k":{w&&F.ctrlKey&&Y(F);break}case"ArrowUp":{Y(F);break}case"Home":{F.preventDefault(),V(0);break}case"End":{F.preventDefault(),R();break}case"Enter":{F.preventDefault();let he=T();if(he){let je=new Event(qN);he.dispatchEvent(je)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:hue},c),t0(e,F=>y.createElement(kU.Provider,{value:S},y.createElement(SU.Provider,{value:k},F))))}),tue=y.forwardRef((e,t)=>{var r,n;let a=Wr(),i=y.useRef(null),o=y.useContext(CU),l=Yp(),c=EU(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;jc(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=AU(a,i,[e.value,e.children,i],e.keywords),f=qC(),h=tl(_=>_.value&&_.value===d.current),p=tl(_=>u||l.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);y.useEffect(()=>{let _=i.current;if(!(!_||e.disabled))return _.addEventListener(qN,b),()=>_.removeEventListener(qN,b)},[p,e.onSelect,e.disabled]);function b(){var _,S;m(),(S=(_=c.current).onSelect)==null||S.call(_,d.current)}function m(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:w,value:x,onSelect:g,forceMount:v,keywords:j,...N}=e;return y.createElement(Me.div,{ref:Xn(i,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!h,"data-disabled":!!w,"data-selected":!!h,onPointerMove:w||l.getDisablePointerSelection()?void 0:m,onClick:w?void 0:b},e.children)}),rue=y.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Wr(),l=y.useRef(null),c=y.useRef(null),u=Wr(),d=Yp(),f=tl(p=>a||d.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);jc(()=>d.group(o),[]),AU(o,l,[e.value,e.heading,c]);let h=y.useMemo(()=>({id:o,forceMount:a}),[a]);return y.createElement(Me.div,{ref:Xn(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&y.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),t0(e,p=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},y.createElement(CU.Provider,{value:h},p))))}),nue=y.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=y.useRef(null),i=tl(o=>!o.search);return!r&&!i?null:y.createElement(Me.div,{ref:Xn(a,t),...n,"cmdk-separator":"",role:"separator"})}),sue=y.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=qC(),o=tl(u=>u.search),l=tl(u=>u.selectedItemId),c=Yp();return y.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),y.createElement(Me.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),aue=y.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=y.useRef(null),o=y.useRef(null),l=tl(u=>u.selectedItemId),c=Yp();return y.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),y.createElement(Me.div,{ref:Xn(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},t0(e,u=>y.createElement("div",{ref:Xn(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),iue=y.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return y.createElement(SC,{open:r,onOpenChange:n},y.createElement(kC,{container:o},y.createElement(Wb,{"cmdk-overlay":"",className:a}),y.createElement(Kb,{"aria-label":e.label,"cmdk-dialog":"",className:i},y.createElement(PU,{ref:t,...l}))))}),oue=y.forwardRef((e,t)=>tl(r=>r.filtered.count===0)?y.createElement(Me.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),lue=y.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return y.createElement(Me.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},t0(e,o=>y.createElement("div",{"aria-hidden":!0},o)))}),ps=Object.assign(PU,{List:aue,Item:tue,Input:sue,Group:rue,Separator:nue,Dialog:iue,Empty:oue,Loading:lue});function cue(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function uue(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function EU(e){let t=y.useRef(e);return jc(()=>{t.current=e}),t}var jc=typeof window>"u"?y.useEffect:y.useLayoutEffect;function bu(e){let t=y.useRef();return t.current===void 0&&(t.current=e()),t}function tl(e){let t=qC(),r=()=>e(t.snapshot());return y.useSyncExternalStore(t.subscribe,r,r)}function AU(e,t,r,n=[]){let a=y.useRef(),i=Yp();return jc(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(yu,l),a.current=l}),a}var due=()=>{let[e,t]=y.useState(),r=bu(()=>new Map);return jc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function fue(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function t0({asChild:e,children:t},r){return e&&y.isValidElement(t)?y.cloneElement(fue(t),{ref:t.ref},r(t.props.children)):r(t)}var hue={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const OU=y.forwardRef(({className:e,...t},r)=>s.jsx(ps,{ref:r,className:ye("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));OU.displayName=ps.displayName;const mue=({children:e,...t})=>s.jsx(It,{...t,children:s.jsx(Et,{className:"overflow-hidden p-0 shadow-lg",children:s.jsx(OU,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),TU=y.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(ub,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(ps.Input,{ref:r,className:ye("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));TU.displayName=ps.Input.displayName;const IU=y.forwardRef(({className:e,...t},r)=>s.jsx(ps.List,{ref:r,className:ye("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));IU.displayName=ps.List.displayName;const RU=y.forwardRef((e,t)=>s.jsx(ps.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));RU.displayName=ps.Empty.displayName;const Nh=y.forwardRef(({className:e,...t},r)=>s.jsx(ps.Group,{ref:r,className:ye("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Nh.displayName=ps.Group.displayName;const pue=y.forwardRef(({className:e,...t},r)=>s.jsx(ps.Separator,{ref:r,className:ye("-mx-1 h-px bg-border",e),...t}));pue.displayName=ps.Separator.displayName;const _h=y.forwardRef(({className:e,...t},r)=>s.jsx(ps.Item,{ref:r,className:ye("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));_h.displayName=ps.Item.displayName;const gue=3e4,ZO=["mousemove","keydown","click","scroll","touchstart"],vue=5e3;function xue(){const[,e]=Mn(),{toast:t}=gt(),[r,n]=y.useState(null),a=y.useRef(Date.now()),i=y.useRef(null),o=y.useRef(!1),l=y.useCallback((d,f)=>{i.current&&clearInterval(i.current),t({variant:"destructive",title:"Session Expired",description:d||"Please log in again to continue."}),setTimeout(()=>{e("/login")},1500)},[t,e]),c=y.useCallback(async()=>{try{const f=await(await ve("POST","/api/admin/heartbeat")).json();f.success&&(n({sessionRemainingMs:f.sessionRemainingMs,inactivityTimeoutMs:f.inactivityTimeoutMs,reauthTimeoutMs:f.reauthTimeoutMs,isActive:!0}),o.current=!1)}catch(d){(d==null?void 0:d.code)==="ADMIN_REAUTH_REQUIRED"||(d==null?void 0:d.code)==="ADMIN_INACTIVITY_TIMEOUT"?l(d.reason||d.message,d.code):((d==null?void 0:d.status)===401||(d==null?void 0:d.status)===403)&&l("Your session has expired. Please log in again.","SESSION_EXPIRED")}},[l]),u=y.useCallback(()=>{const d=Date.now();d-a.current>vue&&(a.current=d,c())},[c]);return y.useEffect(()=>(c(),i.current=setInterval(c,gue),ZO.forEach(d=>{window.addEventListener(d,u,{passive:!0})}),()=>{i.current&&clearInterval(i.current),ZO.forEach(d=>{window.removeEventListener(d,u)})}),[c,u]),y.useEffect(()=>{if(r&&r.sessionRemainingMs<6e4&&!o.current){o.current=!0;const d=Math.ceil(r.sessionRemainingMs/6e4);t({variant:"default",title:"Session Expiring Soon",description:`Your admin session will expire in ${d} minute(s). You will need to log in again.`})}},[r,t]),{sessionState:r,sendHeartbeat:c}}function yue(e){return[{path:e,label:"Dashboard",icon:JH},{path:`${e}/branding`,label:"Branding & Nav",icon:oG},{path:`${e}/homepage`,label:"Site Content",icon:Sk},{path:`${e}/coming-soon`,label:"Coming Soon",icon:Kt},{path:`${e}/venues`,label:"Venues & Locations",icon:ms},{path:`${e}/facilities`,label:"Facilities",icon:vn},{path:`${e}/bookings`,label:"Bookings",icon:jd},{path:`${e}/members`,label:"Members",icon:Er},{path:`${e}/membership-applications`,label:"Membership Applications",icon:HH},{path:`${e}/certifications`,label:"Certifications",icon:ti},{path:`${e}/comparison-features`,label:"Comparison Features",icon:$5},{path:`${e}/member-benefits`,label:"Member Benefits",icon:ob},{path:`${e}/blogs`,label:"Blog / News",icon:QH},{path:`${e}/testimonials`,label:"Testimonials",icon:tG},{path:`${e}/roadmap`,label:"Construction Status",icon:I5},{path:`${e}/events`,label:"Events & Academies",icon:wr},{path:`${e}/pricing`,label:"Pricing Tiers",icon:Y1},{path:`${e}/announcements`,label:"Announcements",icon:wd},{path:`${e}/careers`,label:"Careers",icon:fm},{path:`${e}/rules`,label:"Rules & Safety",icon:$a},{path:`${e}/faq`,label:"FAQ",icon:Js},{path:`${e}/policies`,label:"Privacy & Terms",icon:pm},{path:`${e}/gallery`,label:"Gallery",icon:Aa},{path:`${e}/site-images`,label:"Site Images",icon:Aa},{path:`${e}/hero-sections`,label:"Hero Sections",icon:Aa},{path:`${e}/ctas`,label:"CTAs",icon:sG},{path:`${e}/site-settings`,label:"Site Settings",icon:mm}]}function nt({children:e,title:t}){var x,g;const[r,n]=Mn(),[a,i]=y.useState(!1),[o,l]=y.useState(!1),{adminPath:c}=Rp();xue();const u=`/${c}`,d=y.useMemo(()=>yue(u),[u]),{data:f,isLoading:h}=ce({queryKey:["/api/auth/user"]}),{data:p}=ce({queryKey:["/api/admin/users"]}),{data:b}=ce({queryKey:["/api/admin/bookings"]}),{data:m}=ce({queryKey:["/api/admin/facilities"]});y.useEffect(()=>{const v=j=>{j.key==="k"&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),l(N=>!N))};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]);const w=y.useCallback(v=>{l(!1),n(v)},[n]);return h?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!f||f.role!=="ADMIN"&&f.role!=="SUPER_ADMIN"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"You need administrator privileges to access this page."}),s.jsx(fe,{href:"/",children:s.jsxs($,{children:[s.jsx(_n,{className:"w-4 h-4 mr-2"})," Return to Home"]})})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx($,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 lg:hidden",onClick:()=>i(!a),"data-testid":"button-mobile-menu",children:a?s.jsx(Nd,{className:"h-5 w-5"}):s.jsx(M5,{className:"h-5 w-5"})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),s.jsx("aside",{className:`
        fixed top-0 left-0 z-40 h-screen w-64 bg-card border-r transition-transform duration-300
        lg:translate-x-0
        ${a?"translate-x-0":"-translate-x-full"}
      `,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs(fe,{href:"/",className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-[#2a4060] flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"Q"})}),s.jsx("span",{className:"font-semibold",children:"Quarterdeck Admin"})]})}),s.jsx("nav",{className:"flex-1 p-4 space-y-1",children:d.map(v=>{const j=v.icon,N=r===v.path||v.path!=="/admin"&&r.startsWith(v.path);return s.jsx(fe,{href:v.path,children:s.jsxs("div",{className:`
                      flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer
                      ${N?"bg-[#2a4060] text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                    `,onClick:()=>i(!1),"data-testid":`nav-${v.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(j,{className:"w-4 h-4"}),v.label]})},v.path)})}),s.jsx("div",{className:"p-4 border-t",children:s.jsx(fe,{href:"/",children:s.jsxs($,{variant:"outline",className:"w-full","data-testid":"button-back-to-site",children:[s.jsx(_n,{className:"w-4 h-4 mr-2"})," Back to Site"]})})})]})}),s.jsxs("main",{className:"lg:ml-64",children:[s.jsx("header",{className:"sticky top-0 z-30 bg-background border-b px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold ml-12 lg:ml-0","data-testid":"text-admin-title",children:t}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs($,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:w-64 lg:w-80",onClick:()=>l(!0),"data-testid":"button-global-search",children:[s.jsx(ub,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Search bookings, users, facilities..."}),s.jsx("span",{className:"inline sm:hidden",children:"Search..."}),s.jsxs("kbd",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[s.jsx("span",{className:"text-xs",children:"Ctrl"}),"K"]})]}),s.jsxs("span",{className:"text-sm text-muted-foreground hidden md:block",children:[f.firstName," ",f.lastName]}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:f.profileImageUrl?s.jsx("img",{src:f.profileImageUrl,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):s.jsxs("span",{className:"text-xs font-medium",children:[(x=f.firstName)==null?void 0:x[0],(g=f.lastName)==null?void 0:g[0]]})})]})]})}),s.jsxs(mue,{open:o,onOpenChange:l,children:[s.jsx(TU,{placeholder:"Search bookings, users, facilities...","data-testid":"input-global-search"}),s.jsxs(IU,{children:[s.jsx(RU,{children:"No results found."}),s.jsx(Nh,{heading:"Navigation",children:d.map(v=>s.jsxs(_h,{value:v.label,onSelect:()=>w(v.path),"data-testid":`search-nav-${v.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(v.icon,{className:"mr-2 h-4 w-4"}),v.label]},v.path))}),m&&m.length>0&&s.jsx(Nh,{heading:"Facilities",children:m.slice(0,5).map(v=>s.jsxs(_h,{value:`facility ${v.name} ${v.slug}`,onSelect:()=>w("/admin/facilities"),"data-testid":`search-facility-${v.id}`,children:[s.jsx(vn,{className:"mr-2 h-4 w-4"}),v.name]},v.id))}),p&&p.length>0&&s.jsx(Nh,{heading:"Users",children:p.slice(0,5).map(v=>s.jsxs(_h,{value:`user ${v.firstName} ${v.lastName} ${v.email}`,onSelect:()=>w("/admin/bookings"),"data-testid":`search-user-${v.id}`,children:[s.jsx(Er,{className:"mr-2 h-4 w-4"}),v.firstName," ",v.lastName," - ",v.email]},v.id))}),b&&b.length>0&&s.jsx(Nh,{heading:"Recent Bookings",children:b.slice(0,5).map(v=>{const j=m==null?void 0:m.find(N=>N.id===v.facilityId);return s.jsxs(_h,{value:`booking ${v.id} ${j==null?void 0:j.name} ${v.date}`,onSelect:()=>w("/admin/bookings"),"data-testid":`search-booking-${v.id}`,children:[s.jsx(wr,{className:"mr-2 h-4 w-4"}),j==null?void 0:j.name," - ",v.date," at ",v.startTime]},v.id)})})]})]}),s.jsx("div",{className:"p-6",children:e})]})]})}const Gr=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ye("w-full caption-bottom text-sm",e),...t})}));Gr.displayName="Table";const Qr=y.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ye("[&_tr]:border-b",e),...t}));Qr.displayName="TableHeader";const Yr=y.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ye("[&_tr:last-child]:border-0",e),...t}));Yr.displayName="TableBody";const bue=y.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));bue.displayName="TableFooter";const st=y.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));st.displayName="TableRow";const de=y.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));de.displayName="TableHead";const ie=y.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ie.displayName="TableCell";const wue=y.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ye("mt-4 text-sm text-muted-foreground",e),...t}));wue.displayName="TableCaption";var jue=Array.isArray,gs=jue,Nue=typeof dg=="object"&&dg&&dg.Object===Object&&dg,$U=Nue,_ue=$U,Sue=typeof self=="object"&&self&&self.Object===Object&&self,kue=_ue||Sue||Function("return this")(),fi=kue,Cue=fi,Pue=Cue.Symbol,Xp=Pue,eT=Xp,MU=Object.prototype,Eue=MU.hasOwnProperty,Aue=MU.toString,rh=eT?eT.toStringTag:void 0;function Oue(e){var t=Eue.call(e,rh),r=e[rh];try{e[rh]=void 0;var n=!0}catch{}var a=Aue.call(e);return n&&(t?e[rh]=r:delete e[rh]),a}var Tue=Oue,Iue=Object.prototype,Rue=Iue.toString;function $ue(e){return Rue.call(e)}var Mue=$ue,tT=Xp,Due=Tue,Lue=Mue,Fue="[object Null]",Uue="[object Undefined]",rT=tT?tT.toStringTag:void 0;function Bue(e){return e==null?e===void 0?Uue:Fue:rT&&rT in Object(e)?Due(e):Lue(e)}var eo=Bue;function Vue(e){return e!=null&&typeof e=="object"}var to=Vue,que=eo,zue=to,Wue="[object Symbol]";function Kue(e){return typeof e=="symbol"||zue(e)&&que(e)==Wue}var _f=Kue,Hue=gs,Gue=_f,Que=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yue=/^\w*$/;function Xue(e,t){if(Hue(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Gue(e)?!0:Yue.test(e)||!Que.test(e)||t!=null&&e in Object(t)}var zC=Xue;function Jue(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var cl=Jue;const Sf=Ht(cl);var Zue=eo,ede=cl,tde="[object AsyncFunction]",rde="[object Function]",nde="[object GeneratorFunction]",sde="[object Proxy]";function ade(e){if(!ede(e))return!1;var t=Zue(e);return t==rde||t==nde||t==tde||t==sde}var WC=ade;const ft=Ht(WC);var ide=fi,ode=ide["__core-js_shared__"],lde=ode,oj=lde,nT=function(){var e=/[^.]+$/.exec(oj&&oj.keys&&oj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cde(e){return!!nT&&nT in e}var ude=cde,dde=Function.prototype,fde=dde.toString;function hde(e){if(e!=null){try{return fde.call(e)}catch{}try{return e+""}catch{}}return""}var DU=hde,mde=WC,pde=ude,gde=cl,vde=DU,xde=/[\\^$.*+?()[\]{}|]/g,yde=/^\[object .+?Constructor\]$/,bde=Function.prototype,wde=Object.prototype,jde=bde.toString,Nde=wde.hasOwnProperty,_de=RegExp("^"+jde.call(Nde).replace(xde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sde(e){if(!gde(e)||pde(e))return!1;var t=mde(e)?_de:yde;return t.test(vde(e))}var kde=Sde;function Cde(e,t){return e==null?void 0:e[t]}var Pde=Cde,Ede=kde,Ade=Pde;function Ode(e,t){var r=Ade(e,t);return Ede(r)?r:void 0}var $c=Ode,Tde=$c,Ide=Tde(Object,"create"),r0=Ide,sT=r0;function Rde(){this.__data__=sT?sT(null):{},this.size=0}var $de=Rde;function Mde(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dde=Mde,Lde=r0,Fde="__lodash_hash_undefined__",Ude=Object.prototype,Bde=Ude.hasOwnProperty;function Vde(e){var t=this.__data__;if(Lde){var r=t[e];return r===Fde?void 0:r}return Bde.call(t,e)?t[e]:void 0}var qde=Vde,zde=r0,Wde=Object.prototype,Kde=Wde.hasOwnProperty;function Hde(e){var t=this.__data__;return zde?t[e]!==void 0:Kde.call(t,e)}var Gde=Hde,Qde=r0,Yde="__lodash_hash_undefined__";function Xde(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Qde&&t===void 0?Yde:t,this}var Jde=Xde,Zde=$de,efe=Dde,tfe=qde,rfe=Gde,nfe=Jde;function kf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}kf.prototype.clear=Zde;kf.prototype.delete=efe;kf.prototype.get=tfe;kf.prototype.has=rfe;kf.prototype.set=nfe;var sfe=kf;function afe(){this.__data__=[],this.size=0}var ife=afe;function ofe(e,t){return e===t||e!==e&&t!==t}var KC=ofe,lfe=KC;function cfe(e,t){for(var r=e.length;r--;)if(lfe(e[r][0],t))return r;return-1}var n0=cfe,ufe=n0,dfe=Array.prototype,ffe=dfe.splice;function hfe(e){var t=this.__data__,r=ufe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ffe.call(t,r,1),--this.size,!0}var mfe=hfe,pfe=n0;function gfe(e){var t=this.__data__,r=pfe(t,e);return r<0?void 0:t[r][1]}var vfe=gfe,xfe=n0;function yfe(e){return xfe(this.__data__,e)>-1}var bfe=yfe,wfe=n0;function jfe(e,t){var r=this.__data__,n=wfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Nfe=jfe,_fe=ife,Sfe=mfe,kfe=vfe,Cfe=bfe,Pfe=Nfe;function Cf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Cf.prototype.clear=_fe;Cf.prototype.delete=Sfe;Cf.prototype.get=kfe;Cf.prototype.has=Cfe;Cf.prototype.set=Pfe;var s0=Cf,Efe=$c,Afe=fi,Ofe=Efe(Afe,"Map"),HC=Ofe,aT=sfe,Tfe=s0,Ife=HC;function Rfe(){this.size=0,this.__data__={hash:new aT,map:new(Ife||Tfe),string:new aT}}var $fe=Rfe;function Mfe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Dfe=Mfe,Lfe=Dfe;function Ffe(e,t){var r=e.__data__;return Lfe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var a0=Ffe,Ufe=a0;function Bfe(e){var t=Ufe(this,e).delete(e);return this.size-=t?1:0,t}var Vfe=Bfe,qfe=a0;function zfe(e){return qfe(this,e).get(e)}var Wfe=zfe,Kfe=a0;function Hfe(e){return Kfe(this,e).has(e)}var Gfe=Hfe,Qfe=a0;function Yfe(e,t){var r=Qfe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Xfe=Yfe,Jfe=$fe,Zfe=Vfe,ehe=Wfe,the=Gfe,rhe=Xfe;function Pf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pf.prototype.clear=Jfe;Pf.prototype.delete=Zfe;Pf.prototype.get=ehe;Pf.prototype.has=the;Pf.prototype.set=rhe;var GC=Pf,LU=GC,nhe="Expected a function";function QC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(nhe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(QC.Cache||LU),r}QC.Cache=LU;var FU=QC;const she=Ht(FU);var ahe=FU,ihe=500;function ohe(e){var t=ahe(e,function(n){return r.size===ihe&&r.clear(),n}),r=t.cache;return t}var lhe=ohe,che=lhe,uhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dhe=/\\(\\)?/g,fhe=che(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uhe,function(r,n,a,i){t.push(a?i.replace(dhe,"$1"):n||r)}),t}),hhe=fhe;function mhe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var YC=mhe,iT=Xp,phe=YC,ghe=gs,vhe=_f,oT=iT?iT.prototype:void 0,lT=oT?oT.toString:void 0;function UU(e){if(typeof e=="string")return e;if(ghe(e))return phe(e,UU)+"";if(vhe(e))return lT?lT.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var xhe=UU,yhe=xhe;function bhe(e){return e==null?"":yhe(e)}var BU=bhe,whe=gs,jhe=zC,Nhe=hhe,_he=BU;function She(e,t){return whe(e)?e:jhe(e,t)?[e]:Nhe(_he(e))}var VU=She,khe=_f;function Che(e){if(typeof e=="string"||khe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var i0=Che,Phe=VU,Ehe=i0;function Ahe(e,t){t=Phe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ehe(t[r++])];return r&&r==n?e:void 0}var XC=Ahe,Ohe=XC;function The(e,t,r){var n=e==null?void 0:Ohe(e,t);return n===void 0?r:n}var qU=The;const Os=Ht(qU);function Ihe(e){return e==null}var Rhe=Ihe;const jt=Ht(Rhe);var $he=eo,Mhe=gs,Dhe=to,Lhe="[object String]";function Fhe(e){return typeof e=="string"||!Mhe(e)&&Dhe(e)&&$he(e)==Lhe}var Uhe=Fhe;const Nc=Ht(Uhe);var zU={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC=Symbol.for("react.element"),ZC=Symbol.for("react.portal"),o0=Symbol.for("react.fragment"),l0=Symbol.for("react.strict_mode"),c0=Symbol.for("react.profiler"),u0=Symbol.for("react.provider"),d0=Symbol.for("react.context"),Bhe=Symbol.for("react.server_context"),f0=Symbol.for("react.forward_ref"),h0=Symbol.for("react.suspense"),m0=Symbol.for("react.suspense_list"),p0=Symbol.for("react.memo"),g0=Symbol.for("react.lazy"),Vhe=Symbol.for("react.offscreen"),WU;WU=Symbol.for("react.module.reference");function ca(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case JC:switch(e=e.type,e){case o0:case c0:case l0:case h0:case m0:return e;default:switch(e=e&&e.$$typeof,e){case Bhe:case d0:case f0:case g0:case p0:case u0:return e;default:return t}}case ZC:return t}}}nr.ContextConsumer=d0;nr.ContextProvider=u0;nr.Element=JC;nr.ForwardRef=f0;nr.Fragment=o0;nr.Lazy=g0;nr.Memo=p0;nr.Portal=ZC;nr.Profiler=c0;nr.StrictMode=l0;nr.Suspense=h0;nr.SuspenseList=m0;nr.isAsyncMode=function(){return!1};nr.isConcurrentMode=function(){return!1};nr.isContextConsumer=function(e){return ca(e)===d0};nr.isContextProvider=function(e){return ca(e)===u0};nr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===JC};nr.isForwardRef=function(e){return ca(e)===f0};nr.isFragment=function(e){return ca(e)===o0};nr.isLazy=function(e){return ca(e)===g0};nr.isMemo=function(e){return ca(e)===p0};nr.isPortal=function(e){return ca(e)===ZC};nr.isProfiler=function(e){return ca(e)===c0};nr.isStrictMode=function(e){return ca(e)===l0};nr.isSuspense=function(e){return ca(e)===h0};nr.isSuspenseList=function(e){return ca(e)===m0};nr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===o0||e===c0||e===l0||e===h0||e===m0||e===Vhe||typeof e=="object"&&e!==null&&(e.$$typeof===g0||e.$$typeof===p0||e.$$typeof===u0||e.$$typeof===d0||e.$$typeof===f0||e.$$typeof===WU||e.getModuleId!==void 0)};nr.typeOf=ca;zU.exports=nr;var qhe=zU.exports,zhe=eo,Whe=to,Khe="[object Number]";function Hhe(e){return typeof e=="number"||Whe(e)&&zhe(e)==Khe}var KU=Hhe;const Ghe=Ht(KU);var Qhe=KU;function Yhe(e){return Qhe(e)&&e!=+e}var Xhe=Yhe;const Jp=Ht(Xhe);var Wn=function(t){return t===0?0:t>0?1:-1},Bl=function(t){return Nc(t)&&t.indexOf("%")===t.length-1},ke=function(t){return Ghe(t)&&!Jp(t)},Jhe=function(t){return jt(t)},ln=function(t){return ke(t)||Nc(t)},Zhe=0,Zp=function(t){var r=++Zhe;return"".concat(t||"").concat(r)},Kn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(t)&&!Nc(t))return n;var i;if(Bl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Jp(i)&&(i=n),a&&i>r&&(i=r),i},bo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},eme=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},po=function(t,r){return ke(t)&&ke(r)?function(n){return t+n*(r-t)}:function(){return r}};function zN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Os(n,t))===r})}var tme=function(t,r){return ke(t)&&ke(r)?t-r:Nc(t)&&Nc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Xu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function WN(e){"@babel/helpers - typeof";return WN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WN(e)}var rme=["viewBox","children"],nme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cT=["points","pathLength"],lj={svg:rme,polygon:cT,polyline:cT},e2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!Sf(n))return null;var a={};return Object.keys(n).forEach(function(i){e2.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},sme=function(t,r,n){return function(a){return t(r,n,a),null}},_c=function(t,r,n){if(!Sf(t)||WN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];e2.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=sme(o,r,n))}),a},ame=["children"],ime=["children"];function uT(e,t){if(e==null)return{};var r=ome(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ome(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$i=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},fT=null,cj=null,t2=function e(t){if(t===fT&&Array.isArray(cj))return cj;var r=[];return y.Children.forEach(t,function(n){jt(n)||(qhe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),cj=r,fT=t,r};function ea(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return $i(a)}):n=[$i(t)],t2(e).forEach(function(a){var i=Os(a,"type.displayName")||Os(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function bs(e,t){var r=ea(e,t);return r&&r[0]}var hT=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ke(n)||n<=0||!ke(a)||a<=0)},lme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cme=function(t){return t&&t.type&&Nc(t.type)&&lme.indexOf(t.type)>=0},ume=function(t,r,n,a){var i,o=(i=lj==null?void 0:lj[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ft(t)&&(a&&o.includes(r)||nme.includes(r))||n&&e2.includes(r)},ut=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!Sf(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;ume((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},KN=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return mT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!mT(i,o))return!1}return!0},mT=function(t,r){if(jt(t)&&jt(r))return!0;if(!jt(t)&&!jt(r)){var n=t.props||{},a=n.children,i=uT(n,ame),o=r.props||{},l=o.children,c=uT(o,ime);return a&&l?Xu(i,c)&&KN(a,l):!a&&!l?Xu(i,c):!1}return!1},pT=function(t,r){var n=[],a={};return t2(t).forEach(function(i,o){if(cme(i))n.push(i);else if(i){var l=$i(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},dme=function(t){var r=t&&t.type;return r&&dT[r]?dT[r]:null},fme=function(t,r){return t2(r).indexOf(t)},hme=["children","width","height","viewBox","className","style","title","desc"];function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HN.apply(this,arguments)}function mme(e,t){if(e==null)return{};var r=pme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=mme(e,hme),d=a||{width:r,height:n,x:0,y:0},f=xt("recharts-surface",i);return D.createElement("svg",HN({},ut(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,l),D.createElement("desc",null,c),t)}var gme=["children","className"];function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QN.apply(this,arguments)}function vme(e,t){if(e==null)return{};var r=xme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Yt=D.forwardRef(function(e,t){var r=e.children,n=e.className,a=vme(e,gme),i=xt("recharts-layer",n);return D.createElement("g",QN({className:i},ut(a,!0),{ref:t}),r)}),Ta=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function yme(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var bme=yme,wme=bme;function jme(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:wme(e,t,r)}var Nme=jme,_me="\\ud800-\\udfff",Sme="\\u0300-\\u036f",kme="\\ufe20-\\ufe2f",Cme="\\u20d0-\\u20ff",Pme=Sme+kme+Cme,Eme="\\ufe0e\\ufe0f",Ame="\\u200d",Ome=RegExp("["+Ame+_me+Pme+Eme+"]");function Tme(e){return Ome.test(e)}var HU=Tme;function Ime(e){return e.split("")}var Rme=Ime,GU="\\ud800-\\udfff",$me="\\u0300-\\u036f",Mme="\\ufe20-\\ufe2f",Dme="\\u20d0-\\u20ff",Lme=$me+Mme+Dme,Fme="\\ufe0e\\ufe0f",Ume="["+GU+"]",YN="["+Lme+"]",XN="\\ud83c[\\udffb-\\udfff]",Bme="(?:"+YN+"|"+XN+")",QU="[^"+GU+"]",YU="(?:\\ud83c[\\udde6-\\uddff]){2}",XU="[\\ud800-\\udbff][\\udc00-\\udfff]",Vme="\\u200d",JU=Bme+"?",ZU="["+Fme+"]?",qme="(?:"+Vme+"(?:"+[QU,YU,XU].join("|")+")"+ZU+JU+")*",zme=ZU+JU+qme,Wme="(?:"+[QU+YN+"?",YN,YU,XU,Ume].join("|")+")",Kme=RegExp(XN+"(?="+XN+")|"+Wme+zme,"g");function Hme(e){return e.match(Kme)||[]}var Gme=Hme,Qme=Rme,Yme=HU,Xme=Gme;function Jme(e){return Yme(e)?Xme(e):Qme(e)}var Zme=Jme,epe=Nme,tpe=HU,rpe=Zme,npe=BU;function spe(e){return function(t){t=npe(t);var r=tpe(t)?rpe(t):void 0,n=r?r[0]:t.charAt(0),a=r?epe(r,1).join(""):t.slice(1);return n[e]()+a}}var ape=spe,ipe=ape,ope=ipe("toUpperCase"),lpe=ope;const v0=Ht(lpe);function dr(e){return function(){return e}}const eB=Math.cos,Fx=Math.sin,Ba=Math.sqrt,Ux=Math.PI,x0=2*Ux,JN=Math.PI,ZN=2*JN,El=1e-6,cpe=ZN-El;function tB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function upe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tB;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class dpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tB:upe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>El)if(!(Math.abs(f*c-u*d)>El)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,b=a-l,m=c*c+u*u,w=p*p+b*b,x=Math.sqrt(m),g=Math.sqrt(h),v=i*Math.tan((JN-Math.acos((m+h-w)/(2*x*g)))/2),j=v/g,N=v/x;Math.abs(j-1)>El&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*b)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>El||Math.abs(this._y1-d)>El)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%ZN+ZN),h>cpe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>El&&this._append`A${n},${n},0,${+(h>=JN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function r2(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new dpe(t)}function n2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rB(e){this._context=e}rB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function y0(e){return new rB(e)}function nB(e){return e[0]}function sB(e){return e[1]}function aB(e,t){var r=dr(!0),n=null,a=y0,i=null,o=r2(l);e=typeof e=="function"?e:e===void 0?nB:dr(e),t=typeof t=="function"?t:t===void 0?sB:dr(t);function l(c){var u,d=(c=n2(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:dr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:dr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:dr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Gg(e,t,r){var n=null,a=dr(!0),i=null,o=y0,l=null,c=r2(u);e=typeof e=="function"?e:e===void 0?nB:dr(+e),t=typeof t=="function"?t:dr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?sB:dr(+r);function u(f){var h,p,b,m=(f=n2(f)).length,w,x=!1,g,v=new Array(m),j=new Array(m);for(i==null&&(l=o(g=c())),h=0;h<=m;++h){if(!(h<m&&a(w=f[h],h,f))===x)if(x=!x)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=h-1;b>=p;--b)l.point(v[b],j[b]);l.lineEnd(),l.areaEnd()}x&&(v[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):v[h],r?+r(w,h,f):j[h]))}if(g)return l=null,g+""||null}function d(){return aB().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:dr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:dr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:dr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:dr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:dr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:dr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:dr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class iB{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function fpe(e){return new iB(e,!0)}function hpe(e){return new iB(e,!1)}const s2={draw(e,t){const r=Ba(t/Ux);e.moveTo(r,0),e.arc(0,0,r,0,x0)}},mpe={draw(e,t){const r=Ba(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},oB=Ba(1/3),ppe=oB*2,gpe={draw(e,t){const r=Ba(t/ppe),n=r*oB;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},vpe={draw(e,t){const r=Ba(t),n=-r/2;e.rect(n,n,r,r)}},xpe=.8908130915292852,lB=Fx(Ux/10)/Fx(7*Ux/10),ype=Fx(x0/10)*lB,bpe=-eB(x0/10)*lB,wpe={draw(e,t){const r=Ba(t*xpe),n=ype*r,a=bpe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=x0*i/5,l=eB(o),c=Fx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},uj=Ba(3),jpe={draw(e,t){const r=-Ba(t/(uj*3));e.moveTo(0,r*2),e.lineTo(-uj*r,-r),e.lineTo(uj*r,-r),e.closePath()}},Bs=-.5,Vs=Ba(3)/2,e_=1/Ba(12),Npe=(e_/2+1)*3,_pe={draw(e,t){const r=Ba(t/Npe),n=r/2,a=r*e_,i=n,o=r*e_+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Bs*n-Vs*a,Vs*n+Bs*a),e.lineTo(Bs*i-Vs*o,Vs*i+Bs*o),e.lineTo(Bs*l-Vs*c,Vs*l+Bs*c),e.lineTo(Bs*n+Vs*a,Bs*a-Vs*n),e.lineTo(Bs*i+Vs*o,Bs*o-Vs*i),e.lineTo(Bs*l+Vs*c,Bs*c-Vs*l),e.closePath()}};function Spe(e,t){let r=null,n=r2(a);e=typeof e=="function"?e:dr(e||s2),t=typeof t=="function"?t:dr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:dr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:dr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Bx(){}function Vx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function cB(e){this._context=e}cB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kpe(e){return new cB(e)}function uB(e){this._context=e}uB.prototype={areaStart:Bx,areaEnd:Bx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cpe(e){return new uB(e)}function dB(e){this._context=e}dB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Vx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ppe(e){return new dB(e)}function fB(e){this._context=e}fB.prototype={areaStart:Bx,areaEnd:Bx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Epe(e){return new fB(e)}function gT(e){return e<0?-1:1}function vT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(gT(i)+gT(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function xT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function qx(e){this._context=e}qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dj(this,this._t0,xT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dj(this,xT(this,r=vT(this,e,t)),r);break;default:dj(this,this._t0,r=vT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function hB(e){this._context=new mB(e)}(hB.prototype=Object.create(qx.prototype)).point=function(e,t){qx.prototype.point.call(this,t,e)};function mB(e){this._context=e}mB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Ape(e){return new qx(e)}function Ope(e){return new hB(e)}function pB(e){this._context=e}pB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=yT(e),a=yT(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yT(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Tpe(e){return new pB(e)}function b0(e,t){this._context=e,this._t=t}b0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Ipe(e){return new b0(e,.5)}function Rpe(e){return new b0(e,0)}function $pe(e){return new b0(e,1)}function Md(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function t_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Mpe(e,t){return e[t]}function Dpe(e){const t=[];return t.key=e,t}function Lpe(){var e=dr([]),t=t_,r=Md,n=Mpe;function a(i){var o=Array.from(e.apply(this,arguments),Dpe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=n2(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:dr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:dr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?t_:typeof i=="function"?i:dr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Md,a):r},a}function Fpe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Md(e,t)}}function Upe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Md(e,t)}}function Bpe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,b=0;b<l;++b){var m=e[t[b]],w=m[n][1]||0,x=m[n-1][1]||0;p+=w-x}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Md(e,t)}}function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}var Vpe=["type","size","sizeType"];function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(this,arguments)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){qpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qpe(e,t,r){return t=zpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zpe(e){var t=Wpe(e,"string");return Rm(t)=="symbol"?t:t+""}function Wpe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kpe(e,t){if(e==null)return{};var r=Hpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gB={symbolCircle:s2,symbolCross:mpe,symbolDiamond:gpe,symbolSquare:vpe,symbolStar:wpe,symbolTriangle:jpe,symbolWye:_pe},Gpe=Math.PI/180,Qpe=function(t){var r="symbol".concat(v0(t));return gB[r]||s2},Ype=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Gpe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Xpe=function(t,r){gB["symbol".concat(v0(t))]=r},a2=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Kpe(t,Vpe),u=wT(wT({},c),{},{type:n,size:i,sizeType:l}),d=function(){var w=Qpe(n),x=Spe().type(w).size(Ype(i,l,n));return x()},f=u.className,h=u.cx,p=u.cy,b=ut(u,!0);return h===+h&&p===+p&&i===+i?D.createElement("path",r_({},b,{className:xt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};a2.registerSymbol=Xpe;function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(this,arguments)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){$m(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ege(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xB(n.key),n)}}function tge(e,t,r){return t&&ege(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rge(e,t,r){return t=zx(t),nge(e,vB()?Reflect.construct(t,r||[],zx(e).constructor):t.apply(e,r))}function nge(e,t){if(t&&(Dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sge(e)}function sge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vB=function(){return!!e})()}function zx(e){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zx(e)}function age(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s_(e,t)}function s_(e,t){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s_(e,t)}function $m(e,t,r){return t=xB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xB(e){var t=ige(e,"string");return Dd(t)=="symbol"?t:t+""}function ige(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qs=32,i2=function(e){function t(){return Zpe(this,t),rge(this,t,arguments)}return age(t,e),tge(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=qs/2,o=qs/6,l=qs/3,c=n.inactive?a:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:qs,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(qs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(qs/8,"h").concat(qs,"v").concat(qs*3/4,"h").concat(-qs,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var u=Jpe({},n);return delete u.legendIcon,D.cloneElement(n.legendIcon,u)}return D.createElement(a2,{fill:c,cx:i,cy:i,size:qs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:qs,height:qs},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,b){var m=p.formatter||c,w=xt($m($m({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=ft(p.value)?null:p.value;Ta(!ft(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?u:p.color;return D.createElement("li",n_({className:w,style:f,key:"legend-item-".concat(b)},_c(n.props,p,b)),D.createElement(GN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m?m(x,p,b):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);$m(i2,"displayName","Legend");$m(i2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oge=s0;function lge(){this.__data__=new oge,this.size=0}var cge=lge;function uge(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var dge=uge;function fge(e){return this.__data__.get(e)}var hge=fge;function mge(e){return this.__data__.has(e)}var pge=mge,gge=s0,vge=HC,xge=GC,yge=200;function bge(e,t){var r=this.__data__;if(r instanceof gge){var n=r.__data__;if(!vge||n.length<yge-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new xge(n)}return r.set(e,t),this.size=r.size,this}var wge=bge,jge=s0,Nge=cge,_ge=dge,Sge=hge,kge=pge,Cge=wge;function Ef(e){var t=this.__data__=new jge(e);this.size=t.size}Ef.prototype.clear=Nge;Ef.prototype.delete=_ge;Ef.prototype.get=Sge;Ef.prototype.has=kge;Ef.prototype.set=Cge;var yB=Ef,Pge="__lodash_hash_undefined__";function Ege(e){return this.__data__.set(e,Pge),this}var Age=Ege;function Oge(e){return this.__data__.has(e)}var Tge=Oge,Ige=GC,Rge=Age,$ge=Tge;function Wx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ige;++t<r;)this.add(e[t])}Wx.prototype.add=Wx.prototype.push=Rge;Wx.prototype.has=$ge;var bB=Wx;function Mge(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var wB=Mge;function Dge(e,t){return e.has(t)}var jB=Dge,Lge=bB,Fge=wB,Uge=jB,Bge=1,Vge=2;function qge(e,t,r,n,a,i){var o=r&Bge,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Vge?new Lge:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var b=e[f],m=t[f];if(n)var w=o?n(m,b,f,t,e,i):n(b,m,f,e,t,i);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!Fge(t,function(x,g){if(!Uge(p,g)&&(b===x||a(b,x,r,n,i)))return p.push(g)})){h=!1;break}}else if(!(b===m||a(b,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var NB=qge,zge=fi,Wge=zge.Uint8Array,Kge=Wge;function Hge(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Gge=Hge;function Qge(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var o2=Qge,NT=Xp,_T=Kge,Yge=KC,Xge=NB,Jge=Gge,Zge=o2,eve=1,tve=2,rve="[object Boolean]",nve="[object Date]",sve="[object Error]",ave="[object Map]",ive="[object Number]",ove="[object RegExp]",lve="[object Set]",cve="[object String]",uve="[object Symbol]",dve="[object ArrayBuffer]",fve="[object DataView]",ST=NT?NT.prototype:void 0,fj=ST?ST.valueOf:void 0;function hve(e,t,r,n,a,i,o){switch(r){case fve:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case dve:return!(e.byteLength!=t.byteLength||!i(new _T(e),new _T(t)));case rve:case nve:case ive:return Yge(+e,+t);case sve:return e.name==t.name&&e.message==t.message;case ove:case cve:return e==t+"";case ave:var l=Jge;case lve:var c=n&eve;if(l||(l=Zge),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=tve,o.set(e,t);var d=Xge(l(e),l(t),n,a,i,o);return o.delete(e),d;case uve:if(fj)return fj.call(e)==fj.call(t)}return!1}var mve=hve;function pve(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var _B=pve,gve=_B,vve=gs;function xve(e,t,r){var n=t(e);return vve(e)?n:gve(n,r(e))}var yve=xve;function bve(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var wve=bve;function jve(){return[]}var Nve=jve,_ve=wve,Sve=Nve,kve=Object.prototype,Cve=kve.propertyIsEnumerable,kT=Object.getOwnPropertySymbols,Pve=kT?function(e){return e==null?[]:(e=Object(e),_ve(kT(e),function(t){return Cve.call(e,t)}))}:Sve,Eve=Pve;function Ave(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Ove=Ave,Tve=eo,Ive=to,Rve="[object Arguments]";function $ve(e){return Ive(e)&&Tve(e)==Rve}var Mve=$ve,CT=Mve,Dve=to,SB=Object.prototype,Lve=SB.hasOwnProperty,Fve=SB.propertyIsEnumerable,Uve=CT(function(){return arguments}())?CT:function(e){return Dve(e)&&Lve.call(e,"callee")&&!Fve.call(e,"callee")},l2=Uve,Kx={exports:{}};function Bve(){return!1}var Vve=Bve;Kx.exports;(function(e,t){var r=fi,n=Vve,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Kx,Kx.exports);var kB=Kx.exports,qve=9007199254740991,zve=/^(?:0|[1-9]\d*)$/;function Wve(e,t){var r=typeof e;return t=t??qve,!!t&&(r=="number"||r!="symbol"&&zve.test(e))&&e>-1&&e%1==0&&e<t}var c2=Wve,Kve=9007199254740991;function Hve(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Kve}var u2=Hve,Gve=eo,Qve=u2,Yve=to,Xve="[object Arguments]",Jve="[object Array]",Zve="[object Boolean]",exe="[object Date]",txe="[object Error]",rxe="[object Function]",nxe="[object Map]",sxe="[object Number]",axe="[object Object]",ixe="[object RegExp]",oxe="[object Set]",lxe="[object String]",cxe="[object WeakMap]",uxe="[object ArrayBuffer]",dxe="[object DataView]",fxe="[object Float32Array]",hxe="[object Float64Array]",mxe="[object Int8Array]",pxe="[object Int16Array]",gxe="[object Int32Array]",vxe="[object Uint8Array]",xxe="[object Uint8ClampedArray]",yxe="[object Uint16Array]",bxe="[object Uint32Array]",gr={};gr[fxe]=gr[hxe]=gr[mxe]=gr[pxe]=gr[gxe]=gr[vxe]=gr[xxe]=gr[yxe]=gr[bxe]=!0;gr[Xve]=gr[Jve]=gr[uxe]=gr[Zve]=gr[dxe]=gr[exe]=gr[txe]=gr[rxe]=gr[nxe]=gr[sxe]=gr[axe]=gr[ixe]=gr[oxe]=gr[lxe]=gr[cxe]=!1;function wxe(e){return Yve(e)&&Qve(e.length)&&!!gr[Gve(e)]}var jxe=wxe;function Nxe(e){return function(t){return e(t)}}var CB=Nxe,Hx={exports:{}};Hx.exports;(function(e,t){var r=$U,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Hx,Hx.exports);var _xe=Hx.exports,Sxe=jxe,kxe=CB,PT=_xe,ET=PT&&PT.isTypedArray,Cxe=ET?kxe(ET):Sxe,PB=Cxe,Pxe=Ove,Exe=l2,Axe=gs,Oxe=kB,Txe=c2,Ixe=PB,Rxe=Object.prototype,$xe=Rxe.hasOwnProperty;function Mxe(e,t){var r=Axe(e),n=!r&&Exe(e),a=!r&&!n&&Oxe(e),i=!r&&!n&&!a&&Ixe(e),o=r||n||a||i,l=o?Pxe(e.length,String):[],c=l.length;for(var u in e)(t||$xe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Txe(u,c)))&&l.push(u);return l}var Dxe=Mxe,Lxe=Object.prototype;function Fxe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Lxe;return e===r}var Uxe=Fxe;function Bxe(e,t){return function(r){return e(t(r))}}var EB=Bxe,Vxe=EB,qxe=Vxe(Object.keys,Object),zxe=qxe,Wxe=Uxe,Kxe=zxe,Hxe=Object.prototype,Gxe=Hxe.hasOwnProperty;function Qxe(e){if(!Wxe(e))return Kxe(e);var t=[];for(var r in Object(e))Gxe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Yxe=Qxe,Xxe=WC,Jxe=u2;function Zxe(e){return e!=null&&Jxe(e.length)&&!Xxe(e)}var eg=Zxe,eye=Dxe,tye=Yxe,rye=eg;function nye(e){return rye(e)?eye(e):tye(e)}var w0=nye,sye=yve,aye=Eve,iye=w0;function oye(e){return sye(e,iye,aye)}var lye=oye,AT=lye,cye=1,uye=Object.prototype,dye=uye.hasOwnProperty;function fye(e,t,r,n,a,i){var o=r&cye,l=AT(e),c=l.length,u=AT(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:dye.call(t,h)))return!1}var p=i.get(e),b=i.get(t);if(p&&b)return p==t&&b==e;var m=!0;i.set(e,t),i.set(t,e);for(var w=o;++f<c;){h=l[f];var x=e[h],g=t[h];if(n)var v=o?n(g,x,h,t,e,i):n(x,g,h,e,t,i);if(!(v===void 0?x===g||a(x,g,r,n,i):v)){m=!1;break}w||(w=h=="constructor")}if(m&&!w){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(m=!1)}return i.delete(e),i.delete(t),m}var hye=fye,mye=$c,pye=fi,gye=mye(pye,"DataView"),vye=gye,xye=$c,yye=fi,bye=xye(yye,"Promise"),wye=bye,jye=$c,Nye=fi,_ye=jye(Nye,"Set"),AB=_ye,Sye=$c,kye=fi,Cye=Sye(kye,"WeakMap"),Pye=Cye,a_=vye,i_=HC,o_=wye,l_=AB,c_=Pye,OB=eo,Af=DU,OT="[object Map]",Eye="[object Object]",TT="[object Promise]",IT="[object Set]",RT="[object WeakMap]",$T="[object DataView]",Aye=Af(a_),Oye=Af(i_),Tye=Af(o_),Iye=Af(l_),Rye=Af(c_),Al=OB;(a_&&Al(new a_(new ArrayBuffer(1)))!=$T||i_&&Al(new i_)!=OT||o_&&Al(o_.resolve())!=TT||l_&&Al(new l_)!=IT||c_&&Al(new c_)!=RT)&&(Al=function(e){var t=OB(e),r=t==Eye?e.constructor:void 0,n=r?Af(r):"";if(n)switch(n){case Aye:return $T;case Oye:return OT;case Tye:return TT;case Iye:return IT;case Rye:return RT}return t});var $ye=Al,hj=yB,Mye=NB,Dye=mve,Lye=hye,MT=$ye,DT=gs,LT=kB,Fye=PB,Uye=1,FT="[object Arguments]",UT="[object Array]",Qg="[object Object]",Bye=Object.prototype,BT=Bye.hasOwnProperty;function Vye(e,t,r,n,a,i){var o=DT(e),l=DT(t),c=o?UT:MT(e),u=l?UT:MT(t);c=c==FT?Qg:c,u=u==FT?Qg:u;var d=c==Qg,f=u==Qg,h=c==u;if(h&&LT(e)){if(!LT(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new hj),o||Fye(e)?Mye(e,t,r,n,a,i):Dye(e,t,c,r,n,a,i);if(!(r&Uye)){var p=d&&BT.call(e,"__wrapped__"),b=f&&BT.call(t,"__wrapped__");if(p||b){var m=p?e.value():e,w=b?t.value():t;return i||(i=new hj),a(m,w,r,n,i)}}return h?(i||(i=new hj),Lye(e,t,r,n,a,i)):!1}var qye=Vye,zye=qye,VT=to;function TB(e,t,r,n,a){return e===t?!0:e==null||t==null||!VT(e)&&!VT(t)?e!==e&&t!==t:zye(e,t,r,n,TB,a)}var d2=TB,Wye=yB,Kye=d2,Hye=1,Gye=2;function Qye(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Wye;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Kye(d,u,Hye|Gye,n,f):h))return!1}}return!0}var Yye=Qye,Xye=cl;function Jye(e){return e===e&&!Xye(e)}var IB=Jye,Zye=IB,ebe=w0;function tbe(e){for(var t=ebe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Zye(a)]}return t}var rbe=tbe;function nbe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var RB=nbe,sbe=Yye,abe=rbe,ibe=RB;function obe(e){var t=abe(e);return t.length==1&&t[0][2]?ibe(t[0][0],t[0][1]):function(r){return r===e||sbe(r,e,t)}}var lbe=obe;function cbe(e,t){return e!=null&&t in Object(e)}var ube=cbe,dbe=VU,fbe=l2,hbe=gs,mbe=c2,pbe=u2,gbe=i0;function vbe(e,t,r){t=dbe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=gbe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&pbe(a)&&mbe(o,a)&&(hbe(e)||fbe(e)))}var xbe=vbe,ybe=ube,bbe=xbe;function wbe(e,t){return e!=null&&bbe(e,t,ybe)}var jbe=wbe,Nbe=d2,_be=qU,Sbe=jbe,kbe=zC,Cbe=IB,Pbe=RB,Ebe=i0,Abe=1,Obe=2;function Tbe(e,t){return kbe(e)&&Cbe(t)?Pbe(Ebe(e),t):function(r){var n=_be(r,e);return n===void 0&&n===t?Sbe(r,e):Nbe(t,n,Abe|Obe)}}var Ibe=Tbe;function Rbe(e){return e}var Of=Rbe;function $be(e){return function(t){return t==null?void 0:t[e]}}var Mbe=$be,Dbe=XC;function Lbe(e){return function(t){return Dbe(t,e)}}var Fbe=Lbe,Ube=Mbe,Bbe=Fbe,Vbe=zC,qbe=i0;function zbe(e){return Vbe(e)?Ube(qbe(e)):Bbe(e)}var Wbe=zbe,Kbe=lbe,Hbe=Ibe,Gbe=Of,Qbe=gs,Ybe=Wbe;function Xbe(e){return typeof e=="function"?e:e==null?Gbe:typeof e=="object"?Qbe(e)?Hbe(e[0],e[1]):Kbe(e):Ybe(e)}var hi=Xbe;function Jbe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var $B=Jbe;function Zbe(e){return e!==e}var e0e=Zbe;function t0e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var r0e=t0e,n0e=$B,s0e=e0e,a0e=r0e;function i0e(e,t,r){return t===t?a0e(e,t,r):n0e(e,s0e,r)}var o0e=i0e,l0e=o0e;function c0e(e,t){var r=e==null?0:e.length;return!!r&&l0e(e,t,0)>-1}var u0e=c0e;function d0e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var f0e=d0e;function h0e(){}var m0e=h0e,mj=AB,p0e=m0e,g0e=o2,v0e=1/0,x0e=mj&&1/g0e(new mj([,-0]))[1]==v0e?function(e){return new mj(e)}:p0e,y0e=x0e,b0e=bB,w0e=u0e,j0e=f0e,N0e=jB,_0e=y0e,S0e=o2,k0e=200;function C0e(e,t,r){var n=-1,a=w0e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=j0e;else if(i>=k0e){var u=t?null:_0e(e);if(u)return S0e(u);o=!1,a=N0e,c=new b0e}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var P0e=C0e,E0e=hi,A0e=P0e;function O0e(e,t){return e&&e.length?A0e(e,E0e(t)):[]}var T0e=O0e;const qT=Ht(T0e);function MB(e,t,r){return t===!0?qT(e,r):ft(t)?qT(e,t):e}function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}var I0e=["ref"];function zT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LB(n.key),n)}}function $0e(e,t,r){return t&&WT(e.prototype,t),r&&WT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function M0e(e,t,r){return t=Gx(t),D0e(e,DB()?Reflect.construct(t,r||[],Gx(e).constructor):t.apply(e,r))}function D0e(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L0e(e)}function L0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DB=function(){return!!e})()}function Gx(e){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(e)}function F0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u_(e,t)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u_(e,t)}function j0(e,t,r){return t=LB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=U0e(e,"string");return Ld(t)=="symbol"?t:t+""}function U0e(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function B0e(e,t){if(e==null)return{};var r=V0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q0e(e){return e.value}function z0e(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var r=B0e(t,I0e);return D.createElement(i2,r)}var KT=1,rc=function(e){function t(){var r;R0e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=M0e(this,t,[].concat(a)),j0(r,"lastBoundingBox",{width:-1,height:-1}),r}return F0e(t,e),$0e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>KT||Math.abs(a.height-this.lastBoundingBox.height)>KT)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?vi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();h={top:((d||0)-b.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return vi(vi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=vi(vi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},z0e(i,vi(vi({},this.props),{},{payload:MB(d,u,q0e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=vi(vi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ke(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(y.PureComponent);j0(rc,"displayName","Legend");j0(rc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var HT=Xp,W0e=l2,K0e=gs,GT=HT?HT.isConcatSpreadable:void 0;function H0e(e){return K0e(e)||W0e(e)||!!(GT&&e&&e[GT])}var G0e=H0e,Q0e=_B,Y0e=G0e;function FB(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Y0e),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?FB(l,t-1,r,n,a):Q0e(a,l):n||(a[a.length]=l)}return a}var UB=FB;function X0e(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var J0e=X0e,Z0e=J0e,ewe=Z0e(),twe=ewe,rwe=twe,nwe=w0;function swe(e,t){return e&&rwe(e,t,nwe)}var BB=swe,awe=eg;function iwe(e,t){return function(r,n){if(r==null)return r;if(!awe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var owe=iwe,lwe=BB,cwe=owe,uwe=cwe(lwe),f2=uwe,dwe=f2,fwe=eg;function hwe(e,t){var r=-1,n=fwe(e)?Array(e.length):[];return dwe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var VB=hwe;function mwe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var pwe=mwe,QT=_f;function gwe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=QT(e),o=t!==void 0,l=t===null,c=t===t,u=QT(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var vwe=gwe,xwe=vwe;function ywe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=xwe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var bwe=ywe,pj=YC,wwe=XC,jwe=hi,Nwe=VB,_we=pwe,Swe=CB,kwe=bwe,Cwe=Of,Pwe=gs;function Ewe(e,t,r){t.length?t=pj(t,function(i){return Pwe(i)?function(o){return wwe(o,i.length===1?i[0]:i)}:i}):t=[Cwe];var n=-1;t=pj(t,Swe(jwe));var a=Nwe(e,function(i,o,l){var c=pj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return _we(a,function(i,o){return kwe(i,o,r)})}var Awe=Ewe;function Owe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Twe=Owe,Iwe=Twe,YT=Math.max;function Rwe(e,t,r){return t=YT(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=YT(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Iwe(e,this,l)}}var $we=Rwe;function Mwe(e){return function(){return e}}var Dwe=Mwe,Lwe=$c,Fwe=function(){try{var e=Lwe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),qB=Fwe,Uwe=Dwe,XT=qB,Bwe=Of,Vwe=XT?function(e,t){return XT(e,"toString",{configurable:!0,enumerable:!1,value:Uwe(t),writable:!0})}:Bwe,qwe=Vwe,zwe=800,Wwe=16,Kwe=Date.now;function Hwe(e){var t=0,r=0;return function(){var n=Kwe(),a=Wwe-(n-r);if(r=n,a>0){if(++t>=zwe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Gwe=Hwe,Qwe=qwe,Ywe=Gwe,Xwe=Ywe(Qwe),Jwe=Xwe,Zwe=Of,eje=$we,tje=Jwe;function rje(e,t){return tje(eje(e,t,Zwe),e+"")}var nje=rje,sje=KC,aje=eg,ije=c2,oje=cl;function lje(e,t,r){if(!oje(r))return!1;var n=typeof t;return(n=="number"?aje(r)&&ije(t,r.length):n=="string"&&t in r)?sje(r[t],e):!1}var N0=lje,cje=UB,uje=Awe,dje=nje,JT=N0,fje=dje(function(e,t){if(e==null)return[];var r=t.length;return r>1&&JT(e,t[0],t[1])?t=[]:r>2&&JT(t[0],t[1],t[2])&&(t=[t[0]]),uje(e,cje(t,1),[])}),hje=fje;const h2=Ht(hje);function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d_.apply(this,arguments)}function mje(e,t){return xje(e)||vje(e,t)||gje(e,t)||pje()}function pje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gje(e,t){if(e){if(typeof e=="string")return ZT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZT(e,t)}}function ZT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xje(e){if(Array.isArray(e))return e}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(n){yje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yje(e,t,r){return t=bje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bje(e){var t=wje(e,"string");return Mm(t)=="symbol"?t:t+""}function wje(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jje(e){return Array.isArray(e)&&ln(e[0])&&ln(e[1])?e.join(" ~ "):e}var Nje=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,b=t.labelClassName,m=t.label,w=t.labelFormatter,x=t.accessibilityLayer,g=x===void 0?!1:x,v=function(){if(d&&d.length){var O={padding:0,margin:0},I=(h?h2(d,h):d).map(function(T,M){if(T.type==="none")return null;var V=gj({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},l),K=T.formatter||f||jje,A=T.value,R=T.name,G=A,Y=R;if(K&&G!=null&&Y!=null){var F=K(A,R,T,M,d);if(Array.isArray(F)){var X=mje(F,2);G=X[0],Y=X[1]}else G=F}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:V},ln(Y)?D.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,ln(Y)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},G),D.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:O},I)}return null},j=gj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=gj({margin:0},u),_=!jt(m),S=_?m:"",k=xt("recharts-default-tooltip",p),C=xt("recharts-tooltip-label",b);_&&w&&d!==void 0&&d!==null&&(S=w(m,d));var P=g?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",d_({className:k,style:j},P),D.createElement("p",{className:C,style:N},D.isValidElement(S)?S:"".concat(S)),v())};function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function Yg(e,t,r){return t=_je(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _je(e){var t=Sje(e,"string");return Dm(t)=="symbol"?t:t+""}function Sje(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh="recharts-tooltip-wrapper",kje={visibility:"hidden"};function Cje(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return xt(nh,Yg(Yg(Yg(Yg({},"".concat(nh,"-right"),ke(r)&&t&&ke(t.x)&&r>=t.x),"".concat(nh,"-left"),ke(r)&&t&&ke(t.x)&&r<t.x),"".concat(nh,"-bottom"),ke(n)&&t&&ke(t.y)&&n>=t.y),"".concat(nh,"-top"),ke(n)&&t&&ke(t.y)&&n<t.y))}function tI(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ke(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var b=f+l,m=c[n]+u;return b>m?Math.max(d,c[n]):Math.max(f,c[n])}function Pje(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Eje(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=tI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=tI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Pje({translateX:d,translateY:f,useTranslate3d:l})):u=kje,{cssProperties:u,cssClasses:Cje({translateX:d,translateY:f,coordinate:r})}}function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){h_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WB(n.key),n)}}function Tje(e,t,r){return t&&Oje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ije(e,t,r){return t=Qx(t),Rje(e,zB()?Reflect.construct(t,r||[],Qx(e).constructor):t.apply(e,r))}function Rje(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $je(e)}function $je(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zB=function(){return!!e})()}function Qx(e){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(e)}function Mje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f_(e,t)}function h_(e,t,r){return t=WB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=Dje(e,"string");return Fd(t)=="symbol"?t:t+""}function Dje(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sI=1,Lje=function(e){function t(){var r;Aje(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Ije(this,t,[].concat(a)),h_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),h_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Mje(t,e),Tje(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>sI||Math.abs(n.height-this.state.lastBoundingBox.height)>sI)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,b=a.position,m=a.reverseDirection,w=a.useTranslate3d,x=a.viewBox,g=a.wrapperStyle,v=Eje({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:b,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:x}),j=v.cssClasses,N=v.cssProperties,_=nI(nI({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return D.createElement("div",{tabIndex:-1,className:j,style:_,ref:function(k){n.wrapperNode=k}},u)}}])}(y.PureComponent),Fje=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Tf={isSsr:Fje()};function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){m2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HB(n.key),n)}}function Vje(e,t,r){return t&&Bje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qje(e,t,r){return t=Yx(t),zje(e,KB()?Reflect.construct(t,r||[],Yx(e).constructor):t.apply(e,r))}function zje(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wje(e)}function Wje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KB=function(){return!!e})()}function Yx(e){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yx(e)}function Kje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m_(e,t)}function m2(e,t,r){return t=HB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HB(e){var t=Hje(e,"string");return Ud(t)=="symbol"?t:t+""}function Hje(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gje(e){return e.dataKey}function Qje(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(Nje,t)}var ja=function(e){function t(){return Uje(this,t),qje(this,t,arguments)}return Kje(t,e),Vje(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,b=a.payload,m=a.payloadUniqBy,w=a.position,x=a.reverseDirection,g=a.useTranslate3d,v=a.viewBox,j=a.wrapperStyle,N=b??[];f&&N.length&&(N=MB(b.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,Gje));var _=N.length>0;return D.createElement(Lje,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:p,position:w,reverseDirection:x,useTranslate3d:g,viewBox:v,wrapperStyle:j},Qje(u,iI(iI({},this.props),{},{payload:N})))}}])}(y.PureComponent);m2(ja,"displayName","Tooltip");m2(ja,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Tf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Yje=fi,Xje=function(){return Yje.Date.now()},Jje=Xje,Zje=/\s/;function e1e(e){for(var t=e.length;t--&&Zje.test(e.charAt(t)););return t}var t1e=e1e,r1e=t1e,n1e=/^\s+/;function s1e(e){return e&&e.slice(0,r1e(e)+1).replace(n1e,"")}var a1e=s1e,i1e=a1e,oI=cl,o1e=_f,lI=NaN,l1e=/^[-+]0x[0-9a-f]+$/i,c1e=/^0b[01]+$/i,u1e=/^0o[0-7]+$/i,d1e=parseInt;function f1e(e){if(typeof e=="number")return e;if(o1e(e))return lI;if(oI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=oI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=i1e(e);var r=c1e.test(e);return r||u1e.test(e)?d1e(e.slice(2),r?2:8):l1e.test(e)?lI:+e}var GB=f1e,h1e=cl,vj=Jje,cI=GB,m1e="Expected a function",p1e=Math.max,g1e=Math.min;function v1e(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(m1e);t=cI(t)||0,h1e(r)&&(d=!!r.leading,f="maxWait"in r,i=f?p1e(cI(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(_){var S=n,k=a;return n=a=void 0,u=_,o=e.apply(k,S),o}function b(_){return u=_,l=setTimeout(x,t),d?p(_):o}function m(_){var S=_-c,k=_-u,C=t-S;return f?g1e(C,i-k):C}function w(_){var S=_-c,k=_-u;return c===void 0||S>=t||S<0||f&&k>=i}function x(){var _=vj();if(w(_))return g(_);l=setTimeout(x,m(_))}function g(_){return l=void 0,h&&n?p(_):(n=a=void 0,o)}function v(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:g(vj())}function N(){var _=vj(),S=w(_);if(n=arguments,a=this,c=_,S){if(l===void 0)return b(c);if(f)return clearTimeout(l),l=setTimeout(x,t),p(c)}return l===void 0&&(l=setTimeout(x,t)),o}return N.cancel=v,N.flush=j,N}var x1e=v1e,y1e=x1e,b1e=cl,w1e="Expected a function";function j1e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(w1e);return b1e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),y1e(e,t,{leading:n,maxWait:t,trailing:a})}var N1e=j1e;const QB=Ht(N1e);function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function uI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(r),!0).forEach(function(n){_1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _1e(e,t,r){return t=S1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S1e(e){var t=k1e(e,"string");return Lm(t)=="symbol"?t:t+""}function k1e(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C1e(e,t){return O1e(e)||A1e(e,t)||E1e(e,t)||P1e()}function P1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1e(e,t){if(e){if(typeof e=="string")return dI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dI(e,t)}}function dI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function O1e(e){if(Array.isArray(e))return e}var fI=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,b=e.debounce,m=b===void 0?0:b,w=e.id,x=e.className,g=e.onResize,v=e.style,j=v===void 0?{}:v,N=y.useRef(null),_=y.useRef();_.current=g,y.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var S=y.useState({containerWidth:a.width,containerHeight:a.height}),k=C1e(S,2),C=k[0],P=k[1],E=y.useCallback(function(I,T){P(function(M){var V=Math.round(I),K=Math.round(T);return M.containerWidth===V&&M.containerHeight===K?M:{containerWidth:V,containerHeight:K}})},[]);y.useEffect(function(){var I=function(R){var G,Y=R[0].contentRect,F=Y.width,X=Y.height;E(F,X),(G=_.current)===null||G===void 0||G.call(_,F,X)};m>0&&(I=QB(I,m,{trailing:!0,leading:!1}));var T=new ResizeObserver(I),M=N.current.getBoundingClientRect(),V=M.width,K=M.height;return E(V,K),T.observe(N.current),function(){T.disconnect()}},[E,m]);var O=y.useMemo(function(){var I=C.containerWidth,T=C.containerHeight;if(I<0||T<0)return null;Ta(Bl(o)||Bl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ta(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Bl(o)?I:o,V=Bl(c)?T:c;r&&r>0&&(M?V=M/r:V&&(M=V*r),h&&V>h&&(V=h)),Ta(M>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,V,o,c,d,f,r);var K=!Array.isArray(p)&&$i(p.type).endsWith("Chart");return D.Children.map(p,function(A){return D.isValidElement(A)?y.cloneElement(A,Xg({width:M,height:V},K?{style:Xg({height:"100%",width:"100%",maxHeight:V,maxWidth:M},A.props.style)}:{})):A})},[r,p,c,h,f,d,C,o]);return D.createElement("div",{id:w?"".concat(w):void 0,className:xt("recharts-responsive-container",x),style:Xg(Xg({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:N},O)}),_0=function(t){return null};_0.displayName="Cell";function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){T1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T1e(e,t,r){return t=I1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I1e(e){var t=R1e(e,"string");return Fm(t)=="symbol"?t:t+""}function R1e(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uu={widthCache:{},cacheCount:0},$1e=2e3,M1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mI="recharts_measurement_span";function D1e(e){var t=p_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Vh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Tf.isSsr)return{width:0,height:0};var n=D1e(r),a=JSON.stringify({text:t,copyStyle:n});if(uu.widthCache[a])return uu.widthCache[a];try{var i=document.getElementById(mI);i||(i=document.createElement("span"),i.setAttribute("id",mI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=p_(p_({},M1e),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return uu.widthCache[a]=c,++uu.cacheCount>$1e&&(uu.cacheCount=0,uu.widthCache={}),c}catch{return{width:0,height:0}}},L1e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function Xx(e,t){return V1e(e)||B1e(e,t)||U1e(e,t)||F1e()}function F1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U1e(e,t){if(e){if(typeof e=="string")return pI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pI(e,t)}}function pI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function V1e(e){if(Array.isArray(e))return e}function q1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W1e(n.key),n)}}function z1e(e,t,r){return t&&gI(e.prototype,t),r&&gI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function W1e(e){var t=K1e(e,"string");return Um(t)=="symbol"?t:t+""}function K1e(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,G1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Q1e=Object.keys(YB),Du="NaN";function Y1e(e,t){return e*YB[t]}var Jg=function(){function e(t,r){q1e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!H1e.test(r)&&(this.num=NaN,this.unit=""),Q1e.includes(r)&&(this.num=Y1e(t,r),this.unit="px")}return z1e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=G1e.exec(r))!==null&&n!==void 0?n:[],i=Xx(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function XB(e){if(e.includes(Du))return Du;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=vI.exec(t))!==null&&r!==void 0?r:[],a=Xx(n,4),i=a[1],o=a[2],l=a[3],c=Jg.parse(i??""),u=Jg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Du;t=t.replace(vI,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=xI.exec(t))!==null&&f!==void 0?f:[],p=Xx(h,4),b=p[1],m=p[2],w=p[3],x=Jg.parse(b??""),g=Jg.parse(w??""),v=m==="+"?x.add(g):x.subtract(g);if(v.isNaN())return Du;t=t.replace(xI,v.toString())}return t}var yI=/\(([^()]*)\)/;function X1e(e){for(var t=e;t.includes("(");){var r=yI.exec(t),n=Xx(r,2),a=n[1];t=t.replace(yI,XB(a))}return t}function J1e(e){var t=e.replace(/\s+/g,"");return t=X1e(t),t=XB(t),t}function Z1e(e){try{return J1e(e)}catch{return Du}}function xj(e){var t=Z1e(e.slice(5,-1));return t===Du?"":t}var eNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tNe=["dx","dy","angle","className","breakAll"];function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(this,arguments)}function bI(e,t){if(e==null)return{};var r=rNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wI(e,t){return iNe(e)||aNe(e,t)||sNe(e,t)||nNe()}function nNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sNe(e,t){if(e){if(typeof e=="string")return jI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jI(e,t)}}function jI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iNe(e){if(Array.isArray(e))return e}var JB=/[ \f\n\r\t\v\u2028\u2029]+/,ZB=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];jt(r)||(n?i=r.toString().split(""):i=r.toString().split(JB));var o=i.map(function(c){return{word:c,width:Vh(c,a).width}}),l=n?0:Vh("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},oNe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ke(o),f=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(V,K){var A=K.word,R=K.width,G=V[V.length-1];if(G&&(a==null||i||G.width+R+n<Number(a)))G.words.push(A),G.width+=R+n;else{var Y={words:[A],width:R};V.push(Y)}return V},[])},p=h(r),b=function(M){return M.reduce(function(V,K){return V.width>K.width?V:K})};if(!d)return p;for(var m="",w=function(M){var V=f.slice(0,M),K=ZB({breakAll:u,style:c,children:V+m}).wordsWithComputedWidth,A=h(K),R=A.length>o||b(A).width>Number(a);return[R,A]},x=0,g=f.length-1,v=0,j;x<=g&&v<=f.length-1;){var N=Math.floor((x+g)/2),_=N-1,S=w(_),k=wI(S,2),C=k[0],P=k[1],E=w(N),O=wI(E,1),I=O[0];if(!C&&!I&&(x=N+1),C&&I&&(g=N-1),!C&&I){j=P;break}v++}return j||p},NI=function(t){var r=jt(t)?[]:t.toString().split(JB);return[{words:r}]},lNe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Tf.isSsr){var c,u,d=ZB({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return NI(a);return oNe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return NI(a)},_I="#808080",Sc=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,b=t.verticalAnchor,m=b===void 0?"end":b,w=t.fill,x=w===void 0?_I:w,g=bI(t,eNe),v=y.useMemo(function(){return lNe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),j=g.dx,N=g.dy,_=g.angle,S=g.className,k=g.breakAll,C=bI(g,tNe);if(!ln(n)||!ln(i))return null;var P=n+(ke(j)?j:0),E=i+(ke(N)?N:0),O;switch(m){case"start":O=xj("calc(".concat(u,")"));break;case"middle":O=xj("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=xj("calc(".concat(v.length-1," * -").concat(l,")"));break}var I=[];if(f){var T=v[0].width,M=g.width;I.push("scale(".concat((ke(M)?M/T:1)/T,")"))}return _&&I.push("rotate(".concat(_,", ").concat(P,", ").concat(E,")")),I.length&&(C.transform=I.join(" ")),D.createElement("text",g_({},ut(C,!0),{x:P,y:E,className:xt("recharts-text",S),textAnchor:p,fill:x.includes("url")?_I:x}),v.map(function(V,K){var A=V.words.join(k?"":" ");return D.createElement("tspan",{x:P,dy:K===0?O:l,key:"".concat(A,"-").concat(K)},A)}))};function zo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cNe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function p2(e){let t,r,n;e.length!==2?(t=zo,r=(l,c)=>zo(e(l),c),n=(l,c)=>e(l)-c):(t=e===zo||e===cNe?e:uNe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function uNe(){return 0}function eV(e){return e===null?NaN:+e}function*dNe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const fNe=p2(zo),tg=fNe.right;p2(eV).center;class SI extends Map{constructor(t,r=pNe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(kI(this,t))}has(t){return super.has(kI(this,t))}set(t,r){return super.set(hNe(this,t),r)}delete(t){return super.delete(mNe(this,t))}}function kI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hNe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function mNe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function pNe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gNe(e=zo){if(e===zo)return tV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function tV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const vNe=Math.sqrt(50),xNe=Math.sqrt(10),yNe=Math.sqrt(2);function Jx(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=vNe?10:i>=xNe?5:i>=yNe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Jx(e,t,r*2):[l,c,u]}function v_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Jx(t,e,r):Jx(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function x_(e,t,r){return t=+t,e=+e,r=+r,Jx(e,t,r)[2]}function y_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?x_(t,e,r):x_(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function CI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function PI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rV(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?tV:gNe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),b=Math.min(n,Math.floor(t+(c-u)*f/c+h));rV(e,t,p,b,a)}const i=e[t];let o=r,l=n;for(sh(e,r,t),a(e[n],i)>0&&sh(e,r,n);o<l;){for(sh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?sh(e,r,l):(++l,sh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function sh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bNe(e,t,r){if(e=Float64Array.from(dNe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return PI(e);if(t>=1)return CI(e);var n,a=(n-1)*t,i=Math.floor(a),o=CI(rV(e,i).subarray(0,i+1)),l=PI(e.subarray(i+1));return o+(l-o)*(a-i)}}function wNe(e,t,r=eV){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function jNe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ro(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const b_=Symbol("implicit");function g2(){var e=new SI,t=[],r=[],n=b_;function a(i){let o=e.get(i);if(o===void 0){if(n!==b_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new SI;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return g2(t,r).unknown(n)},ua.apply(a,arguments),a}function Bm(){var e=g2().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,b=p?a:n,m=p?n:a;i=(m-b)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),b+=(m-b-i*(h-c))*d,o=i*(1-c),l&&(b=Math.round(b),o=Math.round(o));var w=jNe(h).map(function(x){return b+i*x});return r(p?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Bm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ua.apply(f(),arguments)}function nV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nV(t())},e}function qh(){return nV(Bm.apply(null,arguments).paddingInner(1))}function v2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sV(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function rg(){}var Vm=.7,Zx=1/Vm,Ju="\\s*([+-]?\\d+)\\s*",qm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NNe=/^#([0-9a-f]{3,8})$/,_Ne=new RegExp(`^rgb\\(${Ju},${Ju},${Ju}\\)$`),SNe=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),kNe=new RegExp(`^rgba\\(${Ju},${Ju},${Ju},${qm}\\)$`),CNe=new RegExp(`^rgba\\(${si},${si},${si},${qm}\\)$`),PNe=new RegExp(`^hsl\\(${qm},${si},${si}\\)$`),ENe=new RegExp(`^hsla\\(${qm},${si},${si},${qm}\\)$`),EI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};v2(rg,zm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:AI,formatHex:AI,formatHex8:ANe,formatHsl:ONe,formatRgb:OI,toString:OI});function AI(){return this.rgb().formatHex()}function ANe(){return this.rgb().formatHex8()}function ONe(){return aV(this).formatHsl()}function OI(){return this.rgb().formatRgb()}function zm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=NNe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?TI(t):r===3?new cs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Zg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Zg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_Ne.exec(e))?new cs(t[1],t[2],t[3],1):(t=SNe.exec(e))?new cs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kNe.exec(e))?Zg(t[1],t[2],t[3],t[4]):(t=CNe.exec(e))?Zg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=PNe.exec(e))?$I(t[1],t[2]/100,t[3]/100,1):(t=ENe.exec(e))?$I(t[1],t[2]/100,t[3]/100,t[4]):EI.hasOwnProperty(e)?TI(EI[e]):e==="transparent"?new cs(NaN,NaN,NaN,0):null}function TI(e){return new cs(e>>16&255,e>>8&255,e&255,1)}function Zg(e,t,r,n){return n<=0&&(e=t=r=NaN),new cs(e,t,r,n)}function TNe(e){return e instanceof rg||(e=zm(e)),e?(e=e.rgb(),new cs(e.r,e.g,e.b,e.opacity)):new cs}function w_(e,t,r,n){return arguments.length===1?TNe(e):new cs(e,t,r,n??1)}function cs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}v2(cs,w_,sV(rg,{brighter(e){return e=e==null?Zx:Math.pow(Zx,e),new cs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vm:Math.pow(Vm,e),new cs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cs(nc(this.r),nc(this.g),nc(this.b),ey(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:II,formatHex:II,formatHex8:INe,formatRgb:RI,toString:RI}));function II(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}`}function INe(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}${Vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function RI(){const e=ey(this.opacity);return`${e===1?"rgb(":"rgba("}${nc(this.r)}, ${nc(this.g)}, ${nc(this.b)}${e===1?")":`, ${e})`}`}function ey(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vl(e){return e=nc(e),(e<16?"0":"")+e.toString(16)}function $I(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ca(e,t,r,n)}function aV(e){if(e instanceof Ca)return new Ca(e.h,e.s,e.l,e.opacity);if(e instanceof rg||(e=zm(e)),!e)return new Ca;if(e instanceof Ca)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ca(o,l,c,e.opacity)}function RNe(e,t,r,n){return arguments.length===1?aV(e):new Ca(e,t,r,n??1)}function Ca(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}v2(Ca,RNe,sV(rg,{brighter(e){return e=e==null?Zx:Math.pow(Zx,e),new Ca(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vm:Math.pow(Vm,e),new Ca(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new cs(yj(e>=240?e-240:e+120,a,n),yj(e,a,n),yj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ca(MI(this.h),ev(this.s),ev(this.l),ey(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ey(this.opacity);return`${e===1?"hsl(":"hsla("}${MI(this.h)}, ${ev(this.s)*100}%, ${ev(this.l)*100}%${e===1?")":`, ${e})`}`}}));function MI(e){return e=(e||0)%360,e<0?e+360:e}function ev(e){return Math.max(0,Math.min(1,e||0))}function yj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const x2=e=>()=>e;function $Ne(e,t){return function(r){return e+r*t}}function MNe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function DNe(e){return(e=+e)==1?iV:function(t,r){return r-t?MNe(t,r,e):x2(isNaN(t)?r:t)}}function iV(e,t){var r=t-e;return r?$Ne(e,r):x2(isNaN(e)?t:e)}const DI=function e(t){var r=DNe(t);function n(a,i){var o=r((a=w_(a)).r,(i=w_(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=iV(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function LNe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function FNe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function UNe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=If(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function BNe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ty(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function VNe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=If(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var j_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bj=new RegExp(j_.source,"g");function qNe(e){return function(){return e}}function zNe(e){return function(t){return e(t)+""}}function WNe(e,t){var r=j_.lastIndex=bj.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=j_.exec(e))&&(a=bj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ty(n,a)})),r=bj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?zNe(c[0].x):qNe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function If(e,t){var r=typeof t,n;return t==null||r==="boolean"?x2(t):(r==="number"?ty:r==="string"?(n=zm(t))?(t=n,DI):WNe:t instanceof zm?DI:t instanceof Date?BNe:FNe(t)?LNe:Array.isArray(t)?UNe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?VNe:ty)(e,t)}function y2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function KNe(e,t){t===void 0&&(t=e,e=If);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function HNe(e){return function(){return e}}function ry(e){return+e}var LI=[0,1];function Hn(e){return e}function N_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:HNe(isNaN(t)?NaN:.5)}function GNe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function QNe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=N_(a,n),i=r(o,i)):(n=N_(n,a),i=r(i,o)),function(l){return i(n(l))}}function YNe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=N_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=tg(e,l,1,n)-1;return i[c](a[c](l))}}function ng(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function S0(){var e=LI,t=LI,r=If,n,a,i,o=Hn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Hn&&(o=GNe(e[0],e[h-1])),l=h>2?YNe:QNe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ty)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ry),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=y2,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Hn,d()):o!==Hn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function b2(){return S0()(Hn,Hn)}function XNe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ny(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Bd(e){return e=ny(Math.abs(e)),e?e[1]:NaN}function JNe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ZNe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var e_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wm(e){if(!(t=e_e.exec(e)))throw new Error("invalid format: "+e);var t;return new w2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wm.prototype=w2.prototype;function w2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}w2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t_e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var oV;function r_e(e,t){var r=ny(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(oV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ny(e,Math.max(0,t+i-1))[0]}function FI(e,t){var r=ny(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const UI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:XNe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FI(e*100,t),r:FI,s:r_e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BI(e){return e}var VI=Array.prototype.map,qI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function n_e(e){var t=e.grouping===void 0||e.thousands===void 0?BI:JNe(VI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?BI:ZNe(VI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Wm(f);var h=f.fill,p=f.align,b=f.sign,m=f.symbol,w=f.zero,x=f.width,g=f.comma,v=f.precision,j=f.trim,N=f.type;N==="n"?(g=!0,N="g"):UI[N]||(v===void 0&&(v=12),j=!0,N="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var _=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",S=m==="$"?n:/[%p]/.test(N)?o:"",k=UI[N],C=/[defgprs%]/.test(N);v=v===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function P(E){var O=_,I=S,T,M,V;if(N==="c")I=k(E)+I,E="";else{E=+E;var K=E<0||1/E<0;if(E=isNaN(E)?c:k(Math.abs(E),v),j&&(E=t_e(E)),K&&+E==0&&b!=="+"&&(K=!1),O=(K?b==="("?b:l:b==="-"||b==="("?"":b)+O,I=(N==="s"?qI[8+oV/3]:"")+I+(K&&b==="("?")":""),C){for(T=-1,M=E.length;++T<M;)if(V=E.charCodeAt(T),48>V||V>57){I=(V===46?a+E.slice(T+1):E.slice(T))+I,E=E.slice(0,T);break}}}g&&!w&&(E=t(E,1/0));var A=O.length+E.length+I.length,R=A<x?new Array(x-A+1).join(h):"";switch(g&&w&&(E=t(R+E,R.length?x-I.length:1/0),R=""),p){case"<":E=O+E+I+R;break;case"=":E=O+R+E+I;break;case"^":E=R.slice(0,A=R.length>>1)+O+E+I+R.slice(A);break;default:E=R+O+E+I;break}return i(E)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=Wm(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(Bd(h)/3)))*3,m=Math.pow(10,-b),w=qI[8+b/3];return function(x){return p(m*x)+w}}return{format:u,formatPrefix:d}}var tv,j2,lV;s_e({thousands:",",grouping:[3],currency:["$",""]});function s_e(e){return tv=n_e(e),j2=tv.format,lV=tv.formatPrefix,tv}function a_e(e){return Math.max(0,-Bd(Math.abs(e)))}function i_e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bd(t)/3)))*3-Bd(Math.abs(e)))}function o_e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bd(t)-Bd(e))+1}function cV(e,t,r,n){var a=y_(e,t,r),i;switch(n=Wm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=i_e(a,o))&&(n.precision=i),lV(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=o_e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=a_e(a))&&(n.precision=i-(n.type==="%")*2);break}}return j2(n)}function ul(e){var t=e.domain;return e.ticks=function(r){var n=t();return v_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return cV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=x_(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function sy(){var e=b2();return e.copy=function(){return ng(e,sy())},ua.apply(e,arguments),ul(e)}function uV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ry),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return uV(e).unknown(t)},e=arguments.length?Array.from(e,ry):[0,1],ul(r)}function dV(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function zI(e){return Math.log(e)}function WI(e){return Math.exp(e)}function l_e(e){return-Math.log(-e)}function c_e(e){return-Math.exp(-e)}function u_e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function d_e(e){return e===10?u_e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function f_e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KI(e){return(t,r)=>-e(-t,r)}function N2(e){const t=e(zI,WI),r=t.domain;let n=10,a,i;function o(){return a=f_e(n),i=d_e(n),r()[0]<0?(a=KI(a),i=KI(i),e(l_e,c_e)):e(zI,WI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),b,m;const w=l==null?10:+l;let x=[];if(!(n%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(b=1;b<n;++b)if(m=h<0?b/i(-h):b*i(h),!(m<u)){if(m>d)break;x.push(m)}}else for(;h<=p;++h)for(b=n-1;b>=1;--b)if(m=h>0?b/i(-h):b*i(h),!(m<u)){if(m>d)break;x.push(m)}x.length*2<w&&(x=v_(u,d,w))}else x=v_(h,p,Math.min(p-h,w)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Wm(c)).precision==null&&(c.trim=!0),c=j2(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(dV(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function fV(){const e=N2(S0()).domain([1,10]);return e.copy=()=>ng(e,fV()).base(e.base()),ua.apply(e,arguments),e}function HI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function GI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _2(e){var t=1,r=e(HI(t),GI(t));return r.constant=function(n){return arguments.length?e(HI(t=+n),GI(t)):t},ul(r)}function hV(){var e=_2(S0());return e.copy=function(){return ng(e,hV()).constant(e.constant())},ua.apply(e,arguments)}function QI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function h_e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function m_e(e){return e<0?-e*e:e*e}function S2(e){var t=e(Hn,Hn),r=1;function n(){return r===1?e(Hn,Hn):r===.5?e(h_e,m_e):e(QI(r),QI(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ul(t)}function k2(){var e=S2(S0());return e.copy=function(){return ng(e,k2()).exponent(e.exponent())},ua.apply(e,arguments),e}function p_e(){return k2.apply(null,arguments).exponent(.5)}function YI(e){return Math.sign(e)*e*e}function g_e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mV(){var e=b2(),t=[0,1],r=!1,n;function a(i){var o=g_e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(YI(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ry)).map(YI)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return mV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ua.apply(a,arguments),ul(a)}function pV(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=wNe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[tg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(zo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return pV().domain(e).range(t).unknown(n)},ua.apply(i,arguments)}function gV(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[tg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return gV().domain([e,t]).range(a).unknown(i)},ua.apply(ul(o),arguments)}function vV(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[tg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return vV().domain(e).range(t).unknown(r)},ua.apply(a,arguments)}const wj=new Date,jj=new Date;function un(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>un(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(wj.setTime(+i),jj.setTime(+o),e(wj),e(jj),Math.floor(r(wj,jj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const ay=un(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ay.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?un(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ay);ay.range;const Ai=1e3,Ys=Ai*60,Oi=Ys*60,Ki=Oi*24,C2=Ki*7,XI=Ki*30,Nj=Ki*365,ql=un(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getUTCSeconds());ql.range;const P2=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai)},(e,t)=>{e.setTime(+e+t*Ys)},(e,t)=>(t-e)/Ys,e=>e.getMinutes());P2.range;const E2=un(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ys)},(e,t)=>(t-e)/Ys,e=>e.getUTCMinutes());E2.range;const A2=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai-e.getMinutes()*Ys)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getHours());A2.range;const O2=un(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCHours());O2.range;const sg=un(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ys)/Ki,e=>e.getDate()-1);sg.range;const k0=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>e.getUTCDate()-1);k0.range;const xV=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>Math.floor(e/Ki));xV.range;function Mc(e){return un(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ys)/C2)}const C0=Mc(0),iy=Mc(1),v_e=Mc(2),x_e=Mc(3),Vd=Mc(4),y_e=Mc(5),b_e=Mc(6);C0.range;iy.range;v_e.range;x_e.range;Vd.range;y_e.range;b_e.range;function Dc(e){return un(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/C2)}const P0=Dc(0),oy=Dc(1),w_e=Dc(2),j_e=Dc(3),qd=Dc(4),N_e=Dc(5),__e=Dc(6);P0.range;oy.range;w_e.range;j_e.range;qd.range;N_e.range;__e.range;const T2=un(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());T2.range;const I2=un(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());I2.range;const Hi=un(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Hi.range;const Gi=un(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gi.range;function yV(e,t,r,n,a,i){const o=[[ql,1,Ai],[ql,5,5*Ai],[ql,15,15*Ai],[ql,30,30*Ai],[i,1,Ys],[i,5,5*Ys],[i,15,15*Ys],[i,30,30*Ys],[a,1,Oi],[a,3,3*Oi],[a,6,6*Oi],[a,12,12*Oi],[n,1,Ki],[n,2,2*Ki],[r,1,C2],[t,1,XI],[t,3,3*XI],[e,1,Nj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),b=p?p.range(u,+d+1):[];return h?b.reverse():b}function c(u,d,f){const h=Math.abs(d-u)/f,p=p2(([,,w])=>w).right(o,h);if(p===o.length)return e.every(y_(u/Nj,d/Nj,f));if(p===0)return ay.every(Math.max(y_(u,d,f),1));const[b,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return b.every(m)}return[l,c]}const[S_e,k_e]=yV(Gi,I2,P0,xV,O2,E2),[C_e,P_e]=yV(Hi,T2,C0,sg,A2,P2);function _j(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ah(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function E_e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ih(a),d=oh(a),f=ih(i),h=oh(i),p=ih(o),b=oh(o),m=ih(l),w=oh(l),x=ih(c),g=oh(c),v={a:K,A,b:R,B:G,c:null,d:n4,e:n4,f:J_e,g:lSe,G:uSe,H:Q_e,I:Y_e,j:X_e,L:bV,m:Z_e,M:eSe,p:Y,q:F,Q:i4,s:o4,S:tSe,u:rSe,U:nSe,V:sSe,w:aSe,W:iSe,x:null,X:null,y:oSe,Y:cSe,Z:dSe,"%":a4},j={a:X,A:le,b:he,B:je,c:null,d:s4,e:s4,f:pSe,g:SSe,G:CSe,H:fSe,I:hSe,j:mSe,L:jV,m:gSe,M:vSe,p:ee,q:we,Q:i4,s:o4,S:xSe,u:ySe,U:bSe,V:wSe,w:jSe,W:NSe,x:null,X:null,y:_Se,Y:kSe,Z:PSe,"%":a4},N={a:P,A:E,b:O,B:I,c:T,d:t4,e:t4,f:W_e,g:e4,G:ZI,H:r4,I:r4,j:B_e,L:z_e,m:U_e,M:V_e,p:C,q:F_e,Q:H_e,s:G_e,S:q_e,u:R_e,U:$_e,V:M_e,w:I_e,W:D_e,x:M,X:V,y:e4,Y:ZI,Z:L_e,"%":K_e};v.x=_(r,v),v.X=_(n,v),v.c=_(t,v),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(ae,L){return function(te){var H=[],U=-1,me=0,He=ae.length,Pe,ht,sr;for(te instanceof Date||(te=new Date(+te));++U<He;)ae.charCodeAt(U)===37&&(H.push(ae.slice(me,U)),(ht=JI[Pe=ae.charAt(++U)])!=null?Pe=ae.charAt(++U):ht=Pe==="e"?" ":"0",(sr=L[Pe])&&(Pe=sr(te,ht)),H.push(Pe),me=U+1);return H.push(ae.slice(me,U)),H.join("")}}function S(ae,L){return function(te){var H=ah(1900,void 0,1),U=k(H,ae,te+="",0),me,He;if(U!=te.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(L&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(me=Sj(ah(H.y,0,1)),He=me.getUTCDay(),me=He>4||He===0?oy.ceil(me):oy(me),me=k0.offset(me,(H.V-1)*7),H.y=me.getUTCFullYear(),H.m=me.getUTCMonth(),H.d=me.getUTCDate()+(H.w+6)%7):(me=_j(ah(H.y,0,1)),He=me.getDay(),me=He>4||He===0?iy.ceil(me):iy(me),me=sg.offset(me,(H.V-1)*7),H.y=me.getFullYear(),H.m=me.getMonth(),H.d=me.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),He="Z"in H?Sj(ah(H.y,0,1)).getUTCDay():_j(ah(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(He+5)%7:H.w+H.U*7-(He+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Sj(H)):_j(H)}}function k(ae,L,te,H){for(var U=0,me=L.length,He=te.length,Pe,ht;U<me;){if(H>=He)return-1;if(Pe=L.charCodeAt(U++),Pe===37){if(Pe=L.charAt(U++),ht=N[Pe in JI?L.charAt(U++):Pe],!ht||(H=ht(ae,te,H))<0)return-1}else if(Pe!=te.charCodeAt(H++))return-1}return H}function C(ae,L,te){var H=u.exec(L.slice(te));return H?(ae.p=d.get(H[0].toLowerCase()),te+H[0].length):-1}function P(ae,L,te){var H=p.exec(L.slice(te));return H?(ae.w=b.get(H[0].toLowerCase()),te+H[0].length):-1}function E(ae,L,te){var H=f.exec(L.slice(te));return H?(ae.w=h.get(H[0].toLowerCase()),te+H[0].length):-1}function O(ae,L,te){var H=x.exec(L.slice(te));return H?(ae.m=g.get(H[0].toLowerCase()),te+H[0].length):-1}function I(ae,L,te){var H=m.exec(L.slice(te));return H?(ae.m=w.get(H[0].toLowerCase()),te+H[0].length):-1}function T(ae,L,te){return k(ae,t,L,te)}function M(ae,L,te){return k(ae,r,L,te)}function V(ae,L,te){return k(ae,n,L,te)}function K(ae){return o[ae.getDay()]}function A(ae){return i[ae.getDay()]}function R(ae){return c[ae.getMonth()]}function G(ae){return l[ae.getMonth()]}function Y(ae){return a[+(ae.getHours()>=12)]}function F(ae){return 1+~~(ae.getMonth()/3)}function X(ae){return o[ae.getUTCDay()]}function le(ae){return i[ae.getUTCDay()]}function he(ae){return c[ae.getUTCMonth()]}function je(ae){return l[ae.getUTCMonth()]}function ee(ae){return a[+(ae.getUTCHours()>=12)]}function we(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var L=_(ae+="",v);return L.toString=function(){return ae},L},parse:function(ae){var L=S(ae+="",!1);return L.toString=function(){return ae},L},utcFormat:function(ae){var L=_(ae+="",j);return L.toString=function(){return ae},L},utcParse:function(ae){var L=S(ae+="",!0);return L.toString=function(){return ae},L}}}var JI={"-":"",_:" ",0:"0"},yn=/^\s*\d+/,A_e=/^%/,O_e=/[\\^$*+?|[\]().{}]/g;function Ft(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function T_e(e){return e.replace(O_e,"\\$&")}function ih(e){return new RegExp("^(?:"+e.map(T_e).join("|")+")","i")}function oh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function I_e(e,t,r){var n=yn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function R_e(e,t,r){var n=yn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function $_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function M_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function D_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ZI(e,t,r){var n=yn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function e4(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function L_e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function F_e(e,t,r){var n=yn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function U_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function t4(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function B_e(e,t,r){var n=yn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function r4(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function V_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function q_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function z_e(e,t,r){var n=yn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function W_e(e,t,r){var n=yn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function K_e(e,t,r){var n=A_e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function H_e(e,t,r){var n=yn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function G_e(e,t,r){var n=yn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function n4(e,t){return Ft(e.getDate(),t,2)}function Q_e(e,t){return Ft(e.getHours(),t,2)}function Y_e(e,t){return Ft(e.getHours()%12||12,t,2)}function X_e(e,t){return Ft(1+sg.count(Hi(e),e),t,3)}function bV(e,t){return Ft(e.getMilliseconds(),t,3)}function J_e(e,t){return bV(e,t)+"000"}function Z_e(e,t){return Ft(e.getMonth()+1,t,2)}function eSe(e,t){return Ft(e.getMinutes(),t,2)}function tSe(e,t){return Ft(e.getSeconds(),t,2)}function rSe(e){var t=e.getDay();return t===0?7:t}function nSe(e,t){return Ft(C0.count(Hi(e)-1,e),t,2)}function wV(e){var t=e.getDay();return t>=4||t===0?Vd(e):Vd.ceil(e)}function sSe(e,t){return e=wV(e),Ft(Vd.count(Hi(e),e)+(Hi(e).getDay()===4),t,2)}function aSe(e){return e.getDay()}function iSe(e,t){return Ft(iy.count(Hi(e)-1,e),t,2)}function oSe(e,t){return Ft(e.getFullYear()%100,t,2)}function lSe(e,t){return e=wV(e),Ft(e.getFullYear()%100,t,2)}function cSe(e,t){return Ft(e.getFullYear()%1e4,t,4)}function uSe(e,t){var r=e.getDay();return e=r>=4||r===0?Vd(e):Vd.ceil(e),Ft(e.getFullYear()%1e4,t,4)}function dSe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ft(t/60|0,"0",2)+Ft(t%60,"0",2)}function s4(e,t){return Ft(e.getUTCDate(),t,2)}function fSe(e,t){return Ft(e.getUTCHours(),t,2)}function hSe(e,t){return Ft(e.getUTCHours()%12||12,t,2)}function mSe(e,t){return Ft(1+k0.count(Gi(e),e),t,3)}function jV(e,t){return Ft(e.getUTCMilliseconds(),t,3)}function pSe(e,t){return jV(e,t)+"000"}function gSe(e,t){return Ft(e.getUTCMonth()+1,t,2)}function vSe(e,t){return Ft(e.getUTCMinutes(),t,2)}function xSe(e,t){return Ft(e.getUTCSeconds(),t,2)}function ySe(e){var t=e.getUTCDay();return t===0?7:t}function bSe(e,t){return Ft(P0.count(Gi(e)-1,e),t,2)}function NV(e){var t=e.getUTCDay();return t>=4||t===0?qd(e):qd.ceil(e)}function wSe(e,t){return e=NV(e),Ft(qd.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function jSe(e){return e.getUTCDay()}function NSe(e,t){return Ft(oy.count(Gi(e)-1,e),t,2)}function _Se(e,t){return Ft(e.getUTCFullYear()%100,t,2)}function SSe(e,t){return e=NV(e),Ft(e.getUTCFullYear()%100,t,2)}function kSe(e,t){return Ft(e.getUTCFullYear()%1e4,t,4)}function CSe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qd(e):qd.ceil(e),Ft(e.getUTCFullYear()%1e4,t,4)}function PSe(){return"+0000"}function a4(){return"%"}function i4(e){return+e}function o4(e){return Math.floor(+e/1e3)}var du,_V,SV;ESe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ESe(e){return du=E_e(e),_V=du.format,du.parse,SV=du.utcFormat,du.utcParse,du}function ASe(e){return new Date(e)}function OSe(e){return e instanceof Date?+e:+new Date(+e)}function R2(e,t,r,n,a,i,o,l,c,u){var d=b2(),f=d.invert,h=d.domain,p=u(".%L"),b=u(":%S"),m=u("%I:%M"),w=u("%I %p"),x=u("%a %d"),g=u("%b %d"),v=u("%B"),j=u("%Y");function N(_){return(c(_)<_?p:l(_)<_?b:o(_)<_?m:i(_)<_?w:n(_)<_?a(_)<_?x:g:r(_)<_?v:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,OSe)):h().map(ASe)},d.ticks=function(_){var S=h();return e(S[0],S[S.length-1],_??10)},d.tickFormat=function(_,S){return S==null?N:u(S)},d.nice=function(_){var S=h();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?h(dV(S,_)):d},d.copy=function(){return ng(d,R2(e,t,r,n,a,i,o,l,c,u))},d}function TSe(){return ua.apply(R2(C_e,P_e,Hi,T2,C0,sg,A2,P2,ql,_V).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ISe(){return ua.apply(R2(S_e,k_e,Gi,I2,P0,k0,O2,E2,ql,SV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E0(){var e=0,t=1,r,n,a,i,o=Hn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,b;return arguments.length?([p,b]=h,o=f(p,b),u):[o(0),o(1)]}}return u.range=d(If),u.rangeRound=d(y2),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function dl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kV(){var e=ul(E0()(Hn));return e.copy=function(){return dl(e,kV())},ro.apply(e,arguments)}function CV(){var e=N2(E0()).domain([1,10]);return e.copy=function(){return dl(e,CV()).base(e.base())},ro.apply(e,arguments)}function PV(){var e=_2(E0());return e.copy=function(){return dl(e,PV()).constant(e.constant())},ro.apply(e,arguments)}function $2(){var e=S2(E0());return e.copy=function(){return dl(e,$2()).exponent(e.exponent())},ro.apply(e,arguments)}function RSe(){return $2.apply(null,arguments).exponent(.5)}function EV(){var e=[],t=Hn;function r(n){if(n!=null&&!isNaN(n=+n))return t((tg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(zo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>bNe(e,i/n))},r.copy=function(){return EV(t).domain(e)},ro.apply(r,arguments)}function A0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Hn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function b(m){return function(w){var x,g,v;return arguments.length?([x,g,v]=w,u=KNe(m,[x,g,v]),p):[u(0),u(.5),u(1)]}}return p.range=b(If),p.rangeRound=b(y2),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function AV(){var e=ul(A0()(Hn));return e.copy=function(){return dl(e,AV())},ro.apply(e,arguments)}function OV(){var e=N2(A0()).domain([.1,1,10]);return e.copy=function(){return dl(e,OV()).base(e.base())},ro.apply(e,arguments)}function TV(){var e=_2(A0());return e.copy=function(){return dl(e,TV()).constant(e.constant())},ro.apply(e,arguments)}function M2(){var e=S2(A0());return e.copy=function(){return dl(e,M2()).exponent(e.exponent())},ro.apply(e,arguments)}function $Se(){return M2.apply(null,arguments).exponent(.5)}const l4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bm,scaleDiverging:AV,scaleDivergingLog:OV,scaleDivergingPow:M2,scaleDivergingSqrt:$Se,scaleDivergingSymlog:TV,scaleIdentity:uV,scaleImplicit:b_,scaleLinear:sy,scaleLog:fV,scaleOrdinal:g2,scalePoint:qh,scalePow:k2,scaleQuantile:pV,scaleQuantize:gV,scaleRadial:mV,scaleSequential:kV,scaleSequentialLog:CV,scaleSequentialPow:$2,scaleSequentialQuantile:EV,scaleSequentialSqrt:RSe,scaleSequentialSymlog:PV,scaleSqrt:p_e,scaleSymlog:hV,scaleThreshold:vV,scaleTime:TSe,scaleUtc:ISe,tickFormat:cV},Symbol.toStringTag,{value:"Module"}));var MSe=_f;function DSe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!MSe(o):r(o,l)))var l=o,c=i}return c}var O0=DSe;function LSe(e,t){return e>t}var IV=LSe,FSe=O0,USe=IV,BSe=Of;function VSe(e){return e&&e.length?FSe(e,BSe,USe):void 0}var qSe=VSe;const T0=Ht(qSe);function zSe(e,t){return e<t}var RV=zSe,WSe=O0,KSe=RV,HSe=Of;function GSe(e){return e&&e.length?WSe(e,HSe,KSe):void 0}var QSe=GSe;const I0=Ht(QSe);var YSe=YC,XSe=hi,JSe=VB,ZSe=gs;function eke(e,t){var r=ZSe(e)?YSe:JSe;return r(e,XSe(t))}var tke=eke,rke=UB,nke=tke;function ske(e,t){return rke(nke(e,t),1)}var ake=ske;const ike=Ht(ake);var oke=d2;function lke(e,t){return oke(e,t)}var cke=lke;const R0=Ht(cke);var Rf=1e9,uke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},L2,br=!0,aa="[DecimalError] ",sc=aa+"Invalid argument: ",D2=aa+"Exponent out of range: ",$f=Math.floor,Ol=Math.pow,dke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cs,hn=1e7,vr=7,$V=9007199254740991,ly=$f($V/vr),Fe={};Fe.absoluteValue=Fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Fe.comparedTo=Fe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*vr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Fe.dividedBy=Fe.div=function(e){return Mi(this,new this.constructor(e))};Fe.dividedToIntegerBy=Fe.idiv=function(e){var t=this,r=t.constructor;return ir(Mi(t,new r(e),0,1),r.precision)};Fe.equals=Fe.eq=function(e){return!this.cmp(e)};Fe.exponent=function(){return Xr(this)};Fe.greaterThan=Fe.gt=function(e){return this.cmp(e)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(e){return this.cmp(e)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(e){return this.cmp(e)<0};Fe.lessThanOrEqualTo=Fe.lte=function(e){return this.cmp(e)<1};Fe.logarithm=Fe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cs))throw Error(aa+"NaN");if(r.s<1)throw Error(aa+(r.s?"NaN":"-Infinity"));return r.eq(Cs)?new n(0):(br=!1,t=Mi(Km(r,i),Km(e,i),i),br=!0,ir(t,a))};Fe.minus=Fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LV(t,e):MV(t,(e.s=-e.s,e))};Fe.modulo=Fe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(aa+"NaN");return r.s?(br=!1,t=Mi(r,e,0,1).times(e),br=!0,r.minus(t)):ir(new n(r),a)};Fe.naturalExponential=Fe.exp=function(){return DV(this)};Fe.naturalLogarithm=Fe.ln=function(){return Km(this)};Fe.negated=Fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Fe.plus=Fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MV(t,e):LV(t,(e.s=-e.s,e))};Fe.precision=Fe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sc+e);if(t=Xr(a)+1,n=a.d.length-1,r=n*vr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Fe.squareRoot=Fe.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(aa+"NaN")}for(e=Xr(l),br=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ja(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=$f((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Mi(l,i,o+2)).times(.5),Ja(i.d).slice(0,o)===(t=Ja(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ir(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return br=!0,ir(n,r)};Fe.times=Fe.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%hn|0,t=l/hn|0;i[a]=(i[a]+t)%hn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,br?ir(e,f.precision):e};Fe.toDecimalPlaces=Fe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(li(e,0,Rf),t===void 0?t=n.rounding:li(t,0,8),ir(r,e+Xr(r)+1,t))};Fe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=kc(n,!0):(li(e,0,Rf),t===void 0?t=a.rounding:li(t,0,8),n=ir(new a(n),e+1,t),r=kc(n,!0,e+1)),r};Fe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?kc(a):(li(e,0,Rf),t===void 0?t=i.rounding:li(t,0,8),n=ir(new i(a),e+Xr(a)+1,t),r=kc(n.abs(),!1,e+Xr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Fe.toInteger=Fe.toint=function(){var e=this,t=e.constructor;return ir(new t(e),Xr(e)+1,t.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Cs);if(l=new c(l),!l.s){if(e.s<1)throw Error(aa+"Infinity");return l}if(l.eq(Cs))return l;if(n=c.precision,e.eq(Cs))return ir(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=$V){for(a=new c(Cs),t=Math.ceil(n/vr+4),br=!1;r%2&&(a=a.times(l),u4(a.d,t)),r=$f(r/2),r!==0;)l=l.times(l),u4(l.d,t);return br=!0,e.s<0?new c(Cs).div(a):ir(a,n)}}else if(i<0)throw Error(aa+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,br=!1,a=e.times(Km(l,n+u)),br=!0,a=DV(a),a.s=i,a};Fe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Xr(a),n=kc(a,r<=i.toExpNeg||r>=i.toExpPos)):(li(e,1,Rf),t===void 0?t=i.rounding:li(t,0,8),a=ir(new i(a),e,t),r=Xr(a),n=kc(a,e<=r||r<=i.toExpNeg,e)),n};Fe.toSignificantDigits=Fe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(li(e,1,Rf),t===void 0?t=n.rounding:li(t,0,8)),ir(new n(r),e,t)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xr(e),r=e.constructor;return kc(e,t<=r.toExpNeg||t>=r.toExpPos)};function MV(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),br?ir(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/vr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/hn|0,c[i]%=hn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,br?ir(t,f):t}function li(e,t,r){if(e!==~~e||e<t||e>r)throw Error(sc+e)}function Ja(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=vr-n.length,r&&(i+=go(r)),i+=n;o=e[t],n=o+"",r=vr-n.length,r&&(i+=go(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Mi=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%hn|0,o=i/hn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*hn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,b,m,w,x,g,v,j,N,_,S,k,C=n.constructor,P=n.s==a.s?1:-1,E=n.d,O=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(aa+"Division by zero");for(c=n.e-a.e,S=O.length,N=E.length,p=new C(P),b=p.d=[],u=0;O[u]==(E[u]||0);)++u;if(O[u]>(E[u]||0)&&--c,i==null?g=i=C.precision:o?g=i+(Xr(n)-Xr(a))+1:g=i,g<0)return new C(0);if(g=g/vr+2|0,u=0,S==1)for(d=0,O=O[0],g++;(u<N||d)&&g--;u++)v=d*hn+(E[u]||0),b[u]=v/O|0,d=v%O|0;else{for(d=hn/(O[0]+1)|0,d>1&&(O=e(O,d),E=e(E,d),S=O.length,N=E.length),j=S,m=E.slice(0,S),w=m.length;w<S;)m[w++]=0;k=O.slice(),k.unshift(0),_=O[0],O[1]>=hn/2&&++_;do d=0,l=t(O,m,S,w),l<0?(x=m[0],S!=w&&(x=x*hn+(m[1]||0)),d=x/_|0,d>1?(d>=hn&&(d=hn-1),f=e(O,d),h=f.length,w=m.length,l=t(f,m,h,w),l==1&&(d--,r(f,S<h?k:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<w&&f.unshift(0),r(m,f,w),l==-1&&(w=m.length,l=t(O,m,S,w),l<1&&(d++,r(m,S<w?k:O,w))),w=m.length):l===0&&(d++,m=[0]),b[u++]=d,l&&m[0]?m[w++]=E[j]||0:(m=[E[j]],w=1);while((j++<N||m[0]!==void 0)&&g--)}return b[0]||b.shift(),p.e=c,ir(p,o?i+Xr(p)+1:i)}}();function DV(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Xr(e)>16)throw Error(D2+Xr(e));if(!e.s)return new d(Cs);for(br=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ol(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Cs),d.precision=l;;){if(a=ir(a.times(e),l),r=r.times(++c),o=i.plus(Mi(a,r,l)),Ja(o.d).slice(0,l)===Ja(i.d).slice(0,l)){for(;u--;)i=ir(i.times(i),l);return d.precision=f,t==null?(br=!0,ir(i,f)):i}i=o}}function Xr(e){for(var t=e.e*vr,r=e.d[0];r>=10;r/=10)t++;return t}function kj(e,t,r){if(t>e.LN10.sd())throw br=!0,r&&(e.precision=r),Error(aa+"LN10 precision limit exceeded");return ir(new e(e.LN10),t)}function go(e){for(var t="";e--;)t+="0";return t}function Km(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,b=p.d,m=p.constructor,w=m.precision;if(p.s<1)throw Error(aa+(p.s?"NaN":"-Infinity"));if(p.eq(Cs))return new m(0);if(t==null?(br=!1,u=w):u=t,p.eq(10))return t==null&&(br=!0),kj(m,u);if(u+=h,m.precision=u,r=Ja(b),n=r.charAt(0),i=Xr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ja(p.d),n=r.charAt(0),f++;i=Xr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=kj(m,u+2,w).times(i+""),p=Km(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=w,t==null?(br=!0,ir(p,w)):p;for(l=o=p=Mi(p.minus(Cs),p.plus(Cs),u),d=ir(p.times(p),u),a=3;;){if(o=ir(o.times(d),u),c=l.plus(Mi(o,new m(a),u)),Ja(c.d).slice(0,u)===Ja(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(kj(m,u+2,w).times(i+""))),l=Mi(l,new m(f),u),m.precision=w,t==null?(br=!0,ir(l,w)):l;l=c,a+=2}}function c4(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=$f(r/vr),e.d=[],n=(r+1)%vr,r<0&&(n+=vr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=vr;n<a;)e.d.push(+t.slice(n,n+=vr));t=t.slice(n),n=vr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),br&&(e.e>ly||e.e<-ly))throw Error(D2+r)}else e.s=0,e.e=0,e.d=[0];return e}function ir(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=vr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/vr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=vr,a=n-vr+o}if(r!==void 0&&(i=Ol(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ol(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Xr(e),f.length=1,t=t-i-1,f[0]=Ol(10,(vr-t%vr)%vr),e.e=$f(-t/vr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ol(10,vr-n),f[d]=a>0?(u/Ol(10,o-a)%Ol(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==hn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=hn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(br&&(e.e>ly||e.e<-ly))throw Error(D2+Xr(e));return e}function LV(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),br?ir(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/vr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=hn-1;--c[i],c[a]+=hn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,br?ir(t,p):t):new h(0)}function kc(e,t,r){var n,a=Xr(e),i=Ja(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+go(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+go(-a-1)+i,r&&(n=r-o)>0&&(i+=go(n))):a>=o?(i+=go(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+go(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=go(n))),e.s<0?"-"+i:i}function u4(e,t){if(e.length>t)return e.length=t,!0}function FV(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(sc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return c4(o,i.toString())}else if(typeof i!="string")throw Error(sc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,dke.test(i))c4(o,i);else throw Error(sc+i)}if(a.prototype=Fe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=FV,a.config=a.set=fke,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function fke(e){if(!e||typeof e!="object")throw Error(aa+"Object expected");var t,r,n,a=["precision",1,Rf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if($f(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(sc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(sc+r+": "+n);return this}var L2=FV(uke);Cs=new L2(1);const ar=L2;function hke(e){return vke(e)||gke(e)||pke(e)||mke()}function mke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pke(e,t){if(e){if(typeof e=="string")return __(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return __(e,t)}}function gke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function vke(e){if(Array.isArray(e))return __(e)}function __(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xke=function(t){return t},UV={},BV=function(t){return t===UV},d4=function(t){return function r(){return arguments.length===0||arguments.length===1&&BV(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},yke=function e(t,r){return t===1?r:d4(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==UV}).length;return o>=t?r.apply(void 0,a):e(t-o,d4(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return BV(f)?c.shift():f});return r.apply(void 0,hke(d).concat(c))}))})},$0=function(t){return yke(t.length,t)},S_=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},bke=$0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),wke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return xke;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},k_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},VV=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function jke(e){var t;return e===0?t=1:t=Math.floor(new ar(e).abs().log(10).toNumber())+1,t}function Nke(e,t,r){for(var n=new ar(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var _ke=$0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Ske=$0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),kke=$0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const M0={rangeStep:Nke,getDigitCount:jke,interpolateNumber:_ke,uninterpolateNumber:Ske,uninterpolateTruncation:kke};function C_(e){return Eke(e)||Pke(e)||qV(e)||Cke()}function Cke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Eke(e){if(Array.isArray(e))return P_(e)}function Hm(e,t){return Tke(e)||Oke(e,t)||qV(e,t)||Ake()}function Ake(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qV(e,t){if(e){if(typeof e=="string")return P_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P_(e,t)}}function P_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Tke(e){if(Array.isArray(e))return e}function zV(e){var t=Hm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function WV(e,t,r){if(e.lte(0))return new ar(0);var n=M0.getDigitCount(e.toNumber()),a=new ar(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ar(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new ar(Math.ceil(c))}function Ike(e,t,r){var n=1,a=new ar(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ar(10).pow(M0.getDigitCount(e)-1),a=new ar(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ar(Math.floor(e)))}else e===0?a=new ar(Math.floor((t-1)/2)):r||(a=new ar(Math.floor(e)));var o=Math.floor((t-1)/2),l=wke(bke(function(c){return a.add(new ar(c-o).mul(n)).toNumber()}),S_);return l(0,t)}function KV(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ar(0),tickMin:new ar(0),tickMax:new ar(0)};var i=WV(new ar(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new ar(0):(o=new ar(e).add(t).div(2),o=o.sub(new ar(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new ar(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?KV(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new ar(l).mul(i)),tickMax:o.add(new ar(c).mul(i))})}function Rke(e){var t=Hm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=zV([r,n]),c=Hm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(C_(S_(0,a-1).map(function(){return 1/0}))):[].concat(C_(S_(0,a-1).map(function(){return-1/0})),[d]);return r>n?k_(f):f}if(u===d)return Ike(u,a,i);var h=KV(u,d,o,i),p=h.step,b=h.tickMin,m=h.tickMax,w=M0.rangeStep(b,m.add(new ar(.1).mul(p)),p);return r>n?k_(w):w}function $ke(e,t){var r=Hm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=zV([n,a]),l=Hm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=WV(new ar(u).sub(c).div(d-1),i,0),h=[].concat(C_(M0.rangeStep(new ar(c),new ar(u).sub(new ar(.99).mul(f)),f)),[u]);return n>a?k_(h):h}var Mke=VV(Rke),Dke=VV($ke),Lke="Invariant failed";function Cc(e,t){throw new Error(Lke)}var Fke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(this,arguments)}function Uke(e,t){return zke(e)||qke(e,t)||Vke(e,t)||Bke()}function Bke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vke(e,t){if(e){if(typeof e=="string")return f4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f4(e,t)}}function f4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zke(e){if(Array.isArray(e))return e}function Wke(e,t){if(e==null)return{};var r=Kke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QV(n.key),n)}}function Qke(e,t,r){return t&&Gke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yke(e,t,r){return t=uy(t),Xke(e,HV()?Reflect.construct(t,r||[],uy(e).constructor):t.apply(e,r))}function Xke(e,t){if(t&&(zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jke(e)}function Jke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HV=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(e)}function Zke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E_(e,t)}function GV(e,t,r){return t=QV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QV(e){var t=eCe(e,"string");return zd(t)=="symbol"?t:t+""}function eCe(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var D0=function(e){function t(){return Hke(this,t),Yke(this,t,arguments)}return Zke(t,e),Qke(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Wke(n,Fke),p=ut(h,!1);this.props.direction==="x"&&d.type!=="number"&&Cc();var b=c.map(function(m){var w=u(m,l),x=w.x,g=w.y,v=w.value,j=w.errorVal;if(!j)return null;var N=[],_,S;if(Array.isArray(j)){var k=Uke(j,2);_=k[0],S=k[1]}else _=S=j;if(i==="vertical"){var C=d.scale,P=g+a,E=P+o,O=P-o,I=C(v-_),T=C(v+S);N.push({x1:T,y1:E,x2:T,y2:O}),N.push({x1:I,y1:P,x2:T,y2:P}),N.push({x1:I,y1:E,x2:I,y2:O})}else if(i==="horizontal"){var M=f.scale,V=x+a,K=V-o,A=V+o,R=M(v-_),G=M(v+S);N.push({x1:K,y1:G,x2:A,y2:G}),N.push({x1:V,y1:R,x2:V,y2:G}),N.push({x1:K,y1:R,x2:A,y2:R})}return D.createElement(Yt,cy({className:"recharts-errorBar",key:"bar-".concat(N.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},p),N.map(function(Y){return D.createElement("line",cy({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return D.createElement(Yt,{className:"recharts-errorBars"},b)}}])}(D.Component);GV(D0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});GV(D0,"displayName","ErrorBar");function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){tCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tCe(e,t,r){return t=rCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rCe(e){var t=nCe(e,"string");return Gm(t)=="symbol"?t:t+""}function nCe(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YV=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=bs(r,rc);if(!o)return null;var l=rc.defaultProps,c=l!==void 0?jl(jl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,b=p.sectors||p.data||[];return d.concat(b.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?jl(jl({},h),f.props):{},b=p.dataKey,m=p.name,w=p.legendType,x=p.hide;return{inactive:x,dataKey:b,type:c.iconType||w||"square",color:F2(f),value:m||b,payload:p}}),jl(jl(jl({},c),rc.getWithHeight(o,a)),{},{payload:u,item:o})};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function m4(e){return oCe(e)||iCe(e)||aCe(e)||sCe()}function sCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aCe(e,t){if(e){if(typeof e=="string")return A_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A_(e,t)}}function iCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oCe(e){if(Array.isArray(e))return A_(e)}function A_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(r),!0).forEach(function(n){Zu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zu(e,t,r){return t=lCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lCe(e){var t=cCe(e,"string");return Qm(t)=="symbol"?t:t+""}function cCe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rn(e,t,r){return jt(e)||jt(t)?r:ln(t)?Os(e,t,r):ft(t)?t(e):r}function zh(e,t,r,n){var a=ike(e,function(l){return Rn(l,t)});if(r==="number"){var i=a.filter(function(l){return ke(l)||parseFloat(l)});return i.length?[I0(i),T0(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!jt(l)}):a;return o.map(function(l){return ln(l)||l instanceof Date?l:""})}var uCe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Wn(f-d)!==Wn(h-f)){var b=[];if(Wn(h-f)===Wn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];b[0]=Math.min(m,(m+d)/2),b[1]=Math.max(m,(m+d)/2)}else{p=d;var w=h+c[1]-c[0];b[0]=Math.min(f,(w+f)/2),b[1]=Math.max(f,(w+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>x[0]&&t<=x[1]||t>=b[0]&&t<=b[1]){o=a[u].index;break}}else{var g=Math.min(d,h),v=Math.max(d,h);if(t>(g+f)/2&&t<=(v+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},F2=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Rr(Rr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},dCe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var b=d[f[h]],m=b.items,w=b.cateAxisId,x=m.filter(function(S){return $i(S.type).indexOf("Bar")>=0});if(x&&x.length){var g=x[0].type.defaultProps,v=g!==void 0?Rr(Rr({},g),x[0].props):x[0].props,j=v.barSize,N=v[w];o[N]||(o[N]=[]);var _=jt(j)?r:j;o[N].push({item:x[0],stackList:x.slice(1),barSize:jt(_)?void 0:Kn(_,n,0)})}}return o},fCe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Kn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,b=o.reduce(function(j,N){return j+N.barSize||0},0);b+=(c-1)*u,b>=a&&(b-=(c-1)*u,u=0),b>=a&&p>0&&(h=!0,p*=.9,b=c*p);var m=(a-b)/2>>0,w={offset:m-u,size:0};d=o.reduce(function(j,N){var _={item:N.item,position:{offset:w.offset+w.size+u,size:h?p:N.barSize}},S=[].concat(m4(j),[_]);return w=S[S.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){S.push({item:k,position:w})}),S},f)}else{var x=Kn(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var g=(a-2*x-(c-1)*u)/c;g>1&&(g>>=0);var v=l===+l?Math.min(g,l):g;d=o.reduce(function(j,N,_){var S=[].concat(m4(j),[{item:N.item,position:{offset:x+(g+u)*_+(g-v)/2,size:v}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){S.push({item:k,position:S[S.length-1].position})}),S},f)}return d},hCe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=YV({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,b=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&b==="middle")&&p!=="center"&&ke(t[p]))return Rr(Rr({},t),{},Zu({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&b!=="middle"&&ke(t[b]))return Rr(Rr({},t),{},Zu({},b,t[b]+(h||0)))}return t},mCe=function(t,r,n){return jt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},XV=function(t,r,n,a,i){var o=r.props.children,l=ea(o,D0).filter(function(u){return mCe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Rn(d,n);if(jt(f))return u;var h=Array.isArray(f)?[I0(f),T0(f)]:[f,f],p=c.reduce(function(b,m){var w=Rn(d,m,0),x=h[0]-Math.abs(Array.isArray(w)?w[0]:w),g=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(x,b[0]),Math.max(g,b[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},pCe=function(t,r,n,a,i){var o=r.map(function(l){return XV(t,l,n,i,a)}).filter(function(l){return!jt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},JV=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&XV(t,c,u,a)||zh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},ZV=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},eq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ti=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Wn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Jp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Cj=new WeakMap,rv=function(t,r){if(typeof r!="function")return t;Cj.has(t)||Cj.set(t,new WeakMap);var n=Cj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},tq=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Bm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:sy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:qh(),realScaleType:"point"}:i==="category"?{scale:Bm(),realScaleType:"band"}:{scale:sy(),realScaleType:"linear"};if(Nc(a)){var c="scale".concat(v0(a));return{scale:(l4[c]||qh)(),realScaleType:l4[c]?c:"point"}}return ft(a)?{scale:a}:{scale:qh(),realScaleType:"point"}},g4=1e-4,rq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-g4,o=Math.max(a[0],a[1])+g4,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},gCe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},vCe=function(t,r){if(!r||r.length!==2||!ke(r[0])||!ke(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ke(t[0])||t[0]<n)&&(i[0]=n),(!ke(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},xCe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Jp(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},yCe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Jp(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},bCe={sign:xCe,expand:Fpe,none:Md,silhouette:Upe,wiggle:Bpe,positive:yCe},wCe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=bCe[n],o=Lpe().keys(a).value(function(l,c){return+Rn(l,c,0)}).order(t_).offset(i);return o(t)},jCe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,b=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Rr(Rr({},h.type.defaultProps),h.props):h.props,m=b.stackId,w=b.hide;if(w)return f;var x=b[n],g=f[x]||{hasStack:!1,stackGroups:{}};if(ln(m)){var v=g.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};v.items.push(h),g.hasStack=!0,g.stackGroups[m]=v}else g.stackGroups[Zp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Rr(Rr({},f),{},Zu({},x,g))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var b={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,w){var x=p.stackGroups[w];return Rr(Rr({},m),{},Zu({},w,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:wCe(t,x.items,i)}))},b)}return Rr(Rr({},f),{},Zu({},h,p))},d)},nq=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Mke(u,i,l);return t.domain([I0(d),T0(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=Dke(f,i,l);return{niceTicks:h}}return null},v4=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Rn(o,r.dataKey,r.domain[l]);return jt(c)?null:r.scale(c)-i/2+a},NCe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},_Ce=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Rr(Rr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ln(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},SCe=function(t){return t.reduce(function(r,n){return[I0(n.concat([r[0]]).filter(ke)),T0(n.concat([r[1]]).filter(ke))]},[1/0,-1/0])},sq=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=SCe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},x4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O_=function(t,r,n){if(ft(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ke(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(x4.test(t[0])){var i=+x4.exec(t[0])[1];a[0]=r[0]-i}else ft(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ke(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(y4.test(t[1])){var o=+y4.exec(t[1])[1];a[1]=r[1]+o}else ft(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},dy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=h2(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},b4=function(t,r,n){return!t||!t.length||R0(t,Os(n,"type.defaultProps.domain"))?r:t},aq=function(t,r){var n=t.type.defaultProps?Rr(Rr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Rr(Rr({},ut(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:F2(t),value:Rn(r,a),type:c,payload:r,chartType:u,hide:d})};function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iq(e,t,r){return t=kCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kCe(e){var t=CCe(e,"string");return Ym(t)=="symbol"?t:t+""}function CCe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PCe(e,t){return TCe(e)||OCe(e,t)||ACe(e,t)||ECe()}function ECe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ACe(e,t){if(e){if(typeof e=="string")return j4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j4(e,t)}}function j4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function TCe(e){if(Array.isArray(e))return e}var fy=Math.PI/180,ICe=function(t){return t*180/Math.PI},hr=function(t,r,n,a){return{x:t+Math.cos(-fy*a)*n,y:r+Math.sin(-fy*a)*n}},oq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},RCe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Kn(t.cx,o,o/2),f=Kn(t.cy,l,l/2),h=oq(o,l,n),p=Kn(t.innerRadius,h,0),b=Kn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(w,x){var g=r[x],v=g.domain,j=g.reversed,N;if(jt(g.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[p,b]),j&&(N=[N[1],N[0]]);else{N=g.range;var _=N,S=PCe(_,2);c=S[0],u=S[1]}var k=tq(g,i),C=k.realScaleType,P=k.scale;P.domain(v).range(N),rq(P);var E=nq(P,wi(wi({},g),{},{realScaleType:C})),O=wi(wi(wi({},g),E),{},{range:N,radius:b,realScaleType:C,scale:P,cx:d,cy:f,innerRadius:p,outerRadius:b,startAngle:c,endAngle:u});return wi(wi({},w),{},iq({},x,O))},{})},$Ce=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},MCe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=$Ce({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:ICe(u),angleInRadian:u}},DCe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},LCe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},N4=function(t,r){var n=t.x,a=t.y,i=MCe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=DCe(r),f=d.startAngle,h=d.endAngle,p=l,b;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;b=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;b=p>=h&&p<=f}return b?wi(wi({},r),{},{radius:o,angle:LCe(p,r)}):null},lq=function(t){return!y.isValidElement(t)&&!ft(t)&&typeof t!="boolean"?t.className:""};function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}var FCe=["offset"];function UCe(e){return zCe(e)||qCe(e)||VCe(e)||BCe()}function BCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VCe(e,t){if(e){if(typeof e=="string")return T_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T_(e,t)}}function qCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zCe(e){if(Array.isArray(e))return T_(e)}function T_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WCe(e,t){if(e==null)return{};var r=KCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(r),!0).forEach(function(n){HCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HCe(e,t,r){return t=GCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GCe(e){var t=QCe(e,"string");return Xm(t)=="symbol"?t:t+""}function QCe(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(this,arguments)}var YCe=function(t){var r=t.value,n=t.formatter,a=jt(t.children)?r:t.children;return ft(n)?n(a):a},XCe=function(t,r){var n=Wn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},JCe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,b=c.endAngle,m=c.clockWise,w=(f+h)/2,x=XCe(p,b),g=x>=0?1:-1,v,j;a==="insideStart"?(v=p+g*o,j=m):a==="insideEnd"?(v=b-g*o,j=!m):a==="end"&&(v=b+g*o,j=m),j=x<=0?j:!j;var N=hr(u,d,w,v),_=hr(u,d,w,v+(j?1:-1)*359),S="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(j?0:1,`,
    `).concat(_.x,",").concat(_.y),k=jt(t.id)?Zp("recharts-radial-line-"):t.id;return D.createElement("text",Jm({},n,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",l)}),D.createElement("defs",null,D.createElement("path",{id:k,d:S})),D.createElement("textPath",{xlinkHref:"#".concat(k)},r))},ZCe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=hr(o,l,u+n,h),b=p.x,m=p.y;return{x:b,y:m,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,x=hr(o,l,w,h),g=x.x,v=x.y;return{x:g,y:v,textAnchor:"middle",verticalAnchor:"middle"}},e2e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",b=f>0?"start":"end",m=u>=0?1:-1,w=m*a,x=m>0?"end":"start",g=m>0?"start":"end";if(i==="top"){var v={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return tn(tn({},v),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:b};return tn(tn({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-w,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return tn(tn({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:l+u+w,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return tn(tn({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?tn({x:l+w,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideRight"?tn({x:l+u-w,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):i==="insideTop"?tn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:b},S):i==="insideBottom"?tn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?tn({x:l+w,y:c+h,textAnchor:g,verticalAnchor:b},S):i==="insideTopRight"?tn({x:l+u-w,y:c+h,textAnchor:x,verticalAnchor:b},S):i==="insideBottomLeft"?tn({x:l+w,y:c+d-h,textAnchor:g,verticalAnchor:p},S):i==="insideBottomRight"?tn({x:l+u-w,y:c+d-h,textAnchor:x,verticalAnchor:p},S):Sf(i)&&(ke(i.x)||Bl(i.x))&&(ke(i.y)||Bl(i.y))?tn({x:l+Kn(i.x,u),y:c+Kn(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):tn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},t2e=function(t){return"cx"in t&&ke(t.cx)};function pn(e){var t=e.offset,r=t===void 0?5:t,n=WCe(e,FCe),a=tn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||jt(l)&&jt(c)&&!y.isValidElement(u)&&!ft(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var p;if(ft(u)){if(p=y.createElement(u,a),y.isValidElement(p))return p}else p=YCe(a);var b=t2e(i),m=ut(a,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return JCe(a,p,m);var w=b?ZCe(a):e2e(a);return D.createElement(Sc,Jm({className:xt("recharts-label",f)},m,w,{breakAll:h}),p)}pn.displayName="Label";var cq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,b=t.left,m=t.width,w=t.height,x=t.clockWise,g=t.labelViewBox;if(g)return g;if(ke(m)&&ke(w)){if(ke(f)&&ke(h))return{x:f,y:h,width:m,height:w};if(ke(p)&&ke(b))return{x:p,y:b,width:m,height:w}}return ke(f)&&ke(h)?{x:f,y:h,width:0,height:0}:ke(r)&&ke(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},r2e=function(t,r){return t?t===!0?D.createElement(pn,{key:"label-implicit",viewBox:r}):ln(t)?D.createElement(pn,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===pn?y.cloneElement(t,{key:"label-implicit",viewBox:r}):D.createElement(pn,{key:"label-implicit",content:t,viewBox:r}):ft(t)?D.createElement(pn,{key:"label-implicit",content:t,viewBox:r}):Sf(t)?D.createElement(pn,Jm({viewBox:r},t,{key:"label-implicit"})):null:null},n2e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=cq(t),o=ea(a,pn).map(function(c,u){return y.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=r2e(t.label,r||i);return[l].concat(UCe(o))};pn.parseViewBox=cq;pn.renderCallByParent=n2e;function s2e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var a2e=s2e;const i2e=Ht(a2e);function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}var o2e=["valueAccessor"],l2e=["data","dataKey","clockWise","id","textBreakAll"];function c2e(e){return h2e(e)||f2e(e)||d2e(e)||u2e()}function u2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2e(e,t){if(e){if(typeof e=="string")return I_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(e,t)}}function f2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h2e(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(this,arguments)}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){m2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m2e(e,t,r){return t=p2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p2e(e){var t=g2e(e,"string");return Zm(t)=="symbol"?t:t+""}function g2e(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C4(e,t){if(e==null)return{};var r=v2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var x2e=function(t){return Array.isArray(t.value)?i2e(t.value):t.value};function Wo(e){var t=e.valueAccessor,r=t===void 0?x2e:t,n=C4(e,o2e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=C4(n,l2e);return!a||!a.length?null:D.createElement(Yt,{className:"recharts-label-list"},a.map(function(d,f){var h=jt(i)?r(d,f):Rn(d&&d.payload,i),p=jt(l)?{}:{id:"".concat(l,"-").concat(f)};return D.createElement(pn,hy({},ut(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:pn.parseViewBox(jt(o)?d:k4(k4({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Wo.displayName="LabelList";function y2e(e,t){return e?e===!0?D.createElement(Wo,{key:"labelList-implicit",data:t}):D.isValidElement(e)||ft(e)?D.createElement(Wo,{key:"labelList-implicit",data:t,content:e}):Sf(e)?D.createElement(Wo,hy({data:t},e,{key:"labelList-implicit"})):null:null}function b2e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ea(n,Wo).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=y2e(e.label,t);return[i].concat(c2e(a))}Wo.renderCallByParent=b2e;function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(this,arguments)}function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(n){w2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w2e(e,t,r){return t=j2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j2e(e){var t=N2e(e,"string");return ep(t)=="symbol"?t:t+""}function N2e(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _2e=function(t,r){var n=Wn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},nv=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/fy,h=u?i:i+o*f,p=hr(r,n,d,h),b=hr(r,n,a,h),m=u?i-o*f:i,w=hr(r,n,d*Math.cos(f*fy),m);return{center:p,circleTangency:b,lineTangency:w,theta:f}},uq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=_2e(o,l),u=o+c,d=hr(r,n,i,o),f=hr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=hr(r,n,a,o),b=hr(r,n,a,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},S2e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Wn(d-u),h=nv({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,b=h.lineTangency,m=h.theta,w=nv({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=w.circleTangency,g=w.lineTangency,v=w.theta,j=c?Math.abs(u-d):Math.abs(u-d)-m-v;if(j<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):uq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var _=nv({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=_.circleTangency,k=_.lineTangency,C=_.theta,P=nv({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=P.circleTangency,O=P.lineTangency,I=P.theta,T=c?Math.abs(u-d):Math.abs(u-d)-C-I;if(T<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},k2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dq=function(t){var r=E4(E4({},k2e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=xt("recharts-sector",h),b=o-i,m=Kn(l,b,0,!0),w;return m>0&&Math.abs(d-f)<360?w=S2e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):w=uq({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),D.createElement("path",R_({},ut(r,!0),{className:p,d:w,role:"img"}))};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(this,arguments)}function A4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(r),!0).forEach(function(n){C2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C2e(e,t,r){return t=P2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P2e(e){var t=E2e(e,"string");return tp(t)=="symbol"?t:t+""}function E2e(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T4={curveBasisClosed:Cpe,curveBasisOpen:Ppe,curveBasis:kpe,curveBumpX:fpe,curveBumpY:hpe,curveLinearClosed:Epe,curveLinear:y0,curveMonotoneX:Ape,curveMonotoneY:Ope,curveNatural:Tpe,curveStep:Ipe,curveStepAfter:$pe,curveStepBefore:Rpe},sv=function(t){return t.x===+t.x&&t.y===+t.y},lh=function(t){return t.x},ch=function(t){return t.y},A2e=function(t,r){if(ft(t))return t;var n="curve".concat(v0(t));return(n==="curveMonotone"||n==="curveBump")&&r?T4["".concat(n).concat(r==="vertical"?"Y":"X")]:T4[n]||y0},O2e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=A2e(n,l),f=u?i.filter(function(m){return sv(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return sv(m)}):o,b=f.map(function(m,w){return O4(O4({},m),{},{base:p[w]})});return l==="vertical"?h=Gg().y(ch).x1(lh).x0(function(m){return m.base.x}):h=Gg().x(lh).y1(ch).y0(function(m){return m.base.y}),h.defined(sv).curve(d),h(b)}return l==="vertical"&&ke(o)?h=Gg().y(ch).x1(lh).x0(o):ke(o)?h=Gg().x(lh).y1(ch).y0(o):h=aB().x(lh).y(ch),h.defined(sv).curve(d),h(f)},M_=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?O2e(t):a;return y.createElement("path",$_({},ut(t,!1),Lx(t),{className:xt("recharts-curve",r),d:o,ref:i}))},fq={exports:{}},T2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",I2e=T2e,R2e=I2e;function hq(){}function mq(){}mq.resetWarningCache=hq;var $2e=function(){function e(n,a,i,o,l,c){if(c!==R2e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mq,resetWarningCache:hq};return r.PropTypes=r,r};fq.exports=$2e();var M2e=fq.exports;const qt=Ht(M2e),{getOwnPropertyNames:D2e,getOwnPropertySymbols:L2e}=Object,{hasOwnProperty:F2e}=Object.prototype;function Pj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function av(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function U2e(e){return e!=null?e[Symbol.toStringTag]:void 0}function I4(e){return D2e(e).concat(L2e(e))}const B2e=Object.hasOwn||((e,t)=>F2e.call(e,t));function Lc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const V2e="__v",q2e="__o",z2e="_owner",{getOwnPropertyDescriptor:R4,keys:$4}=Object;function W2e(e,t){return e.byteLength===t.byteLength&&my(new Uint8Array(e),new Uint8Array(t))}function K2e(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function H2e(e,t){return e.byteLength===t.byteLength&&my(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function G2e(e,t){return Lc(e.getTime(),t.getTime())}function Q2e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Y2e(e,t){return e===t}function M4(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const X2e=Lc;function J2e(e,t,r){const n=$4(e);let a=n.length;if($4(t).length!==a)return!1;for(;a-- >0;)if(!pq(e,t,r,n[a]))return!1;return!0}function uh(e,t,r){const n=I4(e);let a=n.length;if(I4(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!pq(e,t,r,i)||(o=R4(e,i),l=R4(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Z2e(e,t){return Lc(e.valueOf(),t.valueOf())}function ePe(e,t){return e.source===t.source&&e.flags===t.flags}function D4(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function my(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function tPe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function pq(e,t,r,n){return(n===z2e||n===q2e||n===V2e)&&(e.$$typeof||t.$$typeof)?!0:B2e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const rPe="[object ArrayBuffer]",nPe="[object Arguments]",sPe="[object Boolean]",aPe="[object DataView]",iPe="[object Date]",oPe="[object Error]",lPe="[object Map]",cPe="[object Number]",uPe="[object Object]",dPe="[object RegExp]",fPe="[object Set]",hPe="[object String]",mPe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},pPe="[object URL]",gPe=Object.prototype.toString;function vPe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:b}){return function(w,x,g){if(w===x)return!0;if(w==null||x==null)return!1;const v=typeof w;if(v!==typeof x)return!1;if(v!=="object")return v==="number"?l(w,x,g):v==="function"?i(w,x,g):!1;const j=w.constructor;if(j!==x.constructor)return!1;if(j===Object)return c(w,x,g);if(Array.isArray(w))return t(w,x,g);if(j===Date)return n(w,x,g);if(j===RegExp)return d(w,x,g);if(j===Map)return o(w,x,g);if(j===Set)return f(w,x,g);const N=gPe.call(w);if(N===iPe)return n(w,x,g);if(N===dPe)return d(w,x,g);if(N===lPe)return o(w,x,g);if(N===fPe)return f(w,x,g);if(N===uPe)return typeof w.then!="function"&&typeof x.then!="function"&&c(w,x,g);if(N===pPe)return p(w,x,g);if(N===oPe)return a(w,x,g);if(N===nPe)return c(w,x,g);if(mPe[N])return h(w,x,g);if(N===rPe)return e(w,x,g);if(N===aPe)return r(w,x,g);if(N===sPe||N===cPe||N===hPe)return u(w,x,g);if(b){let _=b[N];if(!_){const S=U2e(w);S&&(_=b[S])}if(_)return _(w,x,g)}return!1}}function xPe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:W2e,areArraysEqual:r?uh:K2e,areDataViewsEqual:H2e,areDatesEqual:G2e,areErrorsEqual:Q2e,areFunctionsEqual:Y2e,areMapsEqual:r?Pj(M4,uh):M4,areNumbersEqual:X2e,areObjectsEqual:r?uh:J2e,arePrimitiveWrappersEqual:Z2e,areRegExpsEqual:ePe,areSetsEqual:r?Pj(D4,uh):D4,areTypedArraysEqual:r?Pj(my,uh):my,areUrlsEqual:tPe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=av(n.areArraysEqual),i=av(n.areMapsEqual),o=av(n.areObjectsEqual),l=av(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function yPe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function bPe({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const wPe=fl();fl({strict:!0});fl({circular:!0});fl({circular:!0,strict:!0});fl({createInternalComparator:()=>Lc});fl({strict:!0,createInternalComparator:()=>Lc});fl({circular:!0,createInternalComparator:()=>Lc});fl({circular:!0,createInternalComparator:()=>Lc,strict:!0});function fl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=xPe(e),o=vPe(i),l=r?r(o):yPe(o);return bPe({circular:t,comparator:o,createState:n,equals:l,strict:a})}function jPe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function L4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):jPe(a)};requestAnimationFrame(n)}function D_(e){"@babel/helpers - typeof";return D_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D_(e)}function NPe(e){return CPe(e)||kPe(e)||SPe(e)||_Pe()}function _Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SPe(e,t){if(e){if(typeof e=="string")return F4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F4(e,t)}}function F4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CPe(e){if(Array.isArray(e))return e}function PPe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=NPe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){L4(a.bind(null,u),c);return}a(c),L4(a.bind(null,u));return}D_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gq(e,t,r){return t=EPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EPe(e){var t=APe(e,"string");return rp(t)==="symbol"?t:String(t)}function APe(e,t){if(rp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OPe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},TPe=function(t){return t},IPe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Wh=function(t,r){return Object.keys(r).reduce(function(n,a){return B4(B4({},n),{},gq({},a,t(a,r[a])))},{})},V4=function(t,r,n){return t.map(function(a){return"".concat(IPe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function RPe(e,t){return DPe(e)||MPe(e,t)||vq(e,t)||$Pe()}function $Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function DPe(e){if(Array.isArray(e))return e}function LPe(e){return BPe(e)||UPe(e)||vq(e)||FPe()}function FPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vq(e,t){if(e){if(typeof e=="string")return L_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L_(e,t)}}function UPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BPe(e){if(Array.isArray(e))return L_(e)}function L_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var py=1e-4,xq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},yq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},q4=function(t,r){return function(n){var a=xq(t,r);return yq(a,n)}},VPe=function(t,r){return function(n){var a=xq(t,r),i=[].concat(LPe(a.map(function(o,l){return o*l}).slice(1)),[0]);return yq(i,n)}},z4=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=RPe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=q4(a,o),h=q4(i,l),p=VPe(a,o),b=function(x){return x>1?1:x<0?0:x},m=function(x){for(var g=x>1?1:x,v=g,j=0;j<8;++j){var N=f(v)-g,_=p(v);if(Math.abs(N-g)<py||_<py)return h(v);v=b(v-N/_)}return h(v)};return m.isStepper=!1,m},qPe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,b=h*i,m=h+(p-b)*l/1e3,w=h*l/1e3+d;return Math.abs(w-f)<py&&Math.abs(m)<py?[f,0]:[w,m]};return c.isStepper=!0,c.dt=l,c},zPe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return z4(a);case"spring":return qPe();default:if(a.split("(")[0]==="cubic-bezier")return z4(a)}return typeof a=="function"?a:null};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function W4(e){return HPe(e)||KPe(e)||bq(e)||WPe()}function WPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HPe(e){if(Array.isArray(e))return U_(e)}function K4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(r),!0).forEach(function(n){F_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F_(e,t,r){return t=GPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GPe(e){var t=QPe(e,"string");return np(t)==="symbol"?t:String(t)}function QPe(e,t){if(np(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YPe(e,t){return ZPe(e)||JPe(e,t)||bq(e,t)||XPe()}function XPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bq(e,t){if(e){if(typeof e=="string")return U_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(e,t)}}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ZPe(e){if(Array.isArray(e))return e}var gy=function(t,r,n){return t+(r-t)*n},B_=function(t){var r=t.from,n=t.to;return r!==n},eEe=function e(t,r,n){var a=Wh(function(i,o){if(B_(o)){var l=t(o.from,o.to,o.velocity),c=YPe(l,2),u=c[0],d=c[1];return jn(jn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Wh(function(i,o){return B_(o)?jn(jn({},o),{},{velocity:gy(o.velocity,a[i].velocity,n),from:gy(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const tEe=function(e,t,r,n,a){var i=OPe(e,t),o=i.reduce(function(w,x){return jn(jn({},w),{},F_({},x,[e[x],t[x]]))},{}),l=i.reduce(function(w,x){return jn(jn({},w),{},F_({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Wh(function(x,g){return g.from},l)},p=function(){return!Object.values(l).filter(B_).length},b=function(x){u||(u=x);var g=x-u,v=g/r.dt;l=eEe(r,l,v),a(jn(jn(jn({},e),t),h())),u=x,p()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var g=(x-d)/n,v=Wh(function(N,_){return gy.apply(void 0,W4(_).concat([r(g)]))},o);if(a(jn(jn(jn({},e),t),v)),g<1)c=requestAnimationFrame(f);else{var j=Wh(function(N,_){return gy.apply(void 0,W4(_).concat([r(1)]))},o);a(jn(jn(jn({},e),t),j))}};return f=r.isStepper?b:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}var rEe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nEe(e,t){if(e==null)return{};var r=sEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sEe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ej(e){return lEe(e)||oEe(e)||iEe(e)||aEe()}function aEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iEe(e,t){if(e){if(typeof e=="string")return V_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V_(e,t)}}function oEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lEe(e){if(Array.isArray(e))return V_(e)}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(r),!0).forEach(function(n){Sh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sh(e,t,r){return t=wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wq(n.key),n)}}function dEe(e,t,r){return t&&uEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wq(e){var t=fEe(e,"string");return Wd(t)==="symbol"?t:String(t)}function fEe(e,t){if(Wd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q_(e,t)}function q_(e,t){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q_(e,t)}function mEe(e){var t=pEe();return function(){var n=vy(e),a;if(t){var i=vy(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return z_(this,a)}}function z_(e,t){if(t&&(Wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W_(e)}function W_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(e)}var Qi=function(e){hEe(r,e);var t=mEe(r);function r(n,a){var i;cEe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(W_(i)),i.changeStyle=i.changeStyle.bind(W_(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),z_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},z_(i);i.state={style:c?Sh({},c,u):u}}else i.state={style:{}};return i}return dEe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Sh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(wPe(a.to,d)&&a.canBegin&&a.isActive)){var b=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=b||u?f:a.to;if(this.state&&h){var w={style:c?Sh({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(w)}this.runAnimation(ha(ha({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=tEe(o,l,zPe(u),c,this.changeStyle),b=function(){i.stopJSAnimation=p()};this.manager.start([h,d,b,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,w,x){if(x===0)return m;var g=w.duration,v=w.easing,j=v===void 0?"ease":v,N=w.style,_=w.properties,S=w.onAnimationEnd,k=x>0?o[x-1]:w,C=_||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(Ej(m),[i.runJSAnimation.bind(i,{from:k.style,to:N,duration:g,easing:j}),g]);var P=V4(C,g,j),E=ha(ha(ha({},k.style),N),{},{transition:P});return[].concat(Ej(m),[E,g,S]).filter(TPe)};return this.manager.start([c].concat(Ej(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=PPe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?Sh({},l,c):c,w=V4(Object.keys(m),o,u);b.start([d,i,ha(ha({},m),{},{transition:w}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=nEe(a,rEe),u=y.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var b=p.props,m=b.style,w=m===void 0?{}:m,x=b.className,g=y.cloneElement(p,ha(ha({},c),{},{style:ha(ha({},w),d),className:x}));return g};return u===1?f(y.Children.only(i)):D.createElement("div",null,y.Children.map(i,function(h){return f(h)}))}}]),r}(y.PureComponent);Qi.displayName="Animate";Qi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qi.propTypes={from:qt.oneOfType([qt.object,qt.string]),to:qt.oneOfType([qt.object,qt.string]),attributeName:qt.string,duration:qt.number,begin:qt.number,easing:qt.oneOfType([qt.string,qt.func]),steps:qt.arrayOf(qt.shape({duration:qt.number.isRequired,style:qt.object.isRequired,easing:qt.oneOfType([qt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),qt.func]),properties:qt.arrayOf("string"),onAnimationEnd:qt.func})),children:qt.oneOfType([qt.node,qt.func]),isActive:qt.bool,canBegin:qt.bool,onAnimationEnd:qt.func,shouldReAnimate:qt.bool,onAnimationStart:qt.func,onAnimationReStart:qt.func};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function gEe(e,t){return bEe(e)||yEe(e,t)||xEe(e,t)||vEe()}function vEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xEe(e,t){if(e){if(typeof e=="string")return G4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G4(e,t)}}function G4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bEe(e){if(Array.isArray(e))return e}function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(n){wEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wEe(e,t,r){return t=jEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jEe(e){var t=NEe(e,"string");return sp(t)=="symbol"?t:t+""}function NEe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X4=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);d="M ".concat(t,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+c*b,",").concat(r,`
            L `).concat(t+n-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*b,`
            L `).concat(t+n,",").concat(r+a-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n-c*b,",").concat(r+a,`
            L `).concat(t+c*b,",").concat(r+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*b," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},_Ee=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},SEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U2=function(t){var r=Y4(Y4({},SEe),t),n=y.useRef(),a=y.useState(-1),i=gEe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,b=r.animationEasing,m=r.animationDuration,w=r.animationBegin,x=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var v=xt("recharts-rectangle",p);return g?D.createElement(Qi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:b,isActive:g},function(j){var N=j.width,_=j.height,S=j.x,k=j.y;return D.createElement(Qi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:m,isActive:x,easing:b},D.createElement("path",xy({},ut(r,!0),{className:v,d:X4(S,k,N,_,h),ref:n})))}):D.createElement("path",xy({},ut(r,!0),{className:v,d:X4(c,u,d,f,h)}))},kEe=["points","className","baseLinePoints","connectNulls"];function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lu.apply(this,arguments)}function CEe(e,t){if(e==null)return{};var r=PEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function J4(e){return TEe(e)||OEe(e)||AEe(e)||EEe()}function EEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AEe(e,t){if(e){if(typeof e=="string")return K_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K_(e,t)}}function OEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TEe(e){if(Array.isArray(e))return K_(e)}function K_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z4=function(t){return t&&t.x===+t.x&&t.y===+t.y},IEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Z4(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Z4(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Kh=function(t,r){var n=IEe(t);r&&(n=[n.reduce(function(i,o){return[].concat(J4(i),J4(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},REe=function(t,r,n){var a=Kh(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Kh(r.reverse(),n).slice(1))},$Ee=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=CEe(t,kEe);if(!r||!r.length)return null;var l=xt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=REe(r,a,i);return D.createElement("g",{className:l},D.createElement("path",Lu({},ut(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?D.createElement("path",Lu({},ut(o,!0),{fill:"none",d:Kh(r,i)})):null,c?D.createElement("path",Lu({},ut(o,!0),{fill:"none",d:Kh(a,i)})):null)}var d=Kh(r,i);return D.createElement("path",Lu({},ut(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H_.apply(this,arguments)}var B2=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=xt("recharts-dot",i);return r===+r&&n===+n&&a===+a?y.createElement("circle",H_({},ut(t,!1),Lx(t),{className:o,cx:r,cy:n,r:a})):null};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}var MEe=["x","y","top","left","width","height","className"];function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G_.apply(this,arguments)}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(n){LEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LEe(e,t,r){return t=FEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FEe(e){var t=UEe(e,"string");return ap(t)=="symbol"?t:t+""}function UEe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BEe(e,t){if(e==null)return{};var r=VEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qEe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},zEe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,b=t.className,m=BEe(t,MEe),w=DEe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!ke(n)||!ke(i)||!ke(f)||!ke(p)||!ke(l)||!ke(u)?null:D.createElement("path",G_({},ut(w,!0),{className:xt("recharts-cross",b),d:qEe(n,i,f,p,l,u)}))},WEe=O0,KEe=IV,HEe=hi;function GEe(e,t){return e&&e.length?WEe(e,HEe(t),KEe):void 0}var QEe=GEe;const YEe=Ht(QEe);var XEe=O0,JEe=hi,ZEe=RV;function eAe(e,t){return e&&e.length?XEe(e,JEe(t),ZEe):void 0}var tAe=eAe;const rAe=Ht(tAe);var nAe=["cx","cy","angle","ticks","axisLine"],sAe=["ticks","tick","angle","tickFormatter","stroke"];function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(this,arguments)}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){L0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rR(e,t){if(e==null)return{};var r=aAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nq(n.key),n)}}function oAe(e,t,r){return t&&nR(e.prototype,t),r&&nR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lAe(e,t,r){return t=yy(t),cAe(e,jq()?Reflect.construct(t,r||[],yy(e).constructor):t.apply(e,r))}function cAe(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uAe(e)}function uAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jq=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(e)}function dAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q_(e,t)}function Q_(e,t){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q_(e,t)}function L0(e,t,r){return t=Nq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=fAe(e,"string");return Kd(t)=="symbol"?t:t+""}function fAe(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var F0=function(e){function t(){return iAe(this,t),lAe(this,t,arguments)}return dAe(t,e),oAe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return hr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=YEe(l,function(d){return d.coordinate||0}),u=rAe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=rR(n,nAe),d=l.reduce(function(b,m){return[Math.min(b[0],m.coordinate),Math.max(b[1],m.coordinate)]},[1/0,-1/0]),f=hr(a,i,d[0],o),h=hr(a,i,d[1],o),p=Nl(Nl(Nl({},ut(u,!1)),{},{fill:"none"},ut(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return D.createElement("line",Hh({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=rR(a,sAe),f=this.getTickTextAnchor(),h=ut(d,!1),p=ut(o,!1),b=i.map(function(m,w){var x=n.getTickValueCoord(m),g=Nl(Nl(Nl(Nl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:w},x),{},{payload:m});return D.createElement(Yt,Hh({className:xt("recharts-polar-radius-axis-tick",lq(o)),key:"tick-".concat(m.coordinate)},_c(n.props,m,w)),t.renderTickItem(o,g,c?c(m.value,w):m.value))});return D.createElement(Yt,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:D.createElement(Yt,{className:xt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),pn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,a):ft(n)?o=n(a):o=D.createElement(Sc,Hh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(y.PureComponent);L0(F0,"displayName","PolarRadiusAxis");L0(F0,"axisType","radiusAxis");L0(F0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rl.apply(this,arguments)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){U0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sq(n.key),n)}}function mAe(e,t,r){return t&&aR(e.prototype,t),r&&aR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pAe(e,t,r){return t=by(t),gAe(e,_q()?Reflect.construct(t,r||[],by(e).constructor):t.apply(e,r))}function gAe(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vAe(e)}function vAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!e})()}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},by(e)}function xAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y_(e,t)}function Y_(e,t){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y_(e,t)}function U0(e,t,r){return t=Sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sq(e){var t=yAe(e,"string");return Hd(t)=="symbol"?t:t+""}function yAe(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bAe=Math.PI/180,iR=1e-5,B0=function(e){function t(){return hAe(this,t),pAe(this,t,arguments)}return xAe(t,e),mAe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=hr(i,o,l,n.coordinate),h=hr(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*bAe),o;return i>iR?o=a==="outer"?"start":"end":i<-iR?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=_l(_l({},ut(this.props,!1)),{},{fill:"none"},ut(l,!1));if(c==="circle")return D.createElement(B2,Rl({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return hr(a,i,o,h.coordinate)});return D.createElement($Ee,Rl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ut(this.props,!1),f=ut(o,!1),h=_l(_l({},d),{},{fill:"none"},ut(l,!1)),p=i.map(function(b,m){var w=n.getTickLineCoord(b),x=n.getTickTextAnchor(b),g=_l(_l(_l({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:b,x:w.x2,y:w.y2});return D.createElement(Yt,Rl({className:xt("recharts-polar-angle-axis-tick",lq(o)),key:"tick-".concat(b.coordinate)},_c(n.props,b,m)),l&&D.createElement("line",Rl({className:"recharts-polar-angle-axis-tick-line"},h,w)),o&&t.renderTickItem(o,g,c?c(b.value,m):b.value))});return D.createElement(Yt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:D.createElement(Yt,{className:xt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,a):ft(n)?o=n(a):o=D.createElement(Sc,Rl({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(y.PureComponent);U0(B0,"displayName","PolarAngleAxis");U0(B0,"axisType","angleAxis");U0(B0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var wAe=EB,jAe=wAe(Object.getPrototypeOf,Object),NAe=jAe,_Ae=eo,SAe=NAe,kAe=to,CAe="[object Object]",PAe=Function.prototype,EAe=Object.prototype,kq=PAe.toString,AAe=EAe.hasOwnProperty,OAe=kq.call(Object);function TAe(e){if(!kAe(e)||_Ae(e)!=CAe)return!1;var t=SAe(e);if(t===null)return!0;var r=AAe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&kq.call(r)==OAe}var IAe=TAe;const RAe=Ht(IAe);var $Ae=eo,MAe=to,DAe="[object Boolean]";function LAe(e){return e===!0||e===!1||MAe(e)&&$Ae(e)==DAe}var FAe=LAe;const UAe=Ht(FAe);function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function BAe(e,t){return WAe(e)||zAe(e,t)||qAe(e,t)||VAe()}function VAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qAe(e,t){if(e){if(typeof e=="string")return oR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oR(e,t)}}function oR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WAe(e){if(Array.isArray(e))return e}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){KAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KAe(e,t,r){return t=HAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HAe(e){var t=GAe(e,"string");return ip(t)=="symbol"?t:t+""}function GAe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uR=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},QAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YAe=function(t){var r=cR(cR({},QAe),t),n=y.useRef(),a=y.useState(-1),i=BAe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&l(v)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,b=r.animationEasing,m=r.animationDuration,w=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=xt("recharts-trapezoid",p);return x?D.createElement(Qi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:b,isActive:x},function(v){var j=v.upperWidth,N=v.lowerWidth,_=v.height,S=v.x,k=v.y;return D.createElement(Qi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:m,easing:b},D.createElement("path",wy({},ut(r,!0),{className:g,d:uR(S,k,j,N,_),ref:n})))}):D.createElement("g",null,D.createElement("path",wy({},ut(r,!0),{className:g,d:uR(c,u,d,f,h)})))},XAe=["option","shapeType","propTransformer","activeClassName","isActive"];function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function JAe(e,t){if(e==null)return{};var r=ZAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){eOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eOe(e,t,r){return t=tOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tOe(e){var t=rOe(e,"string");return op(t)=="symbol"?t:t+""}function rOe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nOe(e,t){return jy(jy({},t),e)}function sOe(e,t){return e==="symbols"}function fR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return D.createElement(U2,r);case"trapezoid":return D.createElement(YAe,r);case"sector":return D.createElement(dq,r);case"symbols":if(sOe(t))return D.createElement(a2,r);break;default:return null}}function aOe(e){return y.isValidElement(e)?e.props:e}function Cq(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?nOe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=JAe(e,XAe),u;if(y.isValidElement(t))u=y.cloneElement(t,jy(jy({},c),aOe(t)));else if(ft(t))u=t(c);else if(RAe(t)&&!UAe(t)){var d=a(t,c);u=D.createElement(fR,{shapeType:r,elementProps:d})}else{var f=c;u=D.createElement(fR,{shapeType:r,elementProps:f})}return l?D.createElement(Yt,{className:o},u):u}function V0(e,t){return t!=null&&"trapezoids"in e.props}function q0(e,t){return t!=null&&"sectors"in e.props}function lp(e,t){return t!=null&&"points"in e.props}function iOe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function oOe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function lOe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function cOe(e,t){var r;return V0(e,t)?r=iOe:q0(e,t)?r=oOe:lp(e,t)&&(r=lOe),r}function uOe(e,t){var r;return V0(e,t)?r="trapezoids":q0(e,t)?r="sectors":lp(e,t)&&(r="points"),r}function dOe(e,t){if(V0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(q0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return lp(e,t)?t.payload:{}}function fOe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=uOe(r,t),i=dOe(r,t),o=n.filter(function(c,u){var d=R0(i,c),f=r.props[a].filter(function(b){var m=cOe(r,t);return m(b,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Ev;function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fu.apply(this,arguments)}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){Gs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Eq(n.key),n)}}function mOe(e,t,r){return t&&mR(e.prototype,t),r&&mR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pOe(e,t,r){return t=Ny(t),gOe(e,Pq()?Reflect.construct(t,r||[],Ny(e).constructor):t.apply(e,r))}function gOe(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vOe(e)}function vOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(e)}function xOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X_(e,t)}function Gs(e,t,r){return t=Eq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=yOe(e,"string");return Gd(t)=="symbol"?t:t+""}function yOe(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var no=function(e){function t(r){var n;return hOe(this,t),n=pOe(this,t,[r]),Gs(n,"pieRef",null),Gs(n,"sectorRefs",[]),Gs(n,"id",Zp("recharts-pie-")),Gs(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ft(a)&&a()}),Gs(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ft(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return xOe(t,e),mOe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=ut(this.props,!1),f=ut(o,!1),h=ut(l,!1),p=o&&o.offsetRadius||20,b=n.map(function(m,w){var x=(m.startAngle+m.endAngle)/2,g=hr(m.cx,m.cy,m.outerRadius+p,x),v=ur(ur(ur(ur({},d),m),{},{stroke:"none"},f),{},{index:w,textAnchor:t.getTextAnchor(g.x,m.cx)},g),j=ur(ur(ur(ur({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:w,points:[hr(m.cx,m.cy,m.outerRadius,x),g]}),N=c;return jt(c)&&jt(u)?N="value":jt(c)&&(N=u),D.createElement(Yt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(w)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,v,Rn(m,N)))});return D.createElement(Yt,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,b=ur(ur({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return D.createElement(Yt,Fu({ref:function(w){w&&!a.sectorRefs.includes(w)&&a.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},_c(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),D.createElement(Cq,Fu({option:p,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return D.createElement(Qi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var m=b.t,w=[],x=i&&i[0],g=x.startAngle;return i.forEach(function(v,j){var N=h&&h[j],_=j>0?Os(v,"paddingAngle",0):0;if(N){var S=po(N.endAngle-N.startAngle,v.endAngle-v.startAngle),k=ur(ur({},v),{},{startAngle:g+_,endAngle:g+S(m)+_});w.push(k),g=k.endAngle}else{var C=v.endAngle,P=v.startAngle,E=po(0,C-P),O=E(m),I=ur(ur({},v),{},{startAngle:g+_,endAngle:g+O+_});w.push(I),g=I.endAngle}}),D.createElement(Yt,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!R0(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,b=this.state.isAnimationFinished;if(i||!o||!o.length||!ke(u)||!ke(d)||!ke(f)||!ke(h))return null;var m=xt("recharts-pie",l);return D.createElement(Yt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),pn.renderCallByParent(this.props,null,!1),(!p||b)&&Wo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(D.isValidElement(n))return D.cloneElement(n,a);if(ft(n))return n(a);var o=xt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return D.createElement(M_,Fu({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(D.isValidElement(n))return D.cloneElement(n,a);var o=i;if(ft(n)&&(o=n(a),D.isValidElement(o)))return o;var l=xt("recharts-pie-label-text",typeof n!="boolean"&&!ft(n)?n.className:"");return D.createElement(Sc,Fu({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(y.PureComponent);Ev=no;Gs(no,"displayName","Pie");Gs(no,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Tf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Gs(no,"parseDeltaAngle",function(e,t){var r=Wn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Gs(no,"getRealPieData",function(e){var t=e.data,r=e.children,n=ut(e,!1),a=ea(r,_0);return t&&t.length?t.map(function(i,o){return ur(ur(ur({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return ur(ur({},n),i.props)}):[]});Gs(no,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=oq(a,i),l=n+Kn(e.cx,a,a/2),c=r+Kn(e.cy,i,i/2),u=Kn(e.innerRadius,o,0),d=Kn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Gs(no,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ur(ur({},t.type.defaultProps),t.props):t.props,a=Ev.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),b=Ev.parseCoordinateOfPie(n,r),m=Ev.parseDeltaAngle(o,l),w=Math.abs(m),x=u;jt(u)&&jt(f)?(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):jt(u)&&(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var g=a.filter(function(k){return Rn(k,x,0)!==0}).length,v=(w>=360?g:g-1)*c,j=w-g*p-v,N=a.reduce(function(k,C){var P=Rn(C,x,0);return k+(ke(P)?P:0)},0),_;if(N>0){var S;_=a.map(function(k,C){var P=Rn(k,x,0),E=Rn(k,d,C),O=(ke(P)?P:0)/N,I;C?I=S.endAngle+Wn(m)*c*(P!==0?1:0):I=o;var T=I+Wn(m)*((P!==0?p:0)+O*j),M=(I+T)/2,V=(b.innerRadius+b.outerRadius)/2,K=[{name:E,value:P,payload:k,dataKey:x,type:h}],A=hr(b.cx,b.cy,V,M);return S=ur(ur(ur({percent:O,cornerRadius:i,name:E,tooltipPayload:K,midAngle:M,middleRadius:V,tooltipPosition:A},k),b),{},{value:Rn(k,x),startAngle:I,endAngle:T,payload:k,paddingAngle:Wn(m)*c}),S})}return ur(ur({},b),{},{sectors:_,data:a})});var bOe=Math.ceil,wOe=Math.max;function jOe(e,t,r,n){for(var a=-1,i=wOe(bOe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var NOe=jOe,_Oe=GB,pR=1/0,SOe=17976931348623157e292;function kOe(e){if(!e)return e===0?e:0;if(e=_Oe(e),e===pR||e===-pR){var t=e<0?-1:1;return t*SOe}return e===e?e:0}var Aq=kOe,COe=NOe,POe=N0,Aj=Aq;function EOe(e){return function(t,r,n){return n&&typeof n!="number"&&POe(t,r,n)&&(r=n=void 0),t=Aj(t),r===void 0?(r=t,t=0):r=Aj(r),n=n===void 0?t<r?1:-1:Aj(n),COe(t,r,n,e)}}var AOe=EOe,OOe=AOe,TOe=OOe(),IOe=TOe;const _y=Ht(IOe);function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){Oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oq(e,t,r){return t=ROe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ROe(e){var t=$Oe(e,"string");return cp(t)=="symbol"?t:t+""}function $Oe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MOe=["Webkit","Moz","O","ms"],DOe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=MOe.reduce(function(i,o){return vR(vR({},i),{},Oq({},o+n,r))},{});return a[t]=r,a};function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iq(n.key),n)}}function FOe(e,t,r){return t&&yR(e.prototype,t),r&&yR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UOe(e,t,r){return t=ky(t),BOe(e,Tq()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}function BOe(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VOe(e)}function VOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tq=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}function qOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J_(e,t)}function xs(e,t,r){return t=Iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=zOe(e,"string");return Qd(t)=="symbol"?t:t+""}function zOe(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WOe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=qh().domain(_y(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},bR=function(t){return t.changedTouches&&!!t.changedTouches.length},Yd=function(e){function t(r){var n;return LOe(this,t),n=UOe(this,t,[r]),xs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),xs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),xs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),xs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xs(n,"handleSlideDragStart",function(a){var i=bR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qOe(t,e),FOe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),b=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:b===d?d:b-b%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Rn(i[n],l,n);return ft(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,b=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var w=this.getIndex({startX:o+m,endX:l+m});(w.startIndex!==h||w.endIndex!==p)&&b&&b(w),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=bR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,b=d.onChange,m=d.gap,w=d.data,x={startX:this.state.startX,endX:this.state.endX},g=n.pageX-i;g>0?g=Math.min(g,f+h-p-u):g<0&&(g=Math.max(g,f-u)),x[o]=u+g;var v=this.getIndex(x),j=v.startIndex,N=v.endIndex,_=function(){var k=w.length-1;return o==="startX"&&(l>c?j%m===0:N%m===0)||l<c&&N===k||o==="endX"&&(l>c?N%m===0:j%m===0)||l>c&&N===k};this.setState(xs(xs({},o,u+g),"brushMoveStartX",n.pageX),function(){b&&_()&&b(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(xs({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return D.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?D.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,b=c.data,m=c.startIndex,w=c.endIndex,x=Math.max(n,this.props.x),g=Oj(Oj({},ut(this.props,!1)),{},{x,y:u,width:d,height:f}),v=p||"Min value: ".concat((i=b[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[w])===null||o===void 0?void 0:o.name);return D.createElement(Yt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,b={pointerEvents:"none",fill:u};return D.createElement(Yt,{className:"recharts-brush-texts"},D.createElement(Sc,Sy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},b),this.getTextOfTick(a)),D.createElement(Sc,Sy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,b=h.endX,m=h.isTextActive,w=h.isSlideMoving,x=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!ke(l)||!ke(c)||!ke(u)||!ke(d)||u<=0||d<=0)return null;var v=xt("recharts-brush",i),j=D.Children.count(o)===1,N=DOe("userSelect","none");return D.createElement(Yt,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,b),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(b,"endX"),(m||w||x||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),D.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return D.isValidElement(n)?i=D.cloneElement(n,a):ft(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Oj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?WOe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(y.PureComponent);xs(Yd,"displayName","Brush");xs(Yd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var KOe=f2;function HOe(e,t){var r;return KOe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var GOe=HOe,QOe=wB,YOe=hi,XOe=GOe,JOe=gs,ZOe=N0;function eTe(e,t,r){var n=JOe(e)?QOe:XOe;return r&&ZOe(e,t,r)&&(t=void 0),n(e,YOe(t))}var tTe=eTe;const rTe=Ht(tTe);var ai=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},wR=qB;function nTe(e,t,r){t=="__proto__"&&wR?wR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var sTe=nTe,aTe=sTe,iTe=BB,oTe=hi;function lTe(e,t){var r={};return t=oTe(t),iTe(e,function(n,a,i){aTe(r,a,t(n,a,i))}),r}var cTe=lTe;const uTe=Ht(cTe);function dTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var fTe=dTe,hTe=f2;function mTe(e,t){var r=!0;return hTe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var pTe=mTe,gTe=fTe,vTe=pTe,xTe=hi,yTe=gs,bTe=N0;function wTe(e,t,r){var n=yTe(e)?gTe:vTe;return r&&bTe(e,t,r)&&(t=void 0),n(e,xTe(t))}var jTe=wTe;const Rq=Ht(jTe);var NTe=["x","y"];function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z_.apply(this,arguments)}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){_Te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Te(e,t,r){return t=STe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function STe(e){var t=kTe(e,"string");return up(t)=="symbol"?t:t+""}function kTe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CTe(e,t){if(e==null)return{};var r=PTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ETe(e,t){var r=e.x,n=e.y,a=CTe(e,NTe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return dh(dh(dh(dh(dh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function NR(e){return D.createElement(Cq,Z_({shapeType:"rectangle",propTransformer:ETe,activeClassName:"recharts-active-bar"},e))}var ATe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=ke(n)||Jhe(n);return i?t(n,a):(i||Cc(),r)}},OTe=["value","background"],$q;function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function TTe(e,t){if(e==null)return{};var r=ITe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ITe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){To(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dq(n.key),n)}}function $Te(e,t,r){return t&&SR(e.prototype,t),r&&SR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MTe(e,t,r){return t=Py(t),DTe(e,Mq()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function DTe(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LTe(e)}function LTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function FTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}function eS(e,t){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eS(e,t)}function To(e,t,r){return t=Dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=UTe(e,"string");return Xd(t)=="symbol"?t:t+""}function UTe(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fc=function(e){function t(){var r;RTe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=MTe(this,t,[].concat(a)),To(r,"state",{isAnimationFinished:!1}),To(r,"id",Zp("recharts-bar-")),To(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),To(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return FTe(t,e),$Te(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=ut(this.props,!1);return n&&n.map(function(f,h){var p=h===c,b=p?u:o,m=Br(Br(Br({},d),f),{},{isActive:p,option:b,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return D.createElement(Yt,Cy({className:"recharts-bar-rectangle"},_c(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(NR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return D.createElement(Qi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var b=p.t,m=i.map(function(w,x){var g=h&&h[x];if(g){var v=po(g.x,w.x),j=po(g.y,w.y),N=po(g.width,w.width),_=po(g.height,w.height);return Br(Br({},w),{},{x:v(b),y:j(b),width:N(b),height:_(b)})}if(o==="horizontal"){var S=po(0,w.height),k=S(b);return Br(Br({},w),{},{y:w.y+w.height-k,height:k})}var C=po(0,w.width),P=C(b);return Br(Br({},w),{},{width:P})});return D.createElement(Yt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!R0(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ut(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=TTe(u,OTe);if(!f)return null;var p=Br(Br(Br(Br(Br({},h),{},{fill:"#eee"},f),c),_c(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(NR,Cy({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ea(d,D0);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(w,x){var g=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:g,errorVal:Rn(w,x)}},b={clipPath:n?"url(#clipPath-".concat(a,")"):null};return D.createElement(Yt,b,f.map(function(m){return D.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,b=n.background,m=n.id;if(a||!i||!i.length)return null;var w=this.state.isAnimationFinished,x=xt("recharts-bar",o),g=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,j=g||v,N=jt(m)?this.id:m;return D.createElement(Yt,{className:x},g||v?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(N)},D.createElement("rect",{x:g?u:u-f/2,y:v?d:d-h/2,width:g?f:f*2,height:v?h:h*2}))):null,D.createElement(Yt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!p||w)&&Wo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(y.PureComponent);$q=Fc;To(Fc,"displayName","Bar");To(Fc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Tf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});To(Fc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=gCe(n,r);if(!p)return null;var b=t.layout,m=r.type.defaultProps,w=m!==void 0?Br(Br({},m),r.props):r.props,x=w.dataKey,g=w.children,v=w.minPointSize,j=b==="horizontal"?o:i,N=u?j.scale.domain():null,_=NCe({numericAxis:j}),S=ea(g,_0),k=f.map(function(C,P){var E,O,I,T,M,V;u?E=vCe(u[d+P],N):(E=Rn(C,x),Array.isArray(E)||(E=[_,E]));var K=ATe(v,$q.defaultProps.minPointSize)(E[1],P);if(b==="horizontal"){var A,R=[o.scale(E[0]),o.scale(E[1])],G=R[0],Y=R[1];O=v4({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:C,index:P}),I=(A=Y??G)!==null&&A!==void 0?A:void 0,T=p.size;var F=G-Y;if(M=Number.isNaN(F)?0:F,V={x:O,y:o.y,width:T,height:o.height},Math.abs(K)>0&&Math.abs(M)<Math.abs(K)){var X=Wn(M||K)*(Math.abs(K)-Math.abs(M));I-=X,M+=X}}else{var le=[i.scale(E[0]),i.scale(E[1])],he=le[0],je=le[1];if(O=he,I=v4({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:C,index:P}),T=je-he,M=p.size,V={x:i.x,y:I,width:i.width,height:M},Math.abs(K)>0&&Math.abs(T)<Math.abs(K)){var ee=Wn(T||K)*(Math.abs(K)-Math.abs(T));T+=ee}}return Br(Br(Br({},C),{},{x:O,y:I,width:T,height:M,value:u?E:E[1],payload:C,background:V},S&&S[P]&&S[P].props),{},{tooltipPayload:[aq(r,C)],tooltipPosition:{x:O+T/2,y:I+M/2}})});return Br({data:k,layout:b},h)});function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function BTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lq(n.key),n)}}function VTe(e,t,r){return t&&kR(e.prototype,t),r&&kR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){z0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z0(e,t,r){return t=Lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=qTe(e,"string");return dp(t)=="symbol"?t:t+""}function qTe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zTe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!bs(u,Fc);return d.reduce(function(p,b){var m=r[b],w=m.orientation,x=m.domain,g=m.padding,v=g===void 0?{}:g,j=m.mirror,N=m.reversed,_="".concat(w).concat(j?"Mirror":""),S,k,C,P,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=x[1]-x[0],I=1/0,T=m.categoricalDomain.sort(tme);if(T.forEach(function(le,he){he>0&&(I=Math.min((le||0)-(T[he-1]||0),I))}),Number.isFinite(I)){var M=I/O,V=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=M*V/2),m.padding==="no-gap"){var K=Kn(t.barCategoryGap,M*V),A=M*V/2;S=A-K-(A-K)/V*K}}}a==="xAxis"?k=[n.left+(v.left||0)+(S||0),n.left+n.width-(v.right||0)-(S||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(S||0),n.top+n.height-(v.bottom||0)-(S||0)]:k=m.range,N&&(k=[k[1],k[0]]);var R=tq(m,i,h),G=R.scale,Y=R.realScaleType;G.domain(x).range(k),rq(G);var F=nq(G,Na(Na({},m),{},{realScaleType:Y}));a==="xAxis"?(E=w==="top"&&!j||w==="bottom"&&j,C=n.left,P=f[_]-E*m.height):a==="yAxis"&&(E=w==="left"&&!j||w==="right"&&j,C=f[_]-E*m.width,P=n.top);var X=Na(Na(Na({},m),F),{},{realScaleType:Y,x:C,y:P,scale:G,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return X.bandSize=dy(X,F),!m.hide&&a==="xAxis"?f[_]+=(E?-1:1)*X.height:m.hide||(f[_]+=(E?-1:1)*X.width),Na(Na({},p),{},z0({},b,X))},{})},Fq=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},WTe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Fq({x:r,y:n},{x:a,y:i})},Uq=function(){function e(t){BTe(this,e),this.scale=t}return VTe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();z0(Uq,"EPS",1e-4);var V2=function(t){var r=Object.keys(t).reduce(function(n,a){return Na(Na({},n),{},z0({},a,Uq.create(t[a])))},{});return Na(Na({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return uTe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Rq(a,function(i,o){return r[o].isInRange(i)})}})};function KTe(e){return(e%180+180)%180}var HTe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=KTe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},GTe=hi,QTe=eg,YTe=w0;function XTe(e){return function(t,r,n){var a=Object(t);if(!QTe(t)){var i=GTe(r);t=YTe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var JTe=XTe,ZTe=Aq;function eIe(e){var t=ZTe(e),r=t%1;return t===t?r?t-r:t:0}var tIe=eIe,rIe=$B,nIe=hi,sIe=tIe,aIe=Math.max;function iIe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:sIe(r);return a<0&&(a=aIe(n+a,0)),rIe(e,nIe(t),a)}var oIe=iIe,lIe=JTe,cIe=oIe,uIe=lIe(cIe),dIe=uIe;const fIe=Ht(dIe);var hIe=she(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),q2=y.createContext(void 0),z2=y.createContext(void 0),Bq=y.createContext(void 0),Vq=y.createContext({}),qq=y.createContext(void 0),zq=y.createContext(0),Wq=y.createContext(0),PR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=hIe(i);return D.createElement(q2.Provider,{value:n},D.createElement(z2.Provider,{value:a},D.createElement(Vq.Provider,{value:i},D.createElement(Bq.Provider,{value:d},D.createElement(qq.Provider,{value:o},D.createElement(zq.Provider,{value:u},D.createElement(Wq.Provider,{value:c},l)))))))},mIe=function(){return y.useContext(qq)},Kq=function(t){var r=y.useContext(q2);r==null&&Cc();var n=r[t];return n==null&&Cc(),n},pIe=function(){var t=y.useContext(q2);return bo(t)},gIe=function(){var t=y.useContext(z2),r=fIe(t,function(n){return Rq(n.domain,Number.isFinite)});return r||bo(t)},Hq=function(t){var r=y.useContext(z2);r==null&&Cc();var n=r[t];return n==null&&Cc(),n},vIe=function(){var t=y.useContext(Bq);return t},xIe=function(){return y.useContext(Vq)},W2=function(){return y.useContext(Wq)},K2=function(){return y.useContext(zq)};function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function yIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qq(n.key),n)}}function wIe(e,t,r){return t&&bIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jIe(e,t,r){return t=Ey(t),NIe(e,Gq()?Reflect.construct(t,r||[],Ey(e).constructor):t.apply(e,r))}function NIe(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ie(e)}function _Ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gq=function(){return!!e})()}function Ey(e){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ey(e)}function SIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tS(e,t)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){H2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H2(e,t,r){return t=Qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=kIe(e,"string");return Jd(t)=="symbol"?t:t+""}function kIe(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CIe(e,t){return OIe(e)||AIe(e,t)||EIe(e,t)||PIe()}function PIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EIe(e,t){if(e){if(typeof e=="string")return OR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OR(e,t)}}function OR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function OIe(e){if(Array.isArray(e))return e}function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rS.apply(this,arguments)}var TIe=function(t,r){var n;return D.isValidElement(t)?n=D.cloneElement(t,r):ft(t)?n=t(r):n=D.createElement("line",rS({},r,{className:"recharts-reference-line-line"})),n},IIe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var b=u.y,m=t.y.apply(b,{position:o});if(ai(u,"discard")&&!t.y.isInRange(m))return null;var w=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?w.reverse():w}if(r){var x=u.x,g=t.x.apply(x,{position:o});if(ai(u,"discard")&&!t.x.isInRange(g))return null;var v=[{x:g,y:f+p},{x:g,y:f}];return l==="top"?v.reverse():v}if(a){var j=u.segment,N=j.map(function(_){return t.apply(_,{position:o})});return ai(u,"discard")&&rTe(N,function(_){return!t.isInRange(_)})?null:N}return null};function RIe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=mIe(),d=Kq(a),f=Hq(i),h=vIe();if(!u||!h)return null;Ta(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=V2({x:d.scale,y:f.scale}),b=ln(t),m=ln(r),w=n&&n.length===2,x=IIe(p,b,m,w,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var g=CIe(x,2),v=g[0],j=v.x,N=v.y,_=g[1],S=_.x,k=_.y,C=ai(e,"hidden")?"url(#".concat(u,")"):void 0,P=AR(AR({clipPath:C},ut(e,!0)),{},{x1:j,y1:N,x2:S,y2:k});return D.createElement(Yt,{className:xt("recharts-reference-line",l)},TIe(o,P),pn.renderCallByParent(e,WTe({x1:j,y1:N,x2:S,y2:k})))}var G2=function(e){function t(){return yIe(this,t),jIe(this,t,arguments)}return SIe(t,e),wIe(t,[{key:"render",value:function(){return D.createElement(RIe,this.props)}}])}(D.Component);H2(G2,"displayName","ReferenceLine");H2(G2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nS.apply(this,arguments)}function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){W0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xq(n.key),n)}}function DIe(e,t,r){return t&&MIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LIe(e,t,r){return t=Ay(t),FIe(e,Yq()?Reflect.construct(t,r||[],Ay(e).constructor):t.apply(e,r))}function FIe(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UIe(e)}function UIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yq=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(e)}function BIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sS(e,t)}function W0(e,t,r){return t=Xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=VIe(e,"string");return Zd(t)=="symbol"?t:t+""}function VIe(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qIe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=V2({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ai(t,"discard")&&!o.isInRange(l)?null:l},K0=function(e){function t(){return $Ie(this,t),LIe(this,t,arguments)}return BIe(t,e),DIe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=ln(a),d=ln(i);if(Ta(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=qIe(this.props);if(!f)return null;var h=f.x,p=f.y,b=this.props,m=b.shape,w=b.className,x=ai(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=IR(IR({clipPath:x},ut(this.props,!0)),{},{cx:h,cy:p});return D.createElement(Yt,{className:xt("recharts-reference-dot",w)},t.renderDot(m,g),pn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(D.Component);W0(K0,"displayName","ReferenceDot");W0(K0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});W0(K0,"renderDot",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):ft(e)?r=e(t):r=D.createElement(B2,nS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aS.apply(this,arguments)}function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){H0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zq(n.key),n)}}function KIe(e,t,r){return t&&WIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HIe(e,t,r){return t=Oy(t),GIe(e,Jq()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function GIe(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QIe(e)}function QIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jq=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function YIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iS(e,t)}function H0(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=XIe(e,"string");return ef(t)=="symbol"?t:t+""}function XIe(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JIe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=V2({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},b={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ai(i,"discard")&&(!h.isInRange(p)||!h.isInRange(b))?null:Fq(p,b)},G0=function(e){function t(){return zIe(this,t),HIe(this,t,arguments)}return YIe(t,e),KIe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ta(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ln(a),h=ln(i),p=ln(o),b=ln(l),m=this.props.shape;if(!f&&!h&&!p&&!b&&!m)return null;var w=JIe(f,h,p,b,this.props);if(!w&&!m)return null;var x=ai(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(Yt,{className:xt("recharts-reference-area",c)},t.renderRect(m,$R($R({clipPath:x},ut(this.props,!0)),w)),pn.renderCallByParent(this.props,w))}}])}(D.Component);H0(G0,"displayName","ReferenceArea");H0(G0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});H0(G0,"renderRect",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):ft(e)?r=e(t):r=D.createElement(U2,aS({},t,{className:"recharts-reference-area-rect"})),r});function e9(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function ZIe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return HTe(n,r)}function e4e(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Ty(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function t4e(e,t){return e9(e,t+1)}function r4e(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var b=n==null?void 0:n[c];if(b===void 0)return{v:e9(n,u)};var m=c,w,x=function(){return w===void 0&&(w=r(b,m)),w},g=b.coordinate,v=c===0||Ty(e,g,x,d,l);v||(c=0,d=o,u+=1),v&&(d=g+e*(x()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){n4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n4e(e,t,r){return t=s4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s4e(e){var t=a4e(e,"string");return fp(t)=="symbol"?t:t+""}function a4e(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i4e(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],b,m=function(){return b===void 0&&(b=r(p,h)),b};if(h===o-1){var w=e*(p.coordinate+e*m()/2-c);i[h]=p=On(On({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else i[h]=p=On(On({},p),{},{tickCoord:p.coordinate});var x=Ty(e,p.tickCoord,m,l,c);x&&(c=p.tickCoord-e*(m()/2+a),i[h]=On(On({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function o4e(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=On(On({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Ty(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=On(On({},d),{},{isShow:!0}))}for(var b=i?l-1:l,m=function(g){var v=o[g],j,N=function(){return j===void 0&&(j=r(v,g)),j};if(g===0){var _=e*(v.coordinate-e*N()/2-c);o[g]=v=On(On({},v),{},{tickCoord:_<0?v.coordinate-_*e:v.coordinate})}else o[g]=v=On(On({},v),{},{tickCoord:v.coordinate});var S=Ty(e,v.tickCoord,N,c,u);S&&(c=v.tickCoord+e*(N()/2+a),o[g]=On(On({},v),{},{isShow:!0}))},w=0;w<b;w++)m(w);return o}function Q2(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ke(c)||Tf.isSsr)return t4e(a,typeof c=="number"&&ke(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",b=d&&p==="width"?Vh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(v,j){var N=ft(u)?u(v.value,j):v.value;return p==="width"?ZIe(Vh(N,{fontSize:t,letterSpacing:r}),b,f):Vh(N,{fontSize:t,letterSpacing:r})[p]},w=a.length>=2?Wn(a[1].coordinate-a[0].coordinate):1,x=e4e(i,w,p);return c==="equidistantPreserveStart"?r4e(w,x,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=o4e(w,x,m,a,o,c==="preserveStartEnd"):h=i4e(w,x,m,a,o),h.filter(function(g){return g.isShow}))}var l4e=["viewBox"],c4e=["viewBox"],u4e=["ticks"];function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){Y2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tj(e,t){if(e==null)return{};var r=d4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r9(n.key),n)}}function h4e(e,t,r){return t&&LR(e.prototype,t),r&&LR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m4e(e,t,r){return t=Iy(t),p4e(e,t9()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function p4e(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g4e(e)}function g4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function v4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oS(e,t)}function oS(e,t){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oS(e,t)}function Y2(e,t,r){return t=r9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9(e){var t=x4e(e,"string");return tf(t)=="symbol"?t:t+""}function x4e(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mf=function(e){function t(r){var n;return f4e(this,t),n=m4e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return v4e(t,e),h4e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Tj(n,l4e),l=this.props,c=l.viewBox,u=Tj(l,c4e);return!Xu(i,c)||!Xu(o,u)||!Xu(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,b,m,w,x,g,v=f?-1:1,j=n.tickSize||d,N=ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=b=n.coordinate,w=o+ +!f*c,m=w-v*j,g=m-v*h,x=N;break;case"left":m=w=n.coordinate,b=i+ +!f*l,p=b-v*j,x=p-v*h,g=N;break;case"right":m=w=n.coordinate,b=i+ +f*l,p=b+v*j,x=p+v*h,g=N;break;default:p=b=n.coordinate,w=o+ +f*c,m=w+v*j,g=m+v*h,x=N;break}return{line:{x1:p,y1:m,x2:b,y2:w},tick:{x,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=en(en(en({},ut(this.props,!1)),ut(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=en(en({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=en(en({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return D.createElement("line",Uu({},f,{className:xt("recharts-cartesian-axis-line",Os(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=Q2(en(en({},this.props),{},{ticks:n}),a,i),b=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),w=ut(this.props,!1),x=ut(d,!1),g=en(en({},w),{},{fill:"none"},ut(c,!1)),v=p.map(function(j,N){var _=o.getTickLineCoord(j),S=_.line,k=_.tick,C=en(en(en(en({textAnchor:b,verticalAnchor:m},w),{},{stroke:"none",fill:u},x),k),{},{index:N,payload:j,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(Yt,Uu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},_c(o.props,j,N)),c&&D.createElement("line",Uu({},g,S,{className:xt("recharts-cartesian-axis-tick-line",Os(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(ft(f)?f(j.value,N):j.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Tj(f,u4e),b=h;return ft(c)&&(b=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!b||!b.length?null:D.createElement(Yt,{className:xt("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=xt(a.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(n)?o=D.cloneElement(n,en(en({},a),{},{className:l})):ft(n)?o=n(en(en({},a),{},{className:l})):o=D.createElement(Sc,Uu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);Y2(Mf,"displayName","CartesianAxis");Y2(Mf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var y4e=["x1","y1","x2","y2","key"],b4e=["offset"];function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){w4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w4e(e,t,r){return t=j4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j4e(e){var t=N4e(e,"string");return Pc(t)=="symbol"?t:t+""}function N4e(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}function UR(e,t){if(e==null)return{};var r=_4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var S4e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return D.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function n9(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(ft(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=UR(t,y4e),u=ut(c,!1);u.offset;var d=UR(u,b4e);r=D.createElement("line",zl({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function k4e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=In(In({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return n9(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function C4e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=In(In({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return n9(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function P4e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var b=!d[p+1],m=b?a+o-h:d[p+1]-h;if(m<=0)return null;var w=p%t.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function E4e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var b=!d[p+1],m=b?i+l-h:d[p+1]-h;if(m<=0)return null;var w=p%n.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var A4e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return eq(Q2(In(In(In({},Mf.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},O4e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return eq(Q2(In(In(In({},Mf.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},fu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function s9(e){var t,r,n,a,i,o,l=W2(),c=K2(),u=xIe(),d=In(In({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:fu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:fu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:fu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:fu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:fu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:fu.verticalFill,x:ke(e.x)?e.x:u.left,y:ke(e.y)?e.y:u.top,width:ke(e.width)?e.width:u.width,height:ke(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,b=d.height,m=d.syncWithTicks,w=d.horizontalValues,x=d.verticalValues,g=pIe(),v=gIe();if(!ke(p)||p<=0||!ke(b)||b<=0||!ke(f)||f!==+f||!ke(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||A4e,N=d.horizontalCoordinatesGenerator||O4e,_=d.horizontalPoints,S=d.verticalPoints;if((!_||!_.length)&&ft(N)){var k=w&&w.length,C=N({yAxis:v?In(In({},v),{},{ticks:k?w:v.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);Ta(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Pc(C),"]")),Array.isArray(C)&&(_=C)}if((!S||!S.length)&&ft(j)){var P=x&&x.length,E=j({xAxis:g?In(In({},g),{},{ticks:P?x:g.ticks}):void 0,width:l,height:c,offset:u},P?!0:m);Ta(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Pc(E),"]")),Array.isArray(E)&&(S=E)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(S4e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(k4e,zl({},d,{offset:u,horizontalPoints:_,xAxis:g,yAxis:v})),D.createElement(C4e,zl({},d,{offset:u,verticalPoints:S,xAxis:g,yAxis:v})),D.createElement(P4e,zl({},d,{horizontalPoints:_})),D.createElement(E4e,zl({},d,{verticalPoints:S})))}s9.displayName="CartesianGrid";function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function T4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o9(n.key),n)}}function R4e(e,t,r){return t&&I4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $4e(e,t,r){return t=Ry(t),M4e(e,a9()?Reflect.construct(t,r||[],Ry(e).constructor):t.apply(e,r))}function M4e(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D4e(e)}function D4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(e)}function L4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}function lS(e,t){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lS(e,t)}function i9(e,t,r){return t=o9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o9(e){var t=F4e(e,"string");return rf(t)=="symbol"?t:t+""}function F4e(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cS.apply(this,arguments)}function U4e(e){var t=e.xAxisId,r=W2(),n=K2(),a=Kq(t);return a==null?null:y.createElement(Mf,cS({},a,{className:xt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ti(o,!0)}}))}var Q0=function(e){function t(){return T4e(this,t),$4e(this,t,arguments)}return L4e(t,e),R4e(t,[{key:"render",value:function(){return y.createElement(U4e,this.props)}}])}(y.Component);i9(Q0,"displayName","XAxis");i9(Q0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function B4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u9(n.key),n)}}function q4e(e,t,r){return t&&V4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z4e(e,t,r){return t=$y(t),W4e(e,l9()?Reflect.construct(t,r||[],$y(e).constructor):t.apply(e,r))}function W4e(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K4e(e)}function K4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l9=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(e)}function H4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uS(e,t)}function c9(e,t,r){return t=u9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u9(e){var t=G4e(e,"string");return nf(t)=="symbol"?t:t+""}function G4e(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dS.apply(this,arguments)}var Q4e=function(t){var r=t.yAxisId,n=W2(),a=K2(),i=Hq(r);return i==null?null:y.createElement(Mf,dS({},i,{className:xt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ti(l,!0)}}))},Y0=function(e){function t(){return B4e(this,t),z4e(this,t,arguments)}return H4e(t,e),q4e(t,[{key:"render",value:function(){return y.createElement(Q4e,this.props)}}])}(y.Component);c9(Y0,"displayName","YAxis");c9(Y0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function BR(e){return Z4e(e)||J4e(e)||X4e(e)||Y4e()}function Y4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X4e(e,t){if(e){if(typeof e=="string")return fS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fS(e,t)}}function J4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z4e(e){if(Array.isArray(e))return fS(e)}function fS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hS=function(t,r,n,a,i){var o=ea(t,G2),l=ea(t,K0),c=[].concat(BR(o),BR(l)),u=ea(t,G0),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,w){if(w.props[d]===n&&ai(w.props,"extendDomain")&&ke(w.props[f])){var x=w.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var p="".concat(f,"1"),b="".concat(f,"2");h=u.reduce(function(m,w){if(w.props[d]===n&&ai(w.props,"extendDomain")&&ke(w.props[p])&&ke(w.props[b])){var x=w.props[p],g=w.props[b];return[Math.min(m[0],x,g),Math.max(m[1],x,g)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,w){return ke(w)?[Math.min(m[0],w),Math.max(m[1],w)]:m},h)),h},d9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),b=r?r+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,b=new Array(p);h<p;h++)b[h]=f[h].fn;return b},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,b){var m=r?r+u:u;if(!this._events[m])return!1;var w=this._events[m],x=arguments.length,g,v;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,p),!0;case 6:return w.fn.call(w.context,d,f,h,p,b),!0}for(v=1,g=new Array(x-1);v<x;v++)g[v-1]=arguments[v];w.fn.apply(w.context,g)}else{var j=w.length,N;for(v=0;v<j;v++)switch(w[v].once&&this.removeListener(u,w[v].fn,void 0,!0),x){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,d);break;case 3:w[v].fn.call(w[v].context,d,f);break;case 4:w[v].fn.call(w[v].context,d,f,h);break;default:if(!g)for(N=1,g=new Array(x-1);N<x;N++)g[N-1]=arguments[N];w[v].fn.apply(w[v].context,g)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===d&&(!h||b.once)&&(!f||b.context===f)&&o(this,p);else{for(var m=0,w=[],x=b.length;m<x;m++)(b[m].fn!==d||h&&!b[m].once||f&&b[m].context!==f)&&w.push(b[m]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(d9);var eRe=d9.exports;const tRe=Ht(eRe);var Ij=new tRe,Rj="recharts.syncMouseEvents";function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function rRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f9(n.key),n)}}function sRe(e,t,r){return t&&nRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $j(e,t,r){return t=f9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9(e){var t=aRe(e,"string");return hp(t)=="symbol"?t:t+""}function aRe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iRe=function(){function e(){rRe(this,e),$j(this,"activeIndex",0),$j(this,"coordinateList",[]),$j(this,"layout","horizontal")}return sRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function oRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ke(n)&&ke(a))return!0}return!1}function lRe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function h9(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=hr(t,r,n,a),l=hr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function cRe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=hr(l,c,u,f),p=hr(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return h9(t);return[{x:n,y:a},{x:i,y:o}]}function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){uRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uRe(e,t,r){return t=dRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dRe(e){var t=fRe(e,"string");return mp(t)=="symbol"?t:t+""}function fRe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hRe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var b,m=M_;if(h==="ScatterChart")b=o,m=zEe;else if(h==="BarChart")b=lRe(f,o,c,d),m=U2;else if(f==="radial"){var w=h9(o),x=w.cx,g=w.cy,v=w.radius,j=w.startAngle,N=w.endAngle;b={cx:x,cy:g,startAngle:j,endAngle:N,innerRadius:v,outerRadius:v},m=dq}else b={points:cRe(f,o,c)},m=M_;var _=iv(iv(iv(iv({stroke:"#ccc",pointerEvents:"none"},c),b),ut(p,!1)),{},{payload:l,payloadIndex:u,className:xt("recharts-tooltip-cursor",p.className)});return y.isValidElement(p)?y.cloneElement(p,_):y.createElement(m,_)}var mRe=["item"],pRe=["children","className","width","height","style","compact","title","desc"];function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(this,arguments)}function qR(e,t){return xRe(e)||vRe(e,t)||p9(e,t)||gRe()}function gRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xRe(e){if(Array.isArray(e))return e}function zR(e,t){if(e==null)return{};var r=yRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g9(n.key),n)}}function jRe(e,t,r){return t&&wRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NRe(e,t,r){return t=My(t),_Re(e,m9()?Reflect.construct(t,r||[],My(e).constructor):t.apply(e,r))}function _Re(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SRe(e)}function SRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m9=function(){return!!e})()}function My(e){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},My(e)}function kRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mS(e,t)}function af(e){return ERe(e)||PRe(e)||p9(e)||CRe()}function CRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p9(e,t){if(e){if(typeof e=="string")return pS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pS(e,t)}}function PRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ERe(e){if(Array.isArray(e))return pS(e)}function pS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(r),!0).forEach(function(n){at(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function at(e,t,r){return t=g9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g9(e){var t=ARe(e,"string");return sf(t)=="symbol"?t:t+""}function ARe(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ORe={xAxis:["bottom","top"],yAxis:["left","right"]},TRe={width:"100%",height:"100%"},v9={x:0,y:0};function ov(e){return e}var IRe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},RRe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return oe(oe(oe({},a),hr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return oe(oe(oe({},a),hr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return v9},X0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(af(l),af(u)):l},[]);return o.length>0?o:t&&t.length&&ke(a)&&ke(i)?t.slice(a,i+1):[]};function x9(e){return e==="number"?[0,"auto"]:void 0}var gS=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=X0(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=zN(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(af(c),[aq(u,h)]):c},[])},KR=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=IRe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=uCe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=gS(t,r,d,f),p=RRe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},$Re=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=ZV(d,i);return n.reduce(function(b,m){var w,x=m.type.defaultProps!==void 0?oe(oe({},m.type.defaultProps),m.props):m.props,g=x.type,v=x.dataKey,j=x.allowDataOverflow,N=x.allowDuplicatedCategory,_=x.scale,S=x.ticks,k=x.includeHidden,C=x[o];if(b[C])return b;var P=X0(t.data,{graphicalItems:a.filter(function(F){var X,le=o in F.props?F.props[o]:(X=F.type.defaultProps)===null||X===void 0?void 0:X[o];return le===C}),dataStartIndex:c,dataEndIndex:u}),E=P.length,O,I,T;oRe(x.domain,j,g)&&(O=O_(x.domain,null,j),p&&(g==="number"||_!=="auto")&&(T=zh(P,v,"category")));var M=x9(g);if(!O||O.length===0){var V,K=(V=x.domain)!==null&&V!==void 0?V:M;if(v){if(O=zh(P,v,g),g==="category"&&p){var A=eme(O);N&&A?(I=O,O=_y(0,E)):N||(O=b4(K,O,m).reduce(function(F,X){return F.indexOf(X)>=0?F:[].concat(af(F),[X])},[]))}else if(g==="category")N?O=O.filter(function(F){return F!==""&&!jt(F)}):O=b4(K,O,m).reduce(function(F,X){return F.indexOf(X)>=0||X===""||jt(X)?F:[].concat(af(F),[X])},[]);else if(g==="number"){var R=pCe(P,a.filter(function(F){var X,le,he=o in F.props?F.props[o]:(X=F.type.defaultProps)===null||X===void 0?void 0:X[o],je="hide"in F.props?F.props.hide:(le=F.type.defaultProps)===null||le===void 0?void 0:le.hide;return he===C&&(k||!je)}),v,i,d);R&&(O=R)}p&&(g==="number"||_!=="auto")&&(T=zh(P,v,"category"))}else p?O=_y(0,E):l&&l[C]&&l[C].hasStack&&g==="number"?O=h==="expand"?[0,1]:sq(l[C].stackGroups,c,u):O=JV(P,a.filter(function(F){var X=o in F.props?F.props[o]:F.type.defaultProps[o],le="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return X===C&&(k||!le)}),g,d,!0);if(g==="number")O=hS(f,O,C,i,S),K&&(O=O_(K,O,j));else if(g==="category"&&K){var G=K,Y=O.every(function(F){return G.indexOf(F)>=0});Y&&(O=G)}}return oe(oe({},b),{},at({},C,oe(oe({},x),{},{axisType:i,domain:O,categoricalDomain:T,duplicateDomain:I,originalDomain:(w=x.domain)!==null&&w!==void 0?w:M,isCategorical:p,layout:d})))},{})},MRe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=X0(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,b=ZV(d,i),m=-1;return n.reduce(function(w,x){var g=x.type.defaultProps!==void 0?oe(oe({},x.type.defaultProps),x.props):x.props,v=g[o],j=x9("number");if(!w[v]){m++;var N;return b?N=_y(0,p):l&&l[v]&&l[v].hasStack?(N=sq(l[v].stackGroups,c,u),N=hS(f,N,v,i)):(N=O_(j,JV(h,n.filter(function(_){var S,k,C=o in _.props?_.props[o]:(S=_.type.defaultProps)===null||S===void 0?void 0:S[o],P="hide"in _.props?_.props.hide:(k=_.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===v&&!P}),"number",d),a.defaultProps.allowDataOverflow),N=hS(f,N,v,i)),oe(oe({},w),{},at({},v,oe(oe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Os(ORe,"".concat(i,".").concat(m%2),null),domain:N,originalDomain:j,isCategorical:b,layout:d})))}return w},{})},DRe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ea(d,i),p={};return h&&h.length?p=$Re(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=MRe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},LRe=function(t){var r=bo(t),n=Ti(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:h2(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:dy(r,n)}},HR=function(t){var r=t.children,n=t.defaultShowTooltip,a=bs(r,Yd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},FRe=function(t){return!t||!t.length?!1:t.some(function(r){var n=$i(r&&r.type);return n&&n.indexOf("Bar")>=0})},GR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},URe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=bs(f,Yd),b=bs(f,rc),m=Object.keys(c).reduce(function(N,_){var S=c[_],k=S.orientation;return!S.mirror&&!S.hide?oe(oe({},N),{},at({},k,N[k]+S.width)):N},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(N,_){var S=o[_],k=S.orientation;return!S.mirror&&!S.hide?oe(oe({},N),{},at({},k,Os(N,"".concat(k))+S.height)):N},{top:h.top||0,bottom:h.bottom||0}),x=oe(oe({},w),m),g=x.bottom;p&&(x.bottom+=p.props.height||Yd.defaultProps.height),b&&r&&(x=hCe(x,a,n,r));var v=u-x.left-x.right,j=d-x.top-x.bottom;return oe(oe({brushBottom:g},x),{},{width:Math.max(v,0),height:Math.max(j,0)})},BRe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},y9=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,g){var v=g.graphicalItems,j=g.stackGroups,N=g.offset,_=g.updateId,S=g.dataStartIndex,k=g.dataEndIndex,C=x.barSize,P=x.layout,E=x.barGap,O=x.barCategoryGap,I=x.maxBarSize,T=GR(P),M=T.numericAxisName,V=T.cateAxisName,K=FRe(v),A=[];return v.forEach(function(R,G){var Y=X0(x.data,{graphicalItems:[R],dataStartIndex:S,dataEndIndex:k}),F=R.type.defaultProps!==void 0?oe(oe({},R.type.defaultProps),R.props):R.props,X=F.dataKey,le=F.maxBarSize,he=F["".concat(M,"Id")],je=F["".concat(V,"Id")],ee={},we=c.reduce(function(q,J){var ne=g["".concat(J.axisType,"Map")],Ae=F["".concat(J.axisType,"Id")];ne&&ne[Ae]||J.axisType==="zAxis"||Cc();var Ce=ne[Ae];return oe(oe({},q),{},at(at({},J.axisType,Ce),"".concat(J.axisType,"Ticks"),Ti(Ce)))},ee),ae=we[V],L=we["".concat(V,"Ticks")],te=j&&j[he]&&j[he].hasStack&&_Ce(R,j[he].stackGroups),H=$i(R.type).indexOf("Bar")>=0,U=dy(ae,L),me=[],He=K&&dCe({barSize:C,stackGroups:j,totalSize:BRe(we,V)});if(H){var Pe,ht,sr=jt(le)?I:le,Ut=(Pe=(ht=dy(ae,L,!0))!==null&&ht!==void 0?ht:sr)!==null&&Pe!==void 0?Pe:0;me=fCe({barGap:E,barCategoryGap:O,bandSize:Ut!==U?Ut:U,sizeList:He[je],maxBarSize:sr}),Ut!==U&&(me=me.map(function(q){return oe(oe({},q),{},{position:oe(oe({},q.position),{},{offset:q.position.offset-Ut/2})})}))}var or=R&&R.type&&R.type.getComposedData;or&&A.push({props:oe(oe({},or(oe(oe({},we),{},{displayedData:Y,props:x,dataKey:X,item:R,bandSize:U,barPosition:me,offset:N,stackedData:te,layout:P,dataStartIndex:S,dataEndIndex:k}))),{},at(at(at({key:R.key||"item-".concat(G)},M,we[M]),V,we[V]),"animationId",_)),childIndex:fme(R,x.children),item:R})}),A},p=function(x,g){var v=x.props,j=x.dataStartIndex,N=x.dataEndIndex,_=x.updateId;if(!hT({props:v}))return null;var S=v.children,k=v.layout,C=v.stackOffset,P=v.data,E=v.reverseStackOrder,O=GR(k),I=O.numericAxisName,T=O.cateAxisName,M=ea(S,n),V=jCe(P,M,"".concat(I,"Id"),"".concat(T,"Id"),C,E),K=c.reduce(function(F,X){var le="".concat(X.axisType,"Map");return oe(oe({},F),{},at({},le,DRe(v,oe(oe({},X),{},{graphicalItems:M,stackGroups:X.axisType===I&&V,dataStartIndex:j,dataEndIndex:N}))))},{}),A=URe(oe(oe({},K),{},{props:v,graphicalItems:M}),g==null?void 0:g.legendBBox);Object.keys(K).forEach(function(F){K[F]=d(v,K[F],A,F.replace("Map",""),r)});var R=K["".concat(T,"Map")],G=LRe(R),Y=h(v,oe(oe({},K),{},{dataStartIndex:j,dataEndIndex:N,updateId:_,graphicalItems:M,stackGroups:V,offset:A}));return oe(oe({formattedGraphicalItems:Y,graphicalItems:M,offset:A,stackGroups:V},G),K)},b=function(w){function x(g){var v,j,N;return bRe(this,x),N=NRe(this,x,[g]),at(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),at(N,"accessibilityManager",new iRe),at(N,"handleLegendBBoxUpdate",function(_){if(_){var S=N.state,k=S.dataStartIndex,C=S.dataEndIndex,P=S.updateId;N.setState(oe({legendBBox:_},p({props:N.props,dataStartIndex:k,dataEndIndex:C,updateId:P},oe(oe({},N.state),{},{legendBBox:_}))))}}),at(N,"handleReceiveSyncEvent",function(_,S,k){if(N.props.syncId===_){if(k===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(S)}}),at(N,"handleBrushChange",function(_){var S=_.startIndex,k=_.endIndex;if(S!==N.state.dataStartIndex||k!==N.state.dataEndIndex){var C=N.state.updateId;N.setState(function(){return oe({dataStartIndex:S,dataEndIndex:k},p({props:N.props,dataStartIndex:S,dataEndIndex:k,updateId:C},N.state))}),N.triggerSyncEvent({dataStartIndex:S,dataEndIndex:k})}}),at(N,"handleMouseEnter",function(_){var S=N.getMouseInfo(_);if(S){var k=oe(oe({},S),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var C=N.props.onMouseEnter;ft(C)&&C(k,_)}}),at(N,"triggeredAfterMouseMove",function(_){var S=N.getMouseInfo(_),k=S?oe(oe({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var C=N.props.onMouseMove;ft(C)&&C(k,_)}),at(N,"handleItemMouseEnter",function(_){N.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),at(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),at(N,"handleMouseMove",function(_){_.persist(),N.throttleTriggeredAfterMouseMove(_)}),at(N,"handleMouseLeave",function(_){N.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};N.setState(S),N.triggerSyncEvent(S);var k=N.props.onMouseLeave;ft(k)&&k(S,_)}),at(N,"handleOuterEvent",function(_){var S=dme(_),k=Os(N.props,"".concat(S));if(S&&ft(k)){var C,P;/.*touch.*/i.test(S)?P=N.getMouseInfo(_.changedTouches[0]):P=N.getMouseInfo(_),k((C=P)!==null&&C!==void 0?C:{},_)}}),at(N,"handleClick",function(_){var S=N.getMouseInfo(_);if(S){var k=oe(oe({},S),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var C=N.props.onClick;ft(C)&&C(k,_)}}),at(N,"handleMouseDown",function(_){var S=N.props.onMouseDown;if(ft(S)){var k=N.getMouseInfo(_);S(k,_)}}),at(N,"handleMouseUp",function(_){var S=N.props.onMouseUp;if(ft(S)){var k=N.getMouseInfo(_);S(k,_)}}),at(N,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),at(N,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.handleMouseDown(_.changedTouches[0])}),at(N,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.handleMouseUp(_.changedTouches[0])}),at(N,"handleDoubleClick",function(_){var S=N.props.onDoubleClick;if(ft(S)){var k=N.getMouseInfo(_);S(k,_)}}),at(N,"handleContextMenu",function(_){var S=N.props.onContextMenu;if(ft(S)){var k=N.getMouseInfo(_);S(k,_)}}),at(N,"triggerSyncEvent",function(_){N.props.syncId!==void 0&&Ij.emit(Rj,N.props.syncId,_,N.eventEmitterSymbol)}),at(N,"applySyncEvent",function(_){var S=N.props,k=S.layout,C=S.syncMethod,P=N.state.updateId,E=_.dataStartIndex,O=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)N.setState(oe({dataStartIndex:E,dataEndIndex:O},p({props:N.props,dataStartIndex:E,dataEndIndex:O,updateId:P},N.state)));else if(_.activeTooltipIndex!==void 0){var I=_.chartX,T=_.chartY,M=_.activeTooltipIndex,V=N.state,K=V.offset,A=V.tooltipTicks;if(!K)return;if(typeof C=="function")M=C(A,_);else if(C==="value"){M=-1;for(var R=0;R<A.length;R++)if(A[R].value===_.activeLabel){M=R;break}}var G=oe(oe({},K),{},{x:K.left,y:K.top}),Y=Math.min(I,G.x+G.width),F=Math.min(T,G.y+G.height),X=A[M]&&A[M].value,le=gS(N.state,N.props.data,M),he=A[M]?{x:k==="horizontal"?A[M].coordinate:Y,y:k==="horizontal"?F:A[M].coordinate}:v9;N.setState(oe(oe({},_),{},{activeLabel:X,activeCoordinate:he,activePayload:le,activeTooltipIndex:M}))}else N.setState(_)}),at(N,"renderCursor",function(_){var S,k=N.state,C=k.isTooltipActive,P=k.activeCoordinate,E=k.activePayload,O=k.offset,I=k.activeTooltipIndex,T=k.tooltipAxisBandSize,M=N.getTooltipEventType(),V=(S=_.props.active)!==null&&S!==void 0?S:C,K=N.props.layout,A=_.key||"_recharts-cursor";return D.createElement(hRe,{key:A,activeCoordinate:P,activePayload:E,activeTooltipIndex:I,chartName:r,element:_,isActive:V,layout:K,offset:O,tooltipAxisBandSize:T,tooltipEventType:M})}),at(N,"renderPolarAxis",function(_,S,k){var C=Os(_,"type.axisType"),P=Os(N.state,"".concat(C,"Map")),E=_.type.defaultProps,O=E!==void 0?oe(oe({},E),_.props):_.props,I=P&&P[O["".concat(C,"Id")]];return y.cloneElement(_,oe(oe({},I),{},{className:xt(C,I.className),key:_.key||"".concat(S,"-").concat(k),ticks:Ti(I,!0)}))}),at(N,"renderPolarGrid",function(_){var S=_.props,k=S.radialLines,C=S.polarAngles,P=S.polarRadius,E=N.state,O=E.radiusAxisMap,I=E.angleAxisMap,T=bo(O),M=bo(I),V=M.cx,K=M.cy,A=M.innerRadius,R=M.outerRadius;return y.cloneElement(_,{polarAngles:Array.isArray(C)?C:Ti(M,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(P)?P:Ti(T,!0).map(function(G){return G.coordinate}),cx:V,cy:K,innerRadius:A,outerRadius:R,key:_.key||"polar-grid",radialLines:k})}),at(N,"renderLegend",function(){var _=N.state.formattedGraphicalItems,S=N.props,k=S.children,C=S.width,P=S.height,E=N.props.margin||{},O=C-(E.left||0)-(E.right||0),I=YV({children:k,formattedGraphicalItems:_,legendWidth:O,legendContent:u});if(!I)return null;var T=I.item,M=zR(I,mRe);return y.cloneElement(T,oe(oe({},M),{},{chartWidth:C,chartHeight:P,margin:E,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),at(N,"renderTooltip",function(){var _,S=N.props,k=S.children,C=S.accessibilityLayer,P=bs(k,ja);if(!P)return null;var E=N.state,O=E.isTooltipActive,I=E.activeCoordinate,T=E.activePayload,M=E.activeLabel,V=E.offset,K=(_=P.props.active)!==null&&_!==void 0?_:O;return y.cloneElement(P,{viewBox:oe(oe({},V),{},{x:V.left,y:V.top}),active:K,label:M,payload:K?T:[],coordinate:I,accessibilityLayer:C})}),at(N,"renderBrush",function(_){var S=N.props,k=S.margin,C=S.data,P=N.state,E=P.offset,O=P.dataStartIndex,I=P.dataEndIndex,T=P.updateId;return y.cloneElement(_,{key:_.key||"_recharts-brush",onChange:rv(N.handleBrushChange,_.props.onChange),data:C,x:ke(_.props.x)?_.props.x:E.left,y:ke(_.props.y)?_.props.y:E.top+E.height+E.brushBottom-(k.bottom||0),width:ke(_.props.width)?_.props.width:E.width,startIndex:O,endIndex:I,updateId:"brush-".concat(T)})}),at(N,"renderReferenceElement",function(_,S,k){if(!_)return null;var C=N,P=C.clipPathId,E=N.state,O=E.xAxisMap,I=E.yAxisMap,T=E.offset,M=_.type.defaultProps||{},V=_.props,K=V.xAxisId,A=K===void 0?M.xAxisId:K,R=V.yAxisId,G=R===void 0?M.yAxisId:R;return y.cloneElement(_,{key:_.key||"".concat(S,"-").concat(k),xAxis:O[A],yAxis:I[G],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:P})}),at(N,"renderActivePoints",function(_){var S=_.item,k=_.activePoint,C=_.basePoint,P=_.childIndex,E=_.isRange,O=[],I=S.props.key,T=S.item.type.defaultProps!==void 0?oe(oe({},S.item.type.defaultProps),S.item.props):S.item.props,M=T.activeDot,V=T.dataKey,K=oe(oe({index:P,dataKey:V,cx:k.x,cy:k.y,r:4,fill:F2(S.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ut(M,!1)),Lx(M));return O.push(x.renderActiveDot(M,K,"".concat(I,"-activePoint-").concat(P))),C?O.push(x.renderActiveDot(M,oe(oe({},K),{},{cx:C.x,cy:C.y}),"".concat(I,"-basePoint-").concat(P))):E&&O.push(null),O}),at(N,"renderGraphicChild",function(_,S,k){var C=N.filterFormatItem(_,S,k);if(!C)return null;var P=N.getTooltipEventType(),E=N.state,O=E.isTooltipActive,I=E.tooltipAxis,T=E.activeTooltipIndex,M=E.activeLabel,V=N.props.children,K=bs(V,ja),A=C.props,R=A.points,G=A.isRange,Y=A.baseLine,F=C.item.type.defaultProps!==void 0?oe(oe({},C.item.type.defaultProps),C.item.props):C.item.props,X=F.activeDot,le=F.hide,he=F.activeBar,je=F.activeShape,ee=!!(!le&&O&&K&&(X||he||je)),we={};P!=="axis"&&K&&K.props.trigger==="click"?we={onClick:rv(N.handleItemMouseEnter,_.props.onClick)}:P!=="axis"&&(we={onMouseLeave:rv(N.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:rv(N.handleItemMouseEnter,_.props.onMouseEnter)});var ae=y.cloneElement(_,oe(oe({},C.props),we));function L(J){return typeof I.dataKey=="function"?I.dataKey(J.payload):null}if(ee)if(T>=0){var te,H;if(I.dataKey&&!I.allowDuplicatedCategory){var U=typeof I.dataKey=="function"?L:"payload.".concat(I.dataKey.toString());te=zN(R,U,M),H=G&&Y&&zN(Y,U,M)}else te=R==null?void 0:R[T],H=G&&Y&&Y[T];if(je||he){var me=_.props.activeIndex!==void 0?_.props.activeIndex:T;return[y.cloneElement(_,oe(oe(oe({},C.props),we),{},{activeIndex:me})),null,null]}if(!jt(te))return[ae].concat(af(N.renderActivePoints({item:C,activePoint:te,basePoint:H,childIndex:T,isRange:G})))}else{var He,Pe=(He=N.getItemByXY(N.state.activeCoordinate))!==null&&He!==void 0?He:{graphicalItem:ae},ht=Pe.graphicalItem,sr=ht.item,Ut=sr===void 0?_:sr,or=ht.childIndex,q=oe(oe(oe({},C.props),we),{},{activeIndex:or});return[y.cloneElement(Ut,q),null,null]}return G?[ae,null,null]:[ae,null]}),at(N,"renderCustomized",function(_,S,k){return y.cloneElement(_,oe(oe({key:"recharts-customized-".concat(k)},N.props),N.state))}),at(N,"renderMap",{CartesianGrid:{handler:ov,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:ov},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:ov},YAxis:{handler:ov},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((v=g.id)!==null&&v!==void 0?v:Zp("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=QB(N.triggeredAfterMouseMove,(j=g.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return kRe(x,w),jRe(x,[{key:"componentDidMount",value:function(){var v,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,j=v.children,N=v.data,_=v.height,S=v.layout,k=bs(j,ja);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,E=gS(this.state,N,C,P),O=this.state.tooltipTicks[C].coordinate,I=(this.state.offset.top+_)/2,T=S==="horizontal",M=T?{x:O,y:I}:{y:O,x:I},V=this.state.formattedGraphicalItems.find(function(A){var R=A.item;return R.type.name==="Scatter"});V&&(M=oe(oe({},M),V.props.points[C].tooltipPosition),E=V.props.points[C].tooltipPayload);var K={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:P,activePayload:E,activeCoordinate:M};this.setState(K),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var N,_;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(v){KN([bs(v.children,ja)],[bs(this.props.children,ja)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=bs(this.props.children,ja);if(v&&typeof v.props.shared=="boolean"){var j=v.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),_=L1e(N),S={chartX:Math.round(v.pageX-_.left),chartY:Math.round(v.pageY-_.top)},k=N.width/j.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,k);if(!C)return null;var P=this.state,E=P.xAxisMap,O=P.yAxisMap,I=this.getTooltipEventType(),T=KR(this.state,this.props.data,this.props.layout,C);if(I!=="axis"&&E&&O){var M=bo(E).scale,V=bo(O).scale,K=M&&M.invert?M.invert(S.chartX):null,A=V&&V.invert?V.invert(S.chartY):null;return oe(oe({},S),{},{xValue:K,yValue:A},T)}return T?oe(oe({},S),T):null}},{key:"inRange",value:function(v,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,S=v/N,k=j/N;if(_==="horizontal"||_==="vertical"){var C=this.state.offset,P=S>=C.left&&S<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return P?{x:S,y:k}:null}var E=this.state,O=E.angleAxisMap,I=E.radiusAxisMap;if(O&&I){var T=bo(O);return N4({x:S,y:k},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,j=this.getTooltipEventType(),N=bs(v,ja),_={};N&&j==="axis"&&(N.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Lx(this.props,this.handleOuterEvent);return oe(oe({},S),_)}},{key:"addListener",value:function(){Ij.on(Rj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ij.removeListener(Rj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,j,N){for(var _=this.state.formattedGraphicalItems,S=0,k=_.length;S<k;S++){var C=_[S];if(C.item===v||C.props.key===v.key||j===$i(C.item.type)&&N===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,j=this.state.offset,N=j.left,_=j.top,S=j.height,k=j.width;return D.createElement("defs",null,D.createElement("clipPath",{id:v},D.createElement("rect",{x:N,y:_,height:S,width:k})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(j,N){var _=qR(N,2),S=_[0],k=_[1];return oe(oe({},j),{},at({},S,k.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(j,N){var _=qR(N,2),S=_[0],k=_[1];return oe(oe({},j),{},at({},S,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[v])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(v){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[v])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(v){var j=this.state,N=j.formattedGraphicalItems,_=j.activeItem;if(N&&N.length)for(var S=0,k=N.length;S<k;S++){var C=N[S],P=C.props,E=C.item,O=E.type.defaultProps!==void 0?oe(oe({},E.type.defaultProps),E.props):E.props,I=$i(E.type);if(I==="Bar"){var T=(P.data||[]).find(function(A){return _Ee(v,A)});if(T)return{graphicalItem:C,payload:T}}else if(I==="RadialBar"){var M=(P.data||[]).find(function(A){return N4(v,A)});if(M)return{graphicalItem:C,payload:M}}else if(V0(C,_)||q0(C,_)||lp(C,_)){var V=fOe({graphicalItem:C,activeTooltipItem:_,itemData:O.data}),K=O.activeIndex===void 0?V:O.activeIndex;return{graphicalItem:oe(oe({},C),{},{childIndex:K}),payload:lp(C,_)?O.data[V]:C.props.data[V]}}}return null}},{key:"render",value:function(){var v=this;if(!hT(this))return null;var j=this.props,N=j.children,_=j.className,S=j.width,k=j.height,C=j.style,P=j.compact,E=j.title,O=j.desc,I=zR(j,pRe),T=ut(I,!1);if(P)return D.createElement(PR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(GN,Bu({},T,{width:S,height:k,title:E,desc:O}),this.renderClipPath(),pT(N,this.renderMap)));if(this.props.accessibilityLayer){var M,V;T.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,T.role=(V=this.props.role)!==null&&V!==void 0?V:"application",T.onKeyDown=function(A){v.accessibilityManager.keyboardEvent(A)},T.onFocus=function(){v.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return D.createElement(PR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Bu({className:xt("recharts-wrapper",_),style:oe({position:"relative",cursor:"default",width:S,height:k},C)},K,{ref:function(R){v.container=R}}),D.createElement(GN,Bu({},T,{width:S,height:k,title:E,desc:O,style:TRe}),this.renderClipPath(),pT(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);at(b,"displayName",r),at(b,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),at(b,"getDerivedStateFromProps",function(w,x){var g=w.dataKey,v=w.data,j=w.children,N=w.width,_=w.height,S=w.layout,k=w.stackOffset,C=w.margin,P=x.dataStartIndex,E=x.dataEndIndex;if(x.updateId===void 0){var O=HR(w);return oe(oe(oe({},O),{},{updateId:0},p(oe(oe({props:w},O),{},{updateId:0}),x)),{},{prevDataKey:g,prevData:v,prevWidth:N,prevHeight:_,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:j})}if(g!==x.prevDataKey||v!==x.prevData||N!==x.prevWidth||_!==x.prevHeight||S!==x.prevLayout||k!==x.prevStackOffset||!Xu(C,x.prevMargin)){var I=HR(w),T={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},M=oe(oe({},KR(x,v,S)),{},{updateId:x.updateId+1}),V=oe(oe(oe({},I),T),M);return oe(oe(oe({},V),p(oe({props:w},V),x)),{},{prevDataKey:g,prevData:v,prevWidth:N,prevHeight:_,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:j})}if(!KN(j,x.prevChildren)){var K,A,R,G,Y=bs(j,Yd),F=Y&&(K=(A=Y.props)===null||A===void 0?void 0:A.startIndex)!==null&&K!==void 0?K:P,X=Y&&(R=(G=Y.props)===null||G===void 0?void 0:G.endIndex)!==null&&R!==void 0?R:E,le=F!==P||X!==E,he=!jt(v),je=he&&!le?x.updateId:x.updateId+1;return oe(oe({updateId:je},p(oe(oe({props:w},x),{},{updateId:je,dataStartIndex:F,dataEndIndex:X}),x)),{},{prevChildren:j,dataStartIndex:F,dataEndIndex:X})}return null}),at(b,"renderActiveDot",function(w,x,g){var v;return y.isValidElement(w)?v=y.cloneElement(w,x):ft(w)?v=w(x):v=D.createElement(B2,x),D.createElement(Yt,{className:"recharts-active-dot",key:g},v)});var m=y.forwardRef(function(x,g){return D.createElement(b,Bu({},x,{ref:g}))});return m.displayName=b.displayName,m},VRe=y9({chartName:"BarChart",GraphicalChild:Fc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Q0},{axisType:"yAxis",AxisComp:Y0}],formatAxisMap:zTe}),qRe=y9({chartName:"PieChart",GraphicalChild:no,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:B0},{axisType:"radiusAxis",AxisComp:F0}],formatAxisMap:RCe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const lv={VERIFIED:"#22c55e",PENDING_VERIFICATION:"#eab308",PENDING_PAYMENT:"#6b7280",REJECTED:"#ef4444"};function zRe(){const{adminPath:e}=Rp(),t=`/${e}`,{data:r}=ce({queryKey:["/api/admin/facilities"]}),{data:n}=ce({queryKey:["/api/admin/announcements"]}),{data:a}=ce({queryKey:["/api/admin/gallery"]}),{data:i}=ce({queryKey:["/api/admin/pricing-tiers"]}),{data:o}=ce({queryKey:["/api/admin/careers"]}),{data:l}=ce({queryKey:["/api/admin/rules"]}),{data:c}=ce({queryKey:["/api/admin/bookings"]}),{data:u}=ce({queryKey:["/api/admin/users"]}),d=(c==null?void 0:c.filter(N=>N.paymentStatus==="PENDING_VERIFICATION").length)||0,f=(c==null?void 0:c.filter(N=>N.status==="CONFIRMED").length)||0,h=(c==null?void 0:c.filter(N=>N.paymentStatus==="VERIFIED").reduce((N,_)=>N+(_.totalPrice||0),0))||0,p=[{name:"Verified",value:(c==null?void 0:c.filter(N=>N.paymentStatus==="VERIFIED").length)||0,color:lv.VERIFIED},{name:"Pending Verification",value:(c==null?void 0:c.filter(N=>N.paymentStatus==="PENDING_VERIFICATION").length)||0,color:lv.PENDING_VERIFICATION},{name:"Awaiting Payment",value:(c==null?void 0:c.filter(N=>N.paymentStatus==="PENDING_PAYMENT").length)||0,color:lv.PENDING_PAYMENT},{name:"Rejected",value:(c==null?void 0:c.filter(N=>N.paymentStatus==="REJECTED").length)||0,color:lv.REJECTED}].filter(N=>N.value>0),b=(r==null?void 0:r.map(N=>({name:N.name.length>15?N.name.slice(0,12)+"...":N.name,fullName:N.name,bookings:(c==null?void 0:c.filter(_=>_.facilityId===N.id).length)||0,revenue:(c==null?void 0:c.filter(_=>_.facilityId===N.id&&_.paymentStatus==="VERIFIED").reduce((_,S)=>_+(S.totalPrice||0),0))||0})))||[],m=(c==null?void 0:c.slice().sort((N,_)=>{const S=new Date(`${N.date} ${N.startTime}`);return new Date(`${_.date} ${_.startTime}`).getTime()-S.getTime()}).slice(0,5))||[],w=[{label:"Total Bookings",value:(c==null?void 0:c.length)||0,icon:wr,color:"text-blue-500",bgColor:"bg-blue-500/10",trend:`${f} confirmed`},{label:"Pending Verification",value:d,icon:Kt,color:"text-amber-500",bgColor:"bg-amber-500/10",trend:d>0?"Action needed":"All clear"},{label:"Verified Revenue",value:`PKR ${h.toLocaleString()}`,icon:Y1,color:"text-green-500",bgColor:"bg-green-500/10",trend:`${(c==null?void 0:c.filter(N=>N.paymentStatus==="VERIFIED").length)||0} payments`},{label:"Total Users",value:(u==null?void 0:u.length)||0,icon:Er,color:"text-purple-500",bgColor:"bg-purple-500/10",trend:`${(u==null?void 0:u.filter(N=>N.role==="ADMIN"||N.role==="SUPER_ADMIN").length)||0} admins`}],x=[{label:"Facilities",value:(r==null?void 0:r.length)||0,icon:vn,color:"text-blue-500"},{label:"Pricing Tiers",value:(i==null?void 0:i.length)||0,icon:Y1,color:"text-green-500"},{label:"Announcements",value:(n==null?void 0:n.length)||0,icon:wd,color:"text-amber-500"},{label:"Career Listings",value:(o==null?void 0:o.length)||0,icon:fm,color:"text-purple-500"},{label:"Rules & Policies",value:(l==null?void 0:l.length)||0,icon:$a,color:"text-red-500"},{label:"Gallery Images",value:(a==null?void 0:a.length)||0,icon:Aa,color:"text-indigo-500"}],g=N=>{switch(N){case"VERIFIED":return s.jsx(ue,{className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return s.jsx(ue,{className:"bg-amber-500",children:"Pending"});case"REJECTED":return s.jsx(ue,{variant:"destructive",children:"Rejected"});default:return s.jsx(ue,{variant:"secondary",children:"Awaiting"})}},v=(N,_)=>N==="CONFIRMED"&&_==="VERIFIED"?s.jsx(ue,{className:"bg-green-600",children:"Confirmed"}):N==="CANCELLED"?s.jsx(ue,{variant:"destructive",children:"Cancelled"}):s.jsx(ue,{variant:"secondary",children:"Tentative"}),j=N=>{if(!N||!r)return"Unknown";const _=r.find(S=>S.id===N);return(_==null?void 0:_.name)||"Unknown"};return s.jsx(nt,{title:"Dashboard",children:s.jsxs("div",{className:"space-y-6",children:[d>0&&s.jsx(re,{className:"border-amber-500 bg-amber-50 dark:bg-amber-900/20","data-testid":"alert-pending-verification",children:s.jsxs(se,{className:"flex flex-wrap items-center gap-4 p-4",children:[s.jsx(zn,{className:"h-5 w-5 text-amber-600 shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"font-medium text-amber-800 dark:text-amber-200",children:[d," booking",d>1?"s":""," pending payment verification"]}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Review and verify payments to confirm bookings."})]}),s.jsx(fe,{href:`${t}/bookings`,children:s.jsxs($,{size:"sm",variant:"outline","data-testid":"button-view-pending",children:["View Pending ",s.jsx(na,{className:"w-4 h-4 ml-1"})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map(N=>{const _=N.icon;return s.jsx(re,{"data-testid":`card-stat-${N.label.toLowerCase().replace(/\s+/g,"-")}`,children:s.jsx(se,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:N.label}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:N.value}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[s.jsx(pG,{className:"w-3 h-3"}),N.trend]})]}),s.jsx("div",{className:`p-3 rounded-full ${N.bgColor}`,children:s.jsx(_,{className:`w-6 h-6 ${N.color}`})})]})})},N.label)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(re,{children:[s.jsxs(Ue,{children:[s.jsx(Ke,{className:"text-lg",children:"Bookings by Facility"}),s.jsx(kt,{children:"Total bookings and revenue per facility"})]}),s.jsx(se,{children:b.length>0?s.jsx("div",{className:"h-[300px]",children:s.jsx(fI,{width:"100%",height:"100%",children:s.jsxs(VRe,{data:b,margin:{top:10,right:10,left:-10,bottom:0},children:[s.jsx(s9,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Q0,{dataKey:"name",tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(Y0,{tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(ja,{formatter:(N,_)=>[_==="revenue"?`PKR ${N.toLocaleString()}`:N,_==="revenue"?"Revenue":"Bookings"],labelFormatter:N=>{const _=b.find(S=>S.name===N);return(_==null?void 0:_.fullName)||N},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(Fc,{dataKey:"bookings",fill:"#3b82f6",radius:[4,4,0,0],name:"Bookings"})]})})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No booking data available"})})]}),s.jsxs(re,{children:[s.jsxs(Ue,{children:[s.jsx(Ke,{className:"text-lg",children:"Payment Status Distribution"}),s.jsx(kt,{children:"Overview of payment statuses across all bookings"})]}),s.jsx(se,{children:p.length>0?s.jsx("div",{className:"h-[300px]",children:s.jsx(fI,{width:"100%",height:"100%",children:s.jsxs(qRe,{children:[s.jsx(no,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:p.map((N,_)=>s.jsx(_0,{fill:N.color},`cell-${_}`))}),s.jsx(ja,{formatter:N=>[N,"Bookings"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(rc,{})]})})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No payment data available"})})]})]}),s.jsxs(re,{children:[s.jsxs(Ue,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(Ke,{className:"text-lg",children:"Recent Bookings"}),s.jsx(kt,{children:"Latest booking activity"})]}),s.jsx(fe,{href:`${t}/bookings`,children:s.jsxs($,{variant:"outline",size:"sm","data-testid":"button-view-all-bookings",children:["View All ",s.jsx(na,{className:"w-4 h-4 ml-1"})]})})]}),s.jsx(se,{children:m.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Booking ID"}),s.jsx(de,{children:"Date / Time"}),s.jsx(de,{children:"Facility"}),s.jsx(de,{children:"Amount"}),s.jsx(de,{children:"Payment"}),s.jsx(de,{children:"Status"})]})}),s.jsx(Yr,{children:m.map(N=>{var _;return s.jsxs(st,{"data-testid":`row-recent-booking-${N.id}`,children:[s.jsxs(ie,{className:"font-mono text-xs",children:[N.id.slice(0,8),"..."]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-sm font-medium",children:N.date}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[N.startTime," - ",N.endTime]})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-sm",children:j(N.facilityId)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",N.resourceId]})]}),s.jsx(ie,{children:s.jsxs("span",{className:"font-medium",children:["PKR ",((_=N.totalPrice)==null?void 0:_.toLocaleString())||0]})}),s.jsx(ie,{children:g(N.paymentStatus)}),s.jsx(ie,{children:v(N.status,N.paymentStatus)})]},N.id)})})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings yet"})})]}),s.jsxs(re,{children:[s.jsxs(Ue,{children:[s.jsx(Ke,{className:"text-lg",children:"Content Overview"}),s.jsx(kt,{children:"Quick stats on website content managed through the admin panel"})]}),s.jsx(se,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:x.map(N=>{const _=N.icon;return s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50","data-testid":`stat-${N.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(_,{className:`w-8 h-8 mx-auto mb-2 ${N.color}`}),s.jsx("p",{className:"text-2xl font-bold",children:N.value}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N.label})]},N.label)})})})]})]})})}var J0="Switch",[WRe]=Cn(J0),[KRe,HRe]=WRe(J0),b9=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=y.useState(null),b=dt(t,v=>p(v)),m=y.useRef(!1),w=h?d||!!h.closest("form"):!0,[x,g]=hs({prop:a,defaultProp:i??!1,onChange:u,caller:J0});return s.jsxs(KRe,{scope:r,checked:x,disabled:l,children:[s.jsx(Me.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":_9(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:Ne(e.onClick,v=>{g(j=>!j),w&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})}),w&&s.jsx(N9,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});b9.displayName=J0;var w9="SwitchThumb",j9=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=HRe(w9,r);return s.jsx(Me.span,{"data-state":_9(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});j9.displayName=w9;var GRe="SwitchBubbleInput",N9=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=y.useRef(null),l=dt(o,i),c=MC(r),u=Rk(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const b=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(b)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});N9.displayName=GRe;function _9(e){return e?"checked":"unchecked"}var S9=b9,QRe=j9;const Wt=y.forwardRef(({className:e,...t},r)=>s.jsx(S9,{className:ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(QRe,{className:ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Wt.displayName=S9.displayName;const Mj={hero:{title:"Hero Section",description:"The main banner section at the top of the homepage.",fields:[{key:"hero_eyebrow",label:"Eyebrow Text",type:"text",placeholder:"Target Launch: Q4 2026"},{key:"hero_title",label:"Main Title",type:"textarea",placeholder:"A bright, premium multi-sport arena..."},{key:"hero_subtitle",label:"Subtitle",type:"textarea",placeholder:"The Quarterdeck brings state-of-the-art..."},{key:"hero_launch_date",label:"Launch Date (for countdown)",type:"date"},{key:"hero_cta_1",label:"Primary Button Text",type:"text",placeholder:"Explore Facilities"},{key:"hero_cta_2",label:"Secondary Button Text",type:"text",placeholder:"View Site Updates"},{key:"hero_status_active",label:"Status Badge 1",type:"text",placeholder:"Construction Active"},{key:"hero_status_updates",label:"Status Badge 2",type:"text",placeholder:"Transparent progress updates"},{key:"hero_status_booking",label:"Status Badge 3",type:"text",placeholder:"Early booking & waitlists planned"}]},about:{title:"About Section",description:"Information about The Quarterdeck's vision and team.",fields:[{key:"about_title",label:"Section Title",type:"text",placeholder:"About The Quarterdeck"},{key:"about_subtitle",label:"Section Subtitle",type:"textarea",placeholder:"Our core vision..."},{key:"about_vision_title",label:"Vision Card Title",type:"text",placeholder:"Vision & Philosophy"},{key:"about_vision_content",label:"Vision Content",type:"textarea",placeholder:"The Quarterdeck is born from..."},{key:"about_vision_content_2",label:"Vision Content (Paragraph 2)",type:"textarea"},{key:"about_tags",label:"Keyword Tags (comma-separated)",type:"text",placeholder:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly"},{key:"about_team_title",label:"Team Card Title",type:"text",placeholder:"The Project Team"},{key:"about_team_content",label:"Team Content",type:"textarea"},{key:"about_team_credits",label:"Team Credits (pipe-separated)",type:"textarea",placeholder:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation"}]},facilities:{title:"Facilities Section",description:"Overview of available sports facilities.",fields:[{key:"facilities_title",label:"Section Title",type:"text",placeholder:"World-Class Facilities"},{key:"facilities_subtitle",label:"Section Subtitle",type:"textarea"},{key:"facilities_cta",label:"CTA Button Text",type:"text",placeholder:"Check Court Availability"}]},membership:{title:"Membership Section",description:"Membership options and benefits.",fields:[{key:"membership_title",label:"Section Title",type:"text",placeholder:"Membership Options"},{key:"membership_subtitle",label:"Section Subtitle",type:"textarea"},{key:"membership_cta",label:"CTA Button Text",type:"text",placeholder:"Explore Membership"}]},contact:{title:"Contact Information",description:"Contact details displayed across the site.",fields:[{key:"contact_title",label:"Section Title",type:"text",placeholder:"Get In Touch"},{key:"contact_subtitle",label:"Section Subtitle",type:"textarea"},{key:"contact_email",label:"Email Address",type:"email",placeholder:"info@thequarterdeck.pk"},{key:"contact_phone",label:"Phone Number",type:"text",placeholder:"+92 51 1234567"},{key:"contact_address",label:"Physical Address",type:"textarea"},{key:"contact_hours",label:"Operating Hours",type:"text"}]},updates:{title:"Updates Section",description:"Construction updates and progress section.",fields:[{key:"updates_title",label:"Section Title",type:"text",placeholder:"Construction Updates"},{key:"updates_subtitle",label:"Section Subtitle",type:"textarea"},{key:"updates_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Roadmap"}]},gallery:{title:"Gallery Section",description:"Progress photos and renders section.",fields:[{key:"gallery_title",label:"Section Title",type:"text",placeholder:"Gallery & Progress Photos"},{key:"gallery_subtitle",label:"Section Subtitle",type:"textarea"},{key:"gallery_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Gallery"}]},careers:{title:"Careers Page",description:"Content for the careers/jobs section.",fields:[{key:"careers_title",label:"Page Title",type:"text",placeholder:"Join Our Team"},{key:"careers_subtitle",label:"Page Subtitle",type:"textarea"},{key:"careers_cta",label:"CTA Button Text",type:"text",placeholder:"View Open Positions"}]},rules:{title:"Rules Page",description:"Club rules and etiquette content.",fields:[{key:"rules_title",label:"Page Title",type:"text",placeholder:"Club Rules & Etiquette"},{key:"rules_subtitle",label:"Page Subtitle",type:"textarea"},{key:"rules_cta",label:"CTA Button Text",type:"text",placeholder:"View All Rules"}]},events:{title:"Events Page",description:"Content for events and programs section.",fields:[{key:"events_title",label:"Page Title",type:"text",placeholder:"Events & Programs"},{key:"events_subtitle",label:"Page Subtitle",type:"textarea"}]},leaderboard:{title:"Leaderboard Page",description:"Content for the leaderboard section.",fields:[{key:"leaderboard_title",label:"Page Title",type:"text",placeholder:"Leaderboard"},{key:"leaderboard_subtitle",label:"Page Subtitle",type:"textarea"}]},coming_soon:{title:"Coming Soon Page",description:"Content for the pre-launch Coming Soon page.",fields:[{key:"coming_soon_title",label:"Page Title",type:"text",placeholder:"Something Amazing Is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",type:"textarea"},{key:"coming_soon_description",label:"Description",type:"textarea"},{key:"coming_soon_cta",label:"CTA Button Text",type:"text",placeholder:"Join the Waitlist"},{key:"coming_soon_launch_date",label:"Launch Date",type:"date"},{key:"coming_soon_location",label:"Location Text",type:"text"}]},social:{title:"Social Media Links",description:"Social media profile URLs.",fields:[{key:"social_facebook",label:"Facebook URL",type:"text"},{key:"social_instagram",label:"Instagram URL",type:"text"},{key:"social_twitter",label:"Twitter/X URL",type:"text"},{key:"social_linkedin",label:"LinkedIn URL",type:"text"},{key:"social_youtube",label:"YouTube URL",type:"text"}]},footer:{title:"Footer Content",description:"Footer text and copyright information.",fields:[{key:"footer_tagline",label:"Tagline",type:"text"},{key:"footer_copyright",label:"Copyright Text",type:"text"},{key:"footer_disclaimer",label:"Disclaimer Text",type:"textarea"}]},visibility:{title:"Section Visibility & Order",description:"Control which sections are displayed on the homepage and their display order.",fields:[]}},YRe=[{key:"section_about_visible",orderKey:"section_about_order",label:"About Section",description:"Vision, philosophy and team info",defaultOrder:1},{key:"section_facilities_visible",orderKey:"section_facilities_order",label:"Facilities Section",description:"Sports facility cards",defaultOrder:2},{key:"section_updates_visible",orderKey:"section_updates_order",label:"Construction Updates",description:"Progress timeline and milestones",defaultOrder:3},{key:"section_gallery_visible",orderKey:"section_gallery_order",label:"Gallery Section",description:"Photo gallery preview",defaultOrder:4},{key:"section_membership_visible",orderKey:"section_membership_order",label:"Membership Section",description:"Membership tiers and pricing",defaultOrder:5},{key:"section_rules_visible",orderKey:"section_rules_order",label:"Rules Section",description:"Club rules and safety",defaultOrder:6},{key:"section_careers_visible",orderKey:"section_careers_order",label:"Careers Section",description:"Job openings preview",defaultOrder:7}];function XRe(){const{toast:e}=gt(),[t,r]=y.useState({}),[n,a]=y.useState(new Set),[i,o]=y.useState(new Set),{data:l,isLoading:c}=ce({queryKey:["/api/admin/cms"]});y.useEffect(()=>{if(l){const g={};l.forEach(v=>{g[v.key]=v.content||""}),r(v=>({...g,...v}))}},[l]);const u=xe({mutationFn:async g=>await ve("POST","/api/admin/cms",{key:g.key,title:g.title,content:g.content}),onSuccess:(g,v)=>{Z.invalidateQueries({queryKey:["/api/admin/cms"]}),Z.invalidateQueries({queryKey:["/api/cms/bulk"]}),a(j=>{const N=new Set(j);return N.delete(v.key),N}),o(j=>new Set(j).add(v.key)),setTimeout(()=>{o(j=>{const N=new Set(j);return N.delete(v.key),N})},2e3),e({title:"Content saved successfully"})},onError:(g,v)=>{a(j=>{const N=new Set(j);return N.delete(v.key),N}),e({title:"Failed to save content",variant:"destructive"})}}),d=g=>{const v=l==null?void 0:l.find(j=>j.key===g);return(v==null?void 0:v.content)??void 0},f=g=>Ee[g]||"",h=g=>{const v=d(g);return v!==void 0&&v!==""},p=g=>{const v=d(g)||"",j=t[g];return j!==void 0&&j!==v},b=(g,v)=>{r(j=>({...j,[g]:v}))},m=(g,v)=>{const j=t[g]??d(g)??"";a(N=>new Set(N).add(g)),u.mutate({key:g,content:j,title:v})},w=g=>{Mj[g].fields.forEach(j=>{((t[j.key]??d(j.key)??"")||p(j.key))&&m(j.key,j.label)})},x=g=>{const v=f(g);r(j=>({...j,[g]:v}))};return c?s.jsx(nt,{title:"Site Content",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"Site Content",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsx(Ke,{children:"Edit Site Content"})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(UE,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Saved in database"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($a,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-sm",children:"Using default value"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zn,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Unsaved changes"})]})]}),s.jsxs(sa,{defaultValue:"hero",className:"w-full",children:[s.jsx(Rs,{className:"flex flex-wrap h-auto gap-1 mb-6",children:Object.entries(Mj).map(([g,v])=>s.jsx(Bt,{value:g,className:"text-xs","data-testid":`tab-${g}`,children:v.title},g))}),Object.entries(Mj).map(([g,v])=>s.jsxs(Vt,{value:g,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:v.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]}),g!=="visibility"&&s.jsxs($,{variant:"outline",onClick:()=>w(g),"data-testid":`button-save-all-${g}`,children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Save All Changes"]})]}),g==="visibility"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Toggle sections on or off and set their display order on the homepage. Lower numbers appear first. Changes are saved automatically."}),YRe.slice().sort((j,N)=>{const _=parseInt(t[j.orderKey]??d(j.orderKey)??String(j.defaultOrder),10),S=parseInt(t[N.orderKey]??d(N.orderKey)??String(N.defaultOrder),10);return _-S}).map(j=>{const N=d(j.key),_=(t[j.key]??N??"true").toLowerCase()==="true",S=n.has(j.key)||n.has(j.orderKey),k=i.has(j.key)||i.has(j.orderKey),C=t[j.orderKey]??d(j.orderKey)??String(j.defaultOrder);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[_?s.jsx(Is,{className:"w-5 h-5 text-green-600 shrink-0"}):s.jsx(Vi,{className:"w-5 h-5 text-muted-foreground shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx(B,{htmlFor:j.key,className:"font-medium cursor-pointer",children:j.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:j.description})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{htmlFor:j.orderKey,className:"text-xs text-muted-foreground whitespace-nowrap",children:"Order:"}),s.jsx(Q,{id:j.orderKey,type:"number",min:"1",max:"10",className:"w-16 text-center",value:C,onChange:P=>{const E=P.target.value;r(O=>({...O,[j.orderKey]:E}))},onBlur:()=>{const P=t[j.orderKey]??String(j.defaultOrder);a(E=>new Set(E).add(j.orderKey)),u.mutate({key:j.orderKey,content:P,title:`${j.label} Order`})},"data-testid":`input-${j.orderKey}`})]}),k&&s.jsxs(ue,{className:"bg-green-500 text-xs",children:[s.jsx(hm,{className:"w-3 h-3 mr-1"}),"Saved"]}),S&&s.jsx(Re,{className:"w-4 h-4 animate-spin"}),s.jsx(Wt,{id:j.key,checked:_,onCheckedChange:P=>{const E=P?"true":"false";r(O=>({...O,[j.key]:E})),a(O=>new Set(O).add(j.key)),u.mutate({key:j.key,content:E,title:j.label})},disabled:S,"data-testid":`toggle-${j.key}`})]})]},j.key)})]}):s.jsx("div",{className:"space-y-6",children:v.fields.map(j=>{const N=d(j.key),_=f(j.key),S=t[j.key]??N??"",k=h(j.key),C=p(j.key);return s.jsxs("div",{className:"space-y-2 p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{htmlFor:j.key,className:"font-medium",children:j.label}),i.has(j.key)?s.jsxs(ue,{className:"bg-green-500 text-xs",children:[s.jsx(hm,{className:"w-3 h-3 mr-1"}),"Saved"]}):C?s.jsxs(ue,{variant:"outline",className:"text-blue-600 border-blue-600 text-xs",children:[s.jsx(zn,{className:"w-3 h-3 mr-1"}),"Unsaved"]}):k?s.jsxs(ue,{variant:"outline",className:"text-green-600 border-green-600 text-xs",children:[s.jsx(UE,{className:"w-3 h-3 mr-1"}),"Database"]}):_?s.jsxs(ue,{variant:"outline",className:"text-amber-600 border-amber-600 text-xs",children:[s.jsx($a,{className:"w-3 h-3 mr-1"}),"Default"]}):null]}),s.jsxs("div",{className:"flex items-center gap-1",children:[_&&!k&&s.jsx($,{size:"sm",variant:"ghost",onClick:()=>x(j.key),className:"text-xs",title:"Use default value",children:"Reset"}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>m(j.key,j.label),disabled:n.has(j.key),"data-testid":`button-save-${j.key}`,children:n.has(j.key)?s.jsx(Re,{className:"w-4 h-4 animate-spin"}):s.jsx(er,{className:"w-4 h-4"})})]})]}),_&&!k&&s.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded border-l-2 border-amber-500",children:[s.jsx("span",{className:"font-medium",children:"Currently showing on website: "}),s.jsx("span",{className:"italic",children:_.length>150?_.substring(0,150)+"...":_})]}),j.type==="textarea"?s.jsx(lt,{id:j.key,value:S,onChange:P=>b(j.key,P.target.value),placeholder:j.placeholder||_||"Enter content...",rows:4,className:C?"border-blue-500":"","data-testid":`input-${j.key}`}):s.jsx(Q,{id:j.key,type:j.type==="date"?"date":j.type==="email"?"email":"text",value:S,onChange:P=>b(j.key,P.target.value),placeholder:j.placeholder||_||"Enter content...",className:C?"border-blue-500":"","data-testid":`input-${j.key}`})]},j.key)})})]},g))]})]})]})})})}const QR=[{key:"coming_soon_launch_date",label:"Launch Date",description:"The countdown timer on the Coming Soon page counts down to this date",type:"date",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_launch_date||"2025-12-25"},{key:"coming_soon_title",label:"Main Title",description:"The large heading on the Coming Soon page",type:"text",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_title||"Something Extraordinary is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",description:"The description text below the main title",type:"textarea",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_subtitle||"Premium sports and recreation complex launching soon in Islamabad"},{key:"coming_soon_location",label:"Location",description:"The location displayed at the bottom of the page",type:"text",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_location||"Sector F-7, Islamabad"},{key:"hero_eyebrow",label:"Launch Badge Text",description:"The small badge text shown above the countdown (e.g., 'Target Launch: Q4 2025')",type:"text",pageRef:"/coming-soon",defaultValue:Ee.hero_eyebrow||"Target Launch: Q4 2025"}];function JRe(){const{toast:e}=gt(),[t,r]=y.useState({}),[n,a]=y.useState(new Set),{data:i,isLoading:o}=ce({queryKey:["/api/cms"]}),{data:l,isLoading:c}=ce({queryKey:["/api/admin/site-settings"]});y.useEffect(()=>{if(!o&&!c){const x={};QR.forEach(g=>{const v=i==null?void 0:i.find(N=>N.key===g.key),j=l==null?void 0:l.find(N=>N.key===g.key);x[g.key]=(v==null?void 0:v.content)||(j==null?void 0:j.value)||g.defaultValue}),r(x)}},[i,l,o,c]);const u=xe({mutationFn:async({key:x,value:g})=>await ve("POST","/api/admin/cms",{key:x,content:g}),onSuccess:(x,g)=>{Z.invalidateQueries({queryKey:["/api/cms"]}),Z.invalidateQueries({queryKey:["/api/cms/bulk"]}),Z.invalidateQueries({queryKey:["/api/admin/site-settings"]}),a(v=>{const j=new Set(v);return j.delete(g.key),j}),e({title:"Setting saved successfully"})},onError:()=>{e({title:"Failed to save setting",variant:"destructive"})}}),d=(x,g)=>{r(v=>({...v,[x]:g})),a(v=>new Set(v).add(x))},f=x=>{u.mutate({key:x,value:t[x]})},h=async()=>{const x=Array.from(n).map(g=>ve("POST","/api/admin/cms",{key:g,content:t[g]}));try{await Promise.all(x),Z.invalidateQueries({queryKey:["/api/cms"]}),Z.invalidateQueries({queryKey:["/api/cms/bulk"]}),Z.invalidateQueries({queryKey:["/api/admin/site-settings"]}),a(new Set),e({title:"All changes saved successfully"})}catch{e({title:"Failed to save some settings",variant:"destructive"})}},p=x=>{if(n.has(x))return"edited";const g=i==null?void 0:i.find(j=>j.key===x),v=l==null?void 0:l.find(j=>j.key===x);return g||v?"database":"default"},b=x=>{switch(x){case"database":return s.jsx(ue,{className:"bg-green-500 text-xs",children:"From Database"});case"edited":return s.jsx(ue,{className:"bg-amber-500 text-xs",children:"Edited (Unsaved)"});default:return s.jsx(ue,{variant:"secondary",className:"text-xs",children:"Using Default"})}},m=t.coming_soon_launch_date?new Date(t.coming_soon_launch_date):new Date("2025-12-25"),w=Ate(m,new Date);return o||c?s.jsx(nt,{title:"Coming Soon Page",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Coming Soon Page",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage the Coming Soon page content and countdown timer."}),s.jsxs("a",{href:"/coming-soon",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[s.jsx(Is,{className:"w-3 h-3"})," View Coming Soon Page",s.jsx(hc,{className:"w-3 h-3"})]})]}),n.size>0&&s.jsxs($,{onClick:h,"data-testid":"button-save-all-coming-soon",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Save All Changes (",n.size,")"]})]}),s.jsxs(re,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Ue,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"w-5 h-5"}),"Countdown Status"]}),s.jsx(kt,{children:"Current countdown configuration"})]}),s.jsx(se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:w}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Until Launch"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-xl font-semibold",children:Yn(m,"MMMM d, yyyy")}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Launch Date"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-xl font-semibold",children:w>0?"Counting Down":"Launched!"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]})]})})]}),s.jsx("div",{className:"grid gap-6",children:QR.map(x=>{const g=p(x.key);return s.jsxs(re,{children:[s.jsx(Ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsxs(Ke,{className:"text-base flex items-center gap-2",children:[x.label,b(g)]}),s.jsx(kt,{className:"mt-1",children:x.description})]}),s.jsxs("a",{href:x.pageRef,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary flex items-center gap-1 hover:underline whitespace-nowrap",children:["View on site ",s.jsx(hc,{className:"w-3 h-3"})]})]})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex gap-3",children:[x.type==="textarea"?s.jsx(lt,{value:t[x.key]||"",onChange:v=>d(x.key,v.target.value),rows:3,className:"flex-1","data-testid":`input-${x.key}`}):x.type==="date"?s.jsx(Q,{type:"date",value:t[x.key]||"",onChange:v=>d(x.key,v.target.value),className:"flex-1","data-testid":`input-${x.key}`}):s.jsx(Q,{value:t[x.key]||"",onChange:v=>d(x.key,v.target.value),className:"flex-1","data-testid":`input-${x.key}`}),s.jsx($,{variant:"outline",onClick:()=>f(x.key),disabled:!n.has(x.key)||u.isPending,"data-testid":`button-save-${x.key}`,children:s.jsx(er,{className:"w-4 h-4"})})]}),x.key==="coming_soon_launch_date"&&t[x.key]&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Formatted: ",Yn(new Date(t[x.key]),"EEEE, MMMM d, yyyy")]})]})]},x.key)})})]})})}function ZRe(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState("details"),[l,c]=y.useState(!1),[u,d]=y.useState(null),f=y.useRef(null),[h,p]=y.useState({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:"",aboutContent:"",features:[],amenities:[],keywords:[],quickInfo:{},pricingNotes:"",certificationInfo:"",galleryImages:[],howToPlayContent:"",scoringRulesContent:"",winningCriteriaContent:"",pointsSystemContent:""}),[b,m]=y.useState({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""}),[w,x]=y.useState({label:"",price:0,icon:""}),[g,v]=y.useState(null),{data:j,isLoading:N}=ce({queryKey:["/api/admin/facilities"]}),{data:_}=ce({queryKey:["/api/admin/venues"]}),{data:S,refetch:k}=ce({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"venues"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const U=await fetch(`/api/admin/facilities/${t.id}/venues`,{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch");return U.json()},enabled:!!(t!=null&&t.id)}),{data:C,refetch:P}=ce({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"addons"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const U=await fetch(`/api/admin/facilities/${t.id}/addons`,{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch");return U.json()},enabled:!!(t!=null&&t.id)}),E=xe({mutationFn:async U=>await ve("POST","/api/admin/facilities",U),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility created successfully"}),a(!1),G()},onError:()=>{e({title:"Failed to create facility",variant:"destructive"})}}),O=xe({mutationFn:async({id:U,data:me})=>await ve("PATCH",`/api/admin/facilities/${U}`,me),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility updated successfully"}),a(!1),r(null),G()},onError:()=>{e({title:"Failed to update facility",variant:"destructive"})}}),I=xe({mutationFn:async U=>await ve("DELETE",`/api/admin/facilities/${U}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility deleted successfully"})},onError:()=>{e({title:"Failed to delete facility",variant:"destructive"})}}),T=xe({mutationFn:async U=>await ve("POST",`/api/admin/facilities/${U.facilityId}/venues`,U),onSuccess:()=>{k(),e({title:"Venue added to facility"}),F()},onError:()=>{e({title:"Failed to add venue",variant:"destructive"})}}),M=xe({mutationFn:async({id:U,data:me})=>await ve("PATCH",`/api/admin/facility-venues/${U}`,me),onSuccess:()=>{k(),e({title:"Venue settings updated"})},onError:()=>{e({title:"Failed to update venue settings",variant:"destructive"})}}),V=xe({mutationFn:async U=>await ve("DELETE",`/api/admin/facility-venues/${U}`),onSuccess:()=>{k(),e({title:"Venue removed from facility"})},onError:()=>{e({title:"Failed to remove venue",variant:"destructive"})}}),K=xe({mutationFn:async U=>await ve("POST",`/api/admin/facilities/${U.facilityId}/addons`,U),onSuccess:()=>{P(),e({title:"Add-on created successfully"}),X()},onError:()=>{e({title:"Failed to create add-on",variant:"destructive"})}}),A=xe({mutationFn:async({id:U,data:me})=>await ve("PATCH",`/api/admin/facility-addons/${U}`,me),onSuccess:()=>{P(),e({title:"Add-on updated successfully"}),X()},onError:()=>{e({title:"Failed to update add-on",variant:"destructive"})}}),R=xe({mutationFn:async U=>await ve("DELETE",`/api/admin/facility-addons/${U}`),onSuccess:()=>{P(),e({title:"Add-on deleted successfully"})},onError:()=>{e({title:"Failed to delete add-on",variant:"destructive"})}}),G=()=>{p({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:"",aboutContent:"",features:[],amenities:[],keywords:[],quickInfo:{},pricingNotes:"",certificationInfo:"",galleryImages:[],howToPlayContent:"",scoringRulesContent:"",winningCriteriaContent:"",pointsSystemContent:""}),o("details"),d(null),f.current&&(f.current.value="")},Y=async U=>{var He;const me=(He=U.target.files)==null?void 0:He[0];if(me){if(!["image/jpeg","image/png","image/webp"].includes(me.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(me.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const Pe=new FormData;Pe.append("image",me);const ht=await fetch("/api/admin/upload",{method:"POST",body:Pe,credentials:"include"});if(!ht.ok){let Ut="Upload failed";try{Ut=(await ht.json()).message||Ut}catch{Ut=ht.statusText||Ut}throw new Error(Ut)}const sr=await ht.json();d({name:me.name,url:sr.imageUrl}),p(Ut=>({...Ut,imageUrl:sr.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(Pe){e({title:"Upload failed",description:Pe.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1)}}},F=()=>{m({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""})},X=()=>{x({label:"",price:0,icon:""}),v(null)},le=()=>{t&&(g?A.mutate({id:g.id,data:w}):K.mutate({facilityId:t.id,...w}))},he=U=>{v(U),x({label:U.label,price:U.price,icon:U.icon||""})},je=U=>{r(U),p({slug:U.slug,name:U.name,description:U.description||"",category:U.category||"",basePrice:U.basePrice,minPlayers:U.minPlayers||1,resourceCount:U.resourceCount||1,requiresCertification:U.requiresCertification||!1,isRestricted:U.isRestricted||!1,isHidden:U.isHidden||!1,status:U.status||"PLANNED",imageUrl:U.imageUrl||"",aboutContent:U.aboutContent||"",features:U.features||[],amenities:U.amenities||[],keywords:U.keywords||[],quickInfo:typeof U.quickInfo=="object"&&!Array.isArray(U.quickInfo)?U.quickInfo:{},pricingNotes:U.pricingNotes||"",certificationInfo:U.certificationInfo||"",galleryImages:U.galleryImages||[],howToPlayContent:U.howToPlayContent||"",scoringRulesContent:U.scoringRulesContent||"",winningCriteriaContent:U.winningCriteriaContent||"",pointsSystemContent:U.pointsSystemContent||""}),o("details"),a(!0)},ee=()=>{t?O.mutate({id:t.id,data:h}):E.mutate(h)},we=()=>{!t||!b.venueId||T.mutate({facilityId:t.id,venueId:b.venueId,status:b.status,resourceCount:b.resourceCount,priceOverride:b.priceOverride?parseInt(b.priceOverride):null})},ae=U=>{switch(U){case"ACTIVE":return s.jsx(ue,{className:"bg-green-500",children:"Active"});case"OPENING_SOON":return s.jsx(ue,{className:"bg-amber-500",children:"Opening Soon"});case"COMING_SOON":return s.jsx(ue,{className:"bg-amber-500",children:"Coming Soon"});case"PLANNED":default:return s.jsx(ue,{variant:"secondary",children:"Planned"})}},L=U=>{const me=_==null?void 0:_.find(He=>He.id===U);return(me==null?void 0:me.name)||"Unknown Venue"},te=(S==null?void 0:S.map(U=>U.venueId))||[],H=(_==null?void 0:_.filter(U=>!te.includes(U.id)))||[];return N?s.jsx(nt,{title:"Facilities",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Facilities",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage facilities available for booking at The Quarterdeck."}),s.jsxs(It,{open:n,onOpenChange:U=>{a(U),U||(r(null),G())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-facility",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Facility"]})}),s.jsxs(Et,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:t?"Edit Facility":"Add New Facility"})}),s.jsxs(sa,{value:i,onValueChange:o,children:[s.jsxs(Rs,{className:"grid w-full grid-cols-4",children:[s.jsxs(Bt,{value:"details",className:"flex items-center gap-2",children:[s.jsx(zH,{className:"w-4 h-4"}),"Details"]}),s.jsxs(Bt,{value:"content",className:"flex items-center gap-2",children:[s.jsx($a,{className:"w-4 h-4"}),"Content"]}),s.jsxs(Bt,{value:"venues",className:"flex items-center gap-2",disabled:!t,children:[s.jsx(ms,{className:"w-4 h-4"}),"Venues",!t&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]}),s.jsxs(Bt,{value:"addons",className:"flex items-center gap-2",disabled:!t,children:[s.jsx(iG,{className:"w-4 h-4"}),"Add-ons",!t&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]})]}),s.jsxs(Vt,{value:"details",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"name",children:"Name"}),s.jsx(Q,{id:"name",value:h.name,onChange:U=>p({...h,name:U.target.value}),"data-testid":"input-facility-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),s.jsx(Q,{id:"slug",value:h.slug,onChange:U=>p({...h,slug:U.target.value}),"data-testid":"input-facility-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:h.description,onChange:U=>p({...h,description:U.target.value}),rows:3,"data-testid":"input-facility-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"category",children:"Category"}),s.jsx(Q,{id:"category",value:h.category,onChange:U=>p({...h,category:U.target.value}),placeholder:"e.g., Indoor Court, Precision Sport","data-testid":"input-facility-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"status",children:"Default Status"}),s.jsxs(Ct,{value:h.status,onValueChange:U=>p({...h,status:U}),children:[s.jsx(Nt,{"data-testid":"select-facility-status",children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"PLANNED",children:"Planned"}),s.jsx(Oe,{value:"OPENING_SOON",children:"Opening Soon"}),s.jsx(Oe,{value:"ACTIVE",children:"Active"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"basePrice",children:"Base Price (PKR)"}),s.jsx(Q,{id:"basePrice",type:"number",value:h.basePrice,onChange:U=>p({...h,basePrice:parseInt(U.target.value)||0}),"data-testid":"input-facility-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"minPlayers",children:"Min Players"}),s.jsx(Q,{id:"minPlayers",type:"number",value:h.minPlayers,onChange:U=>p({...h,minPlayers:parseInt(U.target.value)||1}),"data-testid":"input-facility-min-players"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"resourceCount",children:"Default Resource Count"}),s.jsx(Q,{id:"resourceCount",type:"number",value:h.resourceCount,onChange:U=>p({...h,resourceCount:parseInt(U.target.value)||1}),"data-testid":"input-facility-resource-count"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Facility Image"}),s.jsxs("div",{className:"border rounded-md p-3 space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:Y,className:"hidden","data-testid":"input-facility-image-file"}),s.jsx($,{type:"button",variant:"outline",size:"sm",onClick:()=>{var U;return(U=f.current)==null?void 0:U.click()},disabled:l,"data-testid":"button-upload-facility-image",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Upload"]})}),s.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"or"}),s.jsx(Q,{id:"imageUrl",value:h.imageUrl,onChange:U=>p({...h,imageUrl:U.target.value}),placeholder:"Enter image URL...",className:"flex-1","data-testid":"input-facility-image-url"})]}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(xn,{className:"w-4 h-4"}),u.name]}),h.imageUrl&&s.jsx("div",{className:"rounded-md border overflow-hidden",children:s.jsx("img",{src:h.imageUrl,alt:"Preview",className:"w-full h-24 object-cover",onError:U=>{U.target.style.display="none"}})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"requiresCertification",checked:h.requiresCertification,onCheckedChange:U=>p({...h,requiresCertification:U})}),s.jsx(B,{htmlFor:"requiresCertification",children:"Requires Certification"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isRestricted",checked:h.isRestricted,onCheckedChange:U=>p({...h,isRestricted:U})}),s.jsx(B,{htmlFor:"isRestricted",children:"Restricted Access"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isHidden",checked:h.isHidden,onCheckedChange:U=>p({...h,isHidden:U}),"data-testid":"switch-is-hidden"}),s.jsx(B,{htmlFor:"isHidden",children:"Hide from Public"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:ee,disabled:E.isPending||O.isPending,"data-testid":"button-save-facility",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),s.jsxs(Vt,{value:"content",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"aboutContent",children:"About / Extended Description"}),s.jsx(lt,{id:"aboutContent",value:h.aboutContent,onChange:U=>p({...h,aboutContent:U.target.value}),placeholder:"Detailed information about the facility...",rows:4,"data-testid":"input-about-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Features (one per line)"}),s.jsx(lt,{value:h.features.join(`
`),onChange:U=>p({...h,features:U.target.value.split(`
`).filter(me=>me.trim())}),placeholder:`Professional lighting
Climate controlled
Premium equipment`,rows:4,"data-testid":"input-features"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each feature on a new line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Amenities (one per line)"}),s.jsx(lt,{value:h.amenities.join(`
`),onChange:U=>p({...h,amenities:U.target.value.split(`
`).filter(me=>me.trim())}),placeholder:`Changing rooms
Shower facilities
Equipment rental`,rows:4,"data-testid":"input-amenities"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each amenity on a new line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Keywords (comma-separated)"}),s.jsx(Q,{value:h.keywords.join(", "),onChange:U=>p({...h,keywords:U.target.value.split(",").map(me=>me.trim()).filter(me=>me)}),placeholder:"padel, tennis, racquet sports, indoor","data-testid":"input-keywords"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for SEO and search"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Quick Info (key: value pairs, one per line)"}),s.jsx(lt,{value:Object.entries(h.quickInfo).map(([U,me])=>`${U}: ${me}`).join(`
`),onChange:U=>{const me={};U.target.value.split(`
`).forEach(He=>{const Pe=He.indexOf(":");if(Pe>0){const ht=He.substring(0,Pe).trim(),sr=He.substring(Pe+1).trim();ht&&(me[ht]=sr)}}),p({...h,quickInfo:me})},placeholder:`Hours: 6AM - 11PM
Courts: 4
Surface: Artificial Turf`,rows:4,"data-testid":"input-quick-info"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: Key: Value (one per line). These appear in the Quick Info sidebar."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"pricingNotes",children:"Pricing Notes"}),s.jsx(lt,{id:"pricingNotes",value:h.pricingNotes,onChange:U=>p({...h,pricingNotes:U.target.value}),placeholder:"Special pricing conditions, discounts, or package information...",rows:3,"data-testid":"input-pricing-notes"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"certificationInfo",children:"Certification Requirements"}),s.jsx(lt,{id:"certificationInfo",value:h.certificationInfo,onChange:U=>p({...h,certificationInfo:U.target.value}),placeholder:"Required certifications, safety training, or prerequisites...",rows:3,"data-testid":"input-certification-info"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Gallery Images (URLs, one per line)"}),s.jsx(lt,{value:h.galleryImages.join(`
`),onChange:U=>p({...h,galleryImages:U.target.value.split(`
`).filter(me=>me.trim())}),placeholder:`/uploads/facility1.jpg
/uploads/facility2.jpg`,rows:3,"data-testid":"input-gallery-images"})]}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Educational Content"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Help players understand the sport with detailed guides."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"howToPlayContent",children:"How To Play"}),s.jsx(lt,{id:"howToPlayContent",value:h.howToPlayContent,onChange:U=>p({...h,howToPlayContent:U.target.value}),placeholder:"Explain how the sport/game is played, basic rules, court layout, equipment needed...",rows:5,"data-testid":"input-how-to-play"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the basics of how to play this sport."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"scoringRulesContent",children:"Scoring Rules"}),s.jsx(lt,{id:"scoringRulesContent",value:h.scoringRulesContent,onChange:U=>p({...h,scoringRulesContent:U.target.value}),placeholder:"Explain how points are scored, game structure (sets, games), point values...",rows:5,"data-testid":"input-scoring-rules"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe how scoring works in this sport."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"winningCriteriaContent",children:"Winning Criteria"}),s.jsx(lt,{id:"winningCriteriaContent",value:h.winningCriteriaContent,onChange:U=>p({...h,winningCriteriaContent:U.target.value}),placeholder:"Explain how to determine the winner, tiebreakers, match formats...",rows:5,"data-testid":"input-winning-criteria"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe how winners are determined."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"pointsSystemContent",children:"Points & Ranking System"}),s.jsx(lt,{id:"pointsSystemContent",value:h.pointsSystemContent,onChange:U=>p({...h,pointsSystemContent:U.target.value}),placeholder:"Explain how leaderboard points are awarded, ranking system, tournament points...",rows:5,"data-testid":"input-points-system"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the points and ranking system at The Quarterdeck."})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:ee,disabled:E.isPending||O.isPending,"data-testid":"button-save-facility-content",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),s.jsx(Vt,{value:"venues",className:"space-y-4 py-4",children:t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Venue"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Venue"}),s.jsxs(Ct,{value:b.venueId,onValueChange:U=>m({...b,venueId:U}),children:[s.jsx(Nt,{"data-testid":"select-venue",children:s.jsx(Pt,{placeholder:"Select venue..."})}),s.jsx(_t,{children:H.length===0?s.jsx(Oe,{value:"none",disabled:!0,children:"No venues available"}):H.map(U=>s.jsxs(Oe,{value:U.id,children:[U.name," (",U.city,")"]},U.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Status at Venue"}),s.jsxs(Ct,{value:b.status,onValueChange:U=>m({...b,status:U}),children:[s.jsx(Nt,{"data-testid":"select-venue-status",children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"PLANNED",children:"Planned"}),s.jsx(Oe,{value:"COMING_SOON",children:"Coming Soon"}),s.jsx(Oe,{value:"ACTIVE",children:"Active"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Resource Count at Venue"}),s.jsx(Q,{type:"number",value:b.resourceCount,onChange:U=>m({...b,resourceCount:parseInt(U.target.value)||1}),"data-testid":"input-venue-resource-count"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Price Override (PKR)"}),s.jsx(Q,{type:"number",value:b.priceOverride,onChange:U=>m({...b,priceOverride:U.target.value}),placeholder:`Leave empty to use base price (${h.basePrice})`,"data-testid":"input-venue-price-override"})]})]}),s.jsxs($,{onClick:we,disabled:!b.venueId||T.isPending,"data-testid":"button-add-venue",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Assigned Venues"}),!S||S.length===0?s.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No venues assigned to this facility yet. Add a venue above to configure venue-specific settings."}):s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Venue"}),s.jsx(de,{children:"Status"}),s.jsx(de,{children:"Resources"}),s.jsx(de,{children:"Price"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsx(Yr,{children:S.map(U=>s.jsxs(st,{"data-testid":`row-venue-${U.id}`,children:[s.jsx(ie,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"w-4 h-4 text-muted-foreground"}),L(U.venueId)]})}),s.jsx(ie,{children:s.jsxs(Ct,{value:U.status||"PLANNED",onValueChange:me=>M.mutate({id:U.id,data:{status:me}}),children:[s.jsx(Nt,{className:"w-32","data-testid":`select-fv-status-${U.id}`,children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"PLANNED",children:"Planned"}),s.jsx(Oe,{value:"COMING_SOON",children:"Coming Soon"}),s.jsx(Oe,{value:"ACTIVE",children:"Active"})]})]})}),s.jsx(ie,{children:s.jsx(Q,{type:"number",className:"w-20",value:U.resourceCount||1,onChange:me=>M.mutate({id:U.id,data:{resourceCount:parseInt(me.target.value)||1}}),"data-testid":`input-fv-resources-${U.id}`})}),s.jsx(ie,{children:s.jsx(Q,{type:"number",className:"w-28",value:U.priceOverride||"",placeholder:h.basePrice.toString(),onChange:me=>M.mutate({id:U.id,data:{priceOverride:me.target.value?parseInt(me.target.value):null}}),"data-testid":`input-fv-price-${U.id}`})}),s.jsx(ie,{className:"text-right",children:s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remove this venue from the facility?")&&V.mutate(U.id)},"data-testid":`button-remove-venue-${U.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})})]},U.id))})]})]})]})}),s.jsx(Vt,{value:"addons",className:"space-y-4 py-4",children:t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:g?"Edit Add-on":"Add New Add-on"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Label"}),s.jsx(Q,{value:w.label,onChange:U=>x({...w,label:U.target.value}),placeholder:"e.g., Equipment Rental","data-testid":"input-addon-label"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Price (PKR)"}),s.jsx(Q,{type:"number",value:w.price,onChange:U=>x({...w,price:parseInt(U.target.value)||0}),placeholder:"0","data-testid":"input-addon-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Icon (optional)"}),s.jsx(Q,{value:w.icon,onChange:U=>x({...w,icon:U.target.value}),placeholder:"e.g., Target, Coffee","data-testid":"input-addon-icon"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{onClick:le,disabled:!w.label||K.isPending||A.isPending,"data-testid":"button-save-addon",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),g?"Update Add-on":"Add Add-on"]}),g&&s.jsx($,{variant:"outline",onClick:X,children:"Cancel"})]})]}),s.jsxs("div",{className:"rounded-lg border",children:[s.jsx("h4",{className:"font-medium p-4 border-b",children:"Facility Add-ons"}),!C||C.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No add-ons configured for this facility yet."}):s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Label"}),s.jsx(de,{children:"Price"}),s.jsx(de,{children:"Icon"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsx(Yr,{children:C.map(U=>s.jsxs(st,{"data-testid":`row-addon-${U.id}`,children:[s.jsx(ie,{className:"font-medium",children:U.label}),s.jsxs(ie,{children:["PKR ",U.price.toLocaleString()]}),s.jsx(ie,{children:U.icon||"-"}),s.jsxs(ie,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>he(U),"data-testid":`button-edit-addon-${U.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Delete this add-on?")&&R.mutate(U.id)},"data-testid":`button-delete-addon-${U.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},U.id))})]})]})]})})]})]})]})]}),s.jsx(re,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Name"}),s.jsx(de,{children:"Category"}),s.jsx(de,{children:"Status"}),s.jsx(de,{children:"Base Price"}),s.jsx(de,{children:"Courts/Resources"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsxs(Yr,{children:[j==null?void 0:j.map(U=>s.jsxs(st,{"data-testid":`row-facility-${U.id}`,children:[s.jsx(ie,{className:"font-medium",children:U.name}),s.jsx(ie,{children:U.category||"-"}),s.jsx(ie,{children:ae(U.status)}),s.jsxs(ie,{children:["PKR ",U.basePrice.toLocaleString()]}),s.jsx(ie,{children:U.resourceCount}),s.jsxs(ie,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>je(U),"data-testid":`button-edit-facility-${U.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this facility?")&&I.mutate(U.id)},"data-testid":`button-delete-facility-${U.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},U.id)),(!j||j.length===0)&&s.jsx(st,{children:s.jsx(ie,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No facilities found. Add your first facility to get started."})})]})]})})})]})})}function e$e(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...b}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,w=y.useMemo(()=>b,Object.values(b));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,b=y.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,t$e(a,...t)]}function t$e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var r$e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],k9=r$e.reduce((e,t)=>{const r=_b(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),X2="Progress",J2=100,[n$e]=e$e(X2),[s$e,a$e]=n$e(X2),C9=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=i$e,...o}=e;(a||a===0)&&!YR(a)&&console.error(o$e(`${a}`,"Progress"));const l=YR(a)?a:J2;n!==null&&!XR(n,l)&&console.error(l$e(`${n}`,"Progress"));const c=XR(n,l)?n:null,u=Dy(c)?i(c,l):void 0;return s.jsx(s$e,{scope:r,value:c,max:l,children:s.jsx(k9.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Dy(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":A9(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});C9.displayName=X2;var P9="ProgressIndicator",E9=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=a$e(P9,r);return s.jsx(k9.div,{"data-state":A9(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});E9.displayName=P9;function i$e(e,t){return`${Math.round(e/t*100)}%`}function A9(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Dy(e){return typeof e=="number"}function YR(e){return Dy(e)&&!isNaN(e)&&e>0}function XR(e,t){return Dy(e)&&!isNaN(e)&&e<=t&&e>=0}function o$e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${J2}\`.`}function l$e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${J2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var O9=C9,c$e=E9;const vS=y.forwardRef(({className:e,value:t,...r},n)=>s.jsx(O9,{ref:n,className:ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(c$e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));vS.displayName=O9.displayName;function u$e(){const{toast:e}=gt(),[t,r]=y.useState(new Set),[n,a]=y.useState(null),[i,o]=y.useState({}),{data:l,isLoading:c}=ce({queryKey:["/api/admin/construction-phases"]});y.useEffect(()=>{if(l){const m={};l.forEach(w=>{m[w.id]={...w}}),o(m)}},[l]);const u=xe({mutationFn:async({id:m,data:w})=>{const x={...w,progress:w.progress!==void 0?Number(w.progress):void 0,isActive:w.status==="IN_PROGRESS",isComplete:w.status==="COMPLETE"||w.progress===100};return await ve("PATCH",`/api/admin/construction-phases/${m}`,x)},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/construction-phases"]}),e({title:"Phase updated successfully"}),a(null)},onError:()=>{e({title:"Failed to update phase",variant:"destructive"})}}),d=(m,w,x)=>{o(g=>({...g,[m]:{...g[m],[w]:x}}))},f=m=>{u.mutate({id:m,data:i[m]})},h=m=>{switch(m){case"COMPLETE":return s.jsx(xn,{className:"w-5 h-5 text-green-500"});case"IN_PROGRESS":return s.jsx(T5,{className:"w-5 h-5 text-amber-500"});default:return s.jsx(Kt,{className:"w-5 h-5 text-muted-foreground"})}},p=m=>{switch(m){case"COMPLETE":return s.jsx(ue,{className:"bg-green-500",children:"Complete"});case"IN_PROGRESS":return s.jsx(ue,{className:"bg-amber-500",children:"In Progress"});default:return s.jsx(ue,{variant:"secondary",children:"Not Started"})}},b=()=>{if(!l||l.length===0)return 0;const m=l.reduce((w,x)=>w+(x.progress||0),0);return Math.round(m/l.length)};return c?s.jsx(nt,{title:"Construction Status",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Construction Status",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage construction phases and milestones. Changes automatically update the public roadmap."}),s.jsxs("a",{href:"/roadmap",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[s.jsx(Is,{className:"w-3 h-3"})," View Public Roadmap",s.jsx(hc,{className:"w-3 h-3"})]})]})}),s.jsxs(re,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Ue,{children:[s.jsx(Ke,{children:"Overall Project Progress"}),s.jsx(kt,{children:"Combined progress across all construction phases"})]}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-2xl font-bold",children:[b(),"%"]}),s.jsxs("span",{className:"text-muted-foreground",children:[(l==null?void 0:l.filter(m=>m.status==="COMPLETE").length)||0," of ",(l==null?void 0:l.length)||0," phases complete"]})]}),s.jsx(vS,{value:b(),className:"h-3"})]})})]}),s.jsx("div",{className:"space-y-4",children:l==null?void 0:l.sort((m,w)=>(m.sortOrder||0)-(w.sortOrder||0)).map(m=>{const w=i[m.id]||m,x=n===m.id;return s.jsxs(re,{className:`transition-all ${x?"ring-2 ring-primary":""}`,children:[s.jsxs(Ue,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h(w.status),s.jsxs("div",{children:[s.jsxs(Ke,{className:"text-lg flex items-center gap-2",children:[w.label,": ",w.title,p(w.status)]}),s.jsx(kt,{children:w.timeframe||"No timeframe set"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-lg font-semibold",children:[w.progress||0,"%"]}),s.jsx($,{variant:x?"default":"outline",size:"sm",onClick:()=>a(x?null:m.id),"data-testid":`button-edit-phase-${m.id}`,children:x?"Cancel":"Edit"}),x&&s.jsxs($,{size:"sm",onClick:()=>f(m.id),disabled:u.isPending,"data-testid":`button-save-phase-${m.id}`,children:[s.jsx(er,{className:"w-4 h-4 mr-1"})," Save"]})]})]}),s.jsx(vS,{value:w.progress||0,className:"mt-3"})]}),x&&s.jsxs(se,{className:"border-t pt-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Phase Label"}),s.jsx(Q,{value:w.label||"",onChange:g=>d(m.id,"label",g.target.value),"data-testid":`input-phase-label-${m.id}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Phase Title"}),s.jsx(Q,{value:w.title||"",onChange:g=>d(m.id,"title",g.target.value),"data-testid":`input-phase-title-${m.id}`})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Status"}),s.jsxs(Ct,{value:w.status,onValueChange:g=>{const v=g==="COMPLETE"?100:g==="NOT_STARTED"?0:w.progress;d(m.id,"status",g),d(m.id,"progress",v),d(m.id,"isComplete",g==="COMPLETE"),d(m.id,"isActive",g==="IN_PROGRESS")},children:[s.jsx(Nt,{"data-testid":`select-phase-status-${m.id}`,children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"NOT_STARTED",children:"Not Started"}),s.jsx(Oe,{value:"IN_PROGRESS",children:"In Progress"}),s.jsx(Oe,{value:"COMPLETE",children:"Complete"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Progress (%)"}),s.jsx(Q,{type:"number",min:"0",max:"100",value:w.progress||0,onChange:g=>{const v=Math.min(100,Math.max(0,parseInt(g.target.value)||0));d(m.id,"progress",v),v===100?(d(m.id,"status","COMPLETE"),d(m.id,"isComplete",!0),d(m.id,"isActive",!1)):v>0?(d(m.id,"status","IN_PROGRESS"),d(m.id,"isComplete",!1),d(m.id,"isActive",!0)):(d(m.id,"status","NOT_STARTED"),d(m.id,"isComplete",!1),d(m.id,"isActive",!1))},"data-testid":`input-phase-progress-${m.id}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Timeframe"}),s.jsx(Q,{value:w.timeframe||"",onChange:g=>d(m.id,"timeframe",g.target.value),placeholder:"e.g., March - August 2024","data-testid":`input-phase-timeframe-${m.id}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Milestones (one per line)"}),s.jsx(lt,{value:(w.milestones||[]).join(`
`),onChange:g=>d(m.id,"milestones",g.target.value.split(`
`).filter(v=>v.trim())),rows:4,placeholder:"Enter milestones, one per line","data-testid":`input-phase-milestones-${m.id}`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix with [x] for completed milestones, [ ] for pending"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Highlights (one per line)"}),s.jsx(lt,{value:(w.highlights||[]).join(`
`),onChange:g=>d(m.id,"highlights",g.target.value.split(`
`).filter(v=>v.trim())),rows:2,placeholder:"Key achievements or notes","data-testid":`input-phase-highlights-${m.id}`})]})]}),!x&&s.jsx(se,{className:"pt-0",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Milestones"}),s.jsxs("ul",{className:"space-y-1",children:[(w.milestones||[]).slice(0,4).map((g,v)=>s.jsxs("li",{className:"text-sm flex items-center gap-2",children:[s.jsx(xn,{className:`w-3 h-3 ${g.startsWith("[x]")?"text-green-500":"text-muted-foreground"}`}),s.jsx("span",{className:g.startsWith("[x]")?"line-through text-muted-foreground":"",children:g.replace(/^\[(x| )\] /,"")})]},v)),(w.milestones||[]).length>4&&s.jsxs("li",{className:"text-sm text-muted-foreground",children:["+",w.milestones.length-4," more..."]})]})]}),(w.highlights||[]).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Highlights"}),s.jsx("ul",{className:"space-y-1",children:(w.highlights||[]).map((g,v)=>s.jsx("li",{className:"text-sm text-muted-foreground",children:g},v))})]})]})})]},m.id)})}),s.jsx(re,{className:"border-dashed",children:s.jsxs(se,{className:"py-6 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-2",children:"Construction phases are automatically synced with the public roadmap page."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When you update progress or mark milestones as complete, the changes will be immediately visible to visitors."})]})})]})})}function d$e(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(null),u=y.useRef(null),[d,f]=y.useState({facilityId:"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),{data:h,isLoading:p}=ce({queryKey:["/api/admin/events"]}),{data:b}=ce({queryKey:["/api/admin/facilities"]}),m=xe({mutationFn:async k=>await ve("POST","/api/admin/events",k),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/events"]}),Z.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event created successfully"}),a(!1),g()},onError:()=>{e({title:"Failed to create event",variant:"destructive"})}}),w=xe({mutationFn:async({id:k,data:C})=>await ve("PATCH",`/api/admin/events/${k}`,C),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/events"]}),Z.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event updated successfully"}),a(!1),r(null),g()},onError:()=>{e({title:"Failed to update event",variant:"destructive"})}}),x=xe({mutationFn:async k=>await ve("DELETE",`/api/admin/events/${k}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/events"]}),Z.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event deleted successfully"})},onError:()=>{e({title:"Failed to delete event",variant:"destructive"})}}),g=()=>{var k;f({facilityId:((k=b==null?void 0:b[0])==null?void 0:k.id)||"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),c(null),u.current&&(u.current.value="")},v=async k=>{var P;const C=(P=k.target.files)==null?void 0:P[0];if(C){if(!["image/jpeg","image/png","image/webp"].includes(C.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(C.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const E=new FormData;E.append("image",C);const O=await fetch("/api/admin/upload",{method:"POST",body:E,credentials:"include"});if(!O.ok){let T="Upload failed";try{T=(await O.json()).message||T}catch{T=O.statusText||T}throw new Error(T)}const I=await O.json();c({name:C.name,url:I.imageUrl}),f(T=>({...T,imageUrl:I.imageUrl})),u.current&&(u.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(E){e({title:"Upload failed",description:E.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},j=k=>{r(k),f({facilityId:k.facilityId,title:k.title,description:k.description||"",type:k.type,instructor:k.instructor||"",scheduleDay:k.scheduleDay||"",scheduleTime:k.scheduleTime||"",scheduleDatetime:k.scheduleDatetime?Yn(new Date(k.scheduleDatetime),"yyyy-MM-dd'T'HH:mm"):"",price:k.price||0,capacity:k.capacity||20,enrollmentDeadline:k.enrollmentDeadline?Yn(new Date(k.enrollmentDeadline),"yyyy-MM-dd"):"",imageUrl:k.imageUrl||"",slug:k.slug||"",isActive:k.isActive??!0}),a(!0)},N=()=>{if(!d.facilityId){e({title:"Please select a facility",variant:"destructive"});return}t?w.mutate({id:t.id,data:d}):m.mutate(d)},_=k=>{switch(k){case"ACADEMY":return s.jsx(ue,{className:"bg-purple-500",children:"Academy"});case"TOURNAMENT":return s.jsx(ue,{className:"bg-orange-500",children:"Tournament"});case"CLASS":return s.jsx(ue,{className:"bg-blue-500",children:"Class"});case"SOCIAL":return s.jsx(ue,{className:"bg-green-500",children:"Social"});default:return s.jsx(ue,{variant:"secondary",children:k})}},S=k=>{var C;return((C=b==null?void 0:b.find(P=>P.id===k))==null?void 0:C.name)||"Unknown"};return p?s.jsx(nt,{title:"Events & Academies",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Events & Academies",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage events, academies, tournaments, and classes at The Quarterdeck."}),s.jsxs(It,{open:n,onOpenChange:k=>{a(k),k||(r(null),g())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-event",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Event"]})}),s.jsxs(Et,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:t?"Edit Event":"Add New Event"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Event Title"}),s.jsx(Q,{id:"title",value:d.title,onChange:k=>f({...d,title:k.target.value}),placeholder:"e.g., Beginner Padel Academy","data-testid":"input-event-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"type",children:"Event Type"}),s.jsxs(Ct,{value:d.type,onValueChange:k=>f({...d,type:k}),children:[s.jsx(Nt,{"data-testid":"select-event-type",children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"ACADEMY",children:"Academy (Ongoing Program)"}),s.jsx(Oe,{value:"TOURNAMENT",children:"Tournament"}),s.jsx(Oe,{value:"CLASS",children:"Class (One-time)"}),s.jsx(Oe,{value:"SOCIAL",children:"Social Event"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"facilityId",children:"Facility"}),s.jsxs(Ct,{value:d.facilityId,onValueChange:k=>f({...d,facilityId:k}),children:[s.jsx(Nt,{"data-testid":"select-event-facility",children:s.jsx(Pt,{placeholder:"Select facility"})}),s.jsx(_t,{children:b==null?void 0:b.map(k=>s.jsx(Oe,{value:k.id,children:k.name},k.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"instructor",children:"Instructor/Host"}),s.jsx(Q,{id:"instructor",value:d.instructor,onChange:k=>f({...d,instructor:k.target.value}),placeholder:"e.g., Coach Ahmad","data-testid":"input-event-instructor"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:d.description,onChange:k=>f({...d,description:k.target.value}),rows:3,placeholder:"Describe the event, what participants will learn, etc.","data-testid":"input-event-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"scheduleDay",children:"Schedule Day"}),s.jsx(Q,{id:"scheduleDay",value:d.scheduleDay,onChange:k=>f({...d,scheduleDay:k.target.value}),placeholder:"e.g., Mon, Wed, Fri","data-testid":"input-event-schedule-day"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"scheduleTime",children:"Schedule Time"}),s.jsx(Q,{id:"scheduleTime",value:d.scheduleTime,onChange:k=>f({...d,scheduleTime:k.target.value}),placeholder:"e.g., 6:00 PM - 8:00 PM","data-testid":"input-event-schedule-time"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"scheduleDatetime",children:"Specific Date/Time"}),s.jsx(Q,{id:"scheduleDatetime",type:"datetime-local",value:d.scheduleDatetime,onChange:k=>f({...d,scheduleDatetime:k.target.value}),"data-testid":"input-event-datetime"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"price",children:"Price (PKR)"}),s.jsx(Q,{id:"price",type:"number",value:d.price,onChange:k=>f({...d,price:parseInt(k.target.value)||0}),"data-testid":"input-event-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"capacity",children:"Capacity"}),s.jsx(Q,{id:"capacity",type:"number",value:d.capacity,onChange:k=>f({...d,capacity:parseInt(k.target.value)||20}),"data-testid":"input-event-capacity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"enrollmentDeadline",children:"Enrollment Deadline"}),s.jsx(Q,{id:"enrollmentDeadline",type:"date",value:d.enrollmentDeadline,onChange:k=>f({...d,enrollmentDeadline:k.target.value}),"data-testid":"input-event-deadline"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Event Image"}),s.jsxs(sa,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Rs,{className:"grid w-full grid-cols-2",children:[s.jsxs(Bt,{value:"upload",className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"w-4 h-4"}),"Upload"]}),s.jsxs(Bt,{value:"url",className:"flex items-center gap-2",children:[s.jsx(kk,{className:"w-4 h-4"}),"URL"]})]}),s.jsxs(Vt,{value:"upload",className:"space-y-3",children:[s.jsx("input",{ref:u,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:v,className:"hidden","data-testid":"input-event-image-file"}),s.jsx($,{type:"button",variant:"outline",onClick:()=>{var k;return(k=u.current)==null?void 0:k.click()},disabled:i,className:"w-full","data-testid":"button-upload-event-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Choose Image"]})}),l&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(xn,{className:"w-4 h-4"}),l.name]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]}),s.jsx(Vt,{value:"url",className:"space-y-3",children:s.jsx(Q,{id:"imageUrl",value:d.imageUrl,onChange:k=>f({...d,imageUrl:k.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-event-image-url"})})]}),d.imageUrl&&s.jsx("div",{className:"mt-3 rounded-md border overflow-hidden",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-32 object-cover",onError:k=>{k.target.style.display="none"}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"slug",children:"URL Slug"}),s.jsx(Q,{id:"slug",value:d.slug,onChange:k=>f({...d,slug:k.target.value}),placeholder:"beginner-padel-academy","data-testid":"input-event-slug"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[s.jsx(Wt,{id:"isActive",checked:d.isActive,onCheckedChange:k=>f({...d,isActive:k})}),s.jsx(B,{htmlFor:"isActive",children:"Active (visible on website)"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:N,disabled:m.isPending||w.isPending,"data-testid":"button-save-event",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(re,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Event"}),s.jsx(de,{children:"Type"}),s.jsx(de,{children:"Facility"}),s.jsx(de,{children:"Schedule"}),s.jsx(de,{children:"Capacity"}),s.jsx(de,{children:"Status"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsxs(Yr,{children:[h==null?void 0:h.map(k=>s.jsxs(st,{"data-testid":`row-event-${k.id}`,children:[s.jsx(ie,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:k.title}),k.instructor&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["by ",k.instructor]})]})}),s.jsx(ie,{children:_(k.type)}),s.jsx(ie,{children:S(k.facilityId)}),s.jsx(ie,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[k.scheduleDay&&s.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[s.jsx(wr,{className:"w-3 h-3"}),k.scheduleDay]}),k.scheduleTime&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(Kt,{className:"w-3 h-3"}),k.scheduleTime]})]})}),s.jsx(ie,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Er,{className:"w-3 h-3"}),k.enrolledCount||0,"/",k.capacity]})}),s.jsx(ie,{children:k.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(ie,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>j(k),"data-testid":`button-edit-event-${k.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this event?")&&x.mutate(k.id)},"data-testid":`button-delete-event-${k.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},k.id)),(!h||h.length===0)&&s.jsx(st,{children:s.jsx(ie,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No events found. Add your first event to get started."})})]})]})})})]})})}function f$e(){const{toast:e}=gt(),{adminPath:t}=Rp(),[r,n]=y.useState(null),[a,i]=y.useState(!1),[o,l]=y.useState({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),[c,u]=y.useState(""),{data:d,isLoading:f}=ce({queryKey:["/api/admin/pricing-tiers"]}),{data:h}=ce({queryKey:["/api/admin/membership-tiers"]}),p=()=>{Z.invalidateQueries({queryKey:["/api/admin/pricing-tiers"]}),Z.invalidateQueries({queryKey:["/api/pricing-tiers"]})},b=xe({mutationFn:async S=>await ve("POST","/api/admin/pricing-tiers",S),onSuccess:()=>{p(),e({title:"Pricing tier created successfully"}),i(!1),x()},onError:()=>{e({title:"Failed to create pricing tier",variant:"destructive"})}}),m=xe({mutationFn:async({id:S,data:k})=>await ve("PATCH",`/api/admin/pricing-tiers/${S}`,k),onSuccess:()=>{p(),e({title:"Pricing tier updated successfully"}),i(!1),n(null),x()},onError:()=>{e({title:"Failed to update pricing tier",variant:"destructive"})}}),w=xe({mutationFn:async S=>await ve("DELETE",`/api/admin/pricing-tiers/${S}`),onSuccess:()=>{p(),e({title:"Pricing tier deleted successfully"})},onError:()=>{e({title:"Failed to delete pricing tier",variant:"destructive"})}}),x=()=>{l({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),u("")},g=S=>{n(S),l({name:S.name,tier:S.tier,price:S.price,billingPeriod:S.billingPeriod||"yearly",benefits:S.benefits||[],isPopular:S.isPopular||!1,sortOrder:S.sortOrder||0,isActive:S.isActive??!0}),i(!0)},v=()=>{r?m.mutate({id:r.id,data:o}):b.mutate(o)},j=()=>{c.trim()&&(l({...o,benefits:[...o.benefits,c.trim()]}),u(""))},N=S=>{l({...o,benefits:o.benefits.filter((k,C)=>C!==S)})},_=S=>{switch(S){case"FOUNDING":return s.jsx(ue,{className:"bg-amber-600",children:"Founding"});case"GOLD":return s.jsx(ue,{className:"bg-yellow-500",children:"Gold"});case"SILVER":return s.jsx(ue,{className:"bg-gray-400",children:"Silver"});default:return s.jsx(ue,{variant:"secondary",children:"Guest"})}};return f?s.jsx(nt,{title:"Pricing Tiers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Pricing Tiers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage membership pricing tiers and their benefits."}),s.jsx(fe,{href:`/${t}/membership-tiers`,children:s.jsxs($,{variant:"link",size:"sm",className:"p-0 h-auto text-primary","data-testid":"link-manage-tiers",children:[s.jsx(mm,{className:"w-3 h-3 mr-1"})," Manage Tier Definitions"]})})]}),s.jsxs(It,{open:a,onOpenChange:S=>{i(S),S||(n(null),x())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-pricing-tier",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Pricing Tier"]})}),s.jsxs(Et,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:r?"Edit Pricing Tier":"Add New Pricing Tier"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"name",children:"Display Name"}),s.jsx(Q,{id:"name",value:o.name,onChange:S=>l({...o,name:S.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-tier-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"tier",children:"Tier Level"}),s.jsxs(Ct,{value:o.tier,onValueChange:S=>l({...o,tier:S}),children:[s.jsx(Nt,{"data-testid":"select-tier-level",children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[h==null?void 0:h.filter(S=>S.isActive).map(S=>s.jsx(Oe,{value:S.slug.toUpperCase(),"data-testid":`select-tier-${S.slug}`,children:S.displayName},S.id)),(!h||h.length===0)&&s.jsxs(s.Fragment,{children:[s.jsx(Oe,{value:"FOUNDING",children:"Founding"}),s.jsx(Oe,{value:"GOLD",children:"Gold"}),s.jsx(Oe,{value:"SILVER",children:"Silver"}),s.jsx(Oe,{value:"GUEST",children:"Guest"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"price",children:"Price (PKR)"}),s.jsx(Q,{id:"price",type:"number",value:o.price,onChange:S=>l({...o,price:parseInt(S.target.value)||0}),"data-testid":"input-tier-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"billingPeriod",children:"Billing Period"}),s.jsxs(Ct,{value:o.billingPeriod,onValueChange:S=>l({...o,billingPeriod:S}),children:[s.jsx(Nt,{"data-testid":"select-billing-period",children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"monthly",children:"Monthly"}),s.jsx(Oe,{value:"yearly",children:"Yearly"}),s.jsx(Oe,{value:"lifetime",children:"Lifetime"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Benefits"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{value:c,onChange:S=>u(S.target.value),placeholder:"Add a benefit",onKeyDown:S=>S.key==="Enter"&&(S.preventDefault(),j()),"data-testid":"input-benefit"}),s.jsx($,{type:"button",onClick:j,variant:"secondary",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.benefits.map((S,k)=>s.jsxs(ue,{variant:"secondary",className:"px-2 py-1",children:[S,s.jsx("button",{type:"button",onClick:()=>N(k),className:"ml-2 text-muted-foreground hover:text-foreground",children:""})]},k))})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Q,{id:"sortOrder",type:"number",value:o.sortOrder,onChange:S=>l({...o,sortOrder:parseInt(S.target.value)||0}),"data-testid":"input-sort-order"})]})}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isPopular",checked:o.isPopular,onCheckedChange:S=>l({...o,isPopular:S})}),s.jsx(B,{htmlFor:"isPopular",children:"Mark as Popular"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isActive",checked:o.isActive,onCheckedChange:S=>l({...o,isActive:S})}),s.jsx(B,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsxs($,{onClick:v,disabled:b.isPending||m.isPending,"data-testid":"button-save-tier",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"]})]})]})]})]})]}),s.jsx(re,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Name"}),s.jsx(de,{children:"Tier"}),s.jsx(de,{children:"Price"}),s.jsx(de,{children:"Billing"}),s.jsx(de,{children:"Benefits"}),s.jsx(de,{children:"Status"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsxs(Yr,{children:[d==null?void 0:d.map(S=>{var k;return s.jsxs(st,{"data-testid":`row-tier-${S.id}`,children:[s.jsxs(ie,{className:"font-medium",children:[S.name,S.isPopular&&s.jsx(ci,{className:"inline w-4 h-4 ml-2 text-amber-500"})]}),s.jsx(ie,{children:_(S.tier)}),s.jsxs(ie,{children:["PKR ",S.price.toLocaleString()]}),s.jsx(ie,{className:"capitalize",children:S.billingPeriod}),s.jsxs(ie,{children:[((k=S.benefits)==null?void 0:k.length)||0," benefits"]}),s.jsx(ie,{children:S.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(ie,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>g(S),"data-testid":`button-edit-tier-${S.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this pricing tier?")&&w.mutate(S.id)},"data-testid":`button-delete-tier-${S.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},S.id)}),(!d||d.length===0)&&s.jsx(st,{children:s.jsx(ie,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No pricing tiers found. Add your first tier to get started."})})]})]})})})]})})}function h$e(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),[l,c]=y.useState(""),{data:u,isLoading:d}=ce({queryKey:["/api/admin/membership-tiers"]}),f=()=>{Z.invalidateQueries({queryKey:["/api/admin/membership-tiers"]}),Z.invalidateQueries({queryKey:["/api/membership-tiers"]})},h=xe({mutationFn:async _=>await ve("POST","/api/admin/membership-tiers",_),onSuccess:()=>{f(),e({title:"Membership tier created successfully"}),a(!1),m()},onError:()=>{e({title:"Failed to create membership tier",variant:"destructive"})}}),p=xe({mutationFn:async({id:_,data:S})=>await ve("PATCH",`/api/admin/membership-tiers/${_}`,S),onSuccess:()=>{f(),e({title:"Membership tier updated successfully"}),a(!1),r(null),m()},onError:()=>{e({title:"Failed to update membership tier",variant:"destructive"})}}),b=xe({mutationFn:async _=>await ve("DELETE",`/api/admin/membership-tiers/${_}`),onSuccess:()=>{f(),e({title:"Membership tier deleted successfully"})},onError:()=>{e({title:"Failed to delete membership tier",variant:"destructive"})}}),m=()=>{o({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),c("")},w=_=>{r(_),o({slug:_.slug,displayName:_.displayName,description:_.description||"",color:_.color||"#6B7280",discountPercent:_.discountPercent||0,guestPassesIncluded:_.guestPassesIncluded||0,benefits:_.benefits||[],sortOrder:_.sortOrder||0,isActive:_.isActive??!0}),a(!0)},x=()=>{t?p.mutate({id:t.id,data:i}):h.mutate(i)},g=()=>{l.trim()&&(o({...i,benefits:[...i.benefits,l.trim()]}),c(""))},v=_=>{o({...i,benefits:i.benefits.filter((S,k)=>k!==_)})},j=_=>_.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");if(d)return s.jsx(nt,{title:"Membership Tiers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const N=[...u||[]].sort((_,S)=>(_.sortOrder||0)-(S.sortOrder||0));return s.jsx(nt,{title:"Membership Tiers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Define membership tier types with their names, colors, discount percentages, and benefits."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"These tiers are used throughout the website for pricing and membership management."})]}),s.jsxs(It,{open:n,onOpenChange:_=>{a(_),_||(r(null),m())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-tier",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Tier"]})}),s.jsxs(Et,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:t?"Edit Membership Tier":"Add New Membership Tier"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"displayName",children:"Display Name"}),s.jsx(Q,{id:"displayName",value:i.displayName,onChange:_=>{const S=_.target.value;o({...i,displayName:S,slug:i.slug||j(S)})},placeholder:"e.g., Platinum Member","data-testid":"input-display-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),s.jsx(Q,{id:"slug",value:i.slug,onChange:_=>o({...i,slug:j(_.target.value)}),placeholder:"e.g., platinum","data-testid":"input-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:i.description,onChange:_=>o({...i,description:_.target.value}),placeholder:"Brief description of this membership tier","data-testid":"input-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"color",children:"Tier Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{id:"color",type:"color",value:i.color,onChange:_=>o({...i,color:_.target.value}),className:"w-12 h-9 p-1 cursor-pointer","data-testid":"input-color"}),s.jsx(Q,{value:i.color,onChange:_=>o({...i,color:_.target.value}),placeholder:"#6B7280",className:"flex-1","data-testid":"input-color-text"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"discountPercent",children:"Discount % (Off-Peak)"}),s.jsx(Q,{id:"discountPercent",type:"number",min:"0",max:"100",value:i.discountPercent,onChange:_=>o({...i,discountPercent:parseInt(_.target.value)||0}),"data-testid":"input-discount"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"guestPasses",children:"Guest Passes/Month"}),s.jsx(Q,{id:"guestPasses",type:"number",min:"0",value:i.guestPassesIncluded,onChange:_=>o({...i,guestPassesIncluded:parseInt(_.target.value)||0}),"data-testid":"input-guest-passes"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Benefits"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{value:l,onChange:_=>c(_.target.value),placeholder:"Add a benefit",onKeyDown:_=>_.key==="Enter"&&(_.preventDefault(),g()),"data-testid":"input-benefit"}),s.jsx($,{type:"button",onClick:g,variant:"secondary","data-testid":"button-add-benefit",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.benefits.map((_,S)=>s.jsxs(ue,{variant:"secondary",className:"px-2 py-1","data-testid":`badge-benefit-${S}`,children:[_,s.jsx("button",{type:"button",onClick:()=>v(S),className:"ml-2 text-muted-foreground hover:text-foreground","data-testid":`button-remove-benefit-${S}`,children:"x"})]},S))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Q,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:_=>o({...i,sortOrder:parseInt(_.target.value)||0}),"data-testid":"input-sort-order"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(Wt,{id:"isActive",checked:i.isActive,onCheckedChange:_=>o({...i,isActive:_}),"data-testid":"switch-is-active"}),s.jsx(B,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel",children:"Cancel"}),s.jsx($,{onClick:x,disabled:h.isPending||p.isPending,"data-testid":"button-save-tier",children:h.isPending||p.isPending?"Saving...":t?"Update Tier":"Create Tier"})]})]})]})]})]}),s.jsxs(re,{children:[s.jsxs(Ue,{children:[s.jsx(Ke,{children:"Membership Tier Definitions"}),s.jsx(kt,{children:"Configure the properties of each membership tier. Changes here affect how tiers are displayed across the website."})]}),s.jsx(se,{children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{className:"w-12",children:"Order"}),s.jsx(de,{children:"Name"}),s.jsx(de,{children:"Slug"}),s.jsx(de,{children:"Color"}),s.jsx(de,{children:"Discount"}),s.jsx(de,{children:"Guest Passes"}),s.jsx(de,{children:"Status"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsxs(Yr,{children:[N.map(_=>s.jsxs(st,{"data-testid":`row-tier-${_.id}`,children:[s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Ep,{className:"w-4 h-4"}),_.sortOrder]})}),s.jsx(ie,{className:"font-medium","data-testid":`text-tier-name-${_.id}`,children:_.displayName}),s.jsx(ie,{children:s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded","data-testid":`text-tier-slug-${_.id}`,children:_.slug})}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:_.color||"#6B7280"}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:_.color})]})}),s.jsxs(ie,{children:[_.discountPercent,"%"]}),s.jsx(ie,{children:_.guestPassesIncluded}),s.jsx(ie,{children:s.jsx(ue,{variant:_.isActive?"default":"secondary","data-testid":`badge-status-${_.id}`,children:_.isActive?"Active":"Inactive"})}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>w(_),"data-testid":`button-edit-tier-${_.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this tier?")&&b.mutate(_.id)},disabled:b.isPending,"data-testid":`button-delete-tier-${_.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})})]},_.id)),N.length===0&&s.jsx(st,{children:s.jsx(ie,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'No membership tiers defined yet. Click "Add Tier" to create one.'})})]})]})})]})]})})}function m$e(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState({title:"",content:"",category:"",isActive:!0}),{data:l,isLoading:c}=ce({queryKey:["/api/admin/announcements"]}),u=xe({mutationFn:async m=>await ve("POST","/api/admin/announcements",m),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create announcement",variant:"destructive"})}}),d=xe({mutationFn:async({id:m,data:w})=>await ve("PATCH",`/api/admin/announcements/${m}`,w),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update announcement",variant:"destructive"})}}),f=xe({mutationFn:async m=>await ve("DELETE",`/api/admin/announcements/${m}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement deleted successfully"})},onError:()=>{e({title:"Failed to delete announcement",variant:"destructive"})}}),h=()=>{o({title:"",content:"",category:"",isActive:!0})},p=m=>{r(m),o({title:m.title,content:m.content||"",category:m.category||"",isActive:m.isActive??!0}),a(!0)},b=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(nt,{title:"Announcements",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Announcements",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage announcements and updates shown on the website."}),s.jsxs(It,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-announcement",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Announcement"]})}),s.jsxs(Et,{className:"max-w-2xl",children:[s.jsx(Rt,{children:s.jsx($t,{children:t?"Edit Announcement":"Add New Announcement"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title"}),s.jsx(Q,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-announcement-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"content",children:"Content"}),s.jsx(lt,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:5,"data-testid":"input-announcement-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"category",children:"Category"}),s.jsx(Q,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., Construction, Events, General","data-testid":"input-announcement-category"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(B,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:b,disabled:u.isPending||d.isPending,"data-testid":"button-save-announcement",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(re,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Title"}),s.jsx(de,{children:"Category"}),s.jsx(de,{children:"Published"}),s.jsx(de,{children:"Status"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsxs(Yr,{children:[l==null?void 0:l.map(m=>s.jsxs(st,{"data-testid":`row-announcement-${m.id}`,children:[s.jsx(ie,{className:"font-medium",children:m.title}),s.jsx(ie,{children:m.category||"-"}),s.jsx(ie,{children:m.publishedAt?Yn(new Date(m.publishedAt),"MMM d, yyyy"):"-"}),s.jsx(ie,{children:m.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(ie,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-announcement-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this announcement?")&&f.mutate(m.id)},"data-testid":`button-delete-announcement-${m.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(st,{children:s.jsx(ie,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No announcements found. Add your first announcement to get started."})})]})]})})})]})})}function p$e(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0}),{data:l,isLoading:c}=ce({queryKey:["/api/admin/careers"]}),u=xe({mutationFn:async m=>await ve("POST","/api/admin/careers",m),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create career listing",variant:"destructive"})}}),d=xe({mutationFn:async({id:m,data:w})=>await ve("PATCH",`/api/admin/careers/${m}`,w),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update career listing",variant:"destructive"})}}),f=xe({mutationFn:async m=>await ve("DELETE",`/api/admin/careers/${m}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing deleted successfully"})},onError:()=>{e({title:"Failed to delete career listing",variant:"destructive"})}}),h=()=>{o({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0})},p=m=>{r(m),o({title:m.title,department:m.department||"",location:m.location||"Islamabad",type:m.type||"Full-time",description:m.description||"",requirements:m.requirements||"",salary:m.salary||"",isActive:m.isActive??!0}),a(!0)},b=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(nt,{title:"Careers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Careers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage job listings and career opportunities at The Quarterdeck."}),s.jsxs(It,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-career",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Job Listing"]})}),s.jsxs(Et,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:t?"Edit Job Listing":"Add New Job Listing"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Job Title"}),s.jsx(Q,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-career-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"department",children:"Department"}),s.jsx(Q,{id:"department",value:i.department,onChange:m=>o({...i,department:m.target.value}),placeholder:"e.g., Operations, Sports, Admin","data-testid":"input-career-department"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"location",children:"Location"}),s.jsx(Q,{id:"location",value:i.location,onChange:m=>o({...i,location:m.target.value}),"data-testid":"input-career-location"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"type",children:"Employment Type"}),s.jsxs(Ct,{value:i.type,onValueChange:m=>o({...i,type:m}),children:[s.jsx(Nt,{"data-testid":"select-career-type",children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"Full-time",children:"Full-time"}),s.jsx(Oe,{value:"Part-time",children:"Part-time"}),s.jsx(Oe,{value:"Contract",children:"Contract"}),s.jsx(Oe,{value:"Internship",children:"Internship"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"salary",children:"Salary Range"}),s.jsx(Q,{id:"salary",value:i.salary,onChange:m=>o({...i,salary:m.target.value}),placeholder:"e.g., PKR 50,000 - 80,000 / month","data-testid":"input-career-salary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Job Description"}),s.jsx(lt,{id:"description",value:i.description,onChange:m=>o({...i,description:m.target.value}),rows:4,"data-testid":"input-career-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"requirements",children:"Requirements"}),s.jsx(lt,{id:"requirements",value:i.requirements,onChange:m=>o({...i,requirements:m.target.value}),rows:4,placeholder:"List the requirements, each on a new line","data-testid":"input-career-requirements"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(B,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:b,disabled:u.isPending||d.isPending,"data-testid":"button-save-career",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(re,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Title"}),s.jsx(de,{children:"Department"}),s.jsx(de,{children:"Location"}),s.jsx(de,{children:"Type"}),s.jsx(de,{children:"Status"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsxs(Yr,{children:[l==null?void 0:l.map(m=>s.jsxs(st,{"data-testid":`row-career-${m.id}`,children:[s.jsx(ie,{className:"font-medium",children:m.title}),s.jsx(ie,{children:m.department||"-"}),s.jsx(ie,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ms,{className:"w-3 h-3"}),m.location]})}),s.jsx(ie,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fm,{className:"w-3 h-3"}),m.type]})}),s.jsx(ie,{children:m.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(ie,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-career-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this job listing?")&&f.mutate(m.id)},"data-testid":`button-delete-career-${m.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(st,{children:s.jsx(ie,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No job listings found. Add your first listing to get started."})})]})]})})})]})})}function g$e(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState({title:"",category:"",content:"",sortOrder:0,isActive:!0}),{data:l,isLoading:c}=ce({queryKey:["/api/admin/rules"]}),u=xe({mutationFn:async m=>await ve("POST","/api/admin/rules",m),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create rule",variant:"destructive"})}}),d=xe({mutationFn:async({id:m,data:w})=>await ve("PATCH",`/api/admin/rules/${m}`,w),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update rule",variant:"destructive"})}}),f=xe({mutationFn:async m=>await ve("DELETE",`/api/admin/rules/${m}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule deleted successfully"})},onError:()=>{e({title:"Failed to delete rule",variant:"destructive"})}}),h=()=>{o({title:"",category:"",content:"",sortOrder:0,isActive:!0})},p=m=>{r(m),o({title:m.title,category:m.category||"",content:m.content||"",sortOrder:m.sortOrder||0,isActive:m.isActive??!0}),a(!0)},b=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(nt,{title:"Rules & Policies",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Rules & Policies",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage facility rules, policies, and guidelines shown to members."}),s.jsxs(It,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-rule",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Rule"]})}),s.jsxs(Et,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:t?"Edit Rule":"Add New Rule"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title"}),s.jsx(Q,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-rule-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"category",children:"Category"}),s.jsx(Q,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., General, Safety, Booking","data-testid":"input-rule-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Q,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:m=>o({...i,sortOrder:parseInt(m.target.value)||0}),"data-testid":"input-rule-sort"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"content",children:"Content"}),s.jsx(lt,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:8,placeholder:"Enter the rule or policy details...","data-testid":"input-rule-content"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(B,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:b,disabled:u.isPending||d.isPending,"data-testid":"button-save-rule",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(re,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{className:"w-12",children:"Order"}),s.jsx(de,{children:"Title"}),s.jsx(de,{children:"Category"}),s.jsx(de,{children:"Status"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsxs(Yr,{children:[l==null?void 0:l.map(m=>s.jsxs(st,{"data-testid":`row-rule-${m.id}`,children:[s.jsx(ie,{children:s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Ep,{className:"w-4 h-4"}),m.sortOrder]})}),s.jsx(ie,{className:"font-medium",children:m.title}),s.jsx(ie,{children:m.category?s.jsx(ue,{variant:"outline",children:m.category}):"-"}),s.jsx(ie,{children:m.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(ie,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-rule-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this rule?")&&f.mutate(m.id)},"data-testid":`button-delete-rule-${m.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(st,{children:s.jsx(ie,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No rules found. Add your first rule to get started."})})]})]})})})]})})}const JR=[{section:"1. Information We Collect",content:"We collect information to provide and improve our services:",items:["Personal Information: Name, email, phone number","Membership Data: Tier, payment history, bookings","Usage Information: Facility patterns, preferences"]},{section:"2. How We Use Information",content:"Your information is used to:",items:["Process memberships and bookings","Communicate updates","Improve facilities and services"]},{section:"3. Contact",content:"For privacy inquiries, contact privacy@thequarterdeck.pk",items:[]}],ZR=[{section:"1. Acceptance of Terms",content:"By using The Quarterdeck facilities, you agree to these terms.",items:[]},{section:"2. Membership",content:"Membership is subject to approval and payment of fees.",items:["Non-transferable","Valid ID required","Guest privileges vary by tier"]},{section:"3. Contact",content:"For questions, contact legal@thequarterdeck.pk",items:[]}];function v$e(){const{toast:e}=gt(),[t,r]=y.useState("privacy"),[n,a]=y.useState([]),[i,o]=y.useState([]),[l,c]=y.useState(!1),{data:u,isLoading:d}=ce({queryKey:["/api/cms/bulk"]});y.useEffect(()=>{if(u){const N=u.find(S=>S.key==="privacy_policy"),_=u.find(S=>S.key==="terms_conditions");try{N!=null&&N.content?a(JSON.parse(N.content)):a(JR)}catch{a(JR)}try{_!=null&&_.content?o(JSON.parse(_.content)):o(ZR)}catch{o(ZR)}}},[u]);const f=xe({mutationFn:async({key:N,content:_})=>ve("POST","/api/admin/cms",{key:N,title:N==="privacy_policy"?"Privacy Policy":"Terms & Conditions",content:_,isActive:!0}),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/cms/bulk"]}),e({title:"Saved successfully"})},onError:()=>{e({title:"Failed to save",variant:"destructive"})}}),h=async()=>{c(!0);try{await f.mutateAsync({key:"privacy_policy",content:JSON.stringify(n)})}finally{c(!1)}},p=async()=>{c(!0);try{await f.mutateAsync({key:"terms_conditions",content:JSON.stringify(i)})}finally{c(!1)}},b=(N,_,S,k)=>{(N==="privacy"?a:o)(P=>P.map((E,O)=>O===_?{...E,[S]:k}:E))},m=N=>{const _={section:`${N==="privacy"?n.length+1:i.length+1}. New Section`,content:"",items:[]};N==="privacy"?a([...n,_]):o([...i,_])},w=(N,_)=>{N==="privacy"?a(S=>S.filter((k,C)=>C!==_)):o(S=>S.filter((k,C)=>C!==_))},x=(N,_,S,k)=>{(N==="privacy"?a:o)(P=>P.map((E,O)=>{if(O!==_)return E;const I=[...E.items];return I[S]=k,{...E,items:I}}))},g=(N,_)=>{(N==="privacy"?a:o)(k=>k.map((C,P)=>P!==_?C:{...C,items:[...C.items,""]}))},v=(N,_,S)=>{(N==="privacy"?a:o)(C=>C.map((P,E)=>E!==_?P:{...P,items:P.items.filter((O,I)=>I!==S)}))},j=(N,_)=>s.jsxs("div",{className:"space-y-6",children:[_.map((S,k)=>s.jsxs(re,{className:"relative",children:[s.jsx(Ue,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Ep,{className:"w-5 h-5 text-muted-foreground mt-2 cursor-grab"}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx(B,{children:"Section Title"}),s.jsx(Q,{value:S.section,onChange:C=>b(N,k,"section",C.target.value),placeholder:"1. Section Title","data-testid":`input-section-title-${k}`})]}),s.jsxs("div",{children:[s.jsx(B,{children:"Content"}),s.jsx(lt,{value:S.content,onChange:C=>b(N,k,"content",C.target.value),placeholder:"Section content...",rows:3,"data-testid":`input-section-content-${k}`})]})]}),s.jsx($,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>w(N,k),"data-testid":`button-remove-section-${k}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(B,{className:"text-sm",children:"Bullet Points"}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>g(N,k),"data-testid":`button-add-item-${k}`,children:[s.jsx(Zt,{className:"w-3 h-3 mr-1"})," Add Item"]})]}),S.items.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:'No bullet points. Click "Add Item" to add one.'}):s.jsx("div",{className:"space-y-2",children:S.items.map((C,P)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{value:C,onChange:E=>x(N,k,P,E.target.value),placeholder:"Bullet point text...","data-testid":`input-item-${k}-${P}`}),s.jsx($,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive flex-shrink-0",onClick:()=>v(N,k,P),"data-testid":`button-remove-item-${k}-${P}`,children:s.jsx(mr,{className:"w-4 h-4"})})]},P))})]})})]},k)),s.jsxs($,{variant:"outline",className:"w-full",onClick:()=>m(N),"data-testid":`button-add-section-${N}`,children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Section"]})]});return d?s.jsx(nt,{title:"Policy Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"Policy Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Privacy Policy & Terms Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Edit the content displayed on the Privacy Policy and Terms & Conditions pages. Changes are reflected immediately on the website."})]}),s.jsxs(sa,{value:t,onValueChange:r,children:[s.jsxs(Rs,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsxs(Bt,{value:"privacy",className:"flex items-center gap-2","data-testid":"tab-privacy",children:[s.jsx(pm,{className:"w-4 h-4"}),"Privacy Policy"]}),s.jsxs(Bt,{value:"terms",className:"flex items-center gap-2","data-testid":"tab-terms",children:[s.jsx($a,{className:"w-4 h-4"}),"Terms & Conditions"]})]}),s.jsxs(Vt,{value:"privacy",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Privacy Policy Sections"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /privacy page."})]}),s.jsxs($,{onClick:h,disabled:l,"data-testid":"button-save-privacy",children:[l?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(er,{className:"w-4 h-4 mr-2"}),"Save Privacy Policy"]})]}),j("privacy",n)]}),s.jsxs(Vt,{value:"terms",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Terms & Conditions Sections"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /terms page."})]}),s.jsxs($,{onClick:p,disabled:l,"data-testid":"button-save-terms",children:[l?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(er,{className:"w-4 h-4 mr-2"}),"Save Terms & Conditions"]})]}),j("terms",i)]})]})]})})}const hu={dimensions:{recommended:"1920 x 1080 px (16:9 aspect ratio)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",categories:{Renders:"3D architectural renders and concept designs for The Quarterdeck complex",Construction:"Progress photos from the construction site showing different phases",Facilities:"Photos of completed or in-progress facilities (courts, halls, etc.)"}};function x$e(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(null),u=y.useRef(null),[d,f]=y.useState({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),h=async E=>{var I;const O=(I=E.target.files)==null?void 0:I[0];if(O){if(!["image/jpeg","image/png","image/webp"].includes(O.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(O.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const T=new FormData;T.append("image",O);const M=await fetch("/api/admin/upload",{method:"POST",body:T,credentials:"include"});if(!M.ok){let K="Upload failed";try{K=(await M.json()).message||K}catch{K=M.statusText||K}throw new Error(K)}const V=await M.json();c({name:O.name,url:V.imageUrl}),f(K=>({...K,imageUrl:V.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(T){e({title:"Upload failed",description:T.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:b}=ce({queryKey:["/api/admin/gallery"]}),m=xe({mutationFn:async E=>await ve("POST","/api/admin/gallery",E),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image added successfully"}),a(!1),g()},onError:()=>{e({title:"Failed to add gallery image",variant:"destructive"})}}),w=xe({mutationFn:async({id:E,data:O})=>await ve("PATCH",`/api/admin/gallery/${E}`,O),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image updated successfully"}),a(!1),r(null),g()},onError:()=>{e({title:"Failed to update gallery image",variant:"destructive"})}}),x=xe({mutationFn:async E=>await ve("DELETE",`/api/admin/gallery/${E}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image deleted successfully"})},onError:()=>{e({title:"Failed to delete gallery image",variant:"destructive"})}}),g=()=>{f({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),c(null),u.current&&(u.current.value="")},v=E=>{r(E),f({imageUrl:E.imageUrl,title:E.title||"",description:E.description||"",category:E.category||"Construction",sortOrder:E.sortOrder||0,isActive:E.isActive??!0}),a(!0)},j=()=>{t?w.mutate({id:t.id,data:d}):m.mutate(d)},N=E=>{switch(E){case"Renders":return s.jsx(ue,{className:"bg-purple-500",children:"Renders"});case"Construction":return s.jsx(ue,{className:"bg-orange-500",children:"Construction"});case"Facilities":return s.jsx(ue,{className:"bg-blue-500",children:"Facilities"});default:return s.jsx(ue,{variant:"secondary",children:E||"Other"})}};if(b)return s.jsx(nt,{title:"Gallery",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const _=(p==null?void 0:p.filter(E=>E.category==="Renders").length)||0,S=(p==null?void 0:p.filter(E=>E.category==="Construction").length)||0,k=(p==null?void 0:p.filter(E=>E.category==="Facilities").length)||0,C=(p==null?void 0:p.filter(E=>E.isActive).length)||0,P=(p==null?void 0:p.filter(E=>!E.isActive).length)||0;return s.jsx(nt,{title:"Gallery",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 via-orange-500/10 to-blue-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Gallery Management"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage gallery images shown on the website. Images should be high-quality and relevant to The Quarterdeck."}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),s.jsxs("span",{className:"text-sm",children:[_," Renders"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),s.jsxs("span",{className:"text-sm",children:[S," Construction"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsxs("span",{className:"text-sm",children:[k," Facilities"]})]}),s.jsxs("div",{className:"border-l pl-3 flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400",children:[C," Active"]}),P>0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",P," Hidden"]})]})]})]}),s.jsxs(It,{open:n,onOpenChange:E=>{a(E),E||(r(null),g())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-gallery-image",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Image"]})}),s.jsxs(Et,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:t?"Edit Image":"Add New Image"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(cb,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Image Guidelines"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-blue-700 dark:text-blue-400",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Recommended:"}),s.jsx("p",{className:"text-xs",children:hu.dimensions.recommended})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Formats:"}),s.jsx("p",{className:"text-xs",children:hu.formats.join(", ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Max Size:"}),s.jsx("p",{className:"text-xs",children:hu.maxFileSize})]})]})]})]})}),s.jsxs(sa,{defaultValue:"url",className:"w-full",children:[s.jsxs(Rs,{className:"grid w-full grid-cols-2",children:[s.jsxs(Bt,{value:"url",className:"flex items-center gap-2","data-testid":"tab-url",children:[s.jsx(kk,{className:"w-4 h-4"})," URL"]}),s.jsxs(Bt,{value:"upload",className:"flex items-center gap-2","data-testid":"tab-upload",children:[s.jsx(Qn,{className:"w-4 h-4"})," Upload (Testing)"]})]}),s.jsx(Vt,{value:"url",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"imageUrl",children:"Image URL"}),s.jsx(Q,{id:"imageUrl",value:d.imageUrl,onChange:E=>f({...d,imageUrl:E.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-gallery-url"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a direct link to your image. Supports any publicly accessible URL."})]})}),s.jsxs(Vt,{value:"upload",className:"space-y-4 mt-4",children:[s.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var E;return!i&&((E=u.current)==null?void 0:E.click())},children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Uploading..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while your image is being uploaded."})]}):l?s.jsxs(s.Fragment,{children:[s.jsx(xn,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),s.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),s.jsx($,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),c(null),f(O=>({...O,imageUrl:""})),u.current&&(u.current.value="")},"data-testid":"button-clear-upload",children:"Upload Different Image"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop or click to browse"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Preview"}),s.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:E=>{E.target.style.display="none"}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title"}),s.jsx(Q,{id:"title",value:d.title,onChange:E=>f({...d,title:E.target.value}),placeholder:"e.g., Padel Court Construction - Week 12","data-testid":"input-gallery-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{htmlFor:"category",children:"Category"}),s.jsxs(XY,{children:[s.jsx(JY,{asChild:!0,children:s.jsx(Js,{className:"w-4 h-4 text-muted-foreground cursor-help"})}),s.jsx(T3,{className:"max-w-xs",children:s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Renders:"})," ",hu.categories.Renders]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Construction:"})," ",hu.categories.Construction]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Facilities:"})," ",hu.categories.Facilities]})]})})]})]}),s.jsxs(Ct,{value:d.category,onValueChange:E=>f({...d,category:E}),children:[s.jsx(Nt,{"data-testid":"select-gallery-category",children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"Renders",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Renders"]})}),s.jsx(Oe,{value:"Construction",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Construction"]})}),s.jsx(Oe,{value:"Facilities",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Facilities"]})})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:d.description,onChange:E=>f({...d,description:E.target.value}),rows:3,"data-testid":"input-gallery-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Q,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:E=>f({...d,sortOrder:parseInt(E.target.value)||0}),"data-testid":"input-gallery-sort"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isActive",checked:d.isActive,onCheckedChange:E=>f({...d,isActive:E})}),s.jsx(B,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),s.jsx($,{onClick:j,disabled:i||m.isPending||w.isPending,"data-testid":"button-save-gallery-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[p==null?void 0:p.map(E=>s.jsxs(re,{className:"overflow-hidden","data-testid":`card-gallery-${E.id}`,children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[E.imageUrl?s.jsx("img",{src:E.imageUrl,alt:E.title||"Gallery image",className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Aa,{className:"w-12 h-12 text-muted-foreground"})}),!E.isActive&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(ue,{variant:"secondary",children:"Hidden"})})]}),s.jsxs(se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium truncate",children:E.title||"Untitled"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:E.description||"No description"})]}),N(E.category)]}),s.jsxs("div",{className:"flex justify-end gap-1 mt-3",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>v(E),"data-testid":`button-edit-gallery-${E.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this image?")&&x.mutate(E.id)},"data-testid":`button-delete-gallery-${E.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]})]},E.id)),(!p||p.length===0)&&s.jsxs("div",{className:"col-span-full text-center text-muted-foreground py-12",children:[s.jsx(Aa,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No gallery images found. Add your first image to get started."})]})]})]})})}const e$=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"coming-soon",label:"Coming Soon"},{value:"about",label:"About Page"},{value:"contact",label:"Contact Page"},{value:"events",label:"Events Page"}],t$={landing:[{value:"hero",label:"Hero Background",dimensions:"1920x1080"},{value:"gallery-1",label:"Gallery Image 1",dimensions:"800x600"},{value:"gallery-2",label:"Gallery Image 2",dimensions:"800x600"},{value:"gallery-3",label:"Gallery Image 3",dimensions:"800x600"},{value:"about-bg",label:"About Section Background",dimensions:"1200x800"}],facilities:[{value:"padel-tennis",label:"Padel Tennis Header",dimensions:"1920x600"},{value:"squash",label:"Squash Courts Header",dimensions:"1920x600"},{value:"air-rifle-range",label:"Air Rifle Range Header",dimensions:"1920x600"},{value:"bridge-room",label:"Bridge Room Header",dimensions:"1920x600"},{value:"multipurpose-hall",label:"Multipurpose Hall Header",dimensions:"1920x600"}],"coming-soon":[{value:"hero",label:"Coming Soon Hero",dimensions:"1920x1080"},{value:"countdown-bg",label:"Countdown Background",dimensions:"1920x600"}],about:[{value:"hero",label:"About Hero",dimensions:"1920x600"},{value:"team",label:"Team Section Background",dimensions:"1200x800"}],contact:[{value:"hero",label:"Contact Hero",dimensions:"1920x400"},{value:"map-bg",label:"Map Background",dimensions:"1200x600"}],events:[{value:"hero",label:"Events Hero",dimensions:"1920x600"},{value:"academy-bg",label:"Academy Section",dimensions:"1200x600"}]};function y$e(){var C,P,E,O;const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(null),u=y.useRef(null),[d,f]=y.useState({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),h=async I=>{var M;const T=(M=I.target.files)==null?void 0:M[0];if(T){if(!["image/jpeg","image/png","image/webp"].includes(T.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(T.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const V=new FormData;V.append("image",T);const K=await fetch("/api/admin/upload",{method:"POST",body:V,credentials:"include"});if(!K.ok){let R="Upload failed";try{R=(await K.json()).message||R}catch{R=K.statusText||R}throw new Error(R)}const A=await K.json();c({name:T.name,url:A.imageUrl}),f(R=>({...R,imageUrl:A.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(V){e({title:"Upload failed",description:V.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:b}=ce({queryKey:["/api/admin/site-images"]}),m=xe({mutationFn:I=>ve("POST","/api/admin/site-images",I),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/site-images"]}),Z.invalidateQueries({queryKey:["/api/site-images"]}),a(!1),g(),e({title:"Site image added successfully"})},onError:()=>{e({title:"Failed to add site image",variant:"destructive"})}}),w=xe({mutationFn:({id:I,data:T})=>ve("PATCH",`/api/admin/site-images/${I}`,T),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/site-images"]}),Z.invalidateQueries({queryKey:["/api/site-images"]}),a(!1),g(),e({title:"Site image updated successfully"})},onError:()=>{e({title:"Failed to update site image",variant:"destructive"})}}),x=xe({mutationFn:I=>ve("DELETE",`/api/admin/site-images/${I}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/site-images"]}),Z.invalidateQueries({queryKey:["/api/site-images"]}),e({title:"Site image deleted successfully"})},onError:()=>{e({title:"Failed to delete site image",variant:"destructive"})}}),g=()=>{f({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),r(null),c(null),u.current&&(u.current.value="")},v=I=>{r(I),f({key:I.key,imageUrl:I.imageUrl,alt:I.alt||"",title:I.title||"",description:I.description||"",page:I.page,section:I.section||"",dimensions:I.dimensions||"",isActive:I.isActive??!0,sortOrder:I.sortOrder||0}),a(!0)},j=()=>{if(!d.key||!d.imageUrl||!d.page){e({title:"Missing required fields",description:"Please fill in the key, image URL, and page.",variant:"destructive"});return}t?w.mutate({id:t.id,data:d}):m.mutate(d)},N=I=>{f(T=>({...T,page:I,section:""}))},_=I=>{var M;const T=(M=t$[d.page])==null?void 0:M.find(V=>V.value===I);f(V=>({...V,section:I,dimensions:(T==null?void 0:T.dimensions)||"",key:t?V.key:`${d.page}_${I}`}))},S=I=>{const T=e$.find(V=>V.value===I),M={landing:"bg-blue-500",facilities:"bg-green-500","coming-soon":"bg-purple-500",about:"bg-amber-500",contact:"bg-teal-500",events:"bg-rose-500"};return s.jsx(ue,{className:M[I]||"bg-gray-500",children:(T==null?void 0:T.label)||I})};if(b)return s.jsx(nt,{title:"Site Images",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const k=(p==null?void 0:p.reduce((I,T)=>{const M=T.page||"other";return I[M]||(I[M]=[]),I[M].push(T),I},{}))||{};return s.jsx(nt,{title:"Site Images",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Site Images Management"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage all website images from a central location. Upload and update images for the landing page, facility pages, coming soon pages, and more."}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 rounded",children:["Landing: ",((C=k.landing)==null?void 0:C.length)||0]}),s.jsxs("span",{className:"px-2 py-1 bg-green-500/20 rounded",children:["Facilities: ",((P=k.facilities)==null?void 0:P.length)||0]}),s.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 rounded",children:["Coming Soon: ",((E=k["coming-soon"])==null?void 0:E.length)||0]})]})]}),s.jsxs(It,{open:n,onOpenChange:I=>{a(I),I||g()},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-site-image",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Add Site Image"]})}),s.jsxs(Et,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:t?"Edit Site Image":"Add New Site Image"})}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"page",children:"Page *"}),s.jsxs(Ct,{value:d.page,onValueChange:N,children:[s.jsx(Nt,{"data-testid":"select-site-image-page",children:s.jsx(Pt,{placeholder:"Select page"})}),s.jsx(_t,{children:e$.map(I=>s.jsx(Oe,{value:I.value,children:I.label},I.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"section",children:"Section"}),s.jsxs(Ct,{value:d.section,onValueChange:_,children:[s.jsx(Nt,{"data-testid":"select-site-image-section",children:s.jsx(Pt,{placeholder:"Select section"})}),s.jsx(_t,{children:(O=t$[d.page])==null?void 0:O.map(I=>s.jsxs(Oe,{value:I.value,children:[I.label," (",I.dimensions,")"]},I.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"key",children:"Unique Key *"}),s.jsx(Q,{id:"key",value:d.key,onChange:I=>f({...d,key:I.target.value.toLowerCase().replace(/\s+/g,"_")}),placeholder:"e.g., landing_hero",disabled:!!t,"data-testid":"input-site-image-key"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This key is used to reference the image in the code."})]}),s.jsxs(sa,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Rs,{className:"grid w-full grid-cols-2",children:[s.jsx(Bt,{value:"upload",children:"Upload File"}),s.jsx(Bt,{value:"url",children:"Use URL"})]}),s.jsxs(Vt,{value:"url",className:"space-y-2 mt-4",children:[s.jsx(B,{htmlFor:"imageUrl",children:"Image URL *"}),s.jsx(Q,{id:"imageUrl",value:d.imageUrl,onChange:I=>f({...d,imageUrl:I.target.value}),placeholder:"https://...","data-testid":"input-site-image-url"})]}),s.jsxs(Vt,{value:"upload",className:"space-y-4 mt-4",children:[s.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var I;return!i&&((I=u.current)==null?void 0:I.click())},children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Uploading..."})]}):l?s.jsxs(s.Fragment,{children:[s.jsx(xn,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),s.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),s.jsx($,{variant:"outline",size:"sm",onClick:I=>{I.stopPropagation(),c(null),f(T=>({...T,imageUrl:""})),u.current&&(u.current.value="")},children:"Upload Different Image"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Preview"}),s.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:I=>{I.target.style.display="none"}})})]}),d.dimensions&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[s.jsx(cb,{className:"w-4 h-4 text-blue-500"}),s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Recommended dimensions: ",s.jsx("strong",{children:d.dimensions})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title"}),s.jsx(Q,{id:"title",value:d.title,onChange:I=>f({...d,title:I.target.value}),placeholder:"Image title","data-testid":"input-site-image-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"alt",children:"Alt Text"}),s.jsx(Q,{id:"alt",value:d.alt,onChange:I=>f({...d,alt:I.target.value}),placeholder:"Image description for accessibility","data-testid":"input-site-image-alt"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:d.description,onChange:I=>f({...d,description:I.target.value}),rows:2,"data-testid":"input-site-image-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Q,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:I=>f({...d,sortOrder:parseInt(I.target.value)||0}),"data-testid":"input-site-image-sort"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(Wt,{id:"isActive",checked:d.isActive,onCheckedChange:I=>f({...d,isActive:I})}),s.jsx(B,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),s.jsx($,{onClick:j,disabled:i||m.isPending||w.isPending,"data-testid":"button-save-site-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),Object.keys(k).length===0?s.jsx(re,{className:"border-dashed",children:s.jsxs(se,{className:"py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Aa,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Site Images Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Upload images to customize the look of your website. Images can be used for hero backgrounds, facility headers, gallery sections, and more."}),s.jsxs($,{onClick:()=>a(!0),"data-testid":"button-add-first-image",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Add Your First Image"]})]}),s.jsxs("div",{className:"border-t pt-8 mt-8",children:[s.jsx("h4",{className:"font-semibold text-center mb-6",children:"Where Images Can Be Used"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[s.jsx("h5",{className:"font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Landing Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero background, gallery images, about section"}),s.jsx("p",{className:"text-xs text-blue-500 mt-2",children:"Recommended: 1920x1080 for hero"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[s.jsx("h5",{className:"font-medium text-green-700 dark:text-green-300 mb-1",children:"Facilities"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Headers for each sport facility page"}),s.jsx("p",{className:"text-xs text-green-500 mt-2",children:"Recommended: 1920x600"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[s.jsx("h5",{className:"font-medium text-purple-700 dark:text-purple-300 mb-1",children:"Coming Soon"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero and countdown backgrounds"}),s.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"Recommended: 1920x1080"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[s.jsx("h5",{className:"font-medium text-amber-700 dark:text-amber-300 mb-1",children:"About Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"About hero and team section"}),s.jsx("p",{className:"text-xs text-amber-500 mt-2",children:"Recommended: 1920x600"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-teal-500/10 border border-teal-500/20",children:[s.jsx("h5",{className:"font-medium text-teal-700 dark:text-teal-300 mb-1",children:"Contact Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact hero and map background"}),s.jsx("p",{className:"text-xs text-teal-500 mt-2",children:"Recommended: 1920x400"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-rose-500/10 border border-rose-500/20",children:[s.jsx("h5",{className:"font-medium text-rose-700 dark:text-rose-300 mb-1",children:"Events Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Events hero and academy section"}),s.jsx("p",{className:"text-xs text-rose-500 mt-2",children:"Recommended: 1920x600"})]})]})]}),s.jsxs("div",{className:"border-t pt-8 mt-8 text-center",children:[s.jsx("h4",{className:"font-semibold mb-4",children:"How It Works"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-6 text-sm text-muted-foreground max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"1"})}),s.jsx("span",{children:'Click "Add Site Image" and select a page and section'})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"2"})}),s.jsx("span",{children:"Upload your image or paste a URL"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"3"})}),s.jsx("span",{children:"Save and it appears on your website instantly"})]})]})]})]})}):Object.entries(k).map(([I,T])=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[S(I),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",T.length," images)"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:T.map(M=>s.jsxs(re,{className:"overflow-hidden","data-testid":`card-site-image-${M.id}`,children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[M.imageUrl?s.jsx("img",{src:M.imageUrl,alt:M.alt||M.title||"Site image",className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Aa,{className:"w-12 h-12 text-muted-foreground"})}),!M.isActive&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(ue,{variant:"secondary",children:"Hidden"})})]}),s.jsxs(se,{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"font-medium truncate",children:M.title||M.key}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:M.key}),M.section&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:M.section}),M.dimensions&&s.jsx("p",{className:"text-xs text-blue-500 mt-1",children:M.dimensions})]})}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsxs($,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>v(M),"data-testid":`button-edit-site-image-${M.id}`,children:[s.jsx(Jr,{className:"w-3 h-3 mr-1"}),"Edit"]}),s.jsx($,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>x.mutate(M.id),"data-testid":`button-delete-site-image-${M.id}`,children:s.jsx(mr,{className:"w-3 h-3"})})]})]})]},M.id))})]},I))]})})}function b$e(){var V,K;const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState(""),[f,h]=y.useState(""),[p,b]=y.useState(""),[m,w]=y.useState("all"),[x,g]=y.useState("all"),{data:v,isLoading:j}=ce({queryKey:["/api/admin/bookings"]}),{data:N}=ce({queryKey:["/api/admin/facilities"]}),_=A=>{if(!A||!N)return"Unknown";const R=N.find(G=>G.id===A);return(R==null?void 0:R.name)||"Unknown"},S=xe({mutationFn:async({id:A,data:R})=>await ve("PATCH",`/api/admin/bookings/${A}/payment`,R),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Booking updated successfully"}),a(!1),r(null),c("")},onError:()=>{e({title:"Failed to update booking",variant:"destructive"})}}),k=xe({mutationFn:async({id:A,status:R,cancelReason:G})=>await ve("PATCH",`/api/admin/bookings/${A}/status`,{status:R,cancelReason:G}),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Status updated successfully"}),o(!1),h("")},onError:()=>{e({title:"Failed to update status",variant:"destructive"})}}),C=()=>{t&&k.mutate({id:t.id,status:"CANCELLED",cancelReason:f})},P=()=>{t&&S.mutate({id:t.id,data:{paymentStatus:"VERIFIED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},E=()=>{t&&S.mutate({id:t.id,data:{paymentStatus:"REJECTED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},O=A=>{switch(A){case"VERIFIED":return s.jsx(ue,{variant:"default",className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return s.jsx(ue,{variant:"default",className:"bg-yellow-600",children:"Pending Verification"});case"REJECTED":return s.jsx(ue,{variant:"destructive",children:"Rejected"});case"PENDING_PAYMENT":default:return s.jsx(ue,{variant:"secondary",children:"Awaiting Payment"})}},I=(A,R)=>A==="CONFIRMED"&&R==="VERIFIED"?s.jsx(ue,{variant:"default",className:"bg-green-600",children:"Confirmed"}):A==="CANCELLED"?s.jsx(ue,{variant:"destructive",children:"Cancelled"}):R==="VERIFIED"&&A!=="CONFIRMED"?s.jsx(ue,{variant:"default",className:"bg-blue-600",children:"Payment Verified"}):R==="PENDING_VERIFICATION"?s.jsx(ue,{variant:"default",className:"bg-amber-500",children:"Tentative - Awaiting Verification"}):s.jsx(ue,{variant:"secondary",children:"Tentative - Awaiting Payment"}),T=v==null?void 0:v.filter(A=>{var X;const R=_(A.facilityId),G=A.id.toLowerCase().includes(p.toLowerCase())||R.toLowerCase().includes(p.toLowerCase())||((X=A.userId)==null?void 0:X.toLowerCase().includes(p.toLowerCase())),Y=m==="all"||A.paymentStatus===m,F=x==="all"||A.status===x;return G&&Y&&F}),M=(v==null?void 0:v.filter(A=>A.paymentStatus==="PENDING_VERIFICATION").length)||0;return j?s.jsx(nt,{title:"Bookings Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Bookings Management",children:s.jsxs("div",{className:"space-y-6",children:[M>0&&s.jsx(re,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:s.jsxs(se,{className:"flex items-center gap-3 p-4",children:[s.jsx(zn,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("span",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:[M," booking",M>1?"s":""," pending payment verification"]}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>w("PENDING_VERIFICATION"),className:"ml-auto","data-testid":"button-show-pending",children:"Show Pending"})]})}),s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"h-5 w-5"}),"All Bookings (",(v==null?void 0:v.length)||0,")"]})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(ub,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search by ID, facility, or user...",value:p,onChange:A=>b(A.target.value),className:"pl-10","data-testid":"input-search-bookings"})]})}),s.jsxs(Ct,{value:m,onValueChange:w,children:[s.jsxs(Nt,{className:"w-[180px]","data-testid":"select-payment-filter",children:[s.jsx(O5,{className:"h-4 w-4 mr-2"}),s.jsx(Pt,{placeholder:"Payment Status"})]}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"all",children:"All Payments"}),s.jsx(Oe,{value:"PENDING_PAYMENT",children:"Awaiting Payment"}),s.jsx(Oe,{value:"PENDING_VERIFICATION",children:"Pending Verification"}),s.jsx(Oe,{value:"VERIFIED",children:"Verified"}),s.jsx(Oe,{value:"REJECTED",children:"Rejected"})]})]}),s.jsxs(Ct,{value:x,onValueChange:g,children:[s.jsx(Nt,{className:"w-[160px]","data-testid":"select-status-filter",children:s.jsx(Pt,{placeholder:"Status"})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"all",children:"All Status"}),s.jsx(Oe,{value:"PENDING",children:"Pending"}),s.jsx(Oe,{value:"CONFIRMED",children:"Confirmed"}),s.jsx(Oe,{value:"CANCELLED",children:"Cancelled"})]})]})]}),T&&T.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Booking ID"}),s.jsx(de,{children:"Date / Time"}),s.jsx(de,{children:"Facility"}),s.jsx(de,{children:"Amount"}),s.jsx(de,{children:"Payment"}),s.jsx(de,{children:"Status"}),s.jsx(de,{children:"Actions"})]})}),s.jsx(Yr,{children:T.map(A=>{var R;return s.jsxs(st,{"data-testid":`row-booking-${A.id}`,children:[s.jsxs(ie,{className:"font-mono text-xs",children:[A.id.slice(0,8),"..."]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-sm font-medium",children:A.date}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[A.startTime," - ",A.endTime]})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-sm",children:_(A.facilityId)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",A.resourceId]})]}),s.jsx(ie,{children:s.jsxs("span",{className:"font-medium",children:["PKR ",((R=A.totalPrice)==null?void 0:R.toLocaleString())||0]})}),s.jsx(ie,{children:O(A.paymentStatus)}),s.jsx(ie,{children:I(A.status,A.paymentStatus)}),s.jsx(ie,{children:s.jsx($,{size:"sm",variant:"ghost",onClick:()=>{r(A),c(A.paymentNotes||""),d(A.paymentProofUrl||""),a(!0)},"data-testid":`button-view-${A.id}`,children:s.jsx(Is,{className:"h-4 w-4"})})})]},A.id)})})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings found matching your filters."})]})]}),s.jsx(It,{open:n,onOpenChange:a,children:s.jsxs(Et,{className:"max-w-2xl",children:[s.jsx(Rt,{children:s.jsx($t,{children:"Booking Details"})}),t&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Booking ID"}),s.jsx("p",{className:"font-mono text-sm",children:t.id})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"User ID"}),s.jsx("p",{className:"font-mono text-sm",children:t.userId})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:t.date})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Time"}),s.jsxs("p",{className:"font-medium",children:[t.startTime," - ",t.endTime]})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Facility"}),s.jsx("p",{className:"font-medium",children:_(t.facilityId)})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Resource"}),s.jsxs("p",{className:"font-medium",children:["#",t.resourceId]})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-bold text-lg",children:["PKR ",((V=t.totalPrice)==null?void 0:V.toLocaleString())||0]})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Payment Method"}),s.jsx("p",{className:"font-medium capitalize",children:((K=t.paymentMethod)==null?void 0:K.replace("_"," "))||"N/A"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Payment Status"}),s.jsx("div",{className:"mt-1",children:O(t.paymentStatus)})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Booking Status"}),s.jsx("div",{className:"mt-1",children:I(t.status,t.paymentStatus)})]})]}),s.jsxs("div",{className:"mb-4 space-y-2",children:[s.jsx(B,{htmlFor:"paymentProofUrl",children:"Payment Proof URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{id:"paymentProofUrl",value:u,onChange:A=>d(A.target.value),placeholder:"Enter proof URL (receipt/transfer screenshot)","data-testid":"input-payment-proof-url"}),(t.paymentProofUrl||u)&&s.jsx($,{variant:"outline",size:"icon",onClick:()=>window.open(u||t.paymentProofUrl,"_blank"),title:"View proof document","data-testid":"button-view-proof",children:s.jsx(hc,{className:"h-4 w-4"})})]}),t.paymentProofUrl&&!u&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current: ",s.jsx("a",{href:t.paymentProofUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View existing proof"})]})]}),t.paymentVerifiedBy&&s.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Verified by: ",t.paymentVerifiedBy,t.paymentVerifiedAt&&s.jsxs(s.Fragment,{children:[" on ",Yn(new Date(t.paymentVerifiedAt),"PPp")]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"paymentNotes",children:"Admin Notes"}),s.jsx(lt,{id:"paymentNotes",value:l,onChange:A=>c(A.target.value),placeholder:"Add notes about payment verification...",rows:3,"data-testid":"textarea-payment-notes"})]})]}),(t.paymentStatus==="PENDING_VERIFICATION"||t.paymentStatus==="PENDING_PAYMENT")&&s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs($,{onClick:P,disabled:S.isPending,className:"flex-1 bg-green-600 hover:bg-green-500","data-testid":"button-verify-payment",children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Verify Payment"]}),s.jsxs($,{onClick:E,disabled:S.isPending,variant:"destructive",className:"flex-1","data-testid":"button-reject-payment",children:[s.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),t.status!=="CANCELLED"&&s.jsx("div",{className:"flex gap-3 pt-4 border-t",children:s.jsxs($,{onClick:()=>{o(!0)},disabled:k.isPending,variant:"destructive","data-testid":"button-cancel-booking",children:[s.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})]})}),s.jsx(It,{open:i,onOpenChange:o,children:s.jsxs(Et,{children:[s.jsx(Rt,{children:s.jsx($t,{children:"Cancel Booking"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to cancel this booking? This action cannot be undone. The user will receive an email notification about the cancellation."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cancelReason",children:"Cancellation Reason (Optional)"}),s.jsx(lt,{id:"cancelReason",value:f,onChange:A=>h(A.target.value),placeholder:"Reason for cancellation...",rows:3,"data-testid":"textarea-cancel-reason"})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx($,{variant:"outline",onClick:()=>{o(!1),h("")},"data-testid":"button-cancel-dialog-close",children:"Keep Booking"}),s.jsx($,{variant:"destructive",onClick:C,disabled:k.isPending,"data-testid":"button-confirm-cancel",children:k.isPending?"Cancelling...":"Confirm Cancellation"})]})]})]})})]})})}function w$e(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""}),[l,c]=y.useState(""),[u,d]=y.useState(""),[f,h]=y.useState(""),[p,b]=y.useState(""),[m,w]=y.useState(""),[x,g]=y.useState(null),v=async(A,R,G)=>{g(G);try{const Y=new FormData;Y.append("image",A);const F=await fetch("/api/admin/upload",{method:"POST",body:Y,credentials:"include"});if(!F.ok){const le=await F.json();throw new Error(le.message||"Upload failed")}const X=await F.json();X.imageUrl&&(R(X.imageUrl),e({title:"Image uploaded successfully"}))}catch(Y){e({title:"Upload failed",description:Y.message||"Failed to upload image",variant:"destructive"})}finally{g(null)}},{data:j,isLoading:N,dataUpdatedAt:_}=ce({queryKey:["/api/admin/site-settings"]}),{data:S,isLoading:k}=ce({queryKey:["/api/admin/navbar-items"]}),C=A=>{var R;return((R=j==null?void 0:j.find(G=>G.key===A))==null?void 0:R.value)||""};y.useEffect(()=>{j&&!N&&(c(C("logo_main_url")),d(C("logo_dark_url")),h(C("favicon_url")),b(C("site_name")||"The Quarterdeck"),w(C("site_tagline")||"Sports & Recreation Complex"))},[j,N,_]);const P=xe({mutationFn:async A=>{for(const R of A)await ve("POST","/api/admin/site-settings",R)},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/site-settings"]}),Z.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Branding settings saved successfully"})},onError:()=>{e({title:"Failed to save branding settings",variant:"destructive"})}}),E=xe({mutationFn:async A=>await ve("POST","/api/admin/navbar-items",A),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Z.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item created successfully"}),a(!1),T()},onError:()=>{e({title:"Failed to create navigation item",variant:"destructive"})}}),O=xe({mutationFn:async({id:A,data:R})=>await ve("PATCH",`/api/admin/navbar-items/${A}`,R),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Z.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item updated successfully"}),a(!1),r(null),T()},onError:()=>{e({title:"Failed to update navigation item",variant:"destructive"})}}),I=xe({mutationFn:async A=>await ve("DELETE",`/api/admin/navbar-items/${A}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Z.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item deleted successfully"})},onError:()=>{e({title:"Failed to delete navigation item",variant:"destructive"})}}),T=()=>{o({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""})},M=A=>{r(A),o({label:A.label,href:A.href,sortOrder:A.sortOrder,isVisible:A.isVisible,target:A.target||"_self",requiresAuth:A.requiresAuth||!1,icon:A.icon||""}),a(!0)},V=()=>{t?O.mutate({id:t.id,data:i}):E.mutate(i)},K=()=>{const A=[{key:"logo_main_url",value:l,label:"Main Logo URL",category:"branding"},{key:"logo_dark_url",value:u,label:"Dark Mode Logo URL",category:"branding"},{key:"favicon_url",value:f,label:"Favicon URL",category:"branding"},{key:"site_name",value:p,label:"Site Name",category:"branding"},{key:"site_tagline",value:m,label:"Site Tagline",category:"branding"}];P.mutate(A)};return N||k?s.jsx(nt,{title:"Branding & Navigation",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Branding & Navigation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(re,{children:[s.jsxs(Ue,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Aa,{className:"h-5 w-5"}),"Site Branding"]}),s.jsx(kt,{children:"Customize your site logo, favicon, and branding text. Provide URLs to your logo images."})]}),s.jsxs(se,{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"siteName",children:"Site Name"}),s.jsx(Q,{id:"siteName",value:p,onChange:A=>b(A.target.value),placeholder:"The Quarterdeck","data-testid":"input-site-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"siteTagline",children:"Site Tagline"}),s.jsx(Q,{id:"siteTagline",value:m,onChange:A=>w(A.target.value),placeholder:"Sports & Recreation Complex","data-testid":"input-site-tagline"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"logoUrl",children:"Main Logo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{id:"logoUrl",value:l,onChange:A=>c(A.target.value),placeholder:"https://example.com/logo.png or upload","data-testid":"input-logo-url",className:"flex-1"}),s.jsx($,{variant:"outline",size:"icon",disabled:x==="logo",onClick:()=>{var A;return(A=document.getElementById("logo-upload"))==null?void 0:A.click()},"data-testid":"button-upload-logo",children:x==="logo"?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(Qn,{className:"h-4 w-4"})}),s.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",className:"hidden",onChange:A=>{var G;const R=(G=A.target.files)==null?void 0:G[0];R&&v(R,c,"logo"),A.target.value=""}})]}),l&&s.jsxs("div",{className:"mt-2 p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),s.jsx("img",{src:l,alt:"Logo preview",className:"h-12 w-auto object-contain"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"logoDarkUrl",children:"Dark Mode Logo (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{id:"logoDarkUrl",value:u,onChange:A=>d(A.target.value),placeholder:"https://example.com/logo-dark.png or upload","data-testid":"input-logo-dark-url",className:"flex-1"}),s.jsx($,{variant:"outline",size:"icon",disabled:x==="logoDark",onClick:()=>{var A;return(A=document.getElementById("logo-dark-upload"))==null?void 0:A.click()},"data-testid":"button-upload-logo-dark",children:x==="logoDark"?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(Qn,{className:"h-4 w-4"})}),s.jsx("input",{id:"logo-dark-upload",type:"file",accept:"image/*",className:"hidden",onChange:A=>{var G;const R=(G=A.target.files)==null?void 0:G[0];R&&v(R,d,"logoDark"),A.target.value=""}})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"faviconUrl",children:"Favicon"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{id:"faviconUrl",value:f,onChange:A=>h(A.target.value),placeholder:"https://example.com/favicon.ico or upload","data-testid":"input-favicon-url",className:"flex-1"}),s.jsx($,{variant:"outline",size:"icon",disabled:x==="favicon",onClick:()=>{var A;return(A=document.getElementById("favicon-upload"))==null?void 0:A.click()},"data-testid":"button-upload-favicon",children:x==="favicon"?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(Qn,{className:"h-4 w-4"})}),s.jsx("input",{id:"favicon-upload",type:"file",accept:"image/*,.ico",className:"hidden",onChange:A=>{var G;const R=(G=A.target.files)==null?void 0:G[0];R&&v(R,h,"favicon"),A.target.value=""}})]})]}),s.jsxs($,{onClick:K,disabled:P.isPending,"data-testid":"button-save-branding",children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),P.isPending?"Saving...":"Save Branding Settings"]})]})]}),s.jsxs(re,{children:[s.jsxs(Ue,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(aG,{className:"h-5 w-5"}),"Navigation Items"]}),s.jsx(kt,{children:"Manage the navigation links that appear in the header."})]}),s.jsxs($,{onClick:()=>{T(),r(null),a(!0)},"data-testid":"button-add-nav-item",children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.jsx(se,{children:S&&S.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{className:"w-[50px]",children:"Order"}),s.jsx(de,{children:"Label"}),s.jsx(de,{children:"Link"}),s.jsx(de,{children:"Visibility"}),s.jsx(de,{children:"Actions"})]})}),s.jsx(Yr,{children:S.map(A=>s.jsxs(st,{"data-testid":`row-nav-${A.id}`,children:[s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ep,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:A.sortOrder})]})}),s.jsx(ie,{className:"font-medium",children:A.label}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[A.href,A.target==="_blank"&&s.jsx(hc,{className:"h-3 w-3"})]})}),s.jsx(ie,{children:A.isVisible?s.jsx(ue,{variant:"default",className:"bg-green-600",children:"Visible"}):s.jsx(ue,{variant:"secondary",children:"Hidden"})}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>M(A),"data-testid":`button-edit-nav-${A.id}`,children:s.jsx(Jr,{className:"h-4 w-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>I.mutate(A.id),"data-testid":`button-delete-nav-${A.id}`,children:s.jsx(mr,{className:"h-4 w-4"})})]})})]},A.id))})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No navigation items configured. Click "Add Item" to create one.'})})]}),s.jsx(It,{open:n,onOpenChange:a,children:s.jsxs(Et,{children:[s.jsx(Rt,{children:s.jsx($t,{children:t?"Edit Navigation Item":"Add Navigation Item"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"navLabel",children:"Label"}),s.jsx(Q,{id:"navLabel",value:i.label,onChange:A=>o({...i,label:A.target.value}),placeholder:"Home","data-testid":"input-nav-label"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"navHref",children:"Link URL"}),s.jsx(Q,{id:"navHref",value:i.href,onChange:A=>o({...i,href:A.target.value}),placeholder:"/home or https://...","data-testid":"input-nav-href"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"navOrder",children:"Sort Order"}),s.jsx(Q,{id:"navOrder",type:"number",value:i.sortOrder,onChange:A=>o({...i,sortOrder:parseInt(A.target.value)||0}),"data-testid":"input-nav-order"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"navTarget",children:"Link Target"}),s.jsxs(Ct,{value:i.target,onValueChange:A=>o({...i,target:A}),children:[s.jsx(Nt,{"data-testid":"select-nav-target",children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"_self",children:"Same Window"}),s.jsx(Oe,{value:"_blank",children:"New Window"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(B,{htmlFor:"navVisible",children:"Visible"}),s.jsx(Wt,{id:"navVisible",checked:i.isVisible,onCheckedChange:A=>o({...i,isVisible:A}),"data-testid":"switch-nav-visible"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(B,{htmlFor:"navAuth",children:"Requires Authentication"}),s.jsx(Wt,{id:"navAuth",checked:i.requiresAuth,onCheckedChange:A=>o({...i,requiresAuth:A}),"data-testid":"switch-nav-auth"})]}),s.jsxs($,{className:"w-full",onClick:V,disabled:E.isPending||O.isPending,"data-testid":"button-save-nav-item",children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),t?"Update Item":"Create Item"]})]})]})})]})})}var j$e=Symbol("radix.slottable");function N$e(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=j$e,t}var T9="AlertDialog",[_$e]=Cn(T9,[M6]),so=M6(),I9=e=>{const{__scopeAlertDialog:t,...r}=e,n=so(t);return s.jsx(SC,{...n,...r,modal:!0})};I9.displayName=T9;var S$e="AlertDialogTrigger",R9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=so(r);return s.jsx(J6,{...a,...n,ref:t})});R9.displayName=S$e;var k$e="AlertDialogPortal",$9=e=>{const{__scopeAlertDialog:t,...r}=e,n=so(t);return s.jsx(kC,{...n,...r})};$9.displayName=k$e;var C$e="AlertDialogOverlay",M9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=so(r);return s.jsx(Wb,{...a,...n,ref:t})});M9.displayName=C$e;var ed="AlertDialogContent",[P$e,E$e]=_$e(ed),A$e=N$e("AlertDialogContent"),D9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=so(r),o=y.useRef(null),l=dt(t,o),c=y.useRef(null);return s.jsx(ioe,{contentName:ed,titleName:L9,docsSlug:"alert-dialog",children:s.jsx(P$e,{scope:r,cancelRef:c,children:s.jsxs(Kb,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ne(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(A$e,{children:n}),s.jsx(T$e,{contentRef:o})]})})})});D9.displayName=ed;var L9="AlertDialogTitle",F9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=so(r);return s.jsx(CC,{...a,...n,ref:t})});F9.displayName=L9;var U9="AlertDialogDescription",B9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=so(r);return s.jsx(PC,{...a,...n,ref:t})});B9.displayName=U9;var O$e="AlertDialogAction",V9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=so(r);return s.jsx(EC,{...a,...n,ref:t})});V9.displayName=O$e;var q9="AlertDialogCancel",z9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=E$e(q9,r),i=so(r),o=dt(t,a);return s.jsx(EC,{...i,...n,ref:o})});z9.displayName=q9;var T$e=({contentRef:e})=>{const t=`\`${ed}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ed}\` by passing a \`${U9}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ed}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},I$e=I9,R$e=R9,$$e=$9,W9=M9,K9=D9,H9=V9,G9=z9,Q9=F9,Y9=B9;const Df=I$e,Z2=R$e,M$e=$$e,X9=y.forwardRef(({className:e,...t},r)=>s.jsx(W9,{className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));X9.displayName=W9.displayName;const Uc=y.forwardRef(({className:e,...t},r)=>s.jsxs(M$e,{children:[s.jsx(X9,{}),s.jsx(K9,{ref:r,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Uc.displayName=K9.displayName;const Bc=({className:e,...t})=>s.jsx("div",{className:ye("flex flex-col space-y-2 text-center sm:text-left",e),...t});Bc.displayName="AlertDialogHeader";const Vc=({className:e,...t})=>s.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Vc.displayName="AlertDialogFooter";const qc=y.forwardRef(({className:e,...t},r)=>s.jsx(Q9,{ref:r,className:ye("text-lg font-semibold",e),...t}));qc.displayName=Q9.displayName;const zc=y.forwardRef(({className:e,...t},r)=>s.jsx(Y9,{ref:r,className:ye("text-sm text-muted-foreground",e),...t}));zc.displayName=Y9.displayName;const Wc=y.forwardRef(({className:e,...t},r)=>s.jsx(H9,{ref:r,className:ye(zk(),e),...t}));Wc.displayName=H9.displayName;const Kc=y.forwardRef(({className:e,...t},r)=>s.jsx(G9,{ref:r,className:ye(zk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Kc.displayName=G9.displayName;const D$e=la({title:vt().min(1,"Title is required"),icon:vt().optional(),sortOrder:qb.number().default(0),isActive:wC().default(!0)}),L$e=la({categoryId:vt().min(1,"Category is required"),question:vt().min(1,"Question is required"),answer:vt().min(1,"Answer is required"),sortOrder:qb.number().default(0),isActive:wC().default(!0)}),F$e=[{value:"help-circle",label:"Help Circle"},{value:"users",label:"Users"},{value:"calendar",label:"Calendar"},{value:"credit-card",label:"Credit Card"},{value:"building-2",label:"Building"},{value:"shield",label:"Shield"},{value:"clock",label:"Clock"},{value:"settings",label:"Settings"}];function U$e(){const{toast:e}=gt(),[t,r]=y.useState(!1),[n,a]=y.useState(!1),[i,o]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!1),[f,h]=y.useState(null),[p,b]=y.useState(new Set),{data:m=[],isLoading:w}=ce({queryKey:["/api/admin/faq/categories"]}),{data:x=[],isLoading:g}=ce({queryKey:["/api/admin/faq/items"]}),v=$s({resolver:Ms(D$e),defaultValues:{title:"",icon:"help-circle",sortOrder:0,isActive:!0}}),j=$s({resolver:Ms(L$e),defaultValues:{categoryId:"",question:"",answer:"",sortOrder:0,isActive:!0}}),N=xe({mutationFn:async A=>await ve("POST","/api/admin/faq/categories",A),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category created successfully"}),r(!1),v.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),_=xe({mutationFn:async({id:A,data:R})=>await ve("PATCH",`/api/admin/faq/categories/${A}`,R),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category updated successfully"}),r(!1),o(null),v.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),S=xe({mutationFn:async A=>await ve("DELETE",`/api/admin/faq/categories/${A}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),Z.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"Category deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),k=xe({mutationFn:async A=>await ve("POST","/api/admin/faq/items",A),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item created successfully"}),a(!1),j.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),C=xe({mutationFn:async({id:A,data:R})=>await ve("PATCH",`/api/admin/faq/items/${A}`,R),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item updated successfully"}),a(!1),c(null),j.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),P=xe({mutationFn:async A=>await ve("DELETE",`/api/admin/faq/items/${A}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),E=A=>{o(A),v.reset({title:A.title,icon:A.icon||"help-circle",sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),r(!0)},O=A=>{c(A),j.reset({categoryId:A.categoryId,question:A.question,answer:A.answer,sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),a(!0)},I=A=>{i?_.mutate({id:i.id,data:A}):N.mutate(A)},T=A=>{l?C.mutate({id:l.id,data:A}):k.mutate(A)},M=()=>{f&&(f.type==="category"?S.mutate(f.id):P.mutate(f.id),d(!1),h(null))},V=A=>{b(R=>{const G=new Set(R);return G.has(A)?G.delete(A):G.add(A),G})},K=A=>x.filter(R=>R.categoryId===A).sort((R,G)=>(R.sortOrder||0)-(G.sortOrder||0));return w||g?s.jsx(nt,{title:"FAQ Management",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"FAQ Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-faq-management-title",children:"FAQ Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage frequently asked questions and categories"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(It,{open:t,onOpenChange:A=>{r(A),A||(o(null),v.reset())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{variant:"outline","data-testid":"button-add-category",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),s.jsxs(Et,{children:[s.jsx(Rt,{children:s.jsx($t,{children:i?"Edit Category":"Add Category"})}),s.jsx(Ls,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(I),className:"space-y-4",children:[s.jsx(Ze,{control:v.control,name:"title",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Title"}),s.jsx(Je,{children:s.jsx(Q,{...A,"data-testid":"input-category-title"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:v.control,name:"icon",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Icon"}),s.jsxs(Ct,{onValueChange:A.onChange,value:A.value,children:[s.jsx(Je,{children:s.jsx(Nt,{"data-testid":"select-category-icon",children:s.jsx(Pt,{placeholder:"Select an icon"})})}),s.jsx(_t,{children:F$e.map(R=>s.jsx(Oe,{value:R.value,children:R.label},R.value))})]}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:v.control,name:"sortOrder",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(Q,{type:"number",...A,"data-testid":"input-category-sort-order"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:v.control,name:"isActive",render:({field:A})=>s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Je,{children:s.jsx(Wt,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-category-active"})}),s.jsx(B,{children:"Active"})]})}),s.jsxs($,{type:"submit",className:"w-full",disabled:N.isPending||_.isPending,"data-testid":"button-save-category",children:[(N.isPending||_.isPending)&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Update":"Create"," Category"]})]})})]})]}),s.jsxs(It,{open:n,onOpenChange:A=>{a(A),A||(c(null),j.reset())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-faq-item",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Add FAQ Item"]})}),s.jsxs(Et,{className:"max-w-2xl",children:[s.jsx(Rt,{children:s.jsx($t,{children:l?"Edit FAQ Item":"Add FAQ Item"})}),s.jsx(Ls,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(T),className:"space-y-4",children:[s.jsx(Ze,{control:j.control,name:"categoryId",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Category"}),s.jsxs(Ct,{onValueChange:A.onChange,value:A.value,children:[s.jsx(Je,{children:s.jsx(Nt,{"data-testid":"select-item-category",children:s.jsx(Pt,{placeholder:"Select a category"})})}),s.jsx(_t,{children:m.map(R=>s.jsx(Oe,{value:R.id,children:R.title},R.id))})]}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:j.control,name:"question",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Question"}),s.jsx(Je,{children:s.jsx(Q,{...A,"data-testid":"input-item-question"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:j.control,name:"answer",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Answer"}),s.jsx(Je,{children:s.jsx(lt,{...A,rows:4,"data-testid":"input-item-answer"})}),s.jsx(rt,{})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Ze,{control:j.control,name:"sortOrder",render:({field:A})=>s.jsxs(Xe,{className:"flex-1",children:[s.jsx(tt,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(Q,{type:"number",...A,"data-testid":"input-item-sort-order"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:j.control,name:"isActive",render:({field:A})=>s.jsxs(Xe,{className:"flex items-center gap-2 pt-8",children:[s.jsx(Je,{children:s.jsx(Wt,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-item-active"})}),s.jsx(B,{children:"Active"})]})})]}),s.jsxs($,{type:"submit",className:"w-full",disabled:k.isPending||C.isPending,"data-testid":"button-save-item",children:[(k.isPending||C.isPending)&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),l?"Update":"Create"," FAQ Item"]})]})})]})]})]})]}),m.length===0?s.jsx(re,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(Js,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQ Categories"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first category to start adding FAQ items."})]})}):s.jsx("div",{className:"space-y-4",children:m.sort((A,R)=>(A.sortOrder||0)-(R.sortOrder||0)).map(A=>s.jsxs(re,{className:"overflow-visible","data-testid":`card-category-${A.id}`,children:[s.jsx(Ue,{className:"cursor-pointer",onClick:()=>V(A.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p.has(A.id)?s.jsx(fc,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(Ra,{className:"w-5 h-5 text-muted-foreground"}),s.jsx(Ke,{className:"text-lg",children:A.title}),!A.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Inactive"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",K(A.id).length," items)"]})]}),s.jsxs("div",{className:"flex gap-2",onClick:R=>R.stopPropagation(),children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>E(A),"data-testid":`button-edit-category-${A.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>{h({type:"category",id:A.id}),d(!0)},"data-testid":`button-delete-category-${A.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})]})}),p.has(A.id)&&s.jsx(se,{className:"pt-0",children:K(A.id).length===0?s.jsx("p",{className:"text-muted-foreground text-sm py-4",children:"No FAQ items in this category."}):s.jsx("div",{className:"space-y-2",children:K(A.id).map(R=>s.jsxs("div",{className:"border rounded-md p-4 flex items-start justify-between gap-4","data-testid":`item-faq-${R.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:R.question}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:R.answer}),!R.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded mt-2 inline-block",children:"Inactive"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>O(R),"data-testid":`button-edit-item-${R.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>{h({type:"item",id:R.id}),d(!0)},"data-testid":`button-delete-item-${R.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})]},R.id))})})]},A.id))}),s.jsx(Df,{open:u,onOpenChange:d,children:s.jsxs(Uc,{children:[s.jsxs(Bc,{children:[s.jsx(qc,{children:"Are you sure?"}),s.jsx(zc,{children:(f==null?void 0:f.type)==="category"?"This will delete the category and all its FAQ items. This action cannot be undone.":"This will delete the FAQ item. This action cannot be undone."})]}),s.jsxs(Vc,{children:[s.jsx(Kc,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Wc,{onClick:M,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})})}const fh={dimensions:{recommended:"800 x 800 px (1:1 square)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",dpi:"72-150 DPI (web optimized)",tips:["Use a well-lit, clear photo of the face","Avoid filters or heavy editing","Ensure the face is centered in the frame","Use a neutral or solid background if possible","Live selfie or camera capture is acceptable"]};function B$e(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState(""),[l,c]=y.useState(!1),[u,d]=y.useState(null),f=y.useRef(null),[h,p]=y.useState({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),{data:b,isLoading:m}=ce({queryKey:["/api/admin/users"]}),{data:w}=ce({queryKey:["/api/auth/user"]}),x=(w==null?void 0:w.role)==="SUPER_ADMIN",g=xe({mutationFn:async({id:P,data:E})=>await ve("PATCH",`/api/admin/users/${P}`,E),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Member updated successfully"}),a(!1),r(null),v()},onError:P=>{e({title:"Failed to update member",description:P.message||"An error occurred",variant:"destructive"})}}),v=()=>{p({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),d(null),f.current&&(f.current.value="")},j=async P=>{var O;const E=(O=P.target.files)==null?void 0:O[0];if(E){if(!["image/jpeg","image/png","image/webp"].includes(E.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(E.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const I=new FormData;I.append("image",E);const T=await fetch("/api/admin/upload",{method:"POST",body:I,credentials:"include"});if(!T.ok){let V="Upload failed";try{V=(await T.json()).message||V}catch{V=T.statusText||V}throw new Error(V)}const M=await T.json();d({name:E.name,url:M.imageUrl}),p(V=>({...V,profileImageUrl:M.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Profile photo has been uploaded."})}catch(I){e({title:"Upload failed",description:I.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1),f.current&&(f.current.value="")}}},N=P=>{r(P),p({firstName:P.firstName||"",lastName:P.lastName||"",phone:P.phone||"",profileImageUrl:P.profileImageUrl||"",role:P.role,isSafetyCertified:P.isSafetyCertified||!1,hasSignedWaiver:P.hasSignedWaiver||!1}),d(null),f.current&&(f.current.value=""),a(!0)},_=()=>{t&&g.mutate({id:t.id,data:h})},S=b==null?void 0:b.filter(P=>{var I,T;if(!i)return!0;const E=i.toLowerCase();return`${P.firstName||""} ${P.lastName||""}`.toLowerCase().includes(E)||((I=P.email)==null?void 0:I.toLowerCase().includes(E))||((T=P.phone)==null?void 0:T.toLowerCase().includes(E))}),k=P=>{switch(P){case"SUPER_ADMIN":return"destructive";case"ADMIN":return"default";default:return"secondary"}},C=P=>{var I,T,M;const E=((I=P.firstName)==null?void 0:I.charAt(0))||"",O=((T=P.lastName)==null?void 0:T.charAt(0))||"";return(E+O).toUpperCase()||((M=P.email)==null?void 0:M.charAt(0).toUpperCase())||"?"};return s.jsx(nt,{title:"Members Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-members-title",children:"Members Management"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage member profiles, certifications, and profile photos"})]})}),s.jsxs(re,{children:[s.jsxs(Ue,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-4",children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Er,{className:"w-5 h-5"}),"All Members (",(S==null?void 0:S.length)||0,")"]}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(ub,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search by name, email, phone...",value:i,onChange:P=>o(P.target.value),className:"pl-9","data-testid":"input-member-search"})]})]}),s.jsx(se,{children:m?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{className:"w-16",children:"Photo"}),s.jsx(de,{children:"Name"}),s.jsx(de,{children:"Email"}),s.jsx(de,{children:"Phone"}),s.jsx(de,{children:"Role"}),s.jsx(de,{children:"Certifications"}),s.jsx(de,{className:"w-20",children:"Actions"})]})}),s.jsxs(Yr,{children:[S==null?void 0:S.map(P=>s.jsxs(st,{"data-testid":`row-member-${P.id}`,children:[s.jsx(ie,{children:s.jsxs(Pd,{className:"w-10 h-10",children:[s.jsx(Ed,{src:P.profileImageUrl||void 0,alt:`${P.firstName} ${P.lastName}`}),s.jsx(Ad,{children:C(P)})]})}),s.jsx(ie,{className:"font-medium",children:P.firstName||P.lastName?`${P.firstName||""} ${P.lastName||""}`.trim():s.jsx("span",{className:"text-muted-foreground",children:"Not set"})}),s.jsx(ie,{children:P.email||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ie,{children:P.phone||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ie,{children:s.jsx(ue,{variant:k(P.role),children:P.role})}),s.jsx(ie,{children:s.jsxs("div",{className:"flex gap-1",children:[P.isSafetyCertified&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Safety"}),P.hasSignedWaiver&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Waiver"}),!P.isSafetyCertified&&!P.hasSignedWaiver&&s.jsx("span",{className:"text-muted-foreground text-sm",children:"None"})]})}),s.jsx(ie,{children:s.jsx($,{variant:"ghost",size:"icon",onClick:()=>N(P),"data-testid":`button-edit-member-${P.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})})})]},P.id)),(S==null?void 0:S.length)===0&&s.jsx(st,{children:s.jsx(ie,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No members found"})})]})]})})]}),s.jsx(It,{open:n,onOpenChange:P=>{a(P),P||(r(null),v())},children:s.jsxs(Et,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:"Edit Member Profile"})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(B,{className:"text-base font-medium flex items-center gap-2",children:[s.jsx(E5,{className:"w-4 h-4"}),"Profile Photo"]}),s.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(Pd,{className:"w-20 h-20",children:[s.jsx(Ed,{src:h.profileImageUrl||void 0}),s.jsx(Ad,{className:"text-xl",children:t?C(t):"?"})]}),s.jsx("div",{className:"flex-1 space-y-3",children:s.jsxs(sa,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Rs,{className:"grid w-full grid-cols-2",children:[s.jsxs(Bt,{value:"upload","data-testid":"tab-upload",children:[s.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Upload"]}),s.jsxs(Bt,{value:"url","data-testid":"tab-url",children:[s.jsx(Aa,{className:"w-4 h-4 mr-2"}),"URL"]})]}),s.jsxs(Vt,{value:"upload",className:"space-y-3 mt-3",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:j,className:"hidden","data-testid":"input-member-image-file"}),s.jsx($,{type:"button",variant:"outline",onClick:()=>{var P;return(P=f.current)==null?void 0:P.click()},disabled:l,className:"w-full","data-testid":"button-upload-member-image",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Choose File or Take Selfie"]})}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(xn,{className:"w-4 h-4"}),u.name]})]}),s.jsx(Vt,{value:"url",className:"space-y-3 mt-3",children:s.jsx(Q,{value:h.profileImageUrl,onChange:P=>p({...h,profileImageUrl:P.target.value}),placeholder:"Enter image URL...","data-testid":"input-member-image-url"})})]})})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(cb,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Image Guidelines:"}),s.jsxs("ul",{className:"list-disc ml-4 space-y-0.5",children:[s.jsxs("li",{children:["Dimensions: ",fh.dimensions.recommended]}),s.jsxs("li",{children:["Formats: ",fh.formats.join(", ")]}),s.jsxs("li",{children:["Max size: ",fh.maxFileSize]}),s.jsxs("li",{children:["DPI: ",fh.dpi]})]}),s.jsx("p",{className:"font-medium mt-2",children:"Tips:"}),s.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:fh.tips.map((P,E)=>s.jsx("li",{children:P},E))})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"firstName",children:"First Name"}),s.jsx(Q,{id:"firstName",value:h.firstName,onChange:P=>p({...h,firstName:P.target.value}),"data-testid":"input-member-firstname"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"lastName",children:"Last Name"}),s.jsx(Q,{id:"lastName",value:h.lastName,onChange:P=>p({...h,lastName:P.target.value}),"data-testid":"input-member-lastname"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Q,{id:"phone",value:h.phone,onChange:P=>p({...h,phone:P.target.value}),placeholder:"+92 300 1234567","data-testid":"input-member-phone"})]}),x?s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"role",children:"Role"}),s.jsxs(Ct,{value:h.role,onValueChange:P=>p({...h,role:P}),children:[s.jsx(Nt,{"data-testid":"select-member-role",children:s.jsx(Pt,{placeholder:"Select role..."})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"USER",children:"User"}),s.jsx(Oe,{value:"ADMIN",children:"Admin"}),s.jsx(Oe,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Role"}),s.jsxs("div",{className:"flex items-center gap-2 h-9 px-3 rounded-md border bg-muted/50",children:[s.jsx(ue,{variant:k(h.role),children:h.role}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Only super admins can change roles)"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(B,{className:"text-base font-medium",children:"Certifications"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"safetyCertified",className:"font-normal",children:"Safety Certified"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has completed safety training"})]}),s.jsx(Wt,{id:"safetyCertified",checked:h.isSafetyCertified,onCheckedChange:P=>p({...h,isSafetyCertified:P}),"data-testid":"switch-safety-certified"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"signedWaiver",className:"font-normal",children:"Signed Waiver"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has signed liability waiver"})]}),s.jsx(Wt,{id:"signedWaiver",checked:h.hasSignedWaiver,onCheckedChange:P=>p({...h,hasSignedWaiver:P}),"data-testid":"switch-signed-waiver"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),s.jsxs($,{onClick:_,disabled:g.isPending,"data-testid":"button-save-member",children:[g.isPending&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})]})})}const Dj=[{key:"instagram",label:"Instagram",icon:gce,placeholder:"https://instagram.com/yourpage"},{key:"facebook",label:"Facebook",icon:uU,placeholder:"https://facebook.com/yourpage"},{key:"youtube",label:"YouTube",icon:yce,placeholder:"https://youtube.com/@yourchannel"},{key:"twitter",label:"Twitter/X",icon:dU,placeholder:"https://twitter.com/yourhandle"},{key:"linkedin",label:"LinkedIn",icon:vce,placeholder:"https://linkedin.com/company/yourcompany"}];function V$e(){const{toast:e}=gt(),[t,r]=y.useState(""),[n,a]=y.useState(""),[i,o]=y.useState(""),[l,c]=y.useState(""),[u,d]=y.useState({}),[f,h]=y.useState(""),[p,b]=y.useState(!1),[m,w]=y.useState(""),{data:x,isLoading:g}=ce({queryKey:["/api/admin/site-settings"]}),v=C=>{var P;return((P=x==null?void 0:x.find(E=>E.key===C))==null?void 0:P.value)||""};y.useEffect(()=>{if(x&&!g){r(v("email")),a(v("phone")),o(v("address")),c(v("operating_hours"));const C={};Dj.forEach(P=>{C[P.key]=v(P.key)}),d(C),h(v("whatsapp_phone")),b(v("whatsapp_button_visible")==="true"),w(v("whatsapp_message"))}},[x,g]);const j=xe({mutationFn:async C=>{for(const P of C)await ve("POST","/api/admin/site-settings",P)},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/site-settings"]}),Z.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Settings saved successfully"})},onError:()=>{e({title:"Failed to save settings",variant:"destructive"})}}),N=()=>{j.mutate([{key:"email",value:t,label:"Contact Email",category:"contact"},{key:"phone",value:n,label:"Contact Phone",category:"contact"},{key:"address",value:i,label:"Contact Address",category:"contact"},{key:"operating_hours",value:l,label:"Operating Hours",category:"contact"}])},_=()=>{const C=Dj.map(P=>({key:P.key,value:u[P.key]||"",label:`${P.label} URL`,category:"social"}));j.mutate(C)},S=()=>{j.mutate([{key:"whatsapp_phone",value:f,label:"WhatsApp Phone",category:"whatsapp"},{key:"whatsapp_button_visible",value:p?"true":"false",label:"WhatsApp Button Visible",category:"whatsapp"},{key:"whatsapp_message",value:m,label:"WhatsApp Default Message",category:"whatsapp"}])},k=(C,P)=>{d(E=>({...E,[C]:P}))};return g?s.jsx(nt,{title:"Site Settings",children:s.jsx("div",{className:"p-6",children:"Loading..."})}):s.jsx(nt,{title:"Site Settings",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Site Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage contact information, social media links, and WhatsApp settings"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(re,{children:[s.jsxs(Ue,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(X1,{className:"h-5 w-5"}),"Contact Information"]}),s.jsx(kt,{children:"Update your business contact details displayed on the Contact page and footer"})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"email",className:"flex items-center gap-2",children:[s.jsx(hf,{className:"h-4 w-4"}),"Email Address"]}),s.jsx(Q,{id:"email",type:"email",value:t,onChange:C=>r(C.target.value),placeholder:"info@thequarterdeck.pk","data-testid":"input-contact-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"phone",className:"flex items-center gap-2",children:[s.jsx(sx,{className:"h-4 w-4"}),"Phone Number"]}),s.jsx(Q,{id:"phone",value:n,onChange:C=>a(C.target.value),placeholder:"+92 51 1234567","data-testid":"input-contact-phone"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"address",className:"flex items-center gap-2",children:[s.jsx(ms,{className:"h-4 w-4"}),"Address"]}),s.jsx(lt,{id:"address",value:i,onChange:C=>o(C.target.value),placeholder:"Sector F-7, Islamabad, Pakistan",rows:2,"data-testid":"input-contact-address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"hours",className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"h-4 w-4"}),"Operating Hours"]}),s.jsx(lt,{id:"hours",value:l,onChange:C=>c(C.target.value),placeholder:"Mon-Fri: 6:00 AM - 11:00 PM | Sat-Sun: 7:00 AM - 10:00 PM",rows:2,"data-testid":"input-operating-hours"})]}),s.jsxs($,{onClick:N,disabled:j.isPending,className:"w-full","data-testid":"button-save-contact",children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),"Save Contact Info"]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(re,{children:[s.jsxs(Ue,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(X1,{className:"h-5 w-5"}),"Social Media Links"]}),s.jsx(kt,{children:"Manage your social media URLs shown in the footer and Contact page"})]}),s.jsxs(se,{className:"space-y-4",children:[Dj.map(C=>{const P=C.icon;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:C.key,className:"flex items-center gap-2",children:[s.jsx(P,{className:"h-4 w-4"}),C.label]}),s.jsx(Q,{id:C.key,value:u[C.key]||"",onChange:E=>k(C.key,E.target.value),placeholder:C.placeholder,"data-testid":`input-${C.key}`})]},C.key)}),s.jsxs($,{onClick:_,disabled:j.isPending,className:"w-full","data-testid":"button-save-social",children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),"Save Social Links"]})]})]}),s.jsxs(re,{children:[s.jsxs(Ue,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(xce,{className:"h-5 w-5 text-green-500"}),"WhatsApp Button"]}),s.jsx(kt,{children:"Configure the floating WhatsApp button for quick customer contact"})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(B,{htmlFor:"whatsapp-visible",className:"flex items-center gap-2",children:"Show WhatsApp Button"}),s.jsx(Wt,{id:"whatsapp-visible",checked:p,onCheckedChange:b,"data-testid":"switch-whatsapp-visible"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"whatsapp-phone",className:"flex items-center gap-2",children:[s.jsx(sx,{className:"h-4 w-4"}),"WhatsApp Phone Number"]}),s.jsx(Q,{id:"whatsapp-phone",value:f,onChange:C=>h(C.target.value),placeholder:"+92 300 1234567 (include country code)","data-testid":"input-whatsapp-phone"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Include country code, e.g., +92 for Pakistan"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"whatsapp-message",className:"flex items-center gap-2",children:[s.jsx(D5,{className:"h-4 w-4"}),"Default Message (Optional)"]}),s.jsx(lt,{id:"whatsapp-message",value:m,onChange:C=>w(C.target.value),placeholder:"Hello! I'd like to inquire about...",rows:2,"data-testid":"input-whatsapp-message"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pre-filled message when users click the WhatsApp button"})]}),s.jsxs($,{onClick:S,disabled:j.isPending,className:"w-full","data-testid":"button-save-whatsapp",children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),"Save WhatsApp Settings"]})]})]})]})]})]})})}const q$e={landing:"Landing Page",facilities:"Facilities",membership:"Membership",events:"Events",contact:"Contact",careers:"Careers",gallery:"Gallery",roadmap:"Roadmap",faq:"FAQ",rules:"Rules",leaderboard:"Leaderboard"};function z$e(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState({}),[i,o]=y.useState(null),{data:l,isLoading:c}=ce({queryKey:["/api/admin/hero-sections"]});y.useEffect(()=>{if(l){const b={};l.forEach(m=>{b[m.id]={...m}}),a(b)}},[l]);const u=xe({mutationFn:async({id:b,data:m})=>await ve("PATCH",`/api/admin/hero-sections/${b}`,m),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/hero-sections"]}),Z.invalidateQueries({queryKey:["/api/hero-sections"]}),e({title:"Hero section updated successfully"})},onError:()=>{e({title:"Failed to update hero section",variant:"destructive"})}}),d=async(b,m)=>{o(b);try{const w=new FormData;w.append("image",m);const x=await fetch("/api/admin/upload",{method:"POST",body:w,credentials:"include"});if(!x.ok){const v=await x.json();throw new Error(v.message||"Upload failed")}const g=await x.json();g.imageUrl&&(a(v=>({...v,[b]:{...v[b],backgroundImageUrl:g.imageUrl}})),e({title:"Image uploaded successfully"}))}catch(w){e({title:"Upload failed",description:w.message||"Failed to upload image",variant:"destructive"})}finally{o(null)}},f=(b,m,w)=>{a(x=>({...x,[b]:{...x[b],[m]:w}}))},h=b=>{const m=n[b];m&&u.mutate({id:b,data:m})},p=b=>{var w;const m=((w=n[b])==null?void 0:w.isActive)??!0;u.mutate({id:b,data:{isActive:!m}})};return c?s.jsx(nt,{title:"Hero Sections",children:s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsx(Re,{className:"h-6 w-6 animate-spin"})})}):s.jsx(nt,{title:"Hero Sections",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Hero Sections"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage hero banners for each page. Toggle visibility, update content, and customize appearance."})]}),s.jsxs("div",{className:"space-y-4",children:[l==null?void 0:l.map(b=>{const m=t===b.id,w=n[b.id]||b,x=w.isActive??!0;return s.jsxs(re,{className:x?"":"opacity-60",children:[s.jsx(Ue,{className:"cursor-pointer",onClick:()=>r(m?null:b.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Aa,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx(Ke,{className:"text-lg",children:q$e[b.page]||b.page}),s.jsx(kt,{children:b.title})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:x?"default":"secondary",children:x?"Visible":"Hidden"}),s.jsx($,{variant:"ghost",size:"icon",onClick:g=>{g.stopPropagation(),p(b.id)},"data-testid":`button-toggle-hero-${b.page}`,children:x?s.jsx(Is,{className:"h-4 w-4"}):s.jsx(Vi,{className:"h-4 w-4"})}),m?s.jsx(fc,{className:"h-4 w-4"}):s.jsx(Ra,{className:"h-4 w-4"})]})]})}),m&&s.jsxs(se,{className:"space-y-4 pt-0",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Title"}),s.jsx(Q,{value:w.title||"",onChange:g=>f(b.id,"title",g.target.value),placeholder:"Hero title","data-testid":`input-hero-title-${b.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Subtitle"}),s.jsx(Q,{value:w.subtitle||"",onChange:g=>f(b.id,"subtitle",g.target.value),placeholder:"Hero subtitle","data-testid":`input-hero-subtitle-${b.page}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Description"}),s.jsx(lt,{value:w.description||"",onChange:g=>f(b.id,"description",g.target.value),placeholder:"Optional description text",rows:2,"data-testid":`input-hero-description-${b.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Background Image URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{value:w.backgroundImageUrl||"",onChange:g=>f(b.id,"backgroundImageUrl",g.target.value),placeholder:"https://example.com/image.jpg or upload",className:"flex-1","data-testid":`input-hero-image-${b.page}`}),s.jsx($,{variant:"outline",size:"icon",disabled:i===b.id,onClick:()=>{var g;return(g=document.getElementById(`hero-upload-${b.id}`))==null?void 0:g.click()},"data-testid":`button-upload-hero-${b.page}`,children:i===b.id?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(Qn,{className:"h-4 w-4"})}),s.jsx("input",{id:`hero-upload-${b.id}`,type:"file",accept:"image/*",className:"hidden",onChange:g=>{var j;const v=(j=g.target.files)==null?void 0:j[0];v&&d(b.id,v),g.target.value=""}})]}),w.backgroundImageUrl&&s.jsx("div",{className:"mt-2 rounded-lg overflow-hidden h-32 bg-muted",children:s.jsx("img",{src:w.backgroundImageUrl,alt:"Preview",className:"w-full h-full object-cover"})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary CTA Text"}),s.jsx(Q,{value:w.ctaText||"",onChange:g=>f(b.id,"ctaText",g.target.value),placeholder:"Explore Now","data-testid":`input-hero-cta-${b.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary CTA Link"}),s.jsx(Q,{value:w.ctaLink||"",onChange:g=>f(b.id,"ctaLink",g.target.value),placeholder:"/facilities","data-testid":`input-hero-cta-link-${b.page}`})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary CTA Text"}),s.jsx(Q,{value:w.ctaSecondaryText||"",onChange:g=>f(b.id,"ctaSecondaryText",g.target.value),placeholder:"Learn More","data-testid":`input-hero-cta2-${b.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary CTA Link"}),s.jsx(Q,{value:w.ctaSecondaryLink||"",onChange:g=>f(b.id,"ctaSecondaryLink",g.target.value),placeholder:"/about","data-testid":`input-hero-cta2-link-${b.page}`})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Alignment"}),s.jsxs(Ct,{value:w.alignment||"center",onValueChange:g=>f(b.id,"alignment",g),children:[s.jsx(Nt,{"data-testid":`select-hero-alignment-${b.page}`,children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"left",children:"Left"}),s.jsx(Oe,{value:"center",children:"Center"}),s.jsx(Oe,{value:"right",children:"Right"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Height"}),s.jsxs(Ct,{value:w.height||"large",onValueChange:g=>f(b.id,"height",g),children:[s.jsx(Nt,{"data-testid":`select-hero-height-${b.page}`,children:s.jsx(Pt,{})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"small",children:"Small"}),s.jsx(Oe,{value:"medium",children:"Medium"}),s.jsx(Oe,{value:"large",children:"Large"}),s.jsx(Oe,{value:"full",children:"Full Screen"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{children:["Overlay Opacity (",w.overlayOpacity||50,"%)"]}),s.jsx(Q,{type:"range",min:"0",max:"100",value:w.overlayOpacity||50,onChange:g=>f(b.id,"overlayOpacity",parseInt(g.target.value)),className:"h-9","data-testid":`input-hero-overlay-${b.page}`})]})]}),s.jsxs($,{onClick:()=>h(b.id),disabled:u.isPending,className:"w-full","data-testid":`button-save-hero-${b.page}`,children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]},b.id)}),(!l||l.length===0)&&s.jsx(re,{children:s.jsx(se,{className:"p-8 text-center text-muted-foreground",children:"No hero sections found. Hero sections are created automatically when pages are first accessed."})})]})]})})}const r$=[{value:"default",label:"Default"},{value:"gradient",label:"Gradient"},{value:"image",label:"With Image"},{value:"minimal",label:"Minimal"}],Lj=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"membership",label:"Membership"},{value:"events",label:"Events"},{value:"contact",label:"Contact"},{value:"footer",label:"Footer"},{value:"global",label:"Global (All Pages)"}];function W$e(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState({}),[i,o]=y.useState(null),[l,c]=y.useState(!1),[u,d]=y.useState({key:"",title:"",subtitle:"",description:"",buttonText:"",buttonLink:"",secondaryButtonText:"",secondaryButtonLink:"",page:"landing",section:"",style:"default",isActive:!0}),{data:f,isLoading:h}=ce({queryKey:["/api/admin/ctas"]});y.useEffect(()=>{if(f){const j={};f.forEach(N=>{j[N.id]={...N}}),a(j)}},[f]);const p=xe({mutationFn:async({id:j,data:N})=>await ve("PATCH",`/api/admin/ctas/${j}`,N),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/ctas"]}),Z.invalidateQueries({queryKey:["/api/ctas"]}),e({title:"CTA updated successfully"})},onError:()=>{e({title:"Failed to update CTA",variant:"destructive"})}}),b=xe({mutationFn:async j=>await ve("POST","/api/admin/ctas",j),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/ctas"]}),c(!1),d({key:"",title:"",subtitle:"",description:"",buttonText:"",buttonLink:"",secondaryButtonText:"",secondaryButtonLink:"",page:"landing",section:"",style:"default",isActive:!0}),e({title:"CTA created successfully"})},onError:()=>{e({title:"Failed to create CTA",variant:"destructive"})}}),m=xe({mutationFn:async j=>await ve("DELETE",`/api/admin/ctas/${j}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/ctas"]}),e({title:"CTA deleted successfully"})},onError:()=>{e({title:"Failed to delete CTA",variant:"destructive"})}}),w=async(j,N)=>{o(j);try{const _=new FormData;_.append("image",N);const S=await fetch("/api/admin/upload",{method:"POST",body:_,credentials:"include"});if(!S.ok){const C=await S.json();throw new Error(C.message||"Upload failed")}const k=await S.json();k.imageUrl&&(a(C=>({...C,[j]:{...C[j],backgroundImageUrl:k.imageUrl}})),e({title:"Image uploaded successfully"}))}catch(_){e({title:"Upload failed",description:_.message||"Failed to upload image",variant:"destructive"})}finally{o(null)}},x=(j,N,_)=>{a(S=>({...S,[j]:{...S[j],[N]:_}}))},g=j=>{const N=n[j];N&&p.mutate({id:j,data:N})},v=j=>{var _;const N=((_=n[j])==null?void 0:_.isActive)??!0;p.mutate({id:j,data:{isActive:!N}})};return h?s.jsx(nt,{title:"CTAs",children:s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsx(Re,{className:"h-6 w-6 animate-spin"})})}):s.jsx(nt,{title:"CTAs",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Call-to-Action Buttons"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage CTA buttons and links throughout the site. Edit button text, URLs, and styling."})]}),s.jsxs(It,{open:l,onOpenChange:c,children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-cta",children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Add CTA"]})}),s.jsxs(Et,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:"Create New CTA"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Key (unique identifier)"}),s.jsx(Q,{value:u.key,onChange:j=>d({...u,key:j.target.value}),placeholder:"e.g., landing-membership","data-testid":"input-new-cta-key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Page"}),s.jsxs(Ct,{value:u.page,onValueChange:j=>d({...u,page:j}),children:[s.jsx(Nt,{"data-testid":"select-new-cta-page",children:s.jsx(Pt,{})}),s.jsx(_t,{children:Lj.map(j=>s.jsx(Oe,{value:j.value,children:j.label},j.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Title"}),s.jsx(Q,{value:u.title,onChange:j=>d({...u,title:j.target.value}),placeholder:"CTA Title","data-testid":"input-new-cta-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Subtitle"}),s.jsx(Q,{value:u.subtitle,onChange:j=>d({...u,subtitle:j.target.value}),placeholder:"Optional subtitle","data-testid":"input-new-cta-subtitle"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary Button Text"}),s.jsx(Q,{value:u.buttonText,onChange:j=>d({...u,buttonText:j.target.value}),placeholder:"Get Started","data-testid":"input-new-cta-button-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary Button Link"}),s.jsx(Q,{value:u.buttonLink,onChange:j=>d({...u,buttonLink:j.target.value}),placeholder:"/membership","data-testid":"input-new-cta-button-link"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary Button Text"}),s.jsx(Q,{value:u.secondaryButtonText,onChange:j=>d({...u,secondaryButtonText:j.target.value}),placeholder:"Learn More","data-testid":"input-new-cta-secondary-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary Button Link"}),s.jsx(Q,{value:u.secondaryButtonLink,onChange:j=>d({...u,secondaryButtonLink:j.target.value}),placeholder:"/about","data-testid":"input-new-cta-secondary-link"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Style"}),s.jsxs(Ct,{value:u.style,onValueChange:j=>d({...u,style:j}),children:[s.jsx(Nt,{"data-testid":"select-new-cta-style",children:s.jsx(Pt,{})}),s.jsx(_t,{children:r$.map(j=>s.jsx(Oe,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs($,{onClick:()=>b.mutate(u),disabled:!u.key||!u.title||b.isPending,className:"w-full","data-testid":"button-create-cta",children:[b.isPending?s.jsx(Re,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create CTA"]})]})]})]})]}),(!f||f.length===0)&&s.jsx(re,{children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx(zE,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No CTAs Yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first call-to-action button to get started."}),s.jsxs($,{onClick:()=>c(!0),children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Add CTA"]})]})}),s.jsx("div",{className:"space-y-4",children:f==null?void 0:f.map(j=>{var k;const N=t===j.id,_=n[j.id]||j,S=_.isActive??!0;return s.jsxs(re,{className:S?"":"opacity-60",children:[s.jsx(Ue,{className:"cursor-pointer",onClick:()=>r(N?null:j.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zE,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs(Ke,{className:"text-lg flex items-center gap-2",children:[j.title,s.jsx(ue,{variant:"outline",className:"font-mono text-xs",children:j.key})]}),s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx("span",{children:((k=Lj.find(C=>C.value===j.page))==null?void 0:k.label)||j.page}),j.buttonLink&&s.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[s.jsx(kk,{className:"h-3 w-3"}),j.buttonLink]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:S?"default":"secondary",children:S?"Active":"Inactive"}),s.jsx($,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),v(j.id)},"data-testid":`button-toggle-cta-${j.key}`,children:S?s.jsx(Is,{className:"h-4 w-4"}):s.jsx(Vi,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),confirm("Are you sure you want to delete this CTA?")&&m.mutate(j.id)},"data-testid":`button-delete-cta-${j.key}`,children:s.jsx(mr,{className:"h-4 w-4 text-destructive"})}),N?s.jsx(fc,{className:"h-4 w-4"}):s.jsx(Ra,{className:"h-4 w-4"})]})]})}),N&&s.jsxs(se,{className:"space-y-6 pt-0",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Title"}),s.jsx(Q,{value:_.title||"",onChange:C=>x(j.id,"title",C.target.value),"data-testid":`input-cta-title-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Subtitle"}),s.jsx(Q,{value:_.subtitle||"",onChange:C=>x(j.id,"subtitle",C.target.value),"data-testid":`input-cta-subtitle-${j.key}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Description"}),s.jsx(lt,{value:_.description||"",onChange:C=>x(j.id,"description",C.target.value),"data-testid":`textarea-cta-description-${j.key}`})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary Button Text"}),s.jsx(Q,{value:_.buttonText||"",onChange:C=>x(j.id,"buttonText",C.target.value),placeholder:"e.g., Get Started","data-testid":`input-cta-button-text-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary Button Link"}),s.jsx(Q,{value:_.buttonLink||"",onChange:C=>x(j.id,"buttonLink",C.target.value),placeholder:"e.g., /membership","data-testid":`input-cta-button-link-${j.key}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary Button Text"}),s.jsx(Q,{value:_.secondaryButtonText||"",onChange:C=>x(j.id,"secondaryButtonText",C.target.value),placeholder:"e.g., Learn More","data-testid":`input-cta-secondary-text-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary Button Link"}),s.jsx(Q,{value:_.secondaryButtonLink||"",onChange:C=>x(j.id,"secondaryButtonLink",C.target.value),placeholder:"e.g., /about","data-testid":`input-cta-secondary-link-${j.key}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Page"}),s.jsxs(Ct,{value:_.page||"landing",onValueChange:C=>x(j.id,"page",C),children:[s.jsx(Nt,{"data-testid":`select-cta-page-${j.key}`,children:s.jsx(Pt,{})}),s.jsx(_t,{children:Lj.map(C=>s.jsx(Oe,{value:C.value,children:C.label},C.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Section"}),s.jsx(Q,{value:_.section||"",onChange:C=>x(j.id,"section",C.target.value),placeholder:"e.g., header, footer","data-testid":`input-cta-section-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Style"}),s.jsxs(Ct,{value:_.style||"default",onValueChange:C=>x(j.id,"style",C),children:[s.jsx(Nt,{"data-testid":`select-cta-style-${j.key}`,children:s.jsx(Pt,{})}),s.jsx(_t,{children:r$.map(C=>s.jsx(Oe,{value:C.value,children:C.label},C.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Background Image"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{value:_.backgroundImageUrl||"",onChange:C=>x(j.id,"backgroundImageUrl",C.target.value),placeholder:"Image URL",className:"flex-1","data-testid":`input-cta-bg-image-${j.key}`}),s.jsxs("label",{children:[s.jsx($,{variant:"outline",size:"icon",disabled:i===j.id,asChild:!0,children:s.jsx("span",{children:i===j.id?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(Qn,{className:"h-4 w-4"})})}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:C=>{var E;const P=(E=C.target.files)==null?void 0:E[0];P&&w(j.id,P)}})]})]}),_.backgroundImageUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:_.backgroundImageUrl,alt:"CTA Background",className:"h-24 w-48 object-cover rounded-md border"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Background Color"}),s.jsx(Q,{value:_.backgroundColor||"",onChange:C=>x(j.id,"backgroundColor",C.target.value),placeholder:"e.g., #1a1a1a or gradient","data-testid":`input-cta-bg-color-${j.key}`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{checked:S,onCheckedChange:C=>x(j.id,"isActive",C),"data-testid":`switch-cta-active-${j.key}`}),s.jsx(B,{children:"Active"})]}),s.jsxs($,{onClick:()=>g(j.id),disabled:p.isPending,"data-testid":`button-save-cta-${j.key}`,children:[p.isPending?s.jsx(Re,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(er,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]},j.id)})})]})})}const n$=[{value:"ACTIVE",label:"Active"},{value:"COMING_SOON",label:"Coming Soon"},{value:"PLANNED",label:"Planned"}];function K$e(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState({}),[i,o]=y.useState(!1),[l,c]=y.useState({name:"",slug:"",city:"",country:"Pakistan",status:"PLANNED",isDefault:!1,sortOrder:0}),{data:u,isLoading:d}=ce({queryKey:["/api/admin/venues"]});y.useEffect(()=>{if(u){const x={};u.forEach(g=>{x[g.id]={...g}}),a(x)}},[u]);const f=xe({mutationFn:async({id:x,data:g})=>await ve("PATCH",`/api/admin/venues/${x}`,g),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/venues"]}),Z.invalidateQueries({queryKey:["/api/venues"]}),e({title:"Venue updated successfully"})},onError:()=>{e({title:"Failed to update venue",variant:"destructive"})}}),h=xe({mutationFn:async x=>await ve("POST","/api/admin/venues",x),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/venues"]}),Z.invalidateQueries({queryKey:["/api/venues"]}),o(!1),c({name:"",slug:"",city:"",country:"Pakistan",status:"PLANNED",isDefault:!1,sortOrder:0}),e({title:"Venue created successfully"})},onError:()=>{e({title:"Failed to create venue",variant:"destructive"})}}),p=xe({mutationFn:async x=>await ve("DELETE",`/api/admin/venues/${x}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/venues"]}),Z.invalidateQueries({queryKey:["/api/venues"]}),e({title:"Venue deleted successfully"})},onError:()=>{e({title:"Failed to delete venue",variant:"destructive"})}}),b=(x,g,v)=>{a(j=>({...j,[x]:{...j[x],[g]:v}}))},m=x=>{const g=n[x];if(g){const{id:v,createdAt:j,updatedAt:N,..._}=g;f.mutate({id:x,data:_})}},w=x=>x.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return d?s.jsx(nt,{title:"Venues Management",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"Venues Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-venues-title",children:"Venue Locations"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage multi-location venues (Islamabad, Lahore, Karachi, etc.)"})]}),s.jsxs(It,{open:i,onOpenChange:o,children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-venue",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Venue"]})}),s.jsxs(Et,{className:"sm:max-w-[500px]",children:[s.jsx(Rt,{children:s.jsx($t,{children:"Add New Venue"})}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-name",children:"Venue Name"}),s.jsx(Q,{id:"new-name",value:l.name,onChange:x=>{c({...l,name:x.target.value,slug:w(x.target.value)})},placeholder:"The Quarterdeck Lahore","data-testid":"input-new-venue-name"})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-slug",children:"Slug"}),s.jsx(Q,{id:"new-slug",value:l.slug,onChange:x=>c({...l,slug:x.target.value}),placeholder:"lahore","data-testid":"input-new-venue-slug"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-city",children:"City"}),s.jsx(Q,{id:"new-city",value:l.city,onChange:x=>c({...l,city:x.target.value}),placeholder:"Lahore","data-testid":"input-new-venue-city"})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-country",children:"Country"}),s.jsx(Q,{id:"new-country",value:l.country,onChange:x=>c({...l,country:x.target.value}),placeholder:"Pakistan","data-testid":"input-new-venue-country"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-status",children:"Status"}),s.jsxs(Ct,{value:l.status,onValueChange:x=>c({...l,status:x}),children:[s.jsx(Nt,{"data-testid":"select-new-venue-status",children:s.jsx(Pt,{})}),s.jsx(_t,{children:n$.map(x=>s.jsx(Oe,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-sort",children:"Sort Order"}),s.jsx(Q,{id:"new-sort",type:"number",value:l.sortOrder,onChange:x=>c({...l,sortOrder:parseInt(x.target.value)||0}),"data-testid":"input-new-venue-sort"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{checked:l.isDefault,onCheckedChange:x=>c({...l,isDefault:x}),"data-testid":"switch-new-venue-default"}),s.jsx(B,{children:"Default venue (selected by default in booking system)"})]}),s.jsxs($,{onClick:()=>h.mutate(l),disabled:!l.name||!l.city||!l.slug||h.isPending,className:"w-full","data-testid":"button-create-venue",children:[h.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Create Venue"]})]})]})]})]}),u!=null&&u.length?s.jsx("div",{className:"grid gap-4",children:u.map(x=>{const g=t===x.id,v=n[x.id]||x;return s.jsxs(re,{className:"overflow-hidden",children:[s.jsx(Ue,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r(g?null:x.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(vn,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs(Ke,{className:"text-lg flex items-center gap-2",children:[x.name,x.isDefault&&s.jsx(ue,{variant:"secondary",className:"text-xs",children:"Default"})]}),s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"w-3 h-3"}),x.city,", ",x.country||"Pakistan"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:x.status==="ACTIVE"?"default":x.status==="COMING_SOON"?"secondary":"outline",children:x.status==="ACTIVE"?"Active":x.status==="COMING_SOON"?"Coming Soon":"Planned"}),g?s.jsx(fc,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(Ra,{className:"w-5 h-5 text-muted-foreground"})]})]})}),g&&s.jsx(se,{className:"border-t pt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:`name-${x.id}`,children:"Venue Name"}),s.jsx(Q,{id:`name-${x.id}`,value:v.name||"",onChange:j=>b(x.id,"name",j.target.value),"data-testid":`input-venue-name-${x.id}`})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:`slug-${x.id}`,children:"Slug"}),s.jsx(Q,{id:`slug-${x.id}`,value:v.slug||"",onChange:j=>b(x.id,"slug",j.target.value),"data-testid":`input-venue-slug-${x.id}`})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:`city-${x.id}`,children:"City"}),s.jsx(Q,{id:`city-${x.id}`,value:v.city||"",onChange:j=>b(x.id,"city",j.target.value),"data-testid":`input-venue-city-${x.id}`})]}),s.jsxs("div",{children:[s.jsxs(B,{htmlFor:`country-${x.id}`,className:"flex items-center gap-1",children:[s.jsx(X1,{className:"w-3 h-3"})," Country"]}),s.jsx(Q,{id:`country-${x.id}`,value:v.country||"Pakistan",onChange:j=>b(x.id,"country",j.target.value),"data-testid":`input-venue-country-${x.id}`})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:`status-${x.id}`,children:"Status"}),s.jsxs(Ct,{value:v.status||"PLANNED",onValueChange:j=>b(x.id,"status",j),children:[s.jsx(Nt,{"data-testid":`select-venue-status-${x.id}`,children:s.jsx(Pt,{})}),s.jsx(_t,{children:n$.map(j=>s.jsx(Oe,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:`sort-${x.id}`,children:"Sort Order"}),s.jsx(Q,{id:`sort-${x.id}`,type:"number",value:v.sortOrder??0,onChange:j=>b(x.id,"sortOrder",parseInt(j.target.value)||0),"data-testid":`input-venue-sort-${x.id}`})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{checked:v.isDefault??!1,onCheckedChange:j=>b(x.id,"isDefault",j),"data-testid":`switch-venue-default-${x.id}`}),s.jsx(B,{children:"Default venue (auto-selected in booking system)"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs(Df,{children:[s.jsx(Z2,{asChild:!0,children:s.jsxs($,{variant:"destructive",size:"sm","data-testid":`button-delete-venue-${x.id}`,children:[s.jsx(mr,{className:"w-4 h-4 mr-2"})," Delete Venue"]})}),s.jsxs(Uc,{children:[s.jsxs(Bc,{children:[s.jsx(qc,{children:"Delete Venue?"}),s.jsxs(zc,{children:['This will permanently delete "',x.name,'" and all associated data. This action cannot be undone.']})]}),s.jsxs(Vc,{children:[s.jsx(Kc,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Wc,{onClick:()=>p.mutate(x.id),className:"bg-destructive text-destructive-foreground","data-testid":"button-confirm-delete",children:"Delete"})]})]})]}),s.jsxs($,{onClick:()=>m(x.id),disabled:f.isPending,"data-testid":`button-save-venue-${x.id}`,children:[f.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(er,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})})]},x.id)})}):s.jsx(re,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(ms,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Venues Yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first venue location to get started"}),s.jsxs($,{onClick:()=>o(!0),"data-testid":"button-add-first-venue",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add First Venue"]})]})})]})})}function H$e(){var C,P,E;const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(""),[f,h]=y.useState("pending"),{data:p,isLoading:b}=ce({queryKey:["/api/admin/membership-applications","PENDING"],queryFn:async()=>{const O=await fetch("/api/admin/membership-applications?status=PENDING",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch");return O.json()}}),{data:m,isLoading:w}=ce({queryKey:["/api/admin/membership-applications","APPROVED"],queryFn:async()=>{const O=await fetch("/api/admin/membership-applications?status=APPROVED",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch");return O.json()}}),{data:x,isLoading:g}=ce({queryKey:["/api/admin/membership-applications","REJECTED"],queryFn:async()=>{const O=await fetch("/api/admin/membership-applications?status=REJECTED",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch");return O.json()}}),v=xe({mutationFn:async({id:O,notes:I})=>await ve("POST",`/api/admin/membership-applications/${O}/approve`,{notes:I}),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/membership-applications"]}),e({title:"Application approved",description:"Membership has been activated and user notified."}),o(!1),r(null),d("")},onError:O=>{e({title:"Failed to approve application",description:O.message||"An error occurred",variant:"destructive"})}}),j=xe({mutationFn:async({id:O,notes:I})=>await ve("POST",`/api/admin/membership-applications/${O}/reject`,{notes:I}),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/membership-applications"]}),e({title:"Application rejected",description:"User has been notified."}),c(!1),r(null),d("")},onError:O=>{e({title:"Failed to reject application",description:O.message||"An error occurred",variant:"destructive"})}}),N=async O=>{try{const I=await fetch(`/api/admin/membership-applications/${O.id}`,{credentials:"include"});if(I.ok){const T=await I.json();r(T),a(!0)}}catch{e({title:"Failed to load application details",variant:"destructive"})}},_=O=>{switch(O){case"PENDING":return s.jsxs(ue,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:[s.jsx(Kt,{className:"w-3 h-3 mr-1"}),"Pending"]});case"APPROVED":return s.jsxs(ue,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[s.jsx(xn,{className:"w-3 h-3 mr-1"}),"Approved"]});case"REJECTED":return s.jsxs(ue,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[s.jsx(nx,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(ue,{variant:"secondary",children:O})}},S=O=>O==null?"N/A":`PKR ${O.toLocaleString()}`,k=(O,I)=>I?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Re,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):!O||O.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No applications found"}):s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Applicant"}),s.jsx(de,{children:"Tier Requested"}),s.jsx(de,{children:"Amount"}),s.jsx(de,{children:"Payment Method"}),s.jsx(de,{children:"Payment Proof"}),s.jsx(de,{children:"Submitted"}),s.jsx(de,{children:"Status"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsx(Yr,{children:O.map(T=>{var M,V,K;return s.jsxs(st,{"data-testid":`row-application-${T.id}`,children:[s.jsxs(ie,{className:"font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[((M=T.user)==null?void 0:M.firstName)||""," ",((V=T.user)==null?void 0:V.lastName)||""]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:(K=T.user)==null?void 0:K.email})]}),s.jsx(ie,{children:s.jsx(ue,{variant:"secondary",children:T.tierDesired})}),s.jsx(ie,{children:S(T.paymentAmount)}),s.jsx(ie,{children:T.paymentMethod||"N/A"}),s.jsx(ie,{children:T.paymentProofUrl?s.jsxs($,{variant:"ghost",size:"sm",onClick:()=>T.paymentProofUrl&&window.open(T.paymentProofUrl,"_blank"),"data-testid":`button-view-proof-${T.id}`,children:[s.jsx($a,{className:"w-4 h-4 mr-1"}),"View",s.jsx(hc,{className:"w-3 h-3 ml-1"})]}):s.jsxs("span",{className:"text-muted-foreground text-sm flex items-center gap-1",children:[s.jsx(Ap,{className:"w-3 h-3"}),"No proof"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(wr,{className:"w-3 h-3 text-muted-foreground"}),T.createdAt?Yn(new Date(T.createdAt),"MMM d, yyyy"):"N/A"]})}),s.jsx(ie,{children:_(T.status||"PENDING")}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>N(T),"data-testid":`button-view-application-${T.id}`,children:s.jsx(Is,{className:"w-4 h-4"})}),T.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx($,{variant:"ghost",size:"icon",className:"text-green-600",onClick:()=>{r(T),o(!0)},"data-testid":`button-approve-${T.id}`,children:s.jsx(xn,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>{r(T),c(!0)},"data-testid":`button-reject-${T.id}`,children:s.jsx(nx,{className:"w-4 h-4"})})]})]})})]},T.id)})})]});return s.jsxs(nt,{title:"Membership Applications",children:[s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(jd,{className:"w-5 h-5"}),"Membership Applications"]})}),s.jsx(se,{children:s.jsxs(sa,{value:f,onValueChange:h,children:[s.jsxs(Rs,{className:"mb-4",children:[s.jsxs(Bt,{value:"pending","data-testid":"tab-pending",children:["Pending",p&&p.length>0&&s.jsx(ue,{variant:"secondary",className:"ml-2",children:p.length})]}),s.jsx(Bt,{value:"approved","data-testid":"tab-approved",children:"Approved"}),s.jsx(Bt,{value:"rejected","data-testid":"tab-rejected",children:"Rejected"})]}),s.jsx(Vt,{value:"pending",children:k(p,b)}),s.jsx(Vt,{value:"approved",children:k(m,w)}),s.jsx(Vt,{value:"rejected",children:k(x,g)})]})})]}),s.jsx(It,{open:n,onOpenChange:a,children:s.jsxs(Et,{className:"max-w-2xl",children:[s.jsx(Rt,{children:s.jsx($t,{children:"Application Details"})}),t&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Applicant"}),s.jsxs("p",{className:"font-medium",children:[(C=t.user)==null?void 0:C.firstName," ",(P=t.user)==null?void 0:P.lastName]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(E=t.user)==null?void 0:E.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx("div",{className:"mt-1",children:_(t.status||"PENDING")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Requested Tier"}),s.jsx("p",{className:"font-medium",children:t.tierDesired})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Amount"}),s.jsx("p",{className:"font-medium",children:S(t.paymentAmount)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Method"}),s.jsx("p",{className:"font-medium",children:t.paymentMethod||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Reference"}),s.jsx("p",{className:"font-medium",children:t.paymentReference||"N/A"})]})]}),t.paymentProofUrl&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Proof"}),s.jsx("div",{className:"mt-2",children:s.jsxs($,{variant:"outline",onClick:()=>t.paymentProofUrl&&window.open(t.paymentProofUrl,"_blank"),"data-testid":"button-view-proof-detail",children:[s.jsx($a,{className:"w-4 h-4 mr-2"}),"View Payment Proof",s.jsx(hc,{className:"w-3 h-3 ml-2"})]})})]}),t.adminNotes&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Admin Notes"}),s.jsx("p",{className:"mt-1 p-3 bg-muted rounded-md",children:t.adminNotes})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("label",{className:"font-medium",children:"Submitted"}),s.jsx("p",{children:t.createdAt?Yn(new Date(t.createdAt),"PPpp"):"N/A"})]})]})]})}),s.jsx(It,{open:i,onOpenChange:o,children:s.jsxs(Et,{children:[s.jsxs(Rt,{children:[s.jsx($t,{children:"Approve Application"}),s.jsxs(oi,{children:["This will activate a ",t==null?void 0:t.tierDesired," membership for this user."]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Admin Notes (optional)"}),s.jsx(lt,{value:u,onChange:O=>d(O.target.value),placeholder:"Add any notes about this approval...",className:"mt-1","data-testid":"input-approve-notes"})]})}),s.jsxs(IN,{children:[s.jsx($,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsxs($,{onClick:()=>t&&v.mutate({id:t.id,notes:u}),disabled:v.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approve",children:[v.isPending&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Approve Application"]})]})]})}),s.jsx(It,{open:l,onOpenChange:c,children:s.jsxs(Et,{children:[s.jsxs(Rt,{children:[s.jsx($t,{children:"Reject Application"}),s.jsx(oi,{children:"Please provide a reason for rejection. The user will be notified."})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Reason for Rejection"}),s.jsx(lt,{value:u,onChange:O=>d(O.target.value),placeholder:"Explain why this application is being rejected...",className:"mt-1","data-testid":"input-reject-reason"})]})}),s.jsxs(IN,{children:[s.jsx($,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsxs($,{variant:"destructive",onClick:()=>t&&j.mutate({id:t.id,notes:u}),disabled:j.isPending,"data-testid":"button-confirm-reject",children:[j.isPending&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Reject Application"]})]})]})})]})}function G$e(){const{toast:e}=gt(),[t,r]=y.useState("certifications"),[n,a]=y.useState(null),[i,o]=y.useState(!1),[l,c]=y.useState({slug:"",name:"",description:"",facilityId:"",validityMonths:12,requirements:"",icon:"",isActive:!0,sortOrder:0}),[u,d]=y.useState(null),[f,h]=y.useState(!1),[p,b]=y.useState({certificationId:"",title:"",description:"",instructor:"",scheduledDate:"",duration:60,capacity:10,price:0,location:"",isActive:!0}),[m,w]=y.useState(!1),[x,g]=y.useState({userId:"",certificationId:"",notes:""}),{data:v=[],isLoading:j}=ce({queryKey:["/api/admin/certifications"]}),{data:N=[]}=ce({queryKey:["/api/admin/facilities"]}),{data:_=[],isLoading:S}=ce({queryKey:["/api/admin/certification-classes"]}),{data:k=[],isLoading:C}=ce({queryKey:["/api/admin/user-certifications"]}),{data:P=[]}=ce({queryKey:["/api/admin/users"]}),E=xe({mutationFn:async L=>await ve("POST","/api/admin/certifications",L),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification created successfully"}),o(!1),R()},onError:()=>{e({title:"Failed to create certification",variant:"destructive"})}}),O=xe({mutationFn:async({id:L,data:te})=>await ve("PATCH",`/api/admin/certifications/${L}`,te),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification updated successfully"}),o(!1),a(null),R()},onError:()=>{e({title:"Failed to update certification",variant:"destructive"})}}),I=xe({mutationFn:async L=>await ve("DELETE",`/api/admin/certifications/${L}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification deleted successfully"})},onError:()=>{e({title:"Failed to delete certification",variant:"destructive"})}}),T=xe({mutationFn:async L=>await ve("POST","/api/admin/certification-classes",L),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class created successfully"}),h(!1),G()},onError:()=>{e({title:"Failed to create class",variant:"destructive"})}}),M=xe({mutationFn:async({id:L,data:te})=>await ve("PATCH",`/api/admin/certification-classes/${L}`,te),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class updated successfully"}),h(!1),d(null),G()},onError:()=>{e({title:"Failed to update class",variant:"destructive"})}}),V=xe({mutationFn:async L=>await ve("DELETE",`/api/admin/certification-classes/${L}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class deleted successfully"})},onError:()=>{e({title:"Failed to delete class",variant:"destructive"})}}),K=xe({mutationFn:async L=>await ve("POST","/api/admin/user-certifications",L),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/user-certifications"]}),e({title:"Certification issued successfully"}),w(!1),Y()},onError:()=>{e({title:"Failed to issue certification",variant:"destructive"})}}),A=xe({mutationFn:async({id:L,notes:te})=>await ve("POST",`/api/admin/user-certifications/${L}/revoke`,{notes:te}),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/user-certifications"]}),e({title:"Certification revoked successfully"})},onError:()=>{e({title:"Failed to revoke certification",variant:"destructive"})}}),R=()=>{c({slug:"",name:"",description:"",facilityId:"",validityMonths:12,requirements:"",icon:"",isActive:!0,sortOrder:0})},G=()=>{b({certificationId:"",title:"",description:"",instructor:"",scheduledDate:"",duration:60,capacity:10,price:0,location:"",isActive:!0})},Y=()=>{g({userId:"",certificationId:"",notes:""})},F=L=>{a(L),c({slug:L.slug,name:L.name,description:L.description||"",facilityId:L.facilityId||"",validityMonths:L.validityMonths||12,requirements:L.requirements||"",icon:L.icon||"",isActive:L.isActive??!0,sortOrder:L.sortOrder||0}),o(!0)},X=L=>{d(L),b({certificationId:L.certificationId,title:L.title,description:L.description||"",instructor:L.instructor||"",scheduledDate:L.scheduledDate?new Date(L.scheduledDate).toISOString().slice(0,16):"",duration:L.duration||60,capacity:L.capacity||10,price:L.price||0,location:L.location||"",isActive:L.isActive??!0}),h(!0)},le=()=>{n?O.mutate({id:n.id,data:l}):E.mutate(l)},he=()=>{const L={...p,scheduledDate:p.scheduledDate?new Date(p.scheduledDate).toISOString():""};u?M.mutate({id:u.id,data:L}):T.mutate(L)},je=L=>{var te;return((te=v.find(H=>H.id===L))==null?void 0:te.name)||"Unknown"},ee=L=>{var te;return L?((te=N.find(H=>H.id===L))==null?void 0:te.name)||"Unknown":"-"},we=L=>{const te=P.find(H=>H.id===L);return te?`${te.firstName||""} ${te.lastName||""}`.trim()||te.email:"Unknown"};return j||S||C?s.jsx(nt,{title:"Certifications",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Certifications",children:s.jsxs(sa,{value:t,onValueChange:r,className:"space-y-6",children:[s.jsxs(Rs,{className:"grid w-full grid-cols-3 max-w-md",children:[s.jsxs(Bt,{value:"certifications",className:"gap-2",children:[s.jsx(ti,{className:"w-4 h-4"}),"Types"]}),s.jsxs(Bt,{value:"classes",className:"gap-2",children:[s.jsx(wr,{className:"w-4 h-4"}),"Classes"]}),s.jsxs(Bt,{value:"user-certs",className:"gap-2",children:[s.jsx(Er,{className:"w-4 h-4"}),"Issued"]})]}),s.jsxs(Vt,{value:"certifications",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Define certification types for restricted facilities like the Air Rifle Range."}),s.jsxs(It,{open:i,onOpenChange:L=>{o(L),L||(a(null),R())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-certification",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Certification"]})}),s.jsxs(Et,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:n?"Edit Certification":"Add New Certification"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-name",children:"Name"}),s.jsx(Q,{id:"cert-name",value:l.name,onChange:L=>c({...l,name:L.target.value}),placeholder:"Air Rifle Safety Certification","data-testid":"input-cert-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-slug",children:"Slug"}),s.jsx(Q,{id:"cert-slug",value:l.slug,onChange:L=>c({...l,slug:L.target.value}),placeholder:"air-rifle-safety","data-testid":"input-cert-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-description",children:"Description"}),s.jsx(lt,{id:"cert-description",value:l.description,onChange:L=>c({...l,description:L.target.value}),rows:3,"data-testid":"input-cert-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-facility",children:"Linked Facility"}),s.jsxs(Ct,{value:l.facilityId,onValueChange:L=>c({...l,facilityId:L}),children:[s.jsx(Nt,{"data-testid":"select-cert-facility",children:s.jsx(Pt,{placeholder:"Select facility"})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"none",children:"None"}),N.map(L=>s.jsx(Oe,{value:L.id,children:L.name},L.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-validity",children:"Validity (months)"}),s.jsx(Q,{id:"cert-validity",type:"number",value:l.validityMonths,onChange:L=>c({...l,validityMonths:parseInt(L.target.value)||12}),"data-testid":"input-cert-validity"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-requirements",children:"Requirements"}),s.jsx(lt,{id:"cert-requirements",value:l.requirements,onChange:L=>c({...l,requirements:L.target.value}),placeholder:"Must complete safety course, pass written exam, demonstrate proper handling...",rows:3,"data-testid":"input-cert-requirements"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-icon",children:"Icon (lucide icon name)"}),s.jsx(Q,{id:"cert-icon",value:l.icon,onChange:L=>c({...l,icon:L.target.value}),placeholder:"shield-check","data-testid":"input-cert-icon"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-sort",children:"Sort Order"}),s.jsx(Q,{id:"cert-sort",type:"number",value:l.sortOrder,onChange:L=>c({...l,sortOrder:parseInt(L.target.value)||0}),"data-testid":"input-cert-sort"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"cert-active",checked:l.isActive,onCheckedChange:L=>c({...l,isActive:L}),"data-testid":"switch-cert-active"}),s.jsx(B,{htmlFor:"cert-active",children:"Active"})]}),s.jsxs($,{onClick:le,disabled:E.isPending||O.isPending,"data-testid":"button-submit-cert",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),n?"Update":"Create"," Certification"]})]})]})]})]}),s.jsx(re,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Name"}),s.jsx(de,{children:"Facility"}),s.jsx(de,{children:"Validity"}),s.jsx(de,{children:"Status"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsx(Yr,{children:v.length===0?s.jsx(st,{children:s.jsx(ie,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No certifications defined yet"})}):v.map(L=>s.jsxs(st,{children:[s.jsx(ie,{className:"font-medium",children:L.name}),s.jsx(ie,{children:ee(L.facilityId)}),s.jsxs(ie,{children:[L.validityMonths," months"]}),s.jsx(ie,{children:s.jsx(ue,{variant:L.isActive?"default":"secondary",children:L.isActive?"Active":"Inactive"})}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>F(L),"data-testid":`button-edit-cert-${L.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>I.mutate(L.id),"data-testid":`button-delete-cert-${L.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})})]},L.id))})]})})})]}),s.jsxs(Vt,{value:"classes",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Schedule certification classes and training sessions."}),s.jsxs(It,{open:f,onOpenChange:L=>{h(L),L||(d(null),G())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-class",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Schedule Class"]})}),s.jsxs(Et,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:u?"Edit Class":"Schedule New Class"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-cert",children:"Certification Type"}),s.jsxs(Ct,{value:p.certificationId,onValueChange:L=>b({...p,certificationId:L}),children:[s.jsx(Nt,{"data-testid":"select-class-cert",children:s.jsx(Pt,{placeholder:"Select certification"})}),s.jsx(_t,{children:v.map(L=>s.jsx(Oe,{value:L.id,children:L.name},L.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-title",children:"Class Title"}),s.jsx(Q,{id:"class-title",value:p.title,onChange:L=>b({...p,title:L.target.value}),placeholder:"Air Rifle Safety Fundamentals","data-testid":"input-class-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-date",children:"Scheduled Date/Time"}),s.jsx(Q,{id:"class-date",type:"datetime-local",value:p.scheduledDate,onChange:L=>b({...p,scheduledDate:L.target.value}),"data-testid":"input-class-date"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-duration",children:"Duration (minutes)"}),s.jsx(Q,{id:"class-duration",type:"number",value:p.duration,onChange:L=>b({...p,duration:parseInt(L.target.value)||60}),"data-testid":"input-class-duration"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-instructor",children:"Instructor"}),s.jsx(Q,{id:"class-instructor",value:p.instructor,onChange:L=>b({...p,instructor:L.target.value}),"data-testid":"input-class-instructor"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-location",children:"Location"}),s.jsx(Q,{id:"class-location",value:p.location,onChange:L=>b({...p,location:L.target.value}),placeholder:"Range Training Room","data-testid":"input-class-location"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-capacity",children:"Capacity"}),s.jsx(Q,{id:"class-capacity",type:"number",value:p.capacity,onChange:L=>b({...p,capacity:parseInt(L.target.value)||10}),"data-testid":"input-class-capacity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-price",children:"Price (PKR)"}),s.jsx(Q,{id:"class-price",type:"number",value:p.price,onChange:L=>b({...p,price:parseInt(L.target.value)||0}),"data-testid":"input-class-price"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-description",children:"Description"}),s.jsx(lt,{id:"class-description",value:p.description,onChange:L=>b({...p,description:L.target.value}),rows:2,"data-testid":"input-class-description"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"class-active",checked:p.isActive,onCheckedChange:L=>b({...p,isActive:L}),"data-testid":"switch-class-active"}),s.jsx(B,{htmlFor:"class-active",children:"Active"})]}),s.jsxs($,{onClick:he,disabled:T.isPending||M.isPending,"data-testid":"button-submit-class",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),u?"Update":"Schedule"," Class"]})]})]})]})]}),s.jsx(re,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Title"}),s.jsx(de,{children:"Certification"}),s.jsx(de,{children:"Date"}),s.jsx(de,{children:"Instructor"}),s.jsx(de,{children:"Capacity"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsx(Yr,{children:_.length===0?s.jsx(st,{children:s.jsx(ie,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No classes scheduled yet"})}):_.map(L=>s.jsxs(st,{children:[s.jsx(ie,{className:"font-medium",children:L.title}),s.jsx(ie,{children:je(L.certificationId)}),s.jsx(ie,{children:L.scheduledDate?new Date(L.scheduledDate).toLocaleString():"-"}),s.jsx(ie,{children:L.instructor||"-"}),s.jsxs(ie,{children:[L.enrolledCount,"/",L.capacity]}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>X(L),"data-testid":`button-edit-class-${L.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>V.mutate(L.id),"data-testid":`button-delete-class-${L.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})})]},L.id))})]})})})]}),s.jsxs(Vt,{value:"user-certs",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"View and manage issued user certifications."}),s.jsxs(It,{open:m,onOpenChange:w,children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-issue-cert",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Issue Certification"]})}),s.jsxs(Et,{children:[s.jsx(Rt,{children:s.jsx($t,{children:"Issue Certification to User"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"issue-user",children:"User"}),s.jsxs(Ct,{value:x.userId,onValueChange:L=>g({...x,userId:L}),children:[s.jsx(Nt,{"data-testid":"select-issue-user",children:s.jsx(Pt,{placeholder:"Select user"})}),s.jsx(_t,{children:P.map(L=>s.jsxs(Oe,{value:L.id,children:[L.firstName," ",L.lastName," (",L.email,")"]},L.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"issue-cert",children:"Certification"}),s.jsxs(Ct,{value:x.certificationId,onValueChange:L=>g({...x,certificationId:L}),children:[s.jsx(Nt,{"data-testid":"select-issue-cert",children:s.jsx(Pt,{placeholder:"Select certification"})}),s.jsx(_t,{children:v.map(L=>s.jsx(Oe,{value:L.id,children:L.name},L.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"issue-notes",children:"Notes"}),s.jsx(lt,{id:"issue-notes",value:x.notes,onChange:L=>g({...x,notes:L.target.value}),placeholder:"Optional notes about this certification","data-testid":"input-issue-notes"})]}),s.jsxs($,{onClick:()=>K.mutate(x),disabled:K.isPending||!x.userId||!x.certificationId,"data-testid":"button-submit-issue",children:[s.jsx(ti,{className:"w-4 h-4 mr-2"}),"Issue Certification"]})]})]})]})]}),s.jsx(re,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"User"}),s.jsx(de,{children:"Certification"}),s.jsx(de,{children:"Certificate #"}),s.jsx(de,{children:"Issued"}),s.jsx(de,{children:"Expires"}),s.jsx(de,{children:"Status"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsx(Yr,{children:k.length===0?s.jsx(st,{children:s.jsx(ie,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No certifications issued yet"})}):k.map(L=>s.jsxs(st,{children:[s.jsx(ie,{className:"font-medium",children:we(L.userId)}),s.jsx(ie,{children:je(L.certificationId)}),s.jsx(ie,{className:"font-mono text-sm",children:L.certificateNumber||"-"}),s.jsx(ie,{children:L.issuedAt?new Date(L.issuedAt).toLocaleDateString():"-"}),s.jsx(ie,{children:L.expiresAt?new Date(L.expiresAt).toLocaleDateString():"Never"}),s.jsx(ie,{children:s.jsx(ue,{variant:L.status==="ACTIVE"?"default":L.status==="REVOKED"?"destructive":"secondary",children:L.status})}),s.jsx(ie,{className:"text-right",children:L.status==="ACTIVE"&&s.jsxs($,{size:"sm",variant:"ghost",onClick:()=>A.mutate({id:L.id}),"data-testid":`button-revoke-${L.id}`,children:[s.jsx(nx,{className:"w-4 h-4 mr-1"}),"Revoke"]})})]},L.id))})]})})})]})]})})}const Q$e=la({feature:vt().min(1,"Feature name is required"),foundingValue:vt().optional(),goldValue:vt().optional(),silverValue:vt().optional(),guestValue:vt().optional(),sortOrder:qb.number().default(0)});function Y$e(){const{toast:e}=gt(),[t,r]=y.useState(!1),[n,a]=y.useState(null),[i,o]=y.useState(!1),[l,c]=y.useState(null),{data:u=[],isLoading:d}=ce({queryKey:["/api/admin/comparison-features"]}),f=$s({resolver:Ms(Q$e),defaultValues:{feature:"",foundingValue:"",goldValue:"",silverValue:"",guestValue:"",sortOrder:0}}),h=xe({mutationFn:async v=>await ve("POST","/api/admin/comparison-features",v),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),Z.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature created successfully"}),r(!1),f.reset()},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),p=xe({mutationFn:async({id:v,data:j})=>await ve("PATCH",`/api/admin/comparison-features/${v}`,j),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),Z.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature updated successfully"}),r(!1),a(null),f.reset()},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),b=xe({mutationFn:async v=>await ve("DELETE",`/api/admin/comparison-features/${v}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),Z.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature deleted successfully"}),o(!1),c(null)},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),m=v=>{a(v),f.reset({feature:v.feature,foundingValue:v.foundingValue||"",goldValue:v.goldValue||"",silverValue:v.silverValue||"",guestValue:v.guestValue||"",sortOrder:v.sortOrder||0}),r(!0)},w=v=>{n?p.mutate({id:n.id,data:v}):h.mutate(v)},x=()=>{l&&b.mutate(l)};if(d)return s.jsx(nt,{title:"Comparison Features",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})});const g=[...u].sort((v,j)=>(v.sortOrder||0)-(j.sortOrder||0));return s.jsx(nt,{title:"Comparison Features",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-comparison-features-title",children:"Comparison Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage membership tier comparison table features"})]}),s.jsxs(It,{open:t,onOpenChange:v=>{r(v),v||(a(null),f.reset())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-feature",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Add Feature"]})}),s.jsxs(Et,{className:"max-w-2xl",children:[s.jsx(Rt,{children:s.jsx($t,{children:n?"Edit Feature":"Add Feature"})}),s.jsx(Ls,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-4",children:[s.jsx(Ze,{control:f.control,name:"feature",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Feature Name"}),s.jsx(Je,{children:s.jsx(Q,{...v,placeholder:"e.g., Advance Booking Window","data-testid":"input-feature-name"})}),s.jsx(rt,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ze,{control:f.control,name:"foundingValue",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Founding Member Value"}),s.jsx(Je,{children:s.jsx(Q,{...v,placeholder:"e.g., 14 days","data-testid":"input-founding-value"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:f.control,name:"goldValue",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Gold Member Value"}),s.jsx(Je,{children:s.jsx(Q,{...v,placeholder:"e.g., 7 days","data-testid":"input-gold-value"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:f.control,name:"silverValue",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Silver Member Value"}),s.jsx(Je,{children:s.jsx(Q,{...v,placeholder:"e.g., 5 days","data-testid":"input-silver-value"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:f.control,name:"guestValue",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Guest Value"}),s.jsx(Je,{children:s.jsx(Q,{...v,placeholder:"e.g., 2 days","data-testid":"input-guest-value"})}),s.jsx(rt,{})]})})]}),s.jsx(Ze,{control:f.control,name:"sortOrder",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(Q,{type:"number",...v,"data-testid":"input-sort-order"})}),s.jsx(rt,{})]})}),s.jsxs($,{type:"submit",className:"w-full",disabled:h.isPending||p.isPending,"data-testid":"button-save-feature",children:[(h.isPending||p.isPending)&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Update":"Create"," Feature"]})]})})]})]})]}),g.length===0?s.jsx(re,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx($5,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Comparison Features"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add features to display in the membership comparison table."})]})}):s.jsxs(re,{children:[s.jsx(Ue,{children:s.jsx(Ke,{children:"Features List"})}),s.jsx(se,{children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{className:"w-8"}),s.jsx(de,{children:"Feature"}),s.jsx(de,{className:"text-center",children:"Founding"}),s.jsx(de,{className:"text-center",children:"Gold"}),s.jsx(de,{className:"text-center",children:"Silver"}),s.jsx(de,{className:"text-center",children:"Guest"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsx(Yr,{children:g.map(v=>s.jsxs(st,{"data-testid":`row-feature-${v.id}`,children:[s.jsx(ie,{children:s.jsx(Ep,{className:"w-4 h-4 text-muted-foreground"})}),s.jsx(ie,{className:"font-medium",children:v.feature}),s.jsx(ie,{className:"text-center",children:v.foundingValue||"-"}),s.jsx(ie,{className:"text-center",children:v.goldValue||"-"}),s.jsx(ie,{className:"text-center",children:v.silverValue||"-"}),s.jsx(ie,{className:"text-center",children:v.guestValue||"-"}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>m(v),"data-testid":`button-edit-feature-${v.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>{c(v.id),o(!0)},"data-testid":`button-delete-feature-${v.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})})]},v.id))})]})})]}),s.jsx(Df,{open:i,onOpenChange:o,children:s.jsxs(Uc,{children:[s.jsxs(Bc,{children:[s.jsx(qc,{children:"Are you sure?"}),s.jsx(zc,{children:"This will delete the comparison feature. This action cannot be undone."})]}),s.jsxs(Vc,{children:[s.jsx(Kc,{disabled:b.isPending,children:"Cancel"}),s.jsxs(Wc,{onClick:x,disabled:b.isPending,"data-testid":"button-confirm-delete",children:[b.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Delete"]})]})]})})]})})}const J9=[{value:"clock",label:"Clock",icon:Kt},{value:"gift",label:"Gift",icon:ob},{value:"award",label:"Award",icon:ti},{value:"shield",label:"Shield",icon:Go},{value:"target",label:"Target",icon:Ri},{value:"zap",label:"Zap",icon:F5},{value:"heart",label:"Heart",icon:lb},{value:"ticket",label:"Ticket",icon:ix},{value:"calendar",label:"Calendar",icon:wr},{value:"trophy",label:"Trophy",icon:Ns},{value:"star",label:"Star",icon:ci},{value:"crown",label:"Crown",icon:ib},{value:"users",label:"Users",icon:Er},{value:"check",label:"Check",icon:Sr}],X$e=e=>{const t=J9.find(r=>r.value===e.toLowerCase());return(t==null?void 0:t.icon)||Js},J$e=la({icon:vt().min(1,"Icon is required"),title:vt().min(1,"Title is required"),description:vt().optional(),sortOrder:qb.number().default(0)});function Z$e(){const{toast:e}=gt(),[t,r]=y.useState(!1),[n,a]=y.useState(null),[i,o]=y.useState(!1),[l,c]=y.useState(null),{data:u=[],isLoading:d}=ce({queryKey:["/api/admin/member-benefits"]}),f=$s({resolver:Ms(J$e),defaultValues:{icon:"gift",title:"",description:"",sortOrder:0}}),h=xe({mutationFn:async v=>await ve("POST","/api/admin/member-benefits",v),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),Z.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit created successfully"}),r(!1),f.reset()},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),p=xe({mutationFn:async({id:v,data:j})=>await ve("PATCH",`/api/admin/member-benefits/${v}`,j),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),Z.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit updated successfully"}),r(!1),a(null),f.reset()},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),b=xe({mutationFn:async v=>await ve("DELETE",`/api/admin/member-benefits/${v}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),Z.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit deleted successfully"}),o(!1),c(null)},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),m=v=>{a(v),f.reset({icon:v.icon||"gift",title:v.title,description:v.description||"",sortOrder:v.sortOrder||0}),r(!0)},w=v=>{n?p.mutate({id:n.id,data:v}):h.mutate(v)},x=()=>{l&&b.mutate(l)};if(d)return s.jsx(nt,{title:"Member Benefits",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})});const g=[...u].sort((v,j)=>(v.sortOrder||0)-(j.sortOrder||0));return s.jsx(nt,{title:"Member Benefits",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-member-benefits-title",children:"Member Benefits"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage membership benefit cards displayed on the membership page"})]}),s.jsxs(It,{open:t,onOpenChange:v=>{r(v),v||(a(null),f.reset())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-benefit",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Add Benefit"]})}),s.jsxs(Et,{children:[s.jsx(Rt,{children:s.jsx($t,{children:n?"Edit Benefit":"Add Benefit"})}),s.jsx(Ls,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-4",children:[s.jsx(Ze,{control:f.control,name:"icon",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Icon"}),s.jsxs(Ct,{onValueChange:v.onChange,value:v.value,children:[s.jsx(Je,{children:s.jsx(Nt,{"data-testid":"select-benefit-icon",children:s.jsx(Pt,{placeholder:"Select an icon"})})}),s.jsx(_t,{children:J9.map(j=>{const N=j.icon;return s.jsx(Oe,{value:j.value,"data-testid":`select-icon-${j.value}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(N,{className:"w-4 h-4"}),s.jsx("span",{children:j.label})]})},j.value)})})]}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:f.control,name:"title",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Title"}),s.jsx(Je,{children:s.jsx(Q,{...v,placeholder:"e.g., Priority Booking","data-testid":"input-benefit-title"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:f.control,name:"description",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Description"}),s.jsx(Je,{children:s.jsx(lt,{...v,placeholder:"Brief description of this benefit",rows:3,"data-testid":"input-benefit-description"})}),s.jsx(rt,{})]})}),s.jsx(Ze,{control:f.control,name:"sortOrder",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(tt,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(Q,{type:"number",...v,"data-testid":"input-benefit-sort-order"})}),s.jsx(rt,{})]})}),s.jsxs($,{type:"submit",className:"w-full",disabled:h.isPending||p.isPending,"data-testid":"button-save-benefit",children:[(h.isPending||p.isPending)&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Update":"Create"," Benefit"]})]})})]})]})]}),g.length===0?s.jsx(re,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(ob,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Member Benefits"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add benefits to display on the membership page."})]})}):s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:g.map(v=>{const j=X$e(v.icon);return s.jsxs(re,{"data-testid":`card-benefit-${v.id}`,children:[s.jsx(Ue,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(j,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>m(v),"data-testid":`button-edit-benefit-${v.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>{c(v.id),o(!0)},"data-testid":`button-delete-benefit-${v.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})]})}),s.jsxs(se,{children:[s.jsx(Ke,{className:"text-base mb-1",children:v.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.description}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Sort: ",v.sortOrder||0]})]})]},v.id)})}),s.jsx(Df,{open:i,onOpenChange:o,children:s.jsxs(Uc,{children:[s.jsxs(Bc,{children:[s.jsx(qc,{children:"Are you sure?"}),s.jsx(zc,{children:"This will delete the member benefit. This action cannot be undone."})]}),s.jsxs(Vc,{children:[s.jsx(Kc,{disabled:b.isPending,children:"Cancel"}),s.jsxs(Wc,{onClick:x,disabled:b.isPending,"data-testid":"button-confirm-delete",children:[b.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Delete"]})]})]})})]})})}function eMe(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState(null),[l,c]=y.useState({title:"",slug:"",excerpt:"",content:"",featuredImageUrl:"",author:"",category:"",tags:"",readTimeMinutes:5,isPublished:!1,isFeatured:!1,sortOrder:0}),{data:u,isLoading:d}=ce({queryKey:["/api/admin/blogs"]}),f=xe({mutationFn:async g=>await ve("POST","/api/admin/blogs",g),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/blogs"]}),Z.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post created successfully"}),a(!1),b()},onError:()=>{e({title:"Failed to create blog post",variant:"destructive"})}}),h=xe({mutationFn:async({id:g,data:v})=>await ve("PATCH",`/api/admin/blogs/${g}`,v),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/blogs"]}),Z.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post updated successfully"}),a(!1),r(null),b()},onError:()=>{e({title:"Failed to update blog post",variant:"destructive"})}}),p=xe({mutationFn:async g=>await ve("DELETE",`/api/admin/blogs/${g}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/blogs"]}),Z.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post deleted successfully"}),o(null)},onError:()=>{e({title:"Failed to delete blog post",variant:"destructive"})}}),b=()=>{c({title:"",slug:"",excerpt:"",content:"",featuredImageUrl:"",author:"",category:"",tags:"",readTimeMinutes:5,isPublished:!1,isFeatured:!1,sortOrder:0})},m=g=>{var v;r(g),c({title:g.title,slug:g.slug,excerpt:g.excerpt||"",content:g.content||"",featuredImageUrl:g.featuredImageUrl||"",author:g.author||"",category:g.category||"",tags:((v=g.tags)==null?void 0:v.join(", "))||"",readTimeMinutes:g.readTimeMinutes||5,isPublished:g.isPublished??!1,isFeatured:g.isFeatured??!1,sortOrder:g.sortOrder||0}),a(!0)},w=()=>{const g={...l,tags:l.tags?l.tags.split(",").map(v=>v.trim()).filter(Boolean):[],publishedAt:l.isPublished?new Date().toISOString():null};t?h.mutate({id:t.id,data:g}):f.mutate(g)},x=g=>g.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return d?s.jsx(nt,{title:"Blog Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Blog Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Create and manage blog posts and news articles."}),s.jsxs(It,{open:n,onOpenChange:g=>{a(g),g||(r(null),b())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-blog",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Blog Post"]})}),s.jsxs(Et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Rt,{children:s.jsx($t,{children:t?"Edit Blog Post":"Add New Blog Post"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title"}),s.jsx(Q,{id:"title",value:l.title,onChange:g=>{c({...l,title:g.target.value,slug:t?l.slug:x(g.target.value)})},"data-testid":"input-blog-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"slug",children:"URL Slug"}),s.jsx(Q,{id:"slug",value:l.slug,onChange:g=>c({...l,slug:g.target.value}),"data-testid":"input-blog-slug"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(B,{htmlFor:"excerpt",children:"Excerpt (Short Description)"}),s.jsx(lt,{id:"excerpt",value:l.excerpt,onChange:g=>c({...l,excerpt:g.target.value}),rows:2,"data-testid":"input-blog-excerpt"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(B,{htmlFor:"content",children:"Content"}),s.jsx(lt,{id:"content",value:l.content,onChange:g=>c({...l,content:g.target.value}),rows:10,"data-testid":"input-blog-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"featuredImageUrl",children:"Featured Image URL"}),s.jsx(Q,{id:"featuredImageUrl",value:l.featuredImageUrl,onChange:g=>c({...l,featuredImageUrl:g.target.value}),"data-testid":"input-blog-image"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"author",children:"Author"}),s.jsx(Q,{id:"author",value:l.author,onChange:g=>c({...l,author:g.target.value}),"data-testid":"input-blog-author"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"category",children:"Category"}),s.jsx(Q,{id:"category",value:l.category,onChange:g=>c({...l,category:g.target.value}),placeholder:"e.g., News, Events, Tips","data-testid":"input-blog-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(Q,{id:"tags",value:l.tags,onChange:g=>c({...l,tags:g.target.value}),placeholder:"e.g., padel, tournament, tips","data-testid":"input-blog-tags"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"readTime",children:"Read Time (minutes)"}),s.jsx(Q,{id:"readTime",type:"number",value:l.readTimeMinutes,onChange:g=>c({...l,readTimeMinutes:parseInt(g.target.value)||5}),"data-testid":"input-blog-readtime"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Q,{id:"sortOrder",type:"number",value:l.sortOrder,onChange:g=>c({...l,sortOrder:parseInt(g.target.value)||0}),"data-testid":"input-blog-sortorder"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isPublished",checked:l.isPublished,onCheckedChange:g=>c({...l,isPublished:g}),"data-testid":"switch-blog-published"}),s.jsx(B,{htmlFor:"isPublished",children:"Published"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isFeatured",checked:l.isFeatured,onCheckedChange:g=>c({...l,isFeatured:g}),"data-testid":"switch-blog-featured"}),s.jsx(B,{htmlFor:"isFeatured",children:"Featured"})]})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsxs($,{onClick:w,disabled:f.isPending||h.isPending,"data-testid":"button-save-blog",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"," Blog Post"]})})]})]})]}),s.jsx(re,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Gr,{children:[s.jsx(Qr,{children:s.jsxs(st,{children:[s.jsx(de,{children:"Title"}),s.jsx(de,{children:"Author"}),s.jsx(de,{children:"Category"}),s.jsx(de,{children:"Status"}),s.jsx(de,{children:"Created"}),s.jsx(de,{className:"text-right",children:"Actions"})]})}),s.jsxs(Yr,{children:[u==null?void 0:u.map(g=>s.jsxs(st,{"data-testid":`row-blog-${g.id}`,children:[s.jsx(ie,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[g.title,g.isFeatured&&s.jsx(ci,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"})]})}),s.jsx(ie,{children:g.author||"-"}),s.jsx(ie,{children:g.category||"-"}),s.jsx(ie,{children:g.isPublished?s.jsxs(ue,{variant:"default",className:"gap-1",children:[s.jsx(Is,{className:"w-3 h-3"})," Published"]}):s.jsxs(ue,{variant:"secondary",className:"gap-1",children:[s.jsx(Vi,{className:"w-3 h-3"})," Draft"]})}),s.jsx(ie,{children:g.createdAt?Yn(new Date(g.createdAt),"MMM d, yyyy"):"-"}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>m(g),"data-testid":`button-edit-blog-${g.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsxs(Df,{open:i===g.id,onOpenChange:v=>!v&&o(null),children:[s.jsx(Z2,{asChild:!0,children:s.jsx($,{size:"icon",variant:"ghost",onClick:()=>o(g.id),"data-testid":`button-delete-blog-${g.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})}),s.jsxs(Uc,{children:[s.jsxs(Bc,{children:[s.jsx(qc,{children:"Delete Blog Post"}),s.jsxs(zc,{children:['Are you sure you want to delete "',g.title,'"? This action cannot be undone.']})]}),s.jsxs(Vc,{children:[s.jsx(Kc,{disabled:p.isPending,children:"Cancel"}),s.jsx(Wc,{onClick:()=>p.mutate(g.id),disabled:p.isPending,"data-testid":"button-confirm-delete-blog",children:p.isPending?"Deleting...":"Delete"})]})]})]})]})})]},g.id)),!(u!=null&&u.length)&&s.jsx(st,{children:s.jsx(ie,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'No blog posts yet. Click "Add Blog Post" to create your first one.'})})]})]})})})]})})}function tMe(){const{toast:e}=gt(),[t,r]=y.useState(null),[n,a]=y.useState(!1),[i,o]=y.useState(null),[l,c]=y.useState({name:"",title:"",company:"",avatarUrl:"",quote:"",rating:5,facilityId:"",isFeatured:!1,isActive:!0,sortOrder:0}),{data:u,isLoading:d}=ce({queryKey:["/api/admin/testimonials"]}),{data:f}=ce({queryKey:["/api/facilities"]}),h=xe({mutationFn:async v=>await ve("POST","/api/admin/testimonials",v),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/testimonials"]}),Z.invalidateQueries({queryKey:["/api/testimonials"]}),Z.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial created successfully"}),a(!1),m()},onError:()=>{e({title:"Failed to create testimonial",variant:"destructive"})}}),p=xe({mutationFn:async({id:v,data:j})=>await ve("PATCH",`/api/admin/testimonials/${v}`,j),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/testimonials"]}),Z.invalidateQueries({queryKey:["/api/testimonials"]}),Z.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial updated successfully"}),a(!1),r(null),m()},onError:()=>{e({title:"Failed to update testimonial",variant:"destructive"})}}),b=xe({mutationFn:async v=>await ve("DELETE",`/api/admin/testimonials/${v}`),onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/admin/testimonials"]}),Z.invalidateQueries({queryKey:["/api/testimonials"]}),Z.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial deleted successfully"}),o(null)},onError:()=>{e({title:"Failed to delete testimonial",variant:"destructive"})}}),m=()=>{c({name:"",title:"",company:"",avatarUrl:"",quote:"",rating:5,facilityId:"",isFeatured:!1,isActive:!0,sortOrder:0})},w=v=>{r(v),c({name:v.name,title:v.title||"",company:v.company||"",avatarUrl:v.avatarUrl||"",quote:v.quote,rating:v.rating||5,facilityId:v.facilityId||"",isFeatured:v.isFeatured??!1,isActive:v.isActive??!0,sortOrder:v.sortOrder||0}),a(!0)},x=()=>{const v={...l,facilityId:l.facilityId||null};t?p.mutate({id:t.id,data:v}):h.mutate(v)},g=v=>Array.from({length:5}).map((j,N)=>s.jsx(ci,{className:`w-4 h-4 ${N<v?"text-yellow-500 fill-yellow-500":"text-muted-foreground"}`},N));return d?s.jsx(nt,{title:"Testimonials Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Testimonials Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage customer testimonials and reviews displayed on the website."}),s.jsxs(It,{open:n,onOpenChange:v=>{a(v),v||(r(null),m())},children:[s.jsx(Hr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-testimonial",children:[s.jsx(Zt,{className:"w-4 h-4 mr-2"})," Add Testimonial"]})}),s.jsxs(Et,{className:"max-w-2xl",children:[s.jsx(Rt,{children:s.jsx($t,{children:t?"Edit Testimonial":"Add New Testimonial"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"name",children:"Name"}),s.jsx(Q,{id:"name",value:l.name,onChange:v=>c({...l,name:v.target.value}),"data-testid":"input-testimonial-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title/Role"}),s.jsx(Q,{id:"title",value:l.title,onChange:v=>c({...l,title:v.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-testimonial-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"company",children:"Company (Optional)"}),s.jsx(Q,{id:"company",value:l.company,onChange:v=>c({...l,company:v.target.value}),"data-testid":"input-testimonial-company"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"avatarUrl",children:"Avatar URL (Optional)"}),s.jsx(Q,{id:"avatarUrl",value:l.avatarUrl,onChange:v=>c({...l,avatarUrl:v.target.value}),"data-testid":"input-testimonial-avatar"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(B,{htmlFor:"quote",children:"Quote"}),s.jsx(lt,{id:"quote",value:l.quote,onChange:v=>c({...l,quote:v.target.value}),rows:4,"data-testid":"input-testimonial-quote"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"rating",children:"Rating (1-5)"}),s.jsxs(Ct,{value:l.rating.toString(),onValueChange:v=>c({...l,rating:parseInt(v)}),children:[s.jsx(Nt,{"data-testid":"select-testimonial-rating",children:s.jsx(Pt,{})}),s.jsx(_t,{children:[1,2,3,4,5].map(v=>s.jsxs(Oe,{value:v.toString(),"data-testid":`select-rating-${v}`,children:[v," Star",v!==1?"s":""]},v))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"facilityId",children:"Associated Facility (Optional)"}),s.jsxs(Ct,{value:l.facilityId,onValueChange:v=>c({...l,facilityId:v==="none"?"":v}),children:[s.jsx(Nt,{"data-testid":"select-testimonial-facility",children:s.jsx(Pt,{placeholder:"Select facility"})}),s.jsxs(_t,{children:[s.jsx(Oe,{value:"none","data-testid":"select-facility-none",children:"None"}),f==null?void 0:f.map(v=>s.jsx(Oe,{value:v.id,"data-testid":`select-facility-${v.id}`,children:v.name},v.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Q,{id:"sortOrder",type:"number",value:l.sortOrder,onChange:v=>c({...l,sortOrder:parseInt(v.target.value)||0}),"data-testid":"input-testimonial-sortorder"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isActive",checked:l.isActive,onCheckedChange:v=>c({...l,isActive:v}),"data-testid":"switch-testimonial-active"}),s.jsx(B,{htmlFor:"isActive",children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{id:"isFeatured",checked:l.isFeatured,onCheckedChange:v=>c({...l,isFeatured:v}),"data-testid":"switch-testimonial-featured"}),s.jsx(B,{htmlFor:"isFeatured",children:"Featured"})]})]})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsxs($,{onClick:x,disabled:h.isPending||p.isPending,"data-testid":"button-save-testimonial",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"," Testimonial"]})})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u==null?void 0:u.map(v=>s.jsx(re,{"data-testid":`card-testimonial-${v.id}`,children:s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(Pd,{className:"h-12 w-12",children:[s.jsx(Ed,{src:v.avatarUrl||void 0,alt:v.name}),s.jsx(Ad,{children:v.name.charAt(0)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:v.name}),v.isFeatured&&s.jsx(ue,{variant:"default",className:"text-xs",children:"Featured"}),!v.isActive&&s.jsx(ue,{variant:"secondary",className:"text-xs",children:"Inactive"})]}),(v.title||v.company)&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.title,v.title&&v.company?" at ":"",v.company]}),s.jsx("div",{className:"flex items-center gap-1 mt-1",children:g(v.rating||5)})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>w(v),"data-testid":`button-edit-testimonial-${v.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsxs(Df,{open:i===v.id,onOpenChange:j=>!j&&o(null),children:[s.jsx(Z2,{asChild:!0,children:s.jsx($,{size:"icon",variant:"ghost",onClick:()=>o(v.id),"data-testid":`button-delete-testimonial-${v.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})}),s.jsxs(Uc,{children:[s.jsxs(Bc,{children:[s.jsx(qc,{children:"Delete Testimonial"}),s.jsxs(zc,{children:['Are you sure you want to delete the testimonial from "',v.name,'"? This action cannot be undone.']})]}),s.jsxs(Vc,{children:[s.jsx(Kc,{disabled:b.isPending,children:"Cancel"}),s.jsx(Wc,{onClick:()=>b.mutate(v.id),disabled:b.isPending,"data-testid":"button-confirm-delete-testimonial",children:b.isPending?"Deleting...":"Delete"})]})]})]})]})]}),s.jsxs("div",{className:"mt-4 relative pl-4 border-l-2 border-muted",children:[s.jsx(cG,{className:"absolute -left-2.5 -top-1 w-4 h-4 text-muted-foreground bg-card"}),s.jsx("p",{className:"text-sm italic text-muted-foreground",children:v.quote})]})]})},v.id)),!(u!=null&&u.length)&&s.jsx(re,{className:"col-span-2",children:s.jsx(se,{className:"py-12 text-center text-muted-foreground",children:'No testimonials yet. Click "Add Testimonial" to create your first one.'})})]})]})})}function rMe(){const{data:e,isLoading:t}=ce({queryKey:["/api/blogs"]}),r=(e==null?void 0:e.filter(a=>a.isFeatured))||[],n=(e==null?void 0:e.filter(a=>!a.isFeatured))||[];return s.jsxs(s.Fragment,{children:[s.jsx(tr,{}),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("section",{className:"relative py-20 bg-gradient-to-b from-primary/10 to-background",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-blog-title",children:"News & Updates"}),s.jsx("p",{className:"text-lg text-muted-foreground","data-testid":"text-blog-subtitle",children:"Stay updated with the latest news, tips, and happenings at The Quarterdeck"})]})})}),s.jsx("section",{className:"container mx-auto px-4 py-12",children:t?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>s.jsxs(re,{children:[s.jsx(qe,{className:"h-48 w-full rounded-t-lg"}),s.jsxs(Ue,{children:[s.jsx(qe,{className:"h-6 w-3/4"}),s.jsx(qe,{className:"h-4 w-1/2 mt-2"})]}),s.jsxs(se,{children:[s.jsx(qe,{className:"h-4 w-full"}),s.jsx(qe,{className:"h-4 w-5/6 mt-2"})]})]},a))}):(e==null?void 0:e.length)===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"We're working on bringing you exciting content. Check back soon!"})]}):s.jsxs(s.Fragment,{children:[r.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(ci,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),"Featured Posts"]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(a=>s.jsx(s$,{blog:a,featured:!0},a.id))})]}),n.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Latest Posts"}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>s.jsx(s$,{blog:a},a.id))})]})]})})]}),s.jsx(rr,{})]})}function s$({blog:e,featured:t=!1}){return s.jsxs(re,{className:`overflow-hidden hover-elevate transition-all ${t?"md:col-span-1":""}`,"data-testid":`card-blog-${e.id}`,children:[e.featuredImageUrl&&s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:e.featuredImageUrl,alt:e.title,className:"w-full h-full object-cover"}),e.category&&s.jsx(ue,{className:"absolute top-3 left-3",variant:"secondary",children:e.category})]}),s.jsxs(Ue,{className:"pb-2",children:[s.jsx(fe,{href:`/blog/${e.slug}`,children:s.jsx("h3",{className:"text-xl font-semibold hover:text-primary transition-colors line-clamp-2 cursor-pointer",children:e.title})}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-2",children:[e.publishedAt&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(wr,{className:"w-3.5 h-3.5"}),Yn(new Date(e.publishedAt),"MMM d, yyyy")]}),e.readTimeMinutes&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Kt,{className:"w-3.5 h-3.5"}),e.readTimeMinutes," min read"]})]})]}),s.jsx(se,{className:"pb-2",children:e.excerpt&&s.jsx("p",{className:"text-muted-foreground line-clamp-3",children:e.excerpt})}),s.jsx(kx,{className:"pt-2",children:s.jsx(fe,{href:`/blog/${e.slug}`,children:s.jsxs($,{variant:"ghost",className:"gap-2 p-0 h-auto","data-testid":`button-read-blog-${e.id}`,children:["Read More ",s.jsx(ab,{className:"w-4 h-4"})]})})})]})}function nMe(){var a;const{slug:e}=tb(),{data:t,isLoading:r,error:n}=ce({queryKey:["/api/blogs",e]});return r?s.jsxs(s.Fragment,{children:[s.jsx(tr,{}),s.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx(qe,{className:"h-8 w-1/3 mb-4"}),s.jsx(qe,{className:"h-12 w-3/4 mb-4"}),s.jsx(qe,{className:"h-6 w-1/2 mb-8"}),s.jsx(qe,{className:"h-64 w-full mb-8"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(qe,{className:"h-4 w-full"}),s.jsx(qe,{className:"h-4 w-full"}),s.jsx(qe,{className:"h-4 w-5/6"}),s.jsx(qe,{className:"h-4 w-full"}),s.jsx(qe,{className:"h-4 w-4/5"})]})]}),s.jsx(rr,{})]}):n||!t?s.jsxs(s.Fragment,{children:[s.jsx(tr,{}),s.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Post Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"The blog post you're looking for doesn't exist or has been removed."}),s.jsx(fe,{href:"/blog",children:s.jsxs($,{children:[s.jsx(_n,{className:"w-4 h-4 mr-2"}),"Back to Blog"]})})]}),s.jsx(rr,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{}),s.jsx("article",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx(fe,{href:"/blog",children:s.jsxs($,{variant:"ghost",className:"mb-6 gap-2","data-testid":"button-back-blog",children:[s.jsx(_n,{className:"w-4 h-4"}),"Back to Blog"]})}),s.jsxs("header",{className:"mb-8",children:[t.category&&s.jsx(ue,{className:"mb-4",variant:"secondary",children:t.category}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4","data-testid":"text-blogpost-title",children:t.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[t.author&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(ls,{className:"w-4 h-4"}),t.author]}),t.publishedAt&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(wr,{className:"w-4 h-4"}),Yn(new Date(t.publishedAt),"MMMM d, yyyy")]}),t.readTimeMinutes&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Kt,{className:"w-4 h-4"}),t.readTimeMinutes," min read"]})]})]}),t.featuredImageUrl&&s.jsx("div",{className:"relative mb-8 rounded-lg overflow-hidden",children:s.jsx("img",{src:t.featuredImageUrl,alt:t.title,className:"w-full h-auto max-h-[500px] object-cover","data-testid":"img-blogpost-featured"})}),t.excerpt&&s.jsx("p",{className:"text-xl text-muted-foreground mb-8 font-medium border-l-4 border-primary pl-4",children:t.excerpt}),s.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none","data-testid":"content-blogpost",children:(a=t.content)==null?void 0:a.split(`
`).map((i,o)=>i.trim()&&s.jsx("p",{children:i},o))}),t.tags&&t.tags.length>0&&s.jsxs("div",{className:"mt-12 pt-8 border-t",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((i,o)=>s.jsx(ue,{variant:"outline",children:i},o))})]})]})}),s.jsx(rr,{})]})}function sMe(){const{adminPath:e,isAuthorized:t,isLoading:r}=Rp();if(r||!t)return null;const n=`/${e}`;return s.jsxs(VD,{children:[s.jsx(Ye,{path:`${n}/homepage`,component:XRe}),s.jsx(Ye,{path:`${n}/coming-soon`,component:JRe}),s.jsx(Ye,{path:`${n}/venues`,component:K$e}),s.jsx(Ye,{path:`${n}/facilities`,component:ZRe}),s.jsx(Ye,{path:`${n}/roadmap`,component:u$e}),s.jsx(Ye,{path:`${n}/events`,component:d$e}),s.jsx(Ye,{path:`${n}/pricing`,component:f$e}),s.jsx(Ye,{path:`${n}/membership-tiers`,component:h$e}),s.jsx(Ye,{path:`${n}/announcements`,component:m$e}),s.jsx(Ye,{path:`${n}/careers`,component:p$e}),s.jsx(Ye,{path:`${n}/rules`,component:g$e}),s.jsx(Ye,{path:`${n}/policies`,component:v$e}),s.jsx(Ye,{path:`${n}/gallery`,component:x$e}),s.jsx(Ye,{path:`${n}/site-images`,component:y$e}),s.jsx(Ye,{path:`${n}/hero-sections`,component:z$e}),s.jsx(Ye,{path:`${n}/ctas`,component:W$e}),s.jsx(Ye,{path:`${n}/bookings`,component:b$e}),s.jsx(Ye,{path:`${n}/branding`,component:w$e}),s.jsx(Ye,{path:`${n}/faq`,component:U$e}),s.jsx(Ye,{path:`${n}/members`,component:B$e}),s.jsx(Ye,{path:`${n}/membership-applications`,component:H$e}),s.jsx(Ye,{path:`${n}/certifications`,component:G$e}),s.jsx(Ye,{path:`${n}/comparison-features`,component:Y$e}),s.jsx(Ye,{path:`${n}/member-benefits`,component:Z$e}),s.jsx(Ye,{path:`${n}/blogs`,component:eMe}),s.jsx(Ye,{path:`${n}/testimonials`,component:tMe}),s.jsx(Ye,{path:`${n}/site-settings`,component:V$e}),s.jsx(Ye,{path:n,component:zRe})]})}function aMe(){const{adminPath:e,isAuthorized:t}=Rp(),[r]=Mn();return t&&e&&r.startsWith(`/${e}`)?null:s.jsxs(VD,{children:[s.jsx(Ye,{path:"/booking",component:Fae}),s.jsx(Ye,{path:"/profile",component:Xae}),s.jsx(Ye,{path:"/events/:slug",component:woe}),s.jsx(Ye,{path:"/events",component:xoe}),s.jsx(Ye,{path:"/leaderboard",component:Noe}),s.jsx(Ye,{path:"/gallery",component:_oe}),s.jsx(Ye,{path:"/vision",component:Soe}),s.jsx(Ye,{path:"/facilities/:slug",component:Foe}),s.jsx(Ye,{path:"/facilities",component:Ooe}),s.jsx(Ye,{path:"/roadmap",component:Boe}),s.jsx(Ye,{path:"/rules",component:lle}),s.jsx(Ye,{path:"/careers",component:ule}),s.jsx(Ye,{path:"/terms",component:dle}),s.jsx(Ye,{path:"/privacy",component:fle}),s.jsx(Ye,{path:"/coming-soon",component:mle}),s.jsx(Ye,{path:"/contact",component:gle}),s.jsx(Ye,{path:"/faq",component:yle}),s.jsx(Ye,{path:"/membership",component:cce}),s.jsx(Ye,{path:"/blog/:slug",component:nMe}),s.jsx(Ye,{path:"/blog",component:rMe}),s.jsx(Ye,{path:"/certifications",component:uce}),s.jsx(Ye,{path:"/updates",component:dce}),s.jsx(Ye,{path:"/login",component:Oce}),s.jsx(Ye,{path:"/signup",component:Dce}),s.jsx(Ye,{path:"/forgot-password",component:Fce}),s.jsx(Ye,{path:"/verify-email",component:Vce}),s.jsx(Ye,{path:"/auth/callback",component:qce}),s.jsx(Ye,{path:"/auth/reset-password",component:Bce}),s.jsx(Ye,{path:"/",component:Oae}),s.jsx(Ye,{component:fce})]})}function iMe(){return YZ(),s.jsxs(s.Fragment,{children:[s.jsx(sMe,{}),s.jsx(aMe,{})]})}function oMe(){const[e,t]=y.useState(!1),r=y.useCallback(()=>{t(!0)},[]);return y.useEffect(()=>{},[]),s.jsx(kK,{client:Z,children:s.jsx(YY,{children:s.jsx(LZ,{children:s.jsxs(rX,{children:[!e&&s.jsx(QZ,{onLoaded:r,minDisplayTime:800}),s.jsx(lQ,{}),s.jsx(GZ,{}),s.jsx(iMe,{}),s.jsx(FZ,{}),s.jsx(HZ,{})]})})})})}PD(document.getElementById("root")).render(s.jsx(oMe,{}));
