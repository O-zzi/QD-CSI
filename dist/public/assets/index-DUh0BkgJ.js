var hP=e=>{throw TypeError(e)};var sw=(e,t,r)=>t.has(e)||hP("Cannot "+r);var H=(e,t,r)=>(sw(e,t,"read from private field"),r?r.call(e):t.get(e)),Ze=(e,t,r)=>t.has(e)?hP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ie=(e,t,r,n)=>(sw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),yt=(e,t,r)=>(sw(e,t,"access private method"),r);var hg=(e,t,r,n)=>({set _(a){Ie(e,t,a,r)},get _(){return H(e,t,n)}});function v7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var EM={exports:{}},By={},AM={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=Symbol.for("react.element"),x7=Symbol.for("react.portal"),y7=Symbol.for("react.fragment"),b7=Symbol.for("react.strict_mode"),w7=Symbol.for("react.profiler"),j7=Symbol.for("react.provider"),N7=Symbol.for("react.context"),_7=Symbol.for("react.forward_ref"),S7=Symbol.for("react.suspense"),k7=Symbol.for("react.memo"),C7=Symbol.for("react.lazy"),mP=Symbol.iterator;function P7(e){return e===null||typeof e!="object"?null:(e=mP&&e[mP]||e["@@iterator"],typeof e=="function"?e:null)}var OM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TM=Object.assign,IM={};function ff(e,t,r){this.props=e,this.context=t,this.refs=IM,this.updater=r||OM}ff.prototype.isReactComponent={};ff.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ff.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RM(){}RM.prototype=ff.prototype;function NS(e,t,r){this.props=e,this.context=t,this.refs=IM,this.updater=r||OM}var _S=NS.prototype=new RM;_S.constructor=NS;TM(_S,ff.prototype);_S.isPureReactComponent=!0;var pP=Array.isArray,MM=Object.prototype.hasOwnProperty,SS={current:null},$M={key:!0,ref:!0,__self:!0,__source:!0};function DM(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)MM.call(t,n)&&!$M.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Pp,type:e,key:i,ref:o,props:a,_owner:SS.current}}function E7(e,t){return{$$typeof:Pp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pp}function A7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var gP=/\/+/g;function aw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?A7(""+e.key):t.toString(36)}function hv(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pp:case x7:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+aw(o,0):n,pP(a)?(r="",e!=null&&(r=e.replace(gP,"$&/")+"/"),hv(a,t,r,"",function(u){return u})):a!=null&&(kS(a)&&(a=E7(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(gP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",pP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+aw(i,l);o+=hv(i,t,r,c,a)}else if(c=P7(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+aw(i,l++),o+=hv(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pg(e,t,r){if(e==null)return e;var n=[],a=0;return hv(e,n,"","",function(i){return t.call(r,i,a++)}),n}function O7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var es={current:null},mv={transition:null},T7={ReactCurrentDispatcher:es,ReactCurrentBatchConfig:mv,ReactCurrentOwner:SS};function LM(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:pg,forEach:function(e,t,r){pg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pg(e,function(){t++}),t},toArray:function(e){return pg(e,function(t){return t})||[]},only:function(e){if(!kS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ot.Component=ff;Ot.Fragment=y7;Ot.Profiler=w7;Ot.PureComponent=NS;Ot.StrictMode=b7;Ot.Suspense=S7;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T7;Ot.act=LM;Ot.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=TM({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=SS.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)MM.call(t,c)&&!$M.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Pp,type:e.type,key:a,ref:i,props:n,_owner:o}};Ot.createContext=function(e){return e={$$typeof:N7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j7,_context:e},e.Consumer=e};Ot.createElement=DM;Ot.createFactory=function(e){var t=DM.bind(null,e);return t.type=e,t};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(e){return{$$typeof:_7,render:e}};Ot.isValidElement=kS;Ot.lazy=function(e){return{$$typeof:C7,_payload:{_status:-1,_result:e},_init:O7}};Ot.memo=function(e,t){return{$$typeof:k7,type:e,compare:t===void 0?null:t}};Ot.startTransition=function(e){var t=mv.transition;mv.transition={};try{e()}finally{mv.transition=t}};Ot.unstable_act=LM;Ot.useCallback=function(e,t){return es.current.useCallback(e,t)};Ot.useContext=function(e){return es.current.useContext(e)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(e){return es.current.useDeferredValue(e)};Ot.useEffect=function(e,t){return es.current.useEffect(e,t)};Ot.useId=function(){return es.current.useId()};Ot.useImperativeHandle=function(e,t,r){return es.current.useImperativeHandle(e,t,r)};Ot.useInsertionEffect=function(e,t){return es.current.useInsertionEffect(e,t)};Ot.useLayoutEffect=function(e,t){return es.current.useLayoutEffect(e,t)};Ot.useMemo=function(e,t){return es.current.useMemo(e,t)};Ot.useReducer=function(e,t,r){return es.current.useReducer(e,t,r)};Ot.useRef=function(e){return es.current.useRef(e)};Ot.useState=function(e){return es.current.useState(e)};Ot.useSyncExternalStore=function(e,t,r){return es.current.useSyncExternalStore(e,t,r)};Ot.useTransition=function(){return es.current.useTransition()};Ot.version="18.3.1";AM.exports=Ot;var x=AM.exports;const F=Gt(x),Vy=v7({__proto__:null,default:F},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I7=x,R7=Symbol.for("react.element"),M7=Symbol.for("react.fragment"),$7=Object.prototype.hasOwnProperty,D7=I7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L7={key:!0,ref:!0,__self:!0,__source:!0};function FM(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$7.call(t,n)&&!L7.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:R7,type:e,key:i,ref:o,props:a,_owner:D7.current}}By.Fragment=M7;By.jsx=FM;By.jsxs=FM;EM.exports=By;var s=EM.exports,UM={exports:{}},Vs={},BM={exports:{}},VM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,$){var Q=A.length;A.push($);e:for(;0<Q;){var X=Q-1>>>1,U=A[X];if(0<a(U,$))A[X]=$,A[Q]=U,Q=X;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var $=A[0],Q=A.pop();if(Q!==$){A[0]=Q;e:for(var X=0,U=A.length,J=U>>>1;X<J;){var z=2*(X+1)-1,ee=A[z],pe=z+1,te=A[pe];if(0>a(ee,Q))pe<U&&0>a(te,ee)?(A[X]=te,A[pe]=Q,X=pe):(A[X]=ee,A[z]=Q,X=z);else if(pe<U&&0>a(te,Q))A[X]=te,A[pe]=Q,X=pe;else break e}}return $}function a(A,$){var Q=A.sortIndex-$.sortIndex;return Q!==0?Q:A.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=A)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function j(A){if(m=!1,b(A),!y)if(r(c)!==null)y=!0,O(_);else{var $=r(u);$!==null&&W(j,$.startTime-A)}}function _(A,$){y=!1,m&&(m=!1,g(C),C=-1),p=!0;var Q=h;try{for(b($),f=r(c);f!==null&&(!(f.expirationTime>$)||A&&!E());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var U=X(f.expirationTime<=$);$=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&n(c),b($)}else n(c);f=r(c)}if(f!==null)var J=!0;else{var z=r(u);z!==null&&W(j,z.startTime-$),J=!1}return J}finally{f=null,h=Q,p=!1}}var N=!1,S=null,C=-1,P=5,k=-1;function E(){return!(e.unstable_now()-k<P)}function T(){if(S!==null){var A=e.unstable_now();k=A;var $=!0;try{$=S(!0,A)}finally{$?I():(N=!1,S=null)}}else N=!1}var I;if(typeof v=="function")I=function(){v(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,D=R.port2;R.port1.onmessage=T,I=function(){D.postMessage(null)}}else I=function(){w(T,0)};function O(A){S=A,N||(N=!0,I())}function W(A,$){C=w(function(){A(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,O(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var Q=h;h=$;try{return A()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var Q=h;h=A;try{return $()}finally{h=Q}},e.unstable_scheduleCallback=function(A,$,Q){var X=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?X+Q:X):Q=X,A){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,A={id:d++,callback:$,priorityLevel:A,startTime:Q,expirationTime:U,sortIndex:-1},Q>X?(A.sortIndex=Q,t(u,A),r(c)===null&&A===r(u)&&(m?(g(C),C=-1):m=!0,W(j,Q-X))):(A.sortIndex=U,t(c,A),y||p||(y=!0,O(_))),A},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(A){var $=h;return function(){var Q=h;h=$;try{return A.apply(this,arguments)}finally{h=Q}}}})(VM);BM.exports=VM;var F7=BM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U7=x,$s=F7;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qM=new Set,rm={};function Tc(e,t){bd(e,t),bd(e+"Capture",t)}function bd(e,t){for(rm[e]=t,e=0;e<t.length;e++)qM.add(t[e])}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vj=Object.prototype.hasOwnProperty,B7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vP={},xP={};function V7(e){return Vj.call(xP,e)?!0:Vj.call(vP,e)?!1:B7.test(e)?xP[e]=!0:(vP[e]=!0,!1)}function q7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z7(e,t,r,n){if(t===null||typeof t>"u"||q7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ts(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pn[e]=new ts(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pn[t]=new ts(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pn[e]=new ts(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pn[e]=new ts(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pn[e]=new ts(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pn[e]=new ts(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pn[e]=new ts(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pn[e]=new ts(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pn[e]=new ts(e,5,!1,e.toLowerCase(),null,!1,!1)});var CS=/[\-:]([a-z])/g;function PS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(CS,PS);Pn[t]=new ts(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(CS,PS);Pn[t]=new ts(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(CS,PS);Pn[t]=new ts(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pn[e]=new ts(e,1,!1,e.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new ts("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pn[e]=new ts(e,1,!1,e.toLowerCase(),null,!0,!0)});function ES(e,t,r,n){var a=Pn.hasOwnProperty(t)?Pn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(z7(t,r,a,n)&&(r=null),n||a===null?V7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var eo=U7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gg=Symbol.for("react.element"),Pu=Symbol.for("react.portal"),Eu=Symbol.for("react.fragment"),AS=Symbol.for("react.strict_mode"),qj=Symbol.for("react.profiler"),zM=Symbol.for("react.provider"),WM=Symbol.for("react.context"),OS=Symbol.for("react.forward_ref"),zj=Symbol.for("react.suspense"),Wj=Symbol.for("react.suspense_list"),TS=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),KM=Symbol.for("react.offscreen"),yP=Symbol.iterator;function Yf(e){return e===null||typeof e!="object"?null:(e=yP&&e[yP]||e["@@iterator"],typeof e=="function"?e:null)}var Pr=Object.assign,iw;function bh(e){if(iw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);iw=t&&t[1]||""}return`
`+iw+e}var ow=!1;function lw(e,t){if(!e||ow)return"";ow=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ow=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bh(e):""}function W7(e){switch(e.tag){case 5:return bh(e.type);case 16:return bh("Lazy");case 13:return bh("Suspense");case 19:return bh("SuspenseList");case 0:case 2:case 15:return e=lw(e.type,!1),e;case 11:return e=lw(e.type.render,!1),e;case 1:return e=lw(e.type,!0),e;default:return""}}function Kj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Eu:return"Fragment";case Pu:return"Portal";case qj:return"Profiler";case AS:return"StrictMode";case zj:return"Suspense";case Wj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case WM:return(e.displayName||"Context")+".Consumer";case zM:return(e._context.displayName||"Context")+".Provider";case OS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case TS:return t=e.displayName||null,t!==null?t:Kj(e.type)||"Memo";case mo:t=e._payload,e=e._init;try{return Kj(e(t))}catch{}}return null}function K7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kj(t);case 8:return t===AS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H7(e){var t=HM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vg(e){e._valueTracker||(e._valueTracker=H7(e))}function GM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=HM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Iv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hj(e,t){var r=t.checked;return Pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function QM(e,t){t=t.checked,t!=null&&ES(e,"checked",t,!1)}function Gj(e,t){QM(e,t);var r=Qo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qj(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qj(e,t.type,Qo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qj(e,t,r){(t!=="number"||Iv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wh=Array.isArray;function Qu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Yj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_e(92));if(wh(r)){if(1<r.length)throw Error(_e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qo(r)}}function YM(e,t){var r=Qo(t.value),n=Qo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function NP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function XM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?XM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xg,JM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xg=xg||document.createElement("div"),xg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G7=["Webkit","ms","Moz","O"];Object.keys(Rh).forEach(function(e){G7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rh[t]=Rh[e]})});function ZM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rh.hasOwnProperty(e)&&Rh[e]?(""+t).trim():t+"px"}function e$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=ZM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Q7=Pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jj(e,t){if(t){if(Q7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function Zj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e1=null;function IS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var t1=null,Yu=null,Xu=null;function _P(e){if(e=Op(e)){if(typeof t1!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=Hy(t),t1(e.stateNode,e.type,t))}}function t$(e){Yu?Xu?Xu.push(e):Xu=[e]:Yu=e}function r$(){if(Yu){var e=Yu,t=Xu;if(Xu=Yu=null,_P(e),t)for(e=0;e<t.length;e++)_P(t[e])}}function n$(e,t){return e(t)}function s$(){}var cw=!1;function a$(e,t,r){if(cw)return e(t,r);cw=!0;try{return n$(e,t,r)}finally{cw=!1,(Yu!==null||Xu!==null)&&(s$(),r$())}}function sm(e,t){var r=e.stateNode;if(r===null)return null;var n=Hy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_e(231,t,typeof r));return r}var r1=!1;if(Bi)try{var Xf={};Object.defineProperty(Xf,"passive",{get:function(){r1=!0}}),window.addEventListener("test",Xf,Xf),window.removeEventListener("test",Xf,Xf)}catch{r1=!1}function Y7(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Mh=!1,Rv=null,Mv=!1,n1=null,X7={onError:function(e){Mh=!0,Rv=e}};function J7(e,t,r,n,a,i,o,l,c){Mh=!1,Rv=null,Y7.apply(X7,arguments)}function Z7(e,t,r,n,a,i,o,l,c){if(J7.apply(this,arguments),Mh){if(Mh){var u=Rv;Mh=!1,Rv=null}else throw Error(_e(198));Mv||(Mv=!0,n1=u)}}function Ic(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function i$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function SP(e){if(Ic(e)!==e)throw Error(_e(188))}function ez(e){var t=e.alternate;if(!t){if(t=Ic(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return SP(a),e;if(i===n)return SP(a),t;i=i.sibling}throw Error(_e(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(_e(189))}}if(r.alternate!==n)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?e:t}function o$(e){return e=ez(e),e!==null?l$(e):null}function l$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=l$(e);if(t!==null)return t;e=e.sibling}return null}var c$=$s.unstable_scheduleCallback,kP=$s.unstable_cancelCallback,tz=$s.unstable_shouldYield,rz=$s.unstable_requestPaint,Vr=$s.unstable_now,nz=$s.unstable_getCurrentPriorityLevel,RS=$s.unstable_ImmediatePriority,u$=$s.unstable_UserBlockingPriority,$v=$s.unstable_NormalPriority,sz=$s.unstable_LowPriority,d$=$s.unstable_IdlePriority,qy=null,ni=null;function az(e){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(qy,e,void 0,(e.current.flags&128)===128)}catch{}}var Ra=Math.clz32?Math.clz32:lz,iz=Math.log,oz=Math.LN2;function lz(e){return e>>>=0,e===0?32:31-(iz(e)/oz|0)|0}var yg=64,bg=4194304;function jh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=jh(l):(i&=o,i!==0&&(n=jh(i)))}else o=r&~a,o!==0?n=jh(o):i!==0&&(n=jh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ra(t),a=1<<r,n|=e[r],t&=~a;return n}function cz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uz(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ra(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=cz(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function s1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f$(){var e=yg;return yg<<=1,!(yg&4194240)&&(yg=64),e}function uw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ep(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ra(t),e[t]=r}function dz(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ra(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function MS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ra(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Zt=0;function h$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m$,$S,p$,g$,v$,a1=!1,wg=[],$o=null,Do=null,Lo=null,am=new Map,im=new Map,bo=[],fz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CP(e,t){switch(e){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":am.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":im.delete(t.pointerId)}}function Jf(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Op(t),t!==null&&$S(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function hz(e,t,r,n,a){switch(t){case"focusin":return $o=Jf($o,e,t,r,n,a),!0;case"dragenter":return Do=Jf(Do,e,t,r,n,a),!0;case"mouseover":return Lo=Jf(Lo,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return am.set(i,Jf(am.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,im.set(i,Jf(im.get(i)||null,e,t,r,n,a)),!0}return!1}function x$(e){var t=Ll(e.target);if(t!==null){var r=Ic(t);if(r!==null){if(t=r.tag,t===13){if(t=i$(r),t!==null){e.blockedOn=t,v$(e.priority,function(){p$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=i1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);e1=n,r.target.dispatchEvent(n),e1=null}else return t=Op(r),t!==null&&$S(t),e.blockedOn=r,!1;t.shift()}return!0}function PP(e,t,r){pv(e)&&r.delete(t)}function mz(){a1=!1,$o!==null&&pv($o)&&($o=null),Do!==null&&pv(Do)&&(Do=null),Lo!==null&&pv(Lo)&&(Lo=null),am.forEach(PP),im.forEach(PP)}function Zf(e,t){e.blockedOn===t&&(e.blockedOn=null,a1||(a1=!0,$s.unstable_scheduleCallback($s.unstable_NormalPriority,mz)))}function om(e){function t(a){return Zf(a,e)}if(0<wg.length){Zf(wg[0],e);for(var r=1;r<wg.length;r++){var n=wg[r];n.blockedOn===e&&(n.blockedOn=null)}}for($o!==null&&Zf($o,e),Do!==null&&Zf(Do,e),Lo!==null&&Zf(Lo,e),am.forEach(t),im.forEach(t),r=0;r<bo.length;r++)n=bo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bo.length&&(r=bo[0],r.blockedOn===null);)x$(r),r.blockedOn===null&&bo.shift()}var Ju=eo.ReactCurrentBatchConfig,Lv=!0;function pz(e,t,r,n){var a=Zt,i=Ju.transition;Ju.transition=null;try{Zt=1,DS(e,t,r,n)}finally{Zt=a,Ju.transition=i}}function gz(e,t,r,n){var a=Zt,i=Ju.transition;Ju.transition=null;try{Zt=4,DS(e,t,r,n)}finally{Zt=a,Ju.transition=i}}function DS(e,t,r,n){if(Lv){var a=i1(e,t,r,n);if(a===null)bw(e,t,n,Fv,r),CP(e,n);else if(hz(a,e,t,r,n))n.stopPropagation();else if(CP(e,n),t&4&&-1<fz.indexOf(e)){for(;a!==null;){var i=Op(a);if(i!==null&&m$(i),i=i1(e,t,r,n),i===null&&bw(e,t,n,Fv,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else bw(e,t,n,null,r)}}var Fv=null;function i1(e,t,r,n){if(Fv=null,e=IS(n),e=Ll(e),e!==null)if(t=Ic(e),t===null)e=null;else if(r=t.tag,r===13){if(e=i$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fv=e,null}function y$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nz()){case RS:return 1;case u$:return 4;case $v:case sz:return 16;case d$:return 536870912;default:return 16}default:return 16}}var Io=null,LS=null,gv=null;function b$(){if(gv)return gv;var e,t=LS,r=t.length,n,a="value"in Io?Io.value:Io.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return gv=a.slice(e,1<n?1-n:void 0)}function vv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jg(){return!0}function EP(){return!1}function qs(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jg:EP,this.isPropagationStopped=EP,this}return Pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jg)},persist:function(){},isPersistent:jg}),t}var hf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FS=qs(hf),Ap=Pr({},hf,{view:0,detail:0}),vz=qs(Ap),dw,fw,eh,zy=Pr({},Ap,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:US,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==eh&&(eh&&e.type==="mousemove"?(dw=e.screenX-eh.screenX,fw=e.screenY-eh.screenY):fw=dw=0,eh=e),dw)},movementY:function(e){return"movementY"in e?e.movementY:fw}}),AP=qs(zy),xz=Pr({},zy,{dataTransfer:0}),yz=qs(xz),bz=Pr({},Ap,{relatedTarget:0}),hw=qs(bz),wz=Pr({},hf,{animationName:0,elapsedTime:0,pseudoElement:0}),jz=qs(wz),Nz=Pr({},hf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_z=qs(Nz),Sz=Pr({},hf,{data:0}),OP=qs(Sz),kz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ez(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pz[e])?!!t[e]:!1}function US(){return Ez}var Az=Pr({},Ap,{key:function(e){if(e.key){var t=kz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:US,charCode:function(e){return e.type==="keypress"?vv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Oz=qs(Az),Tz=Pr({},zy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TP=qs(Tz),Iz=Pr({},Ap,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:US}),Rz=qs(Iz),Mz=Pr({},hf,{propertyName:0,elapsedTime:0,pseudoElement:0}),$z=qs(Mz),Dz=Pr({},zy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lz=qs(Dz),Fz=[9,13,27,32],BS=Bi&&"CompositionEvent"in window,$h=null;Bi&&"documentMode"in document&&($h=document.documentMode);var Uz=Bi&&"TextEvent"in window&&!$h,w$=Bi&&(!BS||$h&&8<$h&&11>=$h),IP=" ",RP=!1;function j$(e,t){switch(e){case"keyup":return Fz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Au=!1;function Bz(e,t){switch(e){case"compositionend":return N$(t);case"keypress":return t.which!==32?null:(RP=!0,IP);case"textInput":return e=t.data,e===IP&&RP?null:e;default:return null}}function Vz(e,t){if(Au)return e==="compositionend"||!BS&&j$(e,t)?(e=b$(),gv=LS=Io=null,Au=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w$&&t.locale!=="ko"?null:t.data;default:return null}}var qz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qz[e.type]:t==="textarea"}function _$(e,t,r,n){t$(n),t=Uv(t,"onChange"),0<t.length&&(r=new FS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Dh=null,lm=null;function zz(e){M$(e,0)}function Wy(e){var t=Iu(e);if(GM(t))return e}function Wz(e,t){if(e==="change")return t}var S$=!1;if(Bi){var mw;if(Bi){var pw="oninput"in document;if(!pw){var $P=document.createElement("div");$P.setAttribute("oninput","return;"),pw=typeof $P.oninput=="function"}mw=pw}else mw=!1;S$=mw&&(!document.documentMode||9<document.documentMode)}function DP(){Dh&&(Dh.detachEvent("onpropertychange",k$),lm=Dh=null)}function k$(e){if(e.propertyName==="value"&&Wy(lm)){var t=[];_$(t,lm,e,IS(e)),a$(zz,t)}}function Kz(e,t,r){e==="focusin"?(DP(),Dh=t,lm=r,Dh.attachEvent("onpropertychange",k$)):e==="focusout"&&DP()}function Hz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wy(lm)}function Gz(e,t){if(e==="click")return Wy(t)}function Qz(e,t){if(e==="input"||e==="change")return Wy(t)}function Yz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var La=typeof Object.is=="function"?Object.is:Yz;function cm(e,t){if(La(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Vj.call(t,a)||!La(e[a],t[a]))return!1}return!0}function LP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function FP(e,t){var r=LP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=LP(r)}}function C$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function P$(){for(var e=window,t=Iv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Iv(e.document)}return t}function VS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xz(e){var t=P$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&C$(r.ownerDocument.documentElement,r)){if(n!==null&&VS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=FP(r,i);var o=FP(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jz=Bi&&"documentMode"in document&&11>=document.documentMode,Ou=null,o1=null,Lh=null,l1=!1;function UP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;l1||Ou==null||Ou!==Iv(n)||(n=Ou,"selectionStart"in n&&VS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lh&&cm(Lh,n)||(Lh=n,n=Uv(o1,"onSelect"),0<n.length&&(t=new FS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ou)))}function Ng(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Tu={animationend:Ng("Animation","AnimationEnd"),animationiteration:Ng("Animation","AnimationIteration"),animationstart:Ng("Animation","AnimationStart"),transitionend:Ng("Transition","TransitionEnd")},gw={},E$={};Bi&&(E$=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function Ky(e){if(gw[e])return gw[e];if(!Tu[e])return e;var t=Tu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in E$)return gw[e]=t[r];return e}var A$=Ky("animationend"),O$=Ky("animationiteration"),T$=Ky("animationstart"),I$=Ky("transitionend"),R$=new Map,BP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function il(e,t){R$.set(e,t),Tc(t,[e])}for(var vw=0;vw<BP.length;vw++){var xw=BP[vw],Zz=xw.toLowerCase(),eW=xw[0].toUpperCase()+xw.slice(1);il(Zz,"on"+eW)}il(A$,"onAnimationEnd");il(O$,"onAnimationIteration");il(T$,"onAnimationStart");il("dblclick","onDoubleClick");il("focusin","onFocus");il("focusout","onBlur");il(I$,"onTransitionEnd");bd("onMouseEnter",["mouseout","mouseover"]);bd("onMouseLeave",["mouseout","mouseover"]);bd("onPointerEnter",["pointerout","pointerover"]);bd("onPointerLeave",["pointerout","pointerover"]);Tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nh));function VP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Z7(n,t,void 0,e),e.currentTarget=null}function M$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;VP(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;VP(a,l,u),i=c}}}if(Mv)throw e=n1,Mv=!1,n1=null,e}function pr(e,t){var r=t[h1];r===void 0&&(r=t[h1]=new Set);var n=e+"__bubble";r.has(n)||($$(t,e,2,!1),r.add(n))}function yw(e,t,r){var n=0;t&&(n|=4),$$(r,e,n,t)}var _g="_reactListening"+Math.random().toString(36).slice(2);function um(e){if(!e[_g]){e[_g]=!0,qM.forEach(function(r){r!=="selectionchange"&&(tW.has(r)||yw(r,!1,e),yw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_g]||(t[_g]=!0,yw("selectionchange",!1,t))}}function $$(e,t,r,n){switch(y$(t)){case 1:var a=pz;break;case 4:a=gz;break;default:a=DS}r=a.bind(null,t,r,e),a=void 0,!r1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function bw(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ll(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}a$(function(){var u=i,d=IS(r),f=[];e:{var h=R$.get(e);if(h!==void 0){var p=FS,y=e;switch(e){case"keypress":if(vv(r)===0)break e;case"keydown":case"keyup":p=Oz;break;case"focusin":y="focus",p=hw;break;case"focusout":y="blur",p=hw;break;case"beforeblur":case"afterblur":p=hw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=AP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Rz;break;case A$:case O$:case T$:p=jz;break;case I$:p=$z;break;case"scroll":p=vz;break;case"wheel":p=Lz;break;case"copy":case"cut":case"paste":p=_z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=TP}var m=(t&4)!==0,w=!m&&e==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,g!==null&&(j=sm(v,g),j!=null&&m.push(dm(v,j,b)))),w)break;v=v.return}0<m.length&&(h=new p(h,y,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==e1&&(y=r.relatedTarget||r.fromElement)&&(Ll(y)||y[Vi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?Ll(y):null,y!==null&&(w=Ic(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=AP,j="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=TP,j="onPointerLeave",g="onPointerEnter",v="pointer"),w=p==null?h:Iu(p),b=y==null?h:Iu(y),h=new m(j,v+"leave",p,r,d),h.target=w,h.relatedTarget=b,j=null,Ll(d)===u&&(m=new m(g,v+"enter",y,r,d),m.target=b,m.relatedTarget=w,j=m),w=j,p&&y)t:{for(m=p,g=y,v=0,b=m;b;b=su(b))v++;for(b=0,j=g;j;j=su(j))b++;for(;0<v-b;)m=su(m),v--;for(;0<b-v;)g=su(g),b--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=su(m),g=su(g)}m=null}else m=null;p!==null&&qP(f,h,p,m,!1),y!==null&&w!==null&&qP(f,w,y,m,!0)}}e:{if(h=u?Iu(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=Wz;else if(MP(h))if(S$)_=Qz;else{_=Hz;var N=Kz}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Gz);if(_&&(_=_(e,u))){_$(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Qj(h,"number",h.value)}switch(N=u?Iu(u):window,e){case"focusin":(MP(N)||N.contentEditable==="true")&&(Ou=N,o1=u,Lh=null);break;case"focusout":Lh=o1=Ou=null;break;case"mousedown":l1=!0;break;case"contextmenu":case"mouseup":case"dragend":l1=!1,UP(f,r,d);break;case"selectionchange":if(Jz)break;case"keydown":case"keyup":UP(f,r,d)}var S;if(BS)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Au?j$(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(w$&&r.locale!=="ko"&&(Au||C!=="onCompositionStart"?C==="onCompositionEnd"&&Au&&(S=b$()):(Io=d,LS="value"in Io?Io.value:Io.textContent,Au=!0)),N=Uv(u,C),0<N.length&&(C=new OP(C,e,null,r,d),f.push({event:C,listeners:N}),S?C.data=S:(S=N$(r),S!==null&&(C.data=S)))),(S=Uz?Bz(e,r):Vz(e,r))&&(u=Uv(u,"onBeforeInput"),0<u.length&&(d=new OP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}M$(f,t)})}function dm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Uv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=sm(e,r),i!=null&&n.unshift(dm(e,i,a)),i=sm(e,t),i!=null&&n.push(dm(e,i,a))),e=e.return}return n}function su(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qP(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=sm(r,i),c!=null&&o.unshift(dm(r,c,l))):a||(c=sm(r,i),c!=null&&o.push(dm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var rW=/\r\n?/g,nW=/\u0000|\uFFFD/g;function zP(e){return(typeof e=="string"?e:""+e).replace(rW,`
`).replace(nW,"")}function Sg(e,t,r){if(t=zP(t),zP(e)!==t&&r)throw Error(_e(425))}function Bv(){}var c1=null,u1=null;function d1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var f1=typeof setTimeout=="function"?setTimeout:void 0,sW=typeof clearTimeout=="function"?clearTimeout:void 0,WP=typeof Promise=="function"?Promise:void 0,aW=typeof queueMicrotask=="function"?queueMicrotask:typeof WP<"u"?function(e){return WP.resolve(null).then(e).catch(iW)}:f1;function iW(e){setTimeout(function(){throw e})}function ww(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),om(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);om(t)}function Fo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function KP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mf=Math.random().toString(36).slice(2),Za="__reactFiber$"+mf,fm="__reactProps$"+mf,Vi="__reactContainer$"+mf,h1="__reactEvents$"+mf,oW="__reactListeners$"+mf,lW="__reactHandles$"+mf;function Ll(e){var t=e[Za];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vi]||r[Za]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=KP(e);e!==null;){if(r=e[Za])return r;e=KP(e)}return t}e=r,r=e.parentNode}return null}function Op(e){return e=e[Za]||e[Vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Iu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function Hy(e){return e[fm]||null}var m1=[],Ru=-1;function ol(e){return{current:e}}function xr(e){0>Ru||(e.current=m1[Ru],m1[Ru]=null,Ru--)}function dr(e,t){Ru++,m1[Ru]=e.current,e.current=t}var Yo={},Dn=ol(Yo),ds=ol(!1),lc=Yo;function wd(e,t){var r=e.type.contextTypes;if(!r)return Yo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fs(e){return e=e.childContextTypes,e!=null}function Vv(){xr(ds),xr(Dn)}function HP(e,t,r){if(Dn.current!==Yo)throw Error(_e(168));dr(Dn,t),dr(ds,r)}function D$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(_e(108,K7(e)||"Unknown",a));return Pr({},r,n)}function qv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yo,lc=Dn.current,dr(Dn,e),dr(ds,ds.current),!0}function GP(e,t,r){var n=e.stateNode;if(!n)throw Error(_e(169));r?(e=D$(e,t,lc),n.__reactInternalMemoizedMergedChildContext=e,xr(ds),xr(Dn),dr(Dn,e)):xr(ds),dr(ds,r)}var ki=null,Gy=!1,jw=!1;function L$(e){ki===null?ki=[e]:ki.push(e)}function cW(e){Gy=!0,L$(e)}function ll(){if(!jw&&ki!==null){jw=!0;var e=0,t=Zt;try{var r=ki;for(Zt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ki=null,Gy=!1}catch(a){throw ki!==null&&(ki=ki.slice(e+1)),c$(RS,ll),a}finally{Zt=t,jw=!1}}return null}var Mu=[],$u=0,zv=null,Wv=0,Ys=[],Xs=0,cc=null,Oi=1,Ti="";function Pl(e,t){Mu[$u++]=Wv,Mu[$u++]=zv,zv=e,Wv=t}function F$(e,t,r){Ys[Xs++]=Oi,Ys[Xs++]=Ti,Ys[Xs++]=cc,cc=e;var n=Oi;e=Ti;var a=32-Ra(n)-1;n&=~(1<<a),r+=1;var i=32-Ra(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Oi=1<<32-Ra(t)+a|r<<a|n,Ti=i+e}else Oi=1<<i|r<<a|n,Ti=e}function qS(e){e.return!==null&&(Pl(e,1),F$(e,1,0))}function zS(e){for(;e===zv;)zv=Mu[--$u],Mu[$u]=null,Wv=Mu[--$u],Mu[$u]=null;for(;e===cc;)cc=Ys[--Xs],Ys[Xs]=null,Ti=Ys[--Xs],Ys[Xs]=null,Oi=Ys[--Xs],Ys[Xs]=null}var Os=null,As=null,br=!1,Aa=null;function U$(e,t){var r=Zs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function QP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Os=e,As=Fo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Os=e,As=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=cc!==null?{id:Oi,overflow:Ti}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Os=e,As=null,!0):!1;default:return!1}}function p1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function g1(e){if(br){var t=As;if(t){var r=t;if(!QP(e,t)){if(p1(e))throw Error(_e(418));t=Fo(r.nextSibling);var n=Os;t&&QP(e,t)?U$(n,r):(e.flags=e.flags&-4097|2,br=!1,Os=e)}}else{if(p1(e))throw Error(_e(418));e.flags=e.flags&-4097|2,br=!1,Os=e}}}function YP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Os=e}function kg(e){if(e!==Os)return!1;if(!br)return YP(e),br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!d1(e.type,e.memoizedProps)),t&&(t=As)){if(p1(e))throw B$(),Error(_e(418));for(;t;)U$(e,t),t=Fo(t.nextSibling)}if(YP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){As=Fo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}As=null}}else As=Os?Fo(e.stateNode.nextSibling):null;return!0}function B$(){for(var e=As;e;)e=Fo(e.nextSibling)}function jd(){As=Os=null,br=!1}function WS(e){Aa===null?Aa=[e]:Aa.push(e)}var uW=eo.ReactCurrentBatchConfig;function th(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var n=r.stateNode}if(!n)throw Error(_e(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,e))}return e}function Cg(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function XP(e){var t=e._init;return t(e._payload)}function V$(e){function t(g,v){if(e){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function a(g,v){return g=qo(g,v),g.index=0,g.sibling=null,g}function i(g,v,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,b,j){return v===null||v.tag!==6?(v=Ew(b,g.mode,j),v.return=g,v):(v=a(v,b),v.return=g,v)}function c(g,v,b,j){var _=b.type;return _===Eu?d(g,v,b.props.children,j,b.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===mo&&XP(_)===v.type)?(j=a(v,b.props),j.ref=th(g,v,b),j.return=g,j):(j=_v(b.type,b.key,b.props,null,g.mode,j),j.ref=th(g,v,b),j.return=g,j)}function u(g,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Aw(b,g.mode,j),v.return=g,v):(v=a(v,b.children||[]),v.return=g,v)}function d(g,v,b,j,_){return v===null||v.tag!==7?(v=sc(b,g.mode,j,_),v.return=g,v):(v=a(v,b),v.return=g,v)}function f(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ew(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gg:return b=_v(v.type,v.key,v.props,null,g.mode,b),b.ref=th(g,null,v),b.return=g,b;case Pu:return v=Aw(v,g.mode,b),v.return=g,v;case mo:var j=v._init;return f(g,j(v._payload),b)}if(wh(v)||Yf(v))return v=sc(v,g.mode,b,null),v.return=g,v;Cg(g,v)}return null}function h(g,v,b,j){var _=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(g,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gg:return b.key===_?c(g,v,b,j):null;case Pu:return b.key===_?u(g,v,b,j):null;case mo:return _=b._init,h(g,v,_(b._payload),j)}if(wh(b)||Yf(b))return _!==null?null:d(g,v,b,j,null);Cg(g,b)}return null}function p(g,v,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(b)||null,l(v,g,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gg:return g=g.get(j.key===null?b:j.key)||null,c(v,g,j,_);case Pu:return g=g.get(j.key===null?b:j.key)||null,u(v,g,j,_);case mo:var N=j._init;return p(g,v,b,N(j._payload),_)}if(wh(j)||Yf(j))return g=g.get(b)||null,d(v,g,j,_,null);Cg(v,j)}return null}function y(g,v,b,j){for(var _=null,N=null,S=v,C=v=0,P=null;S!==null&&C<b.length;C++){S.index>C?(P=S,S=null):P=S.sibling;var k=h(g,S,b[C],j);if(k===null){S===null&&(S=P);break}e&&S&&k.alternate===null&&t(g,S),v=i(k,v,C),N===null?_=k:N.sibling=k,N=k,S=P}if(C===b.length)return r(g,S),br&&Pl(g,C),_;if(S===null){for(;C<b.length;C++)S=f(g,b[C],j),S!==null&&(v=i(S,v,C),N===null?_=S:N.sibling=S,N=S);return br&&Pl(g,C),_}for(S=n(g,S);C<b.length;C++)P=p(S,g,C,b[C],j),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?C:P.key),v=i(P,v,C),N===null?_=P:N.sibling=P,N=P);return e&&S.forEach(function(E){return t(g,E)}),br&&Pl(g,C),_}function m(g,v,b,j){var _=Yf(b);if(typeof _!="function")throw Error(_e(150));if(b=_.call(b),b==null)throw Error(_e(151));for(var N=_=null,S=v,C=v=0,P=null,k=b.next();S!==null&&!k.done;C++,k=b.next()){S.index>C?(P=S,S=null):P=S.sibling;var E=h(g,S,k.value,j);if(E===null){S===null&&(S=P);break}e&&S&&E.alternate===null&&t(g,S),v=i(E,v,C),N===null?_=E:N.sibling=E,N=E,S=P}if(k.done)return r(g,S),br&&Pl(g,C),_;if(S===null){for(;!k.done;C++,k=b.next())k=f(g,k.value,j),k!==null&&(v=i(k,v,C),N===null?_=k:N.sibling=k,N=k);return br&&Pl(g,C),_}for(S=n(g,S);!k.done;C++,k=b.next())k=p(S,g,C,k.value,j),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?C:k.key),v=i(k,v,C),N===null?_=k:N.sibling=k,N=k);return e&&S.forEach(function(T){return t(g,T)}),br&&Pl(g,C),_}function w(g,v,b,j){if(typeof b=="object"&&b!==null&&b.type===Eu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case gg:e:{for(var _=b.key,N=v;N!==null;){if(N.key===_){if(_=b.type,_===Eu){if(N.tag===7){r(g,N.sibling),v=a(N,b.props.children),v.return=g,g=v;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===mo&&XP(_)===N.type){r(g,N.sibling),v=a(N,b.props),v.ref=th(g,N,b),v.return=g,g=v;break e}r(g,N);break}else t(g,N);N=N.sibling}b.type===Eu?(v=sc(b.props.children,g.mode,j,b.key),v.return=g,g=v):(j=_v(b.type,b.key,b.props,null,g.mode,j),j.ref=th(g,v,b),j.return=g,g=j)}return o(g);case Pu:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(g,v.sibling),v=a(v,b.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=Aw(b,g.mode,j),v.return=g,g=v}return o(g);case mo:return N=b._init,w(g,v,N(b._payload),j)}if(wh(b))return y(g,v,b,j);if(Yf(b))return m(g,v,b,j);Cg(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(g,v.sibling),v=a(v,b),v.return=g,g=v):(r(g,v),v=Ew(b,g.mode,j),v.return=g,g=v),o(g)):r(g,v)}return w}var Nd=V$(!0),q$=V$(!1),Kv=ol(null),Hv=null,Du=null,KS=null;function HS(){KS=Du=Hv=null}function GS(e){var t=Kv.current;xr(Kv),e._currentValue=t}function v1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zu(e,t){Hv=e,KS=Du=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ls=!0),e.firstContext=null)}function ia(e){var t=e._currentValue;if(KS!==e)if(e={context:e,memoizedValue:t,next:null},Du===null){if(Hv===null)throw Error(_e(308));Du=e,Hv.dependencies={lanes:0,firstContext:e}}else Du=Du.next=e;return t}var Fl=null;function QS(e){Fl===null?Fl=[e]:Fl.push(e)}function z$(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,QS(t)):(r.next=a.next,a.next=r),t.interleaved=r,qi(e,n)}function qi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var po=!1;function YS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,qi(e,r)}return a=n.interleaved,a===null?(t.next=t,QS(n)):(t.next=a.next,a.next=t),n.interleaved=t,qi(e,r)}function xv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,MS(e,r)}}function JP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gv(e,t,r,n){var a=e.updateQueue;po=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Pr({},f,h);break e;case 2:po=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);dc|=o,e.lanes=o,e.memoizedState=f}}function ZP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(_e(191,a));a.call(n)}}}var Tp={},si=ol(Tp),hm=ol(Tp),mm=ol(Tp);function Ul(e){if(e===Tp)throw Error(_e(174));return e}function XS(e,t){switch(dr(mm,t),dr(hm,e),dr(si,Tp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xj(t,e)}xr(si),dr(si,t)}function _d(){xr(si),xr(hm),xr(mm)}function K$(e){Ul(mm.current);var t=Ul(si.current),r=Xj(t,e.type);t!==r&&(dr(hm,e),dr(si,r))}function JS(e){hm.current===e&&(xr(si),xr(hm))}var Sr=ol(0);function Qv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nw=[];function ZS(){for(var e=0;e<Nw.length;e++)Nw[e]._workInProgressVersionPrimary=null;Nw.length=0}var yv=eo.ReactCurrentDispatcher,_w=eo.ReactCurrentBatchConfig,uc=0,Cr=null,sn=null,gn=null,Yv=!1,Fh=!1,pm=0,dW=0;function On(){throw Error(_e(321))}function ek(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!La(e[r],t[r]))return!1;return!0}function tk(e,t,r,n,a,i){if(uc=i,Cr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yv.current=e===null||e.memoizedState===null?pW:gW,e=r(n,a),Fh){i=0;do{if(Fh=!1,pm=0,25<=i)throw Error(_e(301));i+=1,gn=sn=null,t.updateQueue=null,yv.current=vW,e=r(n,a)}while(Fh)}if(yv.current=Xv,t=sn!==null&&sn.next!==null,uc=0,gn=sn=Cr=null,Yv=!1,t)throw Error(_e(300));return e}function rk(){var e=pm!==0;return pm=0,e}function Ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Cr.memoizedState=gn=e:gn=gn.next=e,gn}function oa(){if(sn===null){var e=Cr.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=gn===null?Cr.memoizedState:gn.next;if(t!==null)gn=t,sn=e;else{if(e===null)throw Error(_e(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},gn===null?Cr.memoizedState=gn=e:gn=gn.next=e}return gn}function gm(e,t){return typeof t=="function"?t(e):t}function Sw(e){var t=oa(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=sn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((uc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Cr.lanes|=d,dc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,La(n,t.memoizedState)||(ls=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Cr.lanes|=i,dc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function kw(e){var t=oa(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);La(i,t.memoizedState)||(ls=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function H$(){}function G$(e,t){var r=Cr,n=oa(),a=t(),i=!La(n.memoizedState,a);if(i&&(n.memoizedState=a,ls=!0),n=n.queue,nk(X$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||gn!==null&&gn.memoizedState.tag&1){if(r.flags|=2048,vm(9,Y$.bind(null,r,n,a,t),void 0,null),xn===null)throw Error(_e(349));uc&30||Q$(r,t,a)}return a}function Q$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Cr.updateQueue,t===null?(t={lastEffect:null,stores:null},Cr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Y$(e,t,r,n){t.value=r,t.getSnapshot=n,J$(t)&&Z$(e)}function X$(e,t,r){return r(function(){J$(t)&&Z$(e)})}function J$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!La(e,r)}catch{return!0}}function Z$(e){var t=qi(e,1);t!==null&&Ma(t,e,1,-1)}function eE(e){var t=Ga();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:e},t.queue=e,e=e.dispatch=mW.bind(null,Cr,e),[t.memoizedState,e]}function vm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Cr.updateQueue,t===null?(t={lastEffect:null,stores:null},Cr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function eD(){return oa().memoizedState}function bv(e,t,r,n){var a=Ga();Cr.flags|=e,a.memoizedState=vm(1|t,r,void 0,n===void 0?null:n)}function Qy(e,t,r,n){var a=oa();n=n===void 0?null:n;var i=void 0;if(sn!==null){var o=sn.memoizedState;if(i=o.destroy,n!==null&&ek(n,o.deps)){a.memoizedState=vm(t,r,i,n);return}}Cr.flags|=e,a.memoizedState=vm(1|t,r,i,n)}function tE(e,t){return bv(8390656,8,e,t)}function nk(e,t){return Qy(2048,8,e,t)}function tD(e,t){return Qy(4,2,e,t)}function rD(e,t){return Qy(4,4,e,t)}function nD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sD(e,t,r){return r=r!=null?r.concat([e]):null,Qy(4,4,nD.bind(null,t,e),r)}function sk(){}function aD(e,t){var r=oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ek(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iD(e,t){var r=oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ek(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function oD(e,t,r){return uc&21?(La(r,t)||(r=f$(),Cr.lanes|=r,dc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ls=!0),e.memoizedState=r)}function fW(e,t){var r=Zt;Zt=r!==0&&4>r?r:4,e(!0);var n=_w.transition;_w.transition={};try{e(!1),t()}finally{Zt=r,_w.transition=n}}function lD(){return oa().memoizedState}function hW(e,t,r){var n=Vo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cD(e))uD(t,r);else if(r=z$(e,t,r,n),r!==null){var a=Yn();Ma(r,e,n,a),dD(r,t,n)}}function mW(e,t,r){var n=Vo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cD(e))uD(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,La(l,o)){var c=t.interleaved;c===null?(a.next=a,QS(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=z$(e,t,a,n),r!==null&&(a=Yn(),Ma(r,e,n,a),dD(r,t,n))}}function cD(e){var t=e.alternate;return e===Cr||t!==null&&t===Cr}function uD(e,t){Fh=Yv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function dD(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,MS(e,r)}}var Xv={readContext:ia,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},pW={readContext:ia,useCallback:function(e,t){return Ga().memoizedState=[e,t===void 0?null:t],e},useContext:ia,useEffect:tE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bv(4194308,4,nD.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bv(4194308,4,e,t)},useInsertionEffect:function(e,t){return bv(4,2,e,t)},useMemo:function(e,t){var r=Ga();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ga();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=hW.bind(null,Cr,e),[n.memoizedState,e]},useRef:function(e){var t=Ga();return e={current:e},t.memoizedState=e},useState:eE,useDebugValue:sk,useDeferredValue:function(e){return Ga().memoizedState=e},useTransition:function(){var e=eE(!1),t=e[0];return e=fW.bind(null,e[1]),Ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Cr,a=Ga();if(br){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=t(),xn===null)throw Error(_e(349));uc&30||Q$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,tE(X$.bind(null,n,i,e),[e]),n.flags|=2048,vm(9,Y$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ga(),t=xn.identifierPrefix;if(br){var r=Ti,n=Oi;r=(n&~(1<<32-Ra(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=pm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gW={readContext:ia,useCallback:aD,useContext:ia,useEffect:nk,useImperativeHandle:sD,useInsertionEffect:tD,useLayoutEffect:rD,useMemo:iD,useReducer:Sw,useRef:eD,useState:function(){return Sw(gm)},useDebugValue:sk,useDeferredValue:function(e){var t=oa();return oD(t,sn.memoizedState,e)},useTransition:function(){var e=Sw(gm)[0],t=oa().memoizedState;return[e,t]},useMutableSource:H$,useSyncExternalStore:G$,useId:lD,unstable_isNewReconciler:!1},vW={readContext:ia,useCallback:aD,useContext:ia,useEffect:nk,useImperativeHandle:sD,useInsertionEffect:tD,useLayoutEffect:rD,useMemo:iD,useReducer:kw,useRef:eD,useState:function(){return kw(gm)},useDebugValue:sk,useDeferredValue:function(e){var t=oa();return sn===null?t.memoizedState=e:oD(t,sn.memoizedState,e)},useTransition:function(){var e=kw(gm)[0],t=oa().memoizedState;return[e,t]},useMutableSource:H$,useSyncExternalStore:G$,useId:lD,unstable_isNewReconciler:!1};function ja(e,t){if(e&&e.defaultProps){t=Pr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function x1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yy={isMounted:function(e){return(e=e._reactInternals)?Ic(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yn(),a=Vo(e),i=Di(n,a);i.payload=t,r!=null&&(i.callback=r),t=Uo(e,i,a),t!==null&&(Ma(t,e,a,n),xv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yn(),a=Vo(e),i=Di(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Uo(e,i,a),t!==null&&(Ma(t,e,a,n),xv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yn(),n=Vo(e),a=Di(r,n);a.tag=2,t!=null&&(a.callback=t),t=Uo(e,a,n),t!==null&&(Ma(t,e,n,r),xv(t,e,n))}};function rE(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!cm(r,n)||!cm(a,i):!0}function fD(e,t,r){var n=!1,a=Yo,i=t.contextType;return typeof i=="object"&&i!==null?i=ia(i):(a=fs(t)?lc:Dn.current,n=t.contextTypes,i=(n=n!=null)?wd(e,a):Yo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function nE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Yy.enqueueReplaceState(t,t.state,null)}function y1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},YS(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ia(i):(i=fs(t)?lc:Dn.current,a.context=wd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(x1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Yy.enqueueReplaceState(a,a.state,null),Gv(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Sd(e,t){try{var r="",n=t;do r+=W7(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Cw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function b1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var xW=typeof WeakMap=="function"?WeakMap:Map;function hD(e,t,r){r=Di(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zv||(Zv=!0,A1=n),b1(e,t)},r}function mD(e,t,r){r=Di(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){b1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){b1(e,t),typeof n!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function sE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new xW;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=TW.bind(null,e,t,r),t.then(e,e))}function aE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iE(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Di(-1,1),t.tag=2,Uo(r,t,1))),r.lanes|=1),e)}var yW=eo.ReactCurrentOwner,ls=!1;function zn(e,t,r,n){t.child=e===null?q$(t,null,r,n):Nd(t,e.child,r,n)}function oE(e,t,r,n,a){r=r.render;var i=t.ref;return Zu(t,a),n=tk(e,t,r,n,i,a),r=rk(),e!==null&&!ls?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zi(e,t,a)):(br&&r&&qS(t),t.flags|=1,zn(e,t,n,a),t.child)}function lE(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!fk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,pD(e,t,i,n,a)):(e=_v(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:cm,r(o,n)&&e.ref===t.ref)return zi(e,t,a)}return t.flags|=1,e=qo(i,n),e.ref=t.ref,e.return=t,t.child=e}function pD(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(cm(i,n)&&e.ref===t.ref)if(ls=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(ls=!0);else return t.lanes=e.lanes,zi(e,t,a)}return w1(e,t,r,n,a)}function gD(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(Fu,js),js|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dr(Fu,js),js|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,dr(Fu,js),js|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,dr(Fu,js),js|=n;return zn(e,t,a,r),t.child}function vD(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function w1(e,t,r,n,a){var i=fs(r)?lc:Dn.current;return i=wd(t,i),Zu(t,a),r=tk(e,t,r,n,i,a),n=rk(),e!==null&&!ls?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zi(e,t,a)):(br&&n&&qS(t),t.flags|=1,zn(e,t,r,a),t.child)}function cE(e,t,r,n,a){if(fs(r)){var i=!0;qv(t)}else i=!1;if(Zu(t,a),t.stateNode===null)wv(e,t),fD(t,r,n),y1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ia(u):(u=fs(r)?lc:Dn.current,u=wd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&nE(t,o,n,u),po=!1;var h=t.memoizedState;o.state=h,Gv(t,n,o,a),c=t.memoizedState,l!==n||h!==c||ds.current||po?(typeof d=="function"&&(x1(t,r,d,n),c=t.memoizedState),(l=po||rE(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,W$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ja(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ia(c):(c=fs(r)?lc:Dn.current,c=wd(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&nE(t,o,n,c),po=!1,h=t.memoizedState,o.state=h,Gv(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||ds.current||po?(typeof p=="function"&&(x1(t,r,p,n),y=t.memoizedState),(u=po||rE(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return j1(e,t,r,n,i,a)}function j1(e,t,r,n,a,i){vD(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&GP(t,r,!1),zi(e,t,i);n=t.stateNode,yW.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Nd(t,e.child,null,i),t.child=Nd(t,null,l,i)):zn(e,t,l,i),t.memoizedState=n.state,a&&GP(t,r,!0),t.child}function xD(e){var t=e.stateNode;t.pendingContext?HP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&HP(e,t.context,!1),XS(e,t.containerInfo)}function uE(e,t,r,n,a){return jd(),WS(a),t.flags|=256,zn(e,t,r,n),t.child}var N1={dehydrated:null,treeContext:null,retryLane:0};function _1(e){return{baseLanes:e,cachePool:null,transitions:null}}function yD(e,t,r){var n=t.pendingProps,a=Sr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),dr(Sr,a&1),e===null)return g1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zy(o,n,0,null),e=sc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_1(r),t.memoizedState=N1,e):ak(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return bW(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=qo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=qo(l,i):(i=sc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?_1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=N1,n}return i=e.child,e=i.sibling,n=qo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ak(e,t){return t=Zy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pg(e,t,r,n){return n!==null&&WS(n),Nd(t,e.child,null,r),e=ak(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bW(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Cw(Error(_e(422))),Pg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Zy({mode:"visible",children:n.children},a,0,null),i=sc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Nd(t,e.child,null,o),t.child.memoizedState=_1(o),t.memoizedState=N1,i);if(!(t.mode&1))return Pg(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(_e(419)),n=Cw(i,n,void 0),Pg(e,t,o,n)}if(l=(o&e.childLanes)!==0,ls||l){if(n=xn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,qi(e,a),Ma(n,e,a,-1))}return dk(),n=Cw(Error(_e(421))),Pg(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=IW.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,As=Fo(a.nextSibling),Os=t,br=!0,Aa=null,e!==null&&(Ys[Xs++]=Oi,Ys[Xs++]=Ti,Ys[Xs++]=cc,Oi=e.id,Ti=e.overflow,cc=t),t=ak(t,n.children),t.flags|=4096,t)}function dE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),v1(e.return,t,r)}function Pw(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function bD(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(zn(e,t,n.children,r),n=Sr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dE(e,r,t);else if(e.tag===19)dE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(dr(Sr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Qv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Pw(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Qv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Pw(t,!0,r,null,i);break;case"together":Pw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),dc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,r=qo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wW(e,t,r){switch(t.tag){case 3:xD(t),jd();break;case 5:K$(t);break;case 1:fs(t.type)&&qv(t);break;case 4:XS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;dr(Kv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(dr(Sr,Sr.current&1),t.flags|=128,null):r&t.child.childLanes?yD(e,t,r):(dr(Sr,Sr.current&1),e=zi(e,t,r),e!==null?e.sibling:null);dr(Sr,Sr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bD(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),dr(Sr,Sr.current),n)break;return null;case 22:case 23:return t.lanes=0,gD(e,t,r)}return zi(e,t,r)}var wD,S1,jD,ND;wD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};S1=function(){};jD=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ul(si.current);var i=null;switch(r){case"input":a=Hj(e,a),n=Hj(e,n),i=[];break;case"select":a=Pr({},a,{value:void 0}),n=Pr({},n,{value:void 0}),i=[];break;case"textarea":a=Yj(e,a),n=Yj(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Bv)}Jj(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ND=function(e,t,r,n){r!==n&&(t.flags|=4)};function rh(e,t){if(!br)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function jW(e,t,r){var n=t.pendingProps;switch(zS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(t),null;case 1:return fs(t.type)&&Vv(),Tn(t),null;case 3:return n=t.stateNode,_d(),xr(ds),xr(Dn),ZS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(kg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Aa!==null&&(I1(Aa),Aa=null))),S1(e,t),Tn(t),null;case 5:JS(t);var a=Ul(mm.current);if(r=t.type,e!==null&&t.stateNode!=null)jD(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(_e(166));return Tn(t),null}if(e=Ul(si.current),kg(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Za]=t,n[fm]=i,e=(t.mode&1)!==0,r){case"dialog":pr("cancel",n),pr("close",n);break;case"iframe":case"object":case"embed":pr("load",n);break;case"video":case"audio":for(a=0;a<Nh.length;a++)pr(Nh[a],n);break;case"source":pr("error",n);break;case"img":case"image":case"link":pr("error",n),pr("load",n);break;case"details":pr("toggle",n);break;case"input":bP(n,i),pr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},pr("invalid",n);break;case"textarea":jP(n,i),pr("invalid",n)}Jj(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Sg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Sg(n.textContent,l,e),a=["children",""+l]):rm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pr("scroll",n)}switch(r){case"input":vg(n),wP(n,i,!0);break;case"textarea":vg(n),NP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Bv)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=XM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Za]=t,e[fm]=n,wD(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zj(r,n),r){case"dialog":pr("cancel",e),pr("close",e),a=n;break;case"iframe":case"object":case"embed":pr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Nh.length;a++)pr(Nh[a],e);a=n;break;case"source":pr("error",e),a=n;break;case"img":case"image":case"link":pr("error",e),pr("load",e),a=n;break;case"details":pr("toggle",e),a=n;break;case"input":bP(e,n),a=Hj(e,n),pr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Pr({},n,{value:void 0}),pr("invalid",e);break;case"textarea":jP(e,n),a=Yj(e,n),pr("invalid",e);break;default:a=n}Jj(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?e$(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&JM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&nm(e,c):typeof c=="number"&&nm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pr("scroll",e):c!=null&&ES(e,i,c,o))}switch(r){case"input":vg(e),wP(e,n,!1);break;case"textarea":vg(e),NP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Qu(e,!!n.multiple,i,!1):n.defaultValue!=null&&Qu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tn(t),null;case 6:if(e&&t.stateNode!=null)ND(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(_e(166));if(r=Ul(mm.current),Ul(si.current),kg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Za]=t,(i=n.nodeValue!==r)&&(e=Os,e!==null))switch(e.tag){case 3:Sg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Za]=t,t.stateNode=n}return Tn(t),null;case 13:if(xr(Sr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(br&&As!==null&&t.mode&1&&!(t.flags&128))B$(),jd(),t.flags|=98560,i=!1;else if(i=kg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(_e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[Za]=t}else jd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tn(t),i=!1}else Aa!==null&&(I1(Aa),Aa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Sr.current&1?on===0&&(on=3):dk())),t.updateQueue!==null&&(t.flags|=4),Tn(t),null);case 4:return _d(),S1(e,t),e===null&&um(t.stateNode.containerInfo),Tn(t),null;case 10:return GS(t.type._context),Tn(t),null;case 17:return fs(t.type)&&Vv(),Tn(t),null;case 19:if(xr(Sr),i=t.memoizedState,i===null)return Tn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)rh(i,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qv(e),o!==null){for(t.flags|=128,rh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return dr(Sr,Sr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Vr()>kd&&(t.flags|=128,n=!0,rh(i,!1),t.lanes=4194304)}else{if(!n)if(e=Qv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),rh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!br)return Tn(t),null}else 2*Vr()-i.renderingStartTime>kd&&r!==1073741824&&(t.flags|=128,n=!0,rh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Vr(),t.sibling=null,r=Sr.current,dr(Sr,n?r&1|2:r&1),t):(Tn(t),null);case 22:case 23:return uk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?js&1073741824&&(Tn(t),t.subtreeFlags&6&&(t.flags|=8192)):Tn(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function NW(e,t){switch(zS(t),t.tag){case 1:return fs(t.type)&&Vv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _d(),xr(ds),xr(Dn),ZS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return JS(t),null;case 13:if(xr(Sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));jd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xr(Sr),null;case 4:return _d(),null;case 10:return GS(t.type._context),null;case 22:case 23:return uk(),null;case 24:return null;default:return null}}var Eg=!1,Rn=!1,_W=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Lu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Or(e,t,n)}else r.current=null}function k1(e,t,r){try{r()}catch(n){Or(e,t,n)}}var fE=!1;function SW(e,t){if(c1=Lv,e=P$(),VS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(u1={focusedElem:e,selectionRange:r},Lv=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,w=y.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ja(t.type,m),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(j){Or(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return y=fE,fE=!1,y}function Uh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&k1(t,r,i)}a=a.next}while(a!==n)}}function Xy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function C1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _D(e){var t=e.alternate;t!==null&&(e.alternate=null,_D(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Za],delete t[fm],delete t[h1],delete t[oW],delete t[lW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function SD(e){return e.tag===5||e.tag===3||e.tag===4}function hE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||SD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function P1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Bv));else if(n!==4&&(e=e.child,e!==null))for(P1(e,t,r),e=e.sibling;e!==null;)P1(e,t,r),e=e.sibling}function E1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(E1(e,t,r),e=e.sibling;e!==null;)E1(e,t,r),e=e.sibling}var _n=null,ka=!1;function lo(e,t,r){for(r=r.child;r!==null;)kD(e,t,r),r=r.sibling}function kD(e,t,r){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(qy,r)}catch{}switch(r.tag){case 5:Rn||Lu(r,t);case 6:var n=_n,a=ka;_n=null,lo(e,t,r),_n=n,ka=a,_n!==null&&(ka?(e=_n,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_n.removeChild(r.stateNode));break;case 18:_n!==null&&(ka?(e=_n,r=r.stateNode,e.nodeType===8?ww(e.parentNode,r):e.nodeType===1&&ww(e,r),om(e)):ww(_n,r.stateNode));break;case 4:n=_n,a=ka,_n=r.stateNode.containerInfo,ka=!0,lo(e,t,r),_n=n,ka=a;break;case 0:case 11:case 14:case 15:if(!Rn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&k1(r,t,o),a=a.next}while(a!==n)}lo(e,t,r);break;case 1:if(!Rn&&(Lu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Or(r,t,l)}lo(e,t,r);break;case 21:lo(e,t,r);break;case 22:r.mode&1?(Rn=(n=Rn)||r.memoizedState!==null,lo(e,t,r),Rn=n):lo(e,t,r);break;default:lo(e,t,r)}}function mE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _W),t.forEach(function(n){var a=RW.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function xa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:_n=l.stateNode,ka=!1;break e;case 3:_n=l.stateNode.containerInfo,ka=!0;break e;case 4:_n=l.stateNode.containerInfo,ka=!0;break e}l=l.return}if(_n===null)throw Error(_e(160));kD(i,o,a),_n=null,ka=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Or(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)CD(t,e),t=t.sibling}function CD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xa(t,e),Ha(e),n&4){try{Uh(3,e,e.return),Xy(3,e)}catch(m){Or(e,e.return,m)}try{Uh(5,e,e.return)}catch(m){Or(e,e.return,m)}}break;case 1:xa(t,e),Ha(e),n&512&&r!==null&&Lu(r,r.return);break;case 5:if(xa(t,e),Ha(e),n&512&&r!==null&&Lu(r,r.return),e.flags&32){var a=e.stateNode;try{nm(a,"")}catch(m){Or(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&QM(a,i),Zj(l,o);var u=Zj(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?e$(a,f):d==="dangerouslySetInnerHTML"?JM(a,f):d==="children"?nm(a,f):ES(a,d,f,u)}switch(l){case"input":Gj(a,i);break;case"textarea":YM(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Qu(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Qu(a,!!i.multiple,i.defaultValue,!0):Qu(a,!!i.multiple,i.multiple?[]:"",!1))}a[fm]=i}catch(m){Or(e,e.return,m)}}break;case 6:if(xa(t,e),Ha(e),n&4){if(e.stateNode===null)throw Error(_e(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Or(e,e.return,m)}}break;case 3:if(xa(t,e),Ha(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{om(t.containerInfo)}catch(m){Or(e,e.return,m)}break;case 4:xa(t,e),Ha(e);break;case 13:xa(t,e),Ha(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(lk=Vr())),n&4&&mE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Rn=(u=Rn)||d,xa(t,e),Rn=u):xa(t,e),Ha(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ue=e,d=e.child;d!==null;){for(f=Ue=d;Ue!==null;){switch(h=Ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:Uh(4,h,h.return);break;case 1:Lu(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){Or(n,r,m)}}break;case 5:Lu(h,h.return);break;case 22:if(h.memoizedState!==null){gE(f);continue}}p!==null?(p.return=h,Ue=p):gE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ZM("display",o))}catch(m){Or(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Or(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xa(t,e),Ha(e),n&4&&mE(e);break;case 21:break;default:xa(t,e),Ha(e)}}function Ha(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(SD(r)){var n=r;break e}r=r.return}throw Error(_e(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(nm(a,""),n.flags&=-33);var i=hE(e);E1(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=hE(e);P1(e,l,o);break;default:throw Error(_e(161))}}catch(c){Or(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kW(e,t,r){Ue=e,PD(e)}function PD(e,t,r){for(var n=(e.mode&1)!==0;Ue!==null;){var a=Ue,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Eg;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Rn;l=Eg;var u=Rn;if(Eg=o,(Rn=c)&&!u)for(Ue=a;Ue!==null;)o=Ue,c=o.child,o.tag===22&&o.memoizedState!==null?vE(a):c!==null?(c.return=o,Ue=c):vE(a);for(;i!==null;)Ue=i,PD(i),i=i.sibling;Ue=a,Eg=l,Rn=u}pE(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ue=i):pE(e)}}function pE(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rn||Xy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ja(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ZP(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ZP(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&om(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Rn||t.flags&512&&C1(t)}catch(h){Or(t,t.return,h)}}if(t===e){Ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ue=r;break}Ue=t.return}}function gE(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ue=r;break}Ue=t.return}}function vE(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xy(4,t)}catch(c){Or(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Or(t,a,c)}}var i=t.return;try{C1(t)}catch(c){Or(t,i,c)}break;case 5:var o=t.return;try{C1(t)}catch(c){Or(t,o,c)}}}catch(c){Or(t,t.return,c)}if(t===e){Ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ue=l;break}Ue=t.return}}var CW=Math.ceil,Jv=eo.ReactCurrentDispatcher,ik=eo.ReactCurrentOwner,ta=eo.ReactCurrentBatchConfig,Dt=0,xn=null,Hr=null,Cn=0,js=0,Fu=ol(0),on=0,xm=null,dc=0,Jy=0,ok=0,Bh=null,is=null,lk=0,kd=1/0,Ni=null,Zv=!1,A1=null,Bo=null,Ag=!1,Ro=null,ex=0,Vh=0,O1=null,jv=-1,Nv=0;function Yn(){return Dt&6?Vr():jv!==-1?jv:jv=Vr()}function Vo(e){return e.mode&1?Dt&2&&Cn!==0?Cn&-Cn:uW.transition!==null?(Nv===0&&(Nv=f$()),Nv):(e=Zt,e!==0||(e=window.event,e=e===void 0?16:y$(e.type)),e):1}function Ma(e,t,r,n){if(50<Vh)throw Vh=0,O1=null,Error(_e(185));Ep(e,r,n),(!(Dt&2)||e!==xn)&&(e===xn&&(!(Dt&2)&&(Jy|=r),on===4&&wo(e,Cn)),hs(e,n),r===1&&Dt===0&&!(t.mode&1)&&(kd=Vr()+500,Gy&&ll()))}function hs(e,t){var r=e.callbackNode;uz(e,t);var n=Dv(e,e===xn?Cn:0);if(n===0)r!==null&&kP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&kP(r),t===1)e.tag===0?cW(xE.bind(null,e)):L$(xE.bind(null,e)),aW(function(){!(Dt&6)&&ll()}),r=null;else{switch(h$(n)){case 1:r=RS;break;case 4:r=u$;break;case 16:r=$v;break;case 536870912:r=d$;break;default:r=$v}r=$D(r,ED.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ED(e,t){if(jv=-1,Nv=0,Dt&6)throw Error(_e(327));var r=e.callbackNode;if(ed()&&e.callbackNode!==r)return null;var n=Dv(e,e===xn?Cn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=tx(e,n);else{t=n;var a=Dt;Dt|=2;var i=OD();(xn!==e||Cn!==t)&&(Ni=null,kd=Vr()+500,nc(e,t));do try{AW();break}catch(l){AD(e,l)}while(!0);HS(),Jv.current=i,Dt=a,Hr!==null?t=0:(xn=null,Cn=0,t=on)}if(t!==0){if(t===2&&(a=s1(e),a!==0&&(n=a,t=T1(e,a))),t===1)throw r=xm,nc(e,0),wo(e,n),hs(e,Vr()),r;if(t===6)wo(e,n);else{if(a=e.current.alternate,!(n&30)&&!PW(a)&&(t=tx(e,n),t===2&&(i=s1(e),i!==0&&(n=i,t=T1(e,i))),t===1))throw r=xm,nc(e,0),wo(e,n),hs(e,Vr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(_e(345));case 2:El(e,is,Ni);break;case 3:if(wo(e,n),(n&130023424)===n&&(t=lk+500-Vr(),10<t)){if(Dv(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Yn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=f1(El.bind(null,e,is,Ni),t);break}El(e,is,Ni);break;case 4:if(wo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ra(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Vr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CW(n/1960))-n,10<n){e.timeoutHandle=f1(El.bind(null,e,is,Ni),n);break}El(e,is,Ni);break;case 5:El(e,is,Ni);break;default:throw Error(_e(329))}}}return hs(e,Vr()),e.callbackNode===r?ED.bind(null,e):null}function T1(e,t){var r=Bh;return e.current.memoizedState.isDehydrated&&(nc(e,t).flags|=256),e=tx(e,t),e!==2&&(t=is,is=r,t!==null&&I1(t)),e}function I1(e){is===null?is=e:is.push.apply(is,e)}function PW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!La(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wo(e,t){for(t&=~ok,t&=~Jy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ra(t),n=1<<r;e[r]=-1,t&=~n}}function xE(e){if(Dt&6)throw Error(_e(327));ed();var t=Dv(e,0);if(!(t&1))return hs(e,Vr()),null;var r=tx(e,t);if(e.tag!==0&&r===2){var n=s1(e);n!==0&&(t=n,r=T1(e,n))}if(r===1)throw r=xm,nc(e,0),wo(e,t),hs(e,Vr()),r;if(r===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,is,Ni),hs(e,Vr()),null}function ck(e,t){var r=Dt;Dt|=1;try{return e(t)}finally{Dt=r,Dt===0&&(kd=Vr()+500,Gy&&ll())}}function fc(e){Ro!==null&&Ro.tag===0&&!(Dt&6)&&ed();var t=Dt;Dt|=1;var r=ta.transition,n=Zt;try{if(ta.transition=null,Zt=1,e)return e()}finally{Zt=n,ta.transition=r,Dt=t,!(Dt&6)&&ll()}}function uk(){js=Fu.current,xr(Fu)}function nc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,sW(r)),Hr!==null)for(r=Hr.return;r!==null;){var n=r;switch(zS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vv();break;case 3:_d(),xr(ds),xr(Dn),ZS();break;case 5:JS(n);break;case 4:_d();break;case 13:xr(Sr);break;case 19:xr(Sr);break;case 10:GS(n.type._context);break;case 22:case 23:uk()}r=r.return}if(xn=e,Hr=e=qo(e.current,null),Cn=js=t,on=0,xm=null,ok=Jy=dc=0,is=Bh=null,Fl!==null){for(t=0;t<Fl.length;t++)if(r=Fl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Fl=null}return e}function AD(e,t){do{var r=Hr;try{if(HS(),yv.current=Xv,Yv){for(var n=Cr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Yv=!1}if(uc=0,gn=sn=Cr=null,Fh=!1,pm=0,ik.current=null,r===null||r.return===null){on=1,xm=t,Hr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Cn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=aE(o);if(p!==null){p.flags&=-257,iE(p,o,l,i,t),p.mode&1&&sE(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){sE(i,u,t),dk();break e}c=Error(_e(426))}}else if(br&&l.mode&1){var w=aE(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),iE(w,o,l,i,t),WS(Sd(c,l));break e}}i=c=Sd(c,l),on!==4&&(on=2),Bh===null?Bh=[i]:Bh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=hD(i,c,t);JP(i,g);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Bo===null||!Bo.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=mD(i,l,t);JP(i,j);break e}}i=i.return}while(i!==null)}ID(r)}catch(_){t=_,Hr===r&&r!==null&&(Hr=r=r.return);continue}break}while(!0)}function OD(){var e=Jv.current;return Jv.current=Xv,e===null?Xv:e}function dk(){(on===0||on===3||on===2)&&(on=4),xn===null||!(dc&268435455)&&!(Jy&268435455)||wo(xn,Cn)}function tx(e,t){var r=Dt;Dt|=2;var n=OD();(xn!==e||Cn!==t)&&(Ni=null,nc(e,t));do try{EW();break}catch(a){AD(e,a)}while(!0);if(HS(),Dt=r,Jv.current=n,Hr!==null)throw Error(_e(261));return xn=null,Cn=0,on}function EW(){for(;Hr!==null;)TD(Hr)}function AW(){for(;Hr!==null&&!tz();)TD(Hr)}function TD(e){var t=MD(e.alternate,e,js);e.memoizedProps=e.pendingProps,t===null?ID(e):Hr=t,ik.current=null}function ID(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=NW(r,t),r!==null){r.flags&=32767,Hr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,Hr=null;return}}else if(r=jW(r,t,js),r!==null){Hr=r;return}if(t=t.sibling,t!==null){Hr=t;return}Hr=t=e}while(t!==null);on===0&&(on=5)}function El(e,t,r){var n=Zt,a=ta.transition;try{ta.transition=null,Zt=1,OW(e,t,r,n)}finally{ta.transition=a,Zt=n}return null}function OW(e,t,r,n){do ed();while(Ro!==null);if(Dt&6)throw Error(_e(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(dz(e,i),e===xn&&(Hr=xn=null,Cn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ag||(Ag=!0,$D($v,function(){return ed(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ta.transition,ta.transition=null;var o=Zt;Zt=1;var l=Dt;Dt|=4,ik.current=null,SW(e,r),CD(r,e),Xz(u1),Lv=!!c1,u1=c1=null,e.current=r,kW(r),rz(),Dt=l,Zt=o,ta.transition=i}else e.current=r;if(Ag&&(Ag=!1,Ro=e,ex=a),i=e.pendingLanes,i===0&&(Bo=null),az(r.stateNode),hs(e,Vr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Zv)throw Zv=!1,e=A1,A1=null,e;return ex&1&&e.tag!==0&&ed(),i=e.pendingLanes,i&1?e===O1?Vh++:(Vh=0,O1=e):Vh=0,ll(),null}function ed(){if(Ro!==null){var e=h$(ex),t=ta.transition,r=Zt;try{if(ta.transition=null,Zt=16>e?16:e,Ro===null)var n=!1;else{if(e=Ro,Ro=null,ex=0,Dt&6)throw Error(_e(331));var a=Dt;for(Dt|=4,Ue=e.current;Ue!==null;){var i=Ue,o=i.child;if(Ue.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ue=u;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:Uh(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ue=f;else for(;Ue!==null;){d=Ue;var h=d.sibling,p=d.return;if(_D(d),d===u){Ue=null;break}if(h!==null){h.return=p,Ue=h;break}Ue=p}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}Ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ue=o;else e:for(;Ue!==null;){if(i=Ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Uh(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Ue=g;break e}Ue=i.return}}var v=e.current;for(Ue=v;Ue!==null;){o=Ue;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ue=b;else e:for(o=v;Ue!==null;){if(l=Ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xy(9,l)}}catch(_){Or(l,l.return,_)}if(l===o){Ue=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ue=j;break e}Ue=l.return}}if(Dt=a,ll(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(qy,e)}catch{}n=!0}return n}finally{Zt=r,ta.transition=t}}return!1}function yE(e,t,r){t=Sd(r,t),t=hD(e,t,1),e=Uo(e,t,1),t=Yn(),e!==null&&(Ep(e,1,t),hs(e,t))}function Or(e,t,r){if(e.tag===3)yE(e,e,r);else for(;t!==null;){if(t.tag===3){yE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bo===null||!Bo.has(n))){e=Sd(r,e),e=mD(t,e,1),t=Uo(t,e,1),e=Yn(),t!==null&&(Ep(t,1,e),hs(t,e));break}}t=t.return}}function TW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Yn(),e.pingedLanes|=e.suspendedLanes&r,xn===e&&(Cn&r)===r&&(on===4||on===3&&(Cn&130023424)===Cn&&500>Vr()-lk?nc(e,0):ok|=r),hs(e,t)}function RD(e,t){t===0&&(e.mode&1?(t=bg,bg<<=1,!(bg&130023424)&&(bg=4194304)):t=1);var r=Yn();e=qi(e,t),e!==null&&(Ep(e,t,r),hs(e,r))}function IW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),RD(e,r)}function RW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(_e(314))}n!==null&&n.delete(t),RD(e,r)}var MD;MD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ds.current)ls=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ls=!1,wW(e,t,r);ls=!!(e.flags&131072)}else ls=!1,br&&t.flags&1048576&&F$(t,Wv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wv(e,t),e=t.pendingProps;var a=wd(t,Dn.current);Zu(t,r),a=tk(null,t,n,e,a,r);var i=rk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fs(n)?(i=!0,qv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,YS(t),a.updater=Yy,t.stateNode=a,a._reactInternals=t,y1(t,n,e,r),t=j1(null,t,n,!0,i,r)):(t.tag=0,br&&i&&qS(t),zn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=$W(n),e=ja(n,e),a){case 0:t=w1(null,t,n,e,r);break e;case 1:t=cE(null,t,n,e,r);break e;case 11:t=oE(null,t,n,e,r);break e;case 14:t=lE(null,t,n,ja(n.type,e),r);break e}throw Error(_e(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ja(n,a),w1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ja(n,a),cE(e,t,n,a,r);case 3:e:{if(xD(t),e===null)throw Error(_e(387));n=t.pendingProps,i=t.memoizedState,a=i.element,W$(e,t),Gv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Sd(Error(_e(423)),t),t=uE(e,t,n,r,a);break e}else if(n!==a){a=Sd(Error(_e(424)),t),t=uE(e,t,n,r,a);break e}else for(As=Fo(t.stateNode.containerInfo.firstChild),Os=t,br=!0,Aa=null,r=q$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jd(),n===a){t=zi(e,t,r);break e}zn(e,t,n,r)}t=t.child}return t;case 5:return K$(t),e===null&&g1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,d1(n,a)?o=null:i!==null&&d1(n,i)&&(t.flags|=32),vD(e,t),zn(e,t,o,r),t.child;case 6:return e===null&&g1(t),null;case 13:return yD(e,t,r);case 4:return XS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nd(t,null,n,r):zn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ja(n,a),oE(e,t,n,a,r);case 7:return zn(e,t,t.pendingProps,r),t.child;case 8:return zn(e,t,t.pendingProps.children,r),t.child;case 12:return zn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,dr(Kv,n._currentValue),n._currentValue=o,i!==null)if(La(i.value,o)){if(i.children===a.children&&!ds.current){t=zi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Di(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),v1(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_e(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),v1(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}zn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Zu(t,r),a=ia(a),n=n(a),t.flags|=1,zn(e,t,n,r),t.child;case 14:return n=t.type,a=ja(n,t.pendingProps),a=ja(n.type,a),lE(e,t,n,a,r);case 15:return pD(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ja(n,a),wv(e,t),t.tag=1,fs(n)?(e=!0,qv(t)):e=!1,Zu(t,r),fD(t,n,a),y1(t,n,a,r),j1(null,t,n,!0,e,r);case 19:return bD(e,t,r);case 22:return gD(e,t,r)}throw Error(_e(156,t.tag))};function $D(e,t){return c$(e,t)}function MW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(e,t,r,n){return new MW(e,t,r,n)}function fk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $W(e){if(typeof e=="function")return fk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===OS)return 11;if(e===TS)return 14}return 2}function qo(e,t){var r=e.alternate;return r===null?(r=Zs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _v(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")fk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Eu:return sc(r.children,a,i,t);case AS:o=8,a|=8;break;case qj:return e=Zs(12,r,t,a|2),e.elementType=qj,e.lanes=i,e;case zj:return e=Zs(13,r,t,a),e.elementType=zj,e.lanes=i,e;case Wj:return e=Zs(19,r,t,a),e.elementType=Wj,e.lanes=i,e;case KM:return Zy(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zM:o=10;break e;case WM:o=9;break e;case OS:o=11;break e;case TS:o=14;break e;case mo:o=16,n=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=Zs(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function sc(e,t,r,n){return e=Zs(7,e,n,t),e.lanes=r,e}function Zy(e,t,r,n){return e=Zs(22,e,n,t),e.elementType=KM,e.lanes=r,e.stateNode={isHidden:!1},e}function Ew(e,t,r){return e=Zs(6,e,null,t),e.lanes=r,e}function Aw(e,t,r){return t=Zs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DW(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uw(0),this.expirationTimes=uw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hk(e,t,r,n,a,i,o,l,c){return e=new DW(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Zs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},YS(i),e}function LW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function DD(e){if(!e)return Yo;e=e._reactInternals;e:{if(Ic(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var r=e.type;if(fs(r))return D$(e,r,t)}return t}function LD(e,t,r,n,a,i,o,l,c){return e=hk(r,n,!0,e,a,i,o,l,c),e.context=DD(null),r=e.current,n=Yn(),a=Vo(r),i=Di(n,a),i.callback=t??null,Uo(r,i,a),e.current.lanes=a,Ep(e,a,n),hs(e,n),e}function eb(e,t,r,n){var a=t.current,i=Yn(),o=Vo(a);return r=DD(r),t.context===null?t.context=r:t.pendingContext=r,t=Di(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Uo(a,t,o),e!==null&&(Ma(e,a,o,i),xv(e,a,o)),o}function rx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mk(e,t){bE(e,t),(e=e.alternate)&&bE(e,t)}function FW(){return null}var FD=typeof reportError=="function"?reportError:function(e){console.error(e)};function pk(e){this._internalRoot=e}tb.prototype.render=pk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));eb(e,t,null,null)};tb.prototype.unmount=pk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fc(function(){eb(null,e,null,null)}),t[Vi]=null}};function tb(e){this._internalRoot=e}tb.prototype.unstable_scheduleHydration=function(e){if(e){var t=g$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bo.length&&t!==0&&t<bo[r].priority;r++);bo.splice(r,0,e),r===0&&x$(e)}};function gk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wE(){}function UW(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=rx(o);i.call(u)}}var o=LD(t,n,e,0,null,!1,!1,"",wE);return e._reactRootContainer=o,e[Vi]=o.current,um(e.nodeType===8?e.parentNode:e),fc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=rx(c);l.call(u)}}var c=hk(e,0,!1,null,null,!1,!1,"",wE);return e._reactRootContainer=c,e[Vi]=c.current,um(e.nodeType===8?e.parentNode:e),fc(function(){eb(t,c,r,n)}),c}function nb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=rx(o);l.call(c)}}eb(t,o,e,a)}else o=UW(r,t,e,a,n);return rx(o)}m$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jh(t.pendingLanes);r!==0&&(MS(t,r|1),hs(t,Vr()),!(Dt&6)&&(kd=Vr()+500,ll()))}break;case 13:fc(function(){var n=qi(e,1);if(n!==null){var a=Yn();Ma(n,e,1,a)}}),mk(e,1)}};$S=function(e){if(e.tag===13){var t=qi(e,134217728);if(t!==null){var r=Yn();Ma(t,e,134217728,r)}mk(e,134217728)}};p$=function(e){if(e.tag===13){var t=Vo(e),r=qi(e,t);if(r!==null){var n=Yn();Ma(r,e,t,n)}mk(e,t)}};g$=function(){return Zt};v$=function(e,t){var r=Zt;try{return Zt=e,t()}finally{Zt=r}};t1=function(e,t,r){switch(t){case"input":if(Gj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Hy(n);if(!a)throw Error(_e(90));GM(n),Gj(n,a)}}}break;case"textarea":YM(e,r);break;case"select":t=r.value,t!=null&&Qu(e,!!r.multiple,t,!1)}};n$=ck;s$=fc;var BW={usingClientEntryPoint:!1,Events:[Op,Iu,Hy,t$,r$,ck]},nh={findFiberByHostInstance:Ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VW={bundleType:nh.bundleType,version:nh.version,rendererPackageName:nh.rendererPackageName,rendererConfig:nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=o$(e),e===null?null:e.stateNode},findFiberByHostInstance:nh.findFiberByHostInstance||FW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Og.isDisabled&&Og.supportsFiber)try{qy=Og.inject(VW),ni=Og}catch{}}Vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BW;Vs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gk(t))throw Error(_e(200));return LW(e,t,null,r)};Vs.createRoot=function(e,t){if(!gk(e))throw Error(_e(299));var r=!1,n="",a=FD;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hk(e,1,!1,null,null,r,!1,n,a),e[Vi]=t.current,um(e.nodeType===8?e.parentNode:e),new pk(t)};Vs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=o$(t),e=e===null?null:e.stateNode,e};Vs.flushSync=function(e){return fc(e)};Vs.hydrate=function(e,t,r){if(!rb(t))throw Error(_e(200));return nb(null,e,t,!0,r)};Vs.hydrateRoot=function(e,t,r){if(!gk(e))throw Error(_e(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=FD;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=LD(t,null,e,1,r??null,a,!1,i,o),e[Vi]=t.current,um(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new tb(t)};Vs.render=function(e,t,r){if(!rb(t))throw Error(_e(200));return nb(null,e,t,!1,r)};Vs.unmountComponentAtNode=function(e){if(!rb(e))throw Error(_e(40));return e._reactRootContainer?(fc(function(){nb(null,null,e,!1,function(){e._reactRootContainer=null,e[Vi]=null})}),!0):!1};Vs.unstable_batchedUpdates=ck;Vs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!rb(r))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return nb(e,t,r,!1,n)};Vs.version="18.3.1-next-f1338f8080-20240426";function UD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UD)}catch(e){console.error(e)}}UD(),UM.exports=Vs;var Rc=UM.exports;const qW=Gt(Rc);var BD,jE=Rc;BD=jE.createRoot,jE.hydrateRoot;function zW(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var VD={exports:{}},qD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd=x;function WW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KW=typeof Object.is=="function"?Object.is:WW,HW=Cd.useState,GW=Cd.useEffect,QW=Cd.useLayoutEffect,YW=Cd.useDebugValue;function XW(e,t){var r=t(),n=HW({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return QW(function(){a.value=r,a.getSnapshot=t,Ow(a)&&i({inst:a})},[e,r,t]),GW(function(){return Ow(a)&&i({inst:a}),e(function(){Ow(a)&&i({inst:a})})},[e]),YW(r),r}function Ow(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!KW(e,r)}catch{return!0}}function JW(e,t){return t()}var ZW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JW:XW;qD.useSyncExternalStore=Cd.useSyncExternalStore!==void 0?Cd.useSyncExternalStore:ZW;VD.exports=qD;var zD=VD.exports;const eK=Vy.useInsertionEffect,tK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rK=tK?x.useLayoutEffect:x.useEffect,nK=eK||rK,WD=e=>{const t=x.useRef([e,(...r)=>t[0](...r)]).current;return nK(()=>{t[0]=e}),t[1]},sK="popstate",vk="pushState",xk="replaceState",aK="hashchange",NE=[sK,vk,xk,aK],iK=e=>{for(const t of NE)addEventListener(t,e);return()=>{for(const t of NE)removeEventListener(t,e)}},KD=(e,t)=>zD.useSyncExternalStore(iK,e,t),_E=()=>location.search,oK=({ssrSearch:e}={})=>KD(_E,e!=null?()=>e:_E),SE=()=>location.pathname,lK=({ssrPath:e}={})=>KD(SE,e!=null?()=>e:SE),cK=(e,{replace:t=!1,state:r=null}={})=>history[t?xk:vk](r,"",e),uK=(e={})=>[lK(e),cK],kE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[kE]>"u"){for(const e of[vk,xk]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,kE,{value:!0})}const dK=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",HD=(e="")=>e==="/"?"":e,fK=(e,t)=>e[0]==="~"?e.slice(1):HD(t)+e,hK=(e="",t)=>dK(R1(HD(e)),R1(t)),mK=e=>e[0]==="?"?e.slice(1):e,R1=e=>{try{return decodeURI(e)}catch{return e}},pK=e=>R1(mK(e)),GD={hook:uK,searchHook:oK,parser:zW,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},QD=x.createContext(GD),pf=()=>x.useContext(QD),YD={},XD=x.createContext(YD),sb=()=>x.useContext(XD),ab=e=>{const[t,r]=e.hook(e);return[hK(e.base,t),WD((n,a)=>e.aroundNav(r,fK(n,e.base),a))]},Ln=()=>ab(pf()),JD=()=>{const e=pf();return pK(e.searchHook(e))},ZD=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},gK=({children:e,...t})=>{var d,f,h;const r=pf(),n=t.hook?GD:r;let a=n;const[i,o=t.ssrSearch??""]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs),t.searchHook=t.searchHook??((h=t.hook)==null?void 0:h.searchHook);let l=x.useRef({}),c=l.current,u=c;for(let p in n){const y=p==="base"?n[p]+(t[p]??""):t[p]??n[p];c===u&&y!==u[p]&&(l.current=u={...u}),u[p]=y,(y!==n[p]||y!==a[p])&&(a=u)}return x.createElement(QD.Provider,{value:a,children:e})},CE=({children:e,component:t},r)=>t?x.createElement(t,{params:r}):typeof e=="function"?e(r):e,vK=e=>{let t=x.useRef(YD);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,a])=>a!==r[n])?e:r},He=({path:e,nest:t,match:r,...n})=>{const a=pf(),[i]=ab(a),[o,l,c]=r??ZD(a.parser,e,i,t),u=vK({...sb(),...l});if(!o)return null;const d=c?x.createElement(gK,{base:c},CE(n,u)):CE(n,u);return x.createElement(XD.Provider,{value:u,children:d})},ge=x.forwardRef((e,t)=>{const r=pf(),[n,a]=ab(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,transition:p,...y}=e,m=WD(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),a(o,e)))}),w=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&x.isValidElement(u)?x.cloneElement(u,{onClick:m,href:w}):x.createElement("a",{...y,onClick:m,href:w,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),e5=e=>Array.isArray(e)?e.flatMap(t=>e5(t&&t.type===x.Fragment?t.props.children:t)):[e],t5=({children:e,location:t})=>{const r=pf(),[n]=ab(r);for(const a of e5(e)){let i=0;if(x.isValidElement(a)&&(i=ZD(r.parser,a.props.path,t||n,a.props.nest))[0])return x.cloneElement(a,{match:i})}return null};var gf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xK={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},_o,jS,xM,yK=(xM=class{constructor(){Ze(this,_o,xK);Ze(this,jS,!1)}setTimeoutProvider(e){Ie(this,_o,e)}setTimeout(e,t){return H(this,_o).setTimeout(e,t)}clearTimeout(e){H(this,_o).clearTimeout(e)}setInterval(e,t){return H(this,_o).setInterval(e,t)}clearInterval(e){H(this,_o).clearInterval(e)}},_o=new WeakMap,jS=new WeakMap,xM),Bl=new yK;function bK(e){setTimeout(e,0)}var hc=typeof window>"u"||"Deno"in globalThis;function Wn(){}function wK(e,t){return typeof e=="function"?e(t):e}function M1(e){return typeof e=="number"&&e>=0&&e!==1/0}function r5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zo(e,t){return typeof e=="function"?e(t):e}function Qs(e,t){return typeof e=="function"?e(t):e}function PE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==yk(o,t.options))return!1}else if(!ym(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function EE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(mc(t.options.mutationKey)!==mc(i))return!1}else if(!ym(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function yk(e,t){return((t==null?void 0:t.queryKeyHashFn)||mc)(e)}function mc(e){return JSON.stringify(e,(t,r)=>$1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function ym(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ym(e[r],t[r])):!1}var jK=Object.prototype.hasOwnProperty;function n5(e,t){if(e===t)return e;const r=AE(e)&&AE(t);if(!r&&!($1(e)&&$1(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:jK.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=n5(f,h);l[d]=p,p===f&&c++}return a===o&&c===a?e:l}function nx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function AE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $1(e){if(!OE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!OE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function OE(e){return Object.prototype.toString.call(e)==="[object Object]"}function NK(e){return new Promise(t=>{Bl.setTimeout(t,e)})}function D1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?n5(e,t):t}function _K(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function SK(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var bk=Symbol();function s5(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===bk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function a5(e,t){return typeof e=="function"?e(...t):!!e}var Gl,So,ld,yM,kK=(yM=class extends gf{constructor(){super();Ze(this,Gl);Ze(this,So);Ze(this,ld);Ie(this,ld,t=>{if(!hc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){H(this,So)||this.setEventListener(H(this,ld))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,So))==null||t.call(this),Ie(this,So,void 0))}setEventListener(t){var r;Ie(this,ld,t),(r=H(this,So))==null||r.call(this),Ie(this,So,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){H(this,Gl)!==t&&(Ie(this,Gl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof H(this,Gl)=="boolean"?H(this,Gl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gl=new WeakMap,So=new WeakMap,ld=new WeakMap,yM),wk=new kK;function L1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var CK=bK;function PK(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=CK;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var an=PK(),cd,ko,ud,bM,EK=(bM=class extends gf{constructor(){super();Ze(this,cd,!0);Ze(this,ko);Ze(this,ud);Ie(this,ud,t=>{if(!hc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){H(this,ko)||this.setEventListener(H(this,ud))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,ko))==null||t.call(this),Ie(this,ko,void 0))}setEventListener(t){var r;Ie(this,ud,t),(r=H(this,ko))==null||r.call(this),Ie(this,ko,t(this.setOnline.bind(this)))}setOnline(t){H(this,cd)!==t&&(Ie(this,cd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return H(this,cd)}},cd=new WeakMap,ko=new WeakMap,ud=new WeakMap,bM),sx=new EK;function AK(e){return Math.min(1e3*2**e,3e4)}function i5(e){return(e??"online")==="online"?sx.isOnline():!0}var F1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function o5(e){let t=!1,r=0,n;const a=L1(),i=()=>a.status!=="pending",o=m=>{var w;if(!i()){const g=new F1(m);h(g),(w=e.onCancel)==null||w.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>wk.isFocused()&&(e.networkMode==="always"||sx.isOnline())&&e.canRun(),d=()=>i5(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),a.resolve(m))},h=m=>{i()||(n==null||n(),a.reject(m))},p=()=>new Promise(m=>{var w;n=g=>{(i()||u())&&m(g)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(i())return;let m;const w=r===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(f).catch(g=>{var N;if(i())return;const v=e.retry??(hc?0:3),b=e.retryDelay??AK,j=typeof b=="function"?b(r,g):b,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(t||!_){h(g);return}r++,(N=e.onFail)==null||N.call(e,r,g),NK(j).then(()=>u()?void 0:p()).then(()=>{t?h(g):y()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),a)}}var Ql,wM,l5=(wM=class{constructor(){Ze(this,Ql)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M1(this.gcTime)&&Ie(this,Ql,Bl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hc?1/0:5*60*1e3))}clearGcTimeout(){H(this,Ql)&&(Bl.clearTimeout(H(this,Ql)),Ie(this,Ql,void 0))}},Ql=new WeakMap,wM),Yl,dd,Gs,Xl,mn,Np,Jl,_a,ji,jM,OK=(jM=class extends l5{constructor(t){super();Ze(this,_a);Ze(this,Yl);Ze(this,dd);Ze(this,Gs);Ze(this,Xl);Ze(this,mn);Ze(this,Np);Ze(this,Jl);Ie(this,Jl,!1),Ie(this,Np,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ie(this,Xl,t.client),Ie(this,Gs,H(this,Xl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ie(this,Yl,IE(this.options)),this.state=t.state??H(this,Yl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,mn))==null?void 0:t.promise}setOptions(t){if(this.options={...H(this,Np),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=IE(this.options);r.data!==void 0&&(this.setState(TE(r.data,r.dataUpdatedAt)),Ie(this,Yl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Gs).remove(this)}setData(t,r){const n=D1(this.state.data,t,this.options);return yt(this,_a,ji).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){yt(this,_a,ji).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=H(this,mn))==null?void 0:n.promise;return(a=H(this,mn))==null||a.cancel(t),r?r.then(Wn).catch(Wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Yl))}isActive(){return this.observers.some(t=>Qs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>zo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!r5(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=H(this,mn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=H(this,mn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,Gs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(H(this,mn)&&(H(this,Jl)?H(this,mn).cancel({revert:!0}):H(this,mn).cancelRetry()),this.scheduleGc()),H(this,Gs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,_a,ji).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,y,m,w,g,v,b;if(this.state.fetchStatus!=="idle"&&((c=H(this,mn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,mn))return H(this,mn).continueRetry(),H(this,mn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(_=>_.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Ie(this,Jl,!0),n.signal)})},i=()=>{const j=s5(this.options,r),N=(()=>{const S={client:H(this,Xl),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return Ie(this,Jl,!1),this.options.persister?this.options.persister(j,N,this):j(N)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:H(this,Xl),state:this.state,fetchFn:i};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),Ie(this,dd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&yt(this,_a,ji).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ie(this,mn,o5({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof F1&&j.revert&&this.setState({...H(this,dd),fetchStatus:"idle"}),n.abort()},onFail:(j,_)=>{yt(this,_a,ji).call(this,{type:"failed",failureCount:j,error:_})},onPause:()=>{yt(this,_a,ji).call(this,{type:"pause"})},onContinue:()=>{yt(this,_a,ji).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await H(this,mn).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(p=(h=H(this,Gs).config).onSuccess)==null||p.call(h,j,this),(m=(y=H(this,Gs).config).onSettled)==null||m.call(y,j,this.state.error,this),j}catch(j){if(j instanceof F1){if(j.silent)return H(this,mn).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw yt(this,_a,ji).call(this,{type:"error",error:j}),(g=(w=H(this,Gs).config).onError)==null||g.call(w,j,this),(b=(v=H(this,Gs).config).onSettled)==null||b.call(v,this.state.data,j,this),j}finally{this.scheduleGc()}}},Yl=new WeakMap,dd=new WeakMap,Gs=new WeakMap,Xl=new WeakMap,mn=new WeakMap,Np=new WeakMap,Jl=new WeakMap,_a=new WeakSet,ji=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...c5(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...TE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ie(this,dd,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),an.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),H(this,Gs).notify({query:this,type:"updated",action:t})})},jM);function c5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:i5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function TE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function IE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ns,Mt,_p,Bn,Zl,fd,Ci,Co,Sp,hd,md,ec,tc,Po,pd,Wt,_h,U1,B1,V1,q1,z1,W1,K1,u5,NM,TK=(NM=class extends gf{constructor(t,r){super();Ze(this,Wt);Ze(this,ns);Ze(this,Mt);Ze(this,_p);Ze(this,Bn);Ze(this,Zl);Ze(this,fd);Ze(this,Ci);Ze(this,Co);Ze(this,Sp);Ze(this,hd);Ze(this,md);Ze(this,ec);Ze(this,tc);Ze(this,Po);Ze(this,pd,new Set);this.options=r,Ie(this,ns,t),Ie(this,Co,null),Ie(this,Ci,L1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,Mt).addObserver(this),RE(H(this,Mt),this.options)?yt(this,Wt,_h).call(this):this.updateResult(),yt(this,Wt,q1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return H1(H(this,Mt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return H1(H(this,Mt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,yt(this,Wt,z1).call(this),yt(this,Wt,W1).call(this),H(this,Mt).removeObserver(this)}setOptions(t){const r=this.options,n=H(this,Mt);if(this.options=H(this,ns).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Qs(this.options.enabled,H(this,Mt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");yt(this,Wt,K1).call(this),H(this,Mt).setOptions(this.options),r._defaulted&&!nx(this.options,r)&&H(this,ns).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,Mt),observer:this});const a=this.hasListeners();a&&ME(H(this,Mt),n,this.options,r)&&yt(this,Wt,_h).call(this),this.updateResult(),a&&(H(this,Mt)!==n||Qs(this.options.enabled,H(this,Mt))!==Qs(r.enabled,H(this,Mt))||zo(this.options.staleTime,H(this,Mt))!==zo(r.staleTime,H(this,Mt)))&&yt(this,Wt,U1).call(this);const i=yt(this,Wt,B1).call(this);a&&(H(this,Mt)!==n||Qs(this.options.enabled,H(this,Mt))!==Qs(r.enabled,H(this,Mt))||i!==H(this,Po))&&yt(this,Wt,V1).call(this,i)}getOptimisticResult(t){const r=H(this,ns).getQueryCache().build(H(this,ns),t),n=this.createResult(r,t);return RK(this,n)&&(Ie(this,Bn,n),Ie(this,fd,this.options),Ie(this,Zl,H(this,Mt).state)),n}getCurrentResult(){return H(this,Bn)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&H(this,Ci).status==="pending"&&H(this,Ci).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){H(this,pd).add(t)}getCurrentQuery(){return H(this,Mt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=H(this,ns).defaultQueryOptions(t),n=H(this,ns).getQueryCache().build(H(this,ns),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return yt(this,Wt,_h).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,Bn)))}createResult(t,r){var P;const n=H(this,Mt),a=this.options,i=H(this,Bn),o=H(this,Zl),l=H(this,fd),u=t!==n?t.state:H(this,_p),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const k=this.hasListeners(),E=!k&&RE(t,r),T=k&&ME(t,n,r,a);(E||T)&&(f={...f,...c5(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:w}=f;p=f.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let k;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(k=i.data,g=!0):k=typeof r.placeholderData=="function"?r.placeholderData((P=H(this,md))==null?void 0:P.state.data,H(this,md)):r.placeholderData,k!==void 0&&(w="success",p=D1(i==null?void 0:i.data,k,r),h=!0)}if(r.select&&p!==void 0&&!g)if(i&&p===(o==null?void 0:o.data)&&r.select===H(this,Sp))p=H(this,hd);else try{Ie(this,Sp,r.select),p=r.select(p),p=D1(i==null?void 0:i.data,p,r),Ie(this,hd,p),Ie(this,Co,null)}catch(k){Ie(this,Co,k)}H(this,Co)&&(y=H(this,Co),p=H(this,hd),m=Date.now(),w="error");const v=f.fetchStatus==="fetching",b=w==="pending",j=w==="error",_=b&&v,N=p!==void 0,C={status:w,fetchStatus:f.fetchStatus,isPending:b,isSuccess:w==="success",isError:j,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:j&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&N,isStale:jk(t,r),refetch:this.refetch,promise:H(this,Ci),isEnabled:Qs(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=I=>{C.status==="error"?I.reject(C.error):C.data!==void 0&&I.resolve(C.data)},E=()=>{const I=Ie(this,Ci,C.promise=L1());k(I)},T=H(this,Ci);switch(T.status){case"pending":t.queryHash===n.queryHash&&k(T);break;case"fulfilled":(C.status==="error"||C.data!==T.value)&&E();break;case"rejected":(C.status!=="error"||C.error!==T.reason)&&E();break}}return C}updateResult(){const t=H(this,Bn),r=this.createResult(H(this,Mt),this.options);if(Ie(this,Zl,H(this,Mt).state),Ie(this,fd,this.options),H(this,Zl).data!==void 0&&Ie(this,md,H(this,Mt)),nx(r,t))return;Ie(this,Bn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!H(this,pd).size)return!0;const o=new Set(i??H(this,pd));return this.options.throwOnError&&o.add("error"),Object.keys(H(this,Bn)).some(l=>{const c=l;return H(this,Bn)[c]!==t[c]&&o.has(c)})};yt(this,Wt,u5).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&yt(this,Wt,q1).call(this)}},ns=new WeakMap,Mt=new WeakMap,_p=new WeakMap,Bn=new WeakMap,Zl=new WeakMap,fd=new WeakMap,Ci=new WeakMap,Co=new WeakMap,Sp=new WeakMap,hd=new WeakMap,md=new WeakMap,ec=new WeakMap,tc=new WeakMap,Po=new WeakMap,pd=new WeakMap,Wt=new WeakSet,_h=function(t){yt(this,Wt,K1).call(this);let r=H(this,Mt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Wn)),r},U1=function(){yt(this,Wt,z1).call(this);const t=zo(this.options.staleTime,H(this,Mt));if(hc||H(this,Bn).isStale||!M1(t))return;const n=r5(H(this,Bn).dataUpdatedAt,t)+1;Ie(this,ec,Bl.setTimeout(()=>{H(this,Bn).isStale||this.updateResult()},n))},B1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,Mt)):this.options.refetchInterval)??!1},V1=function(t){yt(this,Wt,W1).call(this),Ie(this,Po,t),!(hc||Qs(this.options.enabled,H(this,Mt))===!1||!M1(H(this,Po))||H(this,Po)===0)&&Ie(this,tc,Bl.setInterval(()=>{(this.options.refetchIntervalInBackground||wk.isFocused())&&yt(this,Wt,_h).call(this)},H(this,Po)))},q1=function(){yt(this,Wt,U1).call(this),yt(this,Wt,V1).call(this,yt(this,Wt,B1).call(this))},z1=function(){H(this,ec)&&(Bl.clearTimeout(H(this,ec)),Ie(this,ec,void 0))},W1=function(){H(this,tc)&&(Bl.clearInterval(H(this,tc)),Ie(this,tc,void 0))},K1=function(){const t=H(this,ns).getQueryCache().build(H(this,ns),this.options);if(t===H(this,Mt))return;const r=H(this,Mt);Ie(this,Mt,t),Ie(this,_p,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},u5=function(t){an.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(H(this,Bn))}),H(this,ns).getQueryCache().notify({query:H(this,Mt),type:"observerResultsUpdated"})})},NM);function IK(e,t){return Qs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function RE(e,t){return IK(e,t)||e.state.data!==void 0&&H1(e,t,t.refetchOnMount)}function H1(e,t,r){if(Qs(t.enabled,e)!==!1&&zo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&jk(e,t)}return!1}function ME(e,t,r,n){return(e!==t||Qs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&jk(e,r)}function jk(e,t){return Qs(t.enabled,e)!==!1&&e.isStaleByTime(zo(t.staleTime,e))}function RK(e,t){return!nx(e.getCurrentResult(),t)}function $E(e){return{onFetch:(t,r)=>{var d,f,h,p,y;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},g=s5(t.options,t.fetchOptions),v=async(b,j,_)=>{if(m)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return w(E),E})(),C=await g(S),{maxPages:P}=t.options,k=_?SK:_K;return{pages:k(b.pages,C,P),pageParams:k(b.pageParams,j,P)}};if(a&&i.length){const b=a==="backward",j=b?MK:DE,_={pages:i,pageParams:o},N=j(n,_);l=await v(_,N,b)}else{const b=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:DE(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function DE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function MK(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var kp,Ya,Vn,rc,Xa,fo,_M,$K=(_M=class extends l5{constructor(t){super();Ze(this,Xa);Ze(this,kp);Ze(this,Ya);Ze(this,Vn);Ze(this,rc);Ie(this,kp,t.client),this.mutationId=t.mutationId,Ie(this,Vn,t.mutationCache),Ie(this,Ya,[]),this.state=t.state||d5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,Ya).includes(t)||(H(this,Ya).push(t),this.clearGcTimeout(),H(this,Vn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ie(this,Ya,H(this,Ya).filter(r=>r!==t)),this.scheduleGc(),H(this,Vn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,Ya).length||(this.state.status==="pending"?this.scheduleGc():H(this,Vn).remove(this))}continue(){var t;return((t=H(this,rc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,y,m,w,g,v,b,j,_,N,S,C,P;const r=()=>{yt(this,Xa,fo).call(this,{type:"continue"})},n={client:H(this,kp),meta:this.options.meta,mutationKey:this.options.mutationKey};Ie(this,rc,o5({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{yt(this,Xa,fo).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{yt(this,Xa,fo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Vn).canRun(this)}));const a=this.state.status==="pending",i=!H(this,rc).canStart();try{if(a)r();else{yt(this,Xa,fo).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=H(this,Vn).config).onMutate)==null?void 0:l.call(o,t,this,n));const E=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));E!==this.state.context&&yt(this,Xa,fo).call(this,{type:"pending",context:E,variables:t,isPaused:i})}const k=await H(this,rc).start();return await((f=(d=H(this,Vn).config).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,k,t,this.state.context,n)),await((m=(y=H(this,Vn).config).onSettled)==null?void 0:m.call(y,k,null,this.state.variables,this.state.context,this,n)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,k,null,t,this.state.context,n)),yt(this,Xa,fo).call(this,{type:"success",data:k}),k}catch(k){try{throw await((b=(v=H(this,Vn).config).onError)==null?void 0:b.call(v,k,t,this.state.context,this,n)),await((_=(j=this.options).onError)==null?void 0:_.call(j,k,t,this.state.context,n)),await((S=(N=H(this,Vn).config).onSettled)==null?void 0:S.call(N,void 0,k,this.state.variables,this.state.context,this,n)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,k,t,this.state.context,n)),k}finally{yt(this,Xa,fo).call(this,{type:"error",error:k})}}finally{H(this,Vn).runNext(this)}}},kp=new WeakMap,Ya=new WeakMap,Vn=new WeakMap,rc=new WeakMap,Xa=new WeakSet,fo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),an.batch(()=>{H(this,Ya).forEach(n=>{n.onMutationUpdate(t)}),H(this,Vn).notify({mutation:this,type:"updated",action:t})})},_M);function d5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pi,Sa,Cp,SM,DK=(SM=class extends gf{constructor(t={}){super();Ze(this,Pi);Ze(this,Sa);Ze(this,Cp);this.config=t,Ie(this,Pi,new Set),Ie(this,Sa,new Map),Ie(this,Cp,0)}build(t,r,n){const a=new $K({client:t,mutationCache:this,mutationId:++hg(this,Cp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){H(this,Pi).add(t);const r=Tg(t);if(typeof r=="string"){const n=H(this,Sa).get(r);n?n.push(t):H(this,Sa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(H(this,Pi).delete(t)){const r=Tg(t);if(typeof r=="string"){const n=H(this,Sa).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&H(this,Sa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Tg(t);if(typeof r=="string"){const n=H(this,Sa).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Tg(t);if(typeof r=="string"){const a=(n=H(this,Sa).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){an.batch(()=>{H(this,Pi).forEach(t=>{this.notify({type:"removed",mutation:t})}),H(this,Pi).clear(),H(this,Sa).clear()})}getAll(){return Array.from(H(this,Pi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>EE(r,n))}findAll(t={}){return this.getAll().filter(r=>EE(t,r))}notify(t){an.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return an.batch(()=>Promise.all(t.map(r=>r.continue().catch(Wn))))}},Pi=new WeakMap,Sa=new WeakMap,Cp=new WeakMap,SM);function Tg(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ei,Eo,ss,Ai,Ui,Sv,G1,kM,LK=(kM=class extends gf{constructor(r,n){super();Ze(this,Ui);Ze(this,Ei);Ze(this,Eo);Ze(this,ss);Ze(this,Ai);Ie(this,Ei,r),this.setOptions(n),this.bindMethods(),yt(this,Ui,Sv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=H(this,Ei).defaultMutationOptions(r),nx(this.options,n)||H(this,Ei).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,ss),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&mc(n.mutationKey)!==mc(this.options.mutationKey)?this.reset():((a=H(this,ss))==null?void 0:a.state.status)==="pending"&&H(this,ss).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=H(this,ss))==null||r.removeObserver(this)}onMutationUpdate(r){yt(this,Ui,Sv).call(this),yt(this,Ui,G1).call(this,r)}getCurrentResult(){return H(this,Eo)}reset(){var r;(r=H(this,ss))==null||r.removeObserver(this),Ie(this,ss,void 0),yt(this,Ui,Sv).call(this),yt(this,Ui,G1).call(this)}mutate(r,n){var a;return Ie(this,Ai,n),(a=H(this,ss))==null||a.removeObserver(this),Ie(this,ss,H(this,Ei).getMutationCache().build(H(this,Ei),this.options)),H(this,ss).addObserver(this),H(this,ss).execute(r)}},Ei=new WeakMap,Eo=new WeakMap,ss=new WeakMap,Ai=new WeakMap,Ui=new WeakSet,Sv=function(){var n;const r=((n=H(this,ss))==null?void 0:n.state)??d5();Ie(this,Eo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},G1=function(r){an.batch(()=>{var n,a,i,o,l,c,u,d;if(H(this,Ai)&&this.hasListeners()){const f=H(this,Eo).variables,h=H(this,Eo).context,p={client:H(this,Ei),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=H(this,Ai)).onSuccess)==null||a.call(n,r.data,f,h,p),(o=(i=H(this,Ai)).onSettled)==null||o.call(i,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=H(this,Ai)).onError)==null||c.call(l,r.error,f,h,p),(d=(u=H(this,Ai)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(H(this,Eo))})})},kM),Ja,CM,FK=(CM=class extends gf{constructor(t={}){super();Ze(this,Ja);this.config=t,Ie(this,Ja,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??yk(a,r);let o=this.get(i);return o||(o=new OK({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){H(this,Ja).has(t.queryHash)||(H(this,Ja).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=H(this,Ja).get(t.queryHash);r&&(t.destroy(),r===t&&H(this,Ja).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){an.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,Ja).get(t)}getAll(){return[...H(this,Ja).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>PE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>PE(t,n)):r}notify(t){an.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){an.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ja=new WeakMap,CM),Er,Ao,Oo,gd,vd,To,xd,yd,PM,UK=(PM=class{constructor(e={}){Ze(this,Er);Ze(this,Ao);Ze(this,Oo);Ze(this,gd);Ze(this,vd);Ze(this,To);Ze(this,xd);Ze(this,yd);Ie(this,Er,e.queryCache||new FK),Ie(this,Ao,e.mutationCache||new DK),Ie(this,Oo,e.defaultOptions||{}),Ie(this,gd,new Map),Ie(this,vd,new Map),Ie(this,To,0)}mount(){hg(this,To)._++,H(this,To)===1&&(Ie(this,xd,wk.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Er).onFocus())})),Ie(this,yd,sx.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Er).onOnline())})))}unmount(){var e,t;hg(this,To)._--,H(this,To)===0&&((e=H(this,xd))==null||e.call(this),Ie(this,xd,void 0),(t=H(this,yd))==null||t.call(this),Ie(this,yd,void 0))}isFetching(e){return H(this,Er).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,Ao).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=H(this,Er).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=H(this,Er).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(zo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return H(this,Er).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=H(this,Er).get(n.queryHash),i=a==null?void 0:a.state.data,o=wK(t,i);if(o!==void 0)return H(this,Er).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return an.batch(()=>H(this,Er).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=H(this,Er).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=H(this,Er);an.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=H(this,Er);return an.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=an.batch(()=>H(this,Er).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Wn).catch(Wn)}invalidateQueries(e,t={}){return an.batch(()=>(H(this,Er).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=an.batch(()=>H(this,Er).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Wn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Wn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=H(this,Er).build(this,t);return r.isStaleByTime(zo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Wn).catch(Wn)}fetchInfiniteQuery(e){return e.behavior=$E(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Wn).catch(Wn)}ensureInfiniteQueryData(e){return e.behavior=$E(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sx.isOnline()?H(this,Ao).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,Er)}getMutationCache(){return H(this,Ao)}getDefaultOptions(){return H(this,Oo)}setDefaultOptions(e){Ie(this,Oo,e)}setQueryDefaults(e,t){H(this,gd).set(mc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,gd).values()],r={};return t.forEach(n=>{ym(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){H(this,vd).set(mc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,vd).values()],r={};return t.forEach(n=>{ym(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,Oo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===bk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,Oo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,Er).clear(),H(this,Ao).clear()}},Er=new WeakMap,Ao=new WeakMap,Oo=new WeakMap,gd=new WeakMap,vd=new WeakMap,To=new WeakMap,xd=new WeakMap,yd=new WeakMap,PM),f5=x.createContext(void 0),h5=e=>{const t=x.useContext(f5);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},BK=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(f5.Provider,{value:e,children:t})),m5=x.createContext(!1),VK=()=>x.useContext(m5);m5.Provider;function qK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var zK=x.createContext(qK()),WK=()=>x.useContext(zK),KK=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},HK=e=>{x.useEffect(()=>{e.clearReset()},[e])},GK=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||a5(r,[e.error,n])),QK=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},YK=(e,t)=>e.isLoading&&e.isFetching&&!t,XK=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,LE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function JK(e,t,r){var f,h,p,y,m;const n=VK(),a=WK(),i=h5(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",QK(o),KK(o,a),HK(a);const l=!i.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(w=>{const g=d?c.subscribe(an.batchCalls(w)):Wn;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),XK(o,u))throw LE(o,c,a);if(GK({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,o,u),o.experimental_prefetchInRender&&!hc&&YK(u,n)){const w=l?LE(o,c,a):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;w==null||w.catch(Wn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function de(e,t){return JK(e,TK)}function ye(e,t){const r=h5(),[n]=x.useState(()=>new LK(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(an.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,l)=>{n.mutate(o,l).catch(Wn)},[n]);if(a.error&&a5(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function p5(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function xe(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await p5(n),n}const g5=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await p5(r),await r.json())},re=new UK({defaultOptions:{queries:{queryFn:g5({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),ZK=1,eH=1e6;let Tw=0;function tH(){return Tw=(Tw+1)%Number.MAX_SAFE_INTEGER,Tw.toString()}const Iw=new Map,FE=e=>{if(Iw.has(e))return;const t=setTimeout(()=>{Iw.delete(e),qh({type:"REMOVE_TOAST",toastId:e})},eH);Iw.set(e,t)},rH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ZK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?FE(r):e.toasts.forEach(n=>{FE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},kv=[];let Cv={toasts:[]};function qh(e){Cv=rH(Cv,e),kv.forEach(t=>{t(Cv)})}function nH({...e}){const t=tH(),r=a=>qh({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>qh({type:"DISMISS_TOAST",toastId:t});return qh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function ht(){const[e,t]=x.useState(Cv);return x.useEffect(()=>(kv.push(t),()=>{const r=kv.indexOf(t);r>-1&&kv.splice(r,1)}),[e]),{...e,toast:nH,dismiss:r=>qh({type:"DISMISS_TOAST",toastId:r})}}function Ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function UE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Jn(...e){return t=>{let r=!1;const n=e.map(a=>{const i=UE(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():UE(e[a],null)}}}}function dt(...e){return x.useCallback(Jn(...e),e)}function sH(e,t){const r=x.createContext(t),n=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function En(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:p,...y}=f,m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,w=x.useMemo(()=>y,Object.values(y));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=x.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,aH(a,...t)]}function aH(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function BE(e){const t=iH(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(lH);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function iH(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=uH(a),l=cH(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oH=Symbol("radix.slottable");function lH(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oH}function cH(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function uH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ip(e){const t=e+"CollectionProvider",[r,n]=En(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:g}=m,v=F.useRef(null),b=F.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:b,collectionRef:v,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=BE(l),u=F.forwardRef((m,w)=>{const{scope:g,children:v}=m,b=i(l,g),j=dt(w,b.collectionRef);return s.jsx(c,{ref:j,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=BE(d),p=F.forwardRef((m,w)=>{const{scope:g,children:v,...b}=m,j=F.useRef(null),_=dt(w,j),N=i(d,g);return F.useEffect(()=>(N.itemMap.set(j,{ref:j,...b}),()=>void N.itemMap.delete(j))),s.jsx(h,{[f]:"",ref:_,children:v})});p.displayName=d;function y(m){const w=i(e+"CollectionConsumer",m);return F.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((N,S)=>b.indexOf(N.ref.current)-b.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,n]}function dH(e){const t=fH(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(mH);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function fH(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=gH(a),l=pH(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hH=Symbol("radix.slottable");function mH(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hH}function pH(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function gH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=vH.reduce((e,t)=>{const r=dH(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Nk(e,t){e&&Rc.flushSync(()=>e.dispatchEvent(t))}function Rr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function xH(e,t=globalThis==null?void 0:globalThis.document){const r=Rr(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var yH="DismissableLayer",Q1="dismissableLayer.update",bH="dismissableLayer.pointerDownOutside",wH="dismissableLayer.focusOutside",VE,v5=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mc=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(v5),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),y=dt(t,S=>f(S)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(w),v=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=g,_=NH(S=>{const C=S.target,P=[...u.branches].some(k=>k.contains(C));!j||P||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=_H(S=>{const C=S.target;[...u.branches].some(k=>k.contains(C))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return xH(S=>{v===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),qE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=VE)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),qE())},[d,u]),x.useEffect(()=>{const S=()=>p({});return document.addEventListener(Q1,S),()=>document.removeEventListener(Q1,S)},[]),s.jsx(Me.div,{...c,ref:y,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,_.onPointerDownCapture)})});Mc.displayName=yH;var jH="DismissableLayerBranch",x5=x.forwardRef((e,t)=>{const r=x.useContext(v5),n=x.useRef(null),a=dt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Me.div,{...e,ref:a})});x5.displayName=jH;function NH(e,t=globalThis==null?void 0:globalThis.document){const r=Rr(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){y5(bH,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function _H(e,t=globalThis==null?void 0:globalThis.document){const r=Rr(e),n=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!n.current&&y5(wH,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function qE(){const e=new CustomEvent(Q1);document.dispatchEvent(e)}function y5(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Nk(a,i):a.dispatchEvent(i)}var SH=Mc,kH=x5,Lr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},CH="Portal",vf=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=x.useState(!1);Lr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?qW.createPortal(s.jsx(Me.div,{...n,ref:t}),o):null});vf.displayName=CH;function PH(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var dn=e=>{const{present:t,children:r}=e,n=EH(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=dt(n.ref,AH(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:i}):null};dn.displayName="Presence";function EH(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=PH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Ig(n.current);i.current=l==="mounted"?u:"none"},[l]),Lr(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=Ig(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Lr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Ig(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(i.current=Ig(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ig(e){return(e==null?void 0:e.animationName)||"none"}function AH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var OH=Vy[" useInsertionEffect ".trim().toString()]||Lr;function ps({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=TH({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=IH(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function TH({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),i=x.useRef(t);return OH(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function IH(e){return typeof e=="function"}var b5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RH="VisuallyHidden",ib=x.forwardRef((e,t)=>s.jsx(Me.span,{...e,ref:t,style:{...b5,...e.style}}));ib.displayName=RH;var MH=ib,_k="ToastProvider",[Sk,$H,DH]=Ip("Toast"),[w5]=En("Toast",[DH]),[LH,ob]=w5(_k),j5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${_k}\`. Expected non-empty \`string\`.`),s.jsx(Sk.Provider,{scope:t,children:s.jsx(LH,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>d(p=>p+1),[]),onToastRemove:x.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};j5.displayName=_k;var N5="ToastViewport",FH=["F8"],Y1="toast.viewportPause",X1="toast.viewportResume",_5=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=FH,label:a="Notifications ({hotkey})",...i}=e,o=ob(N5,r),l=$H(r),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=dt(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;x.useEffect(()=>{const w=g=>{var b;n.length!==0&&n.every(j=>g[j]||g.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),x.useEffect(()=>{const w=c.current,g=f.current;if(y&&w&&g){const v=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(Y1);g.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(X1);g.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!w.contains(N.relatedTarget)&&b()},_=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",j),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const j=b.ref.current,_=[j,...JH(j)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return x.useEffect(()=>{const w=f.current;if(w){const g=v=>{var _,N,S;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const C=document.activeElement,P=v.shiftKey;if(v.target===w&&P){(_=u.current)==null||_.focus();return}const T=m({tabbingDirection:P?"backwards":"forwards"}),I=T.findIndex(R=>R===C);Rw(T.slice(I+1))?v.preventDefault():P?(N=u.current)==null||N.focus():(S=d.current)==null||S.focus()}};return w.addEventListener("keydown",g),()=>w.removeEventListener("keydown",g)}},[l,m]),s.jsxs(kH,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(J1,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Rw(w)}}),s.jsx(Sk.Slot,{scope:r,children:s.jsx(Me.ol,{tabIndex:-1,...i,ref:h})}),y&&s.jsx(J1,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Rw(w)}})]})});_5.displayName=N5;var S5="ToastFocusProxy",J1=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=ob(S5,r);return s.jsx(ib,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});J1.displayName=S5;var Rp="Toast",UH="toast.swipeStart",BH="toast.swipeMove",VH="toast.swipeCancel",qH="toast.swipeEnd",k5=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ps({prop:n,defaultProp:a??!0,onChange:i,caller:Rp});return s.jsx(dn,{present:r||l,children:s.jsx(KH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Rr(e.onPause),onResume:Rr(e.onResume),onSwipeStart:Ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});k5.displayName=Rp;var[zH,WH]=w5(Rp,{onClose(){}}),KH=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=ob(Rp,r),[w,g]=x.useState(null),v=dt(t,R=>g(R)),b=x.useRef(null),j=x.useRef(null),_=a||m.duration,N=x.useRef(0),S=x.useRef(_),C=x.useRef(0),{onToastAdd:P,onToastRemove:k}=m,E=Rr(()=>{var D;(w==null?void 0:w.contains(document.activeElement))&&((D=m.viewport)==null||D.focus()),o()}),T=x.useCallback(R=>{!R||R===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout(E,R))},[E]);x.useEffect(()=>{const R=m.viewport;if(R){const D=()=>{T(S.current),u==null||u()},O=()=>{const W=new Date().getTime()-N.current;S.current=S.current-W,window.clearTimeout(C.current),c==null||c()};return R.addEventListener(Y1,O),R.addEventListener(X1,D),()=>{R.removeEventListener(Y1,O),R.removeEventListener(X1,D)}}},[m.viewport,_,c,u,T]),x.useEffect(()=>{i&&!m.isClosePausedRef.current&&T(_)},[i,_,m.isClosePausedRef,T]),x.useEffect(()=>(P(),()=>k()),[P,k]);const I=x.useMemo(()=>w?I5(w):null,[w]);return m.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx(HH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:I}),s.jsx(zH,{scope:r,onClose:E,children:Rc.createPortal(s.jsx(Sk.ItemSlot,{scope:r,children:s.jsx(SH,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||E(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Me.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Ne(e.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:Ne(e.onPointerMove,R=>{if(!b.current)return;const D=R.clientX-b.current.x,O=R.clientY-b.current.y,W=!!j.current,A=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Q=A?$(0,D):0,X=A?0:$(0,O),U=R.pointerType==="touch"?10:2,J={x:Q,y:X},z={originalEvent:R,delta:J};W?(j.current=J,Rg(BH,f,z,{discrete:!1})):zE(J,m.swipeDirection,U)?(j.current=J,Rg(UH,d,z,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(D)>U||Math.abs(O)>U)&&(b.current=null)}),onPointerUp:Ne(e.onPointerUp,R=>{const D=j.current,O=R.target;if(O.hasPointerCapture(R.pointerId)&&O.releasePointerCapture(R.pointerId),j.current=null,b.current=null,D){const W=R.currentTarget,A={originalEvent:R,delta:D};zE(D,m.swipeDirection,m.swipeThreshold)?Rg(qH,p,A,{discrete:!0}):Rg(VH,h,A,{discrete:!0}),W.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),HH=e=>{const{__scopeToast:t,children:r,...n}=e,a=ob(Rp,t),[i,o]=x.useState(!1),[l,c]=x.useState(!1);return YH(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(vf,{asChild:!0,children:s.jsx(ib,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},GH="ToastTitle",C5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});C5.displayName=GH;var QH="ToastDescription",P5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});P5.displayName=QH;var E5="ToastAction",A5=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(T5,{altText:r,asChild:!0,children:s.jsx(kk,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${E5}\`. Expected non-empty \`string\`.`),null)});A5.displayName=E5;var O5="ToastClose",kk=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=WH(O5,r);return s.jsx(T5,{asChild:!0,children:s.jsx(Me.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,a.onClose)})})});kk.displayName=O5;var T5=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function I5(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),XH(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...I5(n))}}),t}function Rg(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Nk(a,i):a.dispatchEvent(i)}var zE=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function YH(e=()=>{}){const t=Rr(e);Lr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function XH(e){return e.nodeType===e.ELEMENT_NODE}function JH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Rw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var ZH=j5,R5=_5,M5=k5,$5=C5,D5=P5,L5=A5,F5=kk;function U5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=U5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=U5(e))&&(n&&(n+=" "),n+=t);return n}const WE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,KE=xt,Mp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return KE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=WE(d)||WE(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[m,w]=y;return Array.isArray(w)?w.includes({...i,...l}[m]):{...i,...l}[m]===w})?[...u,f,h]:u},[]);return KE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B5=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...tG,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:B5("lucide",a),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(rG,{ref:i,iconNode:t,className:B5(`lucide-${eG(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=he("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=he("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=he("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=he("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=he("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=he("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=he("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=he("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=he("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=he("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=he("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=he("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=he("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=he("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=he("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=he("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=he("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=he("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=he("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=he("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=he("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=he("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=he("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=he("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=he("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=he("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=he("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=he("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=he("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=he("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=he("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=he("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=he("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=he("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=he("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=he("MessageSquareQuote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=he("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=he("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=he("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=he("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=he("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=he("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=he("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=he("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=he("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=he("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=he("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=he("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=he("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=he("Spade",[["path",{d:"M5 9c-1.5 1.5-3 3.2-3 5.5A5.5 5.5 0 0 0 7.5 20c1.8 0 3-.5 4.5-2 1.5 1.5 2.7 2 4.5 2a5.5 5.5 0 0 0 5.5-5.5c0-2.3-1.5-4-3-5.5l-7-7-7 7Z",key:"40bo9n"}],["path",{d:"M12 18v4",key:"jadmvz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=he("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=he("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=he("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=he("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=he("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=he("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=he("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=he("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=he("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=he("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),VG=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},qG=(e,t)=>({classGroupId:e,validator:t}),e3=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),cx="-",eA=[],zG="arbitrary..",WG=e=>{const t=HG(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return KG(o);const l=o.split(cx),c=l[0]===""&&l.length>1?1:0;return t3(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],u=r[o];return c?u?VG(u,c):c:u||eA}return r[o]||eA}}},t3=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const u=t3(e,t+1,i);if(u)return u}const o=r.validators;if(o===null)return;const l=t===0?e.join(cx):e.slice(t).join(cx),c=o.length;for(let u=0;u<c;u++){const d=o[u];if(d.validator(l))return d.classGroupId}},KG=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?zG+n:void 0})(),HG=e=>{const{theme:t,classGroups:r}=e;return GG(r,t)},GG=(e,t)=>{const r=e3();for(const n in e){const a=e[n];Ik(a,r,n,t)}return r},Ik=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];QG(o,t,r,n)}},QG=(e,t,r,n)=>{if(typeof e=="string"){YG(e,t,r);return}if(typeof e=="function"){XG(e,t,r,n);return}JG(e,t,r,n)},YG=(e,t,r)=>{const n=e===""?t:r3(t,e);n.classGroupId=r},XG=(e,t,r,n)=>{if(ZG(e)){Ik(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(qG(r,e))},JG=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];Ik(c,r3(t,l),r,n)}},r3=(e,t)=>{let r=e;const n=t.split(cx),a=n.length;for(let i=0;i<a;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=e3(),r.nextPart.set(o,l)),r=l}return r},ZG=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,eQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},sN="!",tA=":",tQ=[],rA=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),rQ=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,u;const d=a.length;for(let m=0;m<d;m++){const w=a[m];if(o===0&&l===0){if(w===tA){i.push(a.slice(c,m)),c=m+1;continue}if(w==="/"){u=m;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const f=i.length===0?a:a.slice(c);let h=f,p=!1;f.endsWith(sN)?(h=f.slice(0,-1),p=!0):f.startsWith(sN)&&(h=f.slice(1),p=!0);const y=u&&u>c?u-c:void 0;return rA(i,p,h,y)};if(t){const a=t+tA,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):rA(tQ,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},nQ=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},sQ=e=>({cache:eQ(e.cacheSize),parseClassName:rQ(e),sortModifiers:nQ(e),...WG(e)}),aQ=/\s+/,iQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(aQ);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!m,g=n(w?y.substring(0,m):y);if(!g){if(!w){c=d+(c.length>0?" "+c:c);continue}if(g=n(y),!g){c=d+(c.length>0?" "+c:c);continue}w=!1}const v=h.length===0?"":h.length===1?h[0]:i(h).join(":"),b=p?v+sN:v,j=b+g;if(o.indexOf(j)>-1)continue;o.push(j);const _=a(g,w);for(let N=0;N<_.length;++N){const S=_[N];o.push(b+S)}c=d+(c.length>0?" "+c:c)}return c},oQ=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=n3(r))&&(a&&(a+=" "),a+=n);return a},n3=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=n3(e[n]))&&(r&&(r+=" "),r+=t);return r},lQ=(e,...t)=>{let r,n,a,i;const o=c=>{const u=t.reduce((d,f)=>f(d),e());return r=sQ(u),n=r.cache.get,a=r.cache.set,i=l,l(c)},l=c=>{const u=n(c);if(u)return u;const d=iQ(c,r);return a(c,d),d};return i=o,(...c)=>i(oQ(...c))},cQ=[],Zr=e=>{const t=r=>r[e]||cQ;return t.isThemeGetter=!0,t},s3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,a3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uQ=/^\d+\/\d+$/,dQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,au=e=>uQ.test(e),jt=e=>!!e&&!Number.isNaN(Number(e)),co=e=>!!e&&Number.isInteger(Number(e)),Mw=e=>e.endsWith("%")&&jt(e.slice(0,-1)),yi=e=>dQ.test(e),gQ=()=>!0,vQ=e=>fQ.test(e)&&!hQ.test(e),i3=()=>!1,xQ=e=>mQ.test(e),yQ=e=>pQ.test(e),bQ=e=>!Ve(e)&&!qe(e),wQ=e=>yf(e,c3,i3),Ve=e=>s3.test(e),bl=e=>yf(e,u3,vQ),$w=e=>yf(e,kQ,jt),nA=e=>yf(e,o3,i3),jQ=e=>yf(e,l3,yQ),$g=e=>yf(e,d3,xQ),qe=e=>a3.test(e),sh=e=>bf(e,u3),NQ=e=>bf(e,CQ),sA=e=>bf(e,o3),_Q=e=>bf(e,c3),SQ=e=>bf(e,l3),Dg=e=>bf(e,d3,!0),yf=(e,t,r)=>{const n=s3.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},bf=(e,t,r=!1)=>{const n=a3.exec(e);return n?n[1]?t(n[1]):r:!1},o3=e=>e==="position"||e==="percentage",l3=e=>e==="image"||e==="url",c3=e=>e==="length"||e==="size"||e==="bg-size",u3=e=>e==="length",kQ=e=>e==="number",CQ=e=>e==="family-name",d3=e=>e==="shadow",PQ=()=>{const e=Zr("color"),t=Zr("font"),r=Zr("text"),n=Zr("font-weight"),a=Zr("tracking"),i=Zr("leading"),o=Zr("breakpoint"),l=Zr("container"),c=Zr("spacing"),u=Zr("radius"),d=Zr("shadow"),f=Zr("inset-shadow"),h=Zr("text-shadow"),p=Zr("drop-shadow"),y=Zr("blur"),m=Zr("perspective"),w=Zr("aspect"),g=Zr("ease"),v=Zr("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...j(),qe,Ve],N=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],C=()=>[qe,Ve,c],P=()=>[au,"full","auto",...C()],k=()=>[co,"none","subgrid",qe,Ve],E=()=>["auto",{span:["full",co,qe,Ve]},co,qe,Ve],T=()=>[co,"auto",qe,Ve],I=()=>["auto","min","max","fr",qe,Ve],R=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],D=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...C()],W=()=>[au,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],A=()=>[e,qe,Ve],$=()=>[...j(),sA,nA,{position:[qe,Ve]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",_Q,wQ,{size:[qe,Ve]}],U=()=>[Mw,sh,bl],J=()=>["","none","full",u,qe,Ve],z=()=>["",jt,sh,bl],ee=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[jt,Mw,sA,nA],be=()=>["","none",y,qe,Ve],ae=()=>["none",jt,qe,Ve],B=()=>["none",jt,qe,Ve],ce=()=>[jt,qe,Ve],G=()=>[au,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yi],breakpoint:[yi],color:[gQ],container:[yi],"drop-shadow":[yi],ease:["in","out","in-out"],font:[bQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yi],shadow:[yi],spacing:["px",jt],text:[yi],"text-shadow":[yi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",au,Ve,qe,w]}],container:["container"],columns:[{columns:[jt,Ve,qe,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[co,"auto",qe,Ve]}],basis:[{basis:[au,"full","auto",l,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[jt,au,"auto","initial","none",Ve]}],grow:[{grow:["",jt,qe,Ve]}],shrink:[{shrink:["",jt,qe,Ve]}],order:[{order:[co,"first","last","none",qe,Ve]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...R(),"normal"]}],"justify-items":[{"justify-items":[...D(),"normal"]}],"justify-self":[{"justify-self":["auto",...D()]}],"align-content":[{content:["normal",...R()]}],"align-items":[{items:[...D(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...D(),{baseline:["","last"]}]}],"place-content":[{"place-content":R()}],"place-items":[{"place-items":[...D(),"baseline"]}],"place-self":[{"place-self":["auto",...D()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[l,"screen",...W()]}],"min-w":[{"min-w":[l,"screen","none",...W()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",r,sh,bl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,qe,$w]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mw,Ve]}],"font-family":[{font:[NQ,Ve,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,qe,Ve]}],"line-clamp":[{"line-clamp":[jt,"none",qe,$w]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",qe,Ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,Ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[jt,"from-font","auto",qe,bl]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[jt,"auto",qe,Ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},co,qe,Ve],radial:["",qe,Ve],conic:[co,qe,Ve]},SQ,jQ]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[jt,qe,Ve]}],"outline-w":[{outline:["",jt,sh,bl]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",d,Dg,$g]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",f,Dg,$g]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[jt,bl]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",h,Dg,$g]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[jt,qe,Ve]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[jt]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[qe,Ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[jt]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qe,Ve]}],filter:[{filter:["","none",qe,Ve]}],blur:[{blur:be()}],brightness:[{brightness:[jt,qe,Ve]}],contrast:[{contrast:[jt,qe,Ve]}],"drop-shadow":[{"drop-shadow":["","none",p,Dg,$g]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",jt,qe,Ve]}],"hue-rotate":[{"hue-rotate":[jt,qe,Ve]}],invert:[{invert:["",jt,qe,Ve]}],saturate:[{saturate:[jt,qe,Ve]}],sepia:[{sepia:["",jt,qe,Ve]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,Ve]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[jt,qe,Ve]}],"backdrop-contrast":[{"backdrop-contrast":[jt,qe,Ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",jt,qe,Ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[jt,qe,Ve]}],"backdrop-invert":[{"backdrop-invert":["",jt,qe,Ve]}],"backdrop-opacity":[{"backdrop-opacity":[jt,qe,Ve]}],"backdrop-saturate":[{"backdrop-saturate":[jt,qe,Ve]}],"backdrop-sepia":[{"backdrop-sepia":["",jt,qe,Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,Ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[jt,"initial",qe,Ve]}],ease:[{ease:["linear","initial",g,qe,Ve]}],delay:[{delay:[jt,qe,Ve]}],animate:[{animate:["none",v,qe,Ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,qe,Ve]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:ae()}],"rotate-x":[{"rotate-x":ae()}],"rotate-y":[{"rotate-y":ae()}],"rotate-z":[{"rotate-z":ae()}],scale:[{scale:B()}],"scale-x":[{"scale-x":B()}],"scale-y":[{"scale-y":B()}],"scale-z":[{"scale-z":B()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[qe,Ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,Ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,Ve]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[jt,sh,bl,$w]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},EQ=lQ(PQ);function we(...e){return EQ(xt(e))}const AQ=ZH,f3=x.forwardRef(({className:e,...t},r)=>s.jsx(R5,{ref:r,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));f3.displayName=R5.displayName;const OQ=Mp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),h3=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(M5,{ref:n,className:we(OQ({variant:t}),e),...r}));h3.displayName=M5.displayName;const TQ=x.forwardRef(({className:e,...t},r)=>s.jsx(L5,{ref:r,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));TQ.displayName=L5.displayName;const m3=x.forwardRef(({className:e,...t},r)=>s.jsx(F5,{ref:r,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Ki,{className:"h-4 w-4"})}));m3.displayName=F5.displayName;const p3=x.forwardRef(({className:e,...t},r)=>s.jsx($5,{ref:r,className:we("text-sm font-semibold",e),...t}));p3.displayName=$5.displayName;const g3=x.forwardRef(({className:e,...t},r)=>s.jsx(D5,{ref:r,className:we("text-sm opacity-90",e),...t}));g3.displayName=D5.displayName;function IQ(){const{toasts:e}=ht();return s.jsxs(AQ,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(h3,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(p3,{children:r}),n&&s.jsx(g3,{children:n})]}),a,s.jsx(m3,{})]},t)}),s.jsx(f3,{})]})}var RQ=Vy[" useId ".trim().toString()]||(()=>{}),MQ=0;function Gr(e){const[t,r]=x.useState(RQ());return Lr(()=>{r(n=>n??String(MQ++))},[e]),t?`radix-${t}`:""}const $Q=["top","right","bottom","left"],Zo=Math.min,Ss=Math.max,ux=Math.round,Lg=Math.floor,ii=e=>({x:e,y:e}),DQ={left:"right",right:"left",bottom:"top",top:"bottom"},LQ={start:"end",end:"start"};function aN(e,t,r){return Ss(e,Zo(t,r))}function Hi(e,t){return typeof e=="function"?e(t):e}function Gi(e){return e.split("-")[0]}function wf(e){return e.split("-")[1]}function Rk(e){return e==="x"?"y":"x"}function Mk(e){return e==="y"?"height":"width"}const FQ=new Set(["top","bottom"]);function ti(e){return FQ.has(Gi(e))?"y":"x"}function $k(e){return Rk(ti(e))}function UQ(e,t,r){r===void 0&&(r=!1);const n=wf(e),a=$k(e),i=Mk(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=dx(o)),[o,dx(o)]}function BQ(e){const t=dx(e);return[iN(e),t,iN(t)]}function iN(e){return e.replace(/start|end/g,t=>LQ[t])}const aA=["left","right"],iA=["right","left"],VQ=["top","bottom"],qQ=["bottom","top"];function zQ(e,t,r){switch(e){case"top":case"bottom":return r?t?iA:aA:t?aA:iA;case"left":case"right":return t?VQ:qQ;default:return[]}}function WQ(e,t,r,n){const a=wf(e);let i=zQ(Gi(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(iN)))),i}function dx(e){return e.replace(/left|right|bottom|top/g,t=>DQ[t])}function KQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function v3(e){return typeof e!="number"?KQ(e):{top:e,right:e,bottom:e,left:e}}function fx(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function oA(e,t,r){let{reference:n,floating:a}=e;const i=ti(t),o=$k(t),l=Mk(o),c=Gi(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(wf(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const HQ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=oA(u,n,c),h=n,p={},y=0;for(let m=0;m<l.length;m++){const{name:w,fn:g}=l[m],{x:v,y:b,data:j,reset:_}=await g({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,f=b??f,p={...p,[w]:{...p[w],...j}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=oA(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function _m(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Hi(t,e),y=v3(p),w=l[h?f==="floating"?"reference":"floating":f],g=fx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=fx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(g.top-_.top+y.top)/j.y,bottom:(_.bottom-g.bottom+y.bottom)/j.y,left:(g.left-_.left+y.left)/j.x,right:(_.right-g.right+y.right)/j.x}}const GQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Hi(e,t)||{};if(u==null)return{};const f=v3(d),h={x:r,y:n},p=$k(a),y=Mk(p),m=await o.getDimensions(u),w=p==="y",g=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=i.reference[y]+i.reference[p]-h[p]-i.floating[y],_=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[b]||i.floating[y]);const C=j/2-_/2,P=S/2-m[y]/2-1,k=Zo(f[g],P),E=Zo(f[v],P),T=k,I=S-m[y]-E,R=S/2-m[y]/2+C,D=aN(T,R,I),O=!c.arrow&&wf(a)!=null&&R!==D&&i.reference[y]/2-(R<T?k:E)-m[y]/2<0,W=O?R<T?R-T:R-I:0;return{[p]:h[p]+W,data:{[p]:D,centerOffset:R-D-W,...O&&{alignmentOffset:W}},reset:O}}}),QQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...w}=Hi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Gi(a),v=ti(l),b=Gi(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!m?[dx(l)]:BQ(l)),N=y!=="none";!h&&N&&_.push(...WQ(l,m,y,j));const S=[l,..._],C=await _m(t,w),P=[];let k=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(C[g]),f){const R=UQ(a,o,j);P.push(C[R[0]],C[R[1]])}if(k=[...k,{placement:a,overflows:P}],!P.every(R=>R<=0)){var E,T;const R=(((E=i.flip)==null?void 0:E.index)||0)+1,D=S[R];if(D&&(!(f==="alignment"?v!==ti(D):!1)||k.every(A=>ti(A.placement)===v?A.overflows[0]>0:!0)))return{data:{index:R,overflows:k},reset:{placement:D}};let O=(T=k.filter(W=>W.overflows[0]<=0).sort((W,A)=>W.overflows[1]-A.overflows[1])[0])==null?void 0:T.placement;if(!O)switch(p){case"bestFit":{var I;const W=(I=k.filter(A=>{if(N){const $=ti(A.placement);return $===v||$==="y"}return!0}).map(A=>[A.placement,A.overflows.filter($=>$>0).reduce(($,Q)=>$+Q,0)]).sort((A,$)=>A[1]-$[1])[0])==null?void 0:I[0];W&&(O=W);break}case"initialPlacement":O=l;break}if(a!==O)return{reset:{placement:O}}}return{}}}};function lA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cA(e){return $Q.some(t=>e[t]>=0)}const YQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Hi(e,t);switch(n){case"referenceHidden":{const i=await _m(t,{...a,elementContext:"reference"}),o=lA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cA(o)}}}case"escaped":{const i=await _m(t,{...a,altBoundary:!0}),o=lA(i,r.floating);return{data:{escapedOffsets:o,escaped:cA(o)}}}default:return{}}}}},x3=new Set(["left","top"]);async function XQ(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Gi(r),l=wf(r),c=ti(r)==="y",u=x3.has(o)?-1:1,d=i&&c?-1:1,f=Hi(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const JQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await XQ(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},ZQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:g,y:v}=w;return{x:g,y:v}}},...c}=Hi(e,t),u={x:r,y:n},d=await _m(t,c),f=ti(Gi(a)),h=Rk(f);let p=u[h],y=u[f];if(i){const w=h==="y"?"top":"left",g=h==="y"?"bottom":"right",v=p+d[w],b=p-d[g];p=aN(v,p,b)}if(o){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=y+d[w],b=y-d[g];y=aN(v,y,b)}const m=l.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},eY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Hi(e,t),d={x:r,y:n},f=ti(a),h=Rk(f);let p=d[h],y=d[f];const m=Hi(l,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",j=i.reference[h]-i.floating[b]+w.mainAxis,_=i.reference[h]+i.reference[b]-w.mainAxis;p<j?p=j:p>_&&(p=_)}if(u){var g,v;const b=h==="y"?"width":"height",j=x3.has(Gi(a)),_=i.reference[f]-i.floating[b]+(j&&((g=o.offset)==null?void 0:g[f])||0)+(j?0:w.crossAxis),N=i.reference[f]+i.reference[b]+(j?0:((v=o.offset)==null?void 0:v[f])||0)-(j?w.crossAxis:0);y<_?y=_:y>N&&(y=N)}return{[h]:p,[f]:y}}}},tY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Hi(e,t),d=await _m(t,u),f=Gi(a),h=wf(a),p=ti(a)==="y",{width:y,height:m}=i.floating;let w,g;f==="top"||f==="bottom"?(w=f,g=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,w=h==="end"?"top":"bottom");const v=m-d.top-d.bottom,b=y-d.left-d.right,j=Zo(m-d[w],v),_=Zo(y-d[g],b),N=!t.middlewareData.shift;let S=j,C=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=v),N&&!h){const k=Ss(d.left,0),E=Ss(d.right,0),T=Ss(d.top,0),I=Ss(d.bottom,0);p?C=y-2*(k!==0||E!==0?k+E:Ss(d.left,d.right)):S=m-2*(T!==0||I!==0?T+I:Ss(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:S});const P=await o.getDimensions(l.floating);return y!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function mb(){return typeof window<"u"}function jf(e){return y3(e)?(e.nodeName||"").toLowerCase():"#document"}function Is(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hi(e){var t;return(t=(y3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function y3(e){return mb()?e instanceof Node||e instanceof Is(e).Node:!1}function Fa(e){return mb()?e instanceof Element||e instanceof Is(e).Element:!1}function di(e){return mb()?e instanceof HTMLElement||e instanceof Is(e).HTMLElement:!1}function uA(e){return!mb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Is(e).ShadowRoot}const rY=new Set(["inline","contents"]);function Fp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ua(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!rY.has(a)}const nY=new Set(["table","td","th"]);function sY(e){return nY.has(jf(e))}const aY=[":popover-open",":modal"];function pb(e){return aY.some(t=>{try{return e.matches(t)}catch{return!1}})}const iY=["transform","translate","scale","rotate","perspective"],oY=["transform","translate","scale","rotate","perspective","filter"],lY=["paint","layout","strict","content"];function Dk(e){const t=Lk(),r=Fa(e)?Ua(e):e;return iY.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||oY.some(n=>(r.willChange||"").includes(n))||lY.some(n=>(r.contain||"").includes(n))}function cY(e){let t=el(e);for(;di(t)&&!Ed(t);){if(Dk(t))return t;if(pb(t))return null;t=el(t)}return null}function Lk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uY=new Set(["html","body","#document"]);function Ed(e){return uY.has(jf(e))}function Ua(e){return Is(e).getComputedStyle(e)}function gb(e){return Fa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function el(e){if(jf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uA(e)&&e.host||hi(e);return uA(t)?t.host:t}function b3(e){const t=el(e);return Ed(t)?e.ownerDocument?e.ownerDocument.body:e.body:di(t)&&Fp(t)?t:b3(t)}function Sm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=b3(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Is(a);if(i){const l=oN(o);return t.concat(o,o.visualViewport||[],Fp(a)?a:[],l&&r?Sm(l):[])}return t.concat(a,Sm(a,[],r))}function oN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function w3(e){const t=Ua(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=di(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=ux(r)!==i||ux(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Fk(e){return Fa(e)?e:e.contextElement}function td(e){const t=Fk(e);if(!di(t))return ii(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=w3(t);let o=(i?ux(r.width):r.width)/n,l=(i?ux(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const dY=ii(0);function j3(e){const t=Is(e);return!Lk()||!t.visualViewport?dY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Is(e)?!1:t}function vc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Fk(e);let o=ii(1);t&&(n?Fa(n)&&(o=td(n)):o=td(e));const l=fY(i,r,n)?j3(i):ii(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=Is(i),p=n&&Fa(n)?Is(n):n;let y=h,m=oN(y);for(;m&&n&&p!==y;){const w=td(m),g=m.getBoundingClientRect(),v=Ua(m),b=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*w.x,j=g.top+(m.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=j,y=Is(m),m=oN(y)}}return fx({width:d,height:f,x:c,y:u})}function vb(e,t){const r=gb(e).scrollLeft;return t?t.left+r:vc(hi(e)).left+r}function N3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-vb(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function hY(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=hi(n),l=t?pb(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ii(1);const d=ii(0),f=di(n);if((f||!f&&!i)&&((jf(n)!=="body"||Fp(o))&&(c=gb(n)),di(n))){const p=vc(n);u=td(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?N3(o,c):ii(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function mY(e){return Array.from(e.getClientRects())}function pY(e){const t=hi(e),r=gb(e),n=e.ownerDocument.body,a=Ss(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ss(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+vb(e);const l=-r.scrollTop;return Ua(n).direction==="rtl"&&(o+=Ss(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const dA=25;function gY(e,t){const r=Is(e),n=hi(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Lk();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=vb(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(n.clientWidth-f.clientWidth-p);y<=dA&&(i-=y)}else u<=dA&&(i+=u);return{width:i,height:o,x:l,y:c}}const vY=new Set(["absolute","fixed"]);function xY(e,t){const r=vc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=di(e)?td(e):ii(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function fA(e,t,r){let n;if(t==="viewport")n=gY(e,r);else if(t==="document")n=pY(hi(e));else if(Fa(t))n=xY(t,r);else{const a=j3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return fx(n)}function _3(e,t){const r=el(e);return r===t||!Fa(r)||Ed(r)?!1:Ua(r).position==="fixed"||_3(r,t)}function yY(e,t){const r=t.get(e);if(r)return r;let n=Sm(e,[],!1).filter(l=>Fa(l)&&jf(l)!=="body"),a=null;const i=Ua(e).position==="fixed";let o=i?el(e):e;for(;Fa(o)&&!Ed(o);){const l=Ua(o),c=Dk(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&vY.has(a.position)||Fp(o)&&!c&&_3(e,o))?n=n.filter(d=>d!==o):a=l,o=el(o)}return t.set(e,n),n}function bY(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?pb(t)?[]:yY(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=fA(t,d,a);return u.top=Ss(f.top,u.top),u.right=Zo(f.right,u.right),u.bottom=Zo(f.bottom,u.bottom),u.left=Ss(f.left,u.left),u},fA(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wY(e){const{width:t,height:r}=w3(e);return{width:t,height:r}}function jY(e,t,r){const n=di(t),a=hi(t),i=r==="fixed",o=vc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ii(0);function u(){c.x=vb(a)}if(n||!n&&!i)if((jf(t)!=="body"||Fp(a))&&(l=gb(t)),n){const p=vc(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?N3(a,l):ii(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Dw(e){return Ua(e).position==="static"}function hA(e,t){if(!di(e)||Ua(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return hi(e)===r&&(r=r.ownerDocument.body),r}function S3(e,t){const r=Is(e);if(pb(e))return r;if(!di(e)){let a=el(e);for(;a&&!Ed(a);){if(Fa(a)&&!Dw(a))return a;a=el(a)}return r}let n=hA(e,t);for(;n&&sY(n)&&Dw(n);)n=hA(n,t);return n&&Ed(n)&&Dw(n)&&!Dk(n)?r:n||cY(e)||r}const NY=async function(e){const t=this.getOffsetParent||S3,r=this.getDimensions,n=await r(e.floating);return{reference:jY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _Y(e){return Ua(e).direction==="rtl"}const SY={convertOffsetParentRelativeRectToViewportRelativeRect:hY,getDocumentElement:hi,getClippingRect:bY,getOffsetParent:S3,getElementRects:NY,getClientRects:mY,getDimensions:wY,getScale:td,isElement:Fa,isRTL:_Y};function k3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kY(e,t){let r=null,n;const a=hi(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=Lg(f),m=Lg(a.clientWidth-(d+h)),w=Lg(a.clientHeight-(f+p)),g=Lg(d),b={rootMargin:-y+"px "+-m+"px "+-w+"px "+-g+"px",threshold:Ss(0,Zo(1,c))||1};let j=!0;function _(N){const S=N[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!k3(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,b)}r.observe(e)}return o(!0),i}function CY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Fk(e),d=a||i?[...u?Sm(u):[],...Sm(t)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=u&&l?kY(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?vc(e):null;c&&w();function w(){const g=vc(e);m&&!k3(m,g)&&r(),m=g,y=requestAnimationFrame(w)}return r(),()=>{var g;d.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const PY=JQ,EY=ZQ,AY=QQ,OY=tY,TY=YQ,mA=GQ,IY=eY,RY=(e,t,r)=>{const n=new Map,a={platform:SY,...r},i={...a.platform,_c:n};return HQ(e,t,{...a,platform:i})};var MY=typeof document<"u",$Y=function(){},Pv=MY?x.useLayoutEffect:$Y;function hx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!hx(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!hx(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function C3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pA(e,t){const r=C3(e);return Math.round(t*r)/r}function Lw(e){const t=x.useRef(e);return Pv(()=>{t.current=e}),t}function DY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);hx(h,n)||p(n);const[y,m]=x.useState(null),[w,g]=x.useState(null),v=x.useCallback(A=>{A!==N.current&&(N.current=A,m(A))},[]),b=x.useCallback(A=>{A!==S.current&&(S.current=A,g(A))},[]),j=i||y,_=o||w,N=x.useRef(null),S=x.useRef(null),C=x.useRef(d),P=c!=null,k=Lw(c),E=Lw(a),T=Lw(u),I=x.useCallback(()=>{if(!N.current||!S.current)return;const A={placement:t,strategy:r,middleware:h};E.current&&(A.platform=E.current),RY(N.current,S.current,A).then($=>{const Q={...$,isPositioned:T.current!==!1};R.current&&!hx(C.current,Q)&&(C.current=Q,Rc.flushSync(()=>{f(Q)}))})},[h,t,r,E,T]);Pv(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const R=x.useRef(!1);Pv(()=>(R.current=!0,()=>{R.current=!1}),[]),Pv(()=>{if(j&&(N.current=j),_&&(S.current=_),j&&_){if(k.current)return k.current(j,_,I);I()}},[j,_,I,k,P]);const D=x.useMemo(()=>({reference:N,floating:S,setReference:v,setFloating:b}),[v,b]),O=x.useMemo(()=>({reference:j,floating:_}),[j,_]),W=x.useMemo(()=>{const A={position:r,left:0,top:0};if(!O.floating)return A;const $=pA(O.floating,d.x),Q=pA(O.floating,d.y);return l?{...A,transform:"translate("+$+"px, "+Q+"px)",...C3(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:Q}},[r,l,O.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:I,refs:D,elements:O,floatingStyles:W}),[d,I,D,O,W])}const LY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?mA({element:n.current,padding:a}).fn(r):{}:n?mA({element:n,padding:a}).fn(r):{}}}},FY=(e,t)=>({...PY(e),options:[e,t]}),UY=(e,t)=>({...EY(e),options:[e,t]}),BY=(e,t)=>({...IY(e),options:[e,t]}),VY=(e,t)=>({...AY(e),options:[e,t]}),qY=(e,t)=>({...OY(e),options:[e,t]}),zY=(e,t)=>({...TY(e),options:[e,t]}),WY=(e,t)=>({...LY(e),options:[e,t]});var KY="Arrow",P3=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Me.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});P3.displayName=KY;var HY=P3;function Uk(e){const[t,r]=x.useState(void 0);return Lr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Bk="Popper",[E3,cl]=En(Bk),[GY,A3]=E3(Bk),O3=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return s.jsx(GY,{scope:t,anchor:n,onAnchorChange:a,children:r})};O3.displayName=Bk;var T3="PopperAnchor",I3=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=A3(T3,r),o=x.useRef(null),l=dt(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Me.div,{...a,ref:l})});I3.displayName=T3;var Vk="PopperContent",[QY,YY]=E3(Vk),R3=x.forwardRef((e,t)=>{var te,be,ae,B,ce,G;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,w=A3(Vk,r),[g,v]=x.useState(null),b=dt(t,L=>v(L)),[j,_]=x.useState(null),N=Uk(j),S=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,P=n+(i!=="center"?"-"+i:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],T=E.length>0,I={padding:k,boundary:E.filter(JY),altBoundary:T},{refs:R,floatingStyles:D,placement:O,isPositioned:W,middlewareData:A}=DY({strategy:"fixed",placement:P,whileElementsMounted:(...L)=>CY(...L,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[FY({mainAxis:a+C,alignmentAxis:o}),c&&UY({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?BY():void 0,...I}),c&&VY({...I}),qY({...I,apply:({elements:L,rects:ve,availableWidth:Fe,availableHeight:st})=>{const{width:vt,height:qt}=ve.reference,$t=L.floating.style;$t.setProperty("--radix-popper-available-width",`${Fe}px`),$t.setProperty("--radix-popper-available-height",`${st}px`),$t.setProperty("--radix-popper-anchor-width",`${vt}px`),$t.setProperty("--radix-popper-anchor-height",`${qt}px`)}}),j&&WY({element:j,padding:l}),ZY({arrowWidth:S,arrowHeight:C}),h&&zY({strategy:"referenceHidden",...I})]}),[$,Q]=D3(O),X=Rr(y);Lr(()=>{W&&(X==null||X())},[W,X]);const U=(te=A.arrow)==null?void 0:te.x,J=(be=A.arrow)==null?void 0:be.y,z=((ae=A.arrow)==null?void 0:ae.centerOffset)!==0,[ee,pe]=x.useState();return Lr(()=>{g&&pe(window.getComputedStyle(g).zIndex)},[g]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:W?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(B=A.transformOrigin)==null?void 0:B.x,(ce=A.transformOrigin)==null?void 0:ce.y].join(" "),...((G=A.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(QY,{scope:r,placedSide:$,onArrowChange:_,arrowX:U,arrowY:J,shouldHideArrow:z,children:s.jsx(Me.div,{"data-side":$,"data-align":Q,...m,ref:b,style:{...m.style,animation:W?void 0:"none"}})})})});R3.displayName=Vk;var M3="PopperArrow",XY={top:"bottom",right:"left",bottom:"top",left:"right"},$3=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=YY(M3,n),o=XY[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(HY,{...a,ref:r,style:{...a.style,display:"block"}})})});$3.displayName=M3;function JY(e){return e!==null}var ZY=e=>({name:"transformOrigin",options:e,fn(t){var w,g,v;const{placement:r,rects:n,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=D3(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?f:`${h}px`,m=`${-c}px`):u==="top"?(y=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:y,y:m}}}});function D3(e){const[t,r="center"]=e.split("-");return[t,r]}var xb=O3,Up=I3,yb=R3,bb=$3,eX=Symbol("radix.slottable");function tX(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=eX,t}var[wb]=En("Tooltip",[cl]),jb=cl(),L3="TooltipProvider",rX=700,lN="tooltip.open",[nX,qk]=wb(L3),F3=e=>{const{__scopeTooltip:t,delayDuration:r=rX,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(nX,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};F3.displayName=L3;var km="Tooltip",[sX,Nb]=wb(km),U3=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=qk(km,e.__scopeTooltip),u=jb(t),[d,f]=x.useState(null),h=Gr(),p=x.useRef(0),y=o??c.disableHoverableContent,m=l??c.delayDuration,w=x.useRef(!1),[g,v]=ps({prop:n,defaultProp:a??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(lN))):c.onClose(),i==null||i(S)},caller:km}),b=x.useMemo(()=>g?w.current?"delayed-open":"instant-open":"closed",[g]),j=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,v(!0)},[v]),_=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),N=x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,v(!0),p.current=0},m)},[m,v]);return x.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(xb,{...u,children:s.jsx(sX,{scope:t,contentId:h,open:g,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?N():j()},[c.isOpenDelayedRef,N,j]),onTriggerLeave:x.useCallback(()=>{y?_():(window.clearTimeout(p.current),p.current=0)},[_,y]),onOpen:j,onClose:_,disableHoverableContent:y,children:r})})};U3.displayName=km;var cN="TooltipTrigger",B3=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Nb(cN,r),i=qk(cN,r),o=jb(r),l=x.useRef(null),c=dt(t,l,a.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Up,{asChild:!0,...o,children:s.jsx(Me.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ne(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ne(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ne(e.onBlur,a.onClose),onClick:Ne(e.onClick,a.onClose)})})});B3.displayName=cN;var aX="TooltipPortal",[U$e,iX]=wb(aX,{forceMount:void 0}),Ad="TooltipContent",V3=x.forwardRef((e,t)=>{const r=iX(Ad,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Nb(Ad,e.__scopeTooltip);return s.jsx(dn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(q3,{side:a,...i,ref:t}):s.jsx(oX,{side:a,...i,ref:t})})}),oX=x.forwardRef((e,t)=>{const r=Nb(Ad,e.__scopeTooltip),n=qk(Ad,e.__scopeTooltip),a=x.useRef(null),i=dt(t,a),[o,l]=x.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=x.useCallback(()=>{l(null),f(!1)},[f]),p=x.useCallback((y,m)=>{const w=y.currentTarget,g={x:y.clientX,y:y.clientY},v=fX(g,w.getBoundingClientRect()),b=hX(g,v),j=mX(m.getBoundingClientRect()),_=gX([...b,...j]);l(_),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&d){const y=w=>p(w,d),m=w=>p(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),x.useEffect(()=>{if(o){const y=m=>{const w=m.target,g={x:m.clientX,y:m.clientY},v=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!pX(g,o);v?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),s.jsx(q3,{...e,ref:i})}),[lX,cX]=wb(km,{isInside:!1}),uX=tX("TooltipContent"),q3=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Nb(Ad,r),u=jb(r),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(lN,d),()=>document.removeEventListener(lN,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(yb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(uX,{children:n}),s.jsx(lX,{scope:r,isInside:!0,children:s.jsx(MH,{id:c.contentId,role:"tooltip",children:a||n})})]})})});V3.displayName=Ad;var z3="TooltipArrow",dX=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=jb(r);return cX(z3,r).isInside?null:s.jsx(bb,{...a,...n,ref:t})});dX.displayName=z3;function fX(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function hX(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function mX(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function pX(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function gX(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),vX(t)}function vX(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var xX=F3,yX=U3,bX=B3,W3=V3;const wX=xX,jX=yX,NX=bX,K3=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(W3,{ref:n,sideOffset:t,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));K3.displayName=W3.displayName;const _X=3e4,gA=["mousemove","keydown","click","scroll","touchstart"],SX=5e3;function kX(e=!1){const[,t]=Ln(),{toast:r}=ht(),[n,a]=x.useState(null),i=x.useRef(Date.now()),o=x.useRef(null),l=x.useRef(!1),c=x.useRef(!1),u=x.useCallback(h=>{o.current&&(clearInterval(o.current),o.current=null),c.current=!1,r({variant:"destructive",title:"Session Expired",description:h||"Please log in again to continue."}),setTimeout(()=>{t("/login")},1500)},[r,t]),d=x.useCallback(async()=>{try{const p=await(await xe("POST","/api/session/heartbeat")).json();p.success&&(a({sessionRemainingMs:p.sessionRemainingMs,inactivityTimeoutMs:p.inactivityTimeoutMs,reauthTimeoutMs:p.reauthTimeoutMs,isActive:!0}),l.current=!1)}catch(h){(h==null?void 0:h.code)==="SESSION_REAUTH_REQUIRED"||(h==null?void 0:h.code)==="SESSION_INACTIVITY_TIMEOUT"?u(h.reason||h.message):((h==null?void 0:h.status)===401||(h==null?void 0:h.status)===403)&&u("Your session has expired. Please log in again.")}},[u]),f=x.useCallback(()=>{const h=Date.now();h-i.current>SX&&(i.current=h,d())},[d]);return x.useEffect(()=>{if(!(!e||c.current))return c.current=!0,d(),o.current=setInterval(d,_X),gA.forEach(h=>{window.addEventListener(h,f,{passive:!0})}),()=>{o.current&&(clearInterval(o.current),o.current=null),gA.forEach(h=>{window.removeEventListener(h,f)}),c.current=!1}},[e,d,f]),x.useEffect(()=>{if(n&&n.sessionRemainingMs<6e4&&!l.current){l.current=!0;const h=Math.ceil(n.sessionRemainingMs/6e4);r({variant:"default",title:"Session Expiring Soon",description:`Your session will expire in ${h} minute(s). You will need to log in again.`})}},[n,r]),{sessionState:n,sendHeartbeat:d}}function CX({children:e}){const{data:t,isLoading:r}=de({queryKey:["/api/auth/user"],retry:!1,staleTime:3e4});return kX(!r&&!!t),s.jsx(s.Fragment,{children:e})}var ei=function(){return ei=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ei.apply(this,arguments)};function Nf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function PX(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function EX(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const AX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class zk extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class OX extends zk{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vA extends zk{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xA extends zk{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uN||(uN={}));class TX{constructor(t,{headers:r={},customFetch:n,region:a=uN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=AX(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return PX(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let w=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(w=o.signal,d.addEventListener("abort",()=>o.abort())):w=o.signal);const g=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:w}).catch(_=>{throw new OX(_)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new vA(g);if(!g.ok)throw new xA(g);let b=((a=g.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield g.json():b==="application/octet-stream"||b==="application/pdf"?j=yield g.blob():b==="text/event-stream"?j=g:b==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof xA||l instanceof vA?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var IX=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},RX=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&w&&w.length>1&&(c=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new IX(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},MX=class extends RX{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const yA=new RegExp("[,()]");var wu=class extends MX{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&yA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&yA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},$X=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new wu({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new wu({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new wu({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new wu({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new wu({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},DX=class H3{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $X(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new H3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new wu({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class LX{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const FX="2.89.0",UX=`realtime-js/${FX}`,G3="1.0.0",BX="2.0.0",bA=G3,dN=1e4,VX=1e3,qX=100;var go;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(go||(go={}));var rn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rn||(rn={}));var Ca;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ca||(Ca={}));var fN;(function(e){e.websocket="websocket"})(fN||(fN={}));var Ml;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ml||(Ml={}));class zX{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,c.length),y.setUint8(m++,l.length),y.setUint8(m++,o.length),y.setUint8(m++,u.length),y.setUint8(m++,f.length),y.setUint8(m++,r),Array.from(c,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(l,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(o,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(f,g=>y.setUint8(m++,g.charCodeAt(0)));var w=new Uint8Array(p.byteLength+n.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(n),p.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Q3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lr||(lr={}));const wA=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=WX(o,e,t,a),i),{}):{}},WX=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?Y3(i,o):hN(o)},Y3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return QX(t,r)}switch(e){case lr.bool:return KX(t);case lr.float4:case lr.float8:case lr.int2:case lr.int4:case lr.int8:case lr.numeric:case lr.oid:return HX(t);case lr.json:case lr.jsonb:return GX(t);case lr.timestamp:return YX(t);case lr.abstime:case lr.date:case lr.daterange:case lr.int4range:case lr.int8range:case lr.money:case lr.reltime:case lr.text:case lr.time:case lr.timestamptz:case lr.timetz:case lr.tsrange:case lr.tstzrange:return hN(t);default:return hN(t)}},hN=e=>e,KX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},HX=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},GX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},QX=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Y3(t,l))}return e},YX=e=>typeof e=="string"?e.replace(" ","T"):e,X3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Fw{constructor(t,r,n={},a=dN){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jA||(jA={}));class zh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zh.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=zh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=zh.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),y=d.filter(w=>p.indexOf(w.presence_ref)<0),m=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(l[u]=y),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var NA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(NA||(NA={}));var Wh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wh||(Wh={}));var _i;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_i||(_i={}));class Uu{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fw(this,Ca.join,this.params,this.timeout),this.rejoinTimer=new Q3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ca.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new zh(this),this.broadcastEndpointURL=X3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Wh.PRESENCE]&&this.bindings[Wh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(_i.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(_i.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(_i.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,g=[];for(let v=0;v<w;v++){const b=m[v],{filter:{event:j,schema:_,table:N,filter:S}}=b,C=p&&p[v];if(C&&C.event===j&&Uu.isFilterValueEqual(C.schema,_)&&Uu.isFilterValueEqual(C.table,N)&&Uu.isFilterValueEqual(C.filter,S))g.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=rn.errored,t==null||t(_i.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(_i.SUBSCRIBED);return}}).receive("error",p=>{this.state=rn.errored,t==null||t(_i.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_i.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rn.joined&&t===Wh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ca.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Fw(this,Ca.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Fw(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qX){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ca;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,m,w;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(m=p.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,m,w,g,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(y=p.filter)===null||y===void 0?void 0:y.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:w,commit_timestamp:g,type:v,errors:b}=y;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:g,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Uu.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ca.close,{},t)}_onError(t){this._on(Ca.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=wA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=wA(t.columns,t.old_record)),r}}const Uw=()=>{},Fg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XX=[1e3,2e3,5e3,1e4],JX=1e4,ZX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eJ{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dN,this.transport=null,this.heartbeatIntervalMs=Fg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uw,this.ref=0,this.reconnectTimer=null,this.vsn=bA,this.logger=Uw,this.conn=null,this.sendBuffer=[],this.serializer=new zX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${fN.websocket}`,this.httpEndpoint=X3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=LX.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case go.connecting:return Ml.Connecting;case go.open:return Ml.Open;case go.closing:return Ml.Closing;default:return Ml.Closed}}isConnected(){return this.connectionState()===Ml.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Uu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(VX,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===go.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===go.open||this.conn.readyState===go.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ca.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ZX],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:UX};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Ca.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Q3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:dN,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Fg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Uw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:bA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>XX[y-1]||JX,this.vsn){case G3:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,m)=>m(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,m)=>m(JSON.parse(y));break;case BX:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Cm=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tJ(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function rJ(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function nJ(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=tJ(e.baseUrl,n,a),c=await rJ(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,y=p==null?void 0:p.error;throw new Cm((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Ug(e){return e.join("")}var sJ=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ug(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ug(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ug(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ug(e.namespace)}`}),!0}catch(t){if(t instanceof Cm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Cm&&r.status===409)return;throw r}}};function iu(e){return e.join("")}var aJ=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Cm&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Cm&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},iJ=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=nJ({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new sJ(this.client,t),this.tableOps=new aJ(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},_b=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function _r(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var oJ=class extends _b{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},mN=class extends _b{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Wk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lJ=()=>Response,pN=e=>{if(Array.isArray(e))return e.map(r=>pN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=pN(n)}),t},cJ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uJ=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function dJ(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fJ(e){var t=dJ(e,"string");return Pm(t)=="symbol"?t:t+""}function hJ(e,t,r){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){hJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Bw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},mJ=async(e,t,r)=>{e instanceof await lJ()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new oJ(Bw(n),a,i))}).catch(n=>{t(new mN(Bw(n),n))}):t(new mN(Bw(e),e))},pJ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(cJ(n)?(a.headers=ot({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),ot(ot({},a),r))};async function Bp(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,pJ(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>mJ(c,l,n))})}async function Em(e,t,r,n){return Bp(e,"GET",t,r,n)}async function Na(e,t,r,n,a){return Bp(e,"POST",t,n,a,r)}async function gN(e,t,r,n,a){return Bp(e,"PUT",t,n,a,r)}async function gJ(e,t,r,n){return Bp(e,"HEAD",t,ot(ot({},r),{},{noResolveJson:!0}),n)}async function Kk(e,t,r,n,a){return Bp(e,"DELETE",t,n,a,r)}var vJ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}}};let J3;J3=Symbol.toStringTag;var xJ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[J3]="BlobDownloadBuilder",this.promise=null}asStream(){return new vJ(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}}};const yJ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},SA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var bJ=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Wk(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const o=ot(ot({},SA),n);let l=ot(ot({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=ot(ot({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?gN:Na)(a.fetch,`${a.url}/object/${d}`,i,ot({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=ot({upsert:SA.upsert},n),d=ot(ot({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await gN(a.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(_r(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=ot({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Na(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new _b("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Na(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await Na(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await Na(n.fetch,`${n.url}/object/sign/${a}`,ot({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await Na(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>ot(ot({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Em(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new xJ(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:pN(await Em(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await gJ(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n)&&n instanceof mN){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await Kk(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=ot(ot(ot({},yJ),t),{},{prefix:e||""});return{data:await Na(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=ot({},e);return{data:await Na(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Z3="2.89.0",eL={"X-Client-Info":`storage-js/${Z3}`};var wJ=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=ot(ot({},eL),t),this.fetch=Wk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Em(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Em(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Na(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await gN(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Na(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},jJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},eL),t),this.fetch=Wk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Na(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Em(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!uJ(e))throw new _b("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new iJ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Hk={"X-Client-Info":`storage-js/${Z3}`,"Content-Type":"application/json"};var tL=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ks(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Vw=class extends tL{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},NJ=class extends tL{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Gk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_J=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SJ=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Vw(kA(i),n,o))}).catch(()=>{const i=n+"";t(new Vw(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Vw(a.statusText||`HTTP ${n} error`,n,i))}}else t(new NJ(kA(e),e))},kJ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(_J(n)?(a.headers=ot({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,ot(ot({},a),r)):a};async function CJ(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,kJ(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>SJ(c,l,n))})}async function Cs(e,t,r,n,a){return CJ(e,"POST",t,n,a,r)}var PJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},Hk),t),this.fetch=Gk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Cs(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Cs(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}}},EJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},Hk),t),this.fetch=Gk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Cs(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Cs(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Cs(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}},AJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},Hk),t),this.fetch=Gk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}},OJ=class extends AJ{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new TJ(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},TJ=class extends PJ{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new IJ(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},IJ=class extends EJ{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},RJ=class extends wJ{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new bJ(this.url,this.headers,e,this.fetch)}get vectors(){return new OJ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new jJ(this.url+"/iceberg",this.headers,this.fetch)}};const rL="2.89.0",ju=30*1e3,vN=3,qw=vN*ju,MJ="http://localhost:9999",$J="supabase.auth.token",DJ={"X-Client-Info":`gotrue-js/${rL}`},xN="X-Supabase-Api-Version",nL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FJ=10*60*1e3;class Am extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class UJ extends Am{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function BJ(e){return Ye(e)&&e.name==="AuthApiError"}class $l extends Am{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class to extends Am{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class bs extends to{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VJ(e){return Ye(e)&&e.name==="AuthSessionMissingError"}class ou extends to{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bg extends to{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vg extends to{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qJ(e){return Ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class CA extends to{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zJ extends to{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yN extends to{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function zw(e){return Ye(e)&&e.name==="AuthRetryableFetchError"}class PA extends to{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bN extends to{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),EA=` 	
\r=`.split(""),WJ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<EA.length;t+=1)e[EA[t].charCodeAt(0)]=-2;for(let t=0;t<mx.length;t+=1)e[mx[t].charCodeAt(0)]=t;return e})();function AA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mx[n]),t.queuedBits-=6}}function sL(e,t,r){const n=WJ[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function OA(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{GJ(o,n,r)};for(let o=0;o<e.length;o+=1)sL(e.charCodeAt(o),a,i);return t.join("")}function KJ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function HJ(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}KJ(n,t)}}function GJ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function rd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)sL(e.charCodeAt(a),r,n);return new Uint8Array(t)}function QJ(e){const t=[];return HJ(e,r=>t.push(r)),new Uint8Array(t)}function Vl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>AA(a,r,n)),AA(null,r,n),t.join("")}function YJ(e){return Math.round(Date.now()/1e3)+e}function XJ(){return Symbol("auth-callback")}const jn=()=>typeof window<"u"&&typeof document<"u",wl={tested:!1,writable:!1},aL=()=>{if(!jn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wl.tested)return wl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wl.tested=!0,wl.writable=!0}catch{wl.tested=!0,wl.writable=!1}return wl.writable};function JJ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const iL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZJ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Nu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},jl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wn=async(e,t)=>{await e.removeItem(t)};class Sb{constructor(){this.promise=new Sb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Sb.promiseConstructor=Promise;function Ww(e){const t=e.split(".");if(t.length!==3)throw new bN("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!LJ.test(t[n]))throw new bN("JWT not in base64url format");return{header:JSON.parse(OA(t[0])),payload:JSON.parse(OA(t[1])),signature:rd(t[2]),raw:{header:t[0],payload:t[1]}}}async function eZ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tZ(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function rZ(e){return("0"+e.toString(16)).substr(-2)}function nZ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,rZ).join("")}async function sZ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function aZ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await sZ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lu(e,t,r=!1){const n=nZ();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Nu(e,`${t}-code-verifier`,a);const i=await aZ(n);return[i,n===i?"plain":"s256"]}const iZ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oZ(e){const t=e.headers.get(xN);if(!t||!t.match(iZ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lZ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cZ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uZ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cu(e){if(!uZ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dZ(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function TA(e){return JSON.parse(JSON.stringify(e))}const Al=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fZ=[502,503,504];async function IA(e){var t;if(!ZJ(e))throw new yN(Al(e),0);if(fZ.includes(e.status))throw new yN(Al(e),e.status);let r;try{r=await e.json()}catch(i){throw new $l(Al(i),i)}let n;const a=oZ(e);if(a&&a.getTime()>=nL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new PA(Al(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new bs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new PA(Al(r),e.status,r.weak_password.reasons);throw new UJ(Al(r),e.status||500,n)}const hZ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function it(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[xN]||(i[xN]=nL["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await mZ(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function mZ(e,t,r,n,a,i){const o=hZ(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new yN(Al(c),0)}if(l.ok||await IA(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await IA(c)}}function ba(e){var t;let r=null;vZ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=YJ(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function RA(e){const t=ba(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function jo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pZ(e){return{data:e,error:null}}function gZ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Nf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function MA(e){return e}function vZ(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hw=["global","local","others"];class xZ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=iL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Hw[0]){if(Hw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hw.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:jo})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Nf(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:gZ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jo})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:MA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ye(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){cu(t);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jo})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){cu(t);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:jo})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){cu(t);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:jo})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){cu(t.userId);try{const{data:r,error:n}=await it(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _deleteFactor(t){cu(t.userId),cu(t.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await it(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:MA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ye(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await it(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await it(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ye(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await it(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}}function $A(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const uu={debug:!!(globalThis&&aL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yZ extends oL{}async function bZ(e,t,r){uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),uu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yZ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(uu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function wZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lL(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function jZ(e){return parseInt(e,16)}function NZ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function _Z(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=lL(e.address),y=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${p}

${m}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(g+=`
Expiration Time: ${a.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);v+=`
- ${b}`}g+=v}return`${w}
${g}`}class Wr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class px extends Wr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function SZ({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Wr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Wr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Wr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Wr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Wr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Wr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(cL(o)){if(i.rp.id!==o)return new Wr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Wr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Wr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function kZ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(cL(n)){if(r.rpId!==n)return new Wr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Wr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class CZ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const PZ=new CZ;function EZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Nf(e,["challenge","user","excludeCredentials"]),i=rd(t).buffer,o=Object.assign(Object.assign({},r),{id:rd(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:rd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function AZ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Nf(e,["challenge","allowCredentials"]),a=rd(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:rd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function OZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function TZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vl(new Uint8Array(a.authenticatorData)),clientDataJSON:Vl(new Uint8Array(a.clientDataJSON)),signature:Vl(new Uint8Array(a.signature)),userHandle:a.userHandle?Vl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function DA(){var e,t;return!!(jn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function IZ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new px("Browser returned unexpected credential type",t)}:{data:null,error:new px("Empty credential response",t)}}catch(t){return{data:null,error:SZ({error:t,options:e})}}}async function RZ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new px("Browser returned unexpected credential type",t)}:{data:null,error:new px("Empty credential response",t)}}catch(t){return{data:null,error:kZ({error:t,options:e})}}}const MZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$Z={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gx(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=gx(l,o):n[i]=gx(o)}else n[i]=o}return n}function DZ(e,t){return gx(MZ,e,t||{})}function LZ(e,t){return gx($Z,e,t||{})}class FZ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??PZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=DZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await IZ({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=LZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await RZ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Ye(o)?{data:null,error:o}:{data:null,error:new $l("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Am("rpId is required for WebAuthn authentication")};try{if(!DA())return{data:null,error:new $l("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ye(o)?{data:null,error:o}:{data:null,error:new $l("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Am("rpId is required for WebAuthn registration")};try{if(!DA())return{data:null,error:new $l("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ye(o)?{data:null,error:o}:{data:null,error:new $l("Unexpected error in register",o)}}}}wZ();const UZ={url:MJ,storageKey:$J,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DJ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function LA(e,t,r){return await r()}const du={};class Om{get jwks(){var t,r;return(r=(t=du[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){du[this.storageKey]=Object.assign(Object.assign({},du[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=du[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){du[this.storageKey]=Object.assign(Object.assign({},du[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},UZ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Om.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Om.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&jn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new xZ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=iL(i.fetch),this.lock=i.lock||LA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&jn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bZ:this.lock=LA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:aL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$A(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=$A(this.memoryStorage)),jn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rL}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(jn()&&(r=JJ(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),jn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),qJ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ye(r)?this._returnResult({error:r}):this._returnResult({error:new $l("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ba}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await lu(this.storage,this.storageKey)),i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:ba})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ba})}else throw new Bg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await wn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:RA})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:RA})}else throw new Bg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new ou;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:m,wallet:w,statement:g,options:v}=t;let b;if(jn())if(typeof w=="object")b=w;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=w}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),_=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=lL(_[0]);let S=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const P=await b.request({method:"eth_chainId"});S=jZ(P)}const C={domain:j.host,address:N,statement:g,uri:j.href,version:"1",chainId:S,nonce:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=_Z(C),y=await b.request({method:"personal_sign",params:[NZ(p),N]})}try{const{data:m,error:w}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ba});if(w)throw w;if(!m||!m.session||!m.user){const g=new ou;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:w})}catch(m){if(Ye(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,p;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:w,wallet:g,statement:v,options:b}=t;let j;if(jn())if(typeof g=="object")j=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),m=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=N}}try{const{data:w,error:g}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Vl(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ba});if(g)throw g;if(!w||!w.session||!w.user){const v=new ou;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(Ye(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await jl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new zJ;const{data:i,error:o}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ba});if(await wn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new ou;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ba}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ou;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await lu(this.storage,this.storageKey));const{error:f}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Bg("You must provide either an email or phone number.")}catch(l){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ba});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ye(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await lu(this.storage,this.storageKey));const u=await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:pZ});return!((i=u.data)===null||i===void 0)&&i.url&&jn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Ye(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new bs;const{error:a}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ye(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await it(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await it(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Bg("You must provide either an email or phone number and a type")}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await jl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<qw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await jl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Kw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=dZ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:jo}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bs}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:jo})})}catch(r){if(Ye(r))return VJ(r)&&(await this._removeSession(),await wn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new bs;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await lu(this.storage,this.storageKey));const{data:u,error:d}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:jo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Ye(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bs;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Ww(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new bs;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!jn())throw new Vg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new CA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new CA("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Vg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=ju&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(Ye(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await jl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(BJ(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await wn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=XJ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await lu(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return jn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ye(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ba}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ou}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Ye(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await tZ(async a=>(a>0&&await eZ(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ba})),(a,i)=>{const o=200*Math.pow(2,a);return i&&zw(i)&&Date.now()+o-n<ju})}catch(n){if(this._debug(r,"error",n),Ye(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),jn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await jl(this.storage,this.storageKey);if(a&&this.userStorage){let o=await jl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Nu(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Kw()}else if(a&&!a.user&&!a.user){const o=await jl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await wn(this.storage,this.storageKey+"-user"),await Nu(this.storage,this.storageKey,a)):a.user=Kw()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${qw}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),zw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new bs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Sb;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new bs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ye(i)){const o={data:null,error:i};return zw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await wn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Nu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=TA(a);await Nu(this.storage,this.storageKey,i)}else{const a=TA(r);await Nu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wn(this.storage,this.storageKey),await wn(this.storage,this.storageKey+"-code-verifier"),await wn(this.storage,this.storageKey+"-user"),this.userStorage&&await wn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ju);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ju);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ju}ms, refresh threshold is ${vN} ticks`),a<=vN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await lu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await it(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await it(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?OZ(t.webauthn.credential_response):TZ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:EZ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:AZ(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ww(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await it(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new bs})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new bs});const o=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&jn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new bs});const o=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&jn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await it(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new bs})})}catch(t){if(Ye(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await it(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bs})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+FJ>a)return n;const{data:i,error:o}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Ww(n);r!=null&&r.allowExpired||lZ(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=cZ(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,QJ(`${l}.${c}`)))throw new bN("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}}Om.nextInstanceID={};const BZ=Om,VZ="2.89.0";let Sh="";typeof Deno<"u"?Sh="deno":typeof document<"u"?Sh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sh="react-native":Sh="node";const qZ={"X-Client-Info":`supabase-js-${Sh}/${VZ}`},zZ={headers:qZ},WZ={schema:"public"},KZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HZ={};function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function GZ(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QZ(e){var t=GZ(e,"string");return Tm(t)=="symbol"?t:t+""}function YZ(e,t,r){return(t=QZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(n){YZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const XZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),JZ=()=>Headers,ZZ=(e,t,r)=>{const n=XZ(r),a=JZ();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Ar(Ar({},o),{},{headers:u}))}};function eee(e){return e.endsWith("/")?e:e+"/"}function tee(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Ar(Ar({},c),a),auth:Ar(Ar({},u),i),realtime:Ar(Ar({},d),o),storage:{},global:Ar(Ar(Ar({},f),l),{},{headers:Ar(Ar({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function ree(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eee(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var nee=class extends BZ{constructor(e){super(e)}},see=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=ree(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:WZ,realtime:HZ,auth:Ar(Ar({},KZ),{},{storageKey:o}),global:zZ},c=tee(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=ZZ(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ar({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new DX(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new RJ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new TX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nee({url:this.authUrl.href,headers:Ar(Ar({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new eJ(this.realtimeUrl.href,Ar(Ar({},e),{},{params:Ar(Ar({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const aee=(e,t,r)=>new see(e,t,r);function iee(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}iee()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Gw=null,UA=!1,qg=null,Im=null,Rm=null;const oee="quarterdeck-auth";async function lee(){if(!UA)return qg||(qg=(async()=>{try{console.log("[Supabase] Loading config from /api/public-config...");const t=await(await fetch("/api/public-config")).json();if(Im=t.supabaseUrl,Rm=t.supabaseAnonKey,console.log("[Supabase] Config loaded:",{hasUrl:!!Im,hasKey:!!Rm}),typeof window<"u"){const r=Object.keys(localStorage).filter(n=>n.includes("auth")||n.includes("supabase")||n.includes("sb-"));console.log("[Supabase] Auth-related localStorage keys:",r)}}catch(e){console.error("[Supabase] Failed to load config:",e)}UA=!0})(),qg)}function uL(){return!!(Im&&Rm)}function Nl(){if(!Im||!Rm)throw new Error("Supabase is not configured. Please ensure config is loaded first.");return Gw||(console.log("[Supabase] Creating client"),Gw=aee(Im,Rm,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:oee}})),Gw}const dL=x.createContext(null);function cee({children:e}){const[t,r]=x.useState({user:null,session:null,isLoading:!0,isAuthenticated:!1}),[n,a]=x.useState(!1),[i,o]=x.useState(!1);x.useEffect(()=>{console.log("[Auth] Loading Supabase config..."),lee().then(()=>{const y=uL();console.log("[Auth] Config loaded, isConfigured:",y),o(!0),a(y)})},[]),x.useEffect(()=>{if(!i){console.log("[Auth] Waiting for config to load...");return}if(!n){console.log("[Auth] Supabase not configured, skipping auth init"),r(w=>({...w,isLoading:!1}));return}console.log("[Auth] Initializing auth...");let y;try{y=Nl()}catch(w){console.error("[Auth] Failed to get Supabase client:",w),r(g=>({...g,isLoading:!1}));return}console.log("[Auth] Getting session..."),y.auth.getSession().then(({data:{session:w},error:g})=>{var v;console.log("[Auth] getSession result:",{hasSession:!!w,user:(v=w==null?void 0:w.user)==null?void 0:v.email,error:g==null?void 0:g.message}),r({user:(w==null?void 0:w.user)??null,session:w,isLoading:!1,isAuthenticated:!!(w!=null&&w.user)}),w!=null&&w.user&&(console.log("[Auth] User found, syncing to backend..."),l(w))});const{data:{subscription:m}}=y.auth.onAuthStateChange(async(w,g)=>{var v;console.log("[Auth] onAuthStateChange:",w,(v=g==null?void 0:g.user)==null?void 0:v.email),r({user:(g==null?void 0:g.user)??null,session:g,isLoading:!1,isAuthenticated:!!(g!=null&&g.user)}),w==="SIGNED_IN"&&g&&(console.log("[Auth] User signed in, syncing to backend..."),await l(g),re.invalidateQueries({queryKey:["/api/auth/user"]})),w==="SIGNED_OUT"&&(console.log("[Auth] User signed out"),re.invalidateQueries({queryKey:["/api/auth/user"]}))});return()=>m.unsubscribe()},[i,n]);const l=async y=>{var m,w,g,v;try{const b=await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.access_token}`},body:JSON.stringify({supabaseUserId:y.user.id,email:y.user.email,firstName:((m=y.user.user_metadata)==null?void 0:m.firstName)||((w=y.user.user_metadata)==null?void 0:w.first_name),lastName:((g=y.user.user_metadata)==null?void 0:g.lastName)||((v=y.user.user_metadata)==null?void 0:v.last_name)})});if(console.log("[Auth] Sync response:",b.status),b.status===403){const j=await b.json();return console.log("[Auth] Email verification required:",j.message),{success:!1,requiresEmailVerification:!0,error:j.message}}return b.ok?{success:!0}:{success:!1,error:(await b.json()).message||"Sync failed"}}catch(b){return console.error("[Auth] Failed to sync user to backend:",b),{success:!1,error:"Network error during sync"}}},c=x.useCallback(async(y,m,w)=>{if(!n)return{error:{message:"Supabase not configured"}};const g=Nl(),{error:v}=await g.auth.signUp({email:y,password:m,options:{data:w,emailRedirectTo:`${window.location.origin}/auth/callback`}});return{error:v}},[n]),u=x.useCallback(async(y,m)=>{var b;if(!n)return console.log("[Auth] signIn failed - not configured"),{error:{message:"Supabase not configured"}};console.log("[Auth] signIn called for:",y);const w=Nl(),{data:g,error:v}=await w.auth.signInWithPassword({email:y,password:m});if(v)return console.log("[Auth] signIn error:",v.message),{error:v};if(console.log("[Auth] signIn success:",(b=g.user)==null?void 0:b.email),g.session){const j=await l(g.session);if(!j.success)return j.requiresEmailVerification?(console.log("[Auth] Email verification required, signing out..."),await w.auth.signOut(),localStorage.removeItem("quarterdeck-auth"),{error:{message:"Please verify your email address before signing in. Check your inbox for a verification link."},requiresEmailVerification:!0}):{error:{message:j.error||"Failed to establish session"}}}return{}},[n]),d=x.useCallback(async()=>{if(console.log("[Auth] signOut called"),r({user:null,session:null,isLoading:!1,isAuthenticated:!1}),re.clear(),localStorage.removeItem("quarterdeck-auth"),n)try{await Nl().auth.signOut()}catch(y){console.error("[Auth] Supabase signOut error:",y)}try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(y){console.error("[Auth] Backend logout error:",y)}console.log("[Auth] signOut complete")},[n]),f=x.useCallback(async y=>{if(!n)return{error:{message:"Supabase not configured"}};const m=Nl(),{error:w}=await m.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/auth/reset-password`});return{error:w}},[n]),h=x.useCallback(async y=>{if(!n)return{error:{message:"Supabase not configured"}};const m=Nl(),{error:w}=await m.auth.updateUser({password:y});return{error:w}},[n]),p=x.useCallback(async y=>{if(!n)return{error:{message:"Supabase not configured"}};const m=Nl(),{error:w}=await m.auth.signInWithOAuth({provider:y,options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:w}},[n]);return s.jsx(dL.Provider,{value:{...t,signUp:c,signIn:u,signInWithOAuth:p,signOut:d,resetPassword:f,updatePassword:h,isSupabaseConfigured:n,useSupabaseAuth:n},children:e})}function _f(){const e=x.useContext(dL);if(!e)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e}function uee(){const[e]=Ln(),{data:t}=de({queryKey:["/api/admin/config"],queryFn:async()=>{try{const y=await fetch("/api/admin/config");return y.ok?await y.json():{}}catch{return{}}}}),{data:r,isLoading:n}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const y=await fetch("/api/site-settings");if(!y.ok)return{};const m=await y.json();return m&&typeof m=="object"&&!m.message?m:{}}catch{return{}}}}),a=(r==null?void 0:r.whatsapp_button_visible)==="true",i=(r==null?void 0:r.whatsapp_phone)||"",o=(r==null?void 0:r.whatsapp_default_message)||"",l=(r==null?void 0:r.whatsapp_button_text)||"Chat on WhatsApp",c=t==null?void 0:t.adminPath,u=c?e.startsWith(`/${c}`):!1,d=e==="/booking"||e.startsWith("/booking/");if(n||!a||!i||u||d)return null;const f=i.replace(/[^0-9]/g,""),h=window.encodeURIComponent(o),p=`https://wa.me/${f}${o?`?text=${h}`:""}`;return s.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5A] text-white px-4 py-3 rounded-full shadow-lg transition-all duration-300 hover:scale-105 group","data-testid":"button-whatsapp-float","aria-label":l,children:[s.jsx(yG,{className:"w-6 h-6"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:l})]})}var dee=Symbol.for("react.lazy"),vx=Vy[" use ".trim().toString()];function fee(e){return typeof e=="object"&&e!==null&&"then"in e}function fL(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===dee&&"_payload"in e&&fee(e._payload)}function kb(e){const t=hee(e),r=x.forwardRef((n,a)=>{let{children:i,...o}=n;fL(i)&&typeof vx=="function"&&(i=vx(i._payload));const l=x.Children.toArray(i),c=l.find(pee);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Qk=kb("Slot");function hee(e){const t=x.forwardRef((r,n)=>{let{children:a,...i}=r;if(fL(a)&&typeof vx=="function"&&(a=vx(a._payload)),x.isValidElement(a)){const o=vee(a),l=gee(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mee=Symbol("radix.slottable");function pee(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mee}function gee(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function vee(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Yk=Mp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),M=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Qk:"button";return s.jsx(o,{className:we(Yk({variant:t,size:r,className:e})),ref:i,...a})});M.displayName="Button";function xee(){const[e,t]=x.useState(!1);x.useEffect(()=>{const n=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return s.jsx(M,{size:"icon",variant:"outline",className:`fixed bottom-6 right-20 z-50 rounded-full shadow-lg transition-all duration-300 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border border-border ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,onClick:r,"aria-label":"Scroll to top","data-testid":"button-scroll-to-top",children:s.jsx(sG,{className:"h-4 w-4"})})}function yee(){const[e]=Ln();return x.useEffect(()=>{e.includes("#")||window.scrollTo({top:0,behavior:"instant"})},[e]),null}function Vp(){const{data:e,isLoading:t,error:r}=de({queryKey:["/api/admin/config"],queryFn:async()=>{const n=await fetch("/api/admin/config",{credentials:"include"});if(!n.ok)throw new Error("Not authorized to access admin config");return n.json()},retry:!1,staleTime:18e5});return{adminPath:(e==null?void 0:e.adminPath)||"admin",isLoading:t,error:r,isAuthorized:!!e&&!r}}function bee({onLoaded:e,minDisplayTime:t=800}){const[r,n]=x.useState(0),[a,i]=x.useState(!1),{data:o}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const u=await fetch("/api/site-settings");if(!u.ok)return{};const d=await u.json();return d&&typeof d=="object"&&!d.message?d:{}}catch{return{}}},staleTime:1e3*60*10}),l=o==null?void 0:o.logo_main_url,c=(o==null?void 0:o.site_name)||"The Quarterdeck";return x.useEffect(()=>{const u=Date.now(),d=setInterval(()=>{const f=Date.now()-u,h=Math.min(f/t*100,100);n(h),h>=100&&(clearInterval(d),i(!0),setTimeout(()=>{e()},400))},16);return()=>clearInterval(d)},[t,e]),s.jsx("div",{className:`fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-background transition-opacity duration-400 ${a?"opacity-0":"opacity-100"}`,"data-testid":"logo-loader",children:s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l?s.jsx("img",{src:l,alt:c,className:"h-16 w-auto animate-pulse","data-testid":"img-loader-logo"}):s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center animate-pulse",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"Q"})}),s.jsx("div",{className:"w-48 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-100 ease-out",style:{width:`${r}%`},"data-testid":"loader-progress-bar"})}),s.jsx("p",{className:"text-sm text-muted-foreground animate-pulse","data-testid":"text-loader-status",children:"Loading..."})]})})}const wee=()=>{const[e]=Ln(),t=x.useRef(e);x.useEffect(()=>{e!==t.current&&(t.current=e)},[e])},xx="/assets/dark_elegant_sports__61a0b4ec-CXuzKOFY.jpg";function ul(){const{data:e,isLoading:t,error:r}=de({queryKey:["/api/auth/user"],queryFn:g5({on401:"returnNull"}),retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e,error:r}}function BA(){const[e,t]=x.useState("light");x.useEffect(()=>{const n=localStorage.getItem("qd-theme");n?(t(n),document.documentElement.classList.toggle("dark",n==="dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(t("dark"),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=e==="light"?"dark":"light";t(n),localStorage.setItem("qd-theme",n),document.documentElement.classList.toggle("dark",n==="dark")};return s.jsx(M,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full","data-testid":"button-theme-toggle",children:e==="light"?s.jsx(jG,{className:"w-4 h-4"}):s.jsx(MG,{className:"w-4 h-4"})})}var Qw=0;function Cb(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??VA()),document.body.insertAdjacentElement("beforeend",e[1]??VA()),Qw++,()=>{Qw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qw--}},[])}function VA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yw="focusScope.autoFocusOnMount",Xw="focusScope.autoFocusOnUnmount",qA={bubbles:!1,cancelable:!0},jee="FocusScope",qp=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=Rr(a),d=Rr(i),f=x.useRef(null),h=dt(t,m=>c(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:ho(f.current,{select:!0})},w=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||ho(f.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&ho(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const v=new MutationObserver(g);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,p.paused]),x.useEffect(()=>{if(l){WA.add(p);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(Yw,qA);l.addEventListener(Yw,u),l.dispatchEvent(g),g.defaultPrevented||(Nee(Pee(hL(l)),{select:!0}),document.activeElement===m&&ho(l))}return()=>{l.removeEventListener(Yw,u),setTimeout(()=>{const g=new CustomEvent(Xw,qA);l.addEventListener(Xw,d),l.dispatchEvent(g),g.defaultPrevented||ho(m??document.body,{select:!0}),l.removeEventListener(Xw,d),WA.remove(p)},0)}}},[l,u,d,p]);const y=x.useCallback(m=>{if(!r&&!n||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(w&&g){const v=m.currentTarget,[b,j]=_ee(v);b&&j?!m.shiftKey&&g===j?(m.preventDefault(),r&&ho(b,{select:!0})):m.shiftKey&&g===b&&(m.preventDefault(),r&&ho(j,{select:!0})):g===v&&m.preventDefault()}},[r,n,p.paused]);return s.jsx(Me.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});qp.displayName=jee;function Nee(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ho(n,{select:t}),document.activeElement!==r)return}function _ee(e){const t=hL(e),r=zA(t,e),n=zA(t.reverse(),e);return[r,n]}function hL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zA(e,t){for(const r of e)if(!See(r,{upTo:t}))return r}function See(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kee(e){return e instanceof HTMLInputElement&&"select"in e}function ho(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&kee(e)&&t&&e.select()}}var WA=Cee();function Cee(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=KA(e,t),e.unshift(t)},remove(t){var r;e=KA(e,t),(r=e[0])==null||r.resume()}}}function KA(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Pee(e){return e.filter(t=>t.tagName!=="A")}function Eee(e){const t=Aee(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(Tee);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Aee(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=Ree(a),l=Iee(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Oee=Symbol("radix.slottable");function Tee(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Oee}function Iee(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Ree(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Mee=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fu=new WeakMap,zg=new WeakMap,Wg={},Jw=0,mL=function(e){return e&&(e.host||mL(e.parentNode))},$ee=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=mL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Dee=function(e,t,r,n){var a=$ee(t,Array.isArray(e)?e:[e]);Wg[r]||(Wg[r]=new WeakMap);var i=Wg[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(fu.get(h)||0)+1,w=(i.get(h)||0)+1;fu.set(h,m),i.set(h,w),o.push(h),m===1&&y&&zg.set(h,!0),w===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),l.clear(),Jw++,function(){o.forEach(function(f){var h=fu.get(f)-1,p=i.get(f)-1;fu.set(f,h),i.set(f,p),h||(zg.has(f)||f.removeAttribute(n),zg.delete(f)),p||f.removeAttribute(r)}),Jw--,Jw||(fu=new WeakMap,fu=new WeakMap,zg=new WeakMap,Wg={})}},Pb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Mee(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Dee(n,a,r,"aria-hidden")):function(){return null}},Ev="right-scroll-bar-position",Av="width-before-scroll-bar",Lee="with-scroll-bars-hidden",Fee="--removed-body-scroll-bar-size";function Zw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Uee(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Bee=typeof window<"u"?x.useLayoutEffect:x.useEffect,HA=new WeakMap;function Vee(e,t){var r=Uee(null,function(n){return e.forEach(function(a){return Zw(a,n)})});return Bee(function(){var n=HA.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Zw(l,null)}),i.forEach(function(l){a.has(l)||Zw(l,o)})}HA.set(r,e)},[e]),r}function qee(e){return e}function zee(e,t){t===void 0&&(t=qee);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Wee(e){e===void 0&&(e={});var t=zee(null);return t.options=ei({async:!0,ssr:!1},e),t}var pL=function(e){var t=e.sideCar,r=Nf(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,ei({},r))};pL.isSideCarExport=!0;function Kee(e,t){return e.useMedium(t),pL}var gL=Wee(),ej=function(){},Eb=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:ej,onWheelCapture:ej,onTouchMoveCapture:ej}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,w=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,b=e.gapMode,j=Nf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,N=Vee([r,t]),S=ei(ei({},j),a);return x.createElement(x.Fragment,null,d&&x.createElement(_,{sideCar:gL,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:m,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:b}),o?x.cloneElement(x.Children.only(l),ei(ei({},S),{ref:N})):x.createElement(v,ei({},S,{className:c,ref:N}),l))});Eb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Eb.classNames={fullWidth:Av,zeroRight:Ev};var Hee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gee(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Hee();return t&&e.setAttribute("nonce",t),e}function Qee(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Yee(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Xee=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Gee())&&(Qee(t,r),Yee(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Jee=function(){var e=Xee();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},vL=function(){var e=Jee(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Zee={left:0,top:0,right:0,gap:0},tj=function(e){return parseInt(e||"",10)||0},ete=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[tj(r),tj(n),tj(a)]},tte=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Zee;var t=ete(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},rte=vL(),nd="data-scroll-locked",nte=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Lee,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(nd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ev,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Av,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ev," .").concat(Ev,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Av," .").concat(Av,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(nd,`] {
    `).concat(Fee,": ").concat(l,`px;
  }
`)},GA=function(){var e=parseInt(document.body.getAttribute(nd)||"0",10);return isFinite(e)?e:0},ste=function(){x.useEffect(function(){return document.body.setAttribute(nd,(GA()+1).toString()),function(){var e=GA()-1;e<=0?document.body.removeAttribute(nd):document.body.setAttribute(nd,e.toString())}},[])},ate=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;ste();var i=x.useMemo(function(){return tte(a)},[a]);return x.createElement(rte,{styles:nte(i,!t,a,r?"":"!important")})},wN=!1;if(typeof window<"u")try{var Kg=Object.defineProperty({},"passive",{get:function(){return wN=!0,!0}});window.addEventListener("test",Kg,Kg),window.removeEventListener("test",Kg,Kg)}catch{wN=!1}var hu=wN?{passive:!1}:!1,ite=function(e){return e.tagName==="TEXTAREA"},xL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ite(e)&&r[t]==="visible")},ote=function(e){return xL(e,"overflowY")},lte=function(e){return xL(e,"overflowX")},QA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=yL(e,n);if(a){var i=bL(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},cte=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ute=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},yL=function(e,t){return e==="v"?ote(t):lte(t)},bL=function(e,t){return e==="v"?cte(t):ute(t)},dte=function(e,t){return e==="h"&&t==="rtl"?-1:1},fte=function(e,t,r,n,a){var i=dte(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=bL(e,l),y=p[0],m=p[1],w=p[2],g=m-w-i*y;(y||g)&&yL(e,l)&&(f+=g,h+=y);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Hg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},YA=function(e){return[e.deltaX,e.deltaY]},XA=function(e){return e&&"current"in e?e.current:e},hte=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mte=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pte=0,mu=[];function gte(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(pte++)[0],i=x.useState(vL)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=EX([e.lockRef.current],(e.shards||[]).map(XA),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=Hg(m),v=r.current,b="deltaX"in m?m.deltaX:v[0]-g[0],j="deltaY"in m?m.deltaY:v[1]-g[1],_,N=m.target,S=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in m&&S==="h"&&N.type==="range")return!1;var C=window.getSelection(),P=C&&C.anchorNode,k=P?P===N||P.contains(N):!1;if(k)return!1;var E=QA(S,N);if(!E)return!0;if(E?_=S:(_=S==="v"?"h":"v",E=QA(S,N)),!E)return!1;if(!n.current&&"changedTouches"in m&&(b||j)&&(n.current=_),!_)return!0;var T=n.current||_;return fte(T,w,m,T==="h"?b:j)},[]),c=x.useCallback(function(m){var w=m;if(!(!mu.length||mu[mu.length-1]!==i)){var g="deltaY"in w?YA(w):Hg(w),v=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&hte(_.delta,g)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(XA).filter(Boolean).filter(function(_){return _.contains(w.target)}),j=b.length>0?l(w,b[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=x.useCallback(function(m,w,g,v){var b={name:m,delta:w,target:g,should:v,shadowParent:vte(g)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=x.useCallback(function(m){r.current=Hg(m),n.current=void 0},[]),f=x.useCallback(function(m){u(m.type,YA(m),m.target,l(m,e.lockRef.current))},[]),h=x.useCallback(function(m){u(m.type,Hg(m),m.target,l(m,e.lockRef.current))},[]);x.useEffect(function(){return mu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,hu),document.addEventListener("touchmove",c,hu),document.addEventListener("touchstart",d,hu),function(){mu=mu.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,hu),document.removeEventListener("touchmove",c,hu),document.removeEventListener("touchstart",d,hu)}},[]);var p=e.removeScrollBar,y=e.inert;return x.createElement(x.Fragment,null,y?x.createElement(i,{styles:mte(a)}):null,p?x.createElement(ate,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function vte(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xte=Kee(gL,gte);var zp=x.forwardRef(function(e,t){return x.createElement(Eb,ei({},e,{ref:t,sideCar:xte}))});zp.classNames=Eb.classNames;var Ab="Popover",[wL]=En(Ab,[cl]),Wp=cl(),[yte,dl]=wL(Ab),jL=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Wp(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=ps({prop:n,defaultProp:a??!1,onChange:i,caller:Ab});return s.jsx(xb,{...l,children:s.jsx(yte,{scope:t,contentId:Gr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:r})})};jL.displayName=Ab;var NL="PopoverAnchor",bte=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=dl(NL,r),i=Wp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Up,{...i,...n,ref:t})});bte.displayName=NL;var _L="PopoverTrigger",SL=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=dl(_L,r),i=Wp(r),o=dt(t,a.triggerRef),l=s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":AL(a.open),...n,ref:o,onClick:Ne(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Up,{asChild:!0,...i,children:l})});SL.displayName=_L;var Xk="PopoverPortal",[wte,jte]=wL(Xk,{forceMount:void 0}),kL=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=dl(Xk,t);return s.jsx(wte,{scope:t,forceMount:r,children:s.jsx(dn,{present:r||i.open,children:s.jsx(vf,{asChild:!0,container:a,children:n})})})};kL.displayName=Xk;var Od="PopoverContent",CL=x.forwardRef((e,t)=>{const r=jte(Od,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=dl(Od,e.__scopePopover);return s.jsx(dn,{present:n||i.open,children:i.modal?s.jsx(_te,{...a,ref:t}):s.jsx(Ste,{...a,ref:t})})});CL.displayName=Od;var Nte=Eee("PopoverContent.RemoveScroll"),_te=x.forwardRef((e,t)=>{const r=dl(Od,e.__scopePopover),n=x.useRef(null),a=dt(t,n),i=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return Pb(o)},[]),s.jsx(zp,{as:Nte,allowPinchZoom:!0,children:s.jsx(PL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ste=x.forwardRef((e,t)=>{const r=dl(Od,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(PL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),PL=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=dl(Od,r),p=Wp(r);return Cb(),s.jsx(qp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(yb,{"data-state":AL(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),EL="PopoverClose",kte=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=dl(EL,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});kte.displayName=EL;var Cte="PopoverArrow",Pte=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Wp(r);return s.jsx(bb,{...a,...n,ref:t})});Pte.displayName=Cte;function AL(e){return e?"open":"closed"}var Ete=jL,Ate=SL,Ote=kL,OL=CL;const Tte=Ete,Ite=Ate,TL=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Ote,{children:s.jsx(OL,{ref:a,align:t,sideOffset:r,className:we("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));TL.displayName=OL.displayName;var Rte=x.createContext(void 0);function Sf(e){const t=x.useContext(Rte);return e||t||"ltr"}function jN(e,[t,r]){return Math.min(r,Math.max(t,e))}function Mte(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Jk="ScrollArea",[IL]=En(Jk),[$te,ha]=IL(Jk),RL=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[p,y]=x.useState(null),[m,w]=x.useState(null),[g,v]=x.useState(0),[b,j]=x.useState(0),[_,N]=x.useState(!1),[S,C]=x.useState(!1),P=dt(t,E=>c(E)),k=Sf(a);return s.jsx($te,{scope:r,type:n,dir:k,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:_,onScrollbarXEnabledChange:N,scrollbarY:m,onScrollbarYChange:w,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:j,children:s.jsx(Me.div,{dir:k,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});RL.displayName=Jk;var ML="ScrollAreaViewport",$L=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=ha(ML,r),l=x.useRef(null),c=dt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});$L.displayName=ML;var mi="ScrollAreaScrollbar",Zk=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ha(mi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Dte,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Lte,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(DL,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(e2,{...n,ref:t}):null});Zk.displayName=mi;var Dte=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ha(mi,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(dn,{present:r||i,children:s.jsx(DL,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Lte=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ha(mi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Tb(()=>c("SCROLL_END"),100),[l,c]=Mte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(dn,{present:r||l!=="hidden",children:s.jsx(e2,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),DL=x.forwardRef((e,t)=>{const r=ha(mi,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=Tb(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Td(r.viewport,c),Td(r.content,c),s.jsx(dn,{present:n||i,children:s.jsx(e2,{"data-state":i?"visible":"hidden",...a,ref:t})})}),e2=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ha(mi,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=VL(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return zte(h,o.current,l,p)}return r==="horizontal"?s.jsx(Fte,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=JA(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(Ute,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=JA(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Fte=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ha(mi,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=dt(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(FL,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ob(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),zL(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bx(o.paddingLeft),paddingEnd:bx(o.paddingRight)}})}})}),Ute=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ha(mi,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=dt(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(FL,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ob(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),zL(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bx(o.paddingTop),paddingEnd:bx(o.paddingBottom)}})}})}),[Bte,LL]=IL(mi),FL=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=ha(mi,r),[y,m]=x.useState(null),w=dt(t,P=>m(P)),g=x.useRef(null),v=x.useRef(""),b=p.viewport,j=n.content-n.viewport,_=Rr(d),N=Rr(c),S=Tb(f,10);function C(P){if(g.current){const k=P.clientX-g.current.left,E=P.clientY-g.current.top;u({x:k,y:E})}}return x.useEffect(()=>{const P=k=>{const E=k.target;(y==null?void 0:y.contains(E))&&_(k,j)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,y,j,_]),x.useEffect(N,[n,N]),Td(y,S),Td(p.content,S),s.jsx(Bte,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Rr(i),onThumbPointerUp:Rr(o),onThumbPositionChange:N,onThumbPointerDown:Rr(l),children:s.jsx(Me.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:Ne(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),g.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:Ne(e.onPointerMove,C),onPointerUp:Ne(e.onPointerUp,P=>{const k=P.target;k.hasPointerCapture(P.pointerId)&&k.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),yx="ScrollAreaThumb",UL=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=LL(yx,e.__scopeScrollArea);return s.jsx(dn,{present:r||a.hasThumb,children:s.jsx(Vte,{ref:t,...n})})}),Vte=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ha(yx,r),o=LL(yx,r),{onThumbPositionChange:l}=o,c=dt(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=Tb(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Wte(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ne(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:Ne(e.onPointerUp,o.onThumbPointerUp)})});UL.displayName=yx;var t2="ScrollAreaCorner",BL=x.forwardRef((e,t)=>{const r=ha(t2,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(qte,{...e,ref:t}):null});BL.displayName=t2;var qte=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ha(t2,r),[i,o]=x.useState(0),[l,c]=x.useState(0),u=!!(i&&l);return Td(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Td(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Me.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function bx(e){return e?parseInt(e,10):0}function VL(e,t){const r=e/t;return isNaN(r)?0:r}function Ob(e){const t=VL(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function zte(e,t,r,n="ltr"){const a=Ob(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return qL([c,u],f)(e)}function JA(e,t,r="ltr"){const n=Ob(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=jN(e,c);return qL([0,o],[0,l])(u)}function qL(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function zL(e,t){return e>0&&e<t}var Wte=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Tb(e,t){const r=Rr(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Td(e,t){const r=Rr(t);Lr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var WL=RL,Kte=$L,Hte=BL;const KL=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(WL,{ref:n,className:we("relative overflow-hidden",e),...r,children:[s.jsx(Kte,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(HL,{}),s.jsx(Hte,{})]}));KL.displayName=WL.displayName;const HL=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Zk,{ref:n,orientation:t,className:we("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(UL,{className:"relative flex-1 rounded-full bg-border"})}));HL.displayName=Zk.displayName;function Jt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function tl(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const GL=6048e5,Gte=864e5,Gg=43200,ZA=1440;let Qte={};function Kp(){return Qte}function Mm(e,t){var l,c,u,d;const r=Kp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Jt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function wx(e){return Mm(e,{weekStartsOn:1})}function QL(e){const t=Jt(e),r=t.getFullYear(),n=tl(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=wx(n),i=tl(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=wx(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function eO(e){const t=Jt(e);return t.setHours(0,0,0,0),t}function jx(e){const t=Jt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function YL(e,t){const r=eO(e),n=eO(t),a=+r-jx(r),i=+n-jx(n);return Math.round((a-i)/Gte)}function Yte(e){const t=QL(e),r=tl(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),wx(r)}function Ov(e,t){const r=Jt(e),n=Jt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Xte(e){return tl(e,Date.now())}function Jte(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Zte(e){if(!Jte(e)&&typeof e!="number")return!1;const t=Jt(e);return!isNaN(Number(t))}function ere(e,t){const r=Jt(e),n=Jt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function tre(e,t){const r=Jt(e),n=Jt(t),a=tO(r,n),i=Math.abs(YL(r,n));r.setDate(r.getDate()-a*i);const o=+(tO(r,n)===-a),l=a*(i-o);return l===0?0:l}function tO(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function rre(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function nre(e,t){return+Jt(e)-+Jt(t)}function sre(e){const t=Jt(e);return t.setHours(23,59,59,999),t}function are(e){const t=Jt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ire(e){const t=Jt(e);return+sre(t)==+are(t)}function ore(e,t){const r=Jt(e),n=Jt(t),a=Ov(r,n),i=Math.abs(ere(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Ov(r,n)===-a;ire(Jt(e))&&i===1&&Ov(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function lre(e,t,r){const n=nre(e,t)/1e3;return rre(r==null?void 0:r.roundingMethod)(n)}function cre(e){const t=Jt(e),r=tl(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ure={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dre=(e,t,r)=>{let n;const a=ure[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function rj(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const fre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pre={date:rj({formats:fre,defaultWidth:"full"}),time:rj({formats:hre,defaultWidth:"full"}),dateTime:rj({formats:mre,defaultWidth:"full"})},gre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vre=(e,t,r,n)=>gre[e];function ah(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const xre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_re=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Sre={ordinalNumber:_re,era:ah({values:xre,defaultWidth:"wide"}),quarter:ah({values:yre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ah({values:bre,defaultWidth:"wide"}),day:ah({values:wre,defaultWidth:"wide"}),dayPeriod:ah({values:jre,defaultWidth:"wide",formattingValues:Nre,defaultFormattingWidth:"wide"})};function ih(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Cre(l,f=>f.test(o)):kre(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function kre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Cre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Pre(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Ere=/^(\d+)(th|st|nd|rd)?/i,Are=/\d+/i,Ore={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tre={any:[/^b/i,/^(a|c)/i]},Ire={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rre={any:[/1/i,/2/i,/3/i,/4/i]},Mre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$re={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Lre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ure={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bre={ordinalNumber:Pre({matchPattern:Ere,parsePattern:Are,valueCallback:e=>parseInt(e,10)}),era:ih({matchPatterns:Ore,defaultMatchWidth:"wide",parsePatterns:Tre,defaultParseWidth:"any"}),quarter:ih({matchPatterns:Ire,defaultMatchWidth:"wide",parsePatterns:Rre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ih({matchPatterns:Mre,defaultMatchWidth:"wide",parsePatterns:$re,defaultParseWidth:"any"}),day:ih({matchPatterns:Dre,defaultMatchWidth:"wide",parsePatterns:Lre,defaultParseWidth:"any"}),dayPeriod:ih({matchPatterns:Fre,defaultMatchWidth:"any",parsePatterns:Ure,defaultParseWidth:"any"})},XL={code:"en-US",formatDistance:dre,formatLong:pre,formatRelative:vre,localize:Sre,match:Bre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vre(e){const t=Jt(e);return YL(t,cre(t))+1}function qre(e){const t=Jt(e),r=+wx(t)-+Yte(t);return Math.round(r/GL)+1}function JL(e,t){var d,f,h,p;const r=Jt(e),n=r.getFullYear(),a=Kp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=tl(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Mm(o,t),c=tl(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Mm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function zre(e,t){var l,c,u,d;const r=Kp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=JL(e,t),i=tl(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Mm(i,t)}function Wre(e,t){const r=Jt(e),n=+Mm(r,t)-+zre(r,t);return Math.round(n/GL)+1}function Yt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const uo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Yt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Yt(r+1,2)},d(e,t){return Yt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Yt(e.getHours()%12||12,t.length)},H(e,t){return Yt(e.getHours(),t.length)},m(e,t){return Yt(e.getMinutes(),t.length)},s(e,t){return Yt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Yt(a,t.length)}},pu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return uo.y(e,t)},Y:function(e,t,r,n){const a=JL(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Yt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Yt(i,t.length)},R:function(e,t){const r=QL(e);return Yt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Yt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Yt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Yt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return uo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Yt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Wre(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Yt(a,t.length)},I:function(e,t,r){const n=qre(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Yt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):uo.d(e,t)},D:function(e,t,r){const n=Vre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Yt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Yt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Yt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Yt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=pu.noon:n===0?a=pu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=pu.evening:n>=12?a=pu.afternoon:n>=4?a=pu.morning:a=pu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return uo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):uo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Yt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Yt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):uo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):uo.s(e,t)},S:function(e,t){return uo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return sO(n);case"XXXX":case"XX":return Ol(n);case"XXXXX":case"XXX":default:return Ol(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return sO(n);case"xxxx":case"xx":return Ol(n);case"xxxxx":case"xxx":default:return Ol(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nO(n,":");case"OOOO":default:return"GMT"+Ol(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nO(n,":");case"zzzz":default:return"GMT"+Ol(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Yt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Yt(n,t.length)}};function nO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Yt(i,2)}function sO(e,t){return e%60===0?(e>0?"-":"+")+Yt(Math.abs(e)/60,2):Ol(e,t)}function Ol(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Yt(Math.trunc(n/60),2),i=Yt(n%60,2);return r+a+t+i}const aO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ZL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Kre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return aO(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",aO(n,t)).replace("{{time}}",ZL(a,t))},Hre={p:ZL,P:Kre},Gre=/^D+$/,Qre=/^Y+$/,Yre=["D","DD","YY","YYYY"];function Xre(e){return Gre.test(e)}function Jre(e){return Qre.test(e)}function Zre(e,t,r){const n=ene(e,t,r);if(console.warn(n),Yre.includes(e))throw new RangeError(n)}function ene(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nne=/^'([^]*?)'?$/,sne=/''/g,ane=/[a-zA-Z]/;function Xn(e,t,r){var d,f,h,p;const n=Kp(),a=n.locale??XL,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=Jt(e);if(!Zte(l))throw new RangeError("Invalid time value");let c=t.match(rne).map(y=>{const m=y[0];if(m==="p"||m==="P"){const w=Hre[m];return w(y,a.formatLong)}return y}).join("").match(tne).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const m=y[0];if(m==="'")return{isToken:!1,value:ine(y)};if(rO[m])return{isToken:!0,value:y};if(m.match(ane))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const m=y.value;(Jre(m)||Xre(m))&&Zre(m,t,String(e));const w=rO[m[0]];return w(l,m,a.localize,u)}).join("")}function ine(e){const t=e.match(nne);return t?t[1].replace(sne,"'"):e}function one(e,t,r){const n=Kp(),a=(r==null?void 0:r.locale)??n.locale??XL,i=2520,o=Ov(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Jt(t),u=Jt(e)):(c=Jt(e),u=Jt(t));const d=lre(u,c),f=(jx(u)-jx(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<ZA){const y=Math.round(h/60);return a.formatDistance("aboutXHours",y,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Gg){const y=Math.round(h/ZA);return a.formatDistance("xDays",y,l)}else if(h<Gg*2)return p=Math.round(h/Gg),a.formatDistance("aboutXMonths",p,l)}if(p=ore(u,c),p<12){const y=Math.round(h/Gg);return a.formatDistance("xMonths",y,l)}else{const y=p%12,m=Math.trunc(p/12);return y<3?a.formatDistance("aboutXYears",m,l):y<9?a.formatDistance("overXYears",m,l):a.formatDistance("almostXYears",m+1,l)}}function eF(e,t){return one(e,Xte(e),t)}function lne(){const[e,t]=x.useState(!1),{data:r=[],isLoading:n}=de({queryKey:["/api/notifications"]}),{data:a}=de({queryKey:["/api/notifications/unread-count"]}),i=ye({mutationFn:async f=>{await xe("POST",`/api/notifications/${f}/read`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),o=ye({mutationFn:async()=>{await xe("POST","/api/notifications/read-all")},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=ye({mutationFn:async f=>{await xe("DELETE",`/api/notifications/${f}`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),c=(a==null?void 0:a.count)||0,u=f=>{switch(f){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},d=f=>{f.isRead||i.mutate(f.id),f.link&&t(!1)};return s.jsxs(Tte,{open:e,onOpenChange:t,children:[s.jsx(Ite,{asChild:!0,children:s.jsxs(M,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[s.jsx(pc,{className:"w-5 h-5"}),c>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] px-1 text-xs font-medium text-white bg-red-500 rounded-full","data-testid":"notification-count",children:c>99?"99+":c})]})}),s.jsxs(TL,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),c>0&&s.jsxs(M,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-mark-all-read",children:[s.jsx(wr,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),s.jsx(KL,{className:"h-[300px]",children:n?s.jsx("div",{className:"flex items-center justify-center h-20",children:s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-primary border-t-transparent rounded-full"})}):r.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-sm text-muted-foreground",children:[s.jsx(pc,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No notifications"})]}):s.jsx("div",{className:"divide-y",children:r.map(f=>s.jsx("div",{className:`p-3 group ${f.isRead?"":"bg-muted/50"}`,"data-testid":`notification-item-${f.id}`,children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${u(f.type)}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[f.link?s.jsx(ge,{href:f.link,onClick:()=>d(f),children:s.jsx("p",{className:"text-sm font-medium cursor-pointer hover:underline",children:f.title})}):s.jsx("p",{className:"text-sm font-medium",children:f.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:f.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:eF(new Date(f.createdAt),{addSuffix:!0})})]}),s.jsxs("div",{className:"flex items-start gap-1 invisible group-hover:visible",children:[!f.isRead&&s.jsx(M,{variant:"ghost",size:"icon",className:"w-6 h-6",onClick:()=>i.mutate(f.id),disabled:i.isPending,"data-testid":`button-mark-read-${f.id}`,children:s.jsx(wr,{className:"w-3 h-3"})}),s.jsx(M,{variant:"ghost",size:"icon",className:"w-6 h-6 text-destructive",onClick:()=>l.mutate(f.id),disabled:l.isPending,"data-testid":`button-delete-notification-${f.id}`,children:s.jsx(hr,{className:"w-3 h-3"})})]})]})},f.id))})}),s.jsx("div",{className:"p-2 border-t",children:s.jsx(ge,{href:"/profile?tab=notifications",onClick:()=>t(!1),children:s.jsx(M,{variant:"ghost",className:"w-full text-xs h-8","data-testid":"button-view-all-notifications",children:"View all notifications"})})})]})]})}var nj="rovingFocusGroup.onEntryFocus",cne={bubbles:!1,cancelable:!0},Hp="RovingFocusGroup",[NN,tF,une]=Ip(Hp),[dne,Ib]=En(Hp,[une]),[fne,hne]=dne(Hp),rF=x.forwardRef((e,t)=>s.jsx(NN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(NN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(mne,{...e,ref:t})})}));rF.displayName=Hp;var mne=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),p=dt(t,h),y=Sf(i),[m,w]=ps({prop:o,defaultProp:l??null,onChange:c,caller:Hp}),[g,v]=x.useState(!1),b=Rr(u),j=tF(r),_=x.useRef(!1),[N,S]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(nj,b),()=>C.removeEventListener(nj,b)},[b]),s.jsx(fne,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:x.useCallback(C=>w(C),[w]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>S(C=>C-1),[]),children:s.jsx(Me.div,{tabIndex:g||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{_.current=!0}),onFocus:Ne(e.onFocus,C=>{const P=!_.current;if(C.target===C.currentTarget&&P&&!g){const k=new CustomEvent(nj,cne);if(C.currentTarget.dispatchEvent(k),!k.defaultPrevented){const E=j().filter(O=>O.focusable),T=E.find(O=>O.active),I=E.find(O=>O.id===m),D=[T,I,...E].filter(Boolean).map(O=>O.ref.current);aF(D,d)}}_.current=!1}),onBlur:Ne(e.onBlur,()=>v(!1))})})}),nF="RovingFocusGroupItem",sF=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Gr(),u=i||c,d=hne(nF,r),f=d.currentTabStopId===u,h=tF(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=d;return x.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),s.jsx(NN.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ne(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:Ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ne(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const g=vne(w,d.orientation,d.dir);if(g!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=h().filter(j=>j.focusable).map(j=>j.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const j=b.indexOf(w.currentTarget);b=d.loop?xne(b,j+1):b.slice(j+1)}setTimeout(()=>aF(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});sF.displayName=nF;var pne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gne(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vne(e,t,r){const n=gne(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return pne[n]}function aF(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function xne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var iF=rF,oF=sF;function yne(e){const t=bne(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(jne);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function bne(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=_ne(a),l=Nne(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wne=Symbol("radix.slottable");function jne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wne}function Nne(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function _ne(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var _N=["Enter"," "],Sne=["ArrowDown","PageUp","Home"],lF=["ArrowUp","PageDown","End"],kne=[...Sne,...lF],Cne={ltr:[..._N,"ArrowRight"],rtl:[..._N,"ArrowLeft"]},Pne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gp="Menu",[$m,Ene,Ane]=Ip(Gp),[Dc,cF]=En(Gp,[Ane,cl,Ib]),Rb=cl(),uF=Ib(),[One,Lc]=Dc(Gp),[Tne,Qp]=Dc(Gp),dF=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Rb(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Rr(i),h=Sf(a);return x.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(xb,{...l,children:s.jsx(One,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(Tne,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};dF.displayName=Gp;var Ine="MenuAnchor",r2=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Rb(r);return s.jsx(Up,{...a,...n,ref:t})});r2.displayName=Ine;var n2="MenuPortal",[Rne,fF]=Dc(n2,{forceMount:void 0}),hF=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Lc(n2,t);return s.jsx(Rne,{scope:t,forceMount:r,children:s.jsx(dn,{present:r||i.open,children:s.jsx(vf,{asChild:!0,container:a,children:n})})})};hF.displayName=n2;var sa="MenuContent",[Mne,s2]=Dc(sa),mF=x.forwardRef((e,t)=>{const r=fF(sa,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Lc(sa,e.__scopeMenu),o=Qp(sa,e.__scopeMenu);return s.jsx($m.Provider,{scope:e.__scopeMenu,children:s.jsx(dn,{present:n||i.open,children:s.jsx($m.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx($ne,{...a,ref:t}):s.jsx(Dne,{...a,ref:t})})})})}),$ne=x.forwardRef((e,t)=>{const r=Lc(sa,e.__scopeMenu),n=x.useRef(null),a=dt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return Pb(i)},[]),s.jsx(a2,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Dne=x.forwardRef((e,t)=>{const r=Lc(sa,e.__scopeMenu);return s.jsx(a2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Lne=yne("MenuContent.ScrollLock"),a2=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...m}=e,w=Lc(sa,r),g=Qp(sa,r),v=Rb(r),b=uF(r),j=Ene(r),[_,N]=x.useState(null),S=x.useRef(null),C=dt(t,S,w.onContentChange),P=x.useRef(0),k=x.useRef(""),E=x.useRef(0),T=x.useRef(null),I=x.useRef("right"),R=x.useRef(0),D=y?zp:x.Fragment,O=y?{as:Lne,allowPinchZoom:!0}:void 0,W=$=>{var te,be;const Q=k.current+$,X=j().filter(ae=>!ae.disabled),U=document.activeElement,J=(te=X.find(ae=>ae.ref.current===U))==null?void 0:te.textValue,z=X.map(ae=>ae.textValue),ee=Yne(z,Q,J),pe=(be=X.find(ae=>ae.textValue===ee))==null?void 0:be.ref.current;(function ae(B){k.current=B,window.clearTimeout(P.current),B!==""&&(P.current=window.setTimeout(()=>ae(""),1e3))})(Q),pe&&setTimeout(()=>pe.focus())};x.useEffect(()=>()=>window.clearTimeout(P.current),[]),Cb();const A=x.useCallback($=>{var X,U;return I.current===((X=T.current)==null?void 0:X.side)&&Jne($,(U=T.current)==null?void 0:U.area)},[]);return s.jsx(Mne,{scope:r,searchRef:k,onItemEnter:x.useCallback($=>{A($)&&$.preventDefault()},[A]),onItemLeave:x.useCallback($=>{var Q;A($)||((Q=S.current)==null||Q.focus(),N(null))},[A]),onTriggerLeave:x.useCallback($=>{A($)&&$.preventDefault()},[A]),pointerGraceTimerRef:E,onPointerGraceIntentChange:x.useCallback($=>{T.current=$},[]),children:s.jsx(D,{...O,children:s.jsx(qp,{asChild:!0,trapped:a,onMountAutoFocus:Ne(i,$=>{var Q;$.preventDefault(),(Q=S.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:s.jsx(iF,{asChild:!0,...b,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:N,onEntryFocus:Ne(c,$=>{g.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(yb,{role:"menu","aria-orientation":"vertical","data-state":AF(w.open),"data-radix-menu-content":"",dir:g.dir,...v,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:Ne(m.onKeyDown,$=>{const X=$.target.closest("[data-radix-menu-content]")===$.currentTarget,U=$.ctrlKey||$.altKey||$.metaKey,J=$.key.length===1;X&&($.key==="Tab"&&$.preventDefault(),!U&&J&&W($.key));const z=S.current;if($.target!==z||!kne.includes($.key))return;$.preventDefault();const pe=j().filter(te=>!te.disabled).map(te=>te.ref.current);lF.includes($.key)&&pe.reverse(),Gne(pe)}),onBlur:Ne(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(P.current),k.current="")}),onPointerMove:Ne(e.onPointerMove,Dm($=>{const Q=$.target,X=R.current!==$.clientX;if($.currentTarget.contains(Q)&&X){const U=$.clientX>R.current?"right":"left";I.current=U,R.current=$.clientX}}))})})})})})})});mF.displayName=sa;var Fne="MenuGroup",i2=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"group",...n,ref:t})});i2.displayName=Fne;var Une="MenuLabel",pF=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});pF.displayName=Une;var Nx="MenuItem",iO="menu.itemSelect",Mb=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=x.useRef(null),o=Qp(Nx,e.__scopeMenu),l=s2(Nx,e.__scopeMenu),c=dt(t,i),u=x.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(iO,{bubbles:!0,cancelable:!0});f.addEventListener(iO,p=>n==null?void 0:n(p),{once:!0}),Nk(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(gF,{...a,ref:c,disabled:r,onClick:Ne(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ne(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ne(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||_N.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Mb.displayName=Nx;var gF=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=s2(Nx,r),l=uF(r),c=x.useRef(null),u=dt(t,c),[d,f]=x.useState(!1),[h,p]=x.useState("");return x.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),s.jsx($m.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(oF,{asChild:!0,...l,focusable:!n,children:s.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ne(e.onPointerMove,Dm(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(e.onPointerLeave,Dm(y=>o.onItemLeave(y))),onFocus:Ne(e.onFocus,()=>f(!0)),onBlur:Ne(e.onBlur,()=>f(!1))})})})}),Bne="MenuCheckboxItem",vF=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(jF,{scope:e.__scopeMenu,checked:r,children:s.jsx(Mb,{role:"menuitemcheckbox","aria-checked":_x(r)?"mixed":r,...a,ref:t,"data-state":l2(r),onSelect:Ne(a.onSelect,()=>n==null?void 0:n(_x(r)?!0:!r),{checkForDefaultPrevented:!1})})})});vF.displayName=Bne;var xF="MenuRadioGroup",[Vne,qne]=Dc(xF,{value:void 0,onValueChange:()=>{}}),yF=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Rr(n);return s.jsx(Vne,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(i2,{...a,ref:t})})});yF.displayName=xF;var bF="MenuRadioItem",wF=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=qne(bF,e.__scopeMenu),i=r===a.value;return s.jsx(jF,{scope:e.__scopeMenu,checked:i,children:s.jsx(Mb,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":l2(i),onSelect:Ne(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});wF.displayName=bF;var o2="MenuItemIndicator",[jF,zne]=Dc(o2,{checked:!1}),NF=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=zne(o2,r);return s.jsx(dn,{present:n||_x(i.checked)||i.checked===!0,children:s.jsx(Me.span,{...a,ref:t,"data-state":l2(i.checked)})})});NF.displayName=o2;var Wne="MenuSeparator",_F=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});_F.displayName=Wne;var Kne="MenuArrow",SF=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Rb(r);return s.jsx(bb,{...a,...n,ref:t})});SF.displayName=Kne;var Hne="MenuSub",[B$e,kF]=Dc(Hne),kh="MenuSubTrigger",CF=x.forwardRef((e,t)=>{const r=Lc(kh,e.__scopeMenu),n=Qp(kh,e.__scopeMenu),a=kF(kh,e.__scopeMenu),i=s2(kh,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(r2,{asChild:!0,...u,children:s.jsx(gF,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":AF(r.open),...e,ref:Jn(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ne(e.onPointerMove,Dm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ne(e.onPointerLeave,Dm(f=>{var p,y;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(y=r.content)==null?void 0:y.dataset.side,w=m==="right",g=w?-5:5,v=h[w?"left":"right"],b=h[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:v,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:v,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||Cne[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});CF.displayName=kh;var PF="MenuSubContent",EF=x.forwardRef((e,t)=>{const r=fF(sa,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Lc(sa,e.__scopeMenu),o=Qp(sa,e.__scopeMenu),l=kF(PF,e.__scopeMenu),c=x.useRef(null),u=dt(t,c);return s.jsx($m.Provider,{scope:e.__scopeMenu,children:s.jsx(dn,{present:n||i.open,children:s.jsx($m.Slot,{scope:e.__scopeMenu,children:s.jsx(a2,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ne(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ne(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Pne[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});EF.displayName=PF;function AF(e){return e?"open":"closed"}function _x(e){return e==="indeterminate"}function l2(e){return _x(e)?"indeterminate":e?"checked":"unchecked"}function Gne(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Qne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Yne(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Qne(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Xne(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Jne(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Xne(r,t)}function Dm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Zne=dF,ese=r2,tse=hF,rse=mF,nse=i2,sse=pF,ase=Mb,ise=vF,ose=yF,lse=wF,cse=NF,use=_F,dse=SF,fse=CF,hse=EF,$b="DropdownMenu",[mse]=En($b,[cF]),rs=cF(),[pse,OF]=mse($b),TF=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=rs(t),u=x.useRef(null),[d,f]=ps({prop:a,defaultProp:i??!1,onChange:o,caller:$b});return s.jsx(pse,{scope:t,triggerId:Gr(),triggerRef:u,contentId:Gr(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(Zne,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};TF.displayName=$b;var IF="DropdownMenuTrigger",RF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=OF(IF,r),o=rs(r);return s.jsx(ese,{asChild:!0,...o,children:s.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Jn(t,i.triggerRef),onPointerDown:Ne(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ne(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});RF.displayName=IF;var gse="DropdownMenuPortal",MF=e=>{const{__scopeDropdownMenu:t,...r}=e,n=rs(t);return s.jsx(tse,{...n,...r})};MF.displayName=gse;var $F="DropdownMenuContent",DF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=OF($F,r),i=rs(r),o=x.useRef(!1);return s.jsx(rse,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ne(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DF.displayName=$F;var vse="DropdownMenuGroup",xse=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(nse,{...a,...n,ref:t})});xse.displayName=vse;var yse="DropdownMenuLabel",LF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(sse,{...a,...n,ref:t})});LF.displayName=yse;var bse="DropdownMenuItem",FF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(ase,{...a,...n,ref:t})});FF.displayName=bse;var wse="DropdownMenuCheckboxItem",UF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(ise,{...a,...n,ref:t})});UF.displayName=wse;var jse="DropdownMenuRadioGroup",Nse=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(ose,{...a,...n,ref:t})});Nse.displayName=jse;var _se="DropdownMenuRadioItem",BF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(lse,{...a,...n,ref:t})});BF.displayName=_se;var Sse="DropdownMenuItemIndicator",VF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(cse,{...a,...n,ref:t})});VF.displayName=Sse;var kse="DropdownMenuSeparator",qF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(use,{...a,...n,ref:t})});qF.displayName=kse;var Cse="DropdownMenuArrow",Pse=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(dse,{...a,...n,ref:t})});Pse.displayName=Cse;var Ese="DropdownMenuSubTrigger",zF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(fse,{...a,...n,ref:t})});zF.displayName=Ese;var Ase="DropdownMenuSubContent",WF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(hse,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WF.displayName=Ase;var Ose=TF,Tse=RF,Ise=MF,KF=DF,HF=LF,GF=FF,QF=UF,YF=BF,XF=VF,JF=qF,ZF=zF,e6=WF;const oO=Ose,lO=Tse,Rse=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(ZF,{ref:a,className:we("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(ca,{className:"ml-auto"})]}));Rse.displayName=ZF.displayName;const Mse=x.forwardRef(({className:e,...t},r)=>s.jsx(e6,{ref:r,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Mse.displayName=e6.displayName;const SN=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Ise,{children:s.jsx(KF,{ref:n,sideOffset:t,className:we("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));SN.displayName=KF.displayName;const Ch=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(GF,{ref:n,className:we("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Ch.displayName=GF.displayName;const $se=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(QF,{ref:a,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(XF,{children:s.jsx(wr,{className:"h-4 w-4"})})}),t]}));$se.displayName=QF.displayName;const Dse=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(YF,{ref:n,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(XF,{children:s.jsx(lG,{className:"h-2 w-2 fill-current"})})}),t]}));Dse.displayName=YF.displayName;const Lse=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(HF,{ref:n,className:we("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Lse.displayName=HF.displayName;const kN=x.forwardRef(({className:e,...t},r)=>s.jsx(JF,{ref:r,className:we("-mx-1 my-1 h-px bg-muted",e),...t}));kN.displayName=JF.displayName;const Fse={target:na,dumbbell:q5,crosshair:$c,building:Ck,landmark:gG,shield:ui,waves:UG,gamepad:hG,music:SG,mountain:NG,bike:iG,sword:$G,flame:fG,activity:nG,trophy:os,calendar:mr},Use=e=>{const t=Fse[(e||"target").toLowerCase()]||na;return s.jsx(t,{className:"w-4 h-4"})},Qg=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");function sr({onScrollTo:e}){const[t,r]=x.useState(!1),{user:n,isAuthenticated:a}=ul(),[i]=Ln(),{data:o}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const m=await fetch("/api/site-settings");if(!m.ok)return{};const w=await m.json();return w&&typeof w=="object"&&!w.message?w:{}}catch{return{}}}}),{data:l}=de({queryKey:["/api/admin/config"],enabled:a&&((n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN")}),{data:c}=de({queryKey:["/api/facilities"],queryFn:async()=>{try{const m=await fetch("/api/facilities");if(!m.ok)return[];const w=await m.json();return Array.isArray(w)?w:[]}catch{return[]}}}),u=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN",d=x.useMemo(()=>{const m=(c||[]).filter(w=>!w.isHidden).map(w=>({label:w.name,href:`/facilities/${w.slug}`,icon:Use(w.icon)}));return[{label:"Facilities",items:m.length>0?m:[{label:"Padel Tennis",href:"/facilities/padel-tennis",icon:s.jsx(na,{className:"w-4 h-4"})},{label:"Squash Courts",href:"/facilities/squash",icon:s.jsx(q5,{className:"w-4 h-4"})},{label:"Air Rifle Range",href:"/facilities/air-rifle-range",icon:s.jsx($c,{className:"w-4 h-4"})},{label:"Multipurpose Hall",href:"/facilities/multipurpose-hall",icon:s.jsx(Ck,{className:"w-4 h-4"})}]},{label:"Experiences",items:[{label:"Events & Academies",href:"/events",icon:s.jsx(mr,{className:"w-4 h-4"})},{label:"Leaderboard",href:"/leaderboard",icon:s.jsx(os,{className:"w-4 h-4"})},{label:"Gallery",href:"/gallery",icon:s.jsx(ra,{className:"w-4 h-4"})}]},{label:"Community",items:[{label:"Blog",href:"/blog",icon:s.jsx(Z1,{className:"w-4 h-4"})},{label:"Testimonials",href:"/testimonials",icon:s.jsx(Tk,{className:"w-4 h-4"})},{label:"Updates",href:"/updates",icon:s.jsx(pc,{className:"w-4 h-4"})}]},{label:"About",items:[{label:"Vision",href:"/vision",icon:s.jsx(Zn,{className:"w-4 h-4"})},{label:"Contact",href:"/contact",icon:s.jsx(jm,{className:"w-4 h-4"})},{label:"FAQ",href:"/faq",icon:s.jsx(Ts,{className:"w-4 h-4"})},{label:"Club Rules",href:"/rules",icon:s.jsx(OG,{className:"w-4 h-4"})}]}]},[c]);x.useEffect(()=>{if(i==="/"){const m=sessionStorage.getItem("scrollToSection");m&&(sessionStorage.removeItem("scrollToSection"),setTimeout(()=>{const w=document.getElementById(m);if(w){const v=w.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:v,behavior:"smooth"})}},100))}},[i]);const f=(m,w="")=>(o==null?void 0:o[m])||w,h=f("logo_main_url"),p=f("site_name","The Quarterdeck"),y=f("site_tagline","Sports & Recreation Complex");return s.jsxs("header",{className:"sticky top-0 z-50 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-15 dark:opacity-25",style:{backgroundImage:`url(${xx})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("nav",{className:"h-[70px] flex items-center justify-between gap-8",children:[s.jsx(ge,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-logo",children:[h?s.jsx("img",{src:h,alt:p,className:"h-10 w-auto object-contain","data-testid":"img-site-logo"}):s.jsx("div",{className:"qd-logo-mark",children:"Q"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:p}),s.jsx("div",{className:"text-xs text-primary-foreground/70",children:y})]})]})}),s.jsx("div",{className:"hidden lg:flex items-center gap-6 text-sm text-primary-foreground/70",children:d.map(m=>s.jsxs(oO,{children:[s.jsx(lO,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-1 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":`button-nav-${Qg(m.label)}`,children:[m.label," ",s.jsx(la,{className:"w-3 h-3"})]})}),s.jsx(SN,{align:"start",className:"w-52",children:m.items.map(w=>s.jsx(ge,{href:w.href,children:s.jsxs(Ch,{className:"cursor-pointer gap-2","data-testid":`menu-item-${Qg(w.label)}`,children:[w.icon,w.label]})},w.href))})]},m.label))}),s.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[s.jsx(BA,{}),a?s.jsxs(s.Fragment,{children:[s.jsx(lne,{}),s.jsx(ge,{href:"/booking",children:s.jsx(M,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})}),s.jsxs(oO,{children:[s.jsx(lO,{asChild:!0,children:s.jsxs(M,{variant:"outline",className:"rounded-full gap-2","data-testid":"button-user-menu",children:[s.jsx(cs,{className:"w-4 h-4"}),(n==null?void 0:n.firstName)||"Account",s.jsx(la,{className:"w-3 h-3"})]})}),s.jsxs(SN,{align:"end",className:"w-48",children:[s.jsx(ge,{href:"/profile",children:s.jsxs(Ch,{className:"cursor-pointer","data-testid":"menu-item-profile",children:[s.jsx(cs,{className:"w-4 h-4 mr-2"}),"My Profile"]})}),u&&(l==null?void 0:l.adminPath)&&s.jsxs(s.Fragment,{children:[s.jsx(kN,{}),s.jsx(ge,{href:`/${l.adminPath}`,children:s.jsxs(Ch,{className:"cursor-pointer","data-testid":"menu-item-admin",children:[s.jsx(Nm,{className:"w-4 h-4 mr-2"}),"Admin Dashboard"]})})]}),s.jsx(kN,{}),s.jsx("a",{href:"/api/logout",children:s.jsxs(Ch,{className:"cursor-pointer text-destructive","data-testid":"menu-item-logout",children:[s.jsx(YE,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{href:"/login",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-login",children:"Log In"})}),s.jsx(ge,{href:"/booking",children:s.jsx(M,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})})]})]}),s.jsx("button",{className:"lg:hidden p-2",onClick:()=>r(!t),"aria-label":"Toggle navigation","data-testid":"button-mobile-menu",children:t?s.jsx(Ki,{className:"w-5 h-5 text-primary-foreground"}):s.jsx(Y5,{className:"w-5 h-5 text-primary-foreground"})})]}),t&&s.jsxs("div",{className:"lg:hidden flex flex-col gap-2 pb-4 border-t border-primary-foreground/10 pt-4 animate-qd-fade-in",children:[d.map((m,w)=>s.jsxs("div",{className:w>0?"border-t border-primary-foreground/10 pt-3 mt-2":"",children:[s.jsx("span",{className:"text-xs text-primary-foreground/50 uppercase tracking-wider","data-testid":`text-mobile-category-${Qg(m.label)}`,children:m.label}),s.jsx("div",{className:"flex flex-col gap-1 mt-2",children:m.items.map(g=>s.jsx(ge,{href:g.href,onClick:()=>r(!1),children:s.jsxs("span",{className:"flex items-center gap-2 py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground cursor-pointer","data-testid":`link-mobile-${Qg(g.label)}`,children:[g.icon," ",g.label]})},g.href))})]},m.label)),s.jsxs("div",{className:"flex items-center justify-between border-t border-primary-foreground/10 pt-4 mt-4",children:[s.jsx("span",{className:"text-sm text-primary-foreground/70",children:"Theme"}),s.jsx(BA,{})]}),s.jsx("div",{className:"flex flex-col gap-2 mt-4",children:a?s.jsxs(s.Fragment,{children:[s.jsx(ge,{href:"/profile",onClick:()=>r(!1),children:s.jsxs(M,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-profile",children:[s.jsx(cs,{className:"w-4 h-4"}),"My Profile"]})}),u&&(l==null?void 0:l.adminPath)&&s.jsx(ge,{href:`/${l.adminPath}`,onClick:()=>r(!1),children:s.jsxs(M,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-admin",children:[s.jsx(Nm,{className:"w-4 h-4"}),"Admin Dashboard"]})}),s.jsx(ge,{href:"/booking",onClick:()=>r(!1),children:s.jsx(M,{className:"w-full rounded-full","data-testid":"button-mobile-book",children:"Book Now"})}),s.jsx("a",{href:"/api/logout",children:s.jsxs(M,{variant:"outline",className:"w-full rounded-full gap-2 text-destructive","data-testid":"button-mobile-logout",children:[s.jsx(YE,{className:"w-4 h-4"}),"Log Out"]})})]}):s.jsx(s.Fragment,{children:s.jsx(ge,{href:"/login",children:s.jsx(M,{className:"w-full rounded-full","data-testid":"button-mobile-login",children:"Log In"})})})})]})]})]})}function ar(){const{data:e,isLoading:t}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const h=await fetch("/api/site-settings");if(!h.ok)return{};const p=await h.json();return p&&typeof p=="object"&&!p.message?p:{}}catch{return{}}},staleTime:3e5}),{data:r=[]}=de({queryKey:["/api/site-images","global"],queryFn:async()=>{const p=await(await fetch("/api/site-images?page=global")).json();return Array.isArray(p)?p:[]},staleTime:1e3*60*5}),n=x.useMemo(()=>{if(!Array.isArray(r))return xx;const h=r.find(p=>p.section==="footer"&&p.isActive);return(h==null?void 0:h.imageUrl)||xx},[r]),a=(h,p="")=>(e==null?void 0:e[h])||p,i=a("site_name","The Quarterdeck"),o=a("site_tagline","Sports & Recreation Complex"),l=a("instagram_url")||a("social_instagram","#"),c=a("facebook_url")||a("social_facebook","#"),u=a("linkedin_url")||a("social_linkedin","#"),d=a("youtube_url")||a("social_youtube","#"),f=new Date().getFullYear();return s.jsxs("footer",{className:"qd-footer relative overflow-hidden bg-primary dark:bg-slate-900",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-10 dark:opacity-20",style:{backgroundImage:`url(${n})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary via-primary/95 to-primary/80 dark:from-slate-900 dark:via-slate-900/95 dark:to-slate-900/80"}),s.jsx("div",{className:"qd-container relative z-10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsx(ge,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-footer-logo",children:[s.jsx("div",{className:"qd-logo-mark",children:i.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:i}),s.jsx("div",{className:"text-xs text-primary-foreground/70",children:o})]})]})}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[s.jsx(ge,{href:"/terms",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-terms",children:"Terms"})}),s.jsx(ge,{href:"/privacy",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-privacy",children:"Privacy"})}),s.jsx(ge,{href:"/careers",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-careers",children:"Careers"})})]}),s.jsxs("p",{className:"text-primary-foreground/60 text-xs",children:[" ",f," ",i,"  All rights reserved."]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Instagram","data-testid":"link-social-instagram",children:s.jsx(G5,{className:"w-4 h-4"})}),s.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Facebook","data-testid":"link-social-facebook",children:s.jsx(z5,{className:"w-4 h-4"})}),s.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"LinkedIn","data-testid":"link-social-linkedin",children:s.jsx(rN,{className:"w-4 h-4"})}),s.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"YouTube","data-testid":"link-social-youtube",children:s.jsx(BG,{className:"w-4 h-4"})})]})]})})]})}function De({className:e,...t}){return s.jsx("div",{className:we("animate-pulse rounded-md bg-muted",e),...t})}function Fr(e,t={}){const{data:r=[],isLoading:n}=de({queryKey:["/api/cms/bulk"],staleTime:3e5,retry:!1}),a={};return e.forEach(i=>{const o=r.find(l=>l.key===i);a[i]=(o==null?void 0:o.content)||t[i]||""}),{content:a,isLoading:n,getValue:i=>a[i]||t[i]||""}}const Ee={hero_title:'A bright, premium <span class="qd-hero-highlight">multi-sport arena</span> built for play, performance & community.',hero_subtitle:"The Quarterdeck brings state-of-the-art Padel Tennis, Squash, an Air Rifle Range, a Multipurpose Hall, and an Open Cafe/Bar experience into a single, purpose-built complex. We are setting the new standard for indoor sports and recreation in Islamabad.",hero_eyebrow:"Target Launch: December 25, 2025",hero_launch_date:"2025-12-25",hero_cta_1:"Explore Facilities",hero_cta_1_url:"/facilities",hero_cta_2:"View Site Updates",hero_cta_2_url:"/roadmap",hero_countdown_label:"Estimated Launch Countdown",hero_status_active:"Construction Active",hero_status_updates:"Transparent progress updates",hero_status_booking:"Early booking & waitlists planned",about_title:"About The Quarterdeck",about_subtitle:"Our core vision: Excellence in Play and Community. We are building Islamabad's premier destination for indoor sports, recreation, and social gathering.",about_cta:"See Our Vision",about_cta_url:"/vision",about_vision_title:"Vision & Philosophy",about_vision_content:"The Quarterdeck is born from a simple idea: that sports facilities should be world-class, accessible, and designed for social connection. We prioritize bright, modern architecture, superior court surfaces, and a welcoming atmosphere. Our aim is to cultivate a vibrant community around Padel, Squash, and recreational activities.",about_vision_content_2:"We are locally invested and committed to transparency throughout the construction and launch phases, ensuring the highest standards of quality and service.",about_tags:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly",about_team_title:"The Project Team",about_team_content:"The project is managed by a consortium of local real estate developers, sports enthusiasts, and seasoned facility operators. We have brought together expertise in engineering, architecture, and sports management to deliver an exceptional facility.",about_team_credits:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation",facilities_title:"Facilities at a Glance",facilities_subtitle:'The complex is engineered for high-performance sports and comfortable recreation. Click "View details" for the dedicated facility pages.',facilities_cta:"Check Court Availability",facilities_cta_url:"/booking",membership_title:"Membership & Pricing",membership_subtitle:"Choose the membership tier that fits your lifestyle. All members enjoy priority booking, exclusive discounts, and access to our world-class facilities.",membership_cta:"Inquire Now",membership_cta_url:"/membership",membership_comparison_title:"Quick Comparison",membership_footer:"Questions about membership? Contact us for more details or to discuss corporate packages.",membership_contact_cta:"Contact for Details",membership_contact_cta_url:"#contact",membership_terms_cta:"View Terms & Conditions",membership_terms_cta_url:"/terms",founding_tier_name:"Founding Member",founding_tier_label:"Limited & Exclusive",founding_tier_description:"For early supporters and investors who believe in our vision.",founding_tier_price:"PKR 35,000",founding_tier_period:"/month",founding_tier_features:"Lifetime priority booking (14-day window)|25% discount on all court bookings|10 guest passes per month|Permanent credit bonus (10%)|VIP parking & locker|Invitation to all exclusive events|Founding member recognition wall",gold_tier_name:"Gold Membership",gold_tier_label:"Premium Access",gold_tier_description:"For serious athletes and frequent players who want the best experience.",gold_tier_price:"PKR 15,000",gold_tier_period:"/month",gold_tier_features:"7-day advance booking window|20% discount on all court bookings|4 guest passes per month|Priority event registration|15% off coaching & clinics|Free equipment rental (2x/month)|Access to member lounge",silver_tier_name:"Silver Membership",silver_tier_label:"Standard Access",silver_tier_description:"Perfect for recreational players who want regular access at great value.",silver_tier_price:"PKR 5,000",silver_tier_period:"/month",silver_tier_features:"5-day advance booking window|10% discount on off-peak bookings|2 guest passes per month|10% off coaching & clinics|Member newsletter & updates|Discounted event entry",guest_tier_name:"Pay-to-Play",guest_tier_label:"Non-Member Access",guest_tier_description:"Try our facilities without commitment. Subject to availability.",guest_tier_price:"Standard",guest_tier_price_suffix:" rates",guest_tier_features:"2-day advance booking window|Access after member priority|Equipment rental available|Guest registration required|Can be upgraded to membership",contact_title:"Contact & Early Interest",contact_subtitle:"Connect with Our Development Team: Use the form to subscribe to our construction updates, inquire about corporate partnerships, or apply for our pre-launch membership waitlist.",contact_form_title:"Early Interest Form",contact_form_subtitle:"Submit your interest below and we'll keep you updated on our progress and launch.",contact_name_label:"Your Name",contact_email_label:"Your Email",contact_message_label:"Your Message/Interest (e.g., Padel Coaching, Corporate Event, Career Inquiry)",contact_submit:"Send Message",contact_email:"info@thequarterdeck.pk",contact_phone:"+92 51 1234567",contact_address:"Sector F-7, Islamabad, Pakistan",contact_socials_title:"Socials & Location",contact_socials_subtitle:"Follow our official channels for the most recent updates and progress photos:",contact_site_status_title:"Site Status",contact_site_status:"The complex is currently under active construction. No public access or walk-ins are permitted for safety reasons. All updates will be digital.",updates_title:"Construction Updates",updates_subtitle:"Transparent updates on progress, timeline, and achievements. Hover over each phase to see milestones.",updates_cta:"View Full Roadmap",updates_cta_url:"/roadmap",gallery_title:"Gallery & Progress Photos",gallery_subtitle:"Visual updates from the construction site and architectural renders of the completed facility.",gallery_cta:"View Full Gallery",gallery_cta_url:"/gallery",rules_title:"Rules & Safety Protocols",rules_subtitle:"Ensuring a safe, respectful, and high-quality environment for all members and guests. These are our key rules.",rules_cta:"View All Rules",rules_cta_url:"/rules",careers_title:"Careers at The Quarterdeck",careers_subtitle:"Join our team! We are looking for passionate, high-energy individuals to help us launch and run Islamabad's premier sports complex.",careers_cta:"View Open Positions",careers_cta_url:"/careers",events_title:"Events & Programs",events_subtitle:"Join tournaments, training academies, and social events at The Quarterdeck.",leaderboard_title:"Leaderboard",leaderboard_subtitle:"Track your progress and compete with fellow members.",footer_tagline:"Pakistan's Premier Sports & Recreation Complex",footer_copyright:"2024 The Quarterdeck. All rights reserved.",footer_quick_links_title:"Quick Links",footer_facilities_title:"Facilities",footer_legal_title:"Legal",social_instagram:"https://instagram.com/thequarterdeck",social_facebook:"https://facebook.com/thequarterdeck",social_linkedin:"https://linkedin.com/company/thequarterdeck",coming_soon_title:"Something Amazing Is Coming",coming_soon_subtitle:"Opening December 2025: Padel Courts & Cafe/Bar. Construction continues through 2026 for our 3-floor building with Multipurpose Hall & Air Rifle Range.",coming_soon_description:"The Quarterdeck will feature world-class Padel Tennis courts, Squash facilities, an Air Rifle Range, Multipurpose Hall, and an Open Cafe/Bar experience.",coming_soon_cta:"Join the Waitlist",coming_soon_cta_url:"#contact",coming_soon_progress_label:"Construction Progress",coming_soon_launch_date:"2025-12-25",coming_soon_location:"Islamabad, Pakistan",site_name:"The Quarterdeck",site_tagline:"Sports & Recreation Complex",site_launch_status:"pre-launch",navbar_book_now:"Book Now",navbar_login:"Log In",navbar_signup:"Sign Up",navbar_profile:"Profile",navbar_logout:"Log Out",navbar_admin:"Admin",navbar_dashboard:"Dashboard",footer_about_title:"About The Quarterdeck",footer_about_text:"Pakistan's premier indoor sports and recreation complex, featuring world-class Padel Tennis, Squash, Air Rifle Range, and more.",footer_newsletter_title:"Stay Updated",footer_newsletter_placeholder:"Enter your email",footer_newsletter_button:"Subscribe",footer_address_title:"Visit Us",footer_hours_title:"Opening Hours",footer_hours_weekday:"Mon-Fri: 10:00 AM - 10:00 PM",footer_hours_weekend:"Sat-Sun: 9:00 AM - 11:00 PM",footer_privacy_link:"Privacy Policy",footer_terms_link:"Terms of Service",footer_refund_link:"Refund Policy",booking_title:"Book a Court",booking_subtitle:"Select your facility, date, and time slot",booking_select_venue:"Select Venue",booking_select_facility:"Select Facility",booking_select_date:"Select Date",booking_select_time:"Select Time",booking_select_court:"Select Court",booking_duration_label:"Duration",booking_addons_title:"Add-ons",booking_summary_title:"Booking Summary",booking_confirm_button:"Confirm Booking",booking_cancel_button:"Cancel",booking_payment_title:"Payment Method",booking_no_slots:"No available slots for this date",booking_login_required:"Please log in to book",countdown_days:"Days",countdown_hours:"Hours",countdown_minutes:"Minutes",countdown_seconds:"Seconds",btn_learn_more:"Learn More",btn_view_all:"View All",btn_submit:"Submit",btn_cancel:"Cancel",btn_save:"Save Changes",btn_close:"Close",btn_back:"Go Back",btn_next:"Next",btn_previous:"Previous",whatsapp_phone:"+923001234567",whatsapp_button_text:"Chat on WhatsApp",whatsapp_button_visible:"true",whatsapp_default_message:"Hello, I have a question about The Quarterdeck.",empty_bookings:"You have no bookings yet.",empty_events:"No events scheduled at this time.",empty_leaderboard:"Leaderboard will be available after launch.",page_facilities_title:"Our Facilities",page_facilities_subtitle:"World-class sports and recreation facilities designed for excellence in Islamabad",page_facilities_ready_title:"Ready to Book?",page_facilities_ready_description:"Members can book facilities through our online booking system. Log in to access all our premium facilities and exclusive member benefits.",page_facilities_book_cta:"Book Now",page_facilities_contact_cta:"Contact Us",page_membership_title:"Membership",page_membership_subtitle:"Join The Quarterdeck community and unlock exclusive benefits, priority booking, and member-only perks.",page_membership_why_title:"Why Become a Member?",page_membership_why_description:"Enjoy exclusive access to world-class facilities, priority booking, and a vibrant community of sports enthusiasts.",page_membership_tiers_title:"Membership Tiers",page_membership_tiers_description:"Choose the membership tier that best fits your lifestyle and sports goals.",page_membership_ready_title:"Ready to Join?",page_membership_ready_description:"Create your account and choose your membership tier to start enjoying exclusive benefits today.",page_membership_create_cta:"Create Account",page_membership_contact_cta:"Contact Us",page_contact_title:"Contact Us",page_contact_subtitle:"Get in touch with The Quarterdeck team. We're here to help with bookings, memberships, and any questions you may have.",page_contact_form_title:"Send Us a Message",page_contact_success_title:"Thank You!",page_contact_success_message:"Your message has been sent successfully. We'll respond within 24-48 hours.",page_contact_info_title:"Contact Information",page_contact_social_title:"Follow Us",page_contact_faq_title:"Frequently Asked",page_careers_title:"Join Our Team",page_careers_subtitle:"Be part of Islamabad's premier sports and recreation destination",page_careers_benefits_title:"Why Work With Us",page_careers_positions_title:"Open Positions",page_careers_apply_cta:"Apply Now",page_careers_no_positions:"No open positions at this time. Check back soon!",page_events_title:"Events & Academies",page_events_subtitle:"Tournaments, leagues, and training programs",page_events_upcoming_title:"Upcoming Events",page_events_no_events:"No events scheduled at this time. Check back soon!",page_events_register_cta:"Register Now",page_gallery_title:"Gallery & Progress",page_gallery_subtitle:"Explore architectural renders, construction updates, and facility photos from The Quarterdeck sports complex.",page_gallery_construction_title:"Construction Progress",page_gallery_renders_title:"Architectural Renders",page_leaderboard_title:"Leaderboard",page_leaderboard_subtitle:"Top players across all sports at The Quarterdeck",page_leaderboard_top_players:"Top Players",page_leaderboard_coming_soon:"Leaderboard will be available after launch.",page_roadmap_title:"Development Roadmap",page_roadmap_subtitle:"Follow our journey from groundbreaking to grand opening",page_roadmap_timeline_title:"Construction Timeline",page_rules_title:"Rules & Safety",page_rules_subtitle:"For the safety and enjoyment of all members, please familiarize yourself with our facility rules",page_rules_general_title:"General Rules",page_rules_safety_title:"Safety Guidelines",page_faq_title:"Frequently Asked Questions",page_faq_subtitle:"Find answers to common questions about The Quarterdeck, memberships, bookings, and more.",page_faq_contact_cta:"Still have questions? Contact us",page_vision_title:"Our Vision",page_vision_subtitle:"Building Islamabad's premier sports and recreation destination",page_vision_mission_title:"Our Mission",page_vision_values_title:"Our Values",page_privacy_title:"Privacy Policy",page_privacy_subtitle:"Last updated: December 2025",page_terms_title:"Terms & Conditions",page_terms_subtitle:"Last updated: December 2025",page_booking_title:"Book a Court",page_booking_subtitle:"Select your facility, date, and time slot",page_booking_login_required:"Please log in to book",page_booking_select_facility:"Select Facility",error_generic:"Something went wrong. Please try again.",error_network:"Unable to connect. Please check your internet connection.",error_auth_required:"Please log in to continue.",error_permission_denied:"You do not have permission to access this.",section_about_visible:"true",section_facilities_visible:"true",section_updates_visible:"true",section_gallery_visible:"true",section_membership_visible:"true",section_rules_visible:"true",section_careers_visible:"true",section_about_order:"1",section_facilities_order:"2",section_updates_order:"3",section_gallery_order:"4",section_membership_order:"5",section_rules_order:"6",section_careers_order:"7"};function Bse(e,t=!0){return e===void 0||e===""?t:e.toLowerCase()==="true"}const cO="/assets/padel_tennis_court_i_37ae0ba3-BrkfenoQ.jpg";function Vse(){const[e,t]=x.useState({days:0,hours:0,minutes:0,seconds:0}),{data:r=[]}=de({queryKey:["/api/cms/bulk"],queryFn:async()=>{const S=await(await fetch("/api/cms/bulk")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),{data:n=[],isLoading:a}=de({queryKey:["/api/construction-phases"],queryFn:async()=>{const S=await(await fetch("/api/construction-phases")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),{data:i=[]}=de({queryKey:["/api/site-images","landing"],queryFn:async()=>{const S=await(await fetch("/api/site-images?page=landing")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),o=x.useMemo(()=>{if(!Array.isArray(i))return cO;const N=i.find(S=>S.section==="hero"&&S.isActive);return(N==null?void 0:N.imageUrl)||cO},[i]),l=x.useMemo(()=>[...n].sort((N,S)=>N.sortOrder-S.sortOrder),[n]),c=x.useMemo(()=>l.find(N=>N.isActive)||l[0],[l]),u=x.useMemo(()=>l.length===0?0:l.reduce((N,S)=>N+S.progress,0)/l.length,[l]),d=N=>{const S=r.find(C=>C.key===N);return(S==null?void 0:S.content)||Ee[N]||""},f=d("hero_launch_date")||"2026-10-01";x.useEffect(()=>{const N=new Date(`${f}T00:00:00`),S=()=>{const P=new Date,k=N.getTime()-P.getTime();if(k>0){const E=Math.floor(k/864e5),T=Math.floor(k%(1e3*60*60*24)/(1e3*60*60)),I=Math.floor(k%(1e3*60*60)/(1e3*60)),R=Math.floor(k%(1e3*60)/1e3);t({days:E,hours:T,minutes:I,seconds:R})}};S();const C=setInterval(S,1e3);return()=>clearInterval(C)},[f]);const h=d("hero_title")||Ee.hero_title,p=d("hero_subtitle")||Ee.hero_subtitle,y=d("hero_eyebrow")||Ee.hero_eyebrow,m=d("hero_cta_1")||"Explore Facilities",w=d("hero_cta_1_url")||Ee.hero_cta_1_url||"/facilities",g=d("hero_cta_2")||"View Site Updates",v=d("hero_cta_2_url")||Ee.hero_cta_2_url||"/roadmap",b=d("hero_status_active")||Ee.hero_status_active,j=d("hero_status_updates")||Ee.hero_status_updates,_=d("hero_status_booking")||Ee.hero_status_booking;return s.jsxs("section",{id:"hero",className:"qd-section pt-12 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${o})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/95 via-white/90 to-white/70 dark:from-slate-900/95 dark:via-slate-900/90 dark:to-slate-900/70"}),s.jsx("div",{className:"qd-container relative z-10",children:s.jsxs("div",{className:"qd-hero-grid",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"qd-eyebrow",children:[s.jsx("span",{className:"qd-eyebrow-dot"})," ",y]}),s.jsx("h1",{className:"qd-hero-title","data-testid":"text-hero-title",dangerouslySetInnerHTML:{__html:h}}),s.jsx("p",{className:"text-muted-foreground max-w-lg mb-6 text-sm sm:text-base","data-testid":"text-hero-subtitle",children:p}),s.jsxs("div",{className:"qd-countdown",children:[s.jsx("div",{className:"text-xs uppercase tracking-widest text-muted-foreground font-semibold",children:"Estimated Launch Countdown"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-3 font-mono flex-wrap justify-center sm:justify-start","data-testid":"countdown-timer",children:[s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.days}),s.jsx("span",{className:"qd-countdown-label",children:"Days"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.hours}),s.jsx("span",{className:"qd-countdown-label",children:"Hours"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.minutes}),s.jsx("span",{className:"qd-countdown-label",children:"Mins"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.seconds}),s.jsx("span",{className:"qd-countdown-label",children:"Secs"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[s.jsx(ge,{href:w,children:s.jsx(M,{className:"rounded-full px-6","data-testid":"button-explore-facilities",children:m})}),s.jsx(ge,{href:v,children:s.jsx(M,{variant:"outline",className:"rounded-full px-6","data-testid":"button-view-updates",children:g})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-6 text-[10px] sm:text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1 sm:gap-2","data-testid":"status-construction-active",children:[s.jsx("span",{className:"qd-status-dot"})," ",b]}),s.jsx("span",{"data-testid":"status-updates",children:j}),s.jsx("span",{"data-testid":"status-booking",children:_})]})]}),s.jsx("aside",{children:s.jsxs("div",{className:"qd-hero-card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("div",{className:"text-sm uppercase tracking-widest text-muted-foreground",children:"Construction Status"}),a?s.jsx(De,{className:"h-6 w-20 rounded-full"}):c?s.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-blue-50 dark:bg-blue-900/30 text-slate-800 dark:text-blue-200 font-semibold uppercase tracking-wide",children:c.label}):s.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-gray-100 dark:bg-slate-700 text-muted-foreground font-semibold uppercase tracking-wide",children:"Planning"})]}),a?s.jsxs(s.Fragment,{children:[s.jsx(De,{className:"h-4 w-full mb-2"}),s.jsx(De,{className:"h-3 w-full rounded-full"}),s.jsx(De,{className:"h-12 w-full mt-4"})]}):c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-2",children:[s.jsxs("span",{children:[c.label,": ",c.title]}),s.jsxs("span",{children:[c.progress,"% Complete"]})]}),s.jsx("div",{className:"qd-progress-track",children:s.jsx("div",{className:"qd-progress-fill",style:{width:`${c.progress}%`}})}),c.highlights&&c.highlights.length>0&&s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:c.highlights[0]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5",children:[s.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"}),s.jsxs("div",{className:"font-semibold text-sm",children:[l.filter(N=>N.isComplete).length," phases"]})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Overall"}),s.jsxs("div",{className:"font-semibold text-sm",children:[Math.round(u),"% done"]})]})]})]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Construction timeline will be available soon."})]})})]})})]})}function qse(){const{getValue:e}=Fr(["about_title","about_subtitle","about_cta","about_cta_url","about_vision_title","about_vision_content","about_vision_content_2","about_tags","about_team_title","about_team_content","about_team_credits"],Ee),t=(e("about_tags")||Ee.about_tags).split(",").map(n=>n.trim()),r=(e("about_team_credits")||Ee.about_team_credits).split("|").map(n=>n.trim());return s.jsx("section",{id:"about",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-about-title",children:e("about_title")||Ee.about_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("about_subtitle")||Ee.about_subtitle})]}),s.jsx(ge,{href:e("about_cta_url")||Ee.about_cta_url||"/vision",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-see-vision",children:e("about_cta")||Ee.about_cta})})]}),s.jsxs("div",{className:"qd-dev-grid",children:[s.jsxs("div",{className:"qd-info-card",children:[s.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_vision_title")||Ee.about_vision_title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_vision_content")||Ee.about_vision_content}),s.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:e("about_vision_content_2")||Ee.about_vision_content_2}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-5",children:t.map((n,a)=>s.jsx("span",{className:"qd-tag",children:n},a))})]}),s.jsxs("div",{className:"qd-info-card",children:[s.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_team_title")||Ee.about_team_title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_team_content")||Ee.about_team_content}),s.jsx("ul",{className:"list-disc list-inside mt-4 text-sm space-y-1 text-muted-foreground",children:r.map((n,a)=>s.jsx("li",{children:n},a))})]})]})]})})}var t6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uO=F.createContext&&F.createContext(t6),zse=["attr","size","title"];function Wse(e,t){if(e==null)return{};var r=Kse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sx.apply(this,arguments)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){Hse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hse(e,t,r){return t=Gse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gse(e){var t=Qse(e,"string");return typeof t=="symbol"?t:t+""}function Qse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r6(e){return e&&e.map((t,r)=>F.createElement(t.tag,kx({key:r},t.attr),r6(t.child)))}function ro(e){return t=>F.createElement(Yse,Sx({attr:kx({},e.attr)},t),r6(e.child))}function Yse(e){var t=r=>{var{attr:n,size:a,title:i}=e,o=Wse(e,zse),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),F.createElement("svg",Sx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:kx(kx({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&F.createElement("title",null,i),e.children)};return uO!==void 0?F.createElement(uO.Consumer,null,r=>t(r)):t(t6)}function Yp(e){return ro({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23.05 23.05V488.9H488.9V23.05zm17.9 17.9H471.1V471.1H40.95z"},child:[]}]})(e)}function rl(e){return ro({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M365.6 31c-6.6 0-13.2.6-19.7 1.59-34.5 5.44-66.5 23.14-88.3 44.96-28.8 28.85-49.6 70.85-58.4 111.65-1.6 6.7-2.6 13.6-3.5 20.4L162.2 334l15.8 15.8 124.3-33.5c6.8-.9 13.7-2 20.5-3.5 40.8-8.8 82.8-29.6 111.6-58.4 21.9-21.9 39.6-53.9 45-88.4 5.2-34.5-2.4-72.3-31.9-101.71-23.8-23.93-53.1-33.44-81.9-33.29zm.1 19.29c24.3-.28 47.9 7.49 68.2 27.71 25 24.9 31 55.2 26.3 85-4.6 29.9-20.7 58.8-39.5 77.6-25.4 25.4-64.7 45.2-102 53.2-37.2 8.2-71.2 3.8-87.8-12.9-16.5-16.5-20.9-50.4-12.8-87.7 8.1-37.2 27.8-76.6 53.3-101.94 18.7-18.78 47.7-34.84 77.6-39.55 5.5-.88 11.2-1.36 16.7-1.42zm-166 214.81c3.7 11.3 9.3 21.5 17.5 29.5 8.1 8.2 18.2 14 29.5 17.6l-63 16zm-50.3 83.6L50 448.2l-5.25-5.1-13.71 13.7L55.41 481l13.7-13.6-5.41-5.4 99.5-99.6zm211 45.1c-19.5 0-35.6 16-35.6 35.5s16.1 35.5 35.6 35.5c19.4 0 35.5-16 35.5-35.5s-16.1-35.5-35.5-35.5z"},child:[]}]})(e)}function Xse(e){return Object.prototype.toString.call(e)==="[object Object]"}function fO(e){return Xse(e)||Array.isArray(e)}function Jse(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function c2(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!fO(l)||!fO(c)?l===c:c2(l,c)})}function hO(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function Zse(e,t){if(e.length!==t.length)return!1;const r=hO(e),n=hO(t);return r.every((a,i)=>{const o=n[i];return c2(a,o)})}function u2(e){return typeof e=="number"}function CN(e){return typeof e=="string"}function Db(e){return typeof e=="boolean"}function mO(e){return Object.prototype.toString.call(e)==="[object Object]"}function kr(e){return Math.abs(e)}function d2(e){return Math.sign(e)}function Kh(e,t){return kr(e-t)}function eae(e,t){if(e===0||t===0||kr(e)<=kr(t))return 0;const r=Kh(kr(e),kr(t));return kr(r/e)}function tae(e){return Math.round(e*100)/100}function Lm(e){return Fm(e).map(Number)}function $a(e){return e[Xp(e)]}function Xp(e){return Math.max(0,e.length-1)}function f2(e,t){return t===Xp(e)}function pO(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function Fm(e){return Object.keys(e)}function n6(e,t){return[e,t].reduce((r,n)=>(Fm(n).forEach(a=>{const i=r[a],o=n[a],l=mO(i)&&mO(o);r[a]=l?n6(i,o):o}),r),{})}function PN(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function rae(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return t-c}function o(c,u){return CN(e)?r[e](c):e(t,c,u)}return{measure:o}}function Um(){let e=[];function t(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function nae(e,t,r,n){const a=Um(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){p(),a.clear()}function f(w){if(!c)return;o||(o=w,r(),r());const g=w-o;for(o=w,l+=g;l>=i;)r(),l-=i;const v=l/i;n(v),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function y(){o=null,l=0}return{init:u,destroy:d,start:h,stop:p,update:r,render:n}}function sae(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(y){const{height:m,width:w}=y;return n?m:w}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function h(y){return y*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:h}}function xc(e=0,t=0){const r=kr(e-t);function n(u){return u<e}function a(u){return u>t}function i(u){return n(u)||a(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function s6(e,t,r){const{constrain:n}=xc(0,e),a=e+1;let i=o(t);function o(h){return r?kr((a+h)%a):n(h)}function l(){return i}function c(h){return i=o(h),f}function u(h){return d().set(l()+h)}function d(){return s6(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function aae(e,t,r,n,a,i,o,l,c,u,d,f,h,p,y,m,w,g,v){const{cross:b,direction:j}=e,_=["INPUT","SELECT","TEXTAREA"],N={passive:!1},S=Um(),C=Um(),P=xc(50,225).constrain(p.measure(20)),k={mouse:300,touch:400},E={mouse:500,touch:600},T=y?43:25;let I=!1,R=0,D=0,O=!1,W=!1,A=!1,$=!1;function Q(G){if(!v)return;function L(Fe){(Db(v)||v(G,Fe))&&pe(Fe)}const ve=t;S.add(ve,"dragstart",Fe=>Fe.preventDefault(),N).add(ve,"touchmove",()=>{},N).add(ve,"touchend",()=>{}).add(ve,"touchstart",L).add(ve,"mousedown",L).add(ve,"touchcancel",be).add(ve,"contextmenu",be).add(ve,"click",ae,!0)}function X(){S.clear(),C.clear()}function U(){const G=$?r:t;C.add(G,"touchmove",te,N).add(G,"touchend",be).add(G,"mousemove",te,N).add(G,"mouseup",be)}function J(G){const L=G.nodeName||"";return _.includes(L)}function z(){return(y?E:k)[$?"mouse":"touch"]}function ee(G,L){const ve=f.add(d2(G)*-1),Fe=d.byDistance(G,!y).distance;return y||kr(G)<P?Fe:w&&L?Fe*.5:d.byIndex(ve.get(),0).distance}function pe(G){const L=PN(G,n);$=L,A=y&&L&&!G.buttons&&I,I=Kh(a.get(),o.get())>=2,!(L&&G.button!==0)&&(J(G.target)||(O=!0,i.pointerDown(G),u.useFriction(0).useDuration(0),a.set(o),U(),R=i.readPoint(G),D=i.readPoint(G,b),h.emit("pointerDown")))}function te(G){if(!PN(G,n)&&G.touches.length>=2)return be(G);const ve=i.readPoint(G),Fe=i.readPoint(G,b),st=Kh(ve,R),vt=Kh(Fe,D);if(!W&&!$&&(!G.cancelable||(W=st>vt,!W)))return be(G);const qt=i.pointerMove(G);st>m&&(A=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(j(qt)),G.preventDefault()}function be(G){const ve=d.byDistance(0,!1).index!==f.get(),Fe=i.pointerUp(G)*z(),st=ee(j(Fe),ve),vt=eae(Fe,st),qt=T-10*vt,$t=g+vt/50;W=!1,O=!1,C.clear(),u.useDuration(qt).useFriction($t),c.distance(st,!y),$=!1,h.emit("pointerUp")}function ae(G){A&&(G.stopPropagation(),G.preventDefault(),A=!1)}function B(){return O}return{init:Q,destroy:X,pointerDown:B}}function iae(e,t){let n,a;function i(f){return f.timeStamp}function o(f,h){const y=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(PN(f,t)?f:f.touches[0])[y]}function l(f){return n=f,a=f,o(f)}function c(f){const h=o(f)-o(a),p=i(f)-i(n)>170;return a=f,p&&(n=f),h}function u(f){if(!n||!a)return 0;const h=o(a)-o(n),p=i(f)-i(n),y=i(f)-i(a)>170,m=h/p;return p&&!y&&kr(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function oae(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function lae(e){function t(n){return e*(n/100)}return{measure:t}}function cae(e,t,r,n,a,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function h(w){return a.measureSize(o.measure(w))}function p(w){if(!i)return;u=h(e),d=n.map(h);function g(v){for(const b of v){if(f)return;const j=b.target===e,_=n.indexOf(b.target),N=j?u:d[_],S=h(j?e:n[_]);if(kr(S-N)>=.5){w.reInit(),t.emit("resize");break}}}c=new ResizeObserver(v=>{(Db(i)||i(w,v))&&g(v)}),r.requestAnimationFrame(()=>{l.forEach(v=>c.observe(v))})}function y(){f=!0,c&&c.disconnect()}return{init:p,destroy:y}}function uae(e,t,r,n,a,i){let o=0,l=0,c=a,u=i,d=e.get(),f=0;function h(){const N=n.get()-e.get(),S=!c;let C=0;return S?(o=0,r.set(n),e.set(n),C=N):(r.set(e),o+=N/c,o*=u,d+=o,e.add(o),C=d-f),l=d2(C),f=d,_}function p(){const N=n.get()-t.get();return kr(N)<.001}function y(){return c}function m(){return l}function w(){return o}function g(){return b(a)}function v(){return j(i)}function b(N){return c=N,_}function j(N){return u=N,_}const _={direction:m,duration:y,velocity:w,seek:h,settled:p,useBaseFriction:v,useBaseDuration:g,useFriction:j,useDuration:b};return _}function dae(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),l=xc(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const y=e.reachedMin(t.get())?"min":"max",m=kr(e[y]-t.get()),w=r.get()-t.get(),g=l.constrain(m/o);r.subtract(w*g),!p&&kr(w)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function fae(e,t,r,n,a){const i=xc(-t+e,0),o=f(),l=d(),c=h();function u(y,m){return Kh(y,m)<=1}function d(){const y=o[0],m=$a(o),w=o.lastIndexOf(y),g=o.indexOf(m)+1;return xc(w,g)}function f(){return r.map((y,m)=>{const{min:w,max:g}=i,v=i.constrain(y),b=!m,j=f2(r,m);return b?g:j||u(w,v)?w:u(g,v)?g:v}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:y,max:m}=l;return o.slice(y,m)}return{snapsContained:c,scrollContainLimit:l}}function hae(e,t,r){const n=t[0],a=r?n-e:$a(t);return{limit:xc(a,n)}}function mae(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=xc(i,o);function u(h){return h===1?c(r.get()):h===-1?l(r.get()):!1}function d(h){if(!u(h))return;const p=e*(h*-1);n.forEach(y=>y.add(p))}return{loop:d}}function pae(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function gae(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=a,c=f().map(t.measure),u=h(),d=p();function f(){return l(n).map(m=>$a(m)[o]-m[0][i]).map(kr)}function h(){return n.map(m=>r[i]-m[i]).map(m=>-kr(m))}function p(){return l(u).map(m=>m[0]).map((m,w)=>m+c[w])}return{snaps:u,snapsAligned:d}}function vae(e,t,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,u=d();function d(){const h=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?h:h.slice(l,c).map((y,m,w)=>{const g=!m,v=f2(w,m);if(g){const b=$a(w[0])+1;return pO(b)}if(v){const b=Xp(i)-$a(w)[0]+1;return pO(b,$a(w)[0])}return y})}return{slideRegistry:u}}function xae(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(y){return y.concat().sort((m,w)=>kr(m)-kr(w))[0]}function u(y){const m=e?o(y):l(y),w=t.map((v,b)=>({diff:d(v-m,0),index:b})).sort((v,b)=>kr(v.diff)-kr(b.diff)),{index:g}=w[0];return{index:g,distance:m}}function d(y,m){const w=[y,y+r,y-r];if(!e)return y;if(!m)return c(w);const g=w.filter(v=>d2(v)===m);return g.length?c(g):$a(w)-r}function f(y,m){const w=t[y]-a.get(),g=d(w,m);return{index:y,distance:g}}function h(y,m){const w=a.get()+y,{index:g,distance:v}=u(w),b=!e&&i(w);if(!m||b)return{index:g,distance:y};const j=t[g]-v,_=y+d(j,0);return{index:g,distance:_}}return{byDistance:h,byIndex:f,shortcut:d}}function yae(e,t,r,n,a,i,o){function l(f){const h=f.distance,p=f.index!==t.get();i.add(h),h&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,h){const p=a.byDistance(f,h);l(p)}function u(f,h){const p=t.clone().set(f),y=a.byIndex(p.get(),h);l(y)}return{distance:c,index:u}}function bae(e,t,r,n,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function y(m){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const v=r.findIndex(b=>b.includes(m));u2(v)&&(a.useDuration(0),n.index(v,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((m,w)=>{i.add(m,"focus",g=>{(Db(l)||l(p,g))&&y(w)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Ph(e){let t=e;function r(){return t}function n(c){t=o(c)}function a(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return u2(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function a6(e,t){const r=e.scroll==="x"?o:l,n=t.style;let a=null,i=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(i)return;const p=tae(e.direction(h));p!==a&&(n.transform=r(p),a=p)}function u(h){i=!h}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function wae(e,t,r,n,a,i,o,l,c){const d=Lm(a),f=Lm(a).reverse(),h=g().concat(v());function p(S,C){return S.reduce((P,k)=>P-a[k],C)}function y(S,C){return S.reduce((P,k)=>p(P,C)>0?P.concat([k]):P,[])}function m(S){return i.map((C,P)=>({start:C-n[P]+.5+S,end:C+t-.5+S}))}function w(S,C,P){const k=m(C);return S.map(E=>{const T=P?0:-r,I=P?r:0,R=P?"end":"start",D=k[E][R];return{index:E,loopPoint:D,slideLocation:Ph(-1),translate:a6(e,c[E]),target:()=>l.get()>D?T:I}})}function g(){const S=o[0],C=y(f,S);return w(C,r,!1)}function v(){const S=t-o[0]-1,C=y(d,S);return w(C,-r,!0)}function b(){return h.every(({index:S})=>{const C=d.filter(P=>P!==S);return p(C,t)<=.1})}function j(){h.forEach(S=>{const{target:C,translate:P,slideLocation:k}=S,E=C();E!==k.get()&&(P.to(E),k.set(E))})}function _(){h.forEach(S=>S.translate.clear())}return{canLoop:b,clear:_,loop:j,loopPoints:h}}function jae(e,t,r){let n,a=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{a||(Db(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function Nae(e,t,r,n){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(m=>{const w=t.indexOf(m.target);a[w]=m}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function f(y){return Fm(a).reduce((m,w)=>{const g=parseInt(w),{isIntersecting:v}=a[g];return(y&&v||!y&&!v)&&m.push(g),m},[])}function h(y=!0){if(y&&i)return i;if(!y&&o)return o;const m=f(y);return y&&(i=m),y||(o=m),m}return{init:u,destroy:d,get:h}}function _ae(e,t,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&a,d=y(),f=m(),h=r.map(o),p=w();function y(){if(!u)return 0;const v=r[0];return kr(t[l]-v[l])}function m(){if(!u)return 0;const v=i.getComputedStyle($a(n));return parseFloat(v.getPropertyValue(`margin-${c}`))}function w(){return r.map((v,b,j)=>{const _=!b,N=f2(j,b);return _?h[b]+d:N?h[b]+f:j[b+1][l]-v[l]}).map(kr)}return{slideSizes:h,slideSizesWithGaps:p,startGap:d,endGap:f}}function Sae(e,t,r,n,a,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,h=u2(r);function p(g,v){return Lm(g).filter(b=>b%v===0).map(b=>g.slice(b,b+v))}function y(g){return g.length?Lm(g).reduce((v,b,j)=>{const _=$a(v)||0,N=_===0,S=b===Xp(g),C=a[u]-i[_][u],P=a[u]-i[b][d],k=!n&&N?f(o):0,E=!n&&S?f(l):0,T=kr(P-E-(C+k));return j&&T>t+c&&v.push(b),S&&v.push(g.length),v},[]).map((v,b,j)=>{const _=Math.max(j[b-1]||0);return g.slice(_,v)}):[]}function m(g){return h?p(g,r):y(g)}return{groupSlides:m}}function kae(e,t,r,n,a,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:p,dragThreshold:y,inViewThreshold:m,slidesToScroll:w,skipSnaps:g,containScroll:v,watchResize:b,watchSlides:j,watchDrag:_,watchFocus:N}=i,S=2,C=oae(),P=C.measure(t),k=r.map(C.measure),E=sae(c,u),T=E.measureSize(P),I=lae(T),R=rae(l,T),D=!f&&!!v,O=f||!!v,{slideSizes:W,slideSizesWithGaps:A,startGap:$,endGap:Q}=_ae(E,P,k,r,O,a),X=Sae(E,T,w,f,P,k,$,Q,S),{snaps:U,snapsAligned:J}=gae(E,R,P,k,X),z=-$a(U)+$a(A),{snapsContained:ee,scrollContainLimit:pe}=fae(T,z,J,v,S),te=D?ee:J,{limit:be}=hae(z,te,f),ae=s6(Xp(te),d,f),B=ae.clone(),ce=Lm(r),G=({dragHandler:Br,scrollBody:Un,scrollBounds:An,options:{loop:Wa}})=>{Wa||An.constrain(Br.pointerDown()),Un.seek()},L=({scrollBody:Br,translate:Un,location:An,offsetLocation:Wa,previousLocation:Ka,scrollLooper:vi,slideLooper:Xc,dragHandler:Jc,animation:xl,eventHandler:yl,scrollBounds:zs,options:{loop:Wf}},Kf)=>{const Zc=Br.settled(),tw=!zs.shouldConstrain(),eu=Wf?Zc:Zc&&tw,tu=eu&&!Jc.pointerDown();tu&&xl.stop();const rw=An.get()*Kf+Ka.get()*(1-Kf);Wa.set(rw),Wf&&(vi.loop(Br.direction()),Xc.loop()),Un.to(Wa.get()),tu&&yl.emit("settle"),eu||yl.emit("scroll")},ve=nae(n,a,()=>G(Tt),Br=>L(Tt,Br)),Fe=.68,st=te[ae.get()],vt=Ph(st),qt=Ph(st),$t=Ph(st),Nr=Ph(st),V=uae(vt,$t,qt,Nr,h,Fe),Z=xae(f,te,z,be,Nr),oe=yae(ve,ae,B,V,Z,Nr,o),Ae=pae(be),je=Um(),Se=Nae(t,r,o,m),{slideRegistry:ze}=vae(D,v,te,pe,X,ce),Rt=bae(e,r,ze,oe,V,je,o,N),Tt={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:P,slideRects:k,animation:ve,axis:E,dragHandler:aae(E,e,n,a,Nr,iae(E,a),vt,ve,oe,V,Z,ae,o,I,p,y,g,Fe,_),eventStore:je,percentOfView:I,index:ae,indexPrevious:B,limit:be,location:vt,offsetLocation:$t,previousLocation:qt,options:i,resizeHandler:cae(t,o,a,r,E,b,C),scrollBody:V,scrollBounds:dae(be,$t,Nr,V,I),scrollLooper:mae(z,be,$t,[vt,$t,qt,Nr]),scrollProgress:Ae,scrollSnapList:te.map(Ae.get),scrollSnaps:te,scrollTarget:Z,scrollTo:oe,slideLooper:wae(E,T,z,W,A,U,te,$t,r),slideFocus:Rt,slidesHandler:jae(t,o,j),slidesInView:Se,slideIndexes:ce,slideRegistry:ze,slidesToScroll:X,target:Nr,translate:a6(E,t)};return Tt}function Cae(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function a(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const Pae={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Eae(e){function t(i,o){return n6(i,o||{})}function r(i){const o=i.breakpoints||{},l=Fm(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>Fm(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function Aae(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function Cx(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=Eae(a),o=Aae(i),l=Um(),c=Cae(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:h,off:p,emit:y}=c,m=E;let w=!1,g,v=u(Pae,Cx.globalOptions),b=u(v),j=[],_,N,S;function C(){const{container:ce,slides:G}=b;N=(CN(ce)?e.querySelector(ce):ce)||e.children[0];const ve=CN(G)?N.querySelectorAll(G):G;S=[].slice.call(ve||N.children)}function P(ce){const G=kae(e,N,S,n,a,ce,c);if(ce.loop&&!G.slideLooper.canLoop()){const L=Object.assign({},ce,{loop:!1});return P(L)}return G}function k(ce,G){w||(v=u(v,ce),b=d(v),j=G||j,C(),g=P(b),f([v,...j.map(({options:L})=>L)]).forEach(L=>l.add(L,"change",E)),b.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(B),g.eventHandler.init(B),g.resizeHandler.init(B),g.slidesHandler.init(B),g.options.loop&&g.slideLooper.loop(),N.offsetParent&&S.length&&g.dragHandler.init(B),_=o.init(B,j)))}function E(ce,G){const L=X();T(),k(u({startIndex:L},ce),G),c.emit("reInit")}function T(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),o.destroy(),l.clear()}function I(){w||(w=!0,l.clear(),T(),c.emit("destroy"),c.clear())}function R(ce,G,L){!b.active||w||(g.scrollBody.useBaseFriction().useDuration(G===!0?0:b.duration),g.scrollTo.index(ce,L||0))}function D(ce){const G=g.index.add(1).get();R(G,ce,-1)}function O(ce){const G=g.index.add(-1).get();R(G,ce,1)}function W(){return g.index.add(1).get()!==X()}function A(){return g.index.add(-1).get()!==X()}function $(){return g.scrollSnapList}function Q(){return g.scrollProgress.get(g.offsetLocation.get())}function X(){return g.index.get()}function U(){return g.indexPrevious.get()}function J(){return g.slidesInView.get()}function z(){return g.slidesInView.get(!1)}function ee(){return _}function pe(){return g}function te(){return e}function be(){return N}function ae(){return S}const B={canScrollNext:W,canScrollPrev:A,containerNode:be,internalEngine:pe,destroy:I,off:p,on:h,emit:y,plugins:ee,previousScrollSnap:U,reInit:m,rootNode:te,scrollNext:D,scrollPrev:O,scrollProgress:Q,scrollSnapList:$,scrollTo:R,selectedScrollSnap:X,slideNodes:ae,slidesInView:J,slidesNotInView:z};return k(t,r),setTimeout(()=>c.emit("init"),0),B}Cx.globalOptions=void 0;function h2(e={},t=[]){const r=x.useRef(e),n=x.useRef(t),[a,i]=x.useState(),[o,l]=x.useState(),c=x.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return x.useEffect(()=>{c2(r.current,e)||(r.current=e,c())},[e,c]),x.useEffect(()=>{Zse(n.current,t)||(n.current=t,c())},[t,c]),x.useEffect(()=>{if(Jse()&&o){Cx.globalOptions=h2.globalOptions;const u=Cx(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}h2.globalOptions=void 0;const i6=x.createContext(null);function Lb(){const e=x.useContext(i6);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Jp=x.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,u]=h2({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=x.useState(!1),[h,p]=x.useState(!1),y=x.useCallback(v=>{v&&(f(v.canScrollPrev()),p(v.canScrollNext()))},[]),m=x.useCallback(()=>{u==null||u.scrollPrev()},[u]),w=x.useCallback(()=>{u==null||u.scrollNext()},[u]),g=x.useCallback(v=>{v.key==="ArrowLeft"?(v.preventDefault(),m()):v.key==="ArrowRight"&&(v.preventDefault(),w())},[m,w]);return x.useEffect(()=>{!u||!r||r(u)},[u,r]),x.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u==null||u.off("select",y)}},[u,y]),s.jsx(i6.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:w,canScrollPrev:d,canScrollNext:h},children:s.jsx("div",{ref:l,onKeyDownCapture:g,className:we("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});Jp.displayName="Carousel";const Zp=x.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=Lb();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:we("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});Zp.displayName="CarouselContent";const eg=x.forwardRef(({className:e,...t},r)=>{const{orientation:n}=Lb();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:we("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});eg.displayName="CarouselItem";const Oae=x.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=Lb();return s.jsxs(M,{ref:a,variant:t,size:r,className:we("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(Sn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Oae.displayName="CarouselPrevious";const Tae=x.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=Lb();return s.jsxs(M,{ref:a,variant:t,size:r,className:we("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(lb,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});Tae.displayName="CarouselNext";const Iae={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Rae(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function Mae(e,t){const r=e.rootNode();return t&&t(r)||r}function kf(e={}){let t,r,n,a,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(R,D){r=R;const{mergeOptions:O,optionsAtMedia:W}=D,A=O(Iae,kf.globalOptions),$=O(A,e);if(t=W($),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,a=Rae(r,t.delay);const{eventStore:Q,ownerDocument:X}=r.internalEngine(),U=!!r.internalEngine().options.watchDrag,J=Mae(r,t.rootNode);Q.add(X,"visibilitychange",g),U&&r.on("pointerDown",b),U&&!t.stopOnInteraction&&r.on("pointerUp",j),t.stopOnMouseEnter&&Q.add(J,"mouseenter",_),t.stopOnMouseEnter&&!t.stopOnInteraction&&Q.add(J,"mouseleave",N),t.stopOnFocusIn&&r.on("slideFocusStart",w),t.stopOnFocusIn&&!t.stopOnInteraction&&Q.add(r.containerNode(),"focusout",m),t.playOnInit&&m()}function h(){r.off("pointerDown",b).off("pointerUp",j).off("slideFocusStart",w),w(),n=!0,l=!1}function p(){const{ownerWindow:R}=r.internalEngine();R.clearTimeout(o),o=R.setTimeout(E,a[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function y(){const{ownerWindow:R}=r.internalEngine();R.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function m(){if(!n){if(v()){u=!0;return}l||r.emit("autoplay:play"),p(),l=!0}}function w(){n||(l&&r.emit("autoplay:stop"),y(),l=!1)}function g(){if(v())return u=l,w();u&&m()}function v(){const{ownerDocument:R}=r.internalEngine();return R.visibilityState==="hidden"}function b(){c||w()}function j(){c||m()}function _(){c=!0,w()}function N(){c=!1,m()}function S(R){typeof R<"u"&&(d=R),m()}function C(){l&&w()}function P(){l&&m()}function k(){return l}function E(){const{index:R}=r.internalEngine(),D=R.clone().add(1).get(),O=r.scrollSnapList().length-1,W=t.stopOnLastSnap&&D===O;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),W)return w();m()}function T(){if(!i)return null;const R=a[r.selectedScrollSnap()],D=new Date().getTime()-i;return R-D}return{name:"autoplay",options:e,init:f,destroy:h,play:S,stop:C,reset:P,isPlaying:k,timeUntilNext:T}}kf.globalOptions=void 0;const Cf="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Fb="/assets/indoor_squash_court__c97e350b-C624hay8.jpg",m2="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",Ub="/assets/large_event_hall_int_39cfb773-D7tynaMB.jpg",$ae="/assets/elegant_card_game_ro_26fec1dc-B0OzwSTX.jpg",p2="/assets/modern_cafe_bar_inte_bc2874c0-DokhLEuU.jpg",Dae={GiTennisRacket:rl,GiSquare:Yp,Crosshair:$c,Building2:un,Coffee:Pk,Spade:hb},Lae={"padel-tennis":Cf,squash:Fb,"air-rifle-range":m2,"multipurpose-hall":Ub,"bridge-room":$ae,"cafe-bar":p2},gO=[{id:"padel",slug:"padel-tennis",name:"Padel Tennis",icon:rl,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"World-Class Padel Courts: Three premium glass-backed indoor Padel Courts optimized for competitive doubles play and available year-round, regardless of the weather.",footer:"3 courts planned",image:Cf},{id:"squash",slug:"squash",name:"Squash Court",icon:Yp,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"Dedicated Squash Facility: A single, premium-grade squash court built to international dimensions. Ideal for focused training, intense solo practice, and eventually, club ladder competitions.",footer:"Planned | 1 court",image:Fb},{id:"air_rifle",slug:"air-rifle-range",name:"Air Rifle Range",icon:$c,category:"Precision Sport",status:"soon",statusLabel:"Opening Soon",description:"Certified Precision Range: A safe, controlled, and sound-dampened indoor range compliant with all safety regulations. Access requires mandatory certification.",footer:"Certificate-based access",image:m2},{id:"hall",slug:"multipurpose-hall",name:"Multipurpose Hall",icon:un,category:"Indoor Space",status:"planned",statusLabel:"Planned",description:"Flexible Event & Training Space: A large, adaptable hall suitable for yoga, aerobics, martial arts, corporate workshops, and private functions. Available for flexible, block, and event-based bookings.",footer:"Use-cases evolving",image:Ub},{id:"cafe",slug:"cafe-bar",name:"Open Cafe/Bar",icon:Pk,category:"Recreation",status:"planned",statusLabel:"Planned",description:"The Quarterdeck Social Hub: A bright, spacious area offering artisanal coffee, healthy refreshments, light meals, and a view overlooking the main courts - perfect for post-match debriefs or casual meetings.",footer:"No booking required",image:p2}];function Fae(e){switch(e){case"ACTIVE":return{status:"active",statusLabel:"Active"};case"OPENING_SOON":return{status:"soon",statusLabel:"Opening Soon"};case"PLANNED":default:return{status:"planned",statusLabel:"Planned"}}}function Uae(){const{getValue:e}=Fr(["facilities_title","facilities_subtitle","facilities_cta","facilities_cta_url"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/facilities"]}),n=t&&t.length>0?t.map(a=>{const i=Fae(a.status),o=gO.find(l=>l.slug===a.slug);return{id:a.id,slug:a.slug,name:a.name,icon:Dae[a.icon]||(o==null?void 0:o.icon)||un,category:a.category||(o==null?void 0:o.category)||"Facility",status:i.status,statusLabel:i.statusLabel,description:a.description||(o==null?void 0:o.description)||"",footer:`${a.resourceCount||1} ${a.resourceCount===1?"court":"courts"} available`,image:a.imageUrl||Lae[a.slug]||(o==null?void 0:o.image)||Ub}}):gO;return s.jsx("section",{id:"facilities",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-facilities-title",children:e("facilities_title")||Ee.facilities_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("facilities_subtitle")||Ee.facilities_subtitle})]}),s.jsx(ge,{href:e("facilities_cta_url")||Ee.facilities_cta_url||"/booking",children:s.jsx(M,{className:"rounded-full","data-testid":"button-check-availability",children:e("facilities_cta")||Ee.facilities_cta})})]}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsx(Jp,{opts:{align:"start",loop:!0},plugins:[kf({delay:4e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Zp,{className:"-ml-2 md:-ml-4",children:n.map(a=>s.jsx(eg,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/3",children:s.jsx(ge,{href:`/facilities/${a.slug}`,children:s.jsxs("div",{className:"group relative aspect-[4/3] rounded-xl overflow-hidden cursor-pointer","data-testid":`card-facility-${a.slug||a.id}`,children:[s.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold backdrop-blur-sm ${a.status==="soon"?"bg-blue-500/80 text-white":a.status==="active"?"bg-green-500/80 text-white":"bg-gray-500/80 text-white"}`,children:a.statusLabel})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:a.name}),s.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:[a.category,s.jsx(ca,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]})})},a.id))})})]})})}const Bae={check:wr,"check-circle":yn,clock:Ht,hammer:K5,"hard-hat":H5,rocket:AG,target:na};function Vae(){const[e,t]=x.useState(null),{getValue:r}=Fr(["updates_title","updates_subtitle","updates_cta","updates_cta_url"],Ee),{data:n=[],isLoading:a}=de({queryKey:["/api/construction-phases"]}),i=x.useMemo(()=>[...n].sort((c,u)=>c.sortOrder-u.sortOrder),[n]),o=x.useMemo(()=>i.length===0?0:i.reduce((c,u)=>c+u.progress,0)/i.length,[i]),l=c=>c.isComplete?"Complete":c.isActive?`${c.progress}%`:c.timeframe||"Upcoming";return a?s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsx("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:s.jsxs("div",{children:[s.jsx(De,{className:"h-8 w-64 mb-2"}),s.jsx(De,{className:"h-4 w-96"})]})}),s.jsxs("div",{className:"relative py-12",children:[s.jsx(De,{className:"h-1 w-full rounded-full"}),s.jsx("div",{className:"flex justify-between mt-8",children:[1,2,3,4].map(c=>s.jsxs("div",{className:"flex flex-col items-center",style:{width:"25%"},children:[s.jsx(De,{className:"w-14 h-14 rounded-full"}),s.jsx(De,{className:"h-4 w-16 mt-4"}),s.jsx(De,{className:"h-3 w-24 mt-1"})]},c))})]})]})}):i.length===0?s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsx("div",{className:"qd-container",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"qd-section-title mb-4",children:"Construction Updates"}),s.jsx("p",{className:"text-muted-foreground",children:"Construction timeline coming soon."})]})})}):s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-updates-title",children:r("updates_title")||Ee.updates_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:r("updates_subtitle")||Ee.updates_subtitle})]}),s.jsx(ge,{href:r("updates_cta_url")||Ee.updates_cta_url||"/roadmap",children:s.jsxs("span",{className:"text-sm font-semibold text-[#2a4060] dark:text-blue-400 hover:underline cursor-pointer flex items-center gap-1","data-testid":"link-view-roadmap",children:[r("updates_cta")||Ee.updates_cta," ",s.jsx(ca,{className:"w-4 h-4"})]})})]}),s.jsxs("div",{className:"relative py-12",children:[s.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-gray-200 dark:bg-slate-700 rounded-full transform -translate-y-1/2"}),s.jsx("div",{className:"absolute left-0 top-1/2 h-1 bg-gradient-to-r from-green-500 via-blue-500 to-blue-500 rounded-full transform -translate-y-1/2 transition-all duration-1000 ease-out",style:{width:`${o}%`}}),s.jsx("div",{className:"absolute top-1/2 h-1 w-8 bg-gradient-to-r from-transparent via-white to-transparent rounded-full transform -translate-y-1/2 animate-pulse opacity-80",style:{left:`calc(${o}% - 16px)`}}),s.jsx("div",{className:"relative flex justify-between items-center",children:i.map((c,u)=>{const d=Bae[c.icon]||Ht,f=e===c.id,h=i.length>0?`${100/i.length}%`:"25%";return s.jsxs("div",{className:"relative flex flex-col items-center",style:{width:h},onMouseEnter:()=>t(c.id),onMouseLeave:()=>t(null),children:[s.jsx(ge,{href:`/roadmap#${c.id}`,children:s.jsxs("div",{className:`
                        relative z-10 w-14 h-14 rounded-full flex items-center justify-center cursor-pointer
                        transition-all duration-300 ease-out transform
                        ${f?"scale-125":"scale-100"}
                        ${c.isComplete?"bg-green-500 text-white shadow-lg shadow-green-500/30":c.isActive?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 animate-pulse":"bg-white dark:bg-slate-800 text-muted-foreground border-2 border-gray-300 dark:border-slate-600"}
                      `,"data-testid":`timeline-point-${c.id}`,children:[s.jsx(d,{className:"w-6 h-6"}),c.isActive&&s.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-400 animate-ping opacity-50"})]})}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("div",{className:`text-sm font-bold ${c.isComplete?"text-green-600 dark:text-green-400":c.isActive?"text-blue-600 dark:text-blue-400":"text-muted-foreground"}`,children:c.label}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:c.title}),s.jsx("div",{className:`text-xs font-semibold mt-1 ${c.isComplete?"text-green-600":c.isActive?"text-blue-600":"text-muted-foreground"}`,children:l(c)})]}),s.jsxs("div",{className:`
                      absolute z-50 w-72 p-4 rounded-xl bg-white dark:bg-slate-800 
                      border border-gray-200 dark:border-slate-700 shadow-2xl
                      transition-all duration-300 ease-out
                      ${f?"opacity-100 visible translate-y-0":"opacity-0 invisible translate-y-2"}
                      ${u>=i.length/2?"right-0":"left-0"}
                    `,style:{top:"100%",marginTop:"80px"},children:[s.jsx("div",{className:`absolute -top-2 w-4 h-4 bg-white dark:bg-slate-800 border-l border-t border-gray-200 dark:border-slate-700 transform rotate-45 ${u>=i.length/2?"right-8":"left-8"}`}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-100 dark:border-slate-700",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c.isComplete?"bg-green-100 dark:bg-green-900/30 text-green-600":c.isActive?"bg-blue-100 dark:bg-blue-900/30 text-blue-600":"bg-gray-100 dark:bg-slate-700 text-muted-foreground"}`,children:s.jsx(d,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm",children:c.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:c.timeframe})]})]}),c.milestones&&c.milestones.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"MILESTONES"}),s.jsx("ul",{className:"space-y-1",children:c.milestones.map((p,y)=>s.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[s.jsx(wr,{className:`w-3 h-3 mt-0.5 flex-shrink-0 ${c.isComplete?"text-green-500":"text-muted-foreground"}`}),s.jsx("span",{children:p})]},y))})]}),c.highlights&&c.highlights.length>0&&s.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"HIGHLIGHTS"}),s.jsx("ul",{className:"space-y-1",children:c.highlights.map((p,y)=>s.jsxs("li",{className:"flex items-start gap-2 text-xs text-blue-600 dark:text-blue-400",children:[s.jsx(ca,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:p})]},y))})]})]})]})]},c.id)})})]}),s.jsx("div",{className:"mt-8 p-6 rounded-xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),s.jsxs("div",{className:"text-2xl font-bold text-[#2a4060] dark:text-white mt-1",children:[Math.round(o),"% Complete"]})]}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsx("div",{className:"h-3 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${o}%`}})})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:i.filter(c=>c.isComplete).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:i.filter(c=>c.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:i.filter(c=>!c.isComplete&&!c.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})]})})}const o6="/assets/architectural_render_b118ee78-hmTi1mjz.jpg",l6="/assets/architectural_render_cd4dce75-BruYoWlw.jpg",qae="/assets/architectural_render_c7f63aa7-m2TWghKc.jpg",c6="/assets/sports_facility_cons_6b087ae8-Bawvazvq.jpg",zae="/assets/sports_facility_cons_aa71e508-BJWEQx7e.jpg",Wae="/assets/sports_facility_cons_44a23ac3-C9MzLDrF.jpg",Kae=[{key:"gallery-1",title:"Complex Exterior Render",type:"render",image:o6,category:"renders"},{key:"gallery-2",title:"Court Construction Progress",type:"photo",image:c6,category:"construction"},{key:"gallery-3",title:"Sports Arena Render",type:"render",image:l6,category:"renders"},{key:"gallery-4",title:"Indoor Facility Build",type:"photo",image:zae,category:"construction"},{key:"gallery-5",title:"Final Design Concept",type:"render",image:qae,category:"renders"},{key:"gallery-6",title:"Structural Framework",type:"photo",image:Wae,category:"construction"}];function Hae(){const{getValue:e}=Fr(["gallery_title","gallery_subtitle","gallery_cta","gallery_cta_url"],Ee),{data:t=[]}=de({queryKey:["/api/site-images","gallery"],queryFn:async()=>{const a=await(await fetch("/api/site-images?page=gallery")).json();return Array.isArray(a)?a:[]},staleTime:1e3*60*5}),r=x.useMemo(()=>Kae.map((n,a)=>{const i=t.find(o=>o.section===n.key&&o.isActive);return{...n,title:(i==null?void 0:i.title)||n.title,image:(i==null?void 0:i.imageUrl)||n.image}}),[t]);return s.jsx("section",{id:"gallery",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-gallery-title",children:e("gallery_title")||Ee.gallery_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("gallery_subtitle")||Ee.gallery_subtitle})]}),s.jsx(ge,{href:e("gallery_cta_url")||Ee.gallery_cta_url||"/gallery",children:s.jsxs(M,{variant:"outline",className:"rounded-full","data-testid":"button-view-full-gallery",children:[e("gallery_cta")||Ee.gallery_cta," ",s.jsx(lb,{className:"ml-2 w-4 h-4"})]})})]}),s.jsx(Jp,{opts:{align:"start",loop:!0},plugins:[kf({delay:3500,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Zp,{className:"-ml-2 md:-ml-4",children:r.map((n,a)=>s.jsx(eg,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/3",children:s.jsx(ge,{href:`/gallery?category=${n.category}`,children:s.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer","data-testid":`gallery-item-${a}`,children:[s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:n.title}),s.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${n.type==="render"?"bg-blue-500/80":"bg-amber-500/80"} text-white uppercase tracking-wide`,children:n.type})]})]})})},a))})})]})})}const vO="/assets/modern_indoor_sports_8b182ff8-CMa6_W-x.jpg",Gae={FOUNDING:Cf,GOLD:Fb,SILVER:Ub,GUEST:p2},Qae={FOUNDING:cb,GOLD:fa,SILVER:J5,GUEST:yr},xO={FOUNDING:{gradient:"from-amber-600/90 to-amber-800/90",badge:"bg-amber-500"},GOLD:{gradient:"from-yellow-500/90 to-yellow-700/90",badge:"bg-yellow-500"},SILVER:{gradient:"from-gray-500/90 to-gray-700/90",badge:"bg-gray-500"},GUEST:{gradient:"from-blue-500/90 to-blue-700/90",badge:"bg-blue-500"}},Yae=[{id:"founding",name:"Founding",tier:"FOUNDING",tagline:"Exclusive",price:35e3,billingPeriod:"monthly",closed:!0,isActive:!0,sortOrder:1},{id:"gold",name:"Gold",tier:"GOLD",tagline:"Premium",price:15e3,billingPeriod:"monthly",closed:!1,isActive:!0,sortOrder:2},{id:"silver",name:"Silver",tier:"SILVER",tagline:"Standard",price:5e3,billingPeriod:"monthly",closed:!1,isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Casual",price:0,billingPeriod:"per visit",closed:!1,isActive:!0,sortOrder:4}];function Xae(){const{getValue:e}=Fr(["membership_title","membership_subtitle","membership_cta","membership_cta_url"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/pricing-tiers"],queryFn:async()=>{try{const c=await fetch("/api/pricing-tiers");if(!c.ok)return[];const u=await c.json();return Array.isArray(u)?u:[]}catch{return[]}},staleTime:1e3*60*5}),{data:n=[]}=de({queryKey:["/api/site-images","membership"],queryFn:async()=>{const u=await(await fetch("/api/site-images?page=membership")).json();return Array.isArray(u)?u:[]},staleTime:1e3*60*5}),a=c=>{const u=n.find(d=>d.section===`tier-${c.toLowerCase()}`&&d.isActive);return(u==null?void 0:u.imageUrl)||Gae[c]||vO},i=x.useMemo(()=>{const c=n.find(u=>u.section==="background"&&u.isActive);return(c==null?void 0:c.imageUrl)||vO},[n]),o=x.useMemo(()=>!t||t.length===0?Yae:t.filter(c=>c.isActive).sort((c,u)=>(c.sortOrder||0)-(u.sortOrder||0)).map(c=>({id:c.id,name:c.name,tier:c.tier,tagline:c.tier==="FOUNDING"?"Exclusive":c.tier==="GOLD"?"Premium":c.tier==="SILVER"?"Standard":"Casual",price:c.price,billingPeriod:c.billingPeriod||"monthly",closed:c.tier==="FOUNDING",isActive:c.isActive,sortOrder:c.sortOrder||0})),[t]),l=(c,u)=>{if(c===0||!c)return"Pay per use";const d=u==="yearly"?"/yr":"/mo";return`PKR ${(c/1e3).toFixed(0)}k${d}`};return r?s.jsx("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:s.jsx("div",{className:"qd-container relative z-10",children:s.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3,4].map(c=>s.jsx(De,{className:"aspect-[4/3] w-72 rounded-xl flex-shrink-0"},c))})})}):s.jsxs("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-5 dark:opacity-10",style:{backgroundImage:`url(${i})`}}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-membership-title",children:e("membership_title")||Ee.membership_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("membership_subtitle")||Ee.membership_subtitle})]}),s.jsx(ge,{href:e("membership_cta_url")||Ee.membership_cta_url||"/membership",children:s.jsx(M,{className:"rounded-full","data-testid":"button-inquire-membership",children:e("membership_cta")||Ee.membership_cta})})]}),s.jsx(Jp,{opts:{align:"start",loop:!0},plugins:[kf({delay:5e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Zp,{className:"-ml-2 md:-ml-4",children:o.map(c=>{const u=Qae[c.tier]||yr,d=xO[c.tier]||xO.GUEST,f=a(c.tier);return s.jsx(eg,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/4",children:s.jsx(ge,{href:"/membership",children:s.jsxs("div",{className:"group relative aspect-[3/4] rounded-xl overflow-hidden cursor-pointer","data-testid":`membership-tier-${c.tier.toLowerCase()}`,children:[s.jsx("img",{src:f,alt:c.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${d.gradient}`}),c.closed&&s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-bold bg-red-500 text-white",children:"CLOSED"})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d.badge}`,children:s.jsx(u,{className:"w-5 h-5 text-white"})})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[s.jsx("p",{className:"text-xs uppercase tracking-wider text-white/70 mb-1",children:c.tagline}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:c.name}),s.jsx("p",{className:"text-lg font-semibold text-white/90 mb-2",children:l(c.price,c.billingPeriod)}),s.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:["View details",s.jsx(ca,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]})})},c.id)})})}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e("membership_footer")||Ee.membership_footer}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(ge,{href:e("membership_contact_cta_url")||Ee.membership_contact_cta_url||"/contact",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-contact-membership",children:e("membership_contact_cta")||Ee.membership_contact_cta})}),s.jsx(ge,{href:e("membership_terms_cta_url")||Ee.membership_terms_cta_url||"/terms",children:s.jsx(M,{variant:"ghost",className:"rounded-full text-muted-foreground","data-testid":"button-view-terms-membership",children:e("membership_terms_cta")||Ee.membership_terms_cta})})]})]})]})]})}function Jae(){const{getValue:e}=Fr(["rules_title","rules_subtitle","rules_cta","rules_cta_url"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/rules"]}),n=(t==null?void 0:t.slice(0,4))||[];return s.jsx("section",{id:"rules",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-rules-title",children:e("rules_title")||Ee.rules_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("rules_subtitle")||Ee.rules_subtitle})]}),s.jsx(ge,{href:e("rules_cta_url")||Ee.rules_cta_url||"/rules",children:s.jsxs(M,{variant:"outline",className:"rounded-full","data-testid":"button-view-all-rules",children:[e("rules_cta")||Ee.rules_cta," ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Rules coming soon..."}):s.jsx("div",{className:"qd-rules-grid",children:n.map((a,i)=>s.jsx(ge,{href:"/rules",children:s.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`rule-item-${i}`,children:[s.jsx("h4",{className:"font-bold text-foreground mb-2",children:a.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a.content})]})},a.id))})]})})}function Zae(){var a;const{getValue:e}=Fr(["careers_title","careers_subtitle","careers_cta","careers_cta_url"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/careers"]}),n=((a=t==null?void 0:t.filter(i=>i.isActive))==null?void 0:a.slice(0,4))||[];return s.jsx("section",{id:"careers",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-careers-title",children:e("careers_title")||Ee.careers_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("careers_subtitle")||Ee.careers_subtitle})]}),s.jsx(ge,{href:e("careers_cta_url")||Ee.careers_cta_url||"/careers",children:s.jsxs(M,{className:"rounded-full","data-testid":"button-submit-cv",children:[e("careers_cta")||Ee.careers_cta," ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No open positions at the moment. Check back soon!"}):s.jsx("div",{className:"qd-rules-grid",children:n.map((i,o)=>s.jsx(ge,{href:"/careers",children:s.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`career-position-${o}`,children:[s.jsx("h4",{className:"font-bold text-foreground mb-2",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})},i.id))})]})})}const Yg="The Quarterdeck",eie="Premium sports and recreation complex in Islamabad, Pakistan featuring Padel Tennis, Squash, Air Rifle Range, and more. Book your facilities, join events, and become a member today.";function Ur({title:e,description:t=eie,ogTitle:r,ogDescription:n,ogImage:a,ogType:i="website",twitterCard:o="summary_large_image",canonicalUrl:l}={}){x.useEffect(()=>{const c=e?`${e} | ${Yg}`:Yg;document.title=c;const u=(d,f,h=!1)=>{const p=h?`meta[property="${d}"]`:`meta[name="${d}"]`;let y=document.querySelector(p);y||(y=document.createElement("meta"),h?y.setAttribute("property",d):y.setAttribute("name",d),document.head.appendChild(y)),y.setAttribute("content",f)};if(u("description",t),u("og:title",r||c,!0),u("og:description",n||t,!0),u("og:type",i,!0),u("og:site_name",Yg,!0),a&&u("og:image",a,!0),l){u("og:url",l,!0);let d=document.querySelector('link[rel="canonical"]');d||(d=document.createElement("link"),d.setAttribute("rel","canonical"),document.head.appendChild(d)),d.setAttribute("href",l)}return u("twitter:card",o),u("twitter:title",r||c),u("twitter:description",n||t),a&&u("twitter:image",a),()=>{document.title=Yg}},[e,t,r,n,a,i,o,l])}const sj=[{id:"about",component:()=>s.jsx(qse,{}),altBackground:!0,visibilityKey:"section_about_visible",orderKey:"section_about_order"},{id:"facilities",component:()=>s.jsx(Uae,{}),altBackground:!1,visibilityKey:"section_facilities_visible",orderKey:"section_facilities_order"},{id:"updates",component:()=>s.jsx(Vae,{}),altBackground:!0,visibilityKey:"section_updates_visible",orderKey:"section_updates_order"},{id:"gallery",component:()=>s.jsx(Hae,{}),altBackground:!1,visibilityKey:"section_gallery_visible",orderKey:"section_gallery_order"},{id:"membership",component:()=>s.jsx(Xae,{}),altBackground:!0,visibilityKey:"section_membership_visible",orderKey:"section_membership_order"},{id:"rules",component:()=>s.jsx(Jae,{}),altBackground:!1,visibilityKey:"section_rules_visible",orderKey:"section_rules_order"},{id:"careers",component:()=>s.jsx(Zae,{}),altBackground:!0,visibilityKey:"section_careers_visible",orderKey:"section_careers_order"}];function tie(){Ur({description:"The Quarterdeck is Islamabad's premier sports and recreation complex featuring Padel Tennis, Squash, Air Rifle Range, and exclusive membership packages. Book facilities and join events today."});const e=[...sj.map(n=>n.visibilityKey),...sj.map(n=>n.orderKey)],{getValue:t}=Fr(e,Ee),r=x.useMemo(()=>sj.filter(n=>Bse(t(n.visibilityKey))).sort((n,a)=>{const i=parseInt(t(n.orderKey)||"99",10),o=parseInt(t(a.orderKey)||"99",10);return i-o}),[t]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Vse,{}),r.map(n=>{const a=n.component;return n.altBackground?s.jsx("div",{className:"qd-section-alt",children:s.jsx(a,{})},n.id):s.jsx(a,{},n.id)})]}),s.jsx(ar,{})]})}const Y=x.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:we("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Y.displayName="Input";const rie=Mp("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function le({className:e,variant:t,...r}){return s.jsx("div",{className:we(rie({variant:t}),e),...r})}function Qa(e){return e.toLocaleString("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0})}function nie(e,t){const[r,n]=e.split(":").map(Number),a=r*60+n+t,i=Math.floor(a/60),o=a%60;return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function yO(e){const t=parseInt(e.split(":")[0]);return t>=10&&t<17}const Bb=()=>"Notification"in window,sie=()=>Bb()?Notification.permission:"unsupported",aie=async()=>Bb()?Notification.permission==="granted"?"granted":Notification.permission!=="denied"?await Notification.requestPermission():Notification.permission:(console.warn("Push notifications are not supported in this browser"),"unsupported"),bO=e=>{if(!Bb())return console.warn("Push notifications are not supported"),null;if(Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;const t=new Notification(e.title,{body:e.body,icon:e.icon||"/favicon.ico",tag:e.tag,requireInteraction:e.requireInteraction||!1});return e.onClick&&(t.onclick=()=>{var r;window.focus(),(r=e.onClick)==null||r.call(e),t.close()}),t},wO={bookingReminder:(e,t,r)=>({title:"Upcoming Booking Reminder",body:`Your ${e} booking is scheduled for ${t} on ${r}`,tag:"booking-reminder",requireInteraction:!0}),bookingConfirmed:e=>({title:"Booking Confirmed",body:`Your booking for ${e} has been confirmed!`,tag:"booking-confirmed"}),paymentVerified:e=>({title:"Payment Verified",body:`Your payment for ${e} has been verified`,tag:"payment-verified"}),eventReminder:(e,t)=>({title:"Event Reminder",body:`Don't forget: ${e} is happening on ${t}`,tag:"event-reminder",requireInteraction:!0})};function iie(){const[e]=x.useState(()=>Bb()),[t,r]=x.useState("default");x.useEffect(()=>{r(sie())},[]);const n=x.useCallback(async()=>{const o=await aie();return r(o),o},[]),a=x.useCallback((o,l)=>{if(t!=="granted")return;const c=wO.bookingReminder(l,o.startTime,o.date);bO(c)},[t]),i=x.useCallback((o,l)=>{if(t!=="granted")return;const c=wO.eventReminder(o,l);bO(c)},[t]);return{isSupported:e,permission:t,requestPermission:n,showBookingReminder:a,showEventReminder:i}}const oie="/assets/bottled_mineral_wate_edb6abad-CPxK56g4.jpg",jO={"padel-tennis":rl,squash:Yp,"air-rifle-range":$c,"bridge-room":hb,"multipurpose-hall":un},Xg=["padel-tennis","squash","air-rifle-range","bridge-room","multipurpose-hall"];function lie({initialView:e="booking"}){var uP,dP,fP;const{user:t,isAuthenticated:r}=ul(),{toast:n}=ht(),{isSupported:a,permission:i,requestPermission:o}=iie(),[l,c]=x.useState(e),[u,d]=x.useState(null),[f,h]=x.useState("Islamabad"),[p,y]=x.useState(()=>new Date().toISOString().split("T")[0]),[m,w]=x.useState(60),[g,v]=x.useState(1),[b,j]=x.useState(null),[_,N]=x.useState("cash"),[S,C]=x.useState(!1),[P,k]=x.useState("self"),[E,T]=x.useState(""),[I,R]=x.useState(null),[D,O]=x.useState(new Set),[W,A]=x.useState({}),[$,Q]=x.useState(!1),[X,U]=x.useState(!1),[J,z]=x.useState(1),[ee,pe]=x.useState(null),[te,be]=x.useState("cumulative"),[ae,B]=x.useState(!1),ce=x.useRef(!0),G=x.useRef(null);x.useEffect(()=>(ce.current=!0,()=>{ce.current=!1,G.current&&(clearTimeout(G.current),G.current=null)}),[]);const{data:L}=de({queryKey:["/api/memberships/my"],queryFn:async()=>{try{const K=await fetch("/api/memberships/my",{credentials:"include"});return K.status===404||!K.ok?null:await K.json()}catch{return null}},enabled:r,staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:ve}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const K=await fetch("/api/site-settings");if(!K.ok)return{};const me=await K.json();return me&&typeof me=="object"&&!me.message?me:{}}catch{return{}}}}),Fe=ve||{},st={bankName:(Fe==null?void 0:Fe.bank_name)||"Bank Details Loading...",accountTitle:(Fe==null?void 0:Fe.bank_account_title)||"-",accountNumber:(Fe==null?void 0:Fe.bank_account_number)||"-",iban:(Fe==null?void 0:Fe.bank_iban)||"-"},{data:vt=[]}=de({queryKey:["/api/leaderboard",te==="cumulative"?void 0:te],queryFn:async()=>{try{const K=te==="cumulative"?"":`?facilityId=${te}`,me=await fetch(`/api/leaderboard${K}`);if(!me.ok)return[];const ct=await me.json();return Array.isArray(ct)?ct:[]}catch{return[]}}}),{data:qt=[]}=de({queryKey:["/api/pricing-tiers"]}),$t=x.useMemo(()=>{const K={FOUNDING:0,GOLD:0,SILVER:0,GUEST:0};return qt.forEach(me=>{if(me.discountPercent!==null&&me.discountPercent!==void 0)K[me.tier]=me.discountPercent;else{const $e=(me.benefits||[]).find(or=>or.toLowerCase().includes("discount")&&or.toLowerCase().includes("off-peak"));if($e){const or=$e.match(/(\d+)%/);or&&(K[me.tier]=parseInt(or[1],10))}}}),K},[qt]),Nr=x.useMemo(()=>{const K={FOUNDING:14,GOLD:7,SILVER:5,GUEST:2};return qt.forEach(me=>{me.advanceBookingDays!==null&&me.advanceBookingDays!==void 0&&(K[me.tier]=me.advanceBookingDays)}),K},[qt]),V=x.useMemo(()=>{const K=(L==null?void 0:L.tier)||"GUEST",me=(L==null?void 0:L.status)||"PENDING_PAYMENT",ct=me==="ACTIVE";return{name:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest",email:(t==null?void 0:t.email)||"",creditBalance:(t==null?void 0:t.creditBalance)||0,totalHoursPlayed:(t==null?void 0:t.totalHoursPlayed)||0,guestPasses:(L==null?void 0:L.guestPasses)||0,membershipTier:K,membershipStatus:me,membershipNumber:(L==null?void 0:L.membershipNumber)||null,membershipExpiry:(L==null?void 0:L.validTo)||null,isSafetyCertified:(t==null?void 0:t.isSafetyCertified)||!1,hasSignedWaiver:(t==null?void 0:t.hasSignedWaiver)||!1,isActiveMember:ct}},[t,r,L]),Z=x.useMemo(()=>{const K=V.membershipTier,ct=V.isActiveMember&&Nr[K]||2,$e=new Date;return $e.setDate($e.getDate()+ct),$e.toISOString().split("T")[0]},[V.membershipTier,V.isActiveMember,Nr]),oe=x.useMemo(()=>p<=Z,[p,Z]);x.useEffect(()=>{const K=new URLSearchParams(window.location.search),me=K.get("success"),ct=K.get("session_id"),$e=K.get("canceled");me==="true"&&ct?xe("POST","/api/stripe/verify-session",{sessionId:ct}).then(or=>or.json()).then(or=>{or.booking&&(n({title:"Payment Successful!",description:"Your booking has been confirmed and paid."}),re.invalidateQueries({queryKey:["/api/bookings"]}))}).catch(or=>{n({title:"Payment Verification Failed",description:or.message||"Please contact support if your payment was deducted.",variant:"destructive"})}).finally(()=>{window.history.replaceState({},"",window.location.pathname)}):$e==="true"&&(n({title:"Payment Canceled",description:"Your payment was canceled. No charges were made.",variant:"default"}),window.history.replaceState({},"",window.location.pathname))},[n]);const{data:Ae=[]}=de({queryKey:["/api/bookings",u==null?void 0:u.id,p],enabled:!!u}),{data:je=[],isLoading:Se}=de({queryKey:["/api/facilities"],queryFn:async()=>{try{const K=await fetch("/api/facilities");if(!K.ok)return[];const me=await K.json();return Array.isArray(me)?me:[]}catch{return[]}}}),{data:ze=[]}=de({queryKey:["/api/venues"],queryFn:async()=>{try{const K=await fetch("/api/venues");if(!K.ok)return[];const me=await K.json();return Array.isArray(me)?me:[]}catch{return[]}}}),{data:Rt=[]}=de({queryKey:["/api/hall-activities"],queryFn:async()=>{try{const K=await fetch("/api/hall-activities");if(!K.ok)return[];const me=await K.json();return Array.isArray(me)?me:[]}catch{return[]}}}),Tt=x.useMemo(()=>ze.length===0?["Islamabad"]:ze.map(K=>K.city),[ze]),Br=x.useMemo(()=>Rt.length===0?[]:Rt.map(K=>({value:K.name,label:K.name})),[Rt]),Un=x.useMemo(()=>new Date(p+"T12:00:00").getDay(),[p]),An=x.useMemo(()=>{if(!u)return null;const K=je.find(me=>me.slug===u.id);return(K==null?void 0:K.id)||null},[je,u==null?void 0:u.id]),Wa=x.useMemo(()=>{const K=ze.find(me=>me.city===f);return(K==null?void 0:K.id)||null},[ze,f]),{data:Ka=[]}=de({queryKey:["/api/operating-hours",Un],queryFn:async()=>{try{const K=await fetch(`/api/operating-hours?dayOfWeek=${Un}`);if(!K.ok)return[];const me=await K.json();return Array.isArray(me)?me:[]}catch{return[]}}}),vi=x.useMemo(()=>{const K=An?Ka.find(hn=>!hn.isClosed&&!hn.isHoliday&&hn.facilityId===An&&hn.dayOfWeek===Un):null,me=Wa?Ka.find(hn=>!hn.isClosed&&!hn.isHoliday&&hn.venueId===Wa&&!hn.facilityId&&hn.dayOfWeek===Un):null,ct=Ka.find(hn=>!hn.isClosed&&!hn.isHoliday&&!hn.facilityId&&!hn.venueId&&hn.dayOfWeek===Un),$e=K||me||ct;if(!$e)return[];const or=[],ru=$e.slotDurationMinutes||60,[dg,Gf]=$e.openTime.split(":").map(Number),[nu,fg]=$e.closeTime.split(":").map(Number);let xi=dg*60+Gf;const Qf=nu*60+fg-m;for(;xi<=Qf;){const hn=Math.floor(xi/60),g7=xi%60;or.push(`${hn.toString().padStart(2,"0")}:${g7.toString().padStart(2,"0")}`),xi+=ru}return or},[Ka,Un,An,Wa,m]),{data:Xc=[]}=de({queryKey:["/api/facilities",u==null?void 0:u.id,"addons"],queryFn:async()=>{if(!u)return[];try{const K=await fetch(`/api/facilities/${u.id}/addons`);if(!K.ok)return[];const me=await K.json();return Array.isArray(me)?me:[]}catch{return[]}},enabled:!!(u!=null&&u.id)}),Jc={Target:na,CircleDot:oG,Droplets:uG,ShieldCheck:Pd,Headphones:pG,Glasses:mG,Coffee:Pk,Speaker:RG},xl=x.useMemo(()=>Xc.map(K=>({id:K.id,label:K.label,price:K.price,icon:K.icon&&Jc[K.icon]||na,image:K.imageUrl||oie})),[Xc]),yl=x.useMemo(()=>{const K={};return je.forEach(me=>{K[me.id]=me.slug}),K},[je]),zs=x.useMemo(()=>je.length===0?[]:je.filter(K=>K.status==="ACTIVE"&&K.slug!=="bridge-room").map(K=>({id:K.slug,label:K.name,count:K.resourceCount||1,basePrice:K.basePrice,minPlayers:K.minPlayers||1,icon:jO[K.slug]||un,requiresCert:K.requiresCertification||!1,restricted:K.isRestricted||!1})).sort((K,me)=>{const ct=Xg.indexOf(K.id),$e=Xg.indexOf(me.id);return(ct===-1?999:ct)-($e===-1?999:$e)}),[je]),Wf=x.useMemo(()=>je.filter(K=>K.slug!=="bridge-room").map(K=>({id:K.slug,label:K.name,count:K.resourceCount||1,basePrice:K.basePrice,minPlayers:K.minPlayers||1,icon:jO[K.slug]||un,requiresCert:K.requiresCertification||!1,restricted:K.isRestricted||!1,status:K.status})).sort((K,me)=>{const ct=Xg.indexOf(K.id),$e=Xg.indexOf(me.id);return(ct===-1?999:ct)-($e===-1?999:$e)}),[je]);x.useEffect(()=>{if(zs.length>0)if(!u||!zs.find(K=>K.id===u.id))d(zs[0]);else{const K=zs.find(me=>me.id===u.id);K&&(K.count!==u.count||K.basePrice!==u.basePrice)&&d(K)}},[zs,u==null?void 0:u.id]),x.useEffect(()=>{Tt.length>0&&!Tt.includes(f)&&h(Tt[0])},[Tt,f]);const{data:Kf=[]}=de({queryKey:["/api/events"]}),Zc=ye({mutationFn:async K=>await xe("POST",`/api/events/${K.eventId}/register`,K),onSuccess:()=>{ce.current&&(n({title:"Registration Submitted!",description:"Your registration is pending approval. You'll receive a confirmation email once approved."}),re.invalidateQueries({queryKey:["/api/events"]}))},onError:K=>{ce.current&&n({title:"Registration Failed",description:K.message||"Unable to register for this event.",variant:"destructive"})}}),tw=K=>{if(!r||!t){n({title:"Login Required",description:"Please log in to register for events.",variant:"destructive"}),window.location.href="/login";return}Zc.mutate({eventId:K.id,fullName:`${t.firstName||""} ${t.lastName||""}`.trim()||"Member",email:t.email||""})},eu=f!=="Islamabad",tu=ye({mutationFn:async K=>await xe("POST","/api/bookings",K),onSuccess:async(K,me)=>{if(!ce.current)return;const ct=me.paymentMethod==="bank_transfer",$e=me.paymentMethod==="cash";n(ct?{title:"Booking Created!",description:"Please complete your bank transfer and share the receipt with us for verification."}:$e?{title:"Booking Created!",description:"Please pay at the facility on your booking date. Your booking will be confirmed upon payment."}:{title:"Booking Created!",description:"Your booking has been successfully created."}),a&&i==="default"&&(G.current=setTimeout(()=>{ce.current&&n({title:"Enable Booking Reminders?",description:"Get notified 1 hour before your booking starts.",action:s.jsx(M,{size:"sm",onClick:async()=>{await o()==="granted"&&ce.current&&n({title:"Reminders Enabled",description:"You'll receive notifications before your bookings."})},"data-testid":"button-enable-notifications",children:"Enable"})})},1500)),re.invalidateQueries({queryKey:["/api/bookings"]}),ce.current&&(j(null),O(new Set),Q(!1),U(!1),z(1))},onError:K=>{var ct;if(!ce.current)return;const me=(ct=K.message)==null?void 0:ct.includes("certification");n({title:me?"Certification Required":"Booking Failed",description:me?"This facility requires a valid certification to book. Visit our Certifications page to complete the required training.":K.message,variant:"destructive"})}}),rw=K=>{const me=iP(K),ct=me+m;return Ae.some($e=>{if($e.date!==p||$e.resourceId!==g||$e.status==="CANCELLED")return!1;const or=iP($e.startTime),ru=or+($e.durationMinutes||60);return me<ru&&ct>or})},iP=K=>{const[me,ct]=K.split(":").map(Number);return me*60+ct},f7=async K=>{const me=K.trim().toUpperCase();if(T(me),!me){R(null);return}if(!/^QD-\d{4}$/.test(me)){R(!1);return}B(!0);try{const $e=await fetch(`/api/memberships/validate/${me}`);if(!$e.ok){R(!1);return}const or=await $e.json();R(or.valid===!0)}catch{R(!1)}finally{B(!1)}},ys=x.useMemo(()=>{if(!b||!u)return null;let ct=u.basePrice/60*m,$e=0;const or=V.membershipTier,ru=V.isActiveMember,dg=yO(b),Gf=$t[or]||0;dg&&ru&&Gf>0&&($e=ct*(Gf/100));let nu=0;D.forEach(xi=>{const nw=xl.find(Qf=>Qf.id===xi);if(nw){const Qf=W[xi]??1;nu+=nw.price*Qf}}),$&&(nu+=4e3);let fg=null;if(dg&&ru&&$e>0){const xi=or.charAt(0)+or.slice(1).toLowerCase();fg=`${Gf}% ${xi} (Off-Peak)`}return{basePrice:Math.round(ct),discount:Math.round($e),discountLabel:fg,addOnTotal:nu,totalPrice:Math.round(ct-$e+nu),date:p,startTime:b,endTime:nie(b,m)}},[b,u,m,D,W,$,p,V.membershipTier,V.isActiveMember,xl,$t]),h7=K=>{const me=new Set(D);me.has(K.id)?me.delete(K.id):(me.add(K.id),A(ct=>({...ct,[K.id]:ct[K.id]??1}))),O(me)},oP=(K,me)=>{A(ct=>{const $e=ct[K]??1,or=Math.min(10,Math.max(1,$e+me));return{...ct,[K]:or}})},m7=async()=>{if(!(!ys||!b||!u)){if(!oe){const K=V.membershipTier,me=V.isActiveMember&&Nr[K]||2;n({title:"Date Out of Range",description:`Your membership tier allows booking up to ${me} days in advance.`,variant:"destructive"});return}if(u.id==="multipurpose-hall"&&!ee){n({title:"Activity Required",description:"Please select a purpose for the Multipurpose Hall booking.",variant:"destructive"});return}tu.mutate({facilitySlug:u.id,venue:f,resourceId:g,date:p,startTime:b,endTime:ys.endTime,durationMinutes:m,paymentMethod:_,payerType:P.toUpperCase(),payerMembershipNumber:P==="member"?E:null,basePrice:ys.basePrice,discount:ys.discount,addOnTotal:ys.addOnTotal,totalPrice:ys.totalPrice,coachBooked:$,isMatchmaking:X,currentPlayers:J,maxPlayers:u.minPlayers,hallActivity:ee,addOns:Array.from(D).map(K=>({id:K,quantity:W[K]??1}))})}},p7=K=>{switch(K){case"Academy":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Tournament":return"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300";case"Social":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300";case"Class":return"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-300"}},lP=Wf.filter(K=>K.id!=="bridge-room"&&K.id!=="multipurpose-hall"),cP=x.useMemo(()=>vt.map(K=>({name:K.playerName||"Member",points:K.rankingPoints,tier:"Member",facility:K.facilityId})),[vt]),Hf=()=>{window.location.href="/"};return Se||zs.length===0||!u?s.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[s.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 w-full md:w-72 flex-shrink-0 p-6 border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700",children:[s.jsx(De,{className:"h-8 w-48 mb-2"}),s.jsx(De,{className:"h-3 w-32 mb-6"}),s.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(K=>s.jsx(De,{className:"h-12 rounded-xl"},K))})]}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(De,{className:"h-6 w-24"}),s.jsx(De,{className:"h-6 w-6 rounded-full"}),s.jsx(De,{className:"h-6 w-32"})]}),s.jsx(De,{className:"h-8 w-48 mb-6"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8",children:[1,2,3,4].map(K=>s.jsx(De,{className:"h-24 rounded-xl"},K))}),s.jsx(De,{className:"h-6 w-32 mb-4"}),s.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,3].map(K=>s.jsx(De,{className:"h-10 w-20 rounded-md"},K))}),s.jsx(De,{className:"h-40 rounded-xl"})]})]}):s.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[s.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700 w-full md:w-72 flex-shrink-0 p-6 flex flex-col justify-between shadow-sm",children:[s.jsxs("div",{children:[s.jsx(ge,{href:"/",children:s.jsxs("div",{className:"cursor-pointer","data-testid":"link-sidebar-logo",children:[s.jsx("h1",{className:"text-2xl font-extrabold text-[#2a4060] dark:text-sky-400 mb-1 tracking-tight",children:"THE QUARTERDECK"}),s.jsx("p",{className:"text-[11px] text-muted-foreground mb-6 uppercase tracking-[0.18em]",children:"Central Booking Console"})]})}),s.jsxs("nav",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>c("booking"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="booking"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-booking",children:[s.jsx(ax,{className:"w-4 h-4"})," Book Facility"]}),r&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>c("events"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="events"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-events",children:[s.jsx(os,{className:"w-4 h-4"})," Events & Academies"]}),s.jsxs("button",{onClick:()=>c("leaderboard"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="leaderboard"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-leaderboard",children:[s.jsx(os,{className:"w-4 h-4"})," Leaderboard"]}),s.jsxs("button",{onClick:()=>c("profile"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="profile"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-profile",children:[s.jsx(cs,{className:"w-4 h-4"})," My Profile"]})]})]})]}),r&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-4 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(ZE,{className:"w-5 h-5 text-amber-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Credit Balance"}),s.jsx("p",{className:"text-lg font-bold",children:Qa(V.creditBalance)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(JE,{className:"w-5 h-5 text-sky-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Hours Played"}),s.jsxs("p",{className:"text-lg font-bold",children:[V.totalHoursPlayed," hrs"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lx,{className:"w-5 h-5 text-emerald-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Guest Passes"}),s.jsx("p",{className:"text-lg font-bold",children:V.guestPasses})]})]})]})]}),s.jsxs("div",{className:"flex-grow p-4 md:p-8 relative overflow-auto bg-gray-50 dark:bg-slate-900",children:[l==="booking"&&!r&&s.jsx("div",{className:"max-w-md mx-auto mt-16 animate-qd-fade-in",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg text-center",children:[s.jsx(cs,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2","data-testid":"text-auth-required",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to access the booking system and make reservations."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ge,{href:"/login",className:"block",children:s.jsx(M,{className:"w-full","data-testid":"button-login-booking",children:"Sign In to Continue"})}),s.jsxs(M,{variant:"outline",className:"w-full",onClick:Hf,"data-testid":"button-back-home-auth",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})}),l==="booking"&&r&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-qd-fade-in",children:[s.jsxs("section",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Hf,className:"rounded-full","data-testid":"button-back-home",children:[s.jsx(Sn,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-extrabold","data-testid":"text-booking-title",children:"Central Booking"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your venue, facility, time and extras."})]})]}),s.jsx("div",{className:"mt-3 sm:mt-0",children:s.jsxs("div",{className:"max-w-xs sm:text-right",children:[s.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Venue"}),s.jsx("select",{value:f,onChange:K=>{h(K.target.value),zs.length>0&&d(zs[0]),v(1),j(null),O(new Set),A({}),Q(!1),U(!1),z(1),pe(null)},className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500","data-testid":"select-venue",children:Tt.map(K=>s.jsx("option",{value:K,children:K},K))}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["Booking preview for: ",f]})]})})]}),eu&&s.jsxs("section",{className:"relative bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 rounded-2xl p-8 text-center shadow-lg border border-slate-300 dark:border-slate-700",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-sky-500/10 rounded-2xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(gs,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),s.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["Coming Soon to ",f]}),s.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:["We're expanding! The Quarterdeck ",f," is currently under development. Stay tuned for updates on our upcoming locations."]}),s.jsx(le,{className:"bg-amber-500/10 text-amber-700 dark:text-amber-400 border-amber-500/30",children:"Expected 2026-2027"}),s.jsx("div",{className:"mt-6",children:s.jsx(M,{variant:"outline",onClick:()=>h("Islamabad"),"data-testid":"button-switch-to-islamabad",children:"Switch to Islamabad (Available Now)"})})]})]}),!eu&&s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"1. Select Facility"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:zs.map(K=>{const me=K.icon,ct=(u==null?void 0:u.id)===K.id,$e=K.restricted&&V.membershipTier!=="FOUNDING";return s.jsxs("button",{onClick:()=>{$e?n({title:"Restricted Area",description:"Exclusive to Founding Members and Armed Forces.",variant:"destructive"}):(d(K),v(1),j(null),U(!1),pe(null))},className:`p-4 rounded-xl shadow-sm border flex flex-col items-center justify-center transition-all relative overflow-hidden cursor-pointer ${$e?"opacity-60 bg-gray-100 dark:bg-slate-700 border-gray-200 dark:border-slate-600":ct?"ring-4 ring-amber-300 bg-white dark:bg-slate-800 border-amber-500":"bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-600 hover:border-sky-500"}`,"data-testid":`button-facility-${K.id}`,children:[s.jsx(me,{className:"w-8 h-8 mb-1 text-[#2a4060] dark:text-sky-400"}),s.jsx("p",{className:"font-semibold text-sm",children:K.label}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[K.count," available"]}),$e&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white text-xs font-bold",children:"RESTRICTED"})]},K.id)})})]}),!eu&&s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 space-y-4",children:[s.jsxs("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700",children:["2. Select Resource (",(u==null?void 0:u.label)||"Facility",")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:(u==null?void 0:u.count)||1}).map((K,me)=>s.jsxs("button",{onClick:()=>v(me+1),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${g===me+1?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-resource-${me+1}`,children:["Court ",me+1]},me+1))}),(u==null?void 0:u.id)==="multipurpose-hall"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Purpose of Multipurpose Event"}),s.jsxs("select",{value:ee||"",onChange:K=>pe(K.target.value),className:"w-full p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"select-hall-activity",children:[s.jsx("option",{value:"",children:"-- Select Activity --"}),Br.map(K=>s.jsx("option",{value:K.value,children:K.label},K.value))]})]}),u&&u.id!=="hall"&&!u.restricted&&s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("label",{className:"text-sm font-medium",children:"Enable Matchmaking (Join a game)"}),s.jsx("button",{onClick:()=>U(!X),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${X?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-matchmaking",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${X?"translate-x-6":"translate-x-1"}`})})]}),X&&s.jsxs("select",{value:J,onChange:K=>z(parseInt(K.target.value)),className:"w-full p-2 border rounded-lg text-sm bg-sky-50 dark:bg-sky-900/30 border-amber-200 dark:border-amber-700","data-testid":"select-group-size",children:[s.jsx("option",{value:1,children:"Just Me (1)"}),s.jsx("option",{value:2,children:"Pair (2)"}),s.jsx("option",{value:3,children:"Three (3)"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("label",{className:"text-sm font-medium",children:"Book a coach?"}),s.jsx("button",{onClick:()=>Q(!$),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${$?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-coach",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${$?"translate-x-6":"translate-x-1"}`})})]}),$&&s.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 font-semibold text-right",children:"+4,000 PKR"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"3. Select Date"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(mr,{className:"w-5 h-5 text-sky-500"}),s.jsx("input",{type:"date",value:p,min:new Date().toISOString().split("T")[0],max:Z,onChange:K=>{y(K.target.value),j(null)},className:"flex-1 p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"input-date"})]}),!oe&&s.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-1",children:[s.jsx(kn,{className:"w-3 h-3"}),"Your ",V.membershipTier," tier allows booking up to ",Nr[V.membershipTier]||2," days ahead"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"4. Select Duration"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[60,90,120].map(K=>s.jsxs("button",{onClick:()=>{w(K),j(null)},className:`px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2 ${m===K?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-duration-${K}`,children:[s.jsx(Ht,{className:"w-4 h-4"}),K," min"]},K))})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"5. Select Time Slot"}),vi.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Ht,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2 animate-pulse"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading available time slots..."})]}):s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 sm:gap-3",children:vi.map(K=>{const me=rw(K),ct=b===K,$e=yO(K);return s.jsxs("button",{onClick:()=>!me&&j(K),disabled:me,className:`py-2 px-1 rounded border text-sm font-medium transition relative overflow-hidden ${me?"bg-gray-200 dark:bg-slate-600 text-muted-foreground cursor-not-allowed opacity-70":ct?"bg-green-500 text-white shadow-lg border-green-500":"bg-white dark:bg-slate-700 text-foreground hover:bg-sky-50 dark:hover:bg-slate-600 border-gray-200 dark:border-slate-600"}`,"data-testid":`button-time-${K.replace(":","")}`,children:[K,$e&&!me&&!ct&&s.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-emerald-400 rounded-bl-md"})]},K)})}),vi.length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[s.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-400 rounded-full mr-1"}),"Green dot = Off-peak hours (10 AM - 5 PM) - All member tiers get discounts"]})]})]}),s.jsx("div",{className:"md:col-span-1 space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-t-4 border-sky-500",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"6. Extras & Payment"}),ys?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Add-ons"}),s.jsx("div",{className:"space-y-2",children:xl.map(K=>{const me=D.has(K.id),ct=W[K.id]??1;return s.jsxs("div",{onClick:()=>h7(K),className:`border rounded-xl px-3 py-2 flex items-center gap-3 text-sm transition cursor-pointer hover:shadow-sm ${me?"bg-sky-50 dark:bg-sky-900/30 border-amber-500 text-amber-800 dark:text-amber-300":"bg-white dark:bg-slate-700 border-gray-200 dark:border-slate-600"}`,"data-testid":`addon-${K.id}`,children:[s.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-slate-600",children:s.jsx("img",{src:K.image,alt:K.label,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"font-semibold truncate",children:K.label}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Qa(K.price)," per unit"]})]}),me&&s.jsxs("div",{className:"flex items-center gap-1 text-xs flex-shrink-0",onClick:$e=>$e.stopPropagation(),children:[s.jsx("button",{onClick:()=>oP(K.id,-1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:s.jsx(wG,{className:"w-3 h-3"})}),s.jsx("span",{className:"min-w-[1.5rem] text-center font-semibold",children:ct}),s.jsx("button",{onClick:()=>oP(K.id,1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:s.jsx(er,{className:"w-3 h-3"})})]})]},K.id)})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Payer Details"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-4 text-xs",children:[s.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"payer-type",checked:P==="self",onChange:()=>k("self"),className:"accent-sky-600"}),s.jsx("span",{children:"Self (use my account)"})]}),s.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"payer-type",checked:P==="member",onChange:()=>k("member"),className:"accent-sky-600"}),s.jsx("span",{children:"Another member will pay"})]})]}),P==="member"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-xs font-semibold",children:"Membership number of the payer"}),s.jsx(Y,{type:"text",value:E,onChange:K=>f7(K.target.value),placeholder:"e.g. QD-0001",className:"text-xs","data-testid":"input-payer-membership"}),I===!0&&s.jsxs("p",{className:"text-[10px] text-emerald-600 flex items-center gap-1",children:[s.jsx(wr,{className:"w-3 h-3"})," Membership found."]}),I===!1&&s.jsxs("p",{className:"text-[10px] text-rose-500 flex items-center gap-1",children:[s.jsx(kn,{className:"w-3 h-3"})," Membership not found."]})]})]})]}),s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2 border-t pt-4 border-gray-100 dark:border-slate-700",children:"Summary"}),s.jsxs("div",{className:"space-y-1 text-sm mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Base Rate (",m," min)"]}),s.jsx("span",{children:Qa(ys.basePrice)})]}),ys.discount>0&&s.jsxs("div",{className:"flex justify-between text-emerald-600",children:[s.jsxs("span",{children:["Member Discount (",ys.discountLabel,")"]}),s.jsxs("span",{children:["- ",Qa(ys.discount)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Add-Ons & Coach"}),s.jsxs("span",{children:["+ ",Qa(ys.addOnTotal)]})]})]}),s.jsxs("div",{className:"flex justify-between border-t border-dashed pt-3 border-gray-200 dark:border-slate-600",children:[s.jsx("span",{className:"font-bold text-lg",children:"TOTAL DUE"}),s.jsx("span",{className:"font-extrabold text-2xl text-sky-700 dark:text-sky-400",children:Qa(ys.totalPrice)})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>N("cash"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${_==="cash"?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-cash",children:"Pay On-Site"}),s.jsx("button",{onClick:()=>N("bank_transfer"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${_==="bank_transfer"?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-bank",children:"Bank Transfer"}),s.jsx("button",{onClick:()=>N("credits"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${_==="credits"?"bg-slate-900 text-white border-slate-900 dark:bg-slate-100 dark:text-slate-900 dark:border-slate-100":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-credits",children:"Credits"})]})]}),_==="bank_transfer"&&s.jsxs("div",{className:"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-xl",children:[s.jsx("h5",{className:"font-bold text-purple-800 dark:text-purple-300 text-sm mb-2",children:"Bank Transfer Instructions"}),s.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-400 space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Bank:"})," ",st.bankName]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Account Title:"})," ",st.accountTitle]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Account #:"})," ",st.accountNumber]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"IBAN:"})," ",st.iban]})]}),s.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-3 italic",children:"After payment, please share your receipt with admin for verification. Your booking will be confirmed once payment is verified."})]}),s.jsx(M,{onClick:m7,disabled:tu.isPending,className:"w-full mt-6 py-3 rounded-xl font-bold bg-sky-600 hover:bg-sky-500 shadow-lg","data-testid":"button-confirm-booking",children:tu.isPending?"Processing...":"Confirm Booking"})]}):s.jsx("p",{className:"text-center text-muted-foreground italic text-sm",children:"Please select a time slot to calculate price."})]})})]})]}),l==="events"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Hf,className:"rounded-full","data-testid":"button-events-back-home",children:[s.jsx(Sn,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-events-title",children:"Events & Academy"}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Classes, tournaments and social events."})]}),s.jsx("div",{className:"w-16"})," "]}),Kf.length>0?Wf.map(K=>{const me=K.icon,ct=Kf.filter($e=>yl[$e.facilityId]===K.id);return ct.length===0?null:s.jsxs("section",{className:`mb-8 p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-md border-t-4 ${K.id==="padel-tennis"?"border-sky-500":K.id==="air-rifle-range"?"border-red-400":K.id==="squash"?"border-slate-400":K.id==="bridge-room"?"border-blue-500":"border-purple-400"}`,"data-testid":`section-events-${K.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 dark:border-slate-700 pb-3",children:[s.jsx(me,{className:"w-8 h-8 text-[#2a4060] dark:text-sky-400"}),s.jsxs("h3",{className:"text-xl font-extrabold",children:[K.label," Programs"]}),K.status==="PLANNED"&&s.jsx(le,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:ct.map($e=>s.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-5 rounded-xl border border-gray-100 dark:border-slate-600 flex flex-col justify-between","data-testid":`card-event-${$e.id}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:`${p7($e.type)} text-[10px] font-bold px-2 py-0.5 rounded-full uppercase`,children:$e.type}),s.jsx("span",{className:"text-sm font-semibold text-sky-700 dark:text-sky-400",children:Qa($e.price)})]}),s.jsx("h4",{className:"font-bold text-lg mb-1",children:$e.title}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:[$e.scheduleDay," at ",$e.scheduleTime||"TBA"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:$e.description}),$e.instructor&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Instructor: ",$e.instructor]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[$e.enrolledCount||0," / ",$e.capacity," enrolled"]})]}),s.jsx(M,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>tw($e),disabled:Zc.isPending||($e.enrolledCount||0)>=$e.capacity,"data-testid":`button-register-${$e.id}`,children:Zc.isPending?"Registering...":($e.enrolledCount||0)>=$e.capacity?"Full":"Register"})]},$e.id))})]},K.id)}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(os,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Check back soon for upcoming events and academies."})]})]}),l==="leaderboard"&&s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Hf,className:"rounded-full","data-testid":"button-leaderboard-back-home",children:[s.jsx(Sn,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-leaderboard-title",children:te==="cumulative"?"Global Arena Leaderboard":`${((uP=zs.find(K=>K.id===te))==null?void 0:uP.label)||""} Top Scorers`}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Top performers across all facilities."})]}),s.jsx("div",{className:"w-16"})," "]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[s.jsx("button",{onClick:()=>be("cumulative"),className:`px-4 py-2 rounded-full text-sm font-medium transition ${te==="cumulative"?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":"button-leaderboard-cumulative",children:"All Facilities"}),lP.map(K=>{const me=K.icon;return s.jsxs("button",{onClick:()=>be(K.id),className:`px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-2 ${te===K.id?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-leaderboard-${K.id}`,children:[s.jsx(me,{className:"w-4 h-4"}),K.label]},K.id)})]}),s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg overflow-hidden",children:cP.length>0?cP.map((K,me)=>s.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-100 dark:border-slate-700 ${me===0?"bg-amber-50 dark:bg-amber-900/20":me===1?"bg-gray-50 dark:bg-slate-700/50":me===2?"bg-orange-50 dark:bg-orange-900/10":""}`,"data-testid":`leaderboard-entry-${me}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${me===0?"bg-amber-400 text-white":me===1?"bg-gray-400 text-white":me===2?"bg-orange-400 text-white":"bg-gray-200 dark:bg-slate-600 text-muted-foreground"}`,children:me+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:K.name}),s.jsx(le,{variant:"outline",className:"text-xs",children:K.tier})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-extrabold text-xl text-sky-700 dark:text-sky-400",children:K.points}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"points"})]})]},me)):s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(os,{className:"w-16 h-16 mx-auto text-muted-foreground/30 mb-4"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"No Rankings Yet"}),s.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:te==="cumulative"?"Once members start playing, top performers will appear here!":`Be the first to rank in ${((dP=lP.find(K=>K.id===te))==null?void 0:dP.label)||"this facility"}!`}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Book a session and start climbing the leaderboard"})]})})]}),l==="profile"&&s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Hf,className:"rounded-full","data-testid":"button-profile-back-home",children:[s.jsx(Sn,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold","data-testid":"text-profile-title",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Your membership details and stats"})]}),s.jsx("div",{className:"w-16"})]}),s.jsx("div",{className:"bg-gradient-to-r from-[#2a4060] to-[#1e3048] p-6 rounded-2xl shadow-lg text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:r&&t?((fP=t.firstName)==null?void 0:fP.charAt(0))||"M":"G"}),s.jsxs("div",{className:"text-center md:text-left flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold mb-1",children:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest User"}),s.jsx("p",{className:"text-white/70 text-sm mb-3",children:r&&t?t.email:"Not logged in"}),s.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[s.jsxs(le,{className:`${V.membershipTier==="FOUNDING"?"bg-amber-400 text-amber-900":V.membershipTier==="GOLD"?"bg-yellow-400 text-yellow-900":V.membershipTier==="SILVER"?"bg-gray-300 text-gray-800":"bg-slate-500 text-white"} font-bold px-3 py-1`,children:[V.membershipTier," MEMBER"]}),V.isActiveMember&&s.jsxs(le,{className:"bg-green-500 text-white font-medium px-3 py-1",children:[s.jsx(wr,{className:"w-3 h-3 mr-1"})," Active"]})]})]}),L&&s.jsxs("div",{className:"text-center md:text-right bg-white/10 px-4 py-3 rounded-xl",children:[s.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Member ID"}),s.jsx("p",{className:"font-mono font-bold text-lg",children:L.membershipNumber}),s.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Valid until ",new Date(L.validTo).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(ZE,{className:"w-8 h-8 mx-auto text-amber-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Qa(V.creditBalance)}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Credit Balance"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(JE,{className:"w-8 h-8 mx-auto text-sky-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:V.totalHoursPlayed}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Hours Played"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(lx,{className:"w-8 h-8 mx-auto text-emerald-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:V.guestPasses}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Guest Passes"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(ax,{className:"w-8 h-8 mx-auto text-purple-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Nr[V.membershipTier]||2}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Days Advance"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[s.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(os,{className:"w-4 h-4"})," Membership Benefits"]}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:s.jsxs("span",{className:"font-bold text-amber-600 dark:text-amber-400",children:[$t[V.membershipTier]||0,"%"]})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Off-Peak Discount"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"10AM - 5PM weekdays"})]})]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center",children:s.jsx(mr,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Booking Window"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Book up to ",Nr[V.membershipTier]||2," days ahead"]})]})]}),V.guestPasses>0&&s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:s.jsx(cs,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Guest Passes"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[V.guestPasses," passes remaining"]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[s.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(Pd,{className:"w-4 h-4"})," Certifications & Waivers"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${V.isSafetyCertified?"bg-green-50 dark:bg-green-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[V.isSafetyCertified?s.jsx(wr,{className:"w-5 h-5 text-green-600"}):s.jsx(kn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Air Rifle Safety"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:V.isSafetyCertified?"Certified":"Required for range access"})]})]}),s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${V.hasSignedWaiver?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[V.hasSignedWaiver?s.jsx(Ek,{className:"w-5 h-5 text-blue-600"}):s.jsx(kn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Liability Waiver"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:V.hasSignedWaiver?"Signed":"Sign at reception"})]})]})]})]})]}),!r&&s.jsxs("div",{className:"bg-gradient-to-r from-sky-500 to-blue-600 p-6 rounded-xl text-white text-center",children:[s.jsx(cs,{className:"w-12 h-12 mx-auto mb-3 opacity-80"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Sign In to Access Full Features"}),s.jsx("p",{className:"text-white/80 text-sm mb-4",children:"View your bookings, manage memberships, and more."}),s.jsx(ge,{href:"/login",children:s.jsx(M,{variant:"secondary","data-testid":"button-sign-in",children:"Sign In Now"})})]})]})]})]})}function cie(){return Ur({title:"Book a Facility",description:"Book sports facilities at The Quarterdeck - Padel Tennis, Squash, Air Rifle Range and more. Easy online booking with real-time availability."}),s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-6xl",children:s.jsx(lie,{})})})}const ne=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const Le=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("flex flex-col space-y-1.5 p-6",e),...t}));Le.displayName="CardHeader";const We=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("text-2xl font-semibold leading-none tracking-tight",e),...t}));We.displayName="CardTitle";const It=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("text-sm text-muted-foreground",e),...t}));It.displayName="CardDescription";const se=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("p-6 pt-0",e),...t}));se.displayName="CardContent";const Px=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("flex items-center p-6 pt-0",e),...t}));Px.displayName="CardFooter";var Vb="Tabs",[uie]=En(Vb,[Ib]),u6=Ib(),[die,g2]=uie(Vb),d6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Sf(l),[f,h]=ps({prop:n,onChange:a,defaultProp:i??"",caller:Vb});return s.jsx(die,{scope:r,baseId:Gr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Me.div,{dir:d,"data-orientation":o,...u,ref:t})})});d6.displayName=Vb;var f6="TabsList",h6=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=g2(f6,r),o=u6(r);return s.jsx(iF,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});h6.displayName=f6;var m6="TabsTrigger",p6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=g2(m6,r),l=u6(r),c=x6(o.baseId,n),u=y6(o.baseId,n),d=n===o.value;return s.jsx(oF,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ne(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ne(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});p6.displayName=m6;var g6="TabsContent",v6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=g2(g6,r),c=x6(l.baseId,n),u=y6(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(dn,{present:a||d,children:({present:h})=>s.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});v6.displayName=g6;function x6(e,t){return`${e}-trigger-${t}`}function y6(e,t){return`${e}-content-${t}`}var fie=d6,b6=h6,w6=p6,j6=v6;const ua=fie,Ds=x.forwardRef(({className:e,...t},r)=>s.jsx(b6,{ref:r,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ds.displayName=b6.displayName;const Bt=x.forwardRef(({className:e,...t},r)=>s.jsx(w6,{ref:r,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Bt.displayName=w6.displayName;const Vt=x.forwardRef(({className:e,...t},r)=>s.jsx(j6,{ref:r,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Vt.displayName=j6.displayName;function hie(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:p,...y}=f,m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,w=x.useMemo(()=>y,Object.values(y));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=x.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,mie(a,...t)]}function mie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var pie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],v2=pie.reduce((e,t)=>{const r=kb(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gie(){return zD.useSyncExternalStore(vie,()=>!0,()=>!1)}function vie(){return()=>{}}var x2="Avatar",[xie]=hie(x2),[yie,N6]=xie(x2),_6=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=x.useState("idle");return s.jsx(yie,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(v2.span,{...n,ref:t})})});_6.displayName=x2;var S6="AvatarImage",k6=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=N6(S6,r),l=bie(n,i),c=Rr(u=>{a(u),o.onImageLoadingStatusChange(u)});return Lr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(v2.img,{...i,ref:t,src:n}):null});k6.displayName=S6;var C6="AvatarFallback",P6=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=N6(C6,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(v2.span,{...a,ref:t}):null});P6.displayName=C6;function NO(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function bie(e,{referrerPolicy:t,crossOrigin:r}){const n=gie(),a=x.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>NO(i,e));return Lr(()=>{l(NO(i,e))},[i,e]),Lr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var E6=_6,A6=k6,O6=P6;const Id=x.forwardRef(({className:e,...t},r)=>s.jsx(E6,{ref:r,className:we(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Id.displayName=E6.displayName;const Rd=x.forwardRef(({className:e,...t},r)=>s.jsx(A6,{ref:r,className:we("aspect-square h-full w-full",e),...t}));Rd.displayName=A6.displayName;const Md=x.forwardRef(({className:e,...t},r)=>s.jsx(O6,{ref:r,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Md.displayName=O6.displayName;function wie(){var C,P;Ur({title:"My Profile",description:"Manage your Quarterdeck account, view bookings, notifications, and membership status."});const{user:e,isLoading:t,isAuthenticated:r}=ul(),n=JD(),i=new URLSearchParams(n).get("tab")||"account",o=x.useRef(null),{toast:l}=ht(),{data:c,refetch:u}=de({queryKey:["/api/memberships/my"],enabled:r,staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0,retry:!1}),{data:d=[]}=de({queryKey:["/api/bookings/my"],enabled:r}),{data:f=[],isLoading:h}=de({queryKey:["/api/notifications"],enabled:r}),p=ye({mutationFn:async k=>{await xe("POST",`/api/notifications/${k}/read`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),y=ye({mutationFn:async()=>{await xe("POST","/api/notifications/read-all")},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),m=ye({mutationFn:async k=>{await xe("DELETE",`/api/notifications/${k}`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),w=ye({mutationFn:async k=>{const E=new FormData;E.append("photo",k);const T=await fetch("/api/user/profile-photo",{method:"POST",body:E,credentials:"include"});if(!T.ok){const I=await T.json();throw new Error(I.message||"Failed to upload photo")}return T.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/auth/user"]}),l({title:"Photo updated",description:"Your profile photo has been updated successfully."}),o.current&&(o.current.value="")},onError:k=>{l({title:"Upload failed",description:k.message,variant:"destructive"})}}),g=k=>{var T;const E=(T=k.target.files)==null?void 0:T[0];if(E){if(E.size>5*1024*1024){l({title:"File too large",description:"Maximum file size is 5MB",variant:"destructive"});return}w.mutate(E)}},v=new Date().toISOString().split("T")[0],{upcomingBookings:b,pastBookings:j}=x.useMemo(()=>{const k=d.filter(T=>T.date>=v).sort((T,I)=>T.date.localeCompare(I.date)),E=d.filter(T=>T.date<v).sort((T,I)=>I.date.localeCompare(T.date));return{upcomingBookings:k,pastBookings:E}},[d,v]),_=f.filter(k=>!k.isRead).length;if(t)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),s.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:s.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Profile"})})]}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(De,{className:"h-12 w-64 mb-8"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(De,{className:"h-64"}),s.jsx(De,{className:"h-64"})]})]})]}),s.jsx(ar,{})]});if(!r)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center",children:s.jsx(ne,{className:"max-w-md w-full mx-4",children:s.jsxs(se,{className:"pt-6 text-center",children:[s.jsx(cs,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view your profile and booking history."}),s.jsx(ge,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),s.jsx(ar,{})]});const N=k=>{switch(k){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},S=k=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl","data-testid":`booking-entry-${k.id}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:k.venue}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[k.date," at ",k.startTime," - ",k.endTime]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(le,{variant:k.status==="CONFIRMED"?"default":"secondary",children:k.status}),s.jsx("div",{className:"text-sm font-semibold text-sky-600 mt-1",children:Qa(k.totalPrice)})]})]},k.id);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),s.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:s.jsx("h1",{className:"text-3xl md:text-4xl font-bold","data-testid":"text-profile-title",children:"My Profile"})})]}),s.jsx("div",{className:"qd-container py-6",children:s.jsxs(ua,{defaultValue:i,className:"space-y-6",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[s.jsxs(Bt,{value:"account","data-testid":"tab-account",children:[s.jsx(cs,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Account"]}),s.jsxs(Bt,{value:"bookings","data-testid":"tab-bookings",children:[s.jsx(mr,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Bookings"]}),s.jsxs(Bt,{value:"notifications",className:"relative","data-testid":"tab-notifications",children:[s.jsx(pc,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Notifications",_>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[16px] h-[16px] px-1 text-[10px] font-medium text-white bg-red-500 rounded-full",children:_})]}),s.jsxs(Bt,{value:"membership","data-testid":"tab-membership",children:[s.jsx(ai,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Membership"]})]}),s.jsxs(Vt,{value:"account",className:"space-y-6",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(cs,{className:"w-5 h-5"}),"Account Information"]})}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs(Id,{className:"w-24 h-24",children:[s.jsx(Rd,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`}),s.jsxs(Md,{className:"text-2xl bg-primary/10 text-primary",children:[(C=e==null?void 0:e.firstName)==null?void 0:C[0],(P=e==null?void 0:e.lastName)==null?void 0:P[0]]})]}),s.jsx("button",{type:"button",onClick:()=>{var k;return(k=o.current)==null?void 0:k.click()},className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",disabled:w.isPending,"data-testid":"button-change-photo",children:w.isPending?s.jsx(Te,{className:"w-6 h-6 text-white animate-spin"}):s.jsx(V5,{className:"w-6 h-6 text-white"})}),s.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:g,className:"hidden","data-testid":"input-profile-photo"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.email}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on photo to change"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(cs,{className:"w-3 h-3"})," Name"]}),s.jsxs("p",{className:"font-semibold","data-testid":"text-user-name",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(xf,{className:"w-3 h-3"})," Email"]}),s.jsx("p",{className:"font-semibold text-sm truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"Not provided"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Xo,{className:"w-3 h-3"})," Credit Balance"]}),s.jsx("p",{className:"font-semibold text-sky-600","data-testid":"text-credit-balance",children:Qa((e==null?void 0:e.creditBalance)||0)})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Ht,{className:"w-3 h-3"})," Total Hours Played"]}),s.jsxs("p",{className:"font-semibold","data-testid":"text-hours-played",children:[(e==null?void 0:e.totalHoursPlayed)||0," hrs"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(ui,{className:"w-3 h-3"})," Safety Certified"]}),s.jsx("p",{className:`font-semibold ${e!=null&&e.isSafetyCertified?"text-green-600":"text-red-600"}`,children:e!=null&&e.isSafetyCertified?"Yes":"No"})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Ek,{className:"w-3 h-3"})," Waiver Signed"]}),s.jsx("p",{className:`font-semibold ${e!=null&&e.hasSignedWaiver?"text-green-600":"text-red-600"}`,children:e!=null&&e.hasSignedWaiver?"Yes":"No"})]})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("a",{href:"/api/logout",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-logout",children:"Sign Out"})})})]}),s.jsxs(Vt,{value:"bookings",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Your Bookings"}),s.jsx(ge,{href:"/booking",children:s.jsx(M,{size:"sm","data-testid":"button-new-booking",children:"New Booking"})})]}),s.jsxs(ua,{defaultValue:"upcoming",className:"space-y-4",children:[s.jsxs(Ds,{children:[s.jsxs(Bt,{value:"upcoming",className:"gap-2","data-testid":"tab-upcoming-bookings",children:[s.jsx(ax,{className:"w-4 h-4"}),"Upcoming (",b.length,")"]}),s.jsxs(Bt,{value:"past",className:"gap-2","data-testid":"tab-past-bookings",children:[s.jsx(GE,{className:"w-4 h-4"}),"Past (",j.length,")"]})]}),s.jsx(Vt,{value:"upcoming",className:"space-y-3",children:b.length>0?b.map(S):s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(mr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming bookings"}),s.jsx(ge,{href:"/booking",children:s.jsx(M,{"data-testid":"button-make-first-booking",children:"Book a Facility"})})]})})}),s.jsx(Vt,{value:"past",className:"space-y-3",children:j.length>0?j.map(S):s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(GE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No past bookings"})]})})})]})]}),s.jsxs(Vt,{value:"notifications",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),_>0&&s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending,"data-testid":"button-mark-all-notifications-read",children:[y.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(wr,{className:"w-4 h-4 mr-2"}),"Mark all read"]})]}),h?s.jsxs("div",{className:"space-y-3",children:[s.jsx(De,{className:"h-20"}),s.jsx(De,{className:"h-20"}),s.jsx(De,{className:"h-20"})]}):f.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(pc,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]})}):s.jsx("div",{className:"space-y-3",children:f.map(k=>s.jsx(ne,{className:k.isRead?"":"ring-1 ring-primary/20","data-testid":`notification-card-${k.id}`,children:s.jsx(se,{className:"py-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${N(k.type)}`}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[k.link?s.jsx(ge,{href:k.link,children:s.jsx("p",{className:"font-semibold hover:underline cursor-pointer",children:k.title})}):s.jsx("p",{className:"font-semibold",children:k.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:k.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:k.createdAt?eF(new Date(k.createdAt),{addSuffix:!0}):""})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!k.isRead&&s.jsx(M,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>p.mutate(k.id),disabled:p.isPending,"data-testid":`button-mark-notification-read-${k.id}`,children:p.isPending?s.jsx(Te,{className:"w-4 h-4 animate-spin"}):s.jsx(wr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",className:"w-8 h-8 text-destructive",onClick:()=>m.mutate(k.id),disabled:m.isPending,"data-testid":`button-delete-notification-${k.id}`,children:m.isPending?s.jsx(Te,{className:"w-4 h-4 animate-spin"}):s.jsx(hr,{className:"w-4 h-4"})})]})]})})]})})},k.id))})]}),s.jsx(Vt,{value:"membership",className:"space-y-6",children:s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(ai,{className:"w-5 h-5"}),"Membership Details"]})}),s.jsx(se,{className:"space-y-4",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-slate-900 to-slate-700 dark:from-slate-700 dark:to-slate-600 rounded-xl text-white",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-xs uppercase tracking-wider opacity-70",children:"Member ID"}),s.jsx("span",{className:"font-mono font-bold","data-testid":"text-membership-number",children:c.membershipNumber})]}),s.jsxs("div",{className:"text-2xl font-bold mb-1",children:[c.tier," Tier"]}),s.jsxs("div",{className:"text-xs opacity-70",children:["Valid until: ",new Date(c.validTo).toLocaleDateString()]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),s.jsx(le,{variant:c.status==="ACTIVE"?"default":"secondary",children:c.status})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(yr,{className:"w-3 h-3"})," Guest Passes"]}),s.jsxs("p",{className:"font-semibold",children:[c.guestPasses," remaining"]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ai,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No active membership"}),s.jsx(ge,{href:"/membership",children:s.jsx(M,{variant:"outline","data-testid":"button-view-membership-options",children:"View Membership Options"})})]})})]})})]})})]}),s.jsx(ar,{})]})}var tg=e=>e.type==="checkbox",ql=e=>e instanceof Date,as=e=>e==null;const T6=e=>typeof e=="object";var Qr=e=>!as(e)&&!Array.isArray(e)&&T6(e)&&!ql(e),I6=e=>Qr(e)&&e.target?tg(e.target)?e.target.checked:e.target.value:e,jie=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,R6=(e,t)=>e.has(jie(t)),Nie=e=>{const t=e.constructor&&e.constructor.prototype;return Qr(t)&&t.hasOwnProperty("isPrototypeOf")},y2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nn(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(y2&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Qr(e)&&Nie(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=nn(e[a]));return n}var qb=e=>/^\w*$/.test(e),Tr=e=>e===void 0,b2=e=>Array.isArray(e)?e.filter(Boolean):[],w2=e=>b2(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Oe=(e,t,r)=>{if(!t||!Qr(e))return r;const n=(qb(t)?[t]:w2(t)).reduce((a,i)=>as(a)?a:a[i],e);return Tr(n)||n===e?Tr(e[t])?r:e[t]:n},_s=e=>typeof e=="boolean",Kn=e=>typeof e=="function",Qt=(e,t,r)=>{let n=-1;const a=qb(t)?[t]:w2(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Qr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ex={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Oa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},j2=F.createContext(null);j2.displayName="HookFormContext";const zb=()=>F.useContext(j2),_ie=e=>{const{children:t,...r}=e;return F.createElement(j2.Provider,{value:r},t)};var M6=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Oa.all&&(t._proxyFormState[o]=!n||Oa.all),r&&(r[o]=!0),e[o]}});return a};const N2=typeof window<"u"?F.useLayoutEffect:F.useEffect;function Sie(e){const t=zb(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=F.useState(r._formState),c=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return N2(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),F.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),F.useMemo(()=>M6(o,r,c.current,!1),[o,r])}var Ps=e=>typeof e=="string",EN=(e,t,r,n,a)=>Ps(e)?(n&&t.watch.add(e),Oe(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Oe(r,i))):(n&&(t.watchAll=!0),r),AN=e=>as(e)||!T6(e);function Ta(e,t,r=new WeakSet){if(AN(e)||AN(t))return Object.is(e,t);if(ql(e)&&ql(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(ql(o)&&ql(l)||Qr(o)&&Qr(l)||Array.isArray(o)&&Array.isArray(l)?!Ta(o,l,r):!Object.is(o,l))return!1}}return!0}function kie(e){const t=zb(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=F.useRef(a),u=F.useRef(l),d=F.useRef(void 0),f=F.useRef(r),h=F.useRef(n);u.current=l;const[p,y]=F.useState(()=>{const j=r._getWatch(n,c.current);return u.current?u.current(j):j}),m=F.useCallback(j=>{const _=EN(n,r._names,j||r._formValues,!1,c.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),w=F.useCallback(j=>{if(!i){const _=EN(n,r._names,j||r._formValues,!1,c.current);if(u.current){const N=u.current(_);Ta(N,d.current)||(y(N),d.current=N)}else y(_)}},[r._formValues,r._names,i,n]);N2(()=>((f.current!==r||!Ta(h.current,n))&&(f.current=r,h.current=n,w()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:j=>{w(j.values)}})),[r,o,n,w]),F.useEffect(()=>r._removeUnmounted());const g=f.current!==r,v=h.current,b=F.useMemo(()=>{if(i)return null;const j=!g&&!Ta(v,n);return g||j?m():null},[i,g,n,v,m]);return b!==null?b:p}function Cie(e){const t=zb(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=R6(a._names.array,r),u=F.useMemo(()=>Oe(a._formValues,r,Oe(a._defaultValues,r,o)),[a,r,o]),d=kie({control:a,name:r,defaultValue:u,exact:l}),f=Sie({control:a,name:r,exact:l}),h=F.useRef(e),p=F.useRef(void 0),y=F.useRef(a.register(r,{...e.rules,value:d,..._s(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=F.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Oe(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Oe(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Oe(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Oe(f.validatingFields,r)},error:{enumerable:!0,get:()=>Oe(f.errors,r)}}),[f,r]),w=F.useCallback(j=>y.current.onChange({target:{value:I6(j),name:r},type:Ex.CHANGE}),[r]),g=F.useCallback(()=>y.current.onBlur({target:{value:Oe(a._formValues,r),name:r},type:Ex.BLUR}),[r,a._formValues]),v=F.useCallback(j=>{const _=Oe(a._fields,r);_&&_._f&&j&&(_._f.ref={focus:()=>Kn(j.focus)&&j.focus(),select:()=>Kn(j.select)&&j.select(),setCustomValidity:N=>Kn(j.setCustomValidity)&&j.setCustomValidity(N),reportValidity:()=>Kn(j.reportValidity)&&j.reportValidity()})},[a._fields,r]),b=F.useMemo(()=>({name:r,value:d,..._s(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:w,onBlur:g,ref:v}),[r,n,f.disabled,w,g,v,d]);return F.useEffect(()=>{const j=a._options.shouldUnregister||i,_=p.current;_&&_!==r&&!c&&a.unregister(_),a.register(r,{...h.current.rules,..._s(h.current.disabled)?{disabled:h.current.disabled}:{}});const N=(S,C)=>{const P=Oe(a._fields,S);P&&P._f&&(P._f.mount=C)};if(N(r,!0),j){const S=nn(Oe(a._options.defaultValues,r,h.current.defaultValue));Qt(a._defaultValues,r,S),Tr(Oe(a._formValues,r))&&Qt(a._formValues,r,S)}return!c&&a.register(r),p.current=r,()=>{(c?j&&!a._state.action:j)?a.unregister(r):N(r,!1)}},[r,a,c,i]),F.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),F.useMemo(()=>({field:b,formState:f,fieldState:m}),[b,f,m])}const Pie=e=>e.render(Cie(e));var $6=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Hh=e=>Array.isArray(e)?e:[e],_O=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function D6(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&Qr(a)&&i){const o=D6(a,i);Qr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var qn=e=>Qr(e)&&!Object.keys(e).length,_2=e=>e.type==="file",Ax=e=>{if(!y2)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},L6=e=>e.type==="select-multiple",S2=e=>e.type==="radio",Eie=e=>S2(e)||tg(e),aj=e=>Ax(e)&&e.isConnected;function Aie(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Tr(e)?n++:e[t[n++]];return e}function Oie(e){for(const t in e)if(e.hasOwnProperty(t)&&!Tr(e[t]))return!1;return!0}function qr(e,t){const r=Array.isArray(t)?t:qb(t)?[t]:w2(t),n=r.length===1?e:Aie(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Qr(n)&&qn(n)||Array.isArray(n)&&Oie(n))&&qr(e,r.slice(0,-1)),e}var Tie=e=>{for(const t in e)if(Kn(e[t]))return!0;return!1};function F6(e){return Array.isArray(e)||Qr(e)&&!Tie(e)}function ON(e,t={}){for(const r in e){const n=e[r];F6(n)?(t[r]=Array.isArray(n)?[]:{},ON(n,t[r])):Tr(n)||(t[r]=!0)}return t}function _u(e,t,r){r||(r=ON(t));for(const n in e){const a=e[n];if(F6(a))Tr(t)||AN(r[n])?r[n]=ON(a,Array.isArray(a)?[]:{}):_u(a,as(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!Ta(a,i)}}return r}const SO={value:!1,isValid:!1},kO={value:!0,isValid:!0};var U6=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Tr(e[0].attributes.value)?Tr(e[0].value)||e[0].value===""?kO:{value:e[0].value,isValid:!0}:kO:SO}return SO},B6=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Tr(e)?e:t?e===""?NaN:e&&+e:r&&Ps(e)?new Date(e):n?n(e):e;const CO={isValid:!1,value:null};var V6=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,CO):CO;function PO(e){const t=e.ref;return _2(t)?t.files:S2(t)?V6(e.refs).value:L6(t)?[...t.selectedOptions].map(({value:r})=>r):tg(t)?U6(e.refs).value:B6(Tr(t.value)?e.ref.value:t.value,e)}var Iie=(e,t,r,n)=>{const a={};for(const i of e){const o=Oe(t,i);o&&Qt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Ox=e=>e instanceof RegExp,oh=e=>Tr(e)?e:Ox(e)?e.source:Qr(e)?Ox(e.value)?e.value.source:e.value:e,EO=e=>({isOnSubmit:!e||e===Oa.onSubmit,isOnBlur:e===Oa.onBlur,isOnChange:e===Oa.onChange,isOnAll:e===Oa.all,isOnTouch:e===Oa.onTouched});const AO="AsyncFunction";var Rie=e=>!!e&&!!e.validate&&!!(Kn(e.validate)&&e.validate.constructor.name===AO||Qr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===AO)),Mie=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),OO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Gh=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Oe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Gh(l,t))break}else if(Qr(l)&&Gh(l,t))break}}};function TO(e,t,r){const n=Oe(e,r);if(n||qb(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Oe(t,i),l=Oe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var $ie=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return qn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Oa.all))},Die=(e,t,r)=>!e||!t||e===t||Hh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Lie=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Fie=(e,t)=>!b2(Oe(e,t)).length&&qr(e,t),Uie=(e,t,r)=>{const n=Hh(Oe(e,r));return Qt(n,"root",t[r]),Qt(e,r,n),e};function IO(e,t,r="validate"){if(Ps(e)||Array.isArray(e)&&e.every(Ps)||_s(e)&&!e)return{type:r,message:Ps(e)?e:"",ref:t}}var gu=e=>Qr(e)&&!Ox(e)?e:{value:e,message:""},RO=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:y,name:m,valueAsNumber:w,mount:g}=e._f,v=Oe(r,m);if(!g||t.has(m))return{};const b=l?l[0]:o,j=T=>{a&&b.reportValidity&&(b.setCustomValidity(_s(T)?"":T||""),b.reportValidity())},_={},N=S2(o),S=tg(o),C=N||S,P=(w||_2(o))&&Tr(o.value)&&Tr(v)||Ax(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,k=$6.bind(null,m,n,_),E=(T,I,R,D=bi.maxLength,O=bi.minLength)=>{const W=T?I:R;_[m]={type:T?D:O,message:W,ref:o,...k(T?D:O,W)}};if(i?!Array.isArray(v)||!v.length:c&&(!C&&(P||as(v))||_s(v)&&!v||S&&!U6(l).isValid||N&&!V6(l).isValid)){const{value:T,message:I}=Ps(c)?{value:!!c,message:c}:gu(c);if(T&&(_[m]={type:bi.required,message:I,ref:b,...k(bi.required,I)},!n))return j(I),_}if(!P&&(!as(f)||!as(h))){let T,I;const R=gu(h),D=gu(f);if(!as(v)&&!isNaN(v)){const O=o.valueAsNumber||v&&+v;as(R.value)||(T=O>R.value),as(D.value)||(I=O<D.value)}else{const O=o.valueAsDate||new Date(v),W=Q=>new Date(new Date().toDateString()+" "+Q),A=o.type=="time",$=o.type=="week";Ps(R.value)&&v&&(T=A?W(v)>W(R.value):$?v>R.value:O>new Date(R.value)),Ps(D.value)&&v&&(I=A?W(v)<W(D.value):$?v<D.value:O<new Date(D.value))}if((T||I)&&(E(!!T,R.message,D.message,bi.max,bi.min),!n))return j(_[m].message),_}if((u||d)&&!P&&(Ps(v)||i&&Array.isArray(v))){const T=gu(u),I=gu(d),R=!as(T.value)&&v.length>+T.value,D=!as(I.value)&&v.length<+I.value;if((R||D)&&(E(R,T.message,I.message),!n))return j(_[m].message),_}if(p&&!P&&Ps(v)){const{value:T,message:I}=gu(p);if(Ox(T)&&!v.match(T)&&(_[m]={type:bi.pattern,message:I,ref:o,...k(bi.pattern,I)},!n))return j(I),_}if(y){if(Kn(y)){const T=await y(v,r),I=IO(T,b);if(I&&(_[m]={...I,...k(bi.validate,I.message)},!n))return j(I.message),_}else if(Qr(y)){let T={};for(const I in y){if(!qn(T)&&!n)break;const R=IO(await y[I](v,r),b,I);R&&(T={...R,...k(I,R.message)},j(R.message),n&&(_[m]=T))}if(!qn(T)&&(_[m]={ref:b,...T},!n))return _}}return j(!0),_};const Bie={mode:Oa.onSubmit,reValidateMode:Oa.onChange,shouldFocusError:!0};function Vie(e={}){let t={...Bie,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Kn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Qr(t.defaultValues)||Qr(t.values)?nn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:nn(a),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:_O(),state:_O()},y=t.criteriaMode===Oa.all,m=V=>Z=>{clearTimeout(u),u=setTimeout(V,Z)},w=async V=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||V)){let Z;t.resolver?(Z=qn((await C()).errors),g()):Z=await k(n,!0),Z!==r.isValid&&p.state.next({isValid:Z})}},g=(V,Z)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((V||Array.from(l.mount)).forEach(oe=>{oe&&(Z?Qt(r.validatingFields,oe,Z):qr(r.validatingFields,oe))}),p.state.next({validatingFields:r.validatingFields,isValidating:!qn(r.validatingFields)}))},v=(V,Z=[],oe,Ae,je=!0,Se=!0)=>{if(Ae&&oe&&!t.disabled){if(o.action=!0,Se&&Array.isArray(Oe(n,V))){const ze=oe(Oe(n,V),Ae.argA,Ae.argB);je&&Qt(n,V,ze)}if(Se&&Array.isArray(Oe(r.errors,V))){const ze=oe(Oe(r.errors,V),Ae.argA,Ae.argB);je&&Qt(r.errors,V,ze),Fie(r.errors,V)}if((f.touchedFields||h.touchedFields)&&Se&&Array.isArray(Oe(r.touchedFields,V))){const ze=oe(Oe(r.touchedFields,V),Ae.argA,Ae.argB);je&&Qt(r.touchedFields,V,ze)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=_u(a,i)),p.state.next({name:V,isDirty:T(V,Z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Qt(i,V,Z)},b=(V,Z)=>{Qt(r.errors,V,Z),p.state.next({errors:r.errors})},j=V=>{r.errors=V,p.state.next({errors:r.errors,isValid:!1})},_=(V,Z,oe,Ae)=>{const je=Oe(n,V);if(je){const Se=Oe(i,V,Tr(oe)?Oe(a,V):oe);Tr(Se)||Ae&&Ae.defaultChecked||Z?Qt(i,V,Z?Se:PO(je._f)):D(V,Se),o.mount&&!o.action&&w()}},N=(V,Z,oe,Ae,je)=>{let Se=!1,ze=!1;const Rt={name:V};if(!t.disabled){if(!oe||Ae){(f.isDirty||h.isDirty)&&(ze=r.isDirty,r.isDirty=Rt.isDirty=T(),Se=ze!==Rt.isDirty);const Tt=Ta(Oe(a,V),Z);ze=!!Oe(r.dirtyFields,V),Tt?qr(r.dirtyFields,V):Qt(r.dirtyFields,V,!0),Rt.dirtyFields=r.dirtyFields,Se=Se||(f.dirtyFields||h.dirtyFields)&&ze!==!Tt}if(oe){const Tt=Oe(r.touchedFields,V);Tt||(Qt(r.touchedFields,V,oe),Rt.touchedFields=r.touchedFields,Se=Se||(f.touchedFields||h.touchedFields)&&Tt!==oe)}Se&&je&&p.state.next(Rt)}return Se?Rt:{}},S=(V,Z,oe,Ae)=>{const je=Oe(r.errors,V),Se=(f.isValid||h.isValid)&&_s(Z)&&r.isValid!==Z;if(t.delayError&&oe?(c=m(()=>b(V,oe)),c(t.delayError)):(clearTimeout(u),c=null,oe?Qt(r.errors,V,oe):qr(r.errors,V)),(oe?!Ta(je,oe):je)||!qn(Ae)||Se){const ze={...Ae,...Se&&_s(Z)?{isValid:Z}:{},errors:r.errors,name:V};r={...r,...ze},p.state.next(ze)}},C=async V=>(g(V,!0),await t.resolver(i,t.context,Iie(V||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),P=async V=>{const{errors:Z}=await C(V);if(g(V),V)for(const oe of V){const Ae=Oe(Z,oe);Ae?Qt(r.errors,oe,Ae):qr(r.errors,oe)}else r.errors=Z;return Z},k=async(V,Z,oe={valid:!0})=>{for(const Ae in V){const je=V[Ae];if(je){const{_f:Se,...ze}=je;if(Se){const Rt=l.array.has(Se.name),Tt=je._f&&Rie(je._f);Tt&&f.validatingFields&&g([Se.name],!0);const Br=await RO(je,l.disabled,i,y,t.shouldUseNativeValidation&&!Z,Rt);if(Tt&&f.validatingFields&&g([Se.name]),Br[Se.name]&&(oe.valid=!1,Z))break;!Z&&(Oe(Br,Se.name)?Rt?Uie(r.errors,Br,Se.name):Qt(r.errors,Se.name,Br[Se.name]):qr(r.errors,Se.name))}!qn(ze)&&await k(ze,Z,oe)}}return oe.valid},E=()=>{for(const V of l.unMount){const Z=Oe(n,V);Z&&(Z._f.refs?Z._f.refs.every(oe=>!aj(oe)):!aj(Z._f.ref))&&be(V)}l.unMount=new Set},T=(V,Z)=>!t.disabled&&(V&&Z&&Qt(i,V,Z),!Ta(X(),a)),I=(V,Z,oe)=>EN(V,l,{...o.mount?i:Tr(Z)?a:Ps(V)?{[V]:Z}:Z},oe,Z),R=V=>b2(Oe(o.mount?i:a,V,t.shouldUnregister?Oe(a,V,[]):[])),D=(V,Z,oe={})=>{const Ae=Oe(n,V);let je=Z;if(Ae){const Se=Ae._f;Se&&(!Se.disabled&&Qt(i,V,B6(Z,Se)),je=Ax(Se.ref)&&as(Z)?"":Z,L6(Se.ref)?[...Se.ref.options].forEach(ze=>ze.selected=je.includes(ze.value)):Se.refs?tg(Se.ref)?Se.refs.forEach(ze=>{(!ze.defaultChecked||!ze.disabled)&&(Array.isArray(je)?ze.checked=!!je.find(Rt=>Rt===ze.value):ze.checked=je===ze.value||!!je)}):Se.refs.forEach(ze=>ze.checked=ze.value===je):_2(Se.ref)?Se.ref.value="":(Se.ref.value=je,Se.ref.type||p.state.next({name:V,values:nn(i)})))}(oe.shouldDirty||oe.shouldTouch)&&N(V,je,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&Q(V)},O=(V,Z,oe)=>{for(const Ae in Z){if(!Z.hasOwnProperty(Ae))return;const je=Z[Ae],Se=V+"."+Ae,ze=Oe(n,Se);(l.array.has(V)||Qr(je)||ze&&!ze._f)&&!ql(je)?O(Se,je,oe):D(Se,je,oe)}},W=(V,Z,oe={})=>{const Ae=Oe(n,V),je=l.array.has(V),Se=nn(Z);Qt(i,V,Se),je?(p.array.next({name:V,values:nn(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&oe.shouldDirty&&p.state.next({name:V,dirtyFields:_u(a,i),isDirty:T(V,Se)})):Ae&&!Ae._f&&!as(Se)?O(V,Se,oe):D(V,Se,oe),OO(V,l)&&p.state.next({...r,name:V}),p.state.next({name:o.mount?V:void 0,values:nn(i)})},A=async V=>{o.mount=!0;const Z=V.target;let oe=Z.name,Ae=!0;const je=Oe(n,oe),Se=Tt=>{Ae=Number.isNaN(Tt)||ql(Tt)&&isNaN(Tt.getTime())||Ta(Tt,Oe(i,oe,Tt))},ze=EO(t.mode),Rt=EO(t.reValidateMode);if(je){let Tt,Br;const Un=Z.type?PO(je._f):I6(V),An=V.type===Ex.BLUR||V.type===Ex.FOCUS_OUT,Wa=!Mie(je._f)&&!t.resolver&&!Oe(r.errors,oe)&&!je._f.deps||Lie(An,Oe(r.touchedFields,oe),r.isSubmitted,Rt,ze),Ka=OO(oe,l,An);Qt(i,oe,Un),An?(!Z||!Z.readOnly)&&(je._f.onBlur&&je._f.onBlur(V),c&&c(0)):je._f.onChange&&je._f.onChange(V);const vi=N(oe,Un,An),Xc=!qn(vi)||Ka;if(!An&&p.state.next({name:oe,type:V.type,values:nn(i)}),Wa)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?An&&w():An||w()),Xc&&p.state.next({name:oe,...Ka?{}:vi});if(!An&&Ka&&p.state.next({...r}),t.resolver){const{errors:Jc}=await C([oe]);if(g([oe]),Se(Un),Ae){const xl=TO(r.errors,n,oe),yl=TO(Jc,n,xl.name||oe);Tt=yl.error,oe=yl.name,Br=qn(Jc)}}else g([oe],!0),Tt=(await RO(je,l.disabled,i,y,t.shouldUseNativeValidation))[oe],g([oe]),Se(Un),Ae&&(Tt?Br=!1:(f.isValid||h.isValid)&&(Br=await k(n,!0)));Ae&&(je._f.deps&&(!Array.isArray(je._f.deps)||je._f.deps.length>0)&&Q(je._f.deps),S(oe,Br,Tt,vi))}},$=(V,Z)=>{if(Oe(r.errors,Z)&&V.focus)return V.focus(),1},Q=async(V,Z={})=>{let oe,Ae;const je=Hh(V);if(t.resolver){const Se=await P(Tr(V)?V:je);oe=qn(Se),Ae=V?!je.some(ze=>Oe(Se,ze)):oe}else V?(Ae=(await Promise.all(je.map(async Se=>{const ze=Oe(n,Se);return await k(ze&&ze._f?{[Se]:ze}:ze)}))).every(Boolean),!(!Ae&&!r.isValid)&&w()):Ae=oe=await k(n);return p.state.next({...!Ps(V)||(f.isValid||h.isValid)&&oe!==r.isValid?{}:{name:V},...t.resolver||!V?{isValid:oe}:{},errors:r.errors}),Z.shouldFocus&&!Ae&&Gh(n,$,V?je:l.mount),Ae},X=(V,Z)=>{let oe={...o.mount?i:a};return Z&&(oe=D6(Z.dirtyFields?r.dirtyFields:r.touchedFields,oe)),Tr(V)?oe:Ps(V)?Oe(oe,V):V.map(Ae=>Oe(oe,Ae))},U=(V,Z)=>({invalid:!!Oe((Z||r).errors,V),isDirty:!!Oe((Z||r).dirtyFields,V),error:Oe((Z||r).errors,V),isValidating:!!Oe(r.validatingFields,V),isTouched:!!Oe((Z||r).touchedFields,V)}),J=V=>{V&&Hh(V).forEach(Z=>qr(r.errors,Z)),p.state.next({errors:V?r.errors:{}})},z=(V,Z,oe)=>{const Ae=(Oe(n,V,{_f:{}})._f||{}).ref,je=Oe(r.errors,V)||{},{ref:Se,message:ze,type:Rt,...Tt}=je;Qt(r.errors,V,{...Tt,...Z,ref:Ae}),p.state.next({name:V,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},ee=(V,Z)=>Kn(V)?p.state.subscribe({next:oe=>"values"in oe&&V(I(void 0,Z),oe)}):I(V,Z,!0),pe=V=>p.state.subscribe({next:Z=>{Die(V.name,Z.name,V.exact)&&$ie(Z,V.formState||f,qt,V.reRenderRoot)&&V.callback({values:{...i},...r,...Z,defaultValues:a})}}).unsubscribe,te=V=>(o.mount=!0,h={...h,...V.formState},pe({...V,formState:{...d,...V.formState}})),be=(V,Z={})=>{for(const oe of V?Hh(V):l.mount)l.mount.delete(oe),l.array.delete(oe),Z.keepValue||(qr(n,oe),qr(i,oe)),!Z.keepError&&qr(r.errors,oe),!Z.keepDirty&&qr(r.dirtyFields,oe),!Z.keepTouched&&qr(r.touchedFields,oe),!Z.keepIsValidating&&qr(r.validatingFields,oe),!t.shouldUnregister&&!Z.keepDefaultValue&&qr(a,oe);p.state.next({values:nn(i)}),p.state.next({...r,...Z.keepDirty?{isDirty:T()}:{}}),!Z.keepIsValid&&w()},ae=({disabled:V,name:Z})=>{(_s(V)&&o.mount||V||l.disabled.has(Z))&&(V?l.disabled.add(Z):l.disabled.delete(Z))},B=(V,Z={})=>{let oe=Oe(n,V);const Ae=_s(Z.disabled)||_s(t.disabled);return Qt(n,V,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:V}},name:V,mount:!0,...Z}}),l.mount.add(V),oe?ae({disabled:_s(Z.disabled)?Z.disabled:t.disabled,name:V}):_(V,!0,Z.value),{...Ae?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:oh(Z.min),max:oh(Z.max),minLength:oh(Z.minLength),maxLength:oh(Z.maxLength),pattern:oh(Z.pattern)}:{},name:V,onChange:A,onBlur:A,ref:je=>{if(je){B(V,Z),oe=Oe(n,V);const Se=Tr(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,ze=Eie(Se),Rt=oe._f.refs||[];if(ze?Rt.find(Tt=>Tt===Se):Se===oe._f.ref)return;Qt(n,V,{_f:{...oe._f,...ze?{refs:[...Rt.filter(aj),Se,...Array.isArray(Oe(a,V))?[{}]:[]],ref:{type:Se.type,name:V}}:{ref:Se}}}),_(V,!1,void 0,Se)}else oe=Oe(n,V,{}),oe._f&&(oe._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(R6(l.array,V)&&o.action)&&l.unMount.add(V)}}},ce=()=>t.shouldFocusError&&Gh(n,$,l.mount),G=V=>{_s(V)&&(p.state.next({disabled:V}),Gh(n,(Z,oe)=>{const Ae=Oe(n,oe);Ae&&(Z.disabled=Ae._f.disabled||V,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(je=>{je.disabled=Ae._f.disabled||V}))},0,!1))},L=(V,Z)=>async oe=>{let Ae;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let je=nn(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Se,values:ze}=await C();g(),r.errors=Se,je=nn(ze)}else await k(n);if(l.disabled.size)for(const Se of l.disabled)qr(je,Se);if(qr(r.errors,"root"),qn(r.errors)){p.state.next({errors:{}});try{await V(je,oe)}catch(Se){Ae=Se}}else Z&&await Z({...r.errors},oe),ce(),setTimeout(ce);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:qn(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},ve=(V,Z={})=>{Oe(n,V)&&(Tr(Z.defaultValue)?W(V,nn(Oe(a,V))):(W(V,Z.defaultValue),Qt(a,V,nn(Z.defaultValue))),Z.keepTouched||qr(r.touchedFields,V),Z.keepDirty||(qr(r.dirtyFields,V),r.isDirty=Z.defaultValue?T(V,nn(Oe(a,V))):T()),Z.keepError||(qr(r.errors,V),f.isValid&&w()),p.state.next({...r}))},Fe=(V,Z={})=>{const oe=V?nn(V):a,Ae=nn(oe),je=qn(V),Se=je?a:Ae;if(Z.keepDefaultValues||(a=oe),!Z.keepValues){if(Z.keepDirtyValues){const ze=new Set([...l.mount,...Object.keys(_u(a,i))]);for(const Rt of Array.from(ze))Oe(r.dirtyFields,Rt)?Qt(Se,Rt,Oe(i,Rt)):W(Rt,Oe(Se,Rt))}else{if(y2&&Tr(V))for(const ze of l.mount){const Rt=Oe(n,ze);if(Rt&&Rt._f){const Tt=Array.isArray(Rt._f.refs)?Rt._f.refs[0]:Rt._f.ref;if(Ax(Tt)){const Br=Tt.closest("form");if(Br){Br.reset();break}}}}if(Z.keepFieldsRef)for(const ze of l.mount)W(ze,Oe(Se,ze));else n={}}i=t.shouldUnregister?Z.keepDefaultValues?nn(a):{}:nn(Se),p.array.next({values:{...Se}}),p.state.next({values:{...Se}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues||!t.shouldUnregister&&!qn(Se),o.watch=!!t.shouldUnregister,o.keepIsValid=!!Z.keepIsValid,o.action=!1,Z.keepErrors||(r.errors={}),p.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:je?!1:Z.keepDirty?r.isDirty:!!(Z.keepDefaultValues&&!Ta(V,a)),isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:je?{}:Z.keepDirtyValues?Z.keepDefaultValues&&i?_u(a,i):r.dirtyFields:Z.keepDefaultValues&&V?_u(a,V):Z.keepDirty?r.dirtyFields:{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},st=(V,Z)=>Fe(Kn(V)?V(i):V,{...t.resetOptions,...Z}),vt=(V,Z={})=>{const oe=Oe(n,V),Ae=oe&&oe._f;if(Ae){const je=Ae.refs?Ae.refs[0]:Ae.ref;je.focus&&setTimeout(()=>{je.focus(),Z.shouldSelect&&Kn(je.select)&&je.select()})}},qt=V=>{r={...r,...V}},Nr={control:{register:B,unregister:be,getFieldState:U,handleSubmit:L,setError:z,_subscribe:pe,_runSchema:C,_updateIsValidating:g,_focusError:ce,_getWatch:I,_getDirty:T,_setValid:w,_setFieldArray:v,_setDisabledField:ae,_setErrors:j,_getFieldArray:R,_reset:Fe,_resetDefaultValues:()=>Kn(t.defaultValues)&&t.defaultValues().then(V=>{st(V,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:G,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(V){o=V},get _defaultValues(){return a},get _names(){return l},set _names(V){l=V},get _formState(){return r},get _options(){return t},set _options(V){t={...t,...V}}},subscribe:te,trigger:Q,register:B,handleSubmit:L,watch:ee,setValue:W,getValues:X,reset:st,resetField:ve,clearErrors:J,unregister:be,setError:z,setFocus:vt,getFieldState:U};return{...Nr,formControl:Nr}}function Ls(e={}){const t=F.useRef(void 0),r=F.useRef(void 0),[n,a]=F.useState({isDirty:!1,isValidating:!1,isLoading:Kn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Kn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Kn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Vie(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,N2(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),F.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),F.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),F.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),F.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),F.useEffect(()=>{var o;e.values&&!Ta(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),F.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=M6(n,i),t.current}const MO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Oe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},q6=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?MO(n.ref,r,e):n.refs&&n.refs.forEach(a=>MO(a,r,e))}},qie=(e,t)=>{t.shouldUseNativeValidation&&q6(e,t);const r={};for(const n in e){const a=Oe(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(zie(t.names||Object.keys(e),n)){const o=Object.assign({},Oe(r,n));Qt(o,"root",i),Qt(r,n,o)}else Qt(r,n,i)}return r},zie=(e,t)=>e.some(r=>r.startsWith(t+"."));var Wie=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=$6(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Fs=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&q6({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:qie(Wie(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ft;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ft||(Ft={}));var $O;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})($O||($O={}));const Ke=Ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vo=e=>{switch(typeof e){case"undefined":return Ke.undefined;case"string":return Ke.string;case"number":return Number.isNaN(e)?Ke.nan:Ke.number;case"boolean":return Ke.boolean;case"function":return Ke.function;case"bigint":return Ke.bigint;case"symbol":return Ke.symbol;case"object":return Array.isArray(e)?Ke.array:e===null?Ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ke.promise:typeof Map<"u"&&e instanceof Map?Ke.map:typeof Set<"u"&&e instanceof Set?Ke.set:typeof Date<"u"&&e instanceof Date?Ke.date:Ke.object;default:return Ke.unknown}},Ce=Ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Qi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Qi.create=e=>new Qi(e);const TN=(e,t)=>{let r;switch(e.code){case Ce.invalid_type:e.received===Ke.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ft.jsonStringifyReplacer)}`;break;case Ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ft.joinValues(e.keys,", ")}`;break;case Ce.invalid_union:r="Invalid input";break;case Ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ft.joinValues(e.options)}`;break;case Ce.invalid_enum_value:r=`Invalid enum value. Expected ${Ft.joinValues(e.options)}, received '${e.received}'`;break;case Ce.invalid_arguments:r="Invalid function arguments";break;case Ce.invalid_return_type:r="Invalid function return type";break;case Ce.invalid_date:r="Invalid date";break;case Ce.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ft.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ce.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ce.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ce.custom:r="Invalid input";break;case Ce.invalid_intersection_types:r="Intersection results could not be merged";break;case Ce.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ce.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ft.assertNever(e)}return{message:r}};let Kie=TN;function Hie(){return Kie}const Gie=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Re(e,t){const r=Hie(),n=Gie({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===TN?void 0:TN].filter(a=>!!a)});e.common.issues.push(n)}class Us{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return mt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Us.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return mt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const mt=Object.freeze({status:"aborted"}),Eh=e=>({status:"dirty",value:e}),ma=e=>({status:"valid",value:e}),DO=e=>e.status==="aborted",LO=e=>e.status==="dirty",$d=e=>e.status==="valid",Tx=e=>typeof Promise<"u"&&e instanceof Promise;var Ge;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ge||(Ge={}));class nl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const FO=(e,t)=>{if($d(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Qi(e.common.issues);return this._error=r,this._error}}};function kt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Lt{get description(){return this._def.description}_getType(t){return vo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:vo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Us,ctx:{common:t.parent.common,data:t.data,parsedType:vo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Tx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vo(t)},a=this._parseSync({data:t,path:n.path,parent:n});return FO(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return $d(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>$d(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vo(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Tx(a)?a:Promise.resolve(a));return FO(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ce.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Fd({schema:this,typeName:gt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Wo.create(this,this._def)}nullable(){return Ud.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oi.create(this)}promise(){return $x.create(this,this._def)}or(t){return Rx.create([this,t],this._def)}and(t){return Mx.create(this,t,this._def)}transform(t){return new Fd({...kt(this._def),schema:this,typeName:gt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new MN({...kt(this._def),innerType:this,defaultValue:r,typeName:gt.ZodDefault})}brand(){return new voe({typeName:gt.ZodBranded,type:this,...kt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new $N({...kt(this._def),innerType:this,catchValue:r,typeName:gt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return k2.create(this,t)}readonly(){return DN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qie=/^c[^\s-]{8,}$/i,Yie=/^[0-9a-z]+$/,Xie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Jie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Zie=/^[a-z0-9_-]{21}$/i,eoe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,toe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,roe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,noe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ij;const soe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aoe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ioe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ooe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,loe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,coe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,z6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uoe=new RegExp(`^${z6}$`);function W6(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function doe(e){return new RegExp(`^${W6(e)}$`)}function foe(e){let t=`${z6}T${W6(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function hoe(e,t){return!!((t==="v4"||!t)&&soe.test(e)||(t==="v6"||!t)&&ioe.test(e))}function moe(e,t){if(!eoe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function poe(e,t){return!!((t==="v4"||!t)&&aoe.test(e)||(t==="v6"||!t)&&ooe.test(e))}class Ii extends Lt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ke.string){const i=this._getOrReturnCtx(t);return Re(i,{code:Ce.invalid_type,expected:Ke.string,received:i.parsedType}),mt}const n=new Us;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Re(a,{code:Ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Re(a,{code:Ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")roe.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"email",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")ij||(ij=new RegExp(noe,"u")),ij.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"emoji",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Jie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"uuid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Zie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"nanoid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Qie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"cuid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Yie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"cuid2",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Xie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"ulid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Re(a,{validation:"url",code:Ce.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"regex",code:Ce.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?foe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?uoe.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?doe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?toe.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"duration",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?hoe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"ip",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?moe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"jwt",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?poe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"cidr",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?loe.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"base64",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?coe.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"base64url",code:Ce.invalid_string,message:i.message}),n.dirty()):Ft.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ce.invalid_string,...Ge.errToObj(n)})}_addCheck(t){return new Ii({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ge.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ge.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ge.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ge.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ge.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ge.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ge.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ge.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ge.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ge.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ge.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ge.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ge.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ge.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ge.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ge.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ge.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ge.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ge.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ge.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ge.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ge.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ge.errToObj(r)})}nonempty(t){return this.min(1,Ge.errToObj(t))}trim(){return new Ii({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ii({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ii({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ii.create=e=>new Ii({checks:[],typeName:gt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...kt(e)});function goe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class yc extends Lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ke.number){const i=this._getOrReturnCtx(t);return Re(i,{code:Ce.invalid_type,expected:Ke.number,received:i.parsedType}),mt}let n;const a=new Us;for(const i of this._def.checks)i.kind==="int"?Ft.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?goe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.not_finite,message:i.message}),a.dirty()):Ft.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ge.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ge.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ge.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ge.toString(r))}setLimit(t,r,n,a){return new yc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ge.toString(a)}]})}_addCheck(t){return new yc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ge.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ge.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ge.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ge.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ge.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ft.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}yc.create=e=>new yc({checks:[],typeName:gt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...kt(e)});class bc extends Lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ke.bigint)return this._getInvalidInput(t);let n;const a=new Us;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ft.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Re(r,{code:Ce.invalid_type,expected:Ke.bigint,received:r.parsedType}),mt}gte(t,r){return this.setLimit("min",t,!0,Ge.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ge.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ge.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ge.toString(r))}setLimit(t,r,n,a){return new bc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ge.toString(a)}]})}_addCheck(t){return new bc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}bc.create=e=>new bc({checks:[],typeName:gt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...kt(e)});class Ix extends Lt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ke.boolean){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:Ke.boolean,received:n.parsedType}),mt}return ma(t.data)}}Ix.create=e=>new Ix({typeName:gt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...kt(e)});class Dd extends Lt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ke.date){const i=this._getOrReturnCtx(t);return Re(i,{code:Ce.invalid_type,expected:Ke.date,received:i.parsedType}),mt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Re(i,{code:Ce.invalid_date}),mt}const n=new Us;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ft.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Dd({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ge.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ge.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Dd.create=e=>new Dd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:gt.ZodDate,...kt(e)});class UO extends Lt{_parse(t){if(this._getType(t)!==Ke.symbol){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:Ke.symbol,received:n.parsedType}),mt}return ma(t.data)}}UO.create=e=>new UO({typeName:gt.ZodSymbol,...kt(e)});class BO extends Lt{_parse(t){if(this._getType(t)!==Ke.undefined){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:Ke.undefined,received:n.parsedType}),mt}return ma(t.data)}}BO.create=e=>new BO({typeName:gt.ZodUndefined,...kt(e)});class VO extends Lt{_parse(t){if(this._getType(t)!==Ke.null){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:Ke.null,received:n.parsedType}),mt}return ma(t.data)}}VO.create=e=>new VO({typeName:gt.ZodNull,...kt(e)});class qO extends Lt{constructor(){super(...arguments),this._any=!0}_parse(t){return ma(t.data)}}qO.create=e=>new qO({typeName:gt.ZodAny,...kt(e)});class zO extends Lt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ma(t.data)}}zO.create=e=>new zO({typeName:gt.ZodUnknown,...kt(e)});class sl extends Lt{_parse(t){const r=this._getOrReturnCtx(t);return Re(r,{code:Ce.invalid_type,expected:Ke.never,received:r.parsedType}),mt}}sl.create=e=>new sl({typeName:gt.ZodNever,...kt(e)});class WO extends Lt{_parse(t){if(this._getType(t)!==Ke.undefined){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:Ke.void,received:n.parsedType}),mt}return ma(t.data)}}WO.create=e=>new WO({typeName:gt.ZodVoid,...kt(e)});class oi extends Lt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ke.array)return Re(r,{code:Ce.invalid_type,expected:Ke.array,received:r.parsedType}),mt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Re(r,{code:o?Ce.too_big:Ce.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Re(r,{code:Ce.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Re(r,{code:Ce.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new nl(r,o,r.path,l)))).then(o=>Us.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new nl(r,o,r.path,l)));return Us.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new oi({...this._def,minLength:{value:t,message:Ge.toString(r)}})}max(t,r){return new oi({...this._def,maxLength:{value:t,message:Ge.toString(r)}})}length(t,r){return new oi({...this._def,exactLength:{value:t,message:Ge.toString(r)}})}nonempty(t){return this.min(1,t)}}oi.create=(e,t)=>new oi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:gt.ZodArray,...kt(t)});function Su(e){if(e instanceof Kr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Wo.create(Su(n))}return new Kr({...e._def,shape:()=>t})}else return e instanceof oi?new oi({...e._def,type:Su(e.element)}):e instanceof Wo?Wo.create(Su(e.unwrap())):e instanceof Ud?Ud.create(Su(e.unwrap())):e instanceof wc?wc.create(e.items.map(t=>Su(t))):e}class Kr extends Lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ft.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ke.object){const u=this._getOrReturnCtx(t);return Re(u,{code:Ce.invalid_type,expected:Ke.object,received:u.parsedType}),mt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof sl&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new nl(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof sl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Re(a,{code:Ce.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new nl(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Us.mergeObjectSync(n,u)):Us.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ge.errToObj,new Kr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ge.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Kr({...this._def,unknownKeys:"strip"})}passthrough(){return new Kr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:gt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Kr({...this._def,catchall:t})}pick(t){const r={};for(const n of Ft.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ft.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}deepPartial(){return Su(this)}partial(t){const r={};for(const n of Ft.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Kr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ft.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Wo;)i=i._def.innerType;r[n]=i}return new Kr({...this._def,shape:()=>r})}keyof(){return K6(Ft.objectKeys(this.shape))}}Kr.create=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strip",catchall:sl.create(),typeName:gt.ZodObject,...kt(t)});Kr.strictCreate=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strict",catchall:sl.create(),typeName:gt.ZodObject,...kt(t)});Kr.lazycreate=(e,t)=>new Kr({shape:e,unknownKeys:"strip",catchall:sl.create(),typeName:gt.ZodObject,...kt(t)});class Rx extends Lt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Qi(l.ctx.common.issues));return Re(r,{code:Ce.invalid_union,unionErrors:o}),mt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Qi(c));return Re(r,{code:Ce.invalid_union,unionErrors:l}),mt}}get options(){return this._def.options}}Rx.create=(e,t)=>new Rx({options:e,typeName:gt.ZodUnion,...kt(t)});function IN(e,t){const r=vo(e),n=vo(t);if(e===t)return{valid:!0,data:e};if(r===Ke.object&&n===Ke.object){const a=Ft.objectKeys(t),i=Ft.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=IN(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ke.array&&n===Ke.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=IN(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ke.date&&n===Ke.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Mx extends Lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(DO(i)||DO(o))return mt;const l=IN(i.value,o.value);return l.valid?((LO(i)||LO(o))&&r.dirty(),{status:r.value,value:l.data}):(Re(n,{code:Ce.invalid_intersection_types}),mt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Mx.create=(e,t,r)=>new Mx({left:e,right:t,typeName:gt.ZodIntersection,...kt(r)});class wc extends Lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.array)return Re(n,{code:Ce.invalid_type,expected:Ke.array,received:n.parsedType}),mt;if(n.data.length<this._def.items.length)return Re(n,{code:Ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),mt;!this._def.rest&&n.data.length>this._def.items.length&&(Re(n,{code:Ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new nl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Us.mergeArray(r,o)):Us.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new wc({...this._def,rest:t})}}wc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wc({items:e,typeName:gt.ZodTuple,rest:null,...kt(t)})};class KO extends Lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.map)return Re(n,{code:Ce.invalid_type,expected:Ke.map,received:n.parsedType}),mt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new nl(n,l,n.path,[u,"key"])),value:i._parse(new nl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}KO.create=(e,t,r)=>new KO({valueType:t,keyType:e,typeName:gt.ZodMap,...kt(r)});class Bm extends Lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.set)return Re(n,{code:Ce.invalid_type,expected:Ke.set,received:n.parsedType}),mt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Re(n,{code:Ce.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Re(n,{code:Ce.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return mt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new nl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Bm({...this._def,minSize:{value:t,message:Ge.toString(r)}})}max(t,r){return new Bm({...this._def,maxSize:{value:t,message:Ge.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Bm.create=(e,t)=>new Bm({valueType:e,minSize:null,maxSize:null,typeName:gt.ZodSet,...kt(t)});class HO extends Lt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}HO.create=(e,t)=>new HO({getter:e,typeName:gt.ZodLazy,...kt(t)});class RN extends Lt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Re(r,{received:r.data,code:Ce.invalid_literal,expected:this._def.value}),mt}return{status:"valid",value:t.data}}get value(){return this._def.value}}RN.create=(e,t)=>new RN({value:e,typeName:gt.ZodLiteral,...kt(t)});function K6(e,t){return new Ld({values:e,typeName:gt.ZodEnum,...kt(t)})}class Ld extends Lt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Re(r,{expected:Ft.joinValues(n),received:r.parsedType,code:Ce.invalid_type}),mt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Re(r,{received:r.data,code:Ce.invalid_enum_value,options:n}),mt}return ma(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ld.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ld.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ld.create=K6;class GO extends Lt{_parse(t){const r=Ft.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ke.string&&n.parsedType!==Ke.number){const a=Ft.objectValues(r);return Re(n,{expected:Ft.joinValues(a),received:n.parsedType,code:Ce.invalid_type}),mt}if(this._cache||(this._cache=new Set(Ft.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Ft.objectValues(r);return Re(n,{received:n.data,code:Ce.invalid_enum_value,options:a}),mt}return ma(t.data)}get enum(){return this._def.values}}GO.create=(e,t)=>new GO({values:e,typeName:gt.ZodNativeEnum,...kt(t)});class $x extends Lt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ke.promise&&r.common.async===!1)return Re(r,{code:Ce.invalid_type,expected:Ke.promise,received:r.parsedType}),mt;const n=r.parsedType===Ke.promise?r.data:Promise.resolve(r.data);return ma(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}$x.create=(e,t)=>new $x({type:e,typeName:gt.ZodPromise,...kt(t)});class Fd extends Lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===gt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Re(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return mt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?mt:c.status==="dirty"||r.value==="dirty"?Eh(c.value):c});{if(r.value==="aborted")return mt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?mt:l.status==="dirty"||r.value==="dirty"?Eh(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?mt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?mt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!$d(o))return mt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>$d(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):mt);Ft.assertNever(a)}}Fd.create=(e,t,r)=>new Fd({schema:e,typeName:gt.ZodEffects,effect:t,...kt(r)});Fd.createWithPreprocess=(e,t,r)=>new Fd({schema:t,effect:{type:"preprocess",transform:e},typeName:gt.ZodEffects,...kt(r)});class Wo extends Lt{_parse(t){return this._getType(t)===Ke.undefined?ma(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Wo.create=(e,t)=>new Wo({innerType:e,typeName:gt.ZodOptional,...kt(t)});class Ud extends Lt{_parse(t){return this._getType(t)===Ke.null?ma(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ud.create=(e,t)=>new Ud({innerType:e,typeName:gt.ZodNullable,...kt(t)});class MN extends Lt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}MN.create=(e,t)=>new MN({innerType:e,typeName:gt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...kt(t)});class $N extends Lt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Tx(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Qi(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}$N.create=(e,t)=>new $N({innerType:e,typeName:gt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...kt(t)});class QO extends Lt{_parse(t){if(this._getType(t)!==Ke.nan){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:Ke.nan,received:n.parsedType}),mt}return{status:"valid",value:t.data}}}QO.create=e=>new QO({typeName:gt.ZodNaN,...kt(e)});class voe extends Lt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class k2 extends Lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?mt:i.status==="dirty"?(r.dirty(),Eh(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?mt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new k2({in:t,out:r,typeName:gt.ZodPipeline})}}class DN extends Lt{_parse(t){const r=this._def.innerType._parse(t),n=a=>($d(a)&&(a.value=Object.freeze(a.value)),a);return Tx(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}DN.create=(e,t)=>new DN({innerType:e,typeName:gt.ZodReadonly,...kt(t)});var gt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(gt||(gt={}));const pt=Ii.create,H6=yc.create;bc.create;const C2=Ix.create;Dd.create;sl.create;oi.create;const pa=Kr.create;Rx.create;Mx.create;wc.create;const YO=RN.create;Ld.create;$x.create;Wo.create;Ud.create;const Wb={string:e=>Ii.create({...e,coerce:!0}),number:e=>yc.create({...e,coerce:!0}),boolean:e=>Ix.create({...e,coerce:!0}),bigint:e=>bc.create({...e,coerce:!0}),date:e=>Dd.create({...e,coerce:!0})};function xoe(e){const t=yoe(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(woe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function yoe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=Noe(a),l=joe(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var boe=Symbol("radix.slottable");function woe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===boe}function joe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Noe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Kb="Dialog",[G6,Q6]=En(Kb),[_oe,Ba]=G6(Kb),Y6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=ps({prop:n,defaultProp:a??!1,onChange:i,caller:Kb});return s.jsx(_oe,{scope:t,triggerRef:l,contentRef:c,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};Y6.displayName=Kb;var X6="DialogTrigger",J6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ba(X6,r),i=dt(t,a.triggerRef);return s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":A2(a.open),...n,ref:i,onClick:Ne(e.onClick,a.onOpenToggle)})});J6.displayName=X6;var P2="DialogPortal",[Soe,Z6]=G6(P2,{forceMount:void 0}),e8=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ba(P2,t);return s.jsx(Soe,{scope:t,forceMount:r,children:x.Children.map(n,o=>s.jsx(dn,{present:r||i.open,children:s.jsx(vf,{asChild:!0,container:a,children:o})}))})};e8.displayName=P2;var Dx="DialogOverlay",t8=x.forwardRef((e,t)=>{const r=Z6(Dx,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ba(Dx,e.__scopeDialog);return i.modal?s.jsx(dn,{present:n||i.open,children:s.jsx(Coe,{...a,ref:t})}):null});t8.displayName=Dx;var koe=xoe("DialogOverlay.RemoveScroll"),Coe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ba(Dx,r);return s.jsx(zp,{as:koe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Me.div,{"data-state":A2(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),jc="DialogContent",r8=x.forwardRef((e,t)=>{const r=Z6(jc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ba(jc,e.__scopeDialog);return s.jsx(dn,{present:n||i.open,children:i.modal?s.jsx(Poe,{...a,ref:t}):s.jsx(Eoe,{...a,ref:t})})});r8.displayName=jc;var Poe=x.forwardRef((e,t)=>{const r=Ba(jc,e.__scopeDialog),n=x.useRef(null),a=dt(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return Pb(i)},[]),s.jsx(n8,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),Eoe=x.forwardRef((e,t)=>{const r=Ba(jc,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(n8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),n8=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ba(jc,r),c=x.useRef(null),u=dt(t,c);return Cb(),s.jsxs(s.Fragment,{children:[s.jsx(qp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":A2(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Ooe,{titleId:l.titleId}),s.jsx(Ioe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),E2="DialogTitle",s8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ba(E2,r);return s.jsx(Me.h2,{id:a.titleId,...n,ref:t})});s8.displayName=E2;var a8="DialogDescription",i8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ba(a8,r);return s.jsx(Me.p,{id:a.descriptionId,...n,ref:t})});i8.displayName=a8;var o8="DialogClose",l8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ba(o8,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});l8.displayName=o8;function A2(e){return e?"open":"closed"}var c8="DialogTitleWarning",[Aoe,u8]=sH(c8,{contentName:jc,titleName:E2,docsSlug:"dialog"}),Ooe=({titleId:e})=>{const t=u8(c8),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Toe="DialogDescriptionWarning",Ioe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${u8(Toe).contentName}}.`;return x.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},O2=Y6,d8=J6,T2=e8,Hb=t8,Gb=r8,I2=s8,R2=i8,M2=l8;const Pt=O2,Yr=d8,Roe=T2,f8=x.forwardRef(({className:e,...t},r)=>s.jsx(Hb,{ref:r,className:we("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));f8.displayName=Hb.displayName;const St=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Roe,{children:[s.jsx(f8,{}),s.jsxs(Gb,{ref:n,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(M2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Ki,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));St.displayName=Gb.displayName;const Et=({className:e,...t})=>s.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Et.displayName="DialogHeader";const Lx=({className:e,...t})=>s.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lx.displayName="DialogFooter";const At=x.forwardRef(({className:e,...t},r)=>s.jsx(I2,{ref:r,className:we("text-lg font-semibold leading-none tracking-tight",e),...t}));At.displayName=I2.displayName;const Rs=x.forwardRef(({className:e,...t},r)=>s.jsx(R2,{ref:r,className:we("text-sm text-muted-foreground",e),...t}));Rs.displayName=R2.displayName;var Moe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$oe=Moe.reduce((e,t)=>{const r=kb(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Doe="Label",h8=x.forwardRef((e,t)=>s.jsx($oe.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));h8.displayName=Doe;var m8=h8;const Loe=Mp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),q=x.forwardRef(({className:e,...t},r)=>s.jsx(m8,{ref:r,className:we(Loe(),e),...t}));q.displayName=m8.displayName;const Bs=_ie,p8=x.createContext({}),et=({...e})=>s.jsx(p8.Provider,{value:{name:e.name},children:s.jsx(Pie,{...e})}),Qb=()=>{const e=x.useContext(p8),t=x.useContext(g8),{getFieldState:r,formState:n}=zb(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},g8=x.createContext({}),Qe=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return s.jsx(g8.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:we("space-y-2",e),...t})})});Qe.displayName="FormItem";const Xe=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Qb();return s.jsx(q,{ref:r,className:we(n&&"text-destructive",e),htmlFor:a,...t})});Xe.displayName="FormLabel";const Je=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Qb();return s.jsx(Qk,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Je.displayName="FormControl";const Foe=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Qb();return s.jsx("p",{ref:r,id:n,className:we("text-sm text-muted-foreground",e),...t})});Foe.displayName="FormDescription";const rt=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Qb(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:n,id:i,className:we("text-sm font-medium text-destructive",e),...r,children:o}):null});rt.displayName="FormMessage";const lt=x.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));lt.displayName="Textarea";const v8=x.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));v8.displayName="Breadcrumb";const x8=x.forwardRef(({className:e,...t},r)=>s.jsx("ol",{ref:r,className:we("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));x8.displayName="BreadcrumbList";const LN=x.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:we("inline-flex items-center gap-1.5",e),...t}));LN.displayName="BreadcrumbItem";const FN=x.forwardRef(({asChild:e,className:t,...r},n)=>{const a=e?Qk:"a";return s.jsx(a,{ref:n,className:we("transition-colors hover:text-foreground",t),...r})});FN.displayName="BreadcrumbLink";const y8=x.forwardRef(({className:e,...t},r)=>s.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:we("font-normal text-foreground",e),...t}));y8.displayName="BreadcrumbPage";const b8=({children:e,className:t,...r})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:we("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??s.jsx(ca,{})});b8.displayName="BreadcrumbSeparator";const Uoe={"":"Home",facilities:"Facilities",events:"Events",roadmap:"Roadmap",gallery:"Gallery",booking:"Book a Facility",leaderboard:"Leaderboard",rules:"Rules & Safety",careers:"Careers",contact:"Contact Us",vision:"Our Vision",privacy:"Privacy Policy",terms:"Terms & Conditions",profile:"My Profile"};function Va({items:e,currentPage:t}){const[r]=Ln(),a=(()=>{if(e)return e;const i=r.split("/").filter(Boolean),o=[];let l="";for(let c=0;c<i.length;c++){const u=i[c];l+=`/${u}`;const d=c===i.length-1,f=Uoe[u]||u.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");o.push({label:d&&t?t:f,href:d?void 0:l})}return o})();return a.length===0?null:s.jsx(v8,{className:"mb-4","data-testid":"breadcrumb-nav",children:s.jsxs(x8,{children:[s.jsx(LN,{children:s.jsx(FN,{asChild:!0,children:s.jsxs(ge,{href:"/",className:"flex items-center gap-1.5",children:[s.jsx(Ak,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"sr-only sm:not-sr-only",children:"Home"})]})})}),a.map((i,o)=>s.jsxs("span",{className:"contents",children:[s.jsx(b8,{}),s.jsx(LN,{children:i.href?s.jsx(FN,{asChild:!0,children:s.jsx(ge,{href:i.href,children:i.label})}):s.jsx(y8,{children:i.label})})]},o))]})})}function Fn({title:e,subtitle:t,testId:r,subtitleTestId:n}){return s.jsxs("div",{className:"relative overflow-hidden py-8 md:py-12",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-[0.15] dark:opacity-[0.25]",style:{backgroundImage:`url(${xx})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),s.jsxs("div",{className:"qd-container relative z-10 text-center text-primary-foreground",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2","data-testid":r||"text-page-title",children:e}),t&&s.jsx("p",{className:"text-sm opacity-80 max-w-2xl mx-auto","data-testid":n,children:t})]})]})}const Boe=pa({fullName:pt().min(2,"Name must be at least 2 characters"),email:pt().email("Please enter a valid email"),phone:pt().optional(),guestCount:H6().min(0).max(10).default(0),notes:pt().optional()});function Voe(){var _;Ur({title:"Events & Tournaments",description:"Discover upcoming events, tournaments, and classes at The Quarterdeck. Register for sports competitions, training clinics, and social events in Islamabad."});const{user:e}=ul(),{toast:t}=ht(),[r,n]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState(!1),{getValue:c}=Fr(["page_events_title","page_events_subtitle","page_events_upcoming_title","page_events_no_events","page_events_register_cta"],Ee),u=Ls({resolver:Fs(Boe),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:d=[],isLoading:f}=de({queryKey:["/api/events"]}),{data:h=[]}=de({queryKey:["/api/user/event-registrations"],enabled:!!e}),p=ye({mutationFn:async N=>await xe("POST",`/api/events/${N.eventId}/register`,N),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Successful",description:"You have been registered for this event."}),i(!1),n(null),u.reset()},onError:N=>{t({title:"Registration Failed",description:N.message||"Unable to register for this event.",variant:"destructive"})}}),y=ye({mutationFn:async N=>await xe("DELETE",`/api/events/${N}/register`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:N=>{t({title:"Cancellation Failed",description:N.message||"Unable to cancel registration.",variant:"destructive"})}}),m=N=>h.some(S=>S.eventId===N),w=N=>N?new Date(N).toLocaleDateString("en-PK",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):"TBD",g={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300"},v=N=>{if(n(N),!e){l(!0);return}u.setValue("fullName",e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName||""),u.setValue("email",e.email||""),i(!0)},b=N=>{r&&p.mutate({...N,eventId:r.id})},j=N=>{y.mutate(N)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:c("page_events_title"),subtitle:c("page_events_subtitle"),testId:"text-events-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),f?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(N=>s.jsx(De,{className:"h-64 rounded-xl"},N))}):d.length>0?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(N=>{var k;const S=m(N.id),C=(N.enrolledCount||0)>=(N.capacity||0),P=p.isPending||y.isPending;return s.jsxs(ne,{className:"overflow-hidden hover-elevate","data-testid":`card-event-${N.id}`,children:[s.jsx(ge,{href:`/events/${N.slug||N.id}`,children:s.jsx("div",{className:"h-40 bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center cursor-pointer",children:s.jsx(os,{className:"w-16 h-16 text-amber-400/50"})})}),s.jsx(Le,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(ge,{href:`/events/${N.slug||N.id}`,children:s.jsx(We,{className:"text-lg cursor-pointer hover:text-primary transition-colors",children:N.title})}),s.jsx(le,{className:g[N.type]||g.SOCIAL,children:N.type})]})}),s.jsxs(se,{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:N.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(mr,{className:"w-4 h-4"}),s.jsxs("span",{children:[N.scheduleDay," ",N.scheduleTime||""]})]}),N.instructor&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(yr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Instructor: ",N.instructor]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(yr,{className:"w-4 h-4"}),s.jsxs("span",{children:[N.enrolledCount||0," / ",N.capacity," enrolled"]})]}),N.enrollmentDeadline&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ht,{className:"w-4 h-4"}),s.jsxs("span",{children:["Register by ",w(N.enrollmentDeadline)]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t gap-2",children:[s.jsxs("div",{className:"font-semibold text-sky-600",children:["PKR ",((k=N.price)==null?void 0:k.toLocaleString())||"Free"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ge,{href:`/events/${N.slug||N.id}`,children:s.jsx(M,{size:"sm",variant:"ghost","data-testid":`button-view-event-${N.id}`,children:"View"})}),S?s.jsx(M,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),j(N.id)},disabled:P,"data-testid":`button-cancel-event-${N.id}`,children:P?s.jsx(Te,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"w-4 h-4 mr-1"}),"Registered"]})}):s.jsx(M,{size:"sm",onClick:E=>{E.stopPropagation(),v(N)},disabled:C,"data-testid":`button-register-event-${N.id}`,children:C?"Full":"Register"})]})]})]})]},N.id)})}):s.jsx(ne,{children:s.jsxs(se,{className:"py-16 text-center",children:[s.jsx(os,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Upcoming Events"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Check back soon for tournaments, leagues, and training programs."}),s.jsx(ge,{href:"/",children:s.jsx(M,{variant:"outline","data-testid":"button-back-to-home",children:"Back to Home"})})]})})]})]}),s.jsx(ar,{}),s.jsx(Pt,{open:a,onOpenChange:i,children:s.jsxs(St,{className:"sm:max-w-md",children:[s.jsxs(Et,{children:[s.jsx(At,{"data-testid":"text-registration-title",children:"Event Registration"}),s.jsxs(Rs,{children:[(r==null?void 0:r.title)&&s.jsx("span",{className:"font-medium text-foreground",children:r.title}),r!=null&&r.price?` - PKR ${r.price.toLocaleString()}`:" - Free"]})]}),s.jsx(Bs,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(b),className:"space-y-4",children:[s.jsx(et,{control:u.control,name:"fullName",render:({field:N})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Full Name *"}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"Enter your full name",...N,"data-testid":"input-reg-fullname"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:u.control,name:"email",render:({field:N})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email *"}),s.jsx(Je,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com",...N,"data-testid":"input-reg-email"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:u.control,name:"phone",render:({field:N})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"+92 300 1234567",...N,"data-testid":"input-reg-phone"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:u.control,name:"guestCount",render:({field:N})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Number of Guests"}),s.jsx(Je,{children:s.jsx(Y,{type:"number",min:0,max:10,placeholder:"0",...N,onChange:S=>N.onChange(parseInt(S.target.value)||0),"data-testid":"input-reg-guests"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:u.control,name:"notes",render:({field:N})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Additional Notes"}),s.jsx(Je,{children:s.jsx(lt,{placeholder:"Any special requirements or notes...",className:"resize-none",...N,"data-testid":"textarea-reg-notes"})}),s.jsx(rt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-registration",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:p.isPending,"data-testid":"button-submit-registration",children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]})})]})}),s.jsx(Pt,{open:o,onOpenChange:l,children:s.jsxs(St,{className:"sm:max-w-md",children:[s.jsxs(Et,{children:[s.jsxs(At,{className:"flex items-center gap-2","data-testid":"text-login-prompt-title",children:[s.jsx(nN,{className:"w-5 h-5"}),"Sign In Required"]}),s.jsx(Rs,{children:"Please sign in to register for this event."})]}),s.jsxs("div",{className:"py-4",children:[r&&s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg mb-4",children:[s.jsx("h4",{className:"font-semibold",children:r.title}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.scheduleDay," ",r.scheduleTime||""]}),s.jsxs("p",{className:"text-sm font-medium text-sky-600 mt-2",children:["PKR ",((_=r.price)==null?void 0:_.toLocaleString())||"Free"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create an account or sign in to complete your registration. Your membership will be set up automatically."})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ge,{href:"/login",className:"w-full",children:s.jsxs(M,{className:"w-full","data-testid":"button-login-to-register",children:[s.jsx(nN,{className:"w-4 h-4 mr-2"}),"Sign In"]})}),s.jsx(M,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-login-prompt",children:"Maybe Later"})]})]})})]})}const qoe=Mp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Pf=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:we(qoe({variant:t}),e),...r}));Pf.displayName="Alert";const zoe=x.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:we("mb-1 font-medium leading-none tracking-tight",e),...t}));zoe.displayName="AlertTitle";const Ef=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("text-sm [&_p]:leading-relaxed",e),...t}));Ef.displayName="AlertDescription";const Woe=pa({fullName:pt().min(2,"Name must be at least 2 characters"),email:pt().email("Please enter a valid email"),phone:pt().optional(),guestCount:H6().min(0).max(10).default(0),notes:pt().optional()}),XO={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300",WORKSHOP:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300"},Koe={TOURNAMENT:"Tournament",CLASS:"Class",ACADEMY:"Academy",SOCIAL:"Social Event",WORKSHOP:"Workshop"};function Hoe(){const{slug:e}=sb(),{user:t}=ul(),{toast:r}=ht(),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(!1),p=x.useRef(null),{data:y}=de({queryKey:["/api/site-settings"],select:O=>O.filter(W=>["bank_name","bank_account_title","bank_account_number","bank_iban","bank_branch_code","bank_swift_code"].includes(W.key))}),m=O=>{const W=y==null?void 0:y.find(A=>A.key===O);return(W==null?void 0:W.value)||""},w=Ls({resolver:Fs(Woe),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:g,isLoading:v}=de({queryKey:["/api/events",e],queryFn:async()=>{const O=await fetch(`/api/events/${e}`);if(!O.ok)throw new Error("Event not found");return O.json()},enabled:!!e});Ur({title:(g==null?void 0:g.title)||"Event Details",description:(g==null?void 0:g.description)||"View event details and register for events at The Quarterdeck sports complex.",ogImage:(g==null?void 0:g.imageUrl)||void 0});const{data:b=[]}=de({queryKey:["/api/user/event-registrations"],enabled:!!t});x.useEffect(()=>{t&&(w.setValue("fullName",`${t.firstName||""} ${t.lastName||""}`.trim()),w.setValue("email",t.email||""))},[t,w]);const j=ye({mutationFn:async O=>await xe("POST",`/api/events/${O.eventId}/register`,O),onSuccess:O=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),a(!1),w.reset(),O.isPaidEvent?(d({id:O.id,isPaid:!0}),c(!0),r({title:"Registration Initiated",description:"Please complete the payment to confirm your spot."})):r({title:"Registration Successful",description:"You have been registered for this event."})},onError:O=>{r({title:"Registration Failed",description:O.message||"Unable to register for this event.",variant:"destructive"})}}),_=async O=>{if(u){h(!0);try{const W=new FormData;W.append("proof",O);const A=await fetch(`/api/event-registrations/${u.id}/upload-proof`,{method:"POST",body:W,credentials:"include"});if(!A.ok){const $=await A.json();throw new Error($.message||"Upload failed")}r({title:"Proof Uploaded",description:"Your payment proof has been submitted for verification."}),c(!1),d(null),re.invalidateQueries({queryKey:["/api/user/event-registrations"]})}catch(W){r({title:"Upload Failed",description:W.message||"Failed to upload payment proof.",variant:"destructive"})}finally{h(!1)}}},N=(O,W)=>{navigator.clipboard.writeText(O),r({title:"Copied",description:`${W} copied to clipboard`})},S=ye({mutationFn:async O=>await xe("DELETE",`/api/events/${O}/register`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),r({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:O=>{r({title:"Cancellation Failed",description:O.message||"Unable to cancel registration.",variant:"destructive"})}}),C=g?b.some(O=>O.eventId===g.id):!1,P=O=>O?new Date(O).toLocaleDateString("en-PK",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"TBD",k=O=>O||"TBD",E=()=>{if(!t){o(!0);return}a(!0)},T=O=>{g&&j.mutate({...O,eventId:g.id})},I=()=>{navigator.share&&g?navigator.share({title:g.title,text:g.description||"",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Event link copied to clipboard"}))};if(v)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1 qd-container py-8",children:[s.jsx(De,{className:"h-[300px] w-full rounded-xl mb-8"}),s.jsx(De,{className:"h-8 w-1/2 mb-4"}),s.jsx(De,{className:"h-4 w-full mb-2"}),s.jsx(De,{className:"h-4 w-3/4"})]}),s.jsx(ar,{})]});if(!g)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1 qd-container py-16 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The event you're looking for doesn't exist or has been removed."}),s.jsx(ge,{href:"/events",children:s.jsxs(M,{"data-testid":"button-back-events",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Back to Events"]})})]}),s.jsx(ar,{})]});const R=(g.capacity||0)-(g.enrolledCount||0),D=R<=0;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:g.title,subtitle:g.description||"Join us for this exciting event at The Quarterdeck",testId:"text-event-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{items:[{label:"Events",href:"/events"},{label:g.title}]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mt-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.imageUrl&&s.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-video",children:[s.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-full object-cover","data-testid":"img-event-banner"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx(le,{className:XO[g.type]||XO.SOCIAL,children:Koe[g.type]||g.type})})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(fb,{className:"w-5 h-5"}),"About This Event"]})}),s.jsxs(se,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:g.description||"Join us for an exciting event at The Quarterdeck Sports Complex. Whether you're a beginner or experienced player, this event offers something for everyone."}),g.instructor&&s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(cs,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Instructor / Host"}),s.jsx("p",{className:"font-medium",children:g.instructor})]})]})]})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(ax,{className:"w-5 h-5"}),"Schedule & Details"]})}),s.jsx(se,{children:s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(mr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:P(g.scheduleDatetime)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Ht,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),s.jsx("p",{className:"font-medium",children:k(g.scheduleTime)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(yr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Capacity"}),s.jsxs("p",{className:"font-medium",children:[g.capacity||"Unlimited"," participants"]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(gs,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),s.jsx("p",{className:"font-medium",children:"The Quarterdeck, Islamabad"})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(ne,{className:"sticky top-24",children:s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:g.price===0?"Free":`PKR ${(g.price||0).toLocaleString()}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per person"})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Spots Available"}),s.jsx("span",{className:`font-medium ${D?"text-destructive":R<=5?"text-amber-600":""}`,children:D?"Full":`${R} left`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Enrolled"}),s.jsxs("span",{className:"font-medium",children:[g.enrolledCount||0," / ",g.capacity||""]})]}),g.enrollmentDeadline&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Deadline"}),s.jsx("span",{className:"font-medium",children:P(g.enrollmentDeadline)})]})]}),C?s.jsxs("div",{className:"space-y-3",children:[s.jsxs(le,{className:"w-full justify-center py-2 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),"You're Registered"]}),s.jsxs(M,{variant:"outline",className:"w-full",onClick:()=>S.mutate(g.id),disabled:S.isPending,"data-testid":"button-cancel-registration",children:[S.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Cancel Registration"]})]}):s.jsx(M,{className:"w-full",onClick:E,disabled:D,"data-testid":"button-register-event",children:D?"Event Full":"Register Now"}),s.jsxs(M,{variant:"ghost",className:"w-full mt-3",onClick:I,"data-testid":"button-share-event",children:[s.jsx(TG,{className:"w-4 h-4 mr-2"}),"Share Event"]})]})}),s.jsx(ge,{href:"/events",children:s.jsxs(M,{variant:"outline",className:"w-full","data-testid":"button-back-events",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Back to All Events"]})})]})]})]})]}),s.jsx(Pt,{open:i,onOpenChange:o,children:s.jsxs(St,{children:[s.jsxs(Et,{children:[s.jsxs(At,{className:"flex items-center gap-2",children:[s.jsx(nN,{className:"w-5 h-5"}),"Login Required"]}),s.jsx(Rs,{children:"Please log in to register for this event."})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx(ge,{href:"/login",className:"flex-1",children:s.jsx(M,{className:"w-full","data-testid":"button-login-prompt",children:"Log In"})}),s.jsx(ge,{href:"/signup",className:"flex-1",children:s.jsx(M,{variant:"outline",className:"w-full","data-testid":"button-signup-prompt",children:"Sign Up"})})]})]})}),s.jsx(Pt,{open:n,onOpenChange:a,children:s.jsxs(St,{children:[s.jsxs(Et,{children:[s.jsxs(At,{children:["Register for ",g.title]}),s.jsx(Rs,{children:"Complete the form below to register for this event."})]}),s.jsx(Bs,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(T),className:"space-y-4",children:[s.jsx(et,{control:w.control,name:"fullName",render:({field:O})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Full Name *"}),s.jsx(Je,{children:s.jsx(Y,{...O,"data-testid":"input-reg-name"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:w.control,name:"email",render:({field:O})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email *"}),s.jsx(Je,{children:s.jsx(Y,{type:"email",...O,"data-testid":"input-reg-email"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:w.control,name:"phone",render:({field:O})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone (Optional)"}),s.jsx(Je,{children:s.jsx(Y,{...O,"data-testid":"input-reg-phone"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:w.control,name:"notes",render:({field:O})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Notes (Optional)"}),s.jsx(Je,{children:s.jsx(lt,{...O,"data-testid":"input-reg-notes"})}),s.jsx(rt,{})]})}),s.jsx(M,{type:"submit",className:"w-full",disabled:j.isPending,"data-testid":"button-submit-registration",children:j.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})})]})}),s.jsx(Pt,{open:l,onOpenChange:c,children:s.jsxs(St,{className:"max-w-md",children:[s.jsxs(Et,{children:[s.jsxs(At,{className:"flex items-center gap-2",children:[s.jsx(Xo,{className:"w-5 h-5"}),"Complete Payment"]}),s.jsx(Rs,{children:"Transfer the registration fee to complete your booking."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Pf,{children:[s.jsx(kn,{className:"h-4 w-4"}),s.jsxs(Ef,{children:[s.jsxs("span",{className:"font-semibold",children:["Amount: PKR ",((g==null?void 0:g.price)||0).toLocaleString()]}),s.jsx("br",{}),"Your spot will be confirmed once payment is verified."]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(un,{className:"w-4 h-4"}),"Bank Details"]}),m("bank_name")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Bank"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:m("bank_name")}),s.jsx(M,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(m("bank_name"),"Bank name"),children:s.jsx(Mg,{className:"h-3 w-3"})})]})]}),m("bank_account_title")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Title"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:m("bank_account_title")}),s.jsx(M,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(m("bank_account_title"),"Account title"),children:s.jsx(Mg,{className:"h-3 w-3"})})]})]}),m("bank_account_number")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account No."}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium font-mono",children:m("bank_account_number")}),s.jsx(M,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(m("bank_account_number"),"Account number"),children:s.jsx(Mg,{className:"h-3 w-3"})})]})]}),m("bank_iban")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"IBAN"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium font-mono text-xs",children:m("bank_iban")}),s.jsx(M,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(m("bank_iban"),"IBAN"),children:s.jsx(Mg,{className:"h-3 w-3"})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Upload Payment Proof"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a screenshot or photo of your transfer receipt."}),s.jsx("input",{ref:p,type:"file",accept:"image/jpeg,image/png,image/webp,application/pdf",className:"hidden",onChange:O=>{var A;const W=(A=O.target.files)==null?void 0:A[0];W&&_(W)},"data-testid":"input-payment-proof"}),s.jsx(M,{variant:"outline",className:"w-full",onClick:()=>{var O;return(O=p.current)==null?void 0:O.click()},disabled:f,"data-testid":"button-upload-proof",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"})," Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-4 h-4 mr-2"})," Select File"]})})]}),s.jsx("div",{className:"flex gap-2 pt-2",children:s.jsx(M,{variant:"ghost",className:"flex-1",onClick:()=>{c(!1),d(null)},"data-testid":"button-pay-later",children:"Pay Later"})})]})]})}),s.jsx(ar,{})]})}const Goe=[{id:"all",name:"All Sports",icon:os},{id:"padel",name:"Padel",icon:na},{id:"squash",name:"Squash",icon:na},{id:"rifle",name:"Air Rifle",icon:na}];function Qoe(){Ur({title:"Leaderboard",description:"View The Quarterdeck's sports leaderboard rankings. Track top players and compete in Padel Tennis, Squash, and Air Rifle competitions."});const[e,t]=x.useState("all"),{getValue:r}=Fr(["page_leaderboard_title","page_leaderboard_subtitle","page_leaderboard_coming_soon"],Ee),{data:n=[],isLoading:a}=de({queryKey:["/api/leaderboard",e!=="all"?e:void 0]}),i=l=>{switch(l){case 1:return"bg-gradient-to-r from-amber-400 to-yellow-500 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-800";case 3:return"bg-gradient-to-r from-amber-600 to-amber-700 text-white";default:return"bg-gray-100 dark:bg-slate-700 text-foreground"}},o=l=>l<=3?s.jsx(xG,{className:`w-5 h-5 ${l===1?"text-amber-400":l===2?"text-gray-400":"text-amber-600"}`}):s.jsx("span",{className:"text-sm font-bold",children:l});return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:r("page_leaderboard_title"),subtitle:r("page_leaderboard_subtitle"),testId:"text-leaderboard-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Goe.map(l=>s.jsxs(M,{variant:e===l.id?"default":"outline",size:"sm",onClick:()=>t(l.id),className:"gap-2","data-testid":`button-filter-${l.id}`,children:[s.jsx(l.icon,{className:"w-4 h-4"}),l.name]},l.id))}),a?s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(l=>s.jsx(De,{className:"h-20 rounded-xl"},l))}):n.length>0?s.jsx("div",{className:"space-y-3",children:n.map((l,c)=>{var u,d;return s.jsx(ne,{className:`overflow-visible ${c<3?"border-2":""} ${c===0?"border-amber-400":c===1?"border-gray-400":c===2?"border-amber-600":""}`,"data-testid":`leaderboard-entry-${l.id}`,children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${i(c+1)}`,children:o(c+1)}),s.jsxs(Id,{className:"w-12 h-12",children:[s.jsx(Rd,{src:l.profileImageUrl||""}),s.jsx(Md,{children:((u=l.playerName)==null?void 0:u.split(" ").map(f=>f[0]).join(""))||"P"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:l.playerName||"Anonymous Player"}),s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2 flex-wrap",children:[s.jsxs("span",{children:[l.wins,"W - ",l.losses,"L"]}),l.winRate&&s.jsxs(le,{variant:"secondary",className:"text-xs",children:[(l.winRate*100).toFixed(0),"% WR"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-sky-600",children:((d=l.rankingPoints)==null?void 0:d.toLocaleString())||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]})})},l.id)})}):s.jsx(ne,{children:s.jsxs(se,{className:"py-16 text-center",children:[s.jsx(os,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Rankings Yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Play matches to appear on the leaderboard!"}),s.jsx(ge,{href:"/booking",children:s.jsx(M,{"data-testid":"button-book-now",children:"Book a Court"})})]})})]})]}),s.jsx(ar,{})]})}const JO=[{id:"all",label:"All Photos"},{id:"Renders",label:"Architectural Renders"},{id:"Construction",label:"Construction Progress"},{id:"Facilities",label:"Facilities"}];function Yoe(){Ur({title:"Gallery",description:"View The Quarterdeck's photo gallery featuring architectural renders, construction progress, and facility images of Islamabad's premier sports complex."});const e=JD(),t=new URLSearchParams(e).get("category"),[r,n]=x.useState(t||"all"),[a,i]=x.useState(null),{getValue:o}=Fr(["page_gallery_title","page_gallery_subtitle"],Ee),{data:l,isLoading:c,error:u}=de({queryKey:["/api/gallery"]}),d=x.useMemo(()=>{if(!l)return[];const h=l.filter(p=>p.isActive!==!1);return r==="all"?h:h.filter(p=>{var y;return((y=p.category)==null?void 0:y.toLowerCase())===r.toLowerCase()})},[r,l]),f=x.useMemo(()=>{if(!l)return JO;const h=new Set(l.filter(p=>p.isActive!==!1).map(p=>{var y;return(y=p.category)==null?void 0:y.toLowerCase()}).filter(Boolean));return JO.filter(p=>p.id==="all"||h.has(p.id.toLowerCase()))},[l]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:o("page_gallery_title"),subtitle:o("page_gallery_subtitle"),testId:"text-gallery-page-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),c?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(h=>s.jsx(De,{className:"aspect-[4/3] rounded-xl"},h))}):u?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(QE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Unable to load gallery images."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-8","data-testid":"gallery-filters",children:[s.jsx(W5,{className:"w-5 h-5 text-muted-foreground mr-2 self-center"}),f.map(h=>s.jsx(M,{variant:r===h.id?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>n(h.id),"data-testid":`filter-${h.id}`,children:h.label},h.id))]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(h=>s.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer",onClick:()=>i(h),"data-testid":`gallery-image-${h.id}`,children:[s.jsx("img",{src:h.imageUrl,alt:h.title||"Gallery image",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:h.title||"Untitled"}),h.category&&s.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-primary/80 text-white uppercase tracking-wide",children:h.category})]})]},h.id))}),d.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(QE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No images found in this category."})]})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>i(null),"data-testid":"gallery-lightbox",children:s.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh]",children:[s.jsx("img",{src:a.imageUrl,alt:a.title||"Gallery image",className:"w-full h-full object-contain rounded-lg"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg",children:[s.jsx("h3",{className:"text-white text-xl font-semibold",children:a.title||"Untitled"}),a.description&&s.jsx("p",{className:"text-white/80 mt-2",children:a.description})]}),s.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-white/80 text-3xl font-light",onClick:h=>{h.stopPropagation(),i(null)},"data-testid":"close-lightbox",children:"x"})]})}),s.jsx(ar,{})]})}function Xoe(){Ur({title:"Our Vision",description:"Learn about The Quarterdeck's mission, values, and vision for creating a world-class sports and recreation community in Islamabad, Pakistan."});const{getValue:e}=Fr(["page_vision_title","page_vision_subtitle"],Ee);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_vision_title"),subtitle:e("page_vision_subtitle"),testId:"text-vision-title",subtitleTestId:"text-vision-subtitle"}),s.jsx("div",{className:"qd-container py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-mission-title",children:"Our Mission"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"The Quarterdeck aims to create a world-class sports and recreation complex that brings together Islamabad's community through premium facilities, professional coaching, and a commitment to excellence in every aspect of the member experience."}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"We believe that access to quality sports facilities should be available to all who seek it, and we're building a space where professionals, families, and enthusiasts can pursue their passion for sports in a safe, welcoming environment."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-8","data-testid":"text-values-title",children:"Our Values"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(ne,{"data-testid":"card-value-excellence",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(os,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Excellence"}),s.jsx("p",{className:"text-muted-foreground",children:"We strive for excellence in our facilities, services, and member experiences."})]})]})})}),s.jsx(ne,{"data-testid":"card-value-community",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(yr,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Community"}),s.jsx("p",{className:"text-muted-foreground",children:"Building connections through sports and shared experiences."})]})]})})}),s.jsx(ne,{"data-testid":"card-value-integrity",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ui,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Safety & Integrity"}),s.jsx("p",{className:"text-muted-foreground",children:"Maintaining the highest standards of safety and ethical conduct."})]})]})})}),s.jsx(ne,{"data-testid":"card-value-wellness",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(db,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Wellness"}),s.jsx("p",{className:"text-muted-foreground",children:"Promoting physical and mental well-being through active lifestyles."})]})]})})})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-future-title",children:"Looking Ahead"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"With our Q4 2026 launch approaching, The Quarterdeck is set to transform the sports and recreation landscape in Islamabad. Our early members will be the first to experience our world-class facilities and exclusive benefits."}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(ge,{href:"/roadmap",children:s.jsxs(M,{"data-testid":"button-view-roadmap",children:[s.jsx(un,{className:"w-4 h-4 mr-2"})," View Our Roadmap"]})}),s.jsx(ge,{href:"/facilities",children:s.jsx(M,{variant:"outline","data-testid":"button-explore-facilities",children:"Explore Facilities"})})]})]})]})})]}),s.jsx(ar,{})]})}const Joe="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Zoe="/assets/professional_squash__c4dca43a-DYvE2Lp8.jpg",ele="/assets/bridge_card_game_clu_6f83cf65-D9nP8IVw.jpg",tle="/assets/multipurpose_event_h_e7c6ac62-D3KmV09D.jpg",ZO={"padel-tennis":rl,squash:Yp,"air-rifle-range":$c,"bridge-room":hb,"multipurpose-hall":un},eT={"padel-tennis":Joe,squash:Zoe,"air-rifle-range":m2,"bridge-room":ele,"multipurpose-hall":tle},rle=[{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts with LED lighting and premium surfaces.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade turf, and state-of-the-art LED lighting for evening play.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0},{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards with glass back walls.",longDescription:"Our squash courts meet international competition standards with specially designed floors, glass back walls for viewing, and professional lighting systems. Perfect for casual games or serious training.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental"],requiresCertification:!1,isActive:!0},{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with 6 lanes, electronic scoring, and professional supervision.",longDescription:"Our state-of-the-art air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our safety certification course before using the range.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental"],requiresCertification:!0,isActive:!0},{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for corporate events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. Features include a professional sound system, adjustable lighting, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout"],requiresCertification:!1,isActive:!0}];function nle(){Ur({title:"Our Facilities",description:"Explore world-class sports facilities at The Quarterdeck - Padel Tennis courts, Squash courts, Air Rifle Range, Bridge Room, and Multipurpose Hall in Islamabad."});const{getValue:e}=Fr(["page_facilities_title","page_facilities_subtitle","page_facilities_ready_title","page_facilities_ready_description","page_facilities_book_cta","page_facilities_contact_cta"],Ee),{data:t}=de({queryKey:["/api/facilities"]}),n=(t&&t.length>0?t.filter(a=>!a.isHidden).map(a=>({...a,courtCount:a.resourceCount||a.courtCount||1,operatingHours:a.operatingHours||"6:00 AM - 11:00 PM",maxPlayers:a.maxPlayers||a.minPlayers||4,basePrice:String(a.basePrice||0),isActive:a.status!=="CLOSED"})):rle).filter(a=>a.isActive);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_facilities_title"),subtitle:e("page_facilities_subtitle"),testId:"text-facilities-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsxs("div",{className:"max-w-5xl mx-auto mt-4",children:[s.jsx("div",{className:"grid gap-6",children:n.map(a=>s.jsx(ge,{href:`/facilities/${a.slug}`,children:s.jsx(ne,{className:"overflow-hidden hover-elevate cursor-pointer","data-testid":`card-facility-${a.slug}`,children:s.jsx(se,{className:"p-0",children:s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:"md:w-1/3 h-48 md:h-auto relative overflow-hidden",children:a.imageUrl||eT[a.slug]?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:a.imageUrl||eT[a.slug],alt:a.name,className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:(()=>{const i=ZO[a.slug]||rl;return s.jsx(i,{className:"w-5 h-5 text-white"})})()})]}):s.jsx("div",{className:"w-full h-full bg-primary/10 flex items-center justify-center",children:(()=>{const i=ZO[a.slug]||rl;return s.jsx(i,{className:"w-12 h-12 text-primary/50"})})()})}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-xl mb-1",children:a.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fa,{className:"w-4 h-4"})," ",a.courtCount," ",a.courtCount===1?"Unit":"Courts/Lanes"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(yr,{className:"w-4 h-4"})," ",a.minPlayers,"-",a.maxPlayers," players"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"w-4 h-4"})," ",a.operatingHours]})]})]}),a.requiresCertification&&s.jsx(le,{variant:"destructive",className:"flex-shrink-0",children:"Certification Required"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:a.description}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"From "}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(a.basePrice).toLocaleString()]}),s.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),s.jsxs(M,{variant:"ghost",size:"sm",className:"text-primary",children:["View Details ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})]})]})]})})})},a.id))}),s.jsxs("div",{className:"mt-12 mb-16 md:mb-24 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-primary mb-4",children:e("page_facilities_ready_title")}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:e("page_facilities_ready_description")}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(ge,{href:"/booking",children:s.jsx(M,{"data-testid":"button-book-now",children:e("page_facilities_book_cta")})}),s.jsx(ge,{href:"/contact",children:s.jsx(M,{variant:"outline","data-testid":"button-contact-us",children:e("page_facilities_contact_cta")})})]})]})]})]})]}),s.jsx(ar,{})]})}const sle="/assets/indoor_squash_court__3447d74a-DPwnnr4G.jpg",ale="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",ile="/assets/elegant_card_game_ro_42b0454d-y4j-Rn8N.jpg",ole="/assets/large_event_hall_int_32ffc7ae-BCjqhoII.jpg",lle={"padel-tennis":rl,squash:Yp,"air-rifle-range":$c,"bridge-room":hb,"multipurpose-hall":un},cle={"padel-tennis":Cf,squash:sle,"air-rifle-range":ale,"bridge-room":ile,"multipurpose-hall":ole},ule={"padel-tennis":{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade artificial turf, and state-of-the-art LED lighting for evening play. Whether you're a beginner or seasoned player, our facilities provide the perfect environment for this dynamic sport.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available","Video Analysis","Pro Shop"],requiresCertification:!1,isActive:!0,features:["4 International-standard courts","Tempered glass walls","Professional-grade artificial turf","LED lighting system for night play","Covered and climate-controlled"],addOns:[{id:"racket",name:"Rent Racket",price:500},{id:"balls",name:"Sleeve of Balls",price:1500},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},squash:{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards.",longDescription:"Our squash courts meet international competition standards with specially designed maple floors, glass back walls for viewing, and professional lighting systems. The courts are perfect for casual games, serious training, or competitive matches.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0,features:["2 Championship-grade courts","World Squash Federation compliant","Glass back walls for spectating","Professional maple flooring","Climate-controlled environment"],addOns:[{id:"sq_racket",name:"Squash Racket Rental",price:500},{id:"sq_balls",name:"Squash Balls (Tube)",price:1200},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},"air-rifle-range":{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with professional supervision.",longDescription:"Our state-of-the-art 10-meter air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our mandatory safety certification course before using the range. Professional supervision is provided at all times.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental","Certification Course"],requiresCertification:!0,isActive:!0,features:["6 Shooting lanes","10-meter Olympic distance","Electronic scoring system","Professional-grade air rifles","Full safety equipment provided"],addOns:[{id:"ear_protection",name:"Ear Protection",price:300},{id:"safety_glasses",name:"Safety Glasses",price:400},{id:"water",name:"Mineral Water",price:100}]},"multipurpose-hall":{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. The venue features a professional sound system, adjustable lighting, projector facilities, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout","Stage Available"],requiresCertification:!1,isActive:!0,features:["500-person capacity","Professional sound system","HD Projector and screen","Flexible seating arrangements","Full catering kitchen"],addOns:[{id:"mats",name:"Floor Mats",price:500},{id:"speaker",name:"Speaker & Mic Setup",price:1500},{id:"water",name:"Mineral Water",price:100}]}};function dle(){var c,u,d,f;const{slug:e}=sb(),{data:t}=de({queryKey:["/api/facilities",e],enabled:!!e}),{data:r=[]}=de({queryKey:["/api/pricing-tiers"]}),n=x.useMemo(()=>{const h={};return r.forEach(p=>{const m=(p.benefits||[]).find(w=>w.toLowerCase().includes("discount")&&w.toLowerCase().includes("off-peak"));if(m){const w=m.match(/(\d+)%/);w&&(h[p.tier]=w[1])}}),h},[r]),a=ule[e||""],i=t?{...a,...t,features:(c=t.features)!=null&&c.length?t.features:a==null?void 0:a.features,amenities:(u=t.amenities)!=null&&u.length?t.amenities:a==null?void 0:a.amenities,longDescription:t.aboutContent||(a==null?void 0:a.longDescription),aboutContent:t.aboutContent||(a==null?void 0:a.longDescription),operatingHours:t.operatingHours||(a==null?void 0:a.operatingHours),addOns:t.addOns||(a==null?void 0:a.addOns),courtCount:t.resourceCount||t.courtCount||(a==null?void 0:a.courtCount),pricingNotes:t.pricingNotes,certificationInfo:t.certificationInfo,galleryImages:t.galleryImages,keywords:t.keywords,quickInfo:t.quickInfo}:a;if(!i)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(ne,{className:"max-w-md",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Facility Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The facility you're looking for doesn't exist or has been removed."}),s.jsx(ge,{href:"/facilities",children:s.jsx(M,{children:"View All Facilities"})})]})})});const o=lle[e||""]||rl,l=i.imageUrl||cle[e||""]||Cf;return Ur({title:i.name,description:i.description||`Book ${i.name} at The Quarterdeck sports complex in Islamabad.`,ogImage:l}),s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[50vh] min-h-[400px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:s.jsx(o,{className:"w-8 h-8"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-facility-name",children:i.name}),i.requiresCertification&&s.jsx(le,{variant:"destructive",className:"mb-4",children:"Safety Certification Required"}),i.restricted&&s.jsx(le,{className:"bg-amber-500 mb-4",children:"Founding & Forces Members Only"}),s.jsx("p",{className:"text-xl max-w-3xl opacity-90",children:i.description})]})]}),s.jsxs("div",{className:"container mx-auto px-6 py-12",children:[s.jsx(ge,{href:"/facilities",children:s.jsxs(M,{variant:"ghost",className:"mb-8","data-testid":"button-back-facilities",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"})," Back to Facilities"]})}),s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"About This Facility"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.longDescription})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Features"}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:(d=i.features)==null?void 0:d.map((h,p)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsx("span",{children:h})]},p))})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(f=i.amenities)==null?void 0:f.map((h,p)=>s.jsx(le,{variant:"secondary",children:h},p))})]}),i.addOns&&i.addOns.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Available Add-Ons"}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:i.addOns.map(h=>s.jsx(ne,{children:s.jsxs(se,{className:"p-4 flex items-center justify-between",children:[s.jsx("span",{children:h.name}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",h.price.toLocaleString()]})]})},h.id))})]}),i.galleryImages&&i.galleryImages.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.galleryImages.map((h,p)=>s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:h,alt:`${i.name} gallery image ${p+1}`,className:"w-full h-full object-cover","data-testid":`img-gallery-${p}`})},p))})]}),(t==null?void 0:t.howToPlayContent)&&s.jsxs("section",{"data-testid":"section-how-to-play",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"How To Play"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.howToPlayContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.scoringRulesContent)&&s.jsxs("section",{"data-testid":"section-scoring-rules",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Scoring Rules"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.scoringRulesContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.winningCriteriaContent)&&s.jsxs("section",{"data-testid":"section-winning-criteria",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Winning Criteria"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.winningCriteriaContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.pointsSystemContent)&&s.jsxs("section",{"data-testid":"section-points-system",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Points & Ranking System"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.pointsSystemContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:"Quick Info"})}),s.jsx(se,{className:"space-y-4",children:i.quickInfo&&Object.keys(i.quickInfo).length>0?Object.entries(i.quickInfo).map(([h,p])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ht,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:h}),s.jsx("p",{className:"font-medium",children:String(p)})]})]},h)):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ht,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Operating Hours"}),s.jsx("p",{className:"font-medium",children:i.operatingHours})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yr,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Players"}),s.jsxs("p",{className:"font-medium",children:[i.minPlayers," - ",i.maxPlayers," players"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gs,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Units"}),s.jsxs("p",{className:"font-medium",children:[i.courtCount," ",i.courtCount===1?"Unit":"Courts/Lanes"]})]})]})]})})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:"Pricing"})}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Off-Peak (10AM-5PM)"}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.basePrice||"0").toLocaleString(),"/hr"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Peak Hours"}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.peakPrice||"0").toLocaleString(),"/hr"]})]}),Object.keys(n).length>0?s.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Member discounts during off-peak hours (10AM-5PM):",s.jsx("br",{}),n.FOUNDING&&`Founding: ${n.FOUNDING}%`,n.FOUNDING&&n.GOLD&&" | ",n.GOLD&&`Gold: ${n.GOLD}%`,n.GOLD&&n.SILVER&&" | ",n.SILVER&&`Silver: ${n.SILVER}%`]}):s.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:"Members enjoy off-peak discounts (10AM-5PM)"}),i.pricingNotes&&s.jsx("p",{className:"text-xs text-muted-foreground pt-2 mt-2 border-t",children:i.pricingNotes})]})})]}),i.requiresCertification&&s.jsx(ne,{className:"border-amber-500/50 bg-amber-500/5",children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Lp,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Certification Required"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.certificationInfo||"Safety certification is mandatory before using this facility. Please complete the certification course first."})]})]})})}),s.jsx(ge,{href:"/booking",children:s.jsxs(M,{className:"w-full",size:"lg","data-testid":"button-book-facility",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"})," Book This Facility"]})})]})]})})]})]}),s.jsx(ar,{})]})}const fle=e=>e.isComplete?s.jsx(le,{className:"bg-green-500",children:"Completed"}):e.isActive?s.jsxs(le,{className:"bg-amber-500",children:["In Progress - ",e.progress,"%"]}):s.jsx(le,{variant:"secondary",children:"Upcoming"}),tT=e=>e.isComplete?s.jsx(wm,{className:"w-8 h-8 text-green-500"}):e.isActive?s.jsx(Ht,{className:"w-8 h-8 text-amber-500"}):s.jsx(mr,{className:"w-8 h-8 text-muted-foreground"});function hle(){Ur({title:"Construction Roadmap",description:"Follow The Quarterdeck's construction progress in Islamabad. View milestones, timeline, and development phases for our sports complex launch in Q4 2026."});const{getValue:e}=Fr(["page_roadmap_title","page_roadmap_subtitle"],Ee),{data:t=[],isLoading:r}=de({queryKey:["/api/construction-phases"]}),n=x.useMemo(()=>[...t].sort((i,o)=>i.sortOrder-o.sortOrder),[t]),a=x.useMemo(()=>n.length===0?0:n.reduce((i,o)=>i+o.progress,0)/n.length,[n]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_roadmap_title"),subtitle:e("page_roadmap_subtitle"),testId:"text-roadmap-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsx("div",{className:"max-w-5xl mx-auto mb-12",children:s.jsx("div",{className:"p-6 rounded-xl bg-card border shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),s.jsxs("div",{className:"text-2xl font-bold text-primary dark:text-white mt-1",children:[Math.round(a),"% Complete"]})]}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${a}%`}})})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:n.filter(i=>i.isComplete).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-amber-600",children:n.filter(i=>i.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:n.filter(i=>!i.isComplete&&!i.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})}),s.jsxs("div",{className:"max-w-5xl mx-auto",children:[r?s.jsx("div",{className:"space-y-8",children:[1,2,3,4].map(i=>s.jsx("div",{className:"relative",children:s.jsx("div",{className:"md:ml-16",children:s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsx(De,{className:"h-6 w-48"}),s.jsx(De,{className:"h-4 w-32 mt-2"})]}),s.jsxs(se,{children:[s.jsx(De,{className:"h-4 w-full mb-4"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>s.jsx(De,{className:"h-4 w-full"},o))}),s.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>s.jsx(De,{className:"h-4 w-full"},o))})]})]})]})})},i))}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(un,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Roadmap Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"Our development timeline will be available shortly."})]}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border hidden md:block"}),s.jsx("div",{className:"space-y-8",children:n.map((i,o)=>s.jsx("div",{id:i.id,className:"relative","data-testid":`card-phase-${i.id}`,children:s.jsxs("div",{className:"md:ml-16",children:[s.jsx("div",{className:"absolute left-4 top-6 hidden md:block",children:tT(i)}),s.jsxs(ne,{className:i.isActive?"border-amber-500/50 border-2":"",children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"md:hidden",children:tT(i)}),s.jsxs("div",{children:[s.jsxs(We,{className:"text-xl",children:[i.label,": ",i.title]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.timeframe||"Timeline TBD"})]})]}),fle(i)]}),i.isActive&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-500",style:{width:`${i.progress}%`}})})})]}),s.jsx(se,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.milestones&&i.milestones.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(wm,{className:"w-4 h-4"})," Milestones"]}),s.jsx("ul",{className:"space-y-2",children:i.milestones.map((l,c)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.isComplete?s.jsx(wm,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-muted-foreground/30 flex-shrink-0"}),s.jsx("span",{className:i.isComplete?"":"text-muted-foreground",children:l})]},c))})]}),i.highlights&&i.highlights.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.icon==="rocket"?s.jsx(EG,{className:"w-4 h-4"}):s.jsx(un,{className:"w-4 h-4"}),"Key Highlights"]}),s.jsx("ul",{className:"space-y-2",children:i.highlights.map((l,c)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[s.jsx("span",{className:"text-primary dark:text-sky-400",children:""}),l]},c))})]})]})})]})]})},i.id))})]}),s.jsxs("div",{className:"mt-12 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Stay Updated"}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Follow our progress and be the first to know about new developments, preview events, and exclusive opportunities."}),s.jsx(ge,{href:"/contact",children:s.jsx(M,{"data-testid":"button-register-interest",children:"Register Your Interest"})})]})]})]})]}),s.jsx(ar,{})]})}var Yb="Collapsible",[mle,w8]=En(Yb),[ple,$2]=mle(Yb),j8=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=ps({prop:n,defaultProp:a??!1,onChange:o,caller:Yb});return s.jsx(ple,{scope:r,disabled:i,contentId:Gr(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Me.div,{"data-state":L2(c),"data-disabled":i?"":void 0,...l,ref:t})})});j8.displayName=Yb;var N8="CollapsibleTrigger",_8=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=$2(N8,r);return s.jsx(Me.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":L2(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ne(e.onClick,a.onOpenToggle)})});_8.displayName=N8;var D2="CollapsibleContent",S8=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$2(D2,e.__scopeCollapsible);return s.jsx(dn,{present:r||a.open,children:({present:i})=>s.jsx(gle,{...n,ref:t,present:i})})});S8.displayName=D2;var gle=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=$2(D2,r),[l,c]=x.useState(n),u=x.useRef(null),d=dt(t,u),f=x.useRef(0),h=f.current,p=x.useRef(0),y=p.current,m=o.open||l,w=x.useRef(m),g=x.useRef(void 0);return x.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),Lr(()=>{const v=u.current;if(v){g.current=g.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const b=v.getBoundingClientRect();f.current=b.height,p.current=b.width,w.current||(v.style.transitionDuration=g.current.transitionDuration,v.style.animationName=g.current.animationName),c(n)}},[o.open,n]),s.jsx(Me.div,{"data-state":L2(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:m&&a})});function L2(e){return e?"open":"closed"}var vle=j8,xle=_8,yle=S8,qa="Accordion",ble=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[F2,wle,jle]=Ip(qa),[Xb]=En(qa,[jle,w8]),U2=w8(),k8=F.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(F2.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(kle,{...i,ref:t}):s.jsx(Sle,{...a,ref:t})})});k8.displayName=qa;var[C8,Nle]=Xb(qa),[P8,_le]=Xb(qa,{collapsible:!1}),Sle=F.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=ps({prop:r,defaultProp:n??"",onChange:a,caller:qa});return s.jsx(C8,{scope:e.__scopeAccordion,value:F.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:F.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(P8,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(E8,{...o,ref:t})})})}),kle=F.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=ps({prop:r,defaultProp:n??[],onChange:a,caller:qa}),c=F.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=F.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(C8,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(P8,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(E8,{...i,ref:t})})})}),[Cle,Jb]=Xb(qa),E8=F.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=F.useRef(null),c=dt(l,t),u=wle(r),f=Sf(a)==="ltr",h=Ne(e.onKeyDown,p=>{var C;if(!ble.includes(p.key))return;const y=p.target,m=u().filter(P=>{var k;return!((k=P.ref.current)!=null&&k.disabled)}),w=m.findIndex(P=>P.ref.current===y),g=m.length;if(w===-1)return;p.preventDefault();let v=w;const b=0,j=g-1,_=()=>{v=w+1,v>j&&(v=b)},N=()=>{v=w-1,v<b&&(v=j)};switch(p.key){case"Home":v=b;break;case"End":v=j;break;case"ArrowRight":i==="horizontal"&&(f?_():N());break;case"ArrowDown":i==="vertical"&&_();break;case"ArrowLeft":i==="horizontal"&&(f?N():_());break;case"ArrowUp":i==="vertical"&&N();break}const S=v%g;(C=m[S].ref.current)==null||C.focus()});return s.jsx(Cle,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(F2.Slot,{scope:r,children:s.jsx(Me.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),Fx="AccordionItem",[Ple,B2]=Xb(Fx),A8=F.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=Jb(Fx,r),o=Nle(Fx,r),l=U2(r),c=Gr(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return s.jsx(Ple,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(vle,{"data-orientation":i.orientation,"data-state":$8(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});A8.displayName=Fx;var O8="AccordionHeader",T8=F.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Jb(qa,r),i=B2(O8,r);return s.jsx(Me.h3,{"data-orientation":a.orientation,"data-state":$8(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});T8.displayName=O8;var UN="AccordionTrigger",I8=F.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Jb(qa,r),i=B2(UN,r),o=_le(UN,r),l=U2(r);return s.jsx(F2.ItemSlot,{scope:r,children:s.jsx(xle,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});I8.displayName=UN;var R8="AccordionContent",M8=F.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Jb(qa,r),i=B2(R8,r),o=U2(r);return s.jsx(yle,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});M8.displayName=R8;function $8(e){return e?"open":"closed"}var Ele=k8,Ale=A8,Ole=T8,D8=I8,L8=M8;const F8=Ele,Bu=x.forwardRef(({className:e,...t},r)=>s.jsx(Ale,{ref:r,className:we("border-b",e),...t}));Bu.displayName="AccordionItem";const Vu=x.forwardRef(({className:e,children:t,...r},n)=>s.jsx(Ole,{className:"flex",children:s.jsxs(D8,{ref:n,className:we("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(la,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Vu.displayName=D8.displayName;const qu=x.forwardRef(({className:e,children:t,...r},n)=>s.jsx(L8,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:we("pb-4 pt-0",e),children:t})}));qu.displayName=L8.displayName;const Tle={general:{title:"General Rules",icon:ui},booking:{title:"Booking & Scheduling",icon:Ht},conduct:{title:"Conduct & Behavior",icon:yr},safety:{title:"Safety Requirements",icon:Lp},dresscode:{title:"Dress Code",icon:IG},equipment:{title:"Equipment & Facilities",icon:aG},guests:{title:"Guest Policy",icon:db},emergency:{title:"Emergency Procedures",icon:jm}},Ile=["general","booking","conduct","safety","dresscode","equipment","guests","emergency"];function Rle(){Ur({title:"Club Rules & Guidelines",description:"Review The Quarterdeck's club rules, safety requirements, dress code, booking policies, and guest guidelines for our sports facilities."});const{getValue:e}=Fr(["page_rules_title","page_rules_subtitle"],Ee),{data:t=[],isLoading:r}=de({queryKey:["/api/rules"]}),n=t.reduce((i,o)=>{const l=o.category||"general";return i[l]||(i[l]=[]),i[l].push(o),i},{}),a=Ile.filter(i=>{var o;return((o=n[i])==null?void 0:o.length)>0});return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_rules_title"),subtitle:e("page_rules_subtitle"),testId:"text-rules-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(ne,{className:"mb-8 border-amber-500/50 bg-amber-500/5",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Lp,{className:"w-6 h-6 text-amber-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Important Safety Notice"}),s.jsx("p",{className:"text-muted-foreground",children:"Certain facilities require mandatory safety certifications before use. The Air Rifle Range requires completion of our safety course. Please contact reception to schedule your certification session."})]})]})})}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(ui,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Rules are being updated. Please check back soon."})]}):s.jsx(F8,{type:"multiple",className:"space-y-4",children:a.map(i=>{const o=Tle[i]||{title:i,icon:ui},l=o.icon,c=n[i]||[];return s.jsxs(Bu,{value:i,className:"border rounded-md px-4","data-testid":`accordion-${i}`,children:[s.jsx(Vu,{className:"hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center",children:s.jsx(l,{className:"w-5 h-5 text-primary dark:text-sky-400"})}),s.jsx("span",{className:"font-semibold",children:o.title})]})}),s.jsx(qu,{children:s.jsx("ul",{className:"space-y-3 pl-13 py-4",children:c.map((u,d)=>s.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[s.jsxs("span",{className:"text-primary dark:text-sky-400 font-bold",children:[d+1,"."]}),s.jsxs("div",{children:[u.title&&s.jsxs("span",{className:"font-medium text-foreground",children:[u.title,": "]}),u.content]})]},u.id))})})]},i)})}),s.jsxs(ne,{className:"mt-8",children:[s.jsx(Le,{children:s.jsx(We,{children:"Questions About Our Rules?"})}),s.jsxs(se,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"If you have any questions about our rules and policies, or need clarification on any point, please don't hesitate to contact us."}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(ge,{href:"/contact",children:s.jsx(M,{"data-testid":"button-contact-us",children:"Contact Us"})}),s.jsx(ge,{href:"/terms",children:s.jsx(M,{variant:"outline","data-testid":"button-view-terms",children:"View Terms & Conditions"})})]})]})]})]})]})]}),s.jsx(ar,{})]})}const rT=pa({name:pt().min(2,"Name must be at least 2 characters"),email:pt().email("Please enter a valid email"),phone:pt().min(10,"Please enter a valid phone number"),cvUrl:pt().optional().or(YO("")),linkedinUrl:pt().url("Please enter a valid LinkedIn URL").optional().or(YO("")),coverLetter:pt().min(50,"Cover letter should be at least 50 characters")}),Mle=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],$le=[".pdf",".doc",".docx"],Dle=[{id:"1",title:"Sports Facility Manager",department:"Operations",location:"Islamabad",type:"Full-time",description:"Lead the day-to-day operations of our sports facilities, ensuring excellent member experience and efficient facility management.",requirements:"5+ years experience in sports facility management. Strong leadership and communication skills. Knowledge of sports equipment maintenance.",salary:"PKR 150,000 - 200,000 / month",isActive:!0},{id:"2",title:"Padel Tennis Coach",department:"Sports",location:"Islamabad",type:"Full-time",description:"Provide professional coaching for our Padel Tennis program, conducting group classes and private lessons for members of all skill levels.",requirements:"Certified Padel Tennis instructor. 3+ years coaching experience. Fluent in English and Urdu.",salary:"PKR 80,000 - 120,000 / month",isActive:!0},{id:"3",title:"Member Relations Officer",department:"Customer Service",location:"Islamabad",type:"Full-time",description:"Serve as the primary point of contact for members, handling inquiries, feedback, and ensuring exceptional service standards.",requirements:"2+ years customer service experience. Excellent communication skills. Proficiency in CRM systems.",salary:"PKR 50,000 - 70,000 / month",isActive:!0},{id:"4",title:"Range Safety Officer",department:"Safety",location:"Islamabad",type:"Full-time",description:"Ensure safe operations of the Air Rifle Range, conduct safety certifications, and supervise shooting sessions.",requirements:"Military or law enforcement background preferred. Safety certification required. First aid trained.",salary:"PKR 60,000 - 90,000 / month",isActive:!0},{id:"5",title:"Events Coordinator",department:"Events",location:"Islamabad",type:"Part-time",description:"Plan and execute tournaments, social events, and corporate functions at The Quarterdeck.",requirements:"Event management experience. Strong organizational skills. Weekend availability required.",salary:"PKR 40,000 - 60,000 / month",isActive:!0}];function Lle(){Ur({title:"Careers",description:"Join The Quarterdeck team. Explore career opportunities at Islamabad's premier sports and recreation complex. Apply for positions in operations, coaching, and hospitality."});const{toast:e}=ht(),{user:t}=ul(),[r,n]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,p]=x.useState(!1),y=x.useRef(null),[m,w]=x.useState(null),[g,v]=x.useState(""),[b,j]=x.useState(!1),_=x.useRef(null),{getValue:N}=Fr(["page_careers_title","page_careers_subtitle","page_careers_positions_title","page_careers_apply_cta","page_careers_no_positions"],Ee),S=(t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN",{data:C}=de({queryKey:["/api/careers"]}),P=Ls({resolver:Fs(rT),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),k=Ls({resolver:Fs(rT),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),E=ye({mutationFn:async z=>await xe("POST",`/api/careers/${z.careerId}/apply`,{fullName:z.name,email:z.email,phone:z.phone,cvUrl:z.cvUrl||null,linkedinUrl:z.linkedinUrl||null,coverLetter:z.coverLetter}),onSuccess:()=>{e({title:"Application Submitted",description:"Thank you for your application. We will review it and get back to you soon."}),i(!1),P.reset()},onError:z=>{e({title:"Submission Failed",description:z.message||"Unable to submit application. Please try again.",variant:"destructive"})}}),T=ye({mutationFn:async z=>await xe("POST","/api/careers/general-application",{fullName:z.name,email:z.email,phone:z.phone,cvUrl:z.cvUrl||null,linkedinUrl:z.linkedinUrl||null,coverLetter:z.coverLetter}),onSuccess:()=>{e({title:"CV Submitted",description:"Thank you for your interest! We will keep your CV on file for future opportunities."}),l(!1),k.reset()},onError:z=>{e({title:"Submission Failed",description:z.message||"Unable to submit CV. Please try again.",variant:"destructive"})}}),I=z=>{if(!Mle.includes(z.type)){const ee=z.name.toLowerCase().slice(z.name.lastIndexOf("."));if(!$le.includes(ee))return e({title:"Invalid File Type",description:"Please upload a PDF, DOC, or DOCX file.",variant:"destructive"}),!1}return z.size>10*1024*1024?(e({title:"File Too Large",description:"Maximum file size is 10MB.",variant:"destructive"}),!1):!0},R=async z=>{const ee=new FormData;ee.append("cv",z);const pe=await fetch("/api/careers/upload-cv",{method:"POST",body:ee});if(!pe.ok){const be=await pe.json();throw new Error(be.message||"Failed to upload CV")}return(await pe.json()).cvUrl},D=z=>{var pe;const ee=(pe=z.target.files)==null?void 0:pe[0];ee&&I(ee)&&(u(ee),f(ee.name))},O=z=>{var pe;const ee=(pe=z.target.files)==null?void 0:pe[0];ee&&I(ee)&&(w(ee),v(ee.name))},W=()=>{u(null),f(""),y.current&&(y.current.value="")},A=()=>{w(null),v(""),_.current&&(_.current.value="")},$=async z=>{if(r)try{let ee=z.cvUrl||null;c&&(p(!0),ee=await R(c)),E.mutate({...z,careerId:r.id,cvUrl:ee||""})}catch(ee){e({title:"Upload Failed",description:ee.message||"Failed to upload CV. Please try again.",variant:"destructive"})}finally{p(!1)}},Q=async z=>{try{let ee=z.cvUrl||null;m&&(j(!0),ee=await R(m)),T.mutate({...z,cvUrl:ee||""})}catch(ee){e({title:"Upload Failed",description:ee.message||"Failed to upload CV. Please try again.",variant:"destructive"})}finally{j(!1)}},X=z=>{n(z),W(),i(!0)},J=(C&&C.length>0?C:Dle).filter(z=>z.isActive);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:N("page_careers_title"),subtitle:N("page_careers_subtitle"),testId:"text-careers-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Why Work at The Quarterdeck?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(bm,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Career Growth"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Opportunities for advancement and professional development"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(gs,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Prime Location"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Work in a beautiful, state-of-the-art facility in Islamabad"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Ht,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Flexible Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Various shift options to accommodate work-life balance"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-6",children:"Open Positions"}),J.length===0?s.jsx(ne,{children:s.jsx(se,{className:"p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No open positions at the moment. Check back soon or send us your CV for future opportunities."})})}):s.jsx("div",{className:"space-y-4",children:J.map(z=>s.jsx(ne,{className:"hover-elevate","data-testid":`card-job-${z.id}`,children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:z.title}),s.jsx(le,{variant:"secondary",className:"text-xs",children:z.type})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(bm,{className:"w-4 h-4"})," ",z.department]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(gs,{className:"w-4 h-4"})," ",z.location]}),S&&z.salary&&s.jsx("span",{className:"text-primary dark:text-sky-400 font-medium",children:z.salary})]}),s.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:z.description}),z.requirements&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Requirements: "}),s.jsx("span",{className:"text-muted-foreground",children:z.requirements})]})]}),s.jsxs(M,{className:" flex-shrink-0",onClick:()=>X(z),"data-testid":`button-apply-${z.id}`,children:["Apply Now ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})]})})},z.id))})]}),s.jsxs(ne,{className:"mt-12",children:[s.jsx(Le,{children:s.jsx(We,{children:"Don't See the Right Fit?"})}),s.jsxs(se,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"We're always looking for talented individuals to join our team. Send us your CV and we'll keep you in mind for future opportunities."}),s.jsxs(M,{className:"",onClick:()=>l(!0),"data-testid":"button-submit-cv",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"})," Send Your CV"]})]})]})]})]})]}),s.jsx(ar,{}),s.jsx(Pt,{open:a,onOpenChange:i,children:s.jsxs(St,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(Et,{children:[s.jsxs(At,{children:["Apply for ",r==null?void 0:r.title]}),s.jsx(Rs,{children:"Fill out the form below to submit your application"})]}),s.jsx(Bs,{...P,children:s.jsxs("form",{onSubmit:P.handleSubmit($),className:"space-y-4",children:[s.jsx(et,{control:P.control,name:"name",render:({field:z})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Full Name"}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"John Doe",...z,"data-testid":"input-applicant-name"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:P.control,name:"email",render:({field:z})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email"}),s.jsx(Je,{children:s.jsx(Y,{type:"email",placeholder:"john@example.com",...z,"data-testid":"input-applicant-email"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:P.control,name:"phone",render:({field:z})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"+92 300 1234567",...z,"data-testid":"input-applicant-phone"})}),s.jsx(rt,{})]})}),s.jsxs(Qe,{children:[s.jsx(Xe,{children:"CV/Resume (Optional)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{ref:y,type:"file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:D,className:"hidden","data-testid":"input-applicant-cv-file"}),d?s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[s.jsx(ms,{className:"w-4 h-4 text-primary dark:text-sky-400"}),s.jsx("span",{className:"flex-1 text-sm truncate","data-testid":"text-cv-filename",children:d}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",onClick:W,"data-testid":"button-clear-cv",children:s.jsx(Ki,{className:"w-4 h-4"})})]}):s.jsxs(M,{type:"button",variant:"outline",onClick:()=>{var z;return(z=y.current)==null?void 0:z.click()},className:"w-full","data-testid":"button-upload-cv",children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Upload CV/Resume"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: PDF, DOC, DOCX (max 10MB)"})]})]}),s.jsx(et,{control:P.control,name:"linkedinUrl",render:({field:z})=>s.jsxs(Qe,{children:[s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(rN,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"https://linkedin.com/in/...",...z,"data-testid":"input-applicant-linkedin"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:P.control,name:"coverLetter",render:({field:z})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Cover Letter"}),s.jsx(Je,{children:s.jsx(lt,{placeholder:"Tell us why you're interested in this position and what makes you a great fit...",className:"min-h-[120px]",...z,"data-testid":"input-applicant-cover-letter"})}),s.jsx(rt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-application",children:"Cancel"}),s.jsxs(M,{type:"submit",disabled:E.isPending||h,className:"","data-testid":"button-submit-application",children:[E.isPending||h?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(ox,{className:"w-4 h-4 mr-2"}),h?"Uploading CV...":"Submit Application"]})]})]})})]})}),s.jsx(Pt,{open:o,onOpenChange:l,children:s.jsxs(St,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(Et,{children:[s.jsx(At,{children:"Send Your CV"}),s.jsx(Rs,{children:"Submit your CV for future opportunities at The Quarterdeck"})]}),s.jsx(Bs,{...k,children:s.jsxs("form",{onSubmit:k.handleSubmit(Q),className:"space-y-4",children:[s.jsx(et,{control:k.control,name:"name",render:({field:z})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Full Name"}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"John Doe",...z,"data-testid":"input-cv-name"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:k.control,name:"email",render:({field:z})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email"}),s.jsx(Je,{children:s.jsx(Y,{type:"email",placeholder:"john@example.com",...z,"data-testid":"input-cv-email"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:k.control,name:"phone",render:({field:z})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"+92 300 1234567",...z,"data-testid":"input-cv-phone"})}),s.jsx(rt,{})]})}),s.jsxs(Qe,{children:[s.jsx(Xe,{children:"CV/Resume"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{ref:_,type:"file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:O,className:"hidden","data-testid":"input-general-cv-file"}),g?s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[s.jsx(ms,{className:"w-4 h-4 text-primary dark:text-sky-400"}),s.jsx("span",{className:"flex-1 text-sm truncate","data-testid":"text-general-cv-filename",children:g}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",onClick:A,"data-testid":"button-clear-general-cv",children:s.jsx(Ki,{className:"w-4 h-4"})})]}):s.jsxs(M,{type:"button",variant:"outline",onClick:()=>{var z;return(z=_.current)==null?void 0:z.click()},className:"w-full","data-testid":"button-upload-general-cv",children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Upload CV/Resume"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: PDF, DOC, DOCX (max 10MB)"})]})]}),s.jsx(et,{control:k.control,name:"linkedinUrl",render:({field:z})=>s.jsxs(Qe,{children:[s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(rN,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"https://linkedin.com/in/...",...z,"data-testid":"input-cv-linkedin"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:k.control,name:"coverLetter",render:({field:z})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Message / Cover Letter"}),s.jsx(Je,{children:s.jsx(lt,{placeholder:"Tell us about yourself, your skills, and what kind of role you're looking for...",className:"min-h-[120px]",...z,"data-testid":"input-cv-cover-letter"})}),s.jsx(rt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-cv",children:"Cancel"}),s.jsxs(M,{type:"submit",disabled:T.isPending||b,className:"","data-testid":"button-submit-cv-form",children:[T.isPending||b?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(ox,{className:"w-4 h-4 mr-2"}),b?"Uploading CV...":"Submit CV"]})]})]})})]})})]})}function Fle(){Ur({title:"Terms & Conditions",description:"The Quarterdeck's terms and conditions. Review our policies for membership, facility usage, bookings, and member conduct."});const{getValue:e}=Fr(["page_terms_title","page_terms_subtitle"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/cms/bulk"]}),n=t==null?void 0:t.find(i=>i.key==="terms_conditions");let a=[];try{n!=null&&n.content&&(a=JSON.parse(n.content))}catch{console.error("Failed to parse terms content")}return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_terms_title"),subtitle:e("page_terms_subtitle"),testId:"text-terms-title"}),s.jsx("div",{className:"qd-container py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(ms,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Terms & Conditions are being updated. Please check back soon."})]}):a.map((i,o)=>s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:i.section}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:i.content}),i.items&&i.items.length>0&&s.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:i.items.map((l,c)=>s.jsx("li",{children:l},c))})]},o))})})]}),s.jsx(ar,{})]})}function Ule(){Ur({title:"Privacy Policy",description:"The Quarterdeck's privacy policy. Learn how we collect, use, and protect your personal information at our sports complex."});const{getValue:e}=Fr(["page_privacy_title","page_privacy_subtitle"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/cms/bulk"]}),n=t==null?void 0:t.find(i=>i.key==="privacy_policy");let a=[];try{n!=null&&n.content&&(a=JSON.parse(n.content))}catch{console.error("Failed to parse privacy policy content")}return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_privacy_title"),subtitle:e("page_privacy_subtitle"),testId:"text-privacy-title"}),s.jsx("div",{className:"qd-container py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Pd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Privacy policy is being updated. Please check back soon."})]}):a.map((i,o)=>s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:i.section}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:i.content}),i.items&&i.items.length>0&&s.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:i.items.map((l,c)=>{const u=l.indexOf(":");if(u>-1&&u<30){const d=l.slice(0,u),f=l.slice(u+1);return s.jsxs("li",{children:[s.jsxs("strong",{children:[d,":"]}),f]},c)}return s.jsx("li",{children:l},c)})})]},o))})})]}),s.jsx(ar,{})]})}const Ble=[{key:"coming-soon-1",src:o6,alt:"Complex Exterior Render",caption:"Premium Sports Complex Design"},{key:"coming-soon-2",src:Cf,alt:"Padel Tennis Courts",caption:"World-Class Padel Courts"},{key:"coming-soon-3",src:Fb,alt:"Squash Court",caption:"Professional Squash Facility"},{key:"coming-soon-4",src:l6,alt:"Sports Arena",caption:"Modern Architecture"},{key:"coming-soon-5",src:c6,alt:"Construction Progress",caption:"Building Your Future"}];function Vle(){Ur({title:"Coming Soon",description:"The Quarterdeck is coming to Islamabad in Q4 2026. Join our waitlist for exclusive early access to Pakistan's premier sports and recreation complex."});const{toast:e}=ht(),[t,r]=x.useState(""),[n,a]=x.useState({days:0,hours:0,minutes:0,seconds:0}),[i,o]=x.useState(!1),{getValue:l}=Fr(["coming_soon_title","coming_soon_subtitle","coming_soon_launch_date","coming_soon_location","site_name","hero_eyebrow"],Ee),{data:c=[]}=de({queryKey:["/api/site-images","coming-soon"],queryFn:async()=>{const w=await(await fetch("/api/site-images?page=coming-soon")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),u=x.useMemo(()=>Ble.map(m=>{const w=c.find(g=>g.section===m.key&&g.isActive);return{...m,src:(w==null?void 0:w.imageUrl)||m.src,alt:(w==null?void 0:w.alt)||m.alt,caption:(w==null?void 0:w.title)||m.caption}}),[c]),d=l("coming_soon_launch_date")||Ee.coming_soon_launch_date||"2026-10-01",f=new Date(d);x.useEffect(()=>{const m=()=>{const g=+f-+new Date;return g>0?(o(!1),{days:Math.floor(g/864e5),hours:Math.floor(g/36e5%24),minutes:Math.floor(g/1e3/60%60),seconds:Math.floor(g/1e3%60)}):(o(!0),{days:0,hours:0,minutes:0,seconds:0})};a(m());const w=setInterval(()=>{a(m())},1e3);return()=>clearInterval(w)},[d]);const h=ye({mutationFn:async m=>await xe("POST","/api/contact",{name:"Early Interest Subscriber",email:m,subject:"Coming Soon - Early Interest",message:"I would like to receive updates about The Quarterdeck launch."}),onSuccess:()=>{e({title:"Successfully Subscribed",description:"You'll be the first to know when we launch!"}),r("")},onError:m=>{e({title:"Subscription Failed",description:m.message||"Please try again later.",variant:"destructive"})}}),p=m=>{m.preventDefault(),t&&h.mutate(t)},y=({value:m,label:w})=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 flex items-center justify-center rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:s.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white tabular-nums",children:m.toString().padStart(2,"0")})}),s.jsx("span",{className:"mt-2 text-sm sm:text-base text-white/80 uppercase tracking-widest font-medium",children:w})]});return s.jsxs("div",{className:"min-h-screen bg-[#1a2a40] relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-amber-500/20 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("header",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center backdrop-blur",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"Q"})}),s.jsx("span",{className:"text-xl font-semibold text-white hidden sm:block",children:l("site_name")||Ee.site_name})]})}),s.jsx(ge,{href:"/",children:s.jsxs(M,{variant:"outline",className:"text-white border-white/30 bg-white/10 backdrop-blur-sm",children:["Full Website ",s.jsx(lb,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx("main",{className:"container mx-auto px-6 py-12 md:py-24",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("span",{className:"inline-block px-4 py-1.5 bg-amber-500/20 text-amber-300 rounded-full text-sm font-medium",children:l("hero_eyebrow")||Ee.hero_eyebrow}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight",children:l("coming_soon_title")||Ee.coming_soon_title}),s.jsx("p",{className:"text-lg text-white/70 max-w-lg",children:l("coming_soon_subtitle")||Ee.coming_soon_subtitle})]}),s.jsxs("div",{className:"flex items-center gap-4 text-white/70",children:[s.jsx(gs,{className:"w-5 h-5"}),s.jsx("span",{children:l("coming_soon_location")||Ee.coming_soon_location||"Islamabad, Pakistan"})]}),i?s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-xl",children:[s.jsx(yn,{className:"w-6 h-6"}),s.jsx("span",{className:"font-semibold",children:"We're Live!"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[s.jsx(mr,{className:"w-5 h-5"}),s.jsx("span",{children:"Expected Launch: Q4 2026"})]}),s.jsxs("div",{className:"flex gap-3 sm:gap-4 md:gap-6",children:[s.jsx(y,{value:n.days,label:"Days"}),s.jsx(y,{value:n.hours,label:"Hours"}),s.jsx(y,{value:n.minutes,label:"Mins"}),s.jsx(y,{value:n.seconds,label:"Secs"})]})]}),s.jsx(ne,{className:"bg-white/10 border-white/20 backdrop-blur",children:s.jsxs(se,{className:"p-6",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[s.jsx(xf,{className:"w-5 h-5"}),"Get Early Access Updates"]}),s.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(Y,{type:"email",placeholder:"your@email.com",value:t,onChange:m=>r(m.target.value),className:"flex-1 bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0,"data-testid":"input-email-subscribe"}),s.jsx(M,{type:"submit",disabled:h.isPending,className:"bg-amber-500 text-white","data-testid":"button-subscribe",children:h.isPending?s.jsx(Te,{className:"w-4 h-4 animate-spin"}):"Notify Me"})]}),s.jsx("p",{className:"text-xs text-white/50 mt-3",children:"Join the waitlist for exclusive pre-launch offers and founding member benefits."})]})})]}),s.jsx("div",{className:"lg:pl-8",children:s.jsx(Jp,{opts:{loop:!0},plugins:[kf({delay:4e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Zp,{children:u.map((m,w)=>s.jsx(eg,{children:s.jsxs("div",{className:"relative aspect-[4/3] rounded-2xl overflow-hidden",children:[s.jsx("img",{src:m.src,alt:m.alt,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:s.jsx("p",{className:"text-white font-medium text-lg",children:m.caption})})]})},w))})})})]})}),s.jsx("footer",{className:"container mx-auto px-6 py-8 border-t border-white/10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsx("p",{className:"text-white/50 text-sm",children:"2024-2027 The Quarterdeck. All rights reserved."}),s.jsxs("div",{className:"flex items-center gap-4 text-white/50 text-sm",children:[s.jsx(Ht,{className:"w-4 h-4"}),s.jsx("span",{children:"Pre-launch Phase"})]})]})})]})]})}const qle=pa({name:pt().min(2,"Name must be at least 2 characters"),email:pt().email("Please enter a valid email address"),phone:pt().optional(),subject:pt().min(3,"Subject must be at least 3 characters"),message:pt().min(10,"Message must be at least 10 characters")});function zle(){Ur({title:"Contact Us",description:"Get in touch with The Quarterdeck. Contact us for facility inquiries, membership questions, event bookings, or general information about our sports complex in Islamabad."});const{toast:e}=ht(),[t,r]=x.useState(!1),{getValue:n}=Fr(["page_contact_title","page_contact_subtitle","page_contact_form_title","page_contact_success_title","page_contact_success_message","page_contact_info_title","page_contact_social_title","page_contact_faq_title"],Ee),{data:a={}}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const d=await fetch("/api/site-settings");if(!d.ok)return{};const f=await d.json();return f&&typeof f=="object"&&!f.message?f:{}}catch{return{}}}}),i=d=>a[d]||"",o=Ls({resolver:Fs(qle),defaultValues:{name:"",email:"",phone:"",subject:"",message:""}}),l=ye({mutationFn:async d=>await xe("POST","/api/contact",d),onSuccess:()=>{e({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),r(!0),o.reset()},onError:d=>{e({title:"Error",description:d.message||"Failed to send message. Please try again.",variant:"destructive"})}}),c=d=>{l.mutate(d)},u=[{icon:mr,title:"Book a Facility",description:"Reserve courts, halls, and more",href:"/booking"},{icon:yr,title:"Membership",description:"Join The Quarterdeck community",href:"/membership"},{icon:un,title:"Our Facilities",description:"Explore what we offer",href:"/facilities"}];return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:n("page_contact_title"),subtitle:n("page_contact_subtitle"),testId:"text-contact-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Tk,{className:"w-5 h-5"}),n("page_contact_form_title")]})}),s.jsx(se,{children:t?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mx-auto mb-4",children:s.jsx(ox,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:n("page_contact_success_title")}),s.jsx("p",{className:"text-muted-foreground mb-4",children:n("page_contact_success_message")}),s.jsx(M,{onClick:()=>r(!1),variant:"outline",children:"Send Another Message"})]}):s.jsx(Bs,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(et,{control:o.control,name:"name",render:({field:d})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Full Name *"}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"Your name",...d,"data-testid":"input-contact-name"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:o.control,name:"email",render:({field:d})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email Address *"}),s.jsx(Je,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com",...d,"data-testid":"input-contact-email"})}),s.jsx(rt,{})]})})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(et,{control:o.control,name:"phone",render:({field:d})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"+92 xxx xxxxxxx",...d,"data-testid":"input-contact-phone"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:o.control,name:"subject",render:({field:d})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Subject *"}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"What's this about?",...d,"data-testid":"input-contact-subject"})}),s.jsx(rt,{})]})})]}),s.jsx(et,{control:o.control,name:"message",render:({field:d})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Message *"}),s.jsx(Je,{children:s.jsx(lt,{placeholder:"How can we help you?",rows:5,...d,"data-testid":"input-contact-message"})}),s.jsx(rt,{})]})}),s.jsx(M,{type:"submit",className:"w-full sm:w-auto",disabled:l.isPending,"data-testid":"button-contact-submit",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ox,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Links"}),s.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:u.map(d=>s.jsx(ge,{href:d.href,children:s.jsx(ne,{className:"h-full hover-elevate cursor-pointer","data-testid":`link-quick-${d.title.toLowerCase().replace(/\s/g,"-")}`,children:s.jsxs(se,{className:"p-4",children:[s.jsx(d.icon,{className:"w-8 h-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold mb-1",children:d.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})})},d.href))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:n("page_contact_info_title")})}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(gs,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("address")||"The Quarterdeck Sports Complex, Islamabad, Pakistan"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(jm,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("phone")||"+92 51 XXX XXXX"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(xf,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("email")||"info@thequarterdeck.pk"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Ht,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Operating Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("operating_hours")||"6:00 AM - 11:00 PM Daily"})]})]})]})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:n("page_contact_social_title")})}),s.jsx(se,{children:s.jsxs("div",{className:"flex gap-3",children:[i("facebook")&&s.jsx("a",{href:i("facebook"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-facebook",children:s.jsx(z5,{className:"w-5 h-5 text-primary"})}),i("instagram")&&s.jsx("a",{href:i("instagram"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-instagram",children:s.jsx(G5,{className:"w-5 h-5 text-primary"})}),i("twitter")&&s.jsx("a",{href:i("twitter"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-twitter",children:s.jsx(LG,{className:"w-5 h-5 text-primary"})}),!i("facebook")&&!i("instagram")&&!i("twitter")&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Social links coming soon"})]})})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Ts,{className:"w-5 h-5"}),n("page_contact_faq_title")]})}),s.jsxs(se,{className:"space-y-1",children:[s.jsxs(F8,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(Bu,{value:"booking",className:"border-b-0",children:[s.jsx(Vu,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-booking",children:"How do I book a facility?"}),s.jsx(qu,{className:"text-sm text-muted-foreground",children:"You can book facilities through our booking page. Simply select the facility, choose your preferred date and time slot, and confirm your reservation. Members get priority booking windows based on their tier."})]}),s.jsxs(Bu,{value:"membership",className:"border-b-0",children:[s.jsx(Vu,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-membership",children:"What membership options are available?"}),s.jsx(qu,{className:"text-sm text-muted-foreground",children:"We offer Founding Member, Gold, Silver, and Pay-to-Play options. Each tier includes different benefits like booking windows, discounts, and guest passes. Visit our membership page for details."})]}),s.jsxs(Bu,{value:"rules",className:"border-b-0",children:[s.jsx(Vu,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-rules",children:"What are the facility rules?"}),s.jsx(qu,{className:"text-sm text-muted-foreground",children:"All members must follow our facility guidelines including proper attire, court etiquette, and safety protocols. Visit our Rules page for the complete list."})]}),s.jsxs(Bu,{value:"events",className:"border-b-0",children:[s.jsx(Vu,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-events",children:"How do I join events?"}),s.jsx(qu,{className:"text-sm text-muted-foreground",children:"Check our Events page for upcoming tournaments and activities. Members can register directly through the event details page. Some events may have limited spots."})]})]}),s.jsx("div",{className:"pt-3 border-t",children:s.jsx(ge,{href:"/faq",children:s.jsx(M,{variant:"outline",size:"sm",className:"w-full","data-testid":"link-view-more-faq",children:"View All FAQs"})})})]})]})]})]})]})]}),s.jsx(ar,{})]})}const Wle={"help-circle":Ts,users:yr,calendar:mr,"credit-card":Xo,clock:Ht,"building-2":un,shield:ui,settings:Nm};function Kle({item:e,isOpen:t,onToggle:r}){return s.jsxs("div",{className:"border-b border-border last:border-b-0",children:[s.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between py-4 text-left hover-elevate","data-testid":`button-faq-${e.id}`,children:[s.jsx("span",{className:"font-medium text-foreground pr-4",children:e.question}),s.jsx(la,{className:`w-5 h-5 text-muted-foreground shrink-0 transition-transform ${t?"rotate-180":""}`})]}),t&&s.jsx("div",{className:"pb-4 text-muted-foreground animate-qd-fade-in",children:e.answer})]})}function Hle(){Ur({title:"Frequently Asked Questions",description:"Find answers to common questions about The Quarterdeck - membership, booking, facilities, payments, and policies at Islamabad's sports complex."});const[e,t]=x.useState({}),{getValue:r}=Fr(["page_faq_title","page_faq_subtitle","page_faq_contact_cta"],Ee),{data:n=[],isLoading:a}=de({queryKey:["/api/faq"]}),i=l=>{t(c=>({...c,[l]:!c[l]}))},o=l=>Wle[l||"help-circle"]||Ts;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:r("page_faq_title"),subtitle:r("page_faq_subtitle"),testId:"text-faq-title"}),s.jsx("section",{className:"py-12 md:py-16",children:s.jsxs("div",{className:"qd-container max-w-5xl mx-auto",children:[s.jsx(Va,{items:[{label:"FAQ"}]}),a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx(ne,{className:"overflow-visible",children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(Ts,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQs Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Check back later for frequently asked questions."})]})}):s.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:n.map(l=>{const c=o(l.icon);return s.jsx(ne,{className:"overflow-visible","data-testid":`card-faq-${l.id}`,children:s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(c,{className:"w-5 h-5 text-primary"})}),s.jsx("h2",{className:"text-lg font-semibold",children:l.title})]}),s.jsx("div",{children:l.items.length===0?s.jsx("p",{className:"text-muted-foreground text-sm",children:"No questions in this category yet."}):l.items.map(u=>s.jsx(Kle,{item:u,isOpen:e[u.id]||!1,onToggle:()=>i(u.id)},u.id))})]})},l.id)})}),s.jsx("div",{className:"mt-12 text-center",children:s.jsx(ne,{className:"inline-block overflow-visible",children:s.jsxs(se,{className:"p-8",children:[s.jsx(Ts,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Still have questions?"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Our team is here to help. Get in touch and we'll respond as soon as possible."}),s.jsx(ge,{href:"/contact",children:s.jsx(M,{"data-testid":"button-contact-us",children:"Contact Us"})})]})})})]})})]}),s.jsx(ar,{})]})}function Gle(e){const t=Qle(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(Xle);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Qle(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=Zle(a),l=Jle(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yle=Symbol("radix.slottable");function Xle(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yle}function Jle(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Zle(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function V2(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ece=[" ","Enter","ArrowUp","ArrowDown"],tce=[" ","Enter"],Nc="Select",[Zb,e0,rce]=Ip(Nc),[Af]=En(Nc,[rce,cl]),t0=cl(),[nce,fl]=Af(Nc),[sce,ace]=Af(Nc),U8=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,m=t0(t),[w,g]=x.useState(null),[v,b]=x.useState(null),[j,_]=x.useState(!1),N=Sf(u),[S,C]=ps({prop:n,defaultProp:a??!1,onChange:i,caller:Nc}),[P,k]=ps({prop:o,defaultProp:l,onChange:c,caller:Nc}),E=x.useRef(null),T=w?y||!!w.closest("form"):!0,[I,R]=x.useState(new Set),D=Array.from(I).map(O=>O.props.value).join(";");return s.jsx(xb,{...m,children:s.jsxs(nce,{required:p,scope:t,trigger:w,onTriggerChange:g,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:Gr(),value:P,onValueChange:k,open:S,onOpenChange:C,dir:N,triggerPointerDownPosRef:E,disabled:h,children:[s.jsx(Zb.Provider,{scope:t,children:s.jsx(sce,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(O=>{R(W=>new Set(W).add(O))},[]),onNativeOptionRemove:x.useCallback(O=>{R(W=>{const A=new Set(W);return A.delete(O),A})},[]),children:r})}),T?s.jsxs(uU,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:O=>k(O.target.value),disabled:h,form:y,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},D):null]})})};U8.displayName=Nc;var B8="SelectTrigger",V8=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=t0(r),o=fl(B8,r),l=o.disabled||n,c=dt(t,o.onTriggerChange),u=e0(r),d=x.useRef("touch"),[f,h,p]=fU(m=>{const w=u().filter(b=>!b.disabled),g=w.find(b=>b.value===o.value),v=hU(w,m,g);v!==void 0&&o.onValueChange(v.value)}),y=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(Up,{asChild:!0,...i,children:s.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dU(o.value)?"":void 0,...a,ref:c,onClick:Ne(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:Ne(a.onPointerDown,m=>{d.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Ne(a.onKeyDown,m=>{const w=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(w&&m.key===" ")&&ece.includes(m.key)&&(y(),m.preventDefault())})})})});V8.displayName=B8;var q8="SelectValue",z8=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=fl(q8,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=dt(t,c.onValueNodeChange);return Lr(()=>{u(d)},[u,d]),s.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:dU(c.value)?s.jsx(s.Fragment,{children:o}):i})});z8.displayName=q8;var ice="SelectIcon",W8=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Me.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});W8.displayName=ice;var oce="SelectPortal",K8=e=>s.jsx(vf,{asChild:!0,...e});K8.displayName=oce;var _c="SelectContent",H8=x.forwardRef((e,t)=>{const r=fl(_c,e.__scopeSelect),[n,a]=x.useState();if(Lr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Rc.createPortal(s.jsx(G8,{scope:e.__scopeSelect,children:s.jsx(Zb.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(Q8,{...e,ref:t})});H8.displayName=_c;var wa=10,[G8,hl]=Af(_c),lce="SelectContentImpl",cce=Gle("SelectContent.RemoveScroll"),Q8=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:w,...g}=e,v=fl(_c,r),[b,j]=x.useState(null),[_,N]=x.useState(null),S=dt(t,te=>j(te)),[C,P]=x.useState(null),[k,E]=x.useState(null),T=e0(r),[I,R]=x.useState(!1),D=x.useRef(!1);x.useEffect(()=>{if(b)return Pb(b)},[b]),Cb();const O=x.useCallback(te=>{const[be,...ae]=T().map(G=>G.ref.current),[B]=ae.slice(-1),ce=document.activeElement;for(const G of te)if(G===ce||(G==null||G.scrollIntoView({block:"nearest"}),G===be&&_&&(_.scrollTop=0),G===B&&_&&(_.scrollTop=_.scrollHeight),G==null||G.focus(),document.activeElement!==ce))return},[T,_]),W=x.useCallback(()=>O([C,b]),[O,C,b]);x.useEffect(()=>{I&&W()},[I,W]);const{onOpenChange:A,triggerPointerDownPosRef:$}=v;x.useEffect(()=>{if(b){let te={x:0,y:0};const be=B=>{var ce,G;te={x:Math.abs(Math.round(B.pageX)-(((ce=$.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(B.pageY)-(((G=$.current)==null?void 0:G.y)??0))}},ae=B=>{te.x<=10&&te.y<=10?B.preventDefault():b.contains(B.target)||A(!1),document.removeEventListener("pointermove",be),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",ae,{capture:!0})}}},[b,A,$]),x.useEffect(()=>{const te=()=>A(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[A]);const[Q,X]=fU(te=>{const be=T().filter(ce=>!ce.disabled),ae=be.find(ce=>ce.ref.current===document.activeElement),B=hU(be,te,ae);B&&setTimeout(()=>B.ref.current.focus())}),U=x.useCallback((te,be,ae)=>{const B=!D.current&&!ae;(v.value!==void 0&&v.value===be||B)&&(P(te),B&&(D.current=!0))},[v.value]),J=x.useCallback(()=>b==null?void 0:b.focus(),[b]),z=x.useCallback((te,be,ae)=>{const B=!D.current&&!ae;(v.value!==void 0&&v.value===be||B)&&E(te)},[v.value]),ee=n==="popper"?BN:Y8,pe=ee===BN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:w}:{};return s.jsx(G8,{scope:r,content:b,viewport:_,onViewportChange:N,itemRefCallback:U,selectedItem:C,onItemLeave:J,itemTextRefCallback:z,focusSelectedItem:W,selectedItemText:k,position:n,isPositioned:I,searchRef:Q,children:s.jsx(zp,{as:cce,allowPinchZoom:!0,children:s.jsx(qp,{asChild:!0,trapped:v.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Ne(a,te=>{var be;(be=v.trigger)==null||be.focus({preventScroll:!0}),te.preventDefault()}),children:s.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(ee,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:te=>te.preventDefault(),...g,...pe,onPlaced:()=>R(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Ne(g.onKeyDown,te=>{const be=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!be&&te.key.length===1&&X(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let B=T().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(te.key)&&(B=B.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const ce=te.target,G=B.indexOf(ce);B=B.slice(G+1)}setTimeout(()=>O(B)),te.preventDefault()}})})})})})})});Q8.displayName=lce;var uce="SelectItemAlignedPosition",Y8=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=fl(_c,r),o=hl(_c,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=dt(t,S=>d(S)),h=e0(r),p=x.useRef(!1),y=x.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:g,focusSelectedItem:v}=o,b=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&w&&g){const S=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),k=g.getBoundingClientRect();if(i.dir!=="rtl"){const ce=k.left-C.left,G=P.left-ce,L=S.left-G,ve=S.width+L,Fe=Math.max(ve,C.width),st=window.innerWidth-wa,vt=jN(G,[wa,Math.max(wa,st-Fe)]);l.style.minWidth=ve+"px",l.style.left=vt+"px"}else{const ce=C.right-k.right,G=window.innerWidth-P.right-ce,L=window.innerWidth-S.right-G,ve=S.width+L,Fe=Math.max(ve,C.width),st=window.innerWidth-wa,vt=jN(G,[wa,Math.max(wa,st-Fe)]);l.style.minWidth=ve+"px",l.style.right=vt+"px"}const E=h(),T=window.innerHeight-wa*2,I=m.scrollHeight,R=window.getComputedStyle(u),D=parseInt(R.borderTopWidth,10),O=parseInt(R.paddingTop,10),W=parseInt(R.borderBottomWidth,10),A=parseInt(R.paddingBottom,10),$=D+O+I+A+W,Q=Math.min(w.offsetHeight*5,$),X=window.getComputedStyle(m),U=parseInt(X.paddingTop,10),J=parseInt(X.paddingBottom,10),z=S.top+S.height/2-wa,ee=T-z,pe=w.offsetHeight/2,te=w.offsetTop+pe,be=D+O+te,ae=$-be;if(be<=z){const ce=E.length>0&&w===E[E.length-1].ref.current;l.style.bottom="0px";const G=u.clientHeight-m.offsetTop-m.offsetHeight,L=Math.max(ee,pe+(ce?J:0)+G+W),ve=be+L;l.style.height=ve+"px"}else{const ce=E.length>0&&w===E[0].ref.current;l.style.top="0px";const L=Math.max(z,D+m.offsetTop+(ce?U:0)+pe)+ae;l.style.height=L+"px",m.scrollTop=be-z+m.offsetTop}l.style.margin=`${wa}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,w,g,i.dir,n]);Lr(()=>b(),[b]);const[j,_]=x.useState();Lr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(S=>{S&&y.current===!0&&(b(),v==null||v(),y.current=!1)},[b,v]);return s.jsx(fce,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Me.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Y8.displayName=uce;var dce="SelectPopperPosition",BN=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=wa,...i}=e,o=t0(r);return s.jsx(yb,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});BN.displayName=dce;var[fce,q2]=Af(_c,{}),VN="SelectViewport",X8=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=hl(VN,r),o=q2(VN,r),l=dt(t,i.onViewportChange),c=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Zb.Slot,{scope:r,children:s.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ne(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-wa*2,m=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),g=Math.max(m,w);if(g<y){const v=g+p,b=Math.min(y,v),j=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});X8.displayName=VN;var J8="SelectGroup",[hce,mce]=Af(J8),pce=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Gr();return s.jsx(hce,{scope:r,id:a,children:s.jsx(Me.div,{role:"group","aria-labelledby":a,...n,ref:t})})});pce.displayName=J8;var Z8="SelectLabel",eU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=mce(Z8,r);return s.jsx(Me.div,{id:a.id,...n,ref:t})});eU.displayName=Z8;var Ux="SelectItem",[gce,tU]=Af(Ux),rU=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=fl(Ux,r),c=hl(Ux,r),u=l.value===n,[d,f]=x.useState(i??""),[h,p]=x.useState(!1),y=dt(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,a)}),m=Gr(),w=x.useRef("touch"),g=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(gce,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:x.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(Zb.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Me.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Ne(o.onFocus,()=>p(!0)),onBlur:Ne(o.onBlur,()=>p(!1)),onClick:Ne(o.onClick,()=>{w.current!=="mouse"&&g()}),onPointerUp:Ne(o.onPointerUp,()=>{w.current==="mouse"&&g()}),onPointerDown:Ne(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:Ne(o.onPointerMove,v=>{var b;w.current=v.pointerType,a?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ne(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(tce.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});rU.displayName=Ux;var Ah="SelectItemText",nU=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=fl(Ah,r),l=hl(Ah,r),c=tU(Ah,r),u=ace(Ah,r),[d,f]=x.useState(null),h=dt(t,g=>f(g),c.onItemTextChange,g=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,g,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=x.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=u;return Lr(()=>(m(y),()=>w(y)),[m,w,y]),s.jsxs(s.Fragment,{children:[s.jsx(Me.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rc.createPortal(i.children,o.valueNode):null]})});nU.displayName=Ah;var sU="SelectItemIndicator",aU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return tU(sU,r).isSelected?s.jsx(Me.span,{"aria-hidden":!0,...n,ref:t}):null});aU.displayName=sU;var qN="SelectScrollUpButton",iU=x.forwardRef((e,t)=>{const r=hl(qN,e.__scopeSelect),n=q2(qN,e.__scopeSelect),[a,i]=x.useState(!1),o=dt(t,n.onScrollButtonChange);return Lr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(lU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});iU.displayName=qN;var zN="SelectScrollDownButton",oU=x.forwardRef((e,t)=>{const r=hl(zN,e.__scopeSelect),n=q2(zN,e.__scopeSelect),[a,i]=x.useState(!1),o=dt(t,n.onScrollButtonChange);return Lr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(lU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});oU.displayName=zN;var lU=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=hl("SelectScrollButton",r),o=x.useRef(null),l=e0(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Lr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ne(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ne(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ne(a.onPointerLeave,()=>{c()})})}),vce="SelectSeparator",cU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Me.div,{"aria-hidden":!0,...n,ref:t})});cU.displayName=vce;var WN="SelectArrow",xce=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=t0(r),i=fl(WN,r),o=hl(WN,r);return i.open&&o.position==="popper"?s.jsx(bb,{...a,...n,ref:t}):null});xce.displayName=WN;var yce="SelectBubbleInput",uU=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),i=dt(n,a),o=V2(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Me.select,{...r,style:{...b5,...r.style},ref:i,defaultValue:t})});uU.displayName=yce;function dU(e){return e===""||e===void 0}function fU(e){const t=Rr(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function hU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=bce(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function bce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var wce=U8,mU=V8,jce=z8,Nce=W8,_ce=K8,pU=H8,Sce=X8,gU=eU,vU=rU,kce=nU,Cce=aU,xU=iU,yU=oU,bU=cU;const Nt=wce,_t=jce,bt=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(mU,{ref:n,className:we("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Nce,{asChild:!0,children:s.jsx(la,{className:"h-4 w-4 opacity-50"})})]}));bt.displayName=mU.displayName;const wU=x.forwardRef(({className:e,...t},r)=>s.jsx(xU,{ref:r,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(gc,{className:"h-4 w-4"})}));wU.displayName=xU.displayName;const jU=x.forwardRef(({className:e,...t},r)=>s.jsx(yU,{ref:r,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(la,{className:"h-4 w-4"})}));jU.displayName=yU.displayName;const wt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(_ce,{children:s.jsxs(pU,{ref:a,className:we("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(wU,{}),s.jsx(Sce,{className:we("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(jU,{})]})}));wt.displayName=pU.displayName;const Pce=x.forwardRef(({className:e,...t},r)=>s.jsx(gU,{ref:r,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Pce.displayName=gU.displayName;const ke=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(vU,{ref:n,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Cce,{children:s.jsx(wr,{className:"h-4 w-4"})})}),s.jsx(kce,{children:t})]}));ke.displayName=vU.displayName;const Ece=x.forwardRef(({className:e,...t},r)=>s.jsx(bU,{ref:r,className:we("-mx-1 my-1 h-px bg-muted",e),...t}));Ece.displayName=bU.displayName;const nT={FOUNDING:35e3,GOLD:15e3,SILVER:5e3};function Ace({onSuccess:e}){const{toast:t}=ht(),[r,n]=x.useState(""),[a,i]=x.useState("bank_transfer"),[o,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(null),h=x.useRef(null),{data:p}=de({queryKey:["/api/site-settings"]}),y=x.useMemo(()=>p?p.reduce((P,k)=>(P[k.key]=k.value,P),{}):{},[p]),m={bankName:(y==null?void 0:y.bank_name)||"Bank Details Loading...",accountTitle:(y==null?void 0:y.bank_account_title)||"-",accountNumber:(y==null?void 0:y.bank_account_number)||"-",iban:(y==null?void 0:y.bank_iban)||"-",branchCode:(y==null?void 0:y.bank_branch_code)||"-"},{data:w,isLoading:g}=de({queryKey:["/api/membership-applications/mine"]}),v=w==null?void 0:w.find(P=>P.status==="PENDING"),b=ye({mutationFn:async P=>await xe("POST","/api/membership-applications",P),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/membership-applications/mine"]}),t({title:"Application submitted",description:"Please upload your payment proof to complete the application."}),e==null||e()},onError:P=>{t({title:"Failed to submit application",description:P.message||"An error occurred",variant:"destructive"})}}),j=ye({mutationFn:async({id:P,data:k})=>await xe("PATCH",`/api/membership-applications/${P}`,k),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/membership-applications/mine"]}),t({title:"Payment proof uploaded",description:"Your application is now under review. We'll notify you once it's processed."})},onError:P=>{t({title:"Failed to upload payment proof",description:P.message||"An error occurred",variant:"destructive"})}}),_=async P=>{var T;const k=(T=P.target.files)==null?void 0:T[0];if(!k)return;if(k.size>10*1024*1024){t({title:"File too large",description:"Maximum file size is 10MB",variant:"destructive"});return}if(!["image/jpeg","image/png","image/webp","application/pdf"].includes(k.type)){t({title:"Invalid file type",description:"Please upload an image (JPEG, PNG, WebP) or PDF",variant:"destructive"});return}u(!0);try{const I=new FormData;I.append("file",k);const R=await fetch("/api/membership/upload-payment-proof",{method:"POST",body:I,credentials:"include"});if(!R.ok)throw new Error("Upload failed");const D=await R.json();f({name:k.name,url:D.url}),t({title:"File uploaded successfully"})}catch{t({title:"Upload failed",description:"Please try again",variant:"destructive"})}finally{u(!1)}},N=()=>{if(!r){t({title:"Please select a membership tier",variant:"destructive"});return}b.mutate({tierDesired:r,paymentMethod:a,paymentAmount:nT[r]||0})},S=()=>{!v||!d||j.mutate({id:v.id,data:{paymentProofUrl:d.url,paymentReference:o}})},C=P=>{switch(P){case"PENDING":return s.jsxs(le,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:[s.jsx(Ht,{className:"w-3 h-3 mr-1"}),"Pending Review"]});case"APPROVED":return s.jsxs(le,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[s.jsx(yn,{className:"w-3 h-3 mr-1"}),"Approved"]});case"REJECTED":return s.jsxs(le,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[s.jsx(ix,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(le,{variant:"secondary",children:P})}};if(g)return s.jsx(ne,{children:s.jsx(se,{className:"p-6 flex items-center justify-center",children:s.jsx(Te,{className:"w-6 h-6 animate-spin text-muted-foreground"})})});if(v){const P=!v.paymentProofUrl;return s.jsxs(ne,{"data-testid":"card-pending-application",children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Xo,{className:"w-5 h-5"}),"Your Membership Application"]}),s.jsx(It,{children:P?"Please complete your payment and upload proof to proceed":"Your application is being reviewed by our team"})]}),s.jsxs(se,{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[v.tierDesired," Membership"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Applied on ",v.createdAt?Xn(new Date(v.createdAt),"PPP"):"N/A"]})]}),C(v.status||"PENDING")]}),P&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(un,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"Bank Transfer Details"})]}),s.jsxs("div",{className:"grid gap-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Bank Name:"}),s.jsx("span",{className:"font-medium",children:m.bankName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Title:"}),s.jsx("span",{className:"font-medium",children:m.accountTitle})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Number:"}),s.jsx("span",{className:"font-medium",children:m.accountNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"IBAN:"}),s.jsx("span",{className:"font-medium text-xs sm:text-sm",children:m.iban})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-bold text-primary",children:["PKR ",(v.paymentAmount||0).toLocaleString()]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(q,{htmlFor:"paymentReference",children:"Payment Reference / Transaction ID"}),s.jsx(Y,{id:"paymentReference",value:o,onChange:k=>l(k.target.value),placeholder:"Enter your transaction reference number",className:"mt-1","data-testid":"input-payment-reference"})]}),s.jsxs("div",{children:[s.jsx(q,{children:"Payment Proof (Screenshot/Receipt)"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{ref:h,type:"file",accept:"image/*,.pdf",onChange:_,className:"hidden"}),s.jsxs(M,{variant:"outline",onClick:()=>{var k;return(k=h.current)==null?void 0:k.click()},disabled:c,className:"w-full","data-testid":"button-upload-proof",children:[c?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(cn,{className:"w-4 h-4 mr-2"}),d?d.name:"Upload Payment Proof"]}),d&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-green-600",children:[s.jsx(yn,{className:"w-4 h-4"}),s.jsxs("span",{children:["File uploaded: ",d.name]})]})]})]}),s.jsxs(M,{onClick:S,disabled:!d||j.isPending,className:"w-full","data-testid":"button-submit-proof",children:[j.isPending&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Submit Payment Proof"]})]})]}),!P&&s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg text-center",children:[s.jsx(ms,{className:"w-10 h-10 mx-auto text-primary mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your payment proof has been submitted. Our team will review your application and notify you once approved."})]})]})]})}return s.jsxs(ne,{"data-testid":"card-new-application",children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Xo,{className:"w-5 h-5"}),"Apply for Membership"]}),s.jsx(It,{children:"Choose your membership tier and complete the payment to join The Quarterdeck"})]}),s.jsxs(se,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(q,{htmlFor:"tier",children:"Select Membership Tier"}),s.jsxs(Nt,{value:r,onValueChange:n,children:[s.jsx(bt,{className:"mt-1","data-testid":"select-tier",children:s.jsx(_t,{placeholder:"Choose a membership tier"})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"GOLD",children:"Gold Membership - PKR 15,000/month"}),s.jsx(ke,{value:"SILVER",children:"Silver Membership - PKR 5,000/month"})]})]})]}),s.jsxs("div",{children:[s.jsx(q,{htmlFor:"paymentMethod",children:"Payment Method"}),s.jsxs(Nt,{value:a,onValueChange:i,children:[s.jsx(bt,{className:"mt-1","data-testid":"select-payment-method",children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"bank_transfer",children:"Bank Transfer"}),s.jsx(ke,{value:"cash",children:"Cash (at reception)"})]})]})]}),r&&s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Fee:"}),s.jsxs("span",{className:"text-xl font-bold",children:["PKR ",(nT[r]||0).toLocaleString()]})]})}),s.jsxs(M,{onClick:N,disabled:!r||b.isPending,className:"w-full","data-testid":"button-submit-application",children:[b.isPending&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Start Application"]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"After submitting, you'll receive bank details for payment. Upload your payment proof to complete the application."})]})]})}const Oce={clock:Ht,gift:ub,award:ai,shield:ui,target:na,zap:Z5,heart:db,ticket:lx,calendar:mr,trophy:os,star:fa,crown:cb,users:yr,check:wr,helpCircle:Ts};function Tce(e){if(!e)return Ts;const t=e.toLowerCase();return Oce[t]||Ts}const Ice={FOUNDING:cb,GOLD:fa,SILVER:J5,GUEST:yr},sT={FOUNDING:{bg:"bg-amber-500/10 dark:bg-amber-500/20",text:"text-amber-600 dark:text-amber-400",border:"border-amber-500/30"},GOLD:{bg:"bg-yellow-500/10 dark:bg-yellow-500/20",text:"text-yellow-600 dark:text-yellow-400",border:"border-yellow-500/30"},SILVER:{bg:"bg-gray-500/10 dark:bg-gray-500/20",text:"text-gray-600 dark:text-gray-400",border:"border-gray-500/30"},GUEST:{bg:"bg-blue-500/10 dark:bg-blue-500/20",text:"text-blue-600 dark:text-blue-400",border:"border-blue-500/30"}},Rce=[{id:"founding",name:"Founding Member",tier:"FOUNDING",tagline:"Limited & Exclusive",description:"For early supporters and investors who believe in our vision.",price:35e3,billingPeriod:"monthly",featured:!0,closed:!0,benefits:["Lifetime priority booking (14-day window)","25% discount on off-peak bookings (10 AM - 5 PM)","10 guest passes per month","Permanent credit bonus (10%)","VIP parking & locker","Invitation to all exclusive events","Founding member recognition wall"],isActive:!0,sortOrder:1},{id:"gold",name:"Gold Membership",tier:"GOLD",tagline:"Premium Access",description:"For serious athletes and frequent players who want the best experience.",price:15e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["7-day advance booking window","20% discount on off-peak bookings (10 AM - 5 PM)","4 guest passes per month","Priority event registration","15% off coaching & clinics","Free equipment rental (2x/month)","Access to member lounge"],isActive:!0,sortOrder:2},{id:"silver",name:"Silver Membership",tier:"SILVER",tagline:"Standard Access",description:"Perfect for recreational players who want regular access at great value.",price:5e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["5-day advance booking window","10% discount on off-peak bookings (10 AM - 5 PM)","2 guest passes per month","10% off coaching & clinics","Member newsletter & updates","Discounted event entry"],isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Non-Member Access",description:"Try our facilities without commitment. Subject to availability.",price:0,billingPeriod:"per visit",featured:!1,closed:!1,benefits:["2-day advance booking window","Access after member priority","Equipment rental available","Guest registration required","Can be upgraded to membership"],isActive:!0,sortOrder:4}],Mce=[{feature:"Advance Booking Window",foundingValue:"14 days",goldValue:"7 days",silverValue:"5 days",guestValue:"2 days"},{feature:"Off-Peak Discount (10 AM - 5 PM)",foundingValue:"25%",goldValue:"20%",silverValue:"10%",guestValue:"None"},{feature:"Monthly Guest Passes",foundingValue:"10",goldValue:"4",silverValue:"2",guestValue:"N/A"},{feature:"Coaching Discount",foundingValue:"20%",goldValue:"15%",silverValue:"10%",guestValue:"None"},{feature:"Event Priority",foundingValue:"VIP",goldValue:"Priority",silverValue:"Standard",guestValue:"Last"}],$ce=[{icon:"clock",title:"Priority Booking",description:"Book your preferred time slots ahead of non-members"},{icon:"gift",title:"Exclusive Discounts",description:"Save on bookings, events, and coaching sessions"},{icon:"award",title:"Guest Passes",description:"Share the experience with friends and family"},{icon:"shield",title:"Member-Only Events",description:"Access exclusive tournaments and social gatherings"}];function Dce(){Ur({title:"Membership Plans",description:"Join The Quarterdeck with exclusive membership tiers - Founding, Gold, Silver, and Guest. Enjoy priority booking, discounts, and premium benefits at Islamabad's premier sports complex."});const[e,t]=x.useState(null),[r,n]=x.useState(!1),[,a]=Ln(),{isAuthenticated:i}=ul(),{data:o}=de({queryKey:["/api/memberships/my"],enabled:i}),l=g=>{var v;i?o?a("/profile?tab=membership"):(v=document.getElementById("apply"))==null||v.scrollIntoView({behavior:"smooth"}):a(`/signup?redirect=/membership&tier=${g.tier}`)},{getValue:c}=Fr(["page_membership_title","page_membership_subtitle","page_membership_why_title","page_membership_why_description","page_membership_tiers_title","page_membership_tiers_description","page_membership_ready_title","page_membership_ready_description","page_membership_create_cta","page_membership_contact_cta"],Ee),{data:u,isLoading:d}=de({queryKey:["/api/pricing-tiers"],queryFn:async()=>{const g=await fetch("/api/pricing-tiers");if(!g.ok)throw new Error("Failed to fetch pricing tiers");return g.json()}}),{data:f}=de({queryKey:["/api/comparison-features"]}),{data:h}=de({queryKey:["/api/member-benefits"]}),p=x.useMemo(()=>f&&f.length>0?f:Mce,[f]),y=x.useMemo(()=>h&&h.length>0?h:$ce,[h]),m=x.useMemo(()=>u&&u.length>0?u.filter(g=>g.isActive).sort((g,v)=>(g.sortOrder||0)-(v.sortOrder||0)).map(g=>({...g,tagline:g.tier==="FOUNDING"?"Limited & Exclusive":g.tier==="GOLD"?"Premium Access":g.tier==="SILVER"?"Standard Access":"Non-Member Access",closed:g.tier==="FOUNDING"})):Rce,[u]),w=g=>{t(e===g?null:g)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:c("page_membership_title"),subtitle:c("page_membership_subtitle"),testId:"text-membership-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsxs("section",{className:"mt-8 mb-16",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:c("page_membership_why_title")}),s.jsx("p",{className:"text-muted-foreground",children:c("page_membership_why_description")})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:y.map((g,v)=>{const b=Tce(g.icon);return s.jsx(ne,{className:"text-center","data-testid":`card-benefit-${v}`,children:s.jsxs(se,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(b,{className:"w-6 h-6 text-primary"})}),s.jsx("h3",{className:"font-semibold mb-2",children:g.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]})},v)})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:c("page_membership_tiers_title")}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:c("page_membership_tiers_description")})]}),d?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[1,2,3,4].map(g=>s.jsx(ne,{children:s.jsxs(se,{className:"p-6 space-y-4",children:[s.jsx(De,{className:"h-8 w-24"}),s.jsx(De,{className:"h-10 w-32"}),s.jsx(De,{className:"h-4 w-full"}),s.jsx(De,{className:"h-4 w-3/4"})]})},g))}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:m.map(g=>{var _,N,S,C;const v=Ice[g.tier]||fa,b=sT[g.tier]||sT.SILVER,j=e===g.id;return s.jsxs(ne,{className:`relative overflow-visible ${g.featured?"ring-2 ring-primary":""}`,"data-testid":`card-tier-${(_=g.tier)==null?void 0:_.toLowerCase()}`,children:[g.featured&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx("span",{className:"bg-primary text-primary-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Most Popular"})}),g.closed&&s.jsx("div",{className:"absolute -top-3 right-4",children:s.jsx("span",{className:"bg-destructive text-destructive-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Closed"})}),s.jsxs(se,{className:"p-6",children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${b.bg} flex items-center justify-center mb-4`,children:s.jsx(v,{className:`w-6 h-6 ${b.text}`})}),s.jsx("h3",{className:"font-bold text-lg mb-1",children:g.name}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:g.tagline}),s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"text-3xl font-bold",children:g.price===0?"Free":`PKR ${g.price.toLocaleString()}`}),g.price>0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",g.billingPeriod]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:g.description}),s.jsxs("button",{onClick:()=>w(g.id),className:"flex items-center gap-1 text-sm text-primary hover:underline mb-4","data-testid":`button-toggle-benefits-${(N=g.tier)==null?void 0:N.toLowerCase()}`,children:[j?"Hide":"View"," Benefits",j?s.jsx(gc,{className:"w-4 h-4"}):s.jsx(la,{className:"w-4 h-4"})]}),j&&s.jsx("ul",{className:"space-y-2 mb-4 animate-qd-fade-in",children:(S=g.benefits)==null?void 0:S.map((P,k)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(wr,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),s.jsx("span",{children:P})]},k))}),g.closed?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Registration Closed"}):s.jsx(M,{variant:g.featured?"default":"outline",className:"w-full",onClick:()=>l(g),"data-testid":`button-join-${(C=g.tier)==null?void 0:C.toLowerCase()}`,children:i?o?"View My Membership":"Apply for Membership":g.price===0?"Register Free":"Join Now"})]})]},g.id)})})]}),s.jsxs("section",{className:"mb-16 max-w-5xl mx-auto",children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 text-lg font-semibold mx-auto mb-6 hover:text-primary transition-colors","data-testid":"button-toggle-comparison",children:["Compare Membership Tiers",r?s.jsx(gc,{className:"w-5 h-5"}):s.jsx(la,{className:"w-5 h-5"})]}),r&&s.jsx(ne,{className:"overflow-visible animate-qd-fade-in",children:s.jsx(se,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-4 font-medium",children:"Feature"}),s.jsx("th",{className:"text-center p-4 font-medium text-amber-600 dark:text-amber-400",children:"Founding"}),s.jsx("th",{className:"text-center p-4 font-medium text-yellow-600 dark:text-yellow-400",children:"Gold"}),s.jsx("th",{className:"text-center p-4 font-medium text-gray-600 dark:text-gray-400",children:"Silver"}),s.jsx("th",{className:"text-center p-4 font-medium text-blue-600 dark:text-blue-400",children:"Guest"})]})}),s.jsx("tbody",{children:p.map((g,v)=>s.jsxs("tr",{className:"border-b last:border-b-0",children:[s.jsx("td",{className:"p-4 text-sm",children:g.feature}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.foundingValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.goldValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.silverValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.guestValue})]},v))})]})})})})]}),i&&!o&&s.jsxs("section",{className:"mb-16 max-w-xl mx-auto",id:"apply",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Apply for Membership"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete your application and start enjoying member benefits today"})]}),s.jsx(Ace,{})]}),s.jsx("section",{className:"text-center max-w-2xl mx-auto",children:s.jsx(ne,{children:s.jsxs(se,{className:"p-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:c("page_membership_ready_title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:c("page_membership_ready_description")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[i?o?s.jsx(ge,{href:"/profile?tab=membership",children:s.jsx(M,{"data-testid":"button-view-my-membership",children:"View My Membership"})}):s.jsx(M,{onClick:()=>{var g;return(g=document.getElementById("apply"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},"data-testid":"button-apply-membership",children:"Apply for Membership"}):s.jsx(ge,{href:"/signup?redirect=/membership",children:s.jsx(M,{"data-testid":"button-create-account",children:c("page_membership_create_cta")})}),s.jsx(ge,{href:"/contact",children:s.jsx(M,{variant:"outline","data-testid":"button-contact-membership",children:c("page_membership_contact_cta")})})]})]})})})]})]}),s.jsx(ar,{})]})}function Lce(){Ur({title:"Certifications & Training",description:"Get certified for specialized facilities at The Quarterdeck. Enroll in training classes and obtain required certifications for Air Rifle Range and other facilities."});const{isAuthenticated:e}=ul(),{toast:t}=ht(),[r,n]=x.useState("overview"),[a,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState({certificateNumber:"",expiresAt:"",notes:"",proofFile:null}),{data:d=[],isLoading:f}=de({queryKey:["/api/certifications"]}),{data:h=[],isLoading:p}=de({queryKey:["/api/certification-classes"]}),{data:y=[],isLoading:m}=de({queryKey:["/api/my-certifications"],enabled:e}),{data:w=[],isLoading:g}=de({queryKey:["/api/my-enrollments"],enabled:e}),v=ye({mutationFn:async k=>{const E=await fetch(`/api/certification-classes/${k}/enroll`,{method:"POST",credentials:"include"});if(!E.ok){const T=await E.json();throw new Error(T.message||"Enrollment failed")}return E.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/my-enrollments"]}),re.invalidateQueries({queryKey:["/api/certification-classes"]}),t({title:"Success",description:"You have been enrolled in the class."})},onError:k=>{t({title:"Error",description:k.message,variant:"destructive"})}}),b=ye({mutationFn:async k=>{const E=await fetch("/api/my-certifications/submit",{method:"POST",body:k,credentials:"include"});if(!E.ok){const T=await E.json();throw new Error(T.message||"Submission failed")}return E.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/my-certifications"]}),i(!1),u({certificateNumber:"",expiresAt:"",notes:"",proofFile:null}),l(null),t({title:"Submitted",description:"Your certification has been submitted for verification."})},onError:k=>{t({title:"Error",description:k.message,variant:"destructive"})}}),j=()=>{if(!o)return;const k=new FormData;k.append("certificationId",o.id),c.certificateNumber&&k.append("certificateNumber",c.certificateNumber),c.expiresAt&&k.append("expiresAt",c.expiresAt),c.notes&&k.append("notes",c.notes),c.proofFile&&k.append("proofDocument",c.proofFile),b.mutate(k)},_=k=>d.find(E=>E.id===k.certificationId),N=k=>w.some(E=>E.classId===k),S=k=>{switch(k){case"ACTIVE":return s.jsxs(le,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:[s.jsx(yn,{className:"w-3 h-3 mr-1"})," Active"]});case"PENDING":return s.jsxs(le,{className:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:[s.jsx(Ht,{className:"w-3 h-3 mr-1"})," Pending Verification"]});case"REVOKED":case"EXPIRED":return s.jsxs(le,{className:"bg-red-500/20 text-red-700 dark:text-red-400",children:[s.jsx(Lp,{className:"w-3 h-3 mr-1"})," ",k]});default:return s.jsx(le,{variant:"secondary",children:k})}},C=y.filter(k=>k.status==="ACTIVE"),P=y.filter(k=>k.status==="PENDING");return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsx(Fn,{title:"Certifications & Training",subtitle:"Some facilities require safety certifications. View available classes or submit your existing credentials."}),s.jsx(Va,{items:[{label:"Home",href:"/"},{label:"Certifications"}]}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:s.jsxs(ua,{value:r,onValueChange:n,className:"space-y-6",children:[s.jsxs(Ds,{className:"grid w-full max-w-md mx-auto grid-cols-3",children:[s.jsx(Bt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(Bt,{value:"classes","data-testid":"tab-classes",children:"Classes"}),s.jsx(Bt,{value:"my-certs","data-testid":"tab-my-certs",children:"My Certs"})]}),s.jsxs(Vt,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Available Certifications"}),s.jsx("p",{className:"text-muted-foreground",children:"These certifications may be required for certain facilities"})]}),f?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(k=>s.jsx(ne,{children:s.jsx(se,{className:"p-6",children:s.jsx(De,{className:"h-32"})})},k))}):d.length===0?s.jsx(ne,{children:s.jsx(se,{className:"p-8 text-center text-muted-foreground",children:"No certifications available at this time."})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(k=>{const E=C.some(I=>I.certificationId===k.id),T=P.some(I=>I.certificationId===k.id);return s.jsxs(ne,{"data-testid":`card-certification-${k.id}`,className:E?"border-green-500/50":"",children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(ai,{className:"w-8 h-8 text-primary shrink-0"}),E&&s.jsx(le,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:"Certified"}),T&&s.jsx(le,{className:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:"Pending"})]}),s.jsx(We,{className:"text-lg",children:k.name}),s.jsx(It,{children:k.description})]}),s.jsxs(se,{className:"space-y-3",children:[k.validityMonths&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ht,{className:"w-4 h-4"}),s.jsxs("span",{children:["Valid for ",k.validityMonths," months"]})]}),k.facilityId&&s.jsx(le,{variant:"destructive",children:"Required for facility access"})]}),s.jsx(Px,{children:e?E?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Already Certified"}):T?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Verification Pending"}):s.jsxs(M,{className:"w-full",onClick:()=>{l(k),i(!0)},"data-testid":`button-submit-cert-${k.id}`,children:[s.jsx(cn,{className:"w-4 h-4 mr-2"})," Submit Certification"]}):s.jsx(M,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign in to submit"})})})]},k.id)})})]}),s.jsxs(Vt,{value:"classes",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Upcoming Training Classes"}),s.jsx("p",{className:"text-muted-foreground",children:"Enroll in a class to get certified at our facility"})]}),p?s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[1,2].map(k=>s.jsx(ne,{children:s.jsx(se,{className:"p-6",children:s.jsx(De,{className:"h-40"})})},k))}):h.length===0?s.jsx(ne,{children:s.jsx(se,{className:"p-8 text-center text-muted-foreground",children:"No upcoming classes scheduled. Check back later."})}):s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:h.map(k=>{const E=_(k),T=N(k.id),I=(k.enrolledCount||0)>=(k.capacity||1/0);return s.jsxs(ne,{"data-testid":`card-class-${k.id}`,children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[s.jsx(Z1,{className:"w-6 h-6 text-primary"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(le,{variant:"secondary",children:(E==null?void 0:E.name)||"Certification"}),T&&s.jsx(le,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:"Enrolled"})]})]}),s.jsx(We,{children:k.title}),s.jsx(It,{children:k.description})]}),s.jsxs(se,{className:"space-y-3",children:[k.scheduledDate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(mr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:Xn(new Date(k.scheduledDate),"PPP 'at' p")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(yr,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[k.enrolledCount||0," / ",k.capacity||"Unlimited"," enrolled"]})]}),k.location&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Location: ",k.location]}),k.price&&Number(k.price)>0&&s.jsxs("div",{className:"text-lg font-semibold",children:["PKR ",Number(k.price).toLocaleString()]})]}),s.jsx(Px,{children:e?T?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Already Enrolled"}):I?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Class Full"}):s.jsx(M,{className:"w-full",onClick:()=>v.mutate(k.id),disabled:v.isPending,"data-testid":`button-enroll-${k.id}`,children:"Enroll Now"}):s.jsx(M,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign in to enroll"})})})]},k.id)})})]}),s.jsx(Vt,{value:"my-certs",className:"space-y-6",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"My Certifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your certifications and class enrollments"})]}),m||g?s.jsx("div",{className:"space-y-4",children:[1,2].map(k=>s.jsx(ne,{children:s.jsx(se,{className:"p-6",children:s.jsx(De,{className:"h-20"})})},k))}):y.length===0&&w.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(Ek,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"You don't have any certifications yet."}),s.jsx("p",{className:"mt-2",children:"Submit your existing certificates or enroll in a training class."})]})}):s.jsxs("div",{className:"space-y-6",children:[y.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Issued Certifications"}),y.map(k=>{const E=d.find(T=>T.id===k.certificationId);return s.jsx(ne,{"data-testid":`card-my-cert-${k.id}`,children:s.jsxs(se,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ai,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(E==null?void 0:E.name)||"Certification"}),k.certificateNumber&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",k.certificateNumber]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[S(k.status),k.expiresAt&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Expires: ",Xn(new Date(k.expiresAt),"PP")]})]})]})},k.id)})]}),w.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Class Enrollments"}),w.map(k=>{const E=h.find(T=>T.id===k.classId);return s.jsx(ne,{"data-testid":`card-enrollment-${k.id}`,children:s.jsxs(se,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Z1,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(E==null?void 0:E.title)||"Training Class"}),(E==null?void 0:E.scheduledDate)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:Xn(new Date(E.scheduledDate),"PPP 'at' p")})]})]}),s.jsx(le,{variant:"secondary",children:k.status})]})},k.id)})]})]})]}):s.jsx(ne,{children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Sign in to view your certifications"}),s.jsx(M,{asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign In"})})]})})})]})}),s.jsx(Pt,{open:a,onOpenChange:i,children:s.jsxs(St,{children:[s.jsxs(Et,{children:[s.jsx(At,{children:"Submit Certification"}),s.jsxs(Rs,{children:["Upload proof of your ",o==null?void 0:o.name," certification for verification."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"certificateNumber",children:"Certificate Number (optional)"}),s.jsx(Y,{id:"certificateNumber",value:c.certificateNumber,onChange:k=>u(E=>({...E,certificateNumber:k.target.value})),placeholder:"Enter your certificate number","data-testid":"input-certificate-number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"expiresAt",children:"Expiration Date (optional)"}),s.jsx(Y,{id:"expiresAt",type:"date",value:c.expiresAt,onChange:k=>u(E=>({...E,expiresAt:k.target.value})),"data-testid":"input-expires-at"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"proofFile",children:"Proof Document"}),s.jsx(Y,{id:"proofFile",type:"file",accept:"image/*,.pdf",onChange:k=>u(E=>{var T;return{...E,proofFile:((T=k.target.files)==null?void 0:T[0])||null}}),"data-testid":"input-proof-file"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload an image or PDF of your certificate"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"notes",children:"Additional Notes (optional)"}),s.jsx(lt,{id:"notes",value:c.notes,onChange:k=>u(E=>({...E,notes:k.target.value})),placeholder:"Any additional information...","data-testid":"input-notes"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(M,{onClick:j,disabled:b.isPending,"data-testid":"button-submit-certification",children:b.isPending?"Submitting...":"Submit for Verification"})]})]})}),s.jsx(ar,{})]})}function Fce(){const[,e]=Ln();return x.useEffect(()=>{e("/roadmap")},[e]),null}function Uce(){return Ur({title:"Page Not Found",description:"The page you're looking for doesn't exist or has been moved. Visit The Quarterdeck homepage to explore our sports complex."}),s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center py-16",children:s.jsx(ne,{className:"w-full max-w-lg mx-4",children:s.jsxs(se,{className:"pt-8 pb-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-6xl font-bold text-muted-foreground mb-2",children:"404"}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2","data-testid":"text-error-title",children:"Page Not Found"}),s.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Here are some helpful links:"}),s.jsx(ge,{href:"/",children:s.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-home",children:[s.jsx(Ak,{className:"h-4 w-4"}),"Go to Homepage"]})}),s.jsx(ge,{href:"/facilities",children:s.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-facilities",children:[s.jsx(mr,{className:"h-4 w-4"}),"View Facilities"]})}),s.jsx(ge,{href:"/#membership",children:s.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-membership",children:[s.jsx(yr,{className:"h-4 w-4"}),"Membership Plans"]})})]}),s.jsx("div",{className:"text-center",children:s.jsxs(M,{variant:"ghost",onClick:()=>window.history.back(),className:"gap-2","data-testid":"button-go-back",children:[s.jsx(Sn,{className:"h-4 w-4"}),"Go Back"]})})]})})}),s.jsx(ar,{})]})}function NU(e){return ro({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function Bce(e){return ro({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}function Vce(e){return ro({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function qce(e){return ro({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},child:[]}]})(e)}function zce(e){return ro({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(e)}function _U(e){return ro({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}function Wce(e){return ro({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(e)}const Kce=[{id:"twitter",name:"X",icon:_U},{id:"github",name:"GitHub",icon:Bce},{id:"facebook",name:"Facebook",icon:NU}];function SU({mode:e}){const{signInWithOAuth:t,isSupabaseConfigured:r}=_f(),{toast:n}=ht(),[a,i]=x.useState(null),o=async c=>{if(!r){n({title:"Configuration Error",description:"Social login is not properly configured.",variant:"destructive"});return}i(c);try{const{error:u}=await t(c);u&&n({title:`${c.charAt(0).toUpperCase()+c.slice(1)} login failed`,description:u.message||"Failed to connect with provider",variant:"destructive"})}catch{n({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(null)}},l=e==="signin"?"Sign in":"Sign up";return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Kce.map(c=>{const u=c.icon,d=a===c.id;return s.jsxs(M,{type:"button",variant:"outline",className:"gap-2",disabled:a!==null,onClick:()=>o(c.id),"data-testid":`button-oauth-${c.id}`,children:[d?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(u,{className:"h-4 w-4"}),c.name]},c.id)})}),s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[l," with a social account for instant verification"]})]})}var Hce=({as:e="div",...t},r)=>s.jsx(e,{...t,ref:r}),Gce=x.forwardRef(Hce),Qce="https://challenges.cloudflare.com/turnstile/v0/api.js",z2="cf-turnstile-script",Yce="cf-turnstile",W2="onloadTurnstileCallback",kU=e=>!!document.getElementById(e),Xce=({render:e="explicit",onLoadCallbackName:t=W2,scriptOptions:{nonce:r="",defer:n=!0,async:a=!0,id:i="",appendTo:o,onError:l,crossOrigin:c=""}={}})=>{let u=i||z2;if(kU(u))return;let d=document.createElement("script");d.id=u,d.src=`${Qce}?onload=${t}&render=${e}`,!document.querySelector(`script[src="${d.src}"]`)&&(d.defer=!!n,d.async=!!a,r&&(d.nonce=r),c&&(d.crossOrigin=c),l&&(d.onerror=l,delete window[t]),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(d))},_l={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function Jce(e){if(e!=="invisible"&&e!=="interactionOnly")return e}function Zce(e=z2){let[t,r]=x.useState(!1);return x.useEffect(()=>{let n=()=>{kU(e)&&r(!0)},a=new MutationObserver(n);return a.observe(document,{childList:!0,subtree:!0}),n(),()=>{a.disconnect()}},[e]),t}var Qh="unloaded",CU,eue=new Promise((e,t)=>{CU={resolve:e,reject:t},Qh==="ready"&&e(void 0)}),tue=(e=W2)=>(Qh==="unloaded"&&(Qh="loading",window[e]=()=>{CU.resolve(),Qh="ready",delete window[e]}),eue),K2=x.forwardRef((e,t)=>{let{scriptOptions:r,options:n={},siteKey:a,onWidgetLoad:i,onSuccess:o,onExpire:l,onError:c,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h,onLoadScript:p,id:y,style:m,as:w="div",injectScript:g=!0,rerenderOnCallbackChange:v=!1,...b}=e,j=n.size,_=x.useCallback(()=>typeof j>"u"?{}:n.execution==="execute"?_l.invisible:n.appearance==="interaction-only"?_l.interactionOnly:_l[j],[n.execution,j,n.appearance]),[N,S]=x.useState(_()),C=x.useRef(null),[P,k]=x.useState(!1),E=x.useRef(void 0),T=x.useRef(!1),I=y||Yce,R=x.useRef({onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h});x.useEffect(()=>{v||(R.current={onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h})});let D=(r==null?void 0:r.id)||z2,O=Zce(D),W=(r==null?void 0:r.onLoadCallbackName)||W2,A=n.appearance||"always",$=x.useMemo(()=>({sitekey:a,action:n.action,cData:n.cData,theme:n.theme||"auto",language:n.language||"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:Jce(j),retry:n.retry||"auto","retry-interval":n.retryInterval||8e3,"refresh-expired":n.refreshExpired||"auto","refresh-timeout":n.refreshTimeout||"auto",execution:n.execution||"render",appearance:n.appearance||"always","feedback-enabled":n.feedbackEnabled||!0,callback:X=>{var U,J;T.current=!0,v?o==null||o(X):(J=(U=R.current).onSuccess)==null||J.call(U,X)},"error-callback":v?c:(...X)=>{var U,J;return(J=(U=R.current).onError)==null?void 0:J.call(U,...X)},"expired-callback":v?l:(...X)=>{var U,J;return(J=(U=R.current).onExpire)==null?void 0:J.call(U,...X)},"before-interactive-callback":v?u:(...X)=>{var U,J;return(J=(U=R.current).onBeforeInteractive)==null?void 0:J.call(U,...X)},"after-interactive-callback":v?d:(...X)=>{var U,J;return(J=(U=R.current).onAfterInteractive)==null?void 0:J.call(U,...X)},"unsupported-callback":v?f:(...X)=>{var U,J;return(J=(U=R.current).onUnsupported)==null?void 0:J.call(U,...X)},"timeout-callback":v?h:(...X)=>{var U,J;return(J=(U=R.current).onTimeout)==null?void 0:J.call(U,...X)}}),[n.action,n.appearance,n.cData,n.execution,n.language,n.refreshExpired,n.responseField,n.responseFieldName,n.retry,n.retryInterval,n.tabIndex,n.theme,n.feedbackEnabled,n.refreshTimeout,a,j,v,v?o:null,v?c:null,v?l:null,v?u:null,v?d:null,v?f:null,v?h:null]),Q=x.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return x.useEffect(function(){g&&!P&&Xce({onLoadCallbackName:W,scriptOptions:{...r,id:D}})},[g,P,r,D]),x.useEffect(function(){Qh!=="ready"&&tue(W).then(()=>k(!0)).catch(console.error)},[]),x.useEffect(function(){if(!C.current||!P)return;let X=!1;return(async()=>{if(X||!C.current)return;let U=window.turnstile.render(C.current,$);E.current=U,E.current&&(i==null||i(E.current))})(),()=>{X=!0,E.current&&(window.turnstile.remove(E.current),T.current=!1)}},[I,P,$]),x.useImperativeHandle(t,()=>{let{turnstile:X}=window;return{getResponse(){if(!(X!=null&&X.getResponse)||!E.current||!Q()){console.warn("Turnstile has not been loaded");return}return X.getResponse(E.current)},async getResponsePromise(U=3e4,J=100){return new Promise((z,ee)=>{let pe,te=async()=>{if(T.current&&window.turnstile&&E.current)try{let be=window.turnstile.getResponse(E.current);return pe&&clearTimeout(pe),be?z(be):ee(new Error("No response received"))}catch(be){return pe&&clearTimeout(pe),console.warn("Failed to get response",be),ee(new Error("Failed to get response"))}pe||(pe=setTimeout(()=>{pe&&clearTimeout(pe),ee(new Error("Timeout"))},U)),await new Promise(be=>setTimeout(be,J)),await te()};te()})},reset(){if(!(X!=null&&X.reset)||!E.current||!Q()){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&S(_l.invisible);try{T.current=!1,X.reset(E.current)}catch(U){console.warn(`Failed to reset Turnstile widget ${E}`,U)}},remove(){if(!(X!=null&&X.remove)||!E.current||!Q()){console.warn("Turnstile has not been loaded");return}S(_l.invisible),T.current=!1,X.remove(E.current),E.current=null},render(){if(!(X!=null&&X.render)||!C.current||!Q()||E.current){console.warn("Turnstile has not been loaded or container not found");return}let U=X.render(C.current,$);return E.current=U,E.current&&(i==null||i(E.current)),n.execution!=="execute"&&S(j?_l[j]:{}),U},execute(){if(n.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!(X!=null&&X.execute)||!C.current||!E.current||!Q()){console.warn("Turnstile has not been loaded or container not found");return}X.execute(C.current,$),S(j?_l[j]:{})},isExpired(){return!(X!=null&&X.isExpired)||!E.current||!Q()?(console.warn("Turnstile has not been loaded"),!1):X.isExpired(E.current)}}},[E,n.execution,j,$,C,Q,P,i]),x.useEffect(()=>{O&&!P&&window.turnstile&&k(!0)},[P,O]),x.useEffect(()=>{S(_())},[n.execution,j,A]),x.useEffect(()=>{!O||typeof p!="function"||p()},[O]),s.jsx(Gce,{ref:C,as:w,id:I,style:{...N,...m},...b})});K2.displayName="Turnstile";const rue=pa({email:pt().email("Please enter a valid email address"),password:pt().min(1,"Password is required")});function nue(){const[,e]=Ln(),{toast:t}=ht(),{signIn:r,isSupabaseConfigured:n,isLoading:a}=_f(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null),p=x.useRef(null);x.useEffect(()=>{fetch("/api/public-config").then(w=>w.json()).then(w=>{w.turnstileSiteKey&&h(w.turnstileSiteKey)}).catch(()=>{})},[]);const y=Ls({resolver:Fs(rue),defaultValues:{email:"",password:""}}),m=async w=>{var g;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(f&&!u){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}c(!0);try{const{error:v,requiresEmailVerification:b}=await r(w.email,w.password);v?(t(b?{title:"Email Verification Required",description:"Please check your inbox and verify your email address before signing in.",variant:"destructive"}:{title:"Login failed",description:v.message||"Invalid email or password",variant:"destructive"}),(g=p.current)==null||g.reset(),d(null)):(t({title:"Welcome back!",description:"You have successfully logged in."}),e("/"))}catch{t({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{c(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsx(se,{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx(ge,{href:"/",children:s.jsxs(M,{variant:"ghost",size:"sm",className:"gap-1","data-testid":"button-back",children:[s.jsx(Sn,{className:"w-4 h-4"}),"Back"]})}),s.jsx(ge,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})}),s.jsx("div",{className:"w-16"})]}),s.jsx(We,{className:"text-2xl font-bold",children:"Welcome Back"}),s.jsx(It,{children:"Sign in to your Quarterdeck account"})]}),s.jsxs(se,{children:[s.jsx(Bs,{...y,children:s.jsxs("form",{onSubmit:y.handleSubmit(m),className:"space-y-4",children:[s.jsx(et,{control:y.control,name:"email",render:({field:w})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email"}),s.jsx(Je,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...w})}),s.jsx(rt,{})]})}),s.jsx(et,{control:y.control,name:"password",render:({field:w})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:i?"text":"password",placeholder:"Enter your password","data-testid":"input-password",...w}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(Wi,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})}),s.jsx(rt,{})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ge,{href:"/forgot-password",className:"text-sm text-muted-foreground hover:underline","data-testid":"link-forgot-password",children:"Forgot password?"})}),f&&s.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:s.jsx(K2,{ref:p,siteKey:f,options:{theme:"dark"},onSuccess:w=>d(w),onError:()=>d(null),onExpire:()=>d(null)})}),s.jsx(M,{type:"submit",className:"w-full",disabled:l,"data-testid":"button-login",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),s.jsx("div",{className:"mt-6",children:s.jsx(SU,{mode:"signin"})}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),s.jsx(ge,{href:"/signup",className:"font-medium hover:underline","data-testid":"link-signup",children:"Sign up"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsx(Le,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),s.jsxs(se,{children:[s.jsxs(Pf,{variant:"destructive",children:[s.jsx(kn,{className:"h-4 w-4"}),s.jsx(Ef,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(ge,{href:"/",children:s.jsx(M,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}var r0="Checkbox",[sue]=En(r0),[aue,H2]=sue(r0);function iue(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=ps({prop:r,defaultProp:a??!1,onChange:c,caller:r0}),[y,m]=x.useState(null),[w,g]=x.useState(null),v=x.useRef(!1),b=y?!!o||!!y.closest("form"):!0,j={checked:h,disabled:i,setChecked:p,control:y,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:Ko(a)?!1:a,isFormControl:b,bubbleInput:w,setBubbleInput:g};return s.jsx(aue,{scope:t,...j,children:oue(f)?f(j):n})}var PU="CheckboxTrigger",EU=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=H2(PU,e),m=dt(a,d),w=x.useRef(c);return x.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const v=()=>f(w.current);return g.addEventListener("reset",v),()=>g.removeEventListener("reset",v)}},[i,f]),s.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Ko(c)?"mixed":c,"aria-required":u,"data-state":RU(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:Ne(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:Ne(r,g=>{f(v=>Ko(v)?!0:!v),y&&p&&(h.current=g.isPropagationStopped(),h.current||g.stopPropagation())})})});EU.displayName=PU;var G2=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(iue,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(EU,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(IU,{__scopeCheckbox:r})]})})});G2.displayName=r0;var AU="CheckboxIndicator",OU=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=H2(AU,r);return s.jsx(dn,{present:n||Ko(i.checked)||i.checked===!0,children:s.jsx(Me.span,{"data-state":RU(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});OU.displayName=AU;var TU="CheckboxBubbleInput",IU=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=H2(TU,e),y=dt(r,p),m=V2(i),w=Uk(n);x.useEffect(()=>{const v=h;if(!v)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,N=!a.current;if(m!==i&&_){const S=new Event("click",{bubbles:N});v.indeterminate=Ko(i),_.call(v,Ko(i)?!1:i),v.dispatchEvent(S)}},[h,m,i,a]);const g=x.useRef(Ko(i)?!1:i);return s.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});IU.displayName=TU;function oue(e){return typeof e=="function"}function Ko(e){return e==="indeterminate"}function RU(e){return Ko(e)?"indeterminate":e?"checked":"unchecked"}const MU=x.forwardRef(({className:e,...t},r)=>s.jsx(G2,{ref:r,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(OU,{className:we("flex items-center justify-center text-current"),children:s.jsx(wr,{className:"h-4 w-4"})})}));MU.displayName=G2.displayName;const lue=pa({email:pt().email("Please enter a valid email address"),password:pt().min(8,"Password must be at least 8 characters"),confirmPassword:pt(),firstName:pt().min(1,"First name is required"),lastName:pt().min(1,"Last name is required"),phone:pt().optional(),termsAccepted:C2().refine(e=>e===!0,{message:"You must accept the terms and conditions"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function cue(){const[,e]=Ln(),{toast:t}=ht(),{signUp:r,isSupabaseConfigured:n,isLoading:a}=_f(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(null),[p,y]=x.useState(null),m=x.useRef(null);x.useEffect(()=>{fetch("/api/public-config").then(v=>v.json()).then(v=>{v.turnstileSiteKey&&y(v.turnstileSiteKey)}).catch(()=>{})},[]);const w=Ls({resolver:Fs(lue),defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",termsAccepted:!1}}),g=async v=>{var b;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(p&&!f){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}d(!0);try{const{error:j}=await r(v.email,v.password,{firstName:v.firstName,lastName:v.lastName});j?(t({title:"Signup failed",description:j.message||"Failed to create account",variant:"destructive"}),(b=m.current)==null||b.reset(),h(null)):(t({title:"Account created!",description:"Please check your email to verify your account."}),e("/login"))}catch{t({title:"Signup failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsx(se,{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(ge,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Create Account"}),s.jsx(It,{children:"Join The Quarterdeck community"})]}),s.jsxs(se,{children:[s.jsx(Bs,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(g),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(et,{control:w.control,name:"firstName",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"First Name"}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"John","data-testid":"input-first-name",...v})}),s.jsx(rt,{})]})}),s.jsx(et,{control:w.control,name:"lastName",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Last Name"}),s.jsx(Je,{children:s.jsx(Y,{placeholder:"Doe","data-testid":"input-last-name",...v})}),s.jsx(rt,{})]})})]}),s.jsx(et,{control:w.control,name:"email",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email"}),s.jsx(Je,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...v})}),s.jsx(rt,{})]})}),s.jsx(et,{control:w.control,name:"phone",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone (Optional)"}),s.jsx(Je,{children:s.jsx(Y,{type:"tel",placeholder:"+92 300 1234567","data-testid":"input-phone",...v})}),s.jsx(rt,{})]})}),s.jsx(et,{control:w.control,name:"password",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...v}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(Wi,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})}),s.jsx(rt,{})]})}),s.jsx(et,{control:w.control,name:"confirmPassword",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Confirm Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...v}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?s.jsx(Wi,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})}),s.jsx(rt,{})]})}),s.jsx(et,{control:w.control,name:"termsAccepted",render:({field:v})=>s.jsxs(Qe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Je,{children:s.jsx(MU,{checked:v.value,onCheckedChange:v.onChange,"data-testid":"checkbox-terms"})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsxs(Xe,{className:"text-sm font-normal",children:["I agree to the"," ",s.jsx(ge,{href:"/terms",className:"underline hover:no-underline","data-testid":"link-terms",children:"Terms of Service"})," ","and"," ",s.jsx(ge,{href:"/privacy",className:"underline hover:no-underline","data-testid":"link-privacy",children:"Privacy Policy"})]}),s.jsx(rt,{})]})]})}),p&&s.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:s.jsx(K2,{ref:m,siteKey:p,options:{theme:"dark"},onSuccess:v=>h(v),onError:()=>h(null),onExpire:()=>h(null)})}),s.jsx(M,{type:"submit",className:"w-full",disabled:u,"data-testid":"button-signup",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})}),s.jsx("div",{className:"mt-6",children:s.jsx(SU,{mode:"signup"})}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),s.jsx(ge,{href:"/login",className:"font-medium hover:underline","data-testid":"link-login",children:"Sign in"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsx(Le,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),s.jsxs(se,{children:[s.jsxs(Pf,{variant:"destructive",children:[s.jsx(kn,{className:"h-4 w-4"}),s.jsx(Ef,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(ge,{href:"/",children:s.jsx(M,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}const uue=pa({email:pt().email("Please enter a valid email address")});function due(){const{toast:e}=ht(),{resetPassword:t,isSupabaseConfigured:r}=_f(),[n,a]=x.useState(!1),[i,o]=x.useState(!1),l=Ls({resolver:Fs(uue),defaultValues:{email:""}}),c=async u=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}o(!0);try{const{error:d}=await t(u.email);d?e({title:"Error",description:d.message||"Failed to send reset email",variant:"destructive"}):a(!0)}catch{e({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}};return r?n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(yn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Check Your Email"}),s.jsx(It,{children:"If an account exists with that email, we've sent password reset instructions."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"The link will expire in 60 minutes."}),s.jsxs("p",{className:"mt-2",children:["Didn't receive the email? Check your spam folder or"," ",s.jsx("button",{onClick:()=>a(!1),className:"font-medium underline hover:no-underline","data-testid":"button-try-again",children:"try again"})]})]}),s.jsx(ge,{href:"/login",children:s.jsxs(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:[s.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:s.jsx(xf,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Forgot Password?"}),s.jsx(It,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsxs(se,{children:[s.jsx(Bs,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[s.jsx(et,{control:l.control,name:"email",render:({field:u})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email"}),s.jsx(Je,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...u})}),s.jsx(rt,{})]})}),s.jsx(M,{type:"submit",className:"w-full",disabled:i,"data-testid":"button-send-reset",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(ge,{href:"/login",className:"text-sm text-muted-foreground hover:underline inline-flex items-center gap-1","data-testid":"link-back-to-login",children:[s.jsx(Sn,{className:"h-3 w-3"}),"Back to Sign In"]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsx(Le,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Service Unavailable"})}),s.jsxs(se,{children:[s.jsxs(Pf,{variant:"destructive",children:[s.jsx(kn,{className:"h-4 w-4"}),s.jsx(Ef,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(ge,{href:"/login",children:s.jsx(M,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}const fue=pa({password:pt().min(8,"Password must be at least 8 characters"),confirmPassword:pt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function hue(){Ln();const{toast:e}=ht(),{updatePassword:t,isSupabaseConfigured:r,isAuthenticated:n,isLoading:a}=_f(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[p,y]=x.useState(!0),m=Ls({resolver:Fs(fue),defaultValues:{password:"",confirmPassword:""}});x.useEffect(()=>{if(!a){const g=setTimeout(()=>{y(!1)},1e3);return()=>clearTimeout(g)}},[a]);const w=async g=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}h(!0);try{const{error:v}=await t(g.password);v?e({title:"Reset failed",description:v.message||"Failed to reset password",variant:"destructive"}):d(!0)}catch{e({title:"Reset failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{h(!1)}};return p||a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsxs(se,{className:"flex flex-col items-center justify-center py-8 gap-3",children:[s.jsx(Te,{className:"h-8 w-8 animate-spin text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying your session..."})]})})}):r?n?u?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(yn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Password Reset!"}),s.jsx(It,{children:"Your password has been successfully reset. You can now sign in with your new password."})]}),s.jsx(se,{children:s.jsx(ge,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-go-to-login",children:"Sign In"})})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(ge,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Reset Password"}),s.jsx(It,{children:"Enter your new password below"})]}),s.jsx(se,{children:s.jsx(Bs,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(w),className:"space-y-4",children:[s.jsx(et,{control:m.control,name:"password",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"New Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...g}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(Wi,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})}),s.jsx(rt,{})]})}),s.jsx(et,{control:m.control,name:"confirmPassword",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Confirm New Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...g}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?s.jsx(Wi,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})}),s.jsx(rt,{})]})}),s.jsx(M,{type:"submit",className:"w-full",disabled:f,"data-testid":"button-reset-password",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(kn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Session Expired"}),s.jsx(It,{children:"Your password reset link has expired or is invalid. Please request a new one."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsx(ge,{href:"/forgot-password",children:s.jsx(M,{className:"w-full","data-testid":"button-request-new-link",children:"Request New Reset Link"})}),s.jsx(ge,{href:"/login",children:s.jsx(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsx(Le,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Service Unavailable"})}),s.jsxs(se,{children:[s.jsxs(Pf,{variant:"destructive",children:[s.jsx(kn,{className:"h-4 w-4"}),s.jsx(Ef,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(ge,{href:"/login",children:s.jsx(M,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}function mue(){const[,e]=Ln(),{isAuthenticated:t,isLoading:r}=_f(),[n,a]=x.useState("checking");return x.useEffect(()=>{(async()=>{const o=window.location.hash;o&&o.includes("access_token"),r||(t?(a("verified"),setTimeout(()=>{e("/")},2e3)):a("pending"))})()},[t,r,e]),n==="checking"||r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Te,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),s.jsx(We,{className:"text-2xl font-bold",children:"Verifying Email"}),s.jsx(It,{children:"Please wait while we verify your email address..."})]})})}):n==="verified"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(yn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Email Verified!"}),s.jsx(It,{children:"Your email has been successfully verified. Redirecting you shortly..."})]}),s.jsx(se,{children:s.jsx(ge,{href:"/",children:s.jsx(M,{className:"w-full","data-testid":"button-go-home",children:"Go to Homepage"})})})]})}):n==="error"||!uL()?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(kn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Verification Failed"}),s.jsx(It,{children:"This verification link is invalid or has expired."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsx(ge,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})}),s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Need a new verification link? Sign up again or contact support."})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:s.jsx(xf,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Check Your Email"}),s.jsx(It,{children:"We've sent a verification link to your email address. Click the link in the email to verify your account."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"The link will expire in 24 hours."}),s.jsx("p",{className:"mt-2",children:"Didn't receive the email? Check your spam folder."})]}),s.jsx(ge,{href:"/login",children:s.jsx(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})})}function pue(){const[,e]=Ln(),[t,r]=x.useState("loading"),[n,a]=x.useState("");return x.useEffect(()=>{const o=setTimeout(async()=>{{r("error"),a("Authentication is not configured.");return}},100);return()=>clearTimeout(o)},[e]),t==="loading"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Te,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),s.jsx(We,{className:"text-2xl font-bold",children:"Processing"}),s.jsx(It,{children:"Please wait while we complete your request..."})]})})}):t==="success"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(yn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Success!"}),s.jsx(It,{children:n})]})})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(kn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Something Went Wrong"}),s.jsx(It,{children:n})]}),s.jsx(se,{className:"space-y-4",children:s.jsx(ge,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})})})]})})}var aT=1,gue=.9,vue=.8,xue=.17,oj=.1,lj=.999,yue=.9999,bue=.99,wue=/[\\\/_+.#"@\[\(\{&]/,jue=/[\\\/_+.#"@\[\(\{&]/g,Nue=/[\s-]/,$U=/[\s-]/g;function KN(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?aT:bue;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),u=r.indexOf(c,a),d=0,f,h,p,y;u>=0;)f=KN(e,t,r,n,u+1,i+1,o),f>d&&(u===a?f*=aT:wue.test(e.charAt(u-1))?(f*=vue,p=e.slice(a,u-1).match(jue),p&&a>0&&(f*=Math.pow(lj,p.length))):Nue.test(e.charAt(u-1))?(f*=gue,y=e.slice(a,u-1).match($U),y&&a>0&&(f*=Math.pow(lj,y.length))):(f*=xue,a>0&&(f*=Math.pow(lj,u-a))),e.charAt(u)!==t.charAt(i)&&(f*=yue)),(f<oj&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=KN(e,t,r,n,u+1,i+2,o),h*oj>f&&(f=h*oj)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function iT(e){return e.toLowerCase().replace($U," ")}function _ue(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,KN(e,t,iT(e),iT(t),0,0,{})}var lh='[cmdk-group=""]',cj='[cmdk-group-items=""]',Sue='[cmdk-group-heading=""]',DU='[cmdk-item=""]',oT=`${DU}:not([aria-disabled="true"])`,HN="cmdk-item-select",ku="data-value",kue=(e,t,r)=>_ue(e,t,r),LU=x.createContext(void 0),rg=()=>x.useContext(LU),FU=x.createContext(void 0),Q2=()=>x.useContext(FU),UU=x.createContext(void 0),BU=x.forwardRef((e,t)=>{let r=Cu(()=>{var U,J;return{search:"",value:(J=(U=e.value)!=null?U:e.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Cu(()=>new Set),a=Cu(()=>new Map),i=Cu(()=>new Map),o=Cu(()=>new Set),l=VU(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:p,loop:y,disablePointerSelection:m=!1,vimBindings:w=!0,...g}=e,v=Gr(),b=Gr(),j=Gr(),_=x.useRef(null),N=Due();Sc(()=>{if(d!==void 0){let U=d.trim();r.current.value=U,S.emit()}},[d]),Sc(()=>{N(6,I)},[]);let S=x.useMemo(()=>({subscribe:U=>(o.current.add(U),()=>o.current.delete(U)),snapshot:()=>r.current,setState:(U,J,z)=>{var ee,pe,te,be;if(!Object.is(r.current[U],J)){if(r.current[U]=J,U==="search")T(),k(),N(1,E);else if(U==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ae=document.getElementById(j);ae?ae.focus():(ee=document.getElementById(v))==null||ee.focus()}if(N(7,()=>{var ae;r.current.selectedItemId=(ae=R())==null?void 0:ae.id,S.emit()}),z||N(5,I),((pe=l.current)==null?void 0:pe.value)!==void 0){let ae=J??"";(be=(te=l.current).onValueChange)==null||be.call(te,ae);return}}S.emit()}},emit:()=>{o.current.forEach(U=>U())}}),[]),C=x.useMemo(()=>({value:(U,J,z)=>{var ee;J!==((ee=i.current.get(U))==null?void 0:ee.value)&&(i.current.set(U,{value:J,keywords:z}),r.current.filtered.items.set(U,P(J,z)),N(2,()=>{k(),S.emit()}))},item:(U,J)=>(n.current.add(U),J&&(a.current.has(J)?a.current.get(J).add(U):a.current.set(J,new Set([U]))),N(3,()=>{T(),k(),r.current.value||E(),S.emit()}),()=>{i.current.delete(U),n.current.delete(U),r.current.filtered.items.delete(U);let z=R();N(4,()=>{T(),(z==null?void 0:z.getAttribute("id"))===U&&E(),S.emit()})}),group:U=>(a.current.has(U)||a.current.set(U,new Set),()=>{i.current.delete(U),a.current.delete(U)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:j,labelId:b,listInnerRef:_}),[]);function P(U,J){var z,ee;let pe=(ee=(z=l.current)==null?void 0:z.filter)!=null?ee:kue;return U?pe(U,r.current.search,J):0}function k(){if(!r.current.search||l.current.shouldFilter===!1)return;let U=r.current.filtered.items,J=[];r.current.filtered.groups.forEach(ee=>{let pe=a.current.get(ee),te=0;pe.forEach(be=>{let ae=U.get(be);te=Math.max(ae,te)}),J.push([ee,te])});let z=_.current;D().sort((ee,pe)=>{var te,be;let ae=ee.getAttribute("id"),B=pe.getAttribute("id");return((te=U.get(B))!=null?te:0)-((be=U.get(ae))!=null?be:0)}).forEach(ee=>{let pe=ee.closest(cj);pe?pe.appendChild(ee.parentElement===pe?ee:ee.closest(`${cj} > *`)):z.appendChild(ee.parentElement===z?ee:ee.closest(`${cj} > *`))}),J.sort((ee,pe)=>pe[1]-ee[1]).forEach(ee=>{var pe;let te=(pe=_.current)==null?void 0:pe.querySelector(`${lh}[${ku}="${encodeURIComponent(ee[0])}"]`);te==null||te.parentElement.appendChild(te)})}function E(){let U=D().find(z=>z.getAttribute("aria-disabled")!=="true"),J=U==null?void 0:U.getAttribute(ku);S.setState("value",J||void 0)}function T(){var U,J,z,ee;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let pe=0;for(let te of n.current){let be=(J=(U=i.current.get(te))==null?void 0:U.value)!=null?J:"",ae=(ee=(z=i.current.get(te))==null?void 0:z.keywords)!=null?ee:[],B=P(be,ae);r.current.filtered.items.set(te,B),B>0&&pe++}for(let[te,be]of a.current)for(let ae of be)if(r.current.filtered.items.get(ae)>0){r.current.filtered.groups.add(te);break}r.current.filtered.count=pe}function I(){var U,J,z;let ee=R();ee&&(((U=ee.parentElement)==null?void 0:U.firstChild)===ee&&((z=(J=ee.closest(lh))==null?void 0:J.querySelector(Sue))==null||z.scrollIntoView({block:"nearest"})),ee.scrollIntoView({block:"nearest"}))}function R(){var U;return(U=_.current)==null?void 0:U.querySelector(`${DU}[aria-selected="true"]`)}function D(){var U;return Array.from(((U=_.current)==null?void 0:U.querySelectorAll(oT))||[])}function O(U){let J=D()[U];J&&S.setState("value",J.getAttribute(ku))}function W(U){var J;let z=R(),ee=D(),pe=ee.findIndex(be=>be===z),te=ee[pe+U];(J=l.current)!=null&&J.loop&&(te=pe+U<0?ee[ee.length-1]:pe+U===ee.length?ee[0]:ee[pe+U]),te&&S.setState("value",te.getAttribute(ku))}function A(U){let J=R(),z=J==null?void 0:J.closest(lh),ee;for(;z&&!ee;)z=U>0?Mue(z,lh):$ue(z,lh),ee=z==null?void 0:z.querySelector(oT);ee?S.setState("value",ee.getAttribute(ku)):W(U)}let $=()=>O(D().length-1),Q=U=>{U.preventDefault(),U.metaKey?$():U.altKey?A(1):W(1)},X=U=>{U.preventDefault(),U.metaKey?O(0):U.altKey?A(-1):W(-1)};return x.createElement(Me.div,{ref:t,tabIndex:-1,...g,"cmdk-root":"",onKeyDown:U=>{var J;(J=g.onKeyDown)==null||J.call(g,U);let z=U.nativeEvent.isComposing||U.keyCode===229;if(!(U.defaultPrevented||z))switch(U.key){case"n":case"j":{w&&U.ctrlKey&&Q(U);break}case"ArrowDown":{Q(U);break}case"p":case"k":{w&&U.ctrlKey&&X(U);break}case"ArrowUp":{X(U);break}case"Home":{U.preventDefault(),O(0);break}case"End":{U.preventDefault(),$();break}case"Enter":{U.preventDefault();let ee=R();if(ee){let pe=new Event(HN);ee.dispatchEvent(pe)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:Fue},c),n0(e,U=>x.createElement(FU.Provider,{value:S},x.createElement(LU.Provider,{value:C},U))))}),Cue=x.forwardRef((e,t)=>{var r,n;let a=Gr(),i=x.useRef(null),o=x.useContext(UU),l=rg(),c=VU(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Sc(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=qU(a,i,[e.value,e.children,i],e.keywords),f=Q2(),h=al(N=>N.value&&N.value===d.current),p=al(N=>u||l.filter()===!1?!0:N.search?N.filtered.items.get(a)>0:!0);x.useEffect(()=>{let N=i.current;if(!(!N||e.disabled))return N.addEventListener(HN,y),()=>N.removeEventListener(HN,y)},[p,e.onSelect,e.disabled]);function y(){var N,S;m(),(S=(N=c.current).onSelect)==null||S.call(N,d.current)}function m(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:w,value:g,onSelect:v,forceMount:b,keywords:j,..._}=e;return x.createElement(Me.div,{ref:Jn(i,t),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!h,"data-disabled":!!w,"data-selected":!!h,onPointerMove:w||l.getDisablePointerSelection()?void 0:m,onClick:w?void 0:y},e.children)}),Pue=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Gr(),l=x.useRef(null),c=x.useRef(null),u=Gr(),d=rg(),f=al(p=>a||d.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Sc(()=>d.group(o),[]),qU(o,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:o,forceMount:a}),[a]);return x.createElement(Me.div,{ref:Jn(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),n0(e,p=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(UU.Provider,{value:h},p))))}),Eue=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),i=al(o=>!o.search);return!r&&!i?null:x.createElement(Me.div,{ref:Jn(a,t),...n,"cmdk-separator":"",role:"separator"})}),Aue=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=Q2(),o=al(u=>u.search),l=al(u=>u.selectedItemId),c=rg();return x.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),x.createElement(Me.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Oue=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=x.useRef(null),o=x.useRef(null),l=al(u=>u.selectedItemId),c=rg();return x.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(Me.div,{ref:Jn(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},n0(e,u=>x.createElement("div",{ref:Jn(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Tue=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return x.createElement(O2,{open:r,onOpenChange:n},x.createElement(T2,{container:o},x.createElement(Hb,{"cmdk-overlay":"",className:a}),x.createElement(Gb,{"aria-label":e.label,"cmdk-dialog":"",className:i},x.createElement(BU,{ref:t,...l}))))}),Iue=x.forwardRef((e,t)=>al(r=>r.filtered.count===0)?x.createElement(Me.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Rue=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return x.createElement(Me.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},n0(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),vs=Object.assign(BU,{List:Oue,Item:Cue,Input:Aue,Group:Pue,Separator:Eue,Dialog:Tue,Empty:Iue,Loading:Rue});function Mue(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function $ue(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function VU(e){let t=x.useRef(e);return Sc(()=>{t.current=e}),t}var Sc=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Cu(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function al(e){let t=Q2(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function qU(e,t,r,n=[]){let a=x.useRef(),i=rg();return Sc(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(ku,l),a.current=l}),a}var Due=()=>{let[e,t]=x.useState(),r=Cu(()=>new Map);return Sc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function Lue(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function n0({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(Lue(t),{ref:t.ref},r(t.props.children)):r(t)}var Fue={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const zU=x.forwardRef(({className:e,...t},r)=>s.jsx(vs,{ref:r,className:we("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));zU.displayName=vs.displayName;const Uue=({children:e,...t})=>s.jsx(Pt,{...t,children:s.jsx(St,{className:"overflow-hidden p-0 shadow-lg",children:s.jsx(zU,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),WU=x.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Dp,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(vs.Input,{ref:r,className:we("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));WU.displayName=vs.Input.displayName;const KU=x.forwardRef(({className:e,...t},r)=>s.jsx(vs.List,{ref:r,className:we("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));KU.displayName=vs.List.displayName;const HU=x.forwardRef((e,t)=>s.jsx(vs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));HU.displayName=vs.Empty.displayName;const Oh=x.forwardRef(({className:e,...t},r)=>s.jsx(vs.Group,{ref:r,className:we("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Oh.displayName=vs.Group.displayName;const Bue=x.forwardRef(({className:e,...t},r)=>s.jsx(vs.Separator,{ref:r,className:we("-mx-1 h-px bg-border",e),...t}));Bue.displayName=vs.Separator.displayName;const Th=x.forwardRef(({className:e,...t},r)=>s.jsx(vs.Item,{ref:r,className:we("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));Th.displayName=vs.Item.displayName;const Vue=3e4,lT=["mousemove","keydown","click","scroll","touchstart"],que=5e3;function zue(){const[,e]=Ln(),{toast:t}=ht(),[r,n]=x.useState(null),a=x.useRef(Date.now()),i=x.useRef(null),o=x.useRef(!1),l=x.useCallback((d,f)=>{i.current&&clearInterval(i.current),t({variant:"destructive",title:"Session Expired",description:d||"Please log in again to continue."}),setTimeout(()=>{e("/login")},1500)},[t,e]),c=x.useCallback(async()=>{try{const f=await(await xe("POST","/api/admin/heartbeat")).json();f.success&&(n({sessionRemainingMs:f.sessionRemainingMs,inactivityTimeoutMs:f.inactivityTimeoutMs,reauthTimeoutMs:f.reauthTimeoutMs,isActive:!0}),o.current=!1)}catch(d){(d==null?void 0:d.code)==="ADMIN_REAUTH_REQUIRED"||(d==null?void 0:d.code)==="ADMIN_INACTIVITY_TIMEOUT"?l(d.reason||d.message,d.code):((d==null?void 0:d.status)===401||(d==null?void 0:d.status)===403)&&l("Your session has expired. Please log in again.","SESSION_EXPIRED")}},[l]),u=x.useCallback(()=>{const d=Date.now();d-a.current>que&&(a.current=d,c())},[c]);return x.useEffect(()=>(c(),i.current=setInterval(c,Vue),lT.forEach(d=>{window.addEventListener(d,u,{passive:!0})}),()=>{i.current&&clearInterval(i.current),lT.forEach(d=>{window.removeEventListener(d,u)})}),[c,u]),x.useEffect(()=>{if(r&&r.sessionRemainingMs<6e4&&!o.current){o.current=!0;const d=Math.ceil(r.sessionRemainingMs/6e4);t({variant:"default",title:"Session Expiring Soon",description:`Your admin session will expire in ${d} minute(s). You will need to log in again.`})}},[r,t]),{sessionState:r,sendHeartbeat:c}}const cT={USER:0,EDITOR:1,ADMIN:2,SUPER_ADMIN:3};function uT(e,t){return cT[e]>=cT[t]}function Wue(e){return[{path:e,label:"Dashboard",icon:vG,minRole:"EDITOR"},{path:`${e}/bookings`,label:"Bookings",icon:Xo,minRole:"EDITOR"},{path:`${e}/members`,label:"Members",icon:yr,minRole:"EDITOR"},{path:`${e}/membership-applications`,label:"Membership Applications",icon:cG,minRole:"EDITOR"},{path:`${e}/certifications`,label:"Certifications",icon:ai,minRole:"EDITOR"},{path:`${e}/user-management`,label:"User Roles",icon:Pd,minRole:"SUPER_ADMIN"},{path:`${e}/branding`,label:"Branding & Nav",icon:PG,minRole:"ADMIN"},{path:`${e}/homepage`,label:"Site Content",icon:Ak,minRole:"ADMIN"},{path:`${e}/coming-soon`,label:"Coming Soon",icon:Ht,minRole:"ADMIN"},{path:`${e}/venues`,label:"Venues & Locations",icon:gs,minRole:"ADMIN"},{path:`${e}/facilities`,label:"Facilities",icon:un,minRole:"ADMIN"},{path:`${e}/comparison-features`,label:"Comparison Features",icon:Q5,minRole:"ADMIN"},{path:`${e}/member-benefits`,label:"Member Benefits",icon:ub,minRole:"ADMIN"},{path:`${e}/blogs`,label:"Blog / News",icon:dG,minRole:"ADMIN"},{path:`${e}/testimonials`,label:"Testimonials",icon:bG,minRole:"ADMIN"},{path:`${e}/roadmap`,label:"Construction Status",icon:H5,minRole:"ADMIN"},{path:`${e}/events`,label:"Events & Academies",icon:mr,minRole:"ADMIN"},{path:`${e}/pricing`,label:"Pricing Tiers",icon:eN,minRole:"ADMIN"},{path:`${e}/announcements`,label:"Announcements",icon:pc,minRole:"ADMIN"},{path:`${e}/careers`,label:"Careers",icon:bm,minRole:"ADMIN"},{path:`${e}/rules`,label:"Rules & Safety",icon:ms,minRole:"ADMIN"},{path:`${e}/faq`,label:"FAQ",icon:Ts,minRole:"ADMIN"},{path:`${e}/policies`,label:"Privacy & Terms",icon:Pd,minRole:"ADMIN"},{path:`${e}/gallery`,label:"Gallery",icon:ra,minRole:"ADMIN"},{path:`${e}/site-images`,label:"Site Images",icon:ra,minRole:"ADMIN"},{path:`${e}/hero-sections`,label:"Hero Sections",icon:ra,minRole:"ADMIN"},{path:`${e}/ctas`,label:"CTAs",icon:_G,minRole:"ADMIN"},{path:`${e}/site-settings`,label:"Site Settings",icon:Nm,minRole:"ADMIN"}]}function nt({children:e,title:t}){var j,_;const[r,n]=Ln(),[a,i]=x.useState(!1),[o,l]=x.useState(!1),{adminPath:c}=Vp();zue();const u=`/${c}`,d=x.useMemo(()=>Wue(u),[u]),{data:f,isLoading:h}=de({queryKey:["/api/auth/user"]}),{data:p}=de({queryKey:["/api/admin/users"]}),{data:y}=de({queryKey:["/api/admin/bookings"]}),{data:m}=de({queryKey:["/api/admin/facilities"]});x.useEffect(()=>{const N=S=>{S.key==="k"&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),l(C=>!C))};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[]);const w=x.useCallback(N=>{l(!1),n(N)},[n]);if(h)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const g=f==null?void 0:f.role,v=g&&uT(g,"EDITOR");if(!f||!v)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"You need staff privileges to access this page."}),s.jsx(ge,{href:"/",children:s.jsxs(M,{children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"})," Return to Home"]})})]})});const b=d.filter(N=>uT(g,N.minRole));return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(M,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 lg:hidden",onClick:()=>i(!a),"data-testid":"button-mobile-menu",children:a?s.jsx(Ki,{className:"h-5 w-5"}):s.jsx(Y5,{className:"h-5 w-5"})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),s.jsx("aside",{className:`
        fixed top-0 left-0 z-40 h-screen w-64 bg-card border-r transition-transform duration-300
        lg:translate-x-0
        ${a?"translate-x-0":"-translate-x-full"}
      `,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs(ge,{href:"/",className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-[#2a4060] flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"Q"})}),s.jsx("span",{className:"font-semibold",children:"Quarterdeck Admin"})]})}),s.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:b.map(N=>{const S=N.icon,C=r===N.path||N.path!=="/admin"&&r.startsWith(N.path);return s.jsx(ge,{href:N.path,children:s.jsxs("div",{className:`
                      flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer
                      ${C?"bg-[#2a4060] text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                    `,onClick:()=>i(!1),"data-testid":`nav-${N.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(S,{className:"w-4 h-4"}),N.label]})},N.path)})}),s.jsx("div",{className:"p-4 border-t",children:s.jsx(ge,{href:"/",children:s.jsxs(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-site",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"})," Back to Site"]})})})]})}),s.jsxs("main",{className:"lg:ml-64",children:[s.jsx("header",{className:"sticky top-0 z-30 bg-background border-b px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold ml-12 lg:ml-0","data-testid":"text-admin-title",children:t}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(M,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:w-64 lg:w-80",onClick:()=>l(!0),"data-testid":"button-global-search",children:[s.jsx(Dp,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Search bookings, users, facilities..."}),s.jsx("span",{className:"inline sm:hidden",children:"Search..."}),s.jsxs("kbd",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[s.jsx("span",{className:"text-xs",children:"Ctrl"}),"K"]})]}),s.jsxs("span",{className:"text-sm text-muted-foreground hidden md:block",children:[f.firstName," ",f.lastName]}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:f.profileImageUrl?s.jsx("img",{src:f.profileImageUrl,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):s.jsxs("span",{className:"text-xs font-medium",children:[(j=f.firstName)==null?void 0:j[0],(_=f.lastName)==null?void 0:_[0]]})})]})]})}),s.jsxs(Uue,{open:o,onOpenChange:l,children:[s.jsx(WU,{placeholder:"Search bookings, users, facilities...","data-testid":"input-global-search"}),s.jsxs(KU,{children:[s.jsx(HU,{children:"No results found."}),s.jsx(Oh,{heading:"Navigation",children:b.map(N=>s.jsxs(Th,{value:N.label,onSelect:()=>w(N.path),"data-testid":`search-nav-${N.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(N.icon,{className:"mr-2 h-4 w-4"}),N.label]},N.path))}),m&&m.length>0&&s.jsx(Oh,{heading:"Facilities",children:m.slice(0,5).map(N=>s.jsxs(Th,{value:`facility ${N.name} ${N.slug}`,onSelect:()=>w("/admin/facilities"),"data-testid":`search-facility-${N.id}`,children:[s.jsx(un,{className:"mr-2 h-4 w-4"}),N.name]},N.id))}),p&&p.length>0&&s.jsx(Oh,{heading:"Users",children:p.slice(0,5).map(N=>s.jsxs(Th,{value:`user ${N.firstName} ${N.lastName} ${N.email}`,onSelect:()=>w("/admin/bookings"),"data-testid":`search-user-${N.id}`,children:[s.jsx(yr,{className:"mr-2 h-4 w-4"}),N.firstName," ",N.lastName," - ",N.email]},N.id))}),y&&y.length>0&&s.jsx(Oh,{heading:"Recent Bookings",children:y.slice(0,5).map(N=>{const S=m==null?void 0:m.find(C=>C.id===N.facilityId);return s.jsxs(Th,{value:`booking ${N.id} ${S==null?void 0:S.name} ${N.date}`,onSelect:()=>w("/admin/bookings"),"data-testid":`search-booking-${N.id}`,children:[s.jsx(mr,{className:"mr-2 h-4 w-4"}),S==null?void 0:S.name," - ",N.date," at ",N.startTime]},N.id)})})]})]}),s.jsx("div",{className:"p-6",children:e})]})]})}const Mr=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:we("w-full caption-bottom text-sm",e),...t})}));Mr.displayName="Table";const $r=x.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:we("[&_tr]:border-b",e),...t}));$r.displayName="TableHeader";const Dr=x.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:we("[&_tr:last-child]:border-0",e),...t}));Dr.displayName="TableBody";const Kue=x.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Kue.displayName="TableFooter";const tt=x.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));tt.displayName="TableRow";const ue=x.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ue.displayName="TableHead";const ie=x.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ie.displayName="TableCell";const Hue=x.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:we("mt-4 text-sm text-muted-foreground",e),...t}));Hue.displayName="TableCaption";var Gue=Array.isArray,xs=Gue,Que=typeof mg=="object"&&mg&&mg.Object===Object&&mg,GU=Que,Yue=GU,Xue=typeof self=="object"&&self&&self.Object===Object&&self,Jue=Yue||Xue||Function("return this")(),pi=Jue,Zue=pi,ede=Zue.Symbol,ng=ede,dT=ng,QU=Object.prototype,tde=QU.hasOwnProperty,rde=QU.toString,ch=dT?dT.toStringTag:void 0;function nde(e){var t=tde.call(e,ch),r=e[ch];try{e[ch]=void 0;var n=!0}catch{}var a=rde.call(e);return n&&(t?e[ch]=r:delete e[ch]),a}var sde=nde,ade=Object.prototype,ide=ade.toString;function ode(e){return ide.call(e)}var lde=ode,fT=ng,cde=sde,ude=lde,dde="[object Null]",fde="[object Undefined]",hT=fT?fT.toStringTag:void 0;function hde(e){return e==null?e===void 0?fde:dde:hT&&hT in Object(e)?cde(e):ude(e)}var no=hde;function mde(e){return e!=null&&typeof e=="object"}var so=mde,pde=no,gde=so,vde="[object Symbol]";function xde(e){return typeof e=="symbol"||gde(e)&&pde(e)==vde}var Of=xde,yde=xs,bde=Of,wde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jde=/^\w*$/;function Nde(e,t){if(yde(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||bde(e)?!0:jde.test(e)||!wde.test(e)||t!=null&&e in Object(t)}var Y2=Nde;function _de(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ml=_de;const Tf=Gt(ml);var Sde=no,kde=ml,Cde="[object AsyncFunction]",Pde="[object Function]",Ede="[object GeneratorFunction]",Ade="[object Proxy]";function Ode(e){if(!kde(e))return!1;var t=Sde(e);return t==Pde||t==Ede||t==Cde||t==Ade}var X2=Ode;const ft=Gt(X2);var Tde=pi,Ide=Tde["__core-js_shared__"],Rde=Ide,uj=Rde,mT=function(){var e=/[^.]+$/.exec(uj&&uj.keys&&uj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Mde(e){return!!mT&&mT in e}var $de=Mde,Dde=Function.prototype,Lde=Dde.toString;function Fde(e){if(e!=null){try{return Lde.call(e)}catch{}try{return e+""}catch{}}return""}var YU=Fde,Ude=X2,Bde=$de,Vde=ml,qde=YU,zde=/[\\^$.*+?()[\]{}|]/g,Wde=/^\[object .+?Constructor\]$/,Kde=Function.prototype,Hde=Object.prototype,Gde=Kde.toString,Qde=Hde.hasOwnProperty,Yde=RegExp("^"+Gde.call(Qde).replace(zde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xde(e){if(!Vde(e)||Bde(e))return!1;var t=Ude(e)?Yde:Wde;return t.test(qde(e))}var Jde=Xde;function Zde(e,t){return e==null?void 0:e[t]}var efe=Zde,tfe=Jde,rfe=efe;function nfe(e,t){var r=rfe(e,t);return tfe(r)?r:void 0}var Fc=nfe,sfe=Fc,afe=sfe(Object,"create"),s0=afe,pT=s0;function ife(){this.__data__=pT?pT(null):{},this.size=0}var ofe=ife;function lfe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var cfe=lfe,ufe=s0,dfe="__lodash_hash_undefined__",ffe=Object.prototype,hfe=ffe.hasOwnProperty;function mfe(e){var t=this.__data__;if(ufe){var r=t[e];return r===dfe?void 0:r}return hfe.call(t,e)?t[e]:void 0}var pfe=mfe,gfe=s0,vfe=Object.prototype,xfe=vfe.hasOwnProperty;function yfe(e){var t=this.__data__;return gfe?t[e]!==void 0:xfe.call(t,e)}var bfe=yfe,wfe=s0,jfe="__lodash_hash_undefined__";function Nfe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=wfe&&t===void 0?jfe:t,this}var _fe=Nfe,Sfe=ofe,kfe=cfe,Cfe=pfe,Pfe=bfe,Efe=_fe;function If(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}If.prototype.clear=Sfe;If.prototype.delete=kfe;If.prototype.get=Cfe;If.prototype.has=Pfe;If.prototype.set=Efe;var Afe=If;function Ofe(){this.__data__=[],this.size=0}var Tfe=Ofe;function Ife(e,t){return e===t||e!==e&&t!==t}var J2=Ife,Rfe=J2;function Mfe(e,t){for(var r=e.length;r--;)if(Rfe(e[r][0],t))return r;return-1}var a0=Mfe,$fe=a0,Dfe=Array.prototype,Lfe=Dfe.splice;function Ffe(e){var t=this.__data__,r=$fe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Lfe.call(t,r,1),--this.size,!0}var Ufe=Ffe,Bfe=a0;function Vfe(e){var t=this.__data__,r=Bfe(t,e);return r<0?void 0:t[r][1]}var qfe=Vfe,zfe=a0;function Wfe(e){return zfe(this.__data__,e)>-1}var Kfe=Wfe,Hfe=a0;function Gfe(e,t){var r=this.__data__,n=Hfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Qfe=Gfe,Yfe=Tfe,Xfe=Ufe,Jfe=qfe,Zfe=Kfe,ehe=Qfe;function Rf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Rf.prototype.clear=Yfe;Rf.prototype.delete=Xfe;Rf.prototype.get=Jfe;Rf.prototype.has=Zfe;Rf.prototype.set=ehe;var i0=Rf,the=Fc,rhe=pi,nhe=the(rhe,"Map"),Z2=nhe,gT=Afe,she=i0,ahe=Z2;function ihe(){this.size=0,this.__data__={hash:new gT,map:new(ahe||she),string:new gT}}var ohe=ihe;function lhe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var che=lhe,uhe=che;function dhe(e,t){var r=e.__data__;return uhe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var o0=dhe,fhe=o0;function hhe(e){var t=fhe(this,e).delete(e);return this.size-=t?1:0,t}var mhe=hhe,phe=o0;function ghe(e){return phe(this,e).get(e)}var vhe=ghe,xhe=o0;function yhe(e){return xhe(this,e).has(e)}var bhe=yhe,whe=o0;function jhe(e,t){var r=whe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Nhe=jhe,_he=ohe,She=mhe,khe=vhe,Che=bhe,Phe=Nhe;function Mf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Mf.prototype.clear=_he;Mf.prototype.delete=She;Mf.prototype.get=khe;Mf.prototype.has=Che;Mf.prototype.set=Phe;var eC=Mf,XU=eC,Ehe="Expected a function";function tC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ehe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(tC.Cache||XU),r}tC.Cache=XU;var JU=tC;const Ahe=Gt(JU);var Ohe=JU,The=500;function Ihe(e){var t=Ohe(e,function(n){return r.size===The&&r.clear(),n}),r=t.cache;return t}var Rhe=Ihe,Mhe=Rhe,$he=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dhe=/\\(\\)?/g,Lhe=Mhe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($he,function(r,n,a,i){t.push(a?i.replace(Dhe,"$1"):n||r)}),t}),Fhe=Lhe;function Uhe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var rC=Uhe,vT=ng,Bhe=rC,Vhe=xs,qhe=Of,xT=vT?vT.prototype:void 0,yT=xT?xT.toString:void 0;function ZU(e){if(typeof e=="string")return e;if(Vhe(e))return Bhe(e,ZU)+"";if(qhe(e))return yT?yT.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var zhe=ZU,Whe=zhe;function Khe(e){return e==null?"":Whe(e)}var eB=Khe,Hhe=xs,Ghe=Y2,Qhe=Fhe,Yhe=eB;function Xhe(e,t){return Hhe(e)?e:Ghe(e,t)?[e]:Qhe(Yhe(e))}var tB=Xhe,Jhe=Of;function Zhe(e){if(typeof e=="string"||Jhe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var l0=Zhe,eme=tB,tme=l0;function rme(e,t){t=eme(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[tme(t[r++])];return r&&r==n?e:void 0}var nC=rme,nme=nC;function sme(e,t,r){var n=e==null?void 0:nme(e,t);return n===void 0?r:n}var rB=sme;const Ms=Gt(rB);function ame(e){return e==null}var ime=ame;const Ct=Gt(ime);var ome=no,lme=xs,cme=so,ume="[object String]";function dme(e){return typeof e=="string"||!lme(e)&&cme(e)&&ome(e)==ume}var fme=dme;const kc=Gt(fme);var nB={exports:{}},rr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=Symbol.for("react.element"),aC=Symbol.for("react.portal"),c0=Symbol.for("react.fragment"),u0=Symbol.for("react.strict_mode"),d0=Symbol.for("react.profiler"),f0=Symbol.for("react.provider"),h0=Symbol.for("react.context"),hme=Symbol.for("react.server_context"),m0=Symbol.for("react.forward_ref"),p0=Symbol.for("react.suspense"),g0=Symbol.for("react.suspense_list"),v0=Symbol.for("react.memo"),x0=Symbol.for("react.lazy"),mme=Symbol.for("react.offscreen"),sB;sB=Symbol.for("react.module.reference");function ga(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sC:switch(e=e.type,e){case c0:case d0:case u0:case p0:case g0:return e;default:switch(e=e&&e.$$typeof,e){case hme:case h0:case m0:case x0:case v0:case f0:return e;default:return t}}case aC:return t}}}rr.ContextConsumer=h0;rr.ContextProvider=f0;rr.Element=sC;rr.ForwardRef=m0;rr.Fragment=c0;rr.Lazy=x0;rr.Memo=v0;rr.Portal=aC;rr.Profiler=d0;rr.StrictMode=u0;rr.Suspense=p0;rr.SuspenseList=g0;rr.isAsyncMode=function(){return!1};rr.isConcurrentMode=function(){return!1};rr.isContextConsumer=function(e){return ga(e)===h0};rr.isContextProvider=function(e){return ga(e)===f0};rr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sC};rr.isForwardRef=function(e){return ga(e)===m0};rr.isFragment=function(e){return ga(e)===c0};rr.isLazy=function(e){return ga(e)===x0};rr.isMemo=function(e){return ga(e)===v0};rr.isPortal=function(e){return ga(e)===aC};rr.isProfiler=function(e){return ga(e)===d0};rr.isStrictMode=function(e){return ga(e)===u0};rr.isSuspense=function(e){return ga(e)===p0};rr.isSuspenseList=function(e){return ga(e)===g0};rr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===c0||e===d0||e===u0||e===p0||e===g0||e===mme||typeof e=="object"&&e!==null&&(e.$$typeof===x0||e.$$typeof===v0||e.$$typeof===f0||e.$$typeof===h0||e.$$typeof===m0||e.$$typeof===sB||e.getModuleId!==void 0)};rr.typeOf=ga;nB.exports=rr;var pme=nB.exports,gme=no,vme=so,xme="[object Number]";function yme(e){return typeof e=="number"||vme(e)&&gme(e)==xme}var aB=yme;const bme=Gt(aB);var wme=aB;function jme(e){return wme(e)&&e!=+e}var Nme=jme;const sg=Gt(Nme);var Hn=function(t){return t===0?0:t>0?1:-1},zl=function(t){return kc(t)&&t.indexOf("%")===t.length-1},Pe=function(t){return bme(t)&&!sg(t)},_me=function(t){return Ct(t)},ln=function(t){return Pe(t)||kc(t)},Sme=0,ag=function(t){var r=++Sme;return"".concat(t||"").concat(r)},Gn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&!kc(t))return n;var i;if(zl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return sg(i)&&(i=n),a&&i>r&&(i=r),i},No=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},kme=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},xo=function(t,r){return Pe(t)&&Pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function GN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ms(n,t))===r})}var Cme=function(t,r){return Pe(t)&&Pe(r)?t-r:kc(t)&&kc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function sd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function QN(e){"@babel/helpers - typeof";return QN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QN(e)}var Pme=["viewBox","children"],Eme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bT=["points","pathLength"],dj={svg:Pme,polygon:bT,polyline:bT},iC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Tf(n))return null;var a={};return Object.keys(n).forEach(function(i){iC.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Ame=function(t,r,n){return function(a){return t(r,n,a),null}},Cc=function(t,r,n){if(!Tf(t)||QN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];iC.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Ame(o,r,n))}),a},Ome=["children"],Tme=["children"];function wT(e,t){if(e==null)return{};var r=Ime(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ime(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Li=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},NT=null,fj=null,oC=function e(t){if(t===NT&&Array.isArray(fj))return fj;var r=[];return x.Children.forEach(t,function(n){Ct(n)||(pme.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),fj=r,NT=t,r};function aa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Li(a)}):n=[Li(t)],oC(e).forEach(function(a){var i=Ms(a,"type.displayName")||Ms(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ns(e,t){var r=aa(e,t);return r&&r[0]}var _T=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Pe(n)||n<=0||!Pe(a)||a<=0)},Rme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Mme=function(t){return t&&t.type&&kc(t.type)&&Rme.indexOf(t.type)>=0},$me=function(t,r,n,a){var i,o=(i=dj==null?void 0:dj[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ft(t)&&(a&&o.includes(r)||Eme.includes(r))||n&&iC.includes(r)},ut=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Tf(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;$me((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},YN=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ST(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!ST(i,o))return!1}return!0},ST=function(t,r){if(Ct(t)&&Ct(r))return!0;if(!Ct(t)&&!Ct(r)){var n=t.props||{},a=n.children,i=wT(n,Ome),o=r.props||{},l=o.children,c=wT(o,Tme);return a&&l?sd(i,c)&&YN(a,l):!a&&!l?sd(i,c):!1}return!1},kT=function(t,r){var n=[],a={};return oC(t).forEach(function(i,o){if(Mme(i))n.push(i);else if(i){var l=Li(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},Dme=function(t){var r=t&&t.type;return r&&jT[r]?jT[r]:null},Lme=function(t,r){return oC(r).indexOf(t)},Fme=["children","width","height","viewBox","className","style","title","desc"];function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XN.apply(this,arguments)}function Ume(e,t){if(e==null)return{};var r=Bme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Ume(e,Fme),d=a||{width:r,height:n,x:0,y:0},f=xt("recharts-surface",i);return F.createElement("svg",XN({},ut(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),F.createElement("title",null,l),F.createElement("desc",null,c),t)}var Vme=["children","className"];function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZN.apply(this,arguments)}function qme(e,t){if(e==null)return{};var r=zme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xt=F.forwardRef(function(e,t){var r=e.children,n=e.className,a=qme(e,Vme),i=xt("recharts-layer",n);return F.createElement("g",ZN({className:i},ut(a,!0),{ref:t}),r)}),Da=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Wme(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Kme=Wme,Hme=Kme;function Gme(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Hme(e,t,r)}var Qme=Gme,Yme="\\ud800-\\udfff",Xme="\\u0300-\\u036f",Jme="\\ufe20-\\ufe2f",Zme="\\u20d0-\\u20ff",epe=Xme+Jme+Zme,tpe="\\ufe0e\\ufe0f",rpe="\\u200d",npe=RegExp("["+rpe+Yme+epe+tpe+"]");function spe(e){return npe.test(e)}var iB=spe;function ape(e){return e.split("")}var ipe=ape,oB="\\ud800-\\udfff",ope="\\u0300-\\u036f",lpe="\\ufe20-\\ufe2f",cpe="\\u20d0-\\u20ff",upe=ope+lpe+cpe,dpe="\\ufe0e\\ufe0f",fpe="["+oB+"]",e_="["+upe+"]",t_="\\ud83c[\\udffb-\\udfff]",hpe="(?:"+e_+"|"+t_+")",lB="[^"+oB+"]",cB="(?:\\ud83c[\\udde6-\\uddff]){2}",uB="[\\ud800-\\udbff][\\udc00-\\udfff]",mpe="\\u200d",dB=hpe+"?",fB="["+dpe+"]?",ppe="(?:"+mpe+"(?:"+[lB,cB,uB].join("|")+")"+fB+dB+")*",gpe=fB+dB+ppe,vpe="(?:"+[lB+e_+"?",e_,cB,uB,fpe].join("|")+")",xpe=RegExp(t_+"(?="+t_+")|"+vpe+gpe,"g");function ype(e){return e.match(xpe)||[]}var bpe=ype,wpe=ipe,jpe=iB,Npe=bpe;function _pe(e){return jpe(e)?Npe(e):wpe(e)}var Spe=_pe,kpe=Qme,Cpe=iB,Ppe=Spe,Epe=eB;function Ape(e){return function(t){t=Epe(t);var r=Cpe(t)?Ppe(t):void 0,n=r?r[0]:t.charAt(0),a=r?kpe(r,1).join(""):t.slice(1);return n[e]()+a}}var Ope=Ape,Tpe=Ope,Ipe=Tpe("toUpperCase"),Rpe=Ipe;const y0=Gt(Rpe);function ur(e){return function(){return e}}const hB=Math.cos,Vx=Math.sin,za=Math.sqrt,qx=Math.PI,b0=2*qx,r_=Math.PI,n_=2*r_,Tl=1e-6,Mpe=n_-Tl;function mB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $pe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mB;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Dpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mB:$pe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Tl)if(!(Math.abs(f*c-u*d)>Tl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=a-l,m=c*c+u*u,w=p*p+y*y,g=Math.sqrt(m),v=Math.sqrt(h),b=i*Math.tan((r_-Math.acos((m+h-w)/(2*g*v)))/2),j=b/v,_=b/g;Math.abs(j-1)>Tl&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*y)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Tl||Math.abs(this._y1-d)>Tl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%n_+n_),h>Mpe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Tl&&this._append`A${n},${n},0,${+(h>=r_)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Dpe(t)}function cC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pB(e){this._context=e}pB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function w0(e){return new pB(e)}function gB(e){return e[0]}function vB(e){return e[1]}function xB(e,t){var r=ur(!0),n=null,a=w0,i=null,o=lC(l);e=typeof e=="function"?e:e===void 0?gB:ur(e),t=typeof t=="function"?t:t===void 0?vB:ur(t);function l(c){var u,d=(c=cC(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ur(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ur(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ur(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Jg(e,t,r){var n=null,a=ur(!0),i=null,o=w0,l=null,c=lC(u);e=typeof e=="function"?e:e===void 0?gB:ur(+e),t=typeof t=="function"?t:ur(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?vB:ur(+r);function u(f){var h,p,y,m=(f=cC(f)).length,w,g=!1,v,b=new Array(m),j=new Array(m);for(i==null&&(l=o(v=c())),h=0;h<=m;++h){if(!(h<m&&a(w=f[h],h,f))===g)if(g=!g)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(b[y],j[y]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):b[h],r?+r(w,h,f):j[h]))}if(v)return l=null,v+""||null}function d(){return xB().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ur(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ur(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ur(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ur(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ur(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ur(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ur(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class yB{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Lpe(e){return new yB(e,!0)}function Fpe(e){return new yB(e,!1)}const uC={draw(e,t){const r=za(t/qx);e.moveTo(r,0),e.arc(0,0,r,0,b0)}},Upe={draw(e,t){const r=za(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},bB=za(1/3),Bpe=bB*2,Vpe={draw(e,t){const r=za(t/Bpe),n=r*bB;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},qpe={draw(e,t){const r=za(t),n=-r/2;e.rect(n,n,r,r)}},zpe=.8908130915292852,wB=Vx(qx/10)/Vx(7*qx/10),Wpe=Vx(b0/10)*wB,Kpe=-hB(b0/10)*wB,Hpe={draw(e,t){const r=za(t*zpe),n=Wpe*r,a=Kpe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=b0*i/5,l=hB(o),c=Vx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},hj=za(3),Gpe={draw(e,t){const r=-za(t/(hj*3));e.moveTo(0,r*2),e.lineTo(-hj*r,-r),e.lineTo(hj*r,-r),e.closePath()}},Ws=-.5,Ks=za(3)/2,s_=1/za(12),Qpe=(s_/2+1)*3,Ype={draw(e,t){const r=za(t/Qpe),n=r/2,a=r*s_,i=n,o=r*s_+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ws*n-Ks*a,Ks*n+Ws*a),e.lineTo(Ws*i-Ks*o,Ks*i+Ws*o),e.lineTo(Ws*l-Ks*c,Ks*l+Ws*c),e.lineTo(Ws*n+Ks*a,Ws*a-Ks*n),e.lineTo(Ws*i+Ks*o,Ws*o-Ks*i),e.lineTo(Ws*l+Ks*c,Ws*c-Ks*l),e.closePath()}};function Xpe(e,t){let r=null,n=lC(a);e=typeof e=="function"?e:ur(e||uC),t=typeof t=="function"?t:ur(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:ur(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:ur(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function zx(){}function Wx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function jB(e){this._context=e}jB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jpe(e){return new jB(e)}function NB(e){this._context=e}NB.prototype={areaStart:zx,areaEnd:zx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zpe(e){return new NB(e)}function _B(e){this._context=e}_B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ege(e){return new _B(e)}function SB(e){this._context=e}SB.prototype={areaStart:zx,areaEnd:zx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tge(e){return new SB(e)}function CT(e){return e<0?-1:1}function PT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(CT(i)+CT(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function ET(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function mj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Kx(e){this._context=e}Kx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mj(this,this._t0,ET(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mj(this,ET(this,r=PT(this,e,t)),r);break;default:mj(this,this._t0,r=PT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function kB(e){this._context=new CB(e)}(kB.prototype=Object.create(Kx.prototype)).point=function(e,t){Kx.prototype.point.call(this,t,e)};function CB(e){this._context=e}CB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function rge(e){return new Kx(e)}function nge(e){return new kB(e)}function PB(e){this._context=e}PB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=AT(e),a=AT(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function AT(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function sge(e){return new PB(e)}function j0(e,t){this._context=e,this._t=t}j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function age(e){return new j0(e,.5)}function ige(e){return new j0(e,0)}function oge(e){return new j0(e,1)}function Bd(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function a_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function lge(e,t){return e[t]}function cge(e){const t=[];return t.key=e,t}function uge(){var e=ur([]),t=a_,r=Bd,n=lge;function a(i){var o=Array.from(e.apply(this,arguments),cge),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=cC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ur(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:ur(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?a_:typeof i=="function"?i:ur(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Bd,a):r},a}function dge(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Bd(e,t)}}function fge(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Bd(e,t)}}function hge(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var m=e[t[y]],w=m[n][1]||0,g=m[n-1][1]||0;p+=w-g}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Bd(e,t)}}function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}var mge=["type","size","sizeType"];function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(this,arguments)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){pge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pge(e,t,r){return t=gge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gge(e){var t=vge(e,"string");return Vm(t)=="symbol"?t:t+""}function vge(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xge(e,t){if(e==null)return{};var r=yge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var EB={symbolCircle:uC,symbolCross:Upe,symbolDiamond:Vpe,symbolSquare:qpe,symbolStar:Hpe,symbolTriangle:Gpe,symbolWye:Ype},bge=Math.PI/180,wge=function(t){var r="symbol".concat(y0(t));return EB[r]||uC},jge=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*bge;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Nge=function(t,r){EB["symbol".concat(y0(t))]=r},dC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=xge(t,mge),u=TT(TT({},c),{},{type:n,size:i,sizeType:l}),d=function(){var w=wge(n),g=Xpe().type(w).size(jge(i,l,n));return g()},f=u.className,h=u.cx,p=u.cy,y=ut(u,!0);return h===+h&&p===+p&&i===+i?F.createElement("path",i_({},y,{className:xt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};dC.registerSymbol=Nge;function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(this,arguments)}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){qm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OB(n.key),n)}}function Cge(e,t,r){return t&&kge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pge(e,t,r){return t=Hx(t),Ege(e,AB()?Reflect.construct(t,r||[],Hx(e).constructor):t.apply(e,r))}function Ege(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Age(e)}function Age(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AB=function(){return!!e})()}function Hx(e){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hx(e)}function Oge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l_(e,t)}function l_(e,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l_(e,t)}function qm(e,t,r){return t=OB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OB(e){var t=Tge(e,"string");return Vd(t)=="symbol"?t:t+""}function Tge(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hs=32,fC=function(e){function t(){return Sge(this,t),Pge(this,t,arguments)}return Oge(t,e),Cge(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Hs/2,o=Hs/6,l=Hs/3,c=n.inactive?a:n.color;if(n.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Hs,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Hs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return F.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Hs/8,"h").concat(Hs,"v").concat(Hs*3/4,"h").concat(-Hs,"z"),className:"recharts-legend-icon"});if(F.isValidElement(n.legendIcon)){var u=_ge({},n);return delete u.legendIcon,F.cloneElement(n.legendIcon,u)}return F.createElement(dC,{fill:c,cx:i,cy:i,size:Hs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Hs,height:Hs},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var m=p.formatter||c,w=xt(qm(qm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=ft(p.value)?null:p.value;Da(!ft(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return F.createElement("li",o_({className:w,style:f,key:"legend-item-".concat(y)},Cc(n.props,p,y)),F.createElement(JN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},m?m(g,p,y):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);qm(fC,"displayName","Legend");qm(fC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ige=i0;function Rge(){this.__data__=new Ige,this.size=0}var Mge=Rge;function $ge(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Dge=$ge;function Lge(e){return this.__data__.get(e)}var Fge=Lge;function Uge(e){return this.__data__.has(e)}var Bge=Uge,Vge=i0,qge=Z2,zge=eC,Wge=200;function Kge(e,t){var r=this.__data__;if(r instanceof Vge){var n=r.__data__;if(!qge||n.length<Wge-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zge(n)}return r.set(e,t),this.size=r.size,this}var Hge=Kge,Gge=i0,Qge=Mge,Yge=Dge,Xge=Fge,Jge=Bge,Zge=Hge;function $f(e){var t=this.__data__=new Gge(e);this.size=t.size}$f.prototype.clear=Qge;$f.prototype.delete=Yge;$f.prototype.get=Xge;$f.prototype.has=Jge;$f.prototype.set=Zge;var TB=$f,eve="__lodash_hash_undefined__";function tve(e){return this.__data__.set(e,eve),this}var rve=tve;function nve(e){return this.__data__.has(e)}var sve=nve,ave=eC,ive=rve,ove=sve;function Gx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ave;++t<r;)this.add(e[t])}Gx.prototype.add=Gx.prototype.push=ive;Gx.prototype.has=ove;var IB=Gx;function lve(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var RB=lve;function cve(e,t){return e.has(t)}var MB=cve,uve=IB,dve=RB,fve=MB,hve=1,mve=2;function pve(e,t,r,n,a,i){var o=r&hve,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&mve?new uve:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var y=e[f],m=t[f];if(n)var w=o?n(m,y,f,t,e,i):n(y,m,f,e,t,i);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!dve(t,function(g,v){if(!fve(p,v)&&(y===g||a(y,g,r,n,i)))return p.push(v)})){h=!1;break}}else if(!(y===m||a(y,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var $B=pve,gve=pi,vve=gve.Uint8Array,xve=vve;function yve(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var bve=yve;function wve(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var hC=wve,RT=ng,MT=xve,jve=J2,Nve=$B,_ve=bve,Sve=hC,kve=1,Cve=2,Pve="[object Boolean]",Eve="[object Date]",Ave="[object Error]",Ove="[object Map]",Tve="[object Number]",Ive="[object RegExp]",Rve="[object Set]",Mve="[object String]",$ve="[object Symbol]",Dve="[object ArrayBuffer]",Lve="[object DataView]",$T=RT?RT.prototype:void 0,pj=$T?$T.valueOf:void 0;function Fve(e,t,r,n,a,i,o){switch(r){case Lve:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Dve:return!(e.byteLength!=t.byteLength||!i(new MT(e),new MT(t)));case Pve:case Eve:case Tve:return jve(+e,+t);case Ave:return e.name==t.name&&e.message==t.message;case Ive:case Mve:return e==t+"";case Ove:var l=_ve;case Rve:var c=n&kve;if(l||(l=Sve),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Cve,o.set(e,t);var d=Nve(l(e),l(t),n,a,i,o);return o.delete(e),d;case $ve:if(pj)return pj.call(e)==pj.call(t)}return!1}var Uve=Fve;function Bve(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var DB=Bve,Vve=DB,qve=xs;function zve(e,t,r){var n=t(e);return qve(e)?n:Vve(n,r(e))}var Wve=zve;function Kve(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Hve=Kve;function Gve(){return[]}var Qve=Gve,Yve=Hve,Xve=Qve,Jve=Object.prototype,Zve=Jve.propertyIsEnumerable,DT=Object.getOwnPropertySymbols,exe=DT?function(e){return e==null?[]:(e=Object(e),Yve(DT(e),function(t){return Zve.call(e,t)}))}:Xve,txe=exe;function rxe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var nxe=rxe,sxe=no,axe=so,ixe="[object Arguments]";function oxe(e){return axe(e)&&sxe(e)==ixe}var lxe=oxe,LT=lxe,cxe=so,LB=Object.prototype,uxe=LB.hasOwnProperty,dxe=LB.propertyIsEnumerable,fxe=LT(function(){return arguments}())?LT:function(e){return cxe(e)&&uxe.call(e,"callee")&&!dxe.call(e,"callee")},mC=fxe,Qx={exports:{}};function hxe(){return!1}var mxe=hxe;Qx.exports;(function(e,t){var r=pi,n=mxe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Qx,Qx.exports);var FB=Qx.exports,pxe=9007199254740991,gxe=/^(?:0|[1-9]\d*)$/;function vxe(e,t){var r=typeof e;return t=t??pxe,!!t&&(r=="number"||r!="symbol"&&gxe.test(e))&&e>-1&&e%1==0&&e<t}var pC=vxe,xxe=9007199254740991;function yxe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=xxe}var gC=yxe,bxe=no,wxe=gC,jxe=so,Nxe="[object Arguments]",_xe="[object Array]",Sxe="[object Boolean]",kxe="[object Date]",Cxe="[object Error]",Pxe="[object Function]",Exe="[object Map]",Axe="[object Number]",Oxe="[object Object]",Txe="[object RegExp]",Ixe="[object Set]",Rxe="[object String]",Mxe="[object WeakMap]",$xe="[object ArrayBuffer]",Dxe="[object DataView]",Lxe="[object Float32Array]",Fxe="[object Float64Array]",Uxe="[object Int8Array]",Bxe="[object Int16Array]",Vxe="[object Int32Array]",qxe="[object Uint8Array]",zxe="[object Uint8ClampedArray]",Wxe="[object Uint16Array]",Kxe="[object Uint32Array]",gr={};gr[Lxe]=gr[Fxe]=gr[Uxe]=gr[Bxe]=gr[Vxe]=gr[qxe]=gr[zxe]=gr[Wxe]=gr[Kxe]=!0;gr[Nxe]=gr[_xe]=gr[$xe]=gr[Sxe]=gr[Dxe]=gr[kxe]=gr[Cxe]=gr[Pxe]=gr[Exe]=gr[Axe]=gr[Oxe]=gr[Txe]=gr[Ixe]=gr[Rxe]=gr[Mxe]=!1;function Hxe(e){return jxe(e)&&wxe(e.length)&&!!gr[bxe(e)]}var Gxe=Hxe;function Qxe(e){return function(t){return e(t)}}var UB=Qxe,Yx={exports:{}};Yx.exports;(function(e,t){var r=GU,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Yx,Yx.exports);var Yxe=Yx.exports,Xxe=Gxe,Jxe=UB,FT=Yxe,UT=FT&&FT.isTypedArray,Zxe=UT?Jxe(UT):Xxe,BB=Zxe,eye=nxe,tye=mC,rye=xs,nye=FB,sye=pC,aye=BB,iye=Object.prototype,oye=iye.hasOwnProperty;function lye(e,t){var r=rye(e),n=!r&&tye(e),a=!r&&!n&&nye(e),i=!r&&!n&&!a&&aye(e),o=r||n||a||i,l=o?eye(e.length,String):[],c=l.length;for(var u in e)(t||oye.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sye(u,c)))&&l.push(u);return l}var cye=lye,uye=Object.prototype;function dye(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||uye;return e===r}var fye=dye;function hye(e,t){return function(r){return e(t(r))}}var VB=hye,mye=VB,pye=mye(Object.keys,Object),gye=pye,vye=fye,xye=gye,yye=Object.prototype,bye=yye.hasOwnProperty;function wye(e){if(!vye(e))return xye(e);var t=[];for(var r in Object(e))bye.call(e,r)&&r!="constructor"&&t.push(r);return t}var jye=wye,Nye=X2,_ye=gC;function Sye(e){return e!=null&&_ye(e.length)&&!Nye(e)}var ig=Sye,kye=cye,Cye=jye,Pye=ig;function Eye(e){return Pye(e)?kye(e):Cye(e)}var N0=Eye,Aye=Wve,Oye=txe,Tye=N0;function Iye(e){return Aye(e,Tye,Oye)}var Rye=Iye,BT=Rye,Mye=1,$ye=Object.prototype,Dye=$ye.hasOwnProperty;function Lye(e,t,r,n,a,i){var o=r&Mye,l=BT(e),c=l.length,u=BT(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Dye.call(t,h)))return!1}var p=i.get(e),y=i.get(t);if(p&&y)return p==t&&y==e;var m=!0;i.set(e,t),i.set(t,e);for(var w=o;++f<c;){h=l[f];var g=e[h],v=t[h];if(n)var b=o?n(v,g,h,t,e,i):n(g,v,h,e,t,i);if(!(b===void 0?g===v||a(g,v,r,n,i):b)){m=!1;break}w||(w=h=="constructor")}if(m&&!w){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return i.delete(e),i.delete(t),m}var Fye=Lye,Uye=Fc,Bye=pi,Vye=Uye(Bye,"DataView"),qye=Vye,zye=Fc,Wye=pi,Kye=zye(Wye,"Promise"),Hye=Kye,Gye=Fc,Qye=pi,Yye=Gye(Qye,"Set"),qB=Yye,Xye=Fc,Jye=pi,Zye=Xye(Jye,"WeakMap"),ebe=Zye,c_=qye,u_=Z2,d_=Hye,f_=qB,h_=ebe,zB=no,Df=YU,VT="[object Map]",tbe="[object Object]",qT="[object Promise]",zT="[object Set]",WT="[object WeakMap]",KT="[object DataView]",rbe=Df(c_),nbe=Df(u_),sbe=Df(d_),abe=Df(f_),ibe=Df(h_),Il=zB;(c_&&Il(new c_(new ArrayBuffer(1)))!=KT||u_&&Il(new u_)!=VT||d_&&Il(d_.resolve())!=qT||f_&&Il(new f_)!=zT||h_&&Il(new h_)!=WT)&&(Il=function(e){var t=zB(e),r=t==tbe?e.constructor:void 0,n=r?Df(r):"";if(n)switch(n){case rbe:return KT;case nbe:return VT;case sbe:return qT;case abe:return zT;case ibe:return WT}return t});var obe=Il,gj=TB,lbe=$B,cbe=Uve,ube=Fye,HT=obe,GT=xs,QT=FB,dbe=BB,fbe=1,YT="[object Arguments]",XT="[object Array]",Zg="[object Object]",hbe=Object.prototype,JT=hbe.hasOwnProperty;function mbe(e,t,r,n,a,i){var o=GT(e),l=GT(t),c=o?XT:HT(e),u=l?XT:HT(t);c=c==YT?Zg:c,u=u==YT?Zg:u;var d=c==Zg,f=u==Zg,h=c==u;if(h&&QT(e)){if(!QT(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new gj),o||dbe(e)?lbe(e,t,r,n,a,i):cbe(e,t,c,r,n,a,i);if(!(r&fbe)){var p=d&&JT.call(e,"__wrapped__"),y=f&&JT.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,w=y?t.value():t;return i||(i=new gj),a(m,w,r,n,i)}}return h?(i||(i=new gj),ube(e,t,r,n,a,i)):!1}var pbe=mbe,gbe=pbe,ZT=so;function WB(e,t,r,n,a){return e===t?!0:e==null||t==null||!ZT(e)&&!ZT(t)?e!==e&&t!==t:gbe(e,t,r,n,WB,a)}var vC=WB,vbe=TB,xbe=vC,ybe=1,bbe=2;function wbe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new vbe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?xbe(d,u,ybe|bbe,n,f):h))return!1}}return!0}var jbe=wbe,Nbe=ml;function _be(e){return e===e&&!Nbe(e)}var KB=_be,Sbe=KB,kbe=N0;function Cbe(e){for(var t=kbe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Sbe(a)]}return t}var Pbe=Cbe;function Ebe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var HB=Ebe,Abe=jbe,Obe=Pbe,Tbe=HB;function Ibe(e){var t=Obe(e);return t.length==1&&t[0][2]?Tbe(t[0][0],t[0][1]):function(r){return r===e||Abe(r,e,t)}}var Rbe=Ibe;function Mbe(e,t){return e!=null&&t in Object(e)}var $be=Mbe,Dbe=tB,Lbe=mC,Fbe=xs,Ube=pC,Bbe=gC,Vbe=l0;function qbe(e,t,r){t=Dbe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Vbe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Bbe(a)&&Ube(o,a)&&(Fbe(e)||Lbe(e)))}var zbe=qbe,Wbe=$be,Kbe=zbe;function Hbe(e,t){return e!=null&&Kbe(e,t,Wbe)}var Gbe=Hbe,Qbe=vC,Ybe=rB,Xbe=Gbe,Jbe=Y2,Zbe=KB,e0e=HB,t0e=l0,r0e=1,n0e=2;function s0e(e,t){return Jbe(e)&&Zbe(t)?e0e(t0e(e),t):function(r){var n=Ybe(r,e);return n===void 0&&n===t?Xbe(r,e):Qbe(t,n,r0e|n0e)}}var a0e=s0e;function i0e(e){return e}var Lf=i0e;function o0e(e){return function(t){return t==null?void 0:t[e]}}var l0e=o0e,c0e=nC;function u0e(e){return function(t){return c0e(t,e)}}var d0e=u0e,f0e=l0e,h0e=d0e,m0e=Y2,p0e=l0;function g0e(e){return m0e(e)?f0e(p0e(e)):h0e(e)}var v0e=g0e,x0e=Rbe,y0e=a0e,b0e=Lf,w0e=xs,j0e=v0e;function N0e(e){return typeof e=="function"?e:e==null?b0e:typeof e=="object"?w0e(e)?y0e(e[0],e[1]):x0e(e):j0e(e)}var gi=N0e;function _0e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var GB=_0e;function S0e(e){return e!==e}var k0e=S0e;function C0e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var P0e=C0e,E0e=GB,A0e=k0e,O0e=P0e;function T0e(e,t,r){return t===t?O0e(e,t,r):E0e(e,A0e,r)}var I0e=T0e,R0e=I0e;function M0e(e,t){var r=e==null?0:e.length;return!!r&&R0e(e,t,0)>-1}var $0e=M0e;function D0e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var L0e=D0e;function F0e(){}var U0e=F0e,vj=qB,B0e=U0e,V0e=hC,q0e=1/0,z0e=vj&&1/V0e(new vj([,-0]))[1]==q0e?function(e){return new vj(e)}:B0e,W0e=z0e,K0e=IB,H0e=$0e,G0e=L0e,Q0e=MB,Y0e=W0e,X0e=hC,J0e=200;function Z0e(e,t,r){var n=-1,a=H0e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=G0e;else if(i>=J0e){var u=t?null:Y0e(e);if(u)return X0e(u);o=!1,a=Q0e,c=new K0e}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var ewe=Z0e,twe=gi,rwe=ewe;function nwe(e,t){return e&&e.length?rwe(e,twe(t)):[]}var swe=nwe;const e4=Gt(swe);function QB(e,t,r){return t===!0?e4(e,r):ft(t)?e4(e,t):e}function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}var awe=["ref"];function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(n){_0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XB(n.key),n)}}function owe(e,t,r){return t&&r4(e.prototype,t),r&&r4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lwe(e,t,r){return t=Xx(t),cwe(e,YB()?Reflect.construct(t,r||[],Xx(e).constructor):t.apply(e,r))}function cwe(e,t){if(t&&(qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uwe(e)}function uwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YB=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(e)}function dwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m_(e,t)}function _0(e,t,r){return t=XB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XB(e){var t=fwe(e,"string");return qd(t)=="symbol"?t:t+""}function fwe(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hwe(e,t){if(e==null)return{};var r=mwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pwe(e){return e.value}function gwe(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var r=hwe(t,awe);return F.createElement(fC,r)}var n4=1,ac=function(e){function t(){var r;iwe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=lwe(this,t,[].concat(a)),_0(r,"lastBoundingBox",{width:-1,height:-1}),r}return dwe(t,e),owe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>n4||Math.abs(a.height-this.lastBoundingBox.height)>n4)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return wi(wi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=wi(wi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},gwe(i,wi(wi({},this.props),{},{payload:QB(d,u,pwe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=wi(wi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);_0(ac,"displayName","Legend");_0(ac,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var s4=ng,vwe=mC,xwe=xs,a4=s4?s4.isConcatSpreadable:void 0;function ywe(e){return xwe(e)||vwe(e)||!!(a4&&e&&e[a4])}var bwe=ywe,wwe=DB,jwe=bwe;function JB(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=jwe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?JB(l,t-1,r,n,a):wwe(a,l):n||(a[a.length]=l)}return a}var ZB=JB;function Nwe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var _we=Nwe,Swe=_we,kwe=Swe(),Cwe=kwe,Pwe=Cwe,Ewe=N0;function Awe(e,t){return e&&Pwe(e,t,Ewe)}var eV=Awe,Owe=ig;function Twe(e,t){return function(r,n){if(r==null)return r;if(!Owe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Iwe=Twe,Rwe=eV,Mwe=Iwe,$we=Mwe(Rwe),xC=$we,Dwe=xC,Lwe=ig;function Fwe(e,t){var r=-1,n=Lwe(e)?Array(e.length):[];return Dwe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var tV=Fwe;function Uwe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Bwe=Uwe,i4=Of;function Vwe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=i4(e),o=t!==void 0,l=t===null,c=t===t,u=i4(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var qwe=Vwe,zwe=qwe;function Wwe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=zwe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Kwe=Wwe,xj=rC,Hwe=nC,Gwe=gi,Qwe=tV,Ywe=Bwe,Xwe=UB,Jwe=Kwe,Zwe=Lf,eje=xs;function tje(e,t,r){t.length?t=xj(t,function(i){return eje(i)?function(o){return Hwe(o,i.length===1?i[0]:i)}:i}):t=[Zwe];var n=-1;t=xj(t,Xwe(Gwe));var a=Qwe(e,function(i,o,l){var c=xj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Ywe(a,function(i,o){return Jwe(i,o,r)})}var rje=tje;function nje(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var sje=nje,aje=sje,o4=Math.max;function ije(e,t,r){return t=o4(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=o4(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),aje(e,this,l)}}var oje=ije;function lje(e){return function(){return e}}var cje=lje,uje=Fc,dje=function(){try{var e=uje(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rV=dje,fje=cje,l4=rV,hje=Lf,mje=l4?function(e,t){return l4(e,"toString",{configurable:!0,enumerable:!1,value:fje(t),writable:!0})}:hje,pje=mje,gje=800,vje=16,xje=Date.now;function yje(e){var t=0,r=0;return function(){var n=xje(),a=vje-(n-r);if(r=n,a>0){if(++t>=gje)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var bje=yje,wje=pje,jje=bje,Nje=jje(wje),_je=Nje,Sje=Lf,kje=oje,Cje=_je;function Pje(e,t){return Cje(kje(e,t,Sje),e+"")}var Eje=Pje,Aje=J2,Oje=ig,Tje=pC,Ije=ml;function Rje(e,t,r){if(!Ije(r))return!1;var n=typeof t;return(n=="number"?Oje(r)&&Tje(t,r.length):n=="string"&&t in r)?Aje(r[t],e):!1}var S0=Rje,Mje=ZB,$je=rje,Dje=Eje,c4=S0,Lje=Dje(function(e,t){if(e==null)return[];var r=t.length;return r>1&&c4(e,t[0],t[1])?t=[]:r>2&&c4(t[0],t[1],t[2])&&(t=[t[0]]),$je(e,Mje(t,1),[])}),Fje=Lje;const yC=Gt(Fje);function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p_.apply(this,arguments)}function Uje(e,t){return zje(e)||qje(e,t)||Vje(e,t)||Bje()}function Bje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vje(e,t){if(e){if(typeof e=="string")return u4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u4(e,t)}}function u4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zje(e){if(Array.isArray(e))return e}function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(n){Wje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wje(e,t,r){return t=Kje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kje(e){var t=Hje(e,"string");return zm(t)=="symbol"?t:t+""}function Hje(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gje(e){return Array.isArray(e)&&ln(e[0])&&ln(e[1])?e.join(" ~ "):e}var Qje=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,w=t.labelFormatter,g=t.accessibilityLayer,v=g===void 0?!1:g,b=function(){if(d&&d.length){var T={padding:0,margin:0},I=(h?yC(d,h):d).map(function(R,D){if(R.type==="none")return null;var O=yj({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),W=R.formatter||f||Gje,A=R.value,$=R.name,Q=A,X=$;if(W&&Q!=null&&X!=null){var U=W(A,$,R,D,d);if(Array.isArray(U)){var J=Uje(U,2);Q=J[0],X=J[1]}else Q=U}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:O},ln(X)?F.createElement("span",{className:"recharts-tooltip-item-name"},X):null,ln(X)?F.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,F.createElement("span",{className:"recharts-tooltip-item-value"},Q),F.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:T},I)}return null},j=yj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=yj({margin:0},u),N=!Ct(m),S=N?m:"",C=xt("recharts-default-tooltip",p),P=xt("recharts-tooltip-label",y);N&&w&&d!==void 0&&d!==null&&(S=w(m,d));var k=v?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",p_({className:C,style:j},k),F.createElement("p",{className:P,style:_},F.isValidElement(S)?S:"".concat(S)),b())};function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function ev(e,t,r){return t=Yje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yje(e){var t=Xje(e,"string");return Wm(t)=="symbol"?t:t+""}function Xje(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uh="recharts-tooltip-wrapper",Jje={visibility:"hidden"};function Zje(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return xt(uh,ev(ev(ev(ev({},"".concat(uh,"-right"),Pe(r)&&t&&Pe(t.x)&&r>=t.x),"".concat(uh,"-left"),Pe(r)&&t&&Pe(t.x)&&r<t.x),"".concat(uh,"-bottom"),Pe(n)&&t&&Pe(t.y)&&n>=t.y),"".concat(uh,"-top"),Pe(n)&&t&&Pe(t.y)&&n<t.y))}function f4(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Pe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,m=c[n]+u;return y>m?Math.max(d,c[n]):Math.max(f,c[n])}function e1e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function t1e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=f4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=f4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=e1e({translateX:d,translateY:f,useTranslate3d:l})):u=Jje,{cssProperties:u,cssClasses:Zje({translateX:d,translateY:f,coordinate:r})}}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){v_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sV(n.key),n)}}function s1e(e,t,r){return t&&n1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a1e(e,t,r){return t=Jx(t),i1e(e,nV()?Reflect.construct(t,r||[],Jx(e).constructor):t.apply(e,r))}function i1e(e,t){if(t&&(zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o1e(e)}function o1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(e)}function l1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g_(e,t)}function g_(e,t){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g_(e,t)}function v_(e,t,r){return t=sV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sV(e){var t=c1e(e,"string");return zd(t)=="symbol"?t:t+""}function c1e(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var p4=1,u1e=function(e){function t(){var r;r1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=a1e(this,t,[].concat(a)),v_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),v_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return l1e(t,e),s1e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>p4||Math.abs(n.height-this.state.lastBoundingBox.height)>p4)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,m=a.reverseDirection,w=a.useTranslate3d,g=a.viewBox,v=a.wrapperStyle,b=t1e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:g}),j=b.cssClasses,_=b.cssProperties,N=m4(m4({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return F.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(C){n.wrapperNode=C}},u)}}])}(x.PureComponent),d1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ff={isSsr:d1e()};function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){bC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iV(n.key),n)}}function m1e(e,t,r){return t&&h1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p1e(e,t,r){return t=Zx(t),g1e(e,aV()?Reflect.construct(t,r||[],Zx(e).constructor):t.apply(e,r))}function g1e(e,t){if(t&&(Wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v1e(e)}function v1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!e})()}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(e)}function x1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x_(e,t)}function bC(e,t,r){return t=iV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=y1e(e,"string");return Wd(t)=="symbol"?t:t+""}function y1e(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function b1e(e){return e.dataKey}function w1e(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(Qje,t)}var Pa=function(e){function t(){return f1e(this,t),p1e(this,t,arguments)}return x1e(t,e),m1e(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,m=a.payloadUniqBy,w=a.position,g=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,j=a.wrapperStyle,_=y??[];f&&_.length&&(_=QB(y.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,b1e));var N=_.length>0;return F.createElement(u1e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:w,reverseDirection:g,useTranslate3d:v,viewBox:b,wrapperStyle:j},w1e(u,v4(v4({},this.props),{},{payload:_})))}}])}(x.PureComponent);bC(Pa,"displayName","Tooltip");bC(Pa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ff.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var j1e=pi,N1e=function(){return j1e.Date.now()},_1e=N1e,S1e=/\s/;function k1e(e){for(var t=e.length;t--&&S1e.test(e.charAt(t)););return t}var C1e=k1e,P1e=C1e,E1e=/^\s+/;function A1e(e){return e&&e.slice(0,P1e(e)+1).replace(E1e,"")}var O1e=A1e,T1e=O1e,x4=ml,I1e=Of,y4=NaN,R1e=/^[-+]0x[0-9a-f]+$/i,M1e=/^0b[01]+$/i,$1e=/^0o[0-7]+$/i,D1e=parseInt;function L1e(e){if(typeof e=="number")return e;if(I1e(e))return y4;if(x4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=x4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=T1e(e);var r=M1e.test(e);return r||$1e.test(e)?D1e(e.slice(2),r?2:8):R1e.test(e)?y4:+e}var oV=L1e,F1e=ml,bj=_1e,b4=oV,U1e="Expected a function",B1e=Math.max,V1e=Math.min;function q1e(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(U1e);t=b4(t)||0,F1e(r)&&(d=!!r.leading,f="maxWait"in r,i=f?B1e(b4(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var S=n,C=a;return n=a=void 0,u=N,o=e.apply(C,S),o}function y(N){return u=N,l=setTimeout(g,t),d?p(N):o}function m(N){var S=N-c,C=N-u,P=t-S;return f?V1e(P,i-C):P}function w(N){var S=N-c,C=N-u;return c===void 0||S>=t||S<0||f&&C>=i}function g(){var N=bj();if(w(N))return v(N);l=setTimeout(g,m(N))}function v(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:v(bj())}function _(){var N=bj(),S=w(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(g,t),p(c)}return l===void 0&&(l=setTimeout(g,t)),o}return _.cancel=b,_.flush=j,_}var z1e=q1e,W1e=z1e,K1e=ml,H1e="Expected a function";function G1e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(H1e);return K1e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),W1e(e,t,{leading:n,maxWait:t,trailing:a})}var Q1e=G1e;const lV=Gt(Q1e);function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){Y1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y1e(e,t,r){return t=X1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X1e(e){var t=J1e(e,"string");return Km(t)=="symbol"?t:t+""}function J1e(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z1e(e,t){return nNe(e)||rNe(e,t)||tNe(e,t)||eNe()}function eNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tNe(e,t){if(e){if(typeof e=="string")return j4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j4(e,t)}}function j4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function nNe(e){if(Array.isArray(e))return e}var N4=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,w=e.id,g=e.className,v=e.onResize,b=e.style,j=b===void 0?{}:b,_=x.useRef(null),N=x.useRef();N.current=v,x.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var S=x.useState({containerWidth:a.width,containerHeight:a.height}),C=Z1e(S,2),P=C[0],k=C[1],E=x.useCallback(function(I,R){k(function(D){var O=Math.round(I),W=Math.round(R);return D.containerWidth===O&&D.containerHeight===W?D:{containerWidth:O,containerHeight:W}})},[]);x.useEffect(function(){var I=function($){var Q,X=$[0].contentRect,U=X.width,J=X.height;E(U,J),(Q=N.current)===null||Q===void 0||Q.call(N,U,J)};m>0&&(I=lV(I,m,{trailing:!0,leading:!1}));var R=new ResizeObserver(I),D=_.current.getBoundingClientRect(),O=D.width,W=D.height;return E(O,W),R.observe(_.current),function(){R.disconnect()}},[E,m]);var T=x.useMemo(function(){var I=P.containerWidth,R=P.containerHeight;if(I<0||R<0)return null;Da(zl(o)||zl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Da(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=zl(o)?I:o,O=zl(c)?R:c;r&&r>0&&(D?O=D/r:O&&(D=O*r),h&&O>h&&(O=h)),Da(D>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,O,o,c,d,f,r);var W=!Array.isArray(p)&&Li(p.type).endsWith("Chart");return F.Children.map(p,function(A){return F.isValidElement(A)?x.cloneElement(A,tv({width:D,height:O},W?{style:tv({height:"100%",width:"100%",maxHeight:O,maxWidth:D},A.props.style)}:{})):A})},[r,p,c,h,f,d,P,o]);return F.createElement("div",{id:w?"".concat(w):void 0,className:xt("recharts-responsive-container",g),style:tv(tv({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},T)}),k0=function(t){return null};k0.displayName="Cell";function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function _4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(r),!0).forEach(function(n){sNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sNe(e,t,r){return t=aNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aNe(e){var t=iNe(e,"string");return Hm(t)=="symbol"?t:t+""}function iNe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vu={widthCache:{},cacheCount:0},oNe=2e3,lNe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},S4="recharts_measurement_span";function cNe(e){var t=y_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Yh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ff.isSsr)return{width:0,height:0};var n=cNe(r),a=JSON.stringify({text:t,copyStyle:n});if(vu.widthCache[a])return vu.widthCache[a];try{var i=document.getElementById(S4);i||(i=document.createElement("span"),i.setAttribute("id",S4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=y_(y_({},lNe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return vu.widthCache[a]=c,++vu.cacheCount>oNe&&(vu.cacheCount=0,vu.widthCache={}),c}catch{return{width:0,height:0}}},uNe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function ey(e,t){return mNe(e)||hNe(e,t)||fNe(e,t)||dNe()}function dNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fNe(e,t){if(e){if(typeof e=="string")return k4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k4(e,t)}}function k4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mNe(e){if(Array.isArray(e))return e}function pNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vNe(n.key),n)}}function gNe(e,t,r){return t&&C4(e.prototype,t),r&&C4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vNe(e){var t=xNe(e,"string");return Gm(t)=="symbol"?t:t+""}function xNe(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var P4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,E4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wNe=Object.keys(cV),zu="NaN";function jNe(e,t){return e*cV[t]}var rv=function(){function e(t,r){pNe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!yNe.test(r)&&(this.num=NaN,this.unit=""),wNe.includes(r)&&(this.num=jNe(t,r),this.unit="px")}return gNe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=bNe.exec(r))!==null&&n!==void 0?n:[],i=ey(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function uV(e){if(e.includes(zu))return zu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=P4.exec(t))!==null&&r!==void 0?r:[],a=ey(n,4),i=a[1],o=a[2],l=a[3],c=rv.parse(i??""),u=rv.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return zu;t=t.replace(P4,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=E4.exec(t))!==null&&f!==void 0?f:[],p=ey(h,4),y=p[1],m=p[2],w=p[3],g=rv.parse(y??""),v=rv.parse(w??""),b=m==="+"?g.add(v):g.subtract(v);if(b.isNaN())return zu;t=t.replace(E4,b.toString())}return t}var A4=/\(([^()]*)\)/;function NNe(e){for(var t=e;t.includes("(");){var r=A4.exec(t),n=ey(r,2),a=n[1];t=t.replace(A4,uV(a))}return t}function _Ne(e){var t=e.replace(/\s+/g,"");return t=NNe(t),t=uV(t),t}function SNe(e){try{return _Ne(e)}catch{return zu}}function wj(e){var t=SNe(e.slice(5,-1));return t===zu?"":t}var kNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],CNe=["dx","dy","angle","className","breakAll"];function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b_.apply(this,arguments)}function O4(e,t){if(e==null)return{};var r=PNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function T4(e,t){return TNe(e)||ONe(e,t)||ANe(e,t)||ENe()}function ENe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ANe(e,t){if(e){if(typeof e=="string")return I4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I4(e,t)}}function I4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ONe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function TNe(e){if(Array.isArray(e))return e}var dV=/[ \f\n\r\t\v\u2028\u2029]+/,fV=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ct(r)||(n?i=r.toString().split(""):i=r.toString().split(dV));var o=i.map(function(c){return{word:c,width:Yh(c,a).width}}),l=n?0:Yh("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},INe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Pe(o),f=l,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(O,W){var A=W.word,$=W.width,Q=O[O.length-1];if(Q&&(a==null||i||Q.width+$+n<Number(a)))Q.words.push(A),Q.width+=$+n;else{var X={words:[A],width:$};O.push(X)}return O},[])},p=h(r),y=function(D){return D.reduce(function(O,W){return O.width>W.width?O:W})};if(!d)return p;for(var m="",w=function(D){var O=f.slice(0,D),W=fV({breakAll:u,style:c,children:O+m}).wordsWithComputedWidth,A=h(W),$=A.length>o||y(A).width>Number(a);return[$,A]},g=0,v=f.length-1,b=0,j;g<=v&&b<=f.length-1;){var _=Math.floor((g+v)/2),N=_-1,S=w(N),C=T4(S,2),P=C[0],k=C[1],E=w(_),T=T4(E,1),I=T[0];if(!P&&!I&&(g=_+1),P&&I&&(v=_-1),!P&&I){j=k;break}b++}return j||p},R4=function(t){var r=Ct(t)?[]:t.toString().split(dV);return[{words:r}]},RNe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Ff.isSsr){var c,u,d=fV({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return R4(a);return INe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return R4(a)},M4="#808080",Pc=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,w=t.fill,g=w===void 0?M4:w,v=O4(t,kNe),b=x.useMemo(function(){return RNe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),j=v.dx,_=v.dy,N=v.angle,S=v.className,C=v.breakAll,P=O4(v,CNe);if(!ln(n)||!ln(i))return null;var k=n+(Pe(j)?j:0),E=i+(Pe(_)?_:0),T;switch(m){case"start":T=wj("calc(".concat(u,")"));break;case"middle":T=wj("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=wj("calc(".concat(b.length-1," * -").concat(l,")"));break}var I=[];if(f){var R=b[0].width,D=v.width;I.push("scale(".concat((Pe(D)?D/R:1)/R,")"))}return N&&I.push("rotate(".concat(N,", ").concat(k,", ").concat(E,")")),I.length&&(P.transform=I.join(" ")),F.createElement("text",b_({},ut(P,!0),{x:k,y:E,className:xt("recharts-text",S),textAnchor:p,fill:g.includes("url")?M4:g}),b.map(function(O,W){var A=O.words.join(C?"":" ");return F.createElement("tspan",{x:k,dy:W===0?T:l,key:"".concat(A,"-").concat(W)},A)}))};function Ho(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function MNe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wC(e){let t,r,n;e.length!==2?(t=Ho,r=(l,c)=>Ho(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ho||e===MNe?e:$Ne,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function $Ne(){return 0}function hV(e){return e===null?NaN:+e}function*DNe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const LNe=wC(Ho),og=LNe.right;wC(hV).center;class $4 extends Map{constructor(t,r=BNe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(D4(this,t))}has(t){return super.has(D4(this,t))}set(t,r){return super.set(FNe(this,t),r)}delete(t){return super.delete(UNe(this,t))}}function D4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function FNe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function UNe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function BNe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function VNe(e=Ho){if(e===Ho)return mV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function mV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qNe=Math.sqrt(50),zNe=Math.sqrt(10),WNe=Math.sqrt(2);function ty(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=qNe?10:i>=zNe?5:i>=WNe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ty(e,t,r*2):[l,c,u]}function w_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?ty(t,e,r):ty(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function j_(e,t,r){return t=+t,e=+e,r=+r,ty(e,t,r)[2]}function N_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?j_(t,e,r):j_(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function L4(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function F4(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pV(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?mV:VNe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));pV(e,t,p,y,a)}const i=e[t];let o=r,l=n;for(dh(e,r,t),a(e[n],i)>0&&dh(e,r,n);o<l;){for(dh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?dh(e,r,l):(++l,dh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function dh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function KNe(e,t,r){if(e=Float64Array.from(DNe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return F4(e);if(t>=1)return L4(e);var n,a=(n-1)*t,i=Math.floor(a),o=L4(pV(e,i).subarray(0,i+1)),l=F4(e.subarray(i+1));return o+(l-o)*(a-i)}}function HNe(e,t,r=hV){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function GNe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function va(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ao(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const __=Symbol("implicit");function jC(){var e=new $4,t=[],r=[],n=__;function a(i){let o=e.get(i);if(o===void 0){if(n!==__)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new $4;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return jC(t,r).unknown(n)},va.apply(a,arguments),a}function Qm(){var e=jC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,y=p?a:n,m=p?n:a;i=(m-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(m-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var w=GNe(h).map(function(g){return y+i*g});return r(p?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Qm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},va.apply(f(),arguments)}function gV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gV(t())},e}function Xh(){return gV(Qm.apply(null,arguments).paddingInner(1))}function NC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function vV(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lg(){}var Ym=.7,ry=1/Ym,ad="\\s*([+-]?\\d+)\\s*",Xm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QNe=/^#([0-9a-f]{3,8})$/,YNe=new RegExp(`^rgb\\(${ad},${ad},${ad}\\)$`),XNe=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),JNe=new RegExp(`^rgba\\(${ad},${ad},${ad},${Xm}\\)$`),ZNe=new RegExp(`^rgba\\(${li},${li},${li},${Xm}\\)$`),e_e=new RegExp(`^hsl\\(${Xm},${li},${li}\\)$`),t_e=new RegExp(`^hsla\\(${Xm},${li},${li},${Xm}\\)$`),U4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NC(lg,Jm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:B4,formatHex:B4,formatHex8:r_e,formatHsl:n_e,formatRgb:V4,toString:V4});function B4(){return this.rgb().formatHex()}function r_e(){return this.rgb().formatHex8()}function n_e(){return xV(this).formatHsl()}function V4(){return this.rgb().formatRgb()}function Jm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=QNe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?q4(t):r===3?new us(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?nv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?nv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YNe.exec(e))?new us(t[1],t[2],t[3],1):(t=XNe.exec(e))?new us(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JNe.exec(e))?nv(t[1],t[2],t[3],t[4]):(t=ZNe.exec(e))?nv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=e_e.exec(e))?K4(t[1],t[2]/100,t[3]/100,1):(t=t_e.exec(e))?K4(t[1],t[2]/100,t[3]/100,t[4]):U4.hasOwnProperty(e)?q4(U4[e]):e==="transparent"?new us(NaN,NaN,NaN,0):null}function q4(e){return new us(e>>16&255,e>>8&255,e&255,1)}function nv(e,t,r,n){return n<=0&&(e=t=r=NaN),new us(e,t,r,n)}function s_e(e){return e instanceof lg||(e=Jm(e)),e?(e=e.rgb(),new us(e.r,e.g,e.b,e.opacity)):new us}function S_(e,t,r,n){return arguments.length===1?s_e(e):new us(e,t,r,n??1)}function us(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}NC(us,S_,vV(lg,{brighter(e){return e=e==null?ry:Math.pow(ry,e),new us(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ym:Math.pow(Ym,e),new us(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new us(ic(this.r),ic(this.g),ic(this.b),ny(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z4,formatHex:z4,formatHex8:a_e,formatRgb:W4,toString:W4}));function z4(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}`}function a_e(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}${Wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function W4(){const e=ny(this.opacity);return`${e===1?"rgb(":"rgba("}${ic(this.r)}, ${ic(this.g)}, ${ic(this.b)}${e===1?")":`, ${e})`}`}function ny(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ic(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wl(e){return e=ic(e),(e<16?"0":"")+e.toString(16)}function K4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ia(e,t,r,n)}function xV(e){if(e instanceof Ia)return new Ia(e.h,e.s,e.l,e.opacity);if(e instanceof lg||(e=Jm(e)),!e)return new Ia;if(e instanceof Ia)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ia(o,l,c,e.opacity)}function i_e(e,t,r,n){return arguments.length===1?xV(e):new Ia(e,t,r,n??1)}function Ia(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}NC(Ia,i_e,vV(lg,{brighter(e){return e=e==null?ry:Math.pow(ry,e),new Ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ym:Math.pow(Ym,e),new Ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new us(jj(e>=240?e-240:e+120,a,n),jj(e,a,n),jj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ia(H4(this.h),sv(this.s),sv(this.l),ny(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ny(this.opacity);return`${e===1?"hsl(":"hsla("}${H4(this.h)}, ${sv(this.s)*100}%, ${sv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function H4(e){return e=(e||0)%360,e<0?e+360:e}function sv(e){return Math.max(0,Math.min(1,e||0))}function jj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _C=e=>()=>e;function o_e(e,t){return function(r){return e+r*t}}function l_e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function c_e(e){return(e=+e)==1?yV:function(t,r){return r-t?l_e(t,r,e):_C(isNaN(t)?r:t)}}function yV(e,t){var r=t-e;return r?o_e(e,r):_C(isNaN(e)?t:e)}const G4=function e(t){var r=c_e(t);function n(a,i){var o=r((a=S_(a)).r,(i=S_(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=yV(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function u_e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function d_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function f_e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Uf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function h_e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function m_e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Uf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var k_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nj=new RegExp(k_.source,"g");function p_e(e){return function(){return e}}function g_e(e){return function(t){return e(t)+""}}function v_e(e,t){var r=k_.lastIndex=Nj.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=k_.exec(e))&&(a=Nj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:sy(n,a)})),r=Nj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?g_e(c[0].x):p_e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Uf(e,t){var r=typeof t,n;return t==null||r==="boolean"?_C(t):(r==="number"?sy:r==="string"?(n=Jm(t))?(t=n,G4):v_e:t instanceof Jm?G4:t instanceof Date?h_e:d_e(t)?u_e:Array.isArray(t)?f_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?m_e:sy)(e,t)}function SC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function x_e(e,t){t===void 0&&(t=e,e=Uf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function y_e(e){return function(){return e}}function ay(e){return+e}var Q4=[0,1];function Qn(e){return e}function C_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:y_e(isNaN(t)?NaN:.5)}function b_e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function w_e(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=C_(a,n),i=r(o,i)):(n=C_(n,a),i=r(i,o)),function(l){return i(n(l))}}function j_e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=C_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=og(e,l,1,n)-1;return i[c](a[c](l))}}function cg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function C0(){var e=Q4,t=Q4,r=Uf,n,a,i,o=Qn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Qn&&(o=b_e(e[0],e[h-1])),l=h>2?j_e:w_e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),sy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ay),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=SC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Qn,d()):o!==Qn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function kC(){return C0()(Qn,Qn)}function N_e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function iy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Kd(e){return e=iy(Math.abs(e)),e?e[1]:NaN}function __e(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function S_e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var k_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zm(e){if(!(t=k_e.exec(e)))throw new Error("invalid format: "+e);var t;return new CC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zm.prototype=CC.prototype;function CC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}CC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function C_e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var bV;function P_e(e,t){var r=iy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(bV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+iy(e,Math.max(0,t+i-1))[0]}function Y4(e,t){var r=iy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const X4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:N_e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Y4(e*100,t),r:Y4,s:P_e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function J4(e){return e}var Z4=Array.prototype.map,eI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function E_e(e){var t=e.grouping===void 0||e.thousands===void 0?J4:__e(Z4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?J4:S_e(Z4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Zm(f);var h=f.fill,p=f.align,y=f.sign,m=f.symbol,w=f.zero,g=f.width,v=f.comma,b=f.precision,j=f.trim,_=f.type;_==="n"?(v=!0,_="g"):X4[_]||(b===void 0&&(b=12),j=!0,_="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",S=m==="$"?n:/[%p]/.test(_)?o:"",C=X4[_],P=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(E){var T=N,I=S,R,D,O;if(_==="c")I=C(E)+I,E="";else{E=+E;var W=E<0||1/E<0;if(E=isNaN(E)?c:C(Math.abs(E),b),j&&(E=C_e(E)),W&&+E==0&&y!=="+"&&(W=!1),T=(W?y==="("?y:l:y==="-"||y==="("?"":y)+T,I=(_==="s"?eI[8+bV/3]:"")+I+(W&&y==="("?")":""),P){for(R=-1,D=E.length;++R<D;)if(O=E.charCodeAt(R),48>O||O>57){I=(O===46?a+E.slice(R+1):E.slice(R))+I,E=E.slice(0,R);break}}}v&&!w&&(E=t(E,1/0));var A=T.length+E.length+I.length,$=A<g?new Array(g-A+1).join(h):"";switch(v&&w&&(E=t($+E,$.length?g-I.length:1/0),$=""),p){case"<":E=T+E+I+$;break;case"=":E=T+$+E+I;break;case"^":E=$.slice(0,A=$.length>>1)+T+E+I+$.slice(A);break;default:E=$+T+E+I;break}return i(E)}return k.toString=function(){return f+""},k}function d(f,h){var p=u((f=Zm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Kd(h)/3)))*3,m=Math.pow(10,-y),w=eI[8+y/3];return function(g){return p(m*g)+w}}return{format:u,formatPrefix:d}}var av,PC,wV;A_e({thousands:",",grouping:[3],currency:["$",""]});function A_e(e){return av=E_e(e),PC=av.format,wV=av.formatPrefix,av}function O_e(e){return Math.max(0,-Kd(Math.abs(e)))}function T_e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kd(t)/3)))*3-Kd(Math.abs(e)))}function I_e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kd(t)-Kd(e))+1}function jV(e,t,r,n){var a=N_(e,t,r),i;switch(n=Zm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=T_e(a,o))&&(n.precision=i),wV(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=I_e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=O_e(a))&&(n.precision=i-(n.type==="%")*2);break}}return PC(n)}function pl(e){var t=e.domain;return e.ticks=function(r){var n=t();return w_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return jV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=j_(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function oy(){var e=kC();return e.copy=function(){return cg(e,oy())},va.apply(e,arguments),pl(e)}function NV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ay),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return NV(e).unknown(t)},e=arguments.length?Array.from(e,ay):[0,1],pl(r)}function _V(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function tI(e){return Math.log(e)}function rI(e){return Math.exp(e)}function R_e(e){return-Math.log(-e)}function M_e(e){return-Math.exp(-e)}function $_e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function D_e(e){return e===10?$_e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function L_e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nI(e){return(t,r)=>-e(-t,r)}function EC(e){const t=e(tI,rI),r=t.domain;let n=10,a,i;function o(){return a=L_e(n),i=D_e(n),r()[0]<0?(a=nI(a),i=nI(i),e(R_e,M_e)):e(tI,rI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),y,m;const w=l==null?10:+l;let g=[];if(!(n%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;g.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;g.push(m)}g.length*2<w&&(g=w_(u,d,w))}else g=w_(h,p,Math.min(p-h,w)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Zm(c)).precision==null&&(c.trim=!0),c=PC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(_V(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function SV(){const e=EC(C0()).domain([1,10]);return e.copy=()=>cg(e,SV()).base(e.base()),va.apply(e,arguments),e}function sI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function AC(e){var t=1,r=e(sI(t),aI(t));return r.constant=function(n){return arguments.length?e(sI(t=+n),aI(t)):t},pl(r)}function kV(){var e=AC(C0());return e.copy=function(){return cg(e,kV()).constant(e.constant())},va.apply(e,arguments)}function iI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function F_e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function U_e(e){return e<0?-e*e:e*e}function OC(e){var t=e(Qn,Qn),r=1;function n(){return r===1?e(Qn,Qn):r===.5?e(F_e,U_e):e(iI(r),iI(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},pl(t)}function TC(){var e=OC(C0());return e.copy=function(){return cg(e,TC()).exponent(e.exponent())},va.apply(e,arguments),e}function B_e(){return TC.apply(null,arguments).exponent(.5)}function oI(e){return Math.sign(e)*e*e}function V_e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function CV(){var e=kC(),t=[0,1],r=!1,n;function a(i){var o=V_e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(oI(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ay)).map(oI)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return CV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},va.apply(a,arguments),pl(a)}function PV(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=HNe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[og(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ho),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return PV().domain(e).range(t).unknown(n)},va.apply(i,arguments)}function EV(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[og(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return EV().domain([e,t]).range(a).unknown(i)},va.apply(pl(o),arguments)}function AV(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[og(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return AV().domain(e).range(t).unknown(r)},va.apply(a,arguments)}const _j=new Date,Sj=new Date;function fn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>fn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(_j.setTime(+i),Sj.setTime(+o),e(_j),e(Sj),Math.floor(r(_j,Sj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const ly=fn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ly.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ly);ly.range;const Ri=1e3,ea=Ri*60,Mi=ea*60,Yi=Mi*24,IC=Yi*7,lI=Yi*30,kj=Yi*365,Kl=fn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCSeconds());Kl.range;const RC=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getMinutes());RC.range;const MC=fn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCMinutes());MC.range;const $C=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri-e.getMinutes()*ea)},(e,t)=>{e.setTime(+e+t*Mi)},(e,t)=>(t-e)/Mi,e=>e.getHours());$C.range;const DC=fn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mi)},(e,t)=>(t-e)/Mi,e=>e.getUTCHours());DC.range;const ug=fn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ea)/Yi,e=>e.getDate()-1);ug.range;const P0=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>e.getUTCDate()-1);P0.range;const OV=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>Math.floor(e/Yi));OV.range;function Uc(e){return fn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ea)/IC)}const E0=Uc(0),cy=Uc(1),q_e=Uc(2),z_e=Uc(3),Hd=Uc(4),W_e=Uc(5),K_e=Uc(6);E0.range;cy.range;q_e.range;z_e.range;Hd.range;W_e.range;K_e.range;function Bc(e){return fn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/IC)}const A0=Bc(0),uy=Bc(1),H_e=Bc(2),G_e=Bc(3),Gd=Bc(4),Q_e=Bc(5),Y_e=Bc(6);A0.range;uy.range;H_e.range;G_e.range;Gd.range;Q_e.range;Y_e.range;const LC=fn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());LC.range;const FC=fn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());FC.range;const Xi=fn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Xi.range;const Ji=fn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ji.range;function TV(e,t,r,n,a,i){const o=[[Kl,1,Ri],[Kl,5,5*Ri],[Kl,15,15*Ri],[Kl,30,30*Ri],[i,1,ea],[i,5,5*ea],[i,15,15*ea],[i,30,30*ea],[a,1,Mi],[a,3,3*Mi],[a,6,6*Mi],[a,12,12*Mi],[n,1,Yi],[n,2,2*Yi],[r,1,IC],[t,1,lI],[t,3,3*lI],[e,1,kj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=wC(([,,w])=>w).right(o,h);if(p===o.length)return e.every(N_(u/kj,d/kj,f));if(p===0)return ly.every(Math.max(N_(u,d,f),1));const[y,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[X_e,J_e]=TV(Ji,FC,A0,OV,DC,MC),[Z_e,eSe]=TV(Xi,LC,E0,ug,$C,RC);function Cj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Pj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tSe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=hh(a),d=mh(a),f=hh(i),h=mh(i),p=hh(o),y=mh(o),m=hh(l),w=mh(l),g=hh(c),v=mh(c),b={a:W,A,b:$,B:Q,c:null,d:mI,e:mI,f:_Se,g:RSe,G:$Se,H:wSe,I:jSe,j:NSe,L:IV,m:SSe,M:kSe,p:X,q:U,Q:vI,s:xI,S:CSe,u:PSe,U:ESe,V:ASe,w:OSe,W:TSe,x:null,X:null,y:ISe,Y:MSe,Z:DSe,"%":gI},j={a:J,A:z,b:ee,B:pe,c:null,d:pI,e:pI,f:BSe,g:XSe,G:ZSe,H:LSe,I:FSe,j:USe,L:MV,m:VSe,M:qSe,p:te,q:be,Q:vI,s:xI,S:zSe,u:WSe,U:KSe,V:HSe,w:GSe,W:QSe,x:null,X:null,y:YSe,Y:JSe,Z:eke,"%":gI},_={a:k,A:E,b:T,B:I,c:R,d:fI,e:fI,f:vSe,g:dI,G:uI,H:hI,I:hI,j:hSe,L:gSe,m:fSe,M:mSe,p:P,q:dSe,Q:ySe,s:bSe,S:pSe,u:iSe,U:oSe,V:lSe,w:aSe,W:cSe,x:D,X:O,y:dI,Y:uI,Z:uSe,"%":xSe};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(ae,B){return function(ce){var G=[],L=-1,ve=0,Fe=ae.length,st,vt,qt;for(ce instanceof Date||(ce=new Date(+ce));++L<Fe;)ae.charCodeAt(L)===37&&(G.push(ae.slice(ve,L)),(vt=cI[st=ae.charAt(++L)])!=null?st=ae.charAt(++L):vt=st==="e"?" ":"0",(qt=B[st])&&(st=qt(ce,vt)),G.push(st),ve=L+1);return G.push(ae.slice(ve,L)),G.join("")}}function S(ae,B){return function(ce){var G=fh(1900,void 0,1),L=C(G,ae,ce+="",0),ve,Fe;if(L!=ce.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(B&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(ve=Pj(fh(G.y,0,1)),Fe=ve.getUTCDay(),ve=Fe>4||Fe===0?uy.ceil(ve):uy(ve),ve=P0.offset(ve,(G.V-1)*7),G.y=ve.getUTCFullYear(),G.m=ve.getUTCMonth(),G.d=ve.getUTCDate()+(G.w+6)%7):(ve=Cj(fh(G.y,0,1)),Fe=ve.getDay(),ve=Fe>4||Fe===0?cy.ceil(ve):cy(ve),ve=ug.offset(ve,(G.V-1)*7),G.y=ve.getFullYear(),G.m=ve.getMonth(),G.d=ve.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Fe="Z"in G?Pj(fh(G.y,0,1)).getUTCDay():Cj(fh(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Fe+5)%7:G.w+G.U*7-(Fe+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Pj(G)):Cj(G)}}function C(ae,B,ce,G){for(var L=0,ve=B.length,Fe=ce.length,st,vt;L<ve;){if(G>=Fe)return-1;if(st=B.charCodeAt(L++),st===37){if(st=B.charAt(L++),vt=_[st in cI?B.charAt(L++):st],!vt||(G=vt(ae,ce,G))<0)return-1}else if(st!=ce.charCodeAt(G++))return-1}return G}function P(ae,B,ce){var G=u.exec(B.slice(ce));return G?(ae.p=d.get(G[0].toLowerCase()),ce+G[0].length):-1}function k(ae,B,ce){var G=p.exec(B.slice(ce));return G?(ae.w=y.get(G[0].toLowerCase()),ce+G[0].length):-1}function E(ae,B,ce){var G=f.exec(B.slice(ce));return G?(ae.w=h.get(G[0].toLowerCase()),ce+G[0].length):-1}function T(ae,B,ce){var G=g.exec(B.slice(ce));return G?(ae.m=v.get(G[0].toLowerCase()),ce+G[0].length):-1}function I(ae,B,ce){var G=m.exec(B.slice(ce));return G?(ae.m=w.get(G[0].toLowerCase()),ce+G[0].length):-1}function R(ae,B,ce){return C(ae,t,B,ce)}function D(ae,B,ce){return C(ae,r,B,ce)}function O(ae,B,ce){return C(ae,n,B,ce)}function W(ae){return o[ae.getDay()]}function A(ae){return i[ae.getDay()]}function $(ae){return c[ae.getMonth()]}function Q(ae){return l[ae.getMonth()]}function X(ae){return a[+(ae.getHours()>=12)]}function U(ae){return 1+~~(ae.getMonth()/3)}function J(ae){return o[ae.getUTCDay()]}function z(ae){return i[ae.getUTCDay()]}function ee(ae){return c[ae.getUTCMonth()]}function pe(ae){return l[ae.getUTCMonth()]}function te(ae){return a[+(ae.getUTCHours()>=12)]}function be(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var B=N(ae+="",b);return B.toString=function(){return ae},B},parse:function(ae){var B=S(ae+="",!1);return B.toString=function(){return ae},B},utcFormat:function(ae){var B=N(ae+="",j);return B.toString=function(){return ae},B},utcParse:function(ae){var B=S(ae+="",!0);return B.toString=function(){return ae},B}}}var cI={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,rSe=/^%/,nSe=/[\\^$*+?|[\]().{}]/g;function Ut(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function sSe(e){return e.replace(nSe,"\\$&")}function hh(e){return new RegExp("^(?:"+e.map(sSe).join("|")+")","i")}function mh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function aSe(e,t,r){var n=bn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function iSe(e,t,r){var n=bn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function oSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function lSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function cSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function uI(e,t,r){var n=bn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function dI(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uSe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dSe(e,t,r){var n=bn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function fSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fI(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function hSe(e,t,r){var n=bn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function hI(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function mSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function pSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function gSe(e,t,r){var n=bn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function vSe(e,t,r){var n=bn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function xSe(e,t,r){var n=rSe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ySe(e,t,r){var n=bn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function bSe(e,t,r){var n=bn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mI(e,t){return Ut(e.getDate(),t,2)}function wSe(e,t){return Ut(e.getHours(),t,2)}function jSe(e,t){return Ut(e.getHours()%12||12,t,2)}function NSe(e,t){return Ut(1+ug.count(Xi(e),e),t,3)}function IV(e,t){return Ut(e.getMilliseconds(),t,3)}function _Se(e,t){return IV(e,t)+"000"}function SSe(e,t){return Ut(e.getMonth()+1,t,2)}function kSe(e,t){return Ut(e.getMinutes(),t,2)}function CSe(e,t){return Ut(e.getSeconds(),t,2)}function PSe(e){var t=e.getDay();return t===0?7:t}function ESe(e,t){return Ut(E0.count(Xi(e)-1,e),t,2)}function RV(e){var t=e.getDay();return t>=4||t===0?Hd(e):Hd.ceil(e)}function ASe(e,t){return e=RV(e),Ut(Hd.count(Xi(e),e)+(Xi(e).getDay()===4),t,2)}function OSe(e){return e.getDay()}function TSe(e,t){return Ut(cy.count(Xi(e)-1,e),t,2)}function ISe(e,t){return Ut(e.getFullYear()%100,t,2)}function RSe(e,t){return e=RV(e),Ut(e.getFullYear()%100,t,2)}function MSe(e,t){return Ut(e.getFullYear()%1e4,t,4)}function $Se(e,t){var r=e.getDay();return e=r>=4||r===0?Hd(e):Hd.ceil(e),Ut(e.getFullYear()%1e4,t,4)}function DSe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ut(t/60|0,"0",2)+Ut(t%60,"0",2)}function pI(e,t){return Ut(e.getUTCDate(),t,2)}function LSe(e,t){return Ut(e.getUTCHours(),t,2)}function FSe(e,t){return Ut(e.getUTCHours()%12||12,t,2)}function USe(e,t){return Ut(1+P0.count(Ji(e),e),t,3)}function MV(e,t){return Ut(e.getUTCMilliseconds(),t,3)}function BSe(e,t){return MV(e,t)+"000"}function VSe(e,t){return Ut(e.getUTCMonth()+1,t,2)}function qSe(e,t){return Ut(e.getUTCMinutes(),t,2)}function zSe(e,t){return Ut(e.getUTCSeconds(),t,2)}function WSe(e){var t=e.getUTCDay();return t===0?7:t}function KSe(e,t){return Ut(A0.count(Ji(e)-1,e),t,2)}function $V(e){var t=e.getUTCDay();return t>=4||t===0?Gd(e):Gd.ceil(e)}function HSe(e,t){return e=$V(e),Ut(Gd.count(Ji(e),e)+(Ji(e).getUTCDay()===4),t,2)}function GSe(e){return e.getUTCDay()}function QSe(e,t){return Ut(uy.count(Ji(e)-1,e),t,2)}function YSe(e,t){return Ut(e.getUTCFullYear()%100,t,2)}function XSe(e,t){return e=$V(e),Ut(e.getUTCFullYear()%100,t,2)}function JSe(e,t){return Ut(e.getUTCFullYear()%1e4,t,4)}function ZSe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gd(e):Gd.ceil(e),Ut(e.getUTCFullYear()%1e4,t,4)}function eke(){return"+0000"}function gI(){return"%"}function vI(e){return+e}function xI(e){return Math.floor(+e/1e3)}var xu,DV,LV;tke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tke(e){return xu=tSe(e),DV=xu.format,xu.parse,LV=xu.utcFormat,xu.utcParse,xu}function rke(e){return new Date(e)}function nke(e){return e instanceof Date?+e:+new Date(+e)}function UC(e,t,r,n,a,i,o,l,c,u){var d=kC(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),w=u("%I %p"),g=u("%a %d"),v=u("%b %d"),b=u("%B"),j=u("%Y");function _(N){return(c(N)<N?p:l(N)<N?y:o(N)<N?m:i(N)<N?w:n(N)<N?a(N)<N?g:v:r(N)<N?b:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,nke)):h().map(rke)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?_:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(_V(S,N)):d},d.copy=function(){return cg(d,UC(e,t,r,n,a,i,o,l,c,u))},d}function ske(){return va.apply(UC(Z_e,eSe,Xi,LC,E0,ug,$C,RC,Kl,DV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ake(){return va.apply(UC(X_e,J_e,Ji,FC,A0,P0,DC,MC,Kl,LV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function O0(){var e=0,t=1,r,n,a,i,o=Qn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(Uf),u.rangeRound=d(SC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function gl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FV(){var e=pl(O0()(Qn));return e.copy=function(){return gl(e,FV())},ao.apply(e,arguments)}function UV(){var e=EC(O0()).domain([1,10]);return e.copy=function(){return gl(e,UV()).base(e.base())},ao.apply(e,arguments)}function BV(){var e=AC(O0());return e.copy=function(){return gl(e,BV()).constant(e.constant())},ao.apply(e,arguments)}function BC(){var e=OC(O0());return e.copy=function(){return gl(e,BC()).exponent(e.exponent())},ao.apply(e,arguments)}function ike(){return BC.apply(null,arguments).exponent(.5)}function VV(){var e=[],t=Qn;function r(n){if(n!=null&&!isNaN(n=+n))return t((og(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ho),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>KNe(e,i/n))},r.copy=function(){return VV(t).domain(e)},ao.apply(r,arguments)}function T0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Qn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(w){var g,v,b;return arguments.length?([g,v,b]=w,u=x_e(m,[g,v,b]),p):[u(0),u(.5),u(1)]}}return p.range=y(Uf),p.rangeRound=y(SC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function qV(){var e=pl(T0()(Qn));return e.copy=function(){return gl(e,qV())},ao.apply(e,arguments)}function zV(){var e=EC(T0()).domain([.1,1,10]);return e.copy=function(){return gl(e,zV()).base(e.base())},ao.apply(e,arguments)}function WV(){var e=AC(T0());return e.copy=function(){return gl(e,WV()).constant(e.constant())},ao.apply(e,arguments)}function VC(){var e=OC(T0());return e.copy=function(){return gl(e,VC()).exponent(e.exponent())},ao.apply(e,arguments)}function oke(){return VC.apply(null,arguments).exponent(.5)}const yI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qm,scaleDiverging:qV,scaleDivergingLog:zV,scaleDivergingPow:VC,scaleDivergingSqrt:oke,scaleDivergingSymlog:WV,scaleIdentity:NV,scaleImplicit:__,scaleLinear:oy,scaleLog:SV,scaleOrdinal:jC,scalePoint:Xh,scalePow:TC,scaleQuantile:PV,scaleQuantize:EV,scaleRadial:CV,scaleSequential:FV,scaleSequentialLog:UV,scaleSequentialPow:BC,scaleSequentialQuantile:VV,scaleSequentialSqrt:ike,scaleSequentialSymlog:BV,scaleSqrt:B_e,scaleSymlog:kV,scaleThreshold:AV,scaleTime:ske,scaleUtc:ake,tickFormat:jV},Symbol.toStringTag,{value:"Module"}));var lke=Of;function cke(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!lke(o):r(o,l)))var l=o,c=i}return c}var I0=cke;function uke(e,t){return e>t}var KV=uke,dke=I0,fke=KV,hke=Lf;function mke(e){return e&&e.length?dke(e,hke,fke):void 0}var pke=mke;const R0=Gt(pke);function gke(e,t){return e<t}var HV=gke,vke=I0,xke=HV,yke=Lf;function bke(e){return e&&e.length?vke(e,yke,xke):void 0}var wke=bke;const M0=Gt(wke);var jke=rC,Nke=gi,_ke=tV,Ske=xs;function kke(e,t){var r=Ske(e)?jke:_ke;return r(e,Nke(t))}var Cke=kke,Pke=ZB,Eke=Cke;function Ake(e,t){return Pke(Eke(e,t),1)}var Oke=Ake;const Tke=Gt(Oke);var Ike=vC;function Rke(e,t){return Ike(e,t)}var Mke=Rke;const $0=Gt(Mke);var Bf=1e9,$ke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zC,jr=!0,da="[DecimalError] ",oc=da+"Invalid argument: ",qC=da+"Exponent out of range: ",Vf=Math.floor,Rl=Math.pow,Dke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Es,pn=1e7,vr=7,GV=9007199254740991,dy=Vf(GV/vr),Be={};Be.absoluteValue=Be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Be.comparedTo=Be.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*vr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Be.dividedBy=Be.div=function(e){return Fi(this,new this.constructor(e))};Be.dividedToIntegerBy=Be.idiv=function(e){var t=this,r=t.constructor;return ir(Fi(t,new r(e),0,1),r.precision)};Be.equals=Be.eq=function(e){return!this.cmp(e)};Be.exponent=function(){return Xr(this)};Be.greaterThan=Be.gt=function(e){return this.cmp(e)>0};Be.greaterThanOrEqualTo=Be.gte=function(e){return this.cmp(e)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(e){return this.cmp(e)<0};Be.lessThanOrEqualTo=Be.lte=function(e){return this.cmp(e)<1};Be.logarithm=Be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Es))throw Error(da+"NaN");if(r.s<1)throw Error(da+(r.s?"NaN":"-Infinity"));return r.eq(Es)?new n(0):(jr=!1,t=Fi(ep(r,i),ep(e,i),i),jr=!0,ir(t,a))};Be.minus=Be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XV(t,e):QV(t,(e.s=-e.s,e))};Be.modulo=Be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(da+"NaN");return r.s?(jr=!1,t=Fi(r,e,0,1).times(e),jr=!0,r.minus(t)):ir(new n(r),a)};Be.naturalExponential=Be.exp=function(){return YV(this)};Be.naturalLogarithm=Be.ln=function(){return ep(this)};Be.negated=Be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Be.plus=Be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QV(t,e):XV(t,(e.s=-e.s,e))};Be.precision=Be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(oc+e);if(t=Xr(a)+1,n=a.d.length-1,r=n*vr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Be.squareRoot=Be.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(da+"NaN")}for(e=Xr(l),jr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ri(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Fi(l,i,o+2)).times(.5),ri(i.d).slice(0,o)===(t=ri(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ir(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return jr=!0,ir(n,r)};Be.times=Be.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%pn|0,t=l/pn|0;i[a]=(i[a]+t)%pn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,jr?ir(e,f.precision):e};Be.toDecimalPlaces=Be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(fi(e,0,Bf),t===void 0?t=n.rounding:fi(t,0,8),ir(r,e+Xr(r)+1,t))};Be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ec(n,!0):(fi(e,0,Bf),t===void 0?t=a.rounding:fi(t,0,8),n=ir(new a(n),e+1,t),r=Ec(n,!0,e+1)),r};Be.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ec(a):(fi(e,0,Bf),t===void 0?t=i.rounding:fi(t,0,8),n=ir(new i(a),e+Xr(a)+1,t),r=Ec(n.abs(),!1,e+Xr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Be.toInteger=Be.toint=function(){var e=this,t=e.constructor;return ir(new t(e),Xr(e)+1,t.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Es);if(l=new c(l),!l.s){if(e.s<1)throw Error(da+"Infinity");return l}if(l.eq(Es))return l;if(n=c.precision,e.eq(Es))return ir(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=GV){for(a=new c(Es),t=Math.ceil(n/vr+4),jr=!1;r%2&&(a=a.times(l),wI(a.d,t)),r=Vf(r/2),r!==0;)l=l.times(l),wI(l.d,t);return jr=!0,e.s<0?new c(Es).div(a):ir(a,n)}}else if(i<0)throw Error(da+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,jr=!1,a=e.times(ep(l,n+u)),jr=!0,a=YV(a),a.s=i,a};Be.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Xr(a),n=Ec(a,r<=i.toExpNeg||r>=i.toExpPos)):(fi(e,1,Bf),t===void 0?t=i.rounding:fi(t,0,8),a=ir(new i(a),e,t),r=Xr(a),n=Ec(a,e<=r||r<=i.toExpNeg,e)),n};Be.toSignificantDigits=Be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(fi(e,1,Bf),t===void 0?t=n.rounding:fi(t,0,8)),ir(new n(r),e,t)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xr(e),r=e.constructor;return Ec(e,t<=r.toExpNeg||t>=r.toExpPos)};function QV(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),jr?ir(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/vr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/pn|0,c[i]%=pn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,jr?ir(t,f):t}function fi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(oc+e)}function ri(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=vr-n.length,r&&(i+=yo(r)),i+=n;o=e[t],n=o+"",r=vr-n.length,r&&(i+=yo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fi=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%pn|0,o=i/pn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*pn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,y,m,w,g,v,b,j,_,N,S,C,P=n.constructor,k=n.s==a.s?1:-1,E=n.d,T=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(da+"Division by zero");for(c=n.e-a.e,S=T.length,_=E.length,p=new P(k),y=p.d=[],u=0;T[u]==(E[u]||0);)++u;if(T[u]>(E[u]||0)&&--c,i==null?v=i=P.precision:o?v=i+(Xr(n)-Xr(a))+1:v=i,v<0)return new P(0);if(v=v/vr+2|0,u=0,S==1)for(d=0,T=T[0],v++;(u<_||d)&&v--;u++)b=d*pn+(E[u]||0),y[u]=b/T|0,d=b%T|0;else{for(d=pn/(T[0]+1)|0,d>1&&(T=e(T,d),E=e(E,d),S=T.length,_=E.length),j=S,m=E.slice(0,S),w=m.length;w<S;)m[w++]=0;C=T.slice(),C.unshift(0),N=T[0],T[1]>=pn/2&&++N;do d=0,l=t(T,m,S,w),l<0?(g=m[0],S!=w&&(g=g*pn+(m[1]||0)),d=g/N|0,d>1?(d>=pn&&(d=pn-1),f=e(T,d),h=f.length,w=m.length,l=t(f,m,h,w),l==1&&(d--,r(f,S<h?C:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<w&&f.unshift(0),r(m,f,w),l==-1&&(w=m.length,l=t(T,m,S,w),l<1&&(d++,r(m,S<w?C:T,w))),w=m.length):l===0&&(d++,m=[0]),y[u++]=d,l&&m[0]?m[w++]=E[j]||0:(m=[E[j]],w=1);while((j++<_||m[0]!==void 0)&&v--)}return y[0]||y.shift(),p.e=c,ir(p,o?i+Xr(p)+1:i)}}();function YV(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Xr(e)>16)throw Error(qC+Xr(e));if(!e.s)return new d(Es);for(jr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Rl(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Es),d.precision=l;;){if(a=ir(a.times(e),l),r=r.times(++c),o=i.plus(Fi(a,r,l)),ri(o.d).slice(0,l)===ri(i.d).slice(0,l)){for(;u--;)i=ir(i.times(i),l);return d.precision=f,t==null?(jr=!0,ir(i,f)):i}i=o}}function Xr(e){for(var t=e.e*vr,r=e.d[0];r>=10;r/=10)t++;return t}function Ej(e,t,r){if(t>e.LN10.sd())throw jr=!0,r&&(e.precision=r),Error(da+"LN10 precision limit exceeded");return ir(new e(e.LN10),t)}function yo(e){for(var t="";e--;)t+="0";return t}function ep(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,y=p.d,m=p.constructor,w=m.precision;if(p.s<1)throw Error(da+(p.s?"NaN":"-Infinity"));if(p.eq(Es))return new m(0);if(t==null?(jr=!1,u=w):u=t,p.eq(10))return t==null&&(jr=!0),Ej(m,u);if(u+=h,m.precision=u,r=ri(y),n=r.charAt(0),i=Xr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ri(p.d),n=r.charAt(0),f++;i=Xr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Ej(m,u+2,w).times(i+""),p=ep(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=w,t==null?(jr=!0,ir(p,w)):p;for(l=o=p=Fi(p.minus(Es),p.plus(Es),u),d=ir(p.times(p),u),a=3;;){if(o=ir(o.times(d),u),c=l.plus(Fi(o,new m(a),u)),ri(c.d).slice(0,u)===ri(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Ej(m,u+2,w).times(i+""))),l=Fi(l,new m(f),u),m.precision=w,t==null?(jr=!0,ir(l,w)):l;l=c,a+=2}}function bI(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Vf(r/vr),e.d=[],n=(r+1)%vr,r<0&&(n+=vr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=vr;n<a;)e.d.push(+t.slice(n,n+=vr));t=t.slice(n),n=vr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),jr&&(e.e>dy||e.e<-dy))throw Error(qC+r)}else e.s=0,e.e=0,e.d=[0];return e}function ir(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=vr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/vr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=vr,a=n-vr+o}if(r!==void 0&&(i=Rl(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Rl(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Xr(e),f.length=1,t=t-i-1,f[0]=Rl(10,(vr-t%vr)%vr),e.e=Vf(-t/vr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Rl(10,vr-n),f[d]=a>0?(u/Rl(10,o-a)%Rl(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==pn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=pn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(jr&&(e.e>dy||e.e<-dy))throw Error(qC+Xr(e));return e}function XV(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),jr?ir(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/vr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=pn-1;--c[i],c[a]+=pn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,jr?ir(t,p):t):new h(0)}function Ec(e,t,r){var n,a=Xr(e),i=ri(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+yo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+yo(-a-1)+i,r&&(n=r-o)>0&&(i+=yo(n))):a>=o?(i+=yo(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+yo(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=yo(n))),e.s<0?"-"+i:i}function wI(e,t){if(e.length>t)return e.length=t,!0}function JV(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(oc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return bI(o,i.toString())}else if(typeof i!="string")throw Error(oc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Dke.test(i))bI(o,i);else throw Error(oc+i)}if(a.prototype=Be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=JV,a.config=a.set=Lke,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Lke(e){if(!e||typeof e!="object")throw Error(da+"Object expected");var t,r,n,a=["precision",1,Bf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Vf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(oc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(oc+r+": "+n);return this}var zC=JV($ke);Es=new zC(1);const nr=zC;function Fke(e){return qke(e)||Vke(e)||Bke(e)||Uke()}function Uke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bke(e,t){if(e){if(typeof e=="string")return P_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P_(e,t)}}function Vke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qke(e){if(Array.isArray(e))return P_(e)}function P_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zke=function(t){return t},ZV={},eq=function(t){return t===ZV},jI=function(t){return function r(){return arguments.length===0||arguments.length===1&&eq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Wke=function e(t,r){return t===1?r:jI(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==ZV}).length;return o>=t?r.apply(void 0,a):e(t-o,jI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return eq(f)?c.shift():f});return r.apply(void 0,Fke(d).concat(c))}))})},D0=function(t){return Wke(t.length,t)},E_=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Kke=D0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Hke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return zke;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},A_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},tq=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Gke(e){var t;return e===0?t=1:t=Math.floor(new nr(e).abs().log(10).toNumber())+1,t}function Qke(e,t,r){for(var n=new nr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Yke=D0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Xke=D0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Jke=D0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const L0={rangeStep:Qke,getDigitCount:Gke,interpolateNumber:Yke,uninterpolateNumber:Xke,uninterpolateTruncation:Jke};function O_(e){return t2e(e)||e2e(e)||rq(e)||Zke()}function Zke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function t2e(e){if(Array.isArray(e))return T_(e)}function tp(e,t){return s2e(e)||n2e(e,t)||rq(e,t)||r2e()}function r2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(e,t){if(e){if(typeof e=="string")return T_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T_(e,t)}}function T_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n2e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function s2e(e){if(Array.isArray(e))return e}function nq(e){var t=tp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function sq(e,t,r){if(e.lte(0))return new nr(0);var n=L0.getDigitCount(e.toNumber()),a=new nr(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new nr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new nr(Math.ceil(c))}function a2e(e,t,r){var n=1,a=new nr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new nr(10).pow(L0.getDigitCount(e)-1),a=new nr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new nr(Math.floor(e)))}else e===0?a=new nr(Math.floor((t-1)/2)):r||(a=new nr(Math.floor(e)));var o=Math.floor((t-1)/2),l=Hke(Kke(function(c){return a.add(new nr(c-o).mul(n)).toNumber()}),E_);return l(0,t)}function aq(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new nr(0),tickMin:new nr(0),tickMax:new nr(0)};var i=sq(new nr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new nr(0):(o=new nr(e).add(t).div(2),o=o.sub(new nr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new nr(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?aq(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new nr(l).mul(i)),tickMax:o.add(new nr(c).mul(i))})}function i2e(e){var t=tp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=nq([r,n]),c=tp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(O_(E_(0,a-1).map(function(){return 1/0}))):[].concat(O_(E_(0,a-1).map(function(){return-1/0})),[d]);return r>n?A_(f):f}if(u===d)return a2e(u,a,i);var h=aq(u,d,o,i),p=h.step,y=h.tickMin,m=h.tickMax,w=L0.rangeStep(y,m.add(new nr(.1).mul(p)),p);return r>n?A_(w):w}function o2e(e,t){var r=tp(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=nq([n,a]),l=tp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=sq(new nr(u).sub(c).div(d-1),i,0),h=[].concat(O_(L0.rangeStep(new nr(c),new nr(u).sub(new nr(.99).mul(f)),f)),[u]);return n>a?A_(h):h}var l2e=tq(i2e),c2e=tq(o2e),u2e="Invariant failed";function Ac(e,t){throw new Error(u2e)}var d2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(this,arguments)}function f2e(e,t){return g2e(e)||p2e(e,t)||m2e(e,t)||h2e()}function h2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m2e(e,t){if(e){if(typeof e=="string")return NI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NI(e,t)}}function NI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function g2e(e){if(Array.isArray(e))return e}function v2e(e,t){if(e==null)return{};var r=x2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lq(n.key),n)}}function w2e(e,t,r){return t&&b2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j2e(e,t,r){return t=hy(t),N2e(e,iq()?Reflect.construct(t,r||[],hy(e).constructor):t.apply(e,r))}function N2e(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _2e(e)}function _2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iq=function(){return!!e})()}function hy(e){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hy(e)}function S2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I_(e,t)}function oq(e,t,r){return t=lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=k2e(e,"string");return Qd(t)=="symbol"?t:t+""}function k2e(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var F0=function(e){function t(){return y2e(this,t),j2e(this,t,arguments)}return S2e(t,e),w2e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=v2e(n,d2e),p=ut(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ac();var y=c.map(function(m){var w=u(m,l),g=w.x,v=w.y,b=w.value,j=w.errorVal;if(!j)return null;var _=[],N,S;if(Array.isArray(j)){var C=f2e(j,2);N=C[0],S=C[1]}else N=S=j;if(i==="vertical"){var P=d.scale,k=v+a,E=k+o,T=k-o,I=P(b-N),R=P(b+S);_.push({x1:R,y1:E,x2:R,y2:T}),_.push({x1:I,y1:k,x2:R,y2:k}),_.push({x1:I,y1:E,x2:I,y2:T})}else if(i==="horizontal"){var D=f.scale,O=g+a,W=O-o,A=O+o,$=D(b-N),Q=D(b+S);_.push({x1:W,y1:Q,x2:A,y2:Q}),_.push({x1:O,y1:$,x2:O,y2:Q}),_.push({x1:W,y1:$,x2:A,y2:$})}return F.createElement(Xt,fy({className:"recharts-errorBar",key:"bar-".concat(_.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),_.map(function(X){return F.createElement("line",fy({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return F.createElement(Xt,{className:"recharts-errorBars"},y)}}])}(F.Component);oq(F0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});oq(F0,"displayName","ErrorBar");function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function _I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(r),!0).forEach(function(n){C2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C2e(e,t,r){return t=P2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P2e(e){var t=E2e(e,"string");return rp(t)=="symbol"?t:t+""}function E2e(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cq=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ns(r,ac);if(!o)return null;var l=ac.defaultProps,c=l!==void 0?Sl(Sl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Sl(Sl({},h),f.props):{},y=p.dataKey,m=p.name,w=p.legendType,g=p.hide;return{inactive:g,dataKey:y,type:c.iconType||w||"square",color:WC(f),value:m||y,payload:p}}),Sl(Sl(Sl({},c),ac.getWithHeight(o,a)),{},{payload:u,item:o})};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function SI(e){return I2e(e)||T2e(e)||O2e(e)||A2e()}function A2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2e(e,t){if(e){if(typeof e=="string")return R_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R_(e,t)}}function T2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I2e(e){if(Array.isArray(e))return R_(e)}function R_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){id(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function id(e,t,r){return t=R2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R2e(e){var t=M2e(e,"string");return np(t)=="symbol"?t:t+""}function M2e(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(e,t,r){return Ct(e)||Ct(t)?r:ln(t)?Ms(e,t,r):ft(t)?t(e):r}function Jh(e,t,r,n){var a=Tke(e,function(l){return $n(l,t)});if(r==="number"){var i=a.filter(function(l){return Pe(l)||parseFloat(l)});return i.length?[M0(i),R0(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Ct(l)}):a;return o.map(function(l){return ln(l)||l instanceof Date?l:""})}var $2e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Hn(f-d)!==Hn(h-f)){var y=[];if(Hn(h-f)===Hn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{p=d;var w=h+c[1]-c[0];y[0]=Math.min(f,(w+f)/2),y[1]=Math.max(f,(w+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>g[0]&&t<=g[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var v=Math.min(d,h),b=Math.max(d,h);if(t>(v+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},WC=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},D2e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],m=y.items,w=y.cateAxisId,g=m.filter(function(S){return Li(S.type).indexOf("Bar")>=0});if(g&&g.length){var v=g[0].type.defaultProps,b=v!==void 0?Ir(Ir({},v),g[0].props):g[0].props,j=b.barSize,_=b[w];o[_]||(o[_]=[]);var N=Ct(j)?r:j;o[_].push({item:g[0],stackList:g.slice(1),barSize:Ct(N)?void 0:Gn(N,n,0)})}}return o},L2e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Gn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,y=o.reduce(function(j,_){return j+_.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var m=(a-y)/2>>0,w={offset:m-u,size:0};d=o.reduce(function(j,_){var N={item:_.item,position:{offset:w.offset+w.size+u,size:h?p:_.barSize}},S=[].concat(SI(j),[N]);return w=S[S.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(C){S.push({item:C,position:w})}),S},f)}else{var g=Gn(n,a,0,!0);a-2*g-(c-1)*u<=0&&(u=0);var v=(a-2*g-(c-1)*u)/c;v>1&&(v>>=0);var b=l===+l?Math.min(v,l):v;d=o.reduce(function(j,_,N){var S=[].concat(SI(j),[{item:_.item,position:{offset:g+(v+u)*N+(v-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},f)}return d},F2e=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=cq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&Pe(t[p]))return Ir(Ir({},t),{},id({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&Pe(t[y]))return Ir(Ir({},t),{},id({},y,t[y]+(h||0)))}return t},U2e=function(t,r,n){return Ct(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},uq=function(t,r,n,a,i){var o=r.props.children,l=aa(o,F0).filter(function(u){return U2e(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=$n(d,n);if(Ct(f))return u;var h=Array.isArray(f)?[M0(f),R0(f)]:[f,f],p=c.reduce(function(y,m){var w=$n(d,m,0),g=h[0]-Math.abs(Array.isArray(w)?w[0]:w),v=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(g,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},B2e=function(t,r,n,a,i){var o=r.map(function(l){return uq(t,l,n,i,a)}).filter(function(l){return!Ct(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},dq=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&uq(t,c,u,a)||Jh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},fq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},hq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},$i=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Hn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!sg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Aj=new WeakMap,iv=function(t,r){if(typeof r!="function")return t;Aj.has(t)||Aj.set(t,new WeakMap);var n=Aj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},mq=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Qm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:oy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Xh(),realScaleType:"point"}:i==="category"?{scale:Qm(),realScaleType:"band"}:{scale:oy(),realScaleType:"linear"};if(kc(a)){var c="scale".concat(y0(a));return{scale:(yI[c]||Xh)(),realScaleType:yI[c]?c:"point"}}return ft(a)?{scale:a}:{scale:Xh(),realScaleType:"point"}},CI=1e-4,pq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-CI,o=Math.max(a[0],a[1])+CI,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},V2e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},q2e=function(t,r){if(!r||r.length!==2||!Pe(r[0])||!Pe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(i[0]=n),(!Pe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},z2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=sg(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},W2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=sg(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},K2e={sign:z2e,expand:dge,none:Bd,silhouette:fge,wiggle:hge,positive:W2e},H2e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=K2e[n],o=uge().keys(a).value(function(l,c){return+$n(l,c,0)}).order(a_).offset(i);return o(t)},G2e=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ir(Ir({},h.type.defaultProps),h.props):h.props,m=y.stackId,w=y.hide;if(w)return f;var g=y[n],v=f[g]||{hasStack:!1,stackGroups:{}};if(ln(m)){var b=v.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),v.hasStack=!0,v.stackGroups[m]=b}else v.stackGroups[ag("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Ir(Ir({},f),{},id({},g,v))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,w){var g=p.stackGroups[w];return Ir(Ir({},m),{},id({},w,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:H2e(t,g.items,i)}))},y)}return Ir(Ir({},f),{},id({},h,p))},d)},gq=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=l2e(u,i,l);return t.domain([M0(d),R0(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=c2e(f,i,l);return{niceTicks:h}}return null},PI=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=$n(o,r.dataKey,r.domain[l]);return Ct(c)?null:r.scale(c)-i/2+a},Q2e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Y2e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ln(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},X2e=function(t){return t.reduce(function(r,n){return[M0(n.concat([r[0]]).filter(Pe)),R0(n.concat([r[1]]).filter(Pe))]},[1/0,-1/0])},vq=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=X2e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},EI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M_=function(t,r,n){if(ft(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Pe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(EI.test(t[0])){var i=+EI.exec(t[0])[1];a[0]=r[0]-i}else ft(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Pe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(AI.test(t[1])){var o=+AI.exec(t[1])[1];a[1]=r[1]+o}else ft(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},my=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=yC(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},OI=function(t,r,n){return!t||!t.length||$0(t,Ms(n,"type.defaultProps.domain"))?r:t},xq=function(t,r){var n=t.type.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ir(Ir({},ut(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:WC(t),value:$n(r,a),type:c,payload:r,chartType:u,hide:d})};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function TI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(r),!0).forEach(function(n){yq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yq(e,t,r){return t=J2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J2e(e){var t=Z2e(e,"string");return sp(t)=="symbol"?t:t+""}function Z2e(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eCe(e,t){return sCe(e)||nCe(e,t)||rCe(e,t)||tCe()}function tCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rCe(e,t){if(e){if(typeof e=="string")return II(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return II(e,t)}}function II(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sCe(e){if(Array.isArray(e))return e}var py=Math.PI/180,aCe=function(t){return t*180/Math.PI},fr=function(t,r,n,a){return{x:t+Math.cos(-py*a)*n,y:r+Math.sin(-py*a)*n}},bq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},iCe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Gn(t.cx,o,o/2),f=Gn(t.cy,l,l/2),h=bq(o,l,n),p=Gn(t.innerRadius,h,0),y=Gn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(w,g){var v=r[g],b=v.domain,j=v.reversed,_;if(Ct(v.range))a==="angleAxis"?_=[c,u]:a==="radiusAxis"&&(_=[p,y]),j&&(_=[_[1],_[0]]);else{_=v.range;var N=_,S=eCe(N,2);c=S[0],u=S[1]}var C=mq(v,i),P=C.realScaleType,k=C.scale;k.domain(b).range(_),pq(k);var E=gq(k,Si(Si({},v),{},{realScaleType:P})),T=Si(Si(Si({},v),E),{},{range:_,radius:y,realScaleType:P,scale:k,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Si(Si({},w),{},yq({},g,T))},{})},oCe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},lCe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=oCe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:aCe(u),angleInRadian:u}},cCe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},uCe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},RI=function(t,r){var n=t.x,a=t.y,i=lCe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=cCe(r),f=d.startAngle,h=d.endAngle,p=l,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?Si(Si({},r),{},{radius:o,angle:uCe(p,r)}):null},wq=function(t){return!x.isValidElement(t)&&!ft(t)&&typeof t!="boolean"?t.className:""};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}var dCe=["offset"];function fCe(e){return gCe(e)||pCe(e)||mCe(e)||hCe()}function hCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mCe(e,t){if(e){if(typeof e=="string")return $_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $_(e,t)}}function pCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gCe(e){if(Array.isArray(e))return $_(e)}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vCe(e,t){if(e==null)return{};var r=xCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(n){yCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yCe(e,t,r){return t=bCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bCe(e){var t=wCe(e,"string");return ap(t)=="symbol"?t:t+""}function wCe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(this,arguments)}var jCe=function(t){var r=t.value,n=t.formatter,a=Ct(t.children)?r:t.children;return ft(n)?n(a):a},NCe=function(t,r){var n=Hn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},_Ce=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,w=(f+h)/2,g=NCe(p,y),v=g>=0?1:-1,b,j;a==="insideStart"?(b=p+v*o,j=m):a==="insideEnd"?(b=y-v*o,j=!m):a==="end"&&(b=y+v*o,j=m),j=g<=0?j:!j;var _=fr(u,d,w,b),N=fr(u,d,w,b+(j?1:-1)*359),S="M".concat(_.x,",").concat(_.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),C=Ct(t.id)?ag("recharts-radial-line-"):t.id;return F.createElement("text",ip({},n,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",l)}),F.createElement("defs",null,F.createElement("path",{id:C,d:S})),F.createElement("textPath",{xlinkHref:"#".concat(C)},r))},SCe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=fr(o,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,g=fr(o,l,w,h),v=g.x,b=g.y;return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},kCe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,w=m*a,g=m>0?"end":"start",v=m>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return tn(tn({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return tn(tn({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var _={x:l-w,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return tn(tn({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+w,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return tn(tn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?tn({x:l+w,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},S):i==="insideRight"?tn({x:l+u-w,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideTop"?tn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},S):i==="insideBottom"?tn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?tn({x:l+w,y:c+h,textAnchor:v,verticalAnchor:y},S):i==="insideTopRight"?tn({x:l+u-w,y:c+h,textAnchor:g,verticalAnchor:y},S):i==="insideBottomLeft"?tn({x:l+w,y:c+d-h,textAnchor:v,verticalAnchor:p},S):i==="insideBottomRight"?tn({x:l+u-w,y:c+d-h,textAnchor:g,verticalAnchor:p},S):Tf(i)&&(Pe(i.x)||zl(i.x))&&(Pe(i.y)||zl(i.y))?tn({x:l+Gn(i.x,u),y:c+Gn(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):tn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},CCe=function(t){return"cx"in t&&Pe(t.cx)};function vn(e){var t=e.offset,r=t===void 0?5:t,n=vCe(e,dCe),a=tn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Ct(l)&&Ct(c)&&!x.isValidElement(u)&&!ft(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var p;if(ft(u)){if(p=x.createElement(u,a),x.isValidElement(p))return p}else p=jCe(a);var y=CCe(i),m=ut(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return _Ce(a,p,m);var w=y?SCe(a):kCe(a);return F.createElement(Pc,ip({className:xt("recharts-label",f)},m,w,{breakAll:h}),p)}vn.displayName="Label";var jq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,y=t.left,m=t.width,w=t.height,g=t.clockWise,v=t.labelViewBox;if(v)return v;if(Pe(m)&&Pe(w)){if(Pe(f)&&Pe(h))return{x:f,y:h,width:m,height:w};if(Pe(p)&&Pe(y))return{x:p,y,width:m,height:w}}return Pe(f)&&Pe(h)?{x:f,y:h,width:0,height:0}:Pe(r)&&Pe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},PCe=function(t,r){return t?t===!0?F.createElement(vn,{key:"label-implicit",viewBox:r}):ln(t)?F.createElement(vn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===vn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):F.createElement(vn,{key:"label-implicit",content:t,viewBox:r}):ft(t)?F.createElement(vn,{key:"label-implicit",content:t,viewBox:r}):Tf(t)?F.createElement(vn,ip({viewBox:r},t,{key:"label-implicit"})):null:null},ECe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=jq(t),o=aa(a,vn).map(function(c,u){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=PCe(t.label,r||i);return[l].concat(fCe(o))};vn.parseViewBox=jq;vn.renderCallByParent=ECe;function ACe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var OCe=ACe;const TCe=Gt(OCe);function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}var ICe=["valueAccessor"],RCe=["data","dataKey","clockWise","id","textBreakAll"];function MCe(e){return FCe(e)||LCe(e)||DCe(e)||$Ce()}function $Ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DCe(e,t){if(e){if(typeof e=="string")return D_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D_(e,t)}}function LCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FCe(e){if(Array.isArray(e))return D_(e)}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function $I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(r),!0).forEach(function(n){UCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UCe(e,t,r){return t=BCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BCe(e){var t=VCe(e,"string");return op(t)=="symbol"?t:t+""}function VCe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LI(e,t){if(e==null)return{};var r=qCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zCe=function(t){return Array.isArray(t.value)?TCe(t.value):t.value};function Go(e){var t=e.valueAccessor,r=t===void 0?zCe:t,n=LI(e,ICe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=LI(n,RCe);return!a||!a.length?null:F.createElement(Xt,{className:"recharts-label-list"},a.map(function(d,f){var h=Ct(i)?r(d,f):$n(d&&d.payload,i),p=Ct(l)?{}:{id:"".concat(l,"-").concat(f)};return F.createElement(vn,gy({},ut(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:vn.parseViewBox(Ct(o)?d:DI(DI({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Go.displayName="LabelList";function WCe(e,t){return e?e===!0?F.createElement(Go,{key:"labelList-implicit",data:t}):F.isValidElement(e)||ft(e)?F.createElement(Go,{key:"labelList-implicit",data:t,content:e}):Tf(e)?F.createElement(Go,gy({data:t},e,{key:"labelList-implicit"})):null:null}function KCe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=aa(n,Go).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=WCe(e.label,t);return[i].concat(MCe(a))}Go.renderCallByParent=KCe;function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(this,arguments)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){HCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HCe(e,t,r){return t=GCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GCe(e){var t=QCe(e,"string");return lp(t)=="symbol"?t:t+""}function QCe(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YCe=function(t,r){var n=Hn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ov=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/py,h=u?i:i+o*f,p=fr(r,n,d,h),y=fr(r,n,a,h),m=u?i-o*f:i,w=fr(r,n,d*Math.cos(f*py),m);return{center:p,circleTangency:y,lineTangency:w,theta:f}},Nq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=YCe(o,l),u=o+c,d=fr(r,n,i,o),f=fr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=fr(r,n,a,o),y=fr(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},XCe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Hn(d-u),h=ov({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,w=ov({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=w.circleTangency,v=w.lineTangency,b=w.theta,j=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(j<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Nq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var _="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var N=ov({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,C=N.lineTangency,P=N.theta,k=ov({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=k.circleTangency,T=k.lineTangency,I=k.theta,R=c?Math.abs(u-d):Math.abs(u-d)-P-I;if(R<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},JCe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_q=function(t){var r=UI(UI({},JCe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=xt("recharts-sector",h),y=o-i,m=Gn(l,y,0,!0),w;return m>0&&Math.abs(d-f)<360?w=XCe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):w=Nq({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),F.createElement("path",L_({},ut(r,!0),{className:p,d:w,role:"img"}))};function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F_.apply(this,arguments)}function BI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(r),!0).forEach(function(n){ZCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZCe(e,t,r){return t=ePe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ePe(e){var t=tPe(e,"string");return cp(t)=="symbol"?t:t+""}function tPe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qI={curveBasisClosed:Zpe,curveBasisOpen:ege,curveBasis:Jpe,curveBumpX:Lpe,curveBumpY:Fpe,curveLinearClosed:tge,curveLinear:w0,curveMonotoneX:rge,curveMonotoneY:nge,curveNatural:sge,curveStep:age,curveStepAfter:oge,curveStepBefore:ige},lv=function(t){return t.x===+t.x&&t.y===+t.y},ph=function(t){return t.x},gh=function(t){return t.y},rPe=function(t,r){if(ft(t))return t;var n="curve".concat(y0(t));return(n==="curveMonotone"||n==="curveBump")&&r?qI["".concat(n).concat(r==="vertical"?"Y":"X")]:qI[n]||w0},nPe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=rPe(n,l),f=u?i.filter(function(m){return lv(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return lv(m)}):o,y=f.map(function(m,w){return VI(VI({},m),{},{base:p[w]})});return l==="vertical"?h=Jg().y(gh).x1(ph).x0(function(m){return m.base.x}):h=Jg().x(ph).y1(gh).y0(function(m){return m.base.y}),h.defined(lv).curve(d),h(y)}return l==="vertical"&&Pe(o)?h=Jg().y(gh).x1(ph).x0(o):Pe(o)?h=Jg().x(ph).y1(gh).y0(o):h=xB().x(ph).y(gh),h.defined(lv).curve(d),h(f)},U_=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?nPe(t):a;return x.createElement("path",F_({},ut(t,!1),Bx(t),{className:xt("recharts-curve",r),d:o,ref:i}))},Sq={exports:{}},sPe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aPe=sPe,iPe=aPe;function kq(){}function Cq(){}Cq.resetWarningCache=kq;var oPe=function(){function e(n,a,i,o,l,c){if(c!==iPe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Cq,resetWarningCache:kq};return r.PropTypes=r,r};Sq.exports=oPe();var lPe=Sq.exports;const zt=Gt(lPe),{getOwnPropertyNames:cPe,getOwnPropertySymbols:uPe}=Object,{hasOwnProperty:dPe}=Object.prototype;function Oj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function cv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function fPe(e){return e!=null?e[Symbol.toStringTag]:void 0}function zI(e){return cPe(e).concat(uPe(e))}const hPe=Object.hasOwn||((e,t)=>dPe.call(e,t));function Vc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const mPe="__v",pPe="__o",gPe="_owner",{getOwnPropertyDescriptor:WI,keys:KI}=Object;function vPe(e,t){return e.byteLength===t.byteLength&&vy(new Uint8Array(e),new Uint8Array(t))}function xPe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function yPe(e,t){return e.byteLength===t.byteLength&&vy(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function bPe(e,t){return Vc(e.getTime(),t.getTime())}function wPe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function jPe(e,t){return e===t}function HI(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const NPe=Vc;function _Pe(e,t,r){const n=KI(e);let a=n.length;if(KI(t).length!==a)return!1;for(;a-- >0;)if(!Pq(e,t,r,n[a]))return!1;return!0}function vh(e,t,r){const n=zI(e);let a=n.length;if(zI(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!Pq(e,t,r,i)||(o=WI(e,i),l=WI(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function SPe(e,t){return Vc(e.valueOf(),t.valueOf())}function kPe(e,t){return e.source===t.source&&e.flags===t.flags}function GI(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function vy(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function CPe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Pq(e,t,r,n){return(n===gPe||n===pPe||n===mPe)&&(e.$$typeof||t.$$typeof)?!0:hPe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const PPe="[object ArrayBuffer]",EPe="[object Arguments]",APe="[object Boolean]",OPe="[object DataView]",TPe="[object Date]",IPe="[object Error]",RPe="[object Map]",MPe="[object Number]",$Pe="[object Object]",DPe="[object RegExp]",LPe="[object Set]",FPe="[object String]",UPe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},BPe="[object URL]",VPe=Object.prototype.toString;function qPe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:y}){return function(w,g,v){if(w===g)return!0;if(w==null||g==null)return!1;const b=typeof w;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?l(w,g,v):b==="function"?i(w,g,v):!1;const j=w.constructor;if(j!==g.constructor)return!1;if(j===Object)return c(w,g,v);if(Array.isArray(w))return t(w,g,v);if(j===Date)return n(w,g,v);if(j===RegExp)return d(w,g,v);if(j===Map)return o(w,g,v);if(j===Set)return f(w,g,v);const _=VPe.call(w);if(_===TPe)return n(w,g,v);if(_===DPe)return d(w,g,v);if(_===RPe)return o(w,g,v);if(_===LPe)return f(w,g,v);if(_===$Pe)return typeof w.then!="function"&&typeof g.then!="function"&&c(w,g,v);if(_===BPe)return p(w,g,v);if(_===IPe)return a(w,g,v);if(_===EPe)return c(w,g,v);if(UPe[_])return h(w,g,v);if(_===PPe)return e(w,g,v);if(_===OPe)return r(w,g,v);if(_===APe||_===MPe||_===FPe)return u(w,g,v);if(y){let N=y[_];if(!N){const S=fPe(w);S&&(N=y[S])}if(N)return N(w,g,v)}return!1}}function zPe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:vPe,areArraysEqual:r?vh:xPe,areDataViewsEqual:yPe,areDatesEqual:bPe,areErrorsEqual:wPe,areFunctionsEqual:jPe,areMapsEqual:r?Oj(HI,vh):HI,areNumbersEqual:NPe,areObjectsEqual:r?vh:_Pe,arePrimitiveWrappersEqual:SPe,areRegExpsEqual:kPe,areSetsEqual:r?Oj(GI,vh):GI,areTypedArraysEqual:r?Oj(vy,vh):vy,areUrlsEqual:CPe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=cv(n.areArraysEqual),i=cv(n.areMapsEqual),o=cv(n.areObjectsEqual),l=cv(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function WPe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function KPe({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const HPe=vl();vl({strict:!0});vl({circular:!0});vl({circular:!0,strict:!0});vl({createInternalComparator:()=>Vc});vl({strict:!0,createInternalComparator:()=>Vc});vl({circular:!0,createInternalComparator:()=>Vc});vl({circular:!0,createInternalComparator:()=>Vc,strict:!0});function vl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=zPe(e),o=qPe(i),l=r?r(o):WPe(o);return KPe({circular:t,comparator:o,createState:n,equals:l,strict:a})}function GPe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function QI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):GPe(a)};requestAnimationFrame(n)}function B_(e){"@babel/helpers - typeof";return B_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B_(e)}function QPe(e){return ZPe(e)||JPe(e)||XPe(e)||YPe()}function YPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XPe(e,t){if(e){if(typeof e=="string")return YI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YI(e,t)}}function YI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZPe(e){if(Array.isArray(e))return e}function eEe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=QPe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){QI(a.bind(null,u),c);return}a(c),QI(a.bind(null,u));return}B_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){Eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t,r){return t=tEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tEe(e){var t=rEe(e,"string");return up(t)==="symbol"?t:String(t)}function rEe(e,t){if(up(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nEe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},sEe=function(t){return t},aEe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Zh=function(t,r){return Object.keys(r).reduce(function(n,a){return JI(JI({},n),{},Eq({},a,t(a,r[a])))},{})},ZI=function(t,r,n){return t.map(function(a){return"".concat(aEe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function iEe(e,t){return cEe(e)||lEe(e,t)||Aq(e,t)||oEe()}function oEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cEe(e){if(Array.isArray(e))return e}function uEe(e){return hEe(e)||fEe(e)||Aq(e)||dEe()}function dEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aq(e,t){if(e){if(typeof e=="string")return V_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V_(e,t)}}function fEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hEe(e){if(Array.isArray(e))return V_(e)}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xy=1e-4,Oq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Tq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},eR=function(t,r){return function(n){var a=Oq(t,r);return Tq(a,n)}},mEe=function(t,r){return function(n){var a=Oq(t,r),i=[].concat(uEe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Tq(i,n)}},tR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=iEe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=eR(a,o),h=eR(i,l),p=mEe(a,o),y=function(g){return g>1?1:g<0?0:g},m=function(g){for(var v=g>1?1:g,b=v,j=0;j<8;++j){var _=f(b)-v,N=p(b);if(Math.abs(_-v)<xy||N<xy)return h(b);b=y(b-_/N)}return h(b)};return m.isStepper=!1,m},pEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,y=h*i,m=h+(p-y)*l/1e3,w=h*l/1e3+d;return Math.abs(w-f)<xy&&Math.abs(m)<xy?[f,0]:[w,m]};return c.isStepper=!0,c.dt=l,c},gEe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tR(a);case"spring":return pEe();default:if(a.split("(")[0]==="cubic-bezier")return tR(a)}return typeof a=="function"?a:null};function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function rR(e){return yEe(e)||xEe(e)||Iq(e)||vEe()}function vEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yEe(e){if(Array.isArray(e))return z_(e)}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){q_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q_(e,t,r){return t=bEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bEe(e){var t=wEe(e,"string");return dp(t)==="symbol"?t:String(t)}function wEe(e,t){if(dp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jEe(e,t){return SEe(e)||_Ee(e,t)||Iq(e,t)||NEe()}function NEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iq(e,t){if(e){if(typeof e=="string")return z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z_(e,t)}}function z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Ee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SEe(e){if(Array.isArray(e))return e}var yy=function(t,r,n){return t+(r-t)*n},W_=function(t){var r=t.from,n=t.to;return r!==n},kEe=function e(t,r,n){var a=Zh(function(i,o){if(W_(o)){var l=t(o.from,o.to,o.velocity),c=jEe(l,2),u=c[0],d=c[1];return Nn(Nn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Zh(function(i,o){return W_(o)?Nn(Nn({},o),{},{velocity:yy(o.velocity,a[i].velocity,n),from:yy(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const CEe=function(e,t,r,n,a){var i=nEe(e,t),o=i.reduce(function(w,g){return Nn(Nn({},w),{},q_({},g,[e[g],t[g]]))},{}),l=i.reduce(function(w,g){return Nn(Nn({},w),{},q_({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Zh(function(g,v){return v.from},l)},p=function(){return!Object.values(l).filter(W_).length},y=function(g){u||(u=g);var v=g-u,b=v/r.dt;l=kEe(r,l,b),a(Nn(Nn(Nn({},e),t),h())),u=g,p()||(c=requestAnimationFrame(f))},m=function(g){d||(d=g);var v=(g-d)/n,b=Zh(function(_,N){return yy.apply(void 0,rR(N).concat([r(v)]))},o);if(a(Nn(Nn(Nn({},e),t),b)),v<1)c=requestAnimationFrame(f);else{var j=Zh(function(_,N){return yy.apply(void 0,rR(N).concat([r(1)]))},o);a(Nn(Nn(Nn({},e),t),j))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}var PEe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function EEe(e,t){if(e==null)return{};var r=AEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AEe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Tj(e){return REe(e)||IEe(e)||TEe(e)||OEe()}function OEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TEe(e,t){if(e){if(typeof e=="string")return K_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K_(e,t)}}function IEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function REe(e){if(Array.isArray(e))return K_(e)}function K_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){Ih(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ih(e,t,r){return t=Rq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rq(n.key),n)}}function DEe(e,t,r){return t&&$Ee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rq(e){var t=LEe(e,"string");return Yd(t)==="symbol"?t:String(t)}function LEe(e,t){if(Yd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H_(e,t)}function H_(e,t){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H_(e,t)}function UEe(e){var t=BEe();return function(){var n=by(e),a;if(t){var i=by(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return G_(this,a)}}function G_(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q_(e)}function Q_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},by(e)}var Zi=function(e){FEe(r,e);var t=UEe(r);function r(n,a){var i;MEe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Q_(i)),i.changeStyle=i.changeStyle.bind(Q_(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),G_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},G_(i);i.state={style:c?Ih({},c,u):u}}else i.state={style:{}};return i}return DEe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Ih({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(HPe(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:a.to;if(this.state&&h){var w={style:c?Ih({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(w)}this.runAnimation(ya(ya({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=CEe(o,l,gEe(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,w,g){if(g===0)return m;var v=w.duration,b=w.easing,j=b===void 0?"ease":b,_=w.style,N=w.properties,S=w.onAnimationEnd,C=g>0?o[g-1]:w,P=N||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(Tj(m),[i.runJSAnimation.bind(i,{from:C.style,to:_,duration:v,easing:j}),v]);var k=ZI(P,v,j),E=ya(ya(ya({},C.style),_),{},{transition:k});return[].concat(Tj(m),[E,v,S]).filter(sEe)};return this.manager.start([c].concat(Tj(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=eEe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?Ih({},l,c):c,w=ZI(Object.keys(m),o,u);y.start([d,i,ya(ya({},m),{},{transition:w}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=EEe(a,PEe),u=x.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var y=p.props,m=y.style,w=m===void 0?{}:m,g=y.className,v=x.cloneElement(p,ya(ya({},c),{},{style:ya(ya({},w),d),className:g}));return v};return u===1?f(x.Children.only(i)):F.createElement("div",null,x.Children.map(i,function(h){return f(h)}))}}]),r}(x.PureComponent);Zi.displayName="Animate";Zi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Zi.propTypes={from:zt.oneOfType([zt.object,zt.string]),to:zt.oneOfType([zt.object,zt.string]),attributeName:zt.string,duration:zt.number,begin:zt.number,easing:zt.oneOfType([zt.string,zt.func]),steps:zt.arrayOf(zt.shape({duration:zt.number.isRequired,style:zt.object.isRequired,easing:zt.oneOfType([zt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zt.func]),properties:zt.arrayOf("string"),onAnimationEnd:zt.func})),children:zt.oneOfType([zt.node,zt.func]),isActive:zt.bool,canBegin:zt.bool,onAnimationEnd:zt.func,shouldReAnimate:zt.bool,onAnimationStart:zt.func,onAnimationReStart:zt.func};function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function VEe(e,t){return KEe(e)||WEe(e,t)||zEe(e,t)||qEe()}function qEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zEe(e,t){if(e){if(typeof e=="string")return aR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(e,t)}}function aR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function KEe(e){if(Array.isArray(e))return e}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){HEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HEe(e,t,r){return t=GEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GEe(e){var t=QEe(e,"string");return fp(t)=="symbol"?t:t+""}function QEe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lR=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},YEe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},XEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KC=function(t){var r=oR(oR({},XEe),t),n=x.useRef(),a=x.useState(-1),i=VEe(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,w=r.animationBegin,g=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=xt("recharts-rectangle",p);return v?F.createElement(Zi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:y,isActive:v},function(j){var _=j.width,N=j.height,S=j.x,C=j.y;return F.createElement(Zi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:m,isActive:g,easing:y},F.createElement("path",wy({},ut(r,!0),{className:b,d:lR(S,C,_,N,h),ref:n})))}):F.createElement("path",wy({},ut(r,!0),{className:b,d:lR(c,u,d,f,h)}))},JEe=["points","className","baseLinePoints","connectNulls"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(this,arguments)}function ZEe(e,t){if(e==null)return{};var r=eAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cR(e){return sAe(e)||nAe(e)||rAe(e)||tAe()}function tAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rAe(e,t){if(e){if(typeof e=="string")return Y_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y_(e,t)}}function nAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sAe(e){if(Array.isArray(e))return Y_(e)}function Y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uR=function(t){return t&&t.x===+t.x&&t.y===+t.y},aAe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){uR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),uR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},em=function(t,r){var n=aAe(t);r&&(n=[n.reduce(function(i,o){return[].concat(cR(i),cR(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},iAe=function(t,r,n){var a=em(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(em(r.reverse(),n).slice(1))},oAe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=ZEe(t,JEe);if(!r||!r.length)return null;var l=xt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=iAe(r,a,i);return F.createElement("g",{className:l},F.createElement("path",Wu({},ut(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?F.createElement("path",Wu({},ut(o,!0),{fill:"none",d:em(r,i)})):null,c?F.createElement("path",Wu({},ut(o,!0),{fill:"none",d:em(a,i)})):null)}var d=em(r,i);return F.createElement("path",Wu({},ut(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X_.apply(this,arguments)}var HC=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=xt("recharts-dot",i);return r===+r&&n===+n&&a===+a?x.createElement("circle",X_({},ut(t,!1),Bx(t),{className:o,cx:r,cy:n,r:a})):null};function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}var lAe=["x","y","top","left","width","height","className"];function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J_.apply(this,arguments)}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){uAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uAe(e,t,r){return t=dAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dAe(e){var t=fAe(e,"string");return hp(t)=="symbol"?t:t+""}function fAe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hAe(e,t){if(e==null)return{};var r=mAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pAe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},gAe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,y=t.className,m=hAe(t,lAe),w=cAe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!Pe(n)||!Pe(i)||!Pe(f)||!Pe(p)||!Pe(l)||!Pe(u)?null:F.createElement("path",J_({},ut(w,!0),{className:xt("recharts-cross",y),d:pAe(n,i,f,p,l,u)}))},vAe=I0,xAe=KV,yAe=gi;function bAe(e,t){return e&&e.length?vAe(e,yAe(t),xAe):void 0}var wAe=bAe;const jAe=Gt(wAe);var NAe=I0,_Ae=gi,SAe=HV;function kAe(e,t){return e&&e.length?NAe(e,_Ae(t),SAe):void 0}var CAe=kAe;const PAe=Gt(CAe);var EAe=["cx","cy","angle","ticks","axisLine"],AAe=["ticks","tick","angle","tickFormatter","stroke"];function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(this,arguments)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){U0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hR(e,t){if(e==null)return{};var r=OAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$q(n.key),n)}}function IAe(e,t,r){return t&&mR(e.prototype,t),r&&mR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RAe(e,t,r){return t=jy(t),MAe(e,Mq()?Reflect.construct(t,r||[],jy(e).constructor):t.apply(e,r))}function MAe(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ae(e)}function $Ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!e})()}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jy(e)}function DAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z_(e,t)}function U0(e,t,r){return t=$q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=LAe(e,"string");return Xd(t)=="symbol"?t:t+""}function LAe(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B0=function(e){function t(){return TAe(this,t),RAe(this,t,arguments)}return DAe(t,e),IAe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return fr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=jAe(l,function(d){return d.coordinate||0}),u=PAe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=hR(n,EAe),d=l.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),f=fr(a,i,d[0],o),h=fr(a,i,d[1],o),p=kl(kl(kl({},ut(u,!1)),{},{fill:"none"},ut(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return F.createElement("line",tm({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=hR(a,AAe),f=this.getTickTextAnchor(),h=ut(d,!1),p=ut(o,!1),y=i.map(function(m,w){var g=n.getTickValueCoord(m),v=kl(kl(kl(kl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:w},g),{},{payload:m});return F.createElement(Xt,tm({className:xt("recharts-polar-radius-axis-tick",wq(o)),key:"tick-".concat(m.coordinate)},Cc(n.props,m,w)),t.renderTickItem(o,v,c?c(m.value,w):m.value))});return F.createElement(Xt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:F.createElement(Xt,{className:xt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),vn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return F.isValidElement(n)?o=F.cloneElement(n,a):ft(n)?o=n(a):o=F.createElement(Pc,tm({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(x.PureComponent);U0(B0,"displayName","PolarRadiusAxis");U0(B0,"axisType","radiusAxis");U0(B0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dl.apply(this,arguments)}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){V0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lq(n.key),n)}}function UAe(e,t,r){return t&&gR(e.prototype,t),r&&gR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BAe(e,t,r){return t=Ny(t),VAe(e,Dq()?Reflect.construct(t,r||[],Ny(e).constructor):t.apply(e,r))}function VAe(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qAe(e)}function qAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dq=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(e)}function zAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}function eS(e,t){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eS(e,t)}function V0(e,t,r){return t=Lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=WAe(e,"string");return Jd(t)=="symbol"?t:t+""}function WAe(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KAe=Math.PI/180,vR=1e-5,q0=function(e){function t(){return FAe(this,t),BAe(this,t,arguments)}return zAe(t,e),UAe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=fr(i,o,l,n.coordinate),h=fr(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*KAe),o;return i>vR?o=a==="outer"?"start":"end":i<-vR?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Cl(Cl({},ut(this.props,!1)),{},{fill:"none"},ut(l,!1));if(c==="circle")return F.createElement(HC,Dl({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return fr(a,i,o,h.coordinate)});return F.createElement(oAe,Dl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ut(this.props,!1),f=ut(o,!1),h=Cl(Cl({},d),{},{fill:"none"},ut(l,!1)),p=i.map(function(y,m){var w=n.getTickLineCoord(y),g=n.getTickTextAnchor(y),v=Cl(Cl(Cl({textAnchor:g},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:y,x:w.x2,y:w.y2});return F.createElement(Xt,Dl({className:xt("recharts-polar-angle-axis-tick",wq(o)),key:"tick-".concat(y.coordinate)},Cc(n.props,y,m)),l&&F.createElement("line",Dl({className:"recharts-polar-angle-axis-tick-line"},h,w)),o&&t.renderTickItem(o,v,c?c(y.value,m):y.value))});return F.createElement(Xt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:F.createElement(Xt,{className:xt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return F.isValidElement(n)?o=F.cloneElement(n,a):ft(n)?o=n(a):o=F.createElement(Pc,Dl({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(x.PureComponent);V0(q0,"displayName","PolarAngleAxis");V0(q0,"axisType","angleAxis");V0(q0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var HAe=VB,GAe=HAe(Object.getPrototypeOf,Object),QAe=GAe,YAe=no,XAe=QAe,JAe=so,ZAe="[object Object]",eOe=Function.prototype,tOe=Object.prototype,Fq=eOe.toString,rOe=tOe.hasOwnProperty,nOe=Fq.call(Object);function sOe(e){if(!JAe(e)||YAe(e)!=ZAe)return!1;var t=XAe(e);if(t===null)return!0;var r=rOe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Fq.call(r)==nOe}var aOe=sOe;const iOe=Gt(aOe);var oOe=no,lOe=so,cOe="[object Boolean]";function uOe(e){return e===!0||e===!1||lOe(e)&&oOe(e)==cOe}var dOe=uOe;const fOe=Gt(dOe);function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(this,arguments)}function hOe(e,t){return vOe(e)||gOe(e,t)||pOe(e,t)||mOe()}function mOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pOe(e,t){if(e){if(typeof e=="string")return xR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xR(e,t)}}function xR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vOe(e){if(Array.isArray(e))return e}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){xOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xOe(e,t,r){return t=yOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yOe(e){var t=bOe(e,"string");return mp(t)=="symbol"?t:t+""}function bOe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wR=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},wOe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jOe=function(t){var r=bR(bR({},wOe),t),n=x.useRef(),a=x.useState(-1),i=hOe(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,w=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=xt("recharts-trapezoid",p);return g?F.createElement(Zi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:g},function(b){var j=b.upperWidth,_=b.lowerWidth,N=b.height,S=b.x,C=b.y;return F.createElement(Zi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:m,easing:y},F.createElement("path",_y({},ut(r,!0),{className:v,d:wR(S,C,j,_,N),ref:n})))}):F.createElement("g",null,F.createElement("path",_y({},ut(r,!0),{className:v,d:wR(c,u,d,f,h)})))},NOe=["option","shapeType","propTransformer","activeClassName","isActive"];function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function _Oe(e,t){if(e==null)return{};var r=SOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){kOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kOe(e,t,r){return t=COe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function COe(e){var t=POe(e,"string");return pp(t)=="symbol"?t:t+""}function POe(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EOe(e,t){return Sy(Sy({},t),e)}function AOe(e,t){return e==="symbols"}function NR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return F.createElement(KC,r);case"trapezoid":return F.createElement(jOe,r);case"sector":return F.createElement(_q,r);case"symbols":if(AOe(t))return F.createElement(dC,r);break;default:return null}}function OOe(e){return x.isValidElement(e)?e.props:e}function Uq(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?EOe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=_Oe(e,NOe),u;if(x.isValidElement(t))u=x.cloneElement(t,Sy(Sy({},c),OOe(t)));else if(ft(t))u=t(c);else if(iOe(t)&&!fOe(t)){var d=a(t,c);u=F.createElement(NR,{shapeType:r,elementProps:d})}else{var f=c;u=F.createElement(NR,{shapeType:r,elementProps:f})}return l?F.createElement(Xt,{className:o},u):u}function z0(e,t){return t!=null&&"trapezoids"in e.props}function W0(e,t){return t!=null&&"sectors"in e.props}function gp(e,t){return t!=null&&"points"in e.props}function TOe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function IOe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ROe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function MOe(e,t){var r;return z0(e,t)?r=TOe:W0(e,t)?r=IOe:gp(e,t)&&(r=ROe),r}function $Oe(e,t){var r;return z0(e,t)?r="trapezoids":W0(e,t)?r="sectors":gp(e,t)&&(r="points"),r}function DOe(e,t){if(z0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(W0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return gp(e,t)?t.payload:{}}function LOe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=$Oe(r,t),i=DOe(r,t),o=n.filter(function(c,u){var d=$0(i,c),f=r.props[a].filter(function(y){var m=MOe(r,t);return m(y,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Tv;function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){Js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vq(n.key),n)}}function UOe(e,t,r){return t&&SR(e.prototype,t),r&&SR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BOe(e,t,r){return t=ky(t),VOe(e,Bq()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}function VOe(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qOe(e)}function qOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bq=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}function zOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tS(e,t)}function Js(e,t,r){return t=Vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vq(e){var t=WOe(e,"string");return Zd(t)=="symbol"?t:t+""}function WOe(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var io=function(e){function t(r){var n;return FOe(this,t),n=BOe(this,t,[r]),Js(n,"pieRef",null),Js(n,"sectorRefs",[]),Js(n,"id",ag("recharts-pie-")),Js(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ft(a)&&a()}),Js(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ft(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return zOe(t,e),UOe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=ut(this.props,!1),f=ut(o,!1),h=ut(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(m,w){var g=(m.startAngle+m.endAngle)/2,v=fr(m.cx,m.cy,m.outerRadius+p,g),b=cr(cr(cr(cr({},d),m),{},{stroke:"none"},f),{},{index:w,textAnchor:t.getTextAnchor(v.x,m.cx)},v),j=cr(cr(cr(cr({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:w,points:[fr(m.cx,m.cy,m.outerRadius,g),v]}),_=c;return Ct(c)&&Ct(u)?_="value":Ct(c)&&(_=u),F.createElement(Xt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(w)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,b,$n(m,_)))});return F.createElement(Xt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,y=cr(cr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return F.createElement(Xt,Ku({ref:function(w){w&&!a.sectorRefs.includes(w)&&a.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Cc(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),F.createElement(Uq,Ku({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return F.createElement(Zi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,w=[],g=i&&i[0],v=g.startAngle;return i.forEach(function(b,j){var _=h&&h[j],N=j>0?Ms(b,"paddingAngle",0):0;if(_){var S=xo(_.endAngle-_.startAngle,b.endAngle-b.startAngle),C=cr(cr({},b),{},{startAngle:v+N,endAngle:v+S(m)+N});w.push(C),v=C.endAngle}else{var P=b.endAngle,k=b.startAngle,E=xo(0,P-k),T=E(m),I=cr(cr({},b),{},{startAngle:v+N,endAngle:v+T+N});w.push(I),v=I.endAngle}}),F.createElement(Xt,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!$0(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!Pe(u)||!Pe(d)||!Pe(f)||!Pe(h))return null;var m=xt("recharts-pie",l);return F.createElement(Xt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),vn.renderCallByParent(this.props,null,!1),(!p||y)&&Go.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(F.isValidElement(n))return F.cloneElement(n,a);if(ft(n))return n(a);var o=xt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return F.createElement(U_,Ku({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(F.isValidElement(n))return F.cloneElement(n,a);var o=i;if(ft(n)&&(o=n(a),F.isValidElement(o)))return o;var l=xt("recharts-pie-label-text",typeof n!="boolean"&&!ft(n)?n.className:"");return F.createElement(Pc,Ku({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);Tv=io;Js(io,"displayName","Pie");Js(io,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ff.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Js(io,"parseDeltaAngle",function(e,t){var r=Hn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Js(io,"getRealPieData",function(e){var t=e.data,r=e.children,n=ut(e,!1),a=aa(r,k0);return t&&t.length?t.map(function(i,o){return cr(cr(cr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return cr(cr({},n),i.props)}):[]});Js(io,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=bq(a,i),l=n+Gn(e.cx,a,a/2),c=r+Gn(e.cy,i,i/2),u=Gn(e.innerRadius,o,0),d=Gn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Js(io,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?cr(cr({},t.type.defaultProps),t.props):t.props,a=Tv.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=Tv.parseCoordinateOfPie(n,r),m=Tv.parseDeltaAngle(o,l),w=Math.abs(m),g=u;Ct(u)&&Ct(f)?(Da(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):Ct(u)&&(Da(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=f);var v=a.filter(function(C){return $n(C,g,0)!==0}).length,b=(w>=360?v:v-1)*c,j=w-v*p-b,_=a.reduce(function(C,P){var k=$n(P,g,0);return C+(Pe(k)?k:0)},0),N;if(_>0){var S;N=a.map(function(C,P){var k=$n(C,g,0),E=$n(C,d,P),T=(Pe(k)?k:0)/_,I;P?I=S.endAngle+Hn(m)*c*(k!==0?1:0):I=o;var R=I+Hn(m)*((k!==0?p:0)+T*j),D=(I+R)/2,O=(y.innerRadius+y.outerRadius)/2,W=[{name:E,value:k,payload:C,dataKey:g,type:h}],A=fr(y.cx,y.cy,O,D);return S=cr(cr(cr({percent:T,cornerRadius:i,name:E,tooltipPayload:W,midAngle:D,middleRadius:O,tooltipPosition:A},C),y),{},{value:$n(C,g),startAngle:I,endAngle:R,payload:C,paddingAngle:Hn(m)*c}),S})}return cr(cr({},y),{},{sectors:N,data:a})});var KOe=Math.ceil,HOe=Math.max;function GOe(e,t,r,n){for(var a=-1,i=HOe(KOe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var QOe=GOe,YOe=oV,kR=1/0,XOe=17976931348623157e292;function JOe(e){if(!e)return e===0?e:0;if(e=YOe(e),e===kR||e===-kR){var t=e<0?-1:1;return t*XOe}return e===e?e:0}var qq=JOe,ZOe=QOe,eTe=S0,Ij=qq;function tTe(e){return function(t,r,n){return n&&typeof n!="number"&&eTe(t,r,n)&&(r=n=void 0),t=Ij(t),r===void 0?(r=t,t=0):r=Ij(r),n=n===void 0?t<r?1:-1:Ij(n),ZOe(t,r,n,e)}}var rTe=tTe,nTe=rTe,sTe=nTe(),aTe=sTe;const Cy=Gt(aTe);function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zq(e,t,r){return t=iTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iTe(e){var t=oTe(e,"string");return vp(t)=="symbol"?t:t+""}function oTe(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lTe=["Webkit","Moz","O","ms"],cTe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=lTe.reduce(function(i,o){return PR(PR({},i),{},zq({},o+n,r))},{});return a[t]=r,a};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(this,arguments)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){ws(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kq(n.key),n)}}function dTe(e,t,r){return t&&AR(e.prototype,t),r&&AR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fTe(e,t,r){return t=Ey(t),hTe(e,Wq()?Reflect.construct(t,r||[],Ey(e).constructor):t.apply(e,r))}function hTe(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mTe(e)}function mTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!e})()}function Ey(e){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ey(e)}function pTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rS(e,t)}function rS(e,t){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rS(e,t)}function ws(e,t,r){return t=Kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=gTe(e,"string");return ef(t)=="symbol"?t:t+""}function gTe(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vTe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Xh().domain(Cy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},OR=function(t){return t.changedTouches&&!!t.changedTouches.length},tf=function(e){function t(r){var n;return uTe(this,t),n=fTe(this,t,[r]),ws(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ws(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ws(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ws(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ws(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ws(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ws(n,"handleSlideDragStart",function(a){var i=OR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return pTe(t,e),dTe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=$n(i[n],l,n);return ft(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var w=this.getIndex({startX:o+m,endX:l+m});(w.startIndex!==h||w.endIndex!==p)&&y&&y(w),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=OR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,m=d.gap,w=d.data,g={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,f+h-p-u):v<0&&(v=Math.max(v,f-u)),g[o]=u+v;var b=this.getIndex(g),j=b.startIndex,_=b.endIndex,N=function(){var C=w.length-1;return o==="startX"&&(l>c?j%m===0:_%m===0)||l<c&&_===C||o==="endX"&&(l>c?_%m===0:j%m===0)||l>c&&_===C};this.setState(ws(ws({},o,u+v),"brushMoveStartX",n.pageX),function(){y&&N()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ws({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return F.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?F.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,w=c.endIndex,g=Math.max(n,this.props.x),v=Rj(Rj({},ut(this.props,!1)),{},{x:g,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=y[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[w])===null||o===void 0?void 0:o.name);return F.createElement(Xt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return F.createElement(Xt,{className:"recharts-brush-texts"},F.createElement(Pc,Py({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},y),this.getTextOfTick(a)),F.createElement(Pc,Py({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,w=h.isSlideMoving,g=h.isTravellerMoving,v=h.isTravellerFocused;if(!a||!a.length||!Pe(l)||!Pe(c)||!Pe(u)||!Pe(d)||u<=0||d<=0)return null;var b=xt("recharts-brush",i),j=F.Children.count(o)===1,_=cTe("userSelect","none");return F.createElement(Xt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||w||g||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),F.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return F.isValidElement(n)?i=F.cloneElement(n,a):ft(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Rj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?vTe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(x.PureComponent);ws(tf,"displayName","Brush");ws(tf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var xTe=xC;function yTe(e,t){var r;return xTe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var bTe=yTe,wTe=RB,jTe=gi,NTe=bTe,_Te=xs,STe=S0;function kTe(e,t,r){var n=_Te(e)?wTe:NTe;return r&&STe(e,t,r)&&(t=void 0),n(e,jTe(t))}var CTe=kTe;const PTe=Gt(CTe);var ci=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},TR=rV;function ETe(e,t,r){t=="__proto__"&&TR?TR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ATe=ETe,OTe=ATe,TTe=eV,ITe=gi;function RTe(e,t){var r={};return t=ITe(t),TTe(e,function(n,a,i){OTe(r,a,t(n,a,i))}),r}var MTe=RTe;const $Te=Gt(MTe);function DTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var LTe=DTe,FTe=xC;function UTe(e,t){var r=!0;return FTe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var BTe=UTe,VTe=LTe,qTe=BTe,zTe=gi,WTe=xs,KTe=S0;function HTe(e,t,r){var n=WTe(e)?VTe:qTe;return r&&KTe(e,t,r)&&(t=void 0),n(e,zTe(t))}var GTe=HTe;const Hq=Gt(GTe);var QTe=["x","y"];function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nS.apply(this,arguments)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){YTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YTe(e,t,r){return t=XTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XTe(e){var t=JTe(e,"string");return xp(t)=="symbol"?t:t+""}function JTe(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZTe(e,t){if(e==null)return{};var r=e4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t4e(e,t){var r=e.x,n=e.y,a=ZTe(e,QTe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return xh(xh(xh(xh(xh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function RR(e){return F.createElement(Uq,nS({shapeType:"rectangle",propTransformer:t4e,activeClassName:"recharts-active-bar"},e))}var r4e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Pe(n)||_me(n);return i?t(n,a):(i||Ac(),r)}},n4e=["value","background"],Gq;function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function s4e(e,t){if(e==null)return{};var r=a4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(this,arguments)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){Mo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yq(n.key),n)}}function o4e(e,t,r){return t&&$R(e.prototype,t),r&&$R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l4e(e,t,r){return t=Oy(t),c4e(e,Qq()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function c4e(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u4e(e)}function u4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qq=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function d4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sS(e,t)}function Mo(e,t,r){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=f4e(e,"string");return rf(t)=="symbol"?t:t+""}function f4e(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qc=function(e){function t(){var r;i4e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=l4e(this,t,[].concat(a)),Mo(r,"state",{isAnimationFinished:!1}),Mo(r,"id",ag("recharts-bar-")),Mo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Mo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return d4e(t,e),o4e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=ut(this.props,!1);return n&&n.map(function(f,h){var p=h===c,y=p?u:o,m=zr(zr(zr({},d),f),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return F.createElement(Xt,Ay({className:"recharts-bar-rectangle"},Cc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),F.createElement(RR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return F.createElement(Zi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=i.map(function(w,g){var v=h&&h[g];if(v){var b=xo(v.x,w.x),j=xo(v.y,w.y),_=xo(v.width,w.width),N=xo(v.height,w.height);return zr(zr({},w),{},{x:b(y),y:j(y),width:_(y),height:N(y)})}if(o==="horizontal"){var S=xo(0,w.height),C=S(y);return zr(zr({},w),{},{y:w.y+w.height-C,height:C})}var P=xo(0,w.width),k=P(y);return zr(zr({},w),{},{width:k})});return F.createElement(Xt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!$0(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ut(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=s4e(u,n4e);if(!f)return null;var p=zr(zr(zr(zr(zr({},h),{},{fill:"#eee"},f),c),Cc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return F.createElement(RR,Ay({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=aa(d,F0);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(w,g){var v=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:v,errorVal:$n(w,g)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return F.createElement(Xt,y,f.map(function(m){return F.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(a||!i||!i.length)return null;var w=this.state.isAnimationFinished,g=xt("recharts-bar",o),v=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,j=v||b,_=Ct(m)?this.id:m;return F.createElement(Xt,{className:g},v||b?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(_)},F.createElement("rect",{x:v?u:u-f/2,y:b?d:d-h/2,width:v?f:f*2,height:b?h:h*2}))):null,F.createElement(Xt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!p||w)&&Go.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);Gq=qc;Mo(qc,"displayName","Bar");Mo(qc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ff.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Mo(qc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=V2e(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,w=m!==void 0?zr(zr({},m),r.props):r.props,g=w.dataKey,v=w.children,b=w.minPointSize,j=y==="horizontal"?o:i,_=u?j.scale.domain():null,N=Q2e({numericAxis:j}),S=aa(v,k0),C=f.map(function(P,k){var E,T,I,R,D,O;u?E=q2e(u[d+k],_):(E=$n(P,g),Array.isArray(E)||(E=[N,E]));var W=r4e(b,Gq.defaultProps.minPointSize)(E[1],k);if(y==="horizontal"){var A,$=[o.scale(E[0]),o.scale(E[1])],Q=$[0],X=$[1];T=PI({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:k}),I=(A=X??Q)!==null&&A!==void 0?A:void 0,R=p.size;var U=Q-X;if(D=Number.isNaN(U)?0:U,O={x:T,y:o.y,width:R,height:o.height},Math.abs(W)>0&&Math.abs(D)<Math.abs(W)){var J=Hn(D||W)*(Math.abs(W)-Math.abs(D));I-=J,D+=J}}else{var z=[i.scale(E[0]),i.scale(E[1])],ee=z[0],pe=z[1];if(T=ee,I=PI({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:k}),R=pe-ee,D=p.size,O={x:i.x,y:I,width:i.width,height:D},Math.abs(W)>0&&Math.abs(R)<Math.abs(W)){var te=Hn(R||W)*(Math.abs(W)-Math.abs(R));R+=te}}return zr(zr(zr({},P),{},{x:T,y:I,width:R,height:D,value:u?E:E[1],payload:P,background:O},S&&S[k]&&S[k].props),{},{tooltipPayload:[xq(r,P)],tooltipPosition:{x:T+R/2,y:I+D/2}})});return zr({data:C,layout:y},h)});function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function h4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xq(n.key),n)}}function m4e(e,t,r){return t&&DR(e.prototype,t),r&&DR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){K0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K0(e,t,r){return t=Xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=p4e(e,"string");return yp(t)=="symbol"?t:t+""}function p4e(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g4e=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ns(u,qc);return d.reduce(function(p,y){var m=r[y],w=m.orientation,g=m.domain,v=m.padding,b=v===void 0?{}:v,j=m.mirror,_=m.reversed,N="".concat(w).concat(j?"Mirror":""),S,C,P,k,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var T=g[1]-g[0],I=1/0,R=m.categoricalDomain.sort(Cme);if(R.forEach(function(z,ee){ee>0&&(I=Math.min((z||0)-(R[ee-1]||0),I))}),Number.isFinite(I)){var D=I/T,O=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=D*O/2),m.padding==="no-gap"){var W=Gn(t.barCategoryGap,D*O),A=D*O/2;S=A-W-(A-W)/O*W}}}a==="xAxis"?C=[n.left+(b.left||0)+(S||0),n.left+n.width-(b.right||0)-(S||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(S||0),n.top+n.height-(b.bottom||0)-(S||0)]:C=m.range,_&&(C=[C[1],C[0]]);var $=mq(m,i,h),Q=$.scale,X=$.realScaleType;Q.domain(g).range(C),pq(Q);var U=gq(Q,Ea(Ea({},m),{},{realScaleType:X}));a==="xAxis"?(E=w==="top"&&!j||w==="bottom"&&j,P=n.left,k=f[N]-E*m.height):a==="yAxis"&&(E=w==="left"&&!j||w==="right"&&j,P=f[N]-E*m.width,k=n.top);var J=Ea(Ea(Ea({},m),U),{},{realScaleType:X,x:P,y:k,scale:Q,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return J.bandSize=my(J,U),!m.hide&&a==="xAxis"?f[N]+=(E?-1:1)*J.height:m.hide||(f[N]+=(E?-1:1)*J.width),Ea(Ea({},p),{},K0({},y,J))},{})},Jq=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},v4e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Jq({x:r,y:n},{x:a,y:i})},Zq=function(){function e(t){h4e(this,e),this.scale=t}return m4e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();K0(Zq,"EPS",1e-4);var GC=function(t){var r=Object.keys(t).reduce(function(n,a){return Ea(Ea({},n),{},K0({},a,Zq.create(t[a])))},{});return Ea(Ea({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return $Te(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Hq(a,function(i,o){return r[o].isInRange(i)})}})};function x4e(e){return(e%180+180)%180}var y4e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=x4e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},b4e=gi,w4e=ig,j4e=N0;function N4e(e){return function(t,r,n){var a=Object(t);if(!w4e(t)){var i=b4e(r);t=j4e(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var _4e=N4e,S4e=qq;function k4e(e){var t=S4e(e),r=t%1;return t===t?r?t-r:t:0}var C4e=k4e,P4e=GB,E4e=gi,A4e=C4e,O4e=Math.max;function T4e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:A4e(r);return a<0&&(a=O4e(n+a,0)),P4e(e,E4e(t),a)}var I4e=T4e,R4e=_4e,M4e=I4e,$4e=R4e(M4e),D4e=$4e;const L4e=Gt(D4e);var F4e=Ahe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),QC=x.createContext(void 0),YC=x.createContext(void 0),e9=x.createContext(void 0),t9=x.createContext({}),r9=x.createContext(void 0),n9=x.createContext(0),s9=x.createContext(0),FR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=F4e(i);return F.createElement(QC.Provider,{value:n},F.createElement(YC.Provider,{value:a},F.createElement(t9.Provider,{value:i},F.createElement(e9.Provider,{value:d},F.createElement(r9.Provider,{value:o},F.createElement(n9.Provider,{value:u},F.createElement(s9.Provider,{value:c},l)))))))},U4e=function(){return x.useContext(r9)},a9=function(t){var r=x.useContext(QC);r==null&&Ac();var n=r[t];return n==null&&Ac(),n},B4e=function(){var t=x.useContext(QC);return No(t)},V4e=function(){var t=x.useContext(YC),r=L4e(t,function(n){return Hq(n.domain,Number.isFinite)});return r||No(t)},i9=function(t){var r=x.useContext(YC);r==null&&Ac();var n=r[t];return n==null&&Ac(),n},q4e=function(){var t=x.useContext(e9);return t},z4e=function(){return x.useContext(t9)},XC=function(){return x.useContext(s9)},JC=function(){return x.useContext(n9)};function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function W4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l9(n.key),n)}}function H4e(e,t,r){return t&&K4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G4e(e,t,r){return t=Ty(t),Q4e(e,o9()?Reflect.construct(t,r||[],Ty(e).constructor):t.apply(e,r))}function Q4e(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y4e(e)}function Y4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o9=function(){return!!e})()}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ty(e)}function X4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aS(e,t)}function aS(e,t){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aS(e,t)}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){ZC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZC(e,t,r){return t=l9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l9(e){var t=J4e(e,"string");return nf(t)=="symbol"?t:t+""}function J4e(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Z4e(e,t){return nIe(e)||rIe(e,t)||tIe(e,t)||eIe()}function eIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tIe(e,t){if(e){if(typeof e=="string")return VR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VR(e,t)}}function VR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function nIe(e){if(Array.isArray(e))return e}function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iS.apply(this,arguments)}var sIe=function(t,r){var n;return F.isValidElement(t)?n=F.cloneElement(t,r):ft(t)?n=t(r):n=F.createElement("line",iS({},r,{className:"recharts-reference-line-line"})),n},aIe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var y=u.y,m=t.y.apply(y,{position:o});if(ci(u,"discard")&&!t.y.isInRange(m))return null;var w=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?w.reverse():w}if(r){var g=u.x,v=t.x.apply(g,{position:o});if(ci(u,"discard")&&!t.x.isInRange(v))return null;var b=[{x:v,y:f+p},{x:v,y:f}];return l==="top"?b.reverse():b}if(a){var j=u.segment,_=j.map(function(N){return t.apply(N,{position:o})});return ci(u,"discard")&&PTe(_,function(N){return!t.isInRange(N)})?null:_}return null};function iIe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=U4e(),d=a9(a),f=i9(i),h=q4e();if(!u||!h)return null;Da(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=GC({x:d.scale,y:f.scale}),y=ln(t),m=ln(r),w=n&&n.length===2,g=aIe(p,y,m,w,h,e.position,d.orientation,f.orientation,e);if(!g)return null;var v=Z4e(g,2),b=v[0],j=b.x,_=b.y,N=v[1],S=N.x,C=N.y,P=ci(e,"hidden")?"url(#".concat(u,")"):void 0,k=BR(BR({clipPath:P},ut(e,!0)),{},{x1:j,y1:_,x2:S,y2:C});return F.createElement(Xt,{className:xt("recharts-reference-line",l)},sIe(o,k),vn.renderCallByParent(e,v4e({x1:j,y1:_,x2:S,y2:C})))}var eP=function(e){function t(){return W4e(this,t),G4e(this,t,arguments)}return X4e(t,e),H4e(t,[{key:"render",value:function(){return F.createElement(iIe,this.props)}}])}(F.Component);ZC(eP,"displayName","ReferenceLine");ZC(eP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oS.apply(this,arguments)}function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){H0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u9(n.key),n)}}function cIe(e,t,r){return t&&lIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uIe(e,t,r){return t=Iy(t),dIe(e,c9()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function dIe(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fIe(e)}function fIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c9=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function hIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}function lS(e,t){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lS(e,t)}function H0(e,t,r){return t=u9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u9(e){var t=mIe(e,"string");return sf(t)=="symbol"?t:t+""}function mIe(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pIe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=GC({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ci(t,"discard")&&!o.isInRange(l)?null:l},G0=function(e){function t(){return oIe(this,t),uIe(this,t,arguments)}return hIe(t,e),cIe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=ln(a),d=ln(i);if(Da(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=pIe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,m=y.shape,w=y.className,g=ci(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=zR(zR({clipPath:g},ut(this.props,!0)),{},{cx:h,cy:p});return F.createElement(Xt,{className:xt("recharts-reference-dot",w)},t.renderDot(m,v),vn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(F.Component);H0(G0,"displayName","ReferenceDot");H0(G0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});H0(G0,"renderDot",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):ft(e)?r=e(t):r=F.createElement(HC,oS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cS.apply(this,arguments)}function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function WR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(r),!0).forEach(function(n){Q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f9(n.key),n)}}function xIe(e,t,r){return t&&vIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yIe(e,t,r){return t=Ry(t),bIe(e,d9()?Reflect.construct(t,r||[],Ry(e).constructor):t.apply(e,r))}function bIe(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wIe(e)}function wIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d9=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(e)}function jIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uS(e,t)}function Q0(e,t,r){return t=f9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9(e){var t=NIe(e,"string");return af(t)=="symbol"?t:t+""}function NIe(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _Ie=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=GC({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ci(i,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:Jq(p,y)},Y0=function(e){function t(){return gIe(this,t),yIe(this,t,arguments)}return jIe(t,e),xIe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Da(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ln(a),h=ln(i),p=ln(o),y=ln(l),m=this.props.shape;if(!f&&!h&&!p&&!y&&!m)return null;var w=_Ie(f,h,p,y,this.props);if(!w&&!m)return null;var g=ci(this.props,"hidden")?"url(#".concat(d,")"):void 0;return F.createElement(Xt,{className:xt("recharts-reference-area",c)},t.renderRect(m,KR(KR({clipPath:g},ut(this.props,!0)),w)),vn.renderCallByParent(this.props,w))}}])}(F.Component);Q0(Y0,"displayName","ReferenceArea");Q0(Y0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Q0(Y0,"renderRect",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):ft(e)?r=e(t):r=F.createElement(KC,cS({},t,{className:"recharts-reference-area-rect"})),r});function h9(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function SIe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return y4e(n,r)}function kIe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function My(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function CIe(e,t){return h9(e,t+1)}function PIe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:h9(n,u)};var m=c,w,g=function(){return w===void 0&&(w=r(y,m)),w},v=y.coordinate,b=c===0||My(e,v,g,d,l);b||(c=0,d=o,u+=1),b&&(d=v+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){EIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EIe(e,t,r){return t=AIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AIe(e){var t=OIe(e,"string");return bp(t)=="symbol"?t:t+""}function OIe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TIe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var w=e*(p.coordinate+e*m()/2-c);i[h]=p=In(In({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else i[h]=p=In(In({},p),{},{tickCoord:p.coordinate});var g=My(e,p.tickCoord,m,l,c);g&&(c=p.tickCoord-e*(m()/2+a),i[h]=In(In({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function IIe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=In(In({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=My(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=In(In({},d),{},{isShow:!0}))}for(var y=i?l-1:l,m=function(v){var b=o[v],j,_=function(){return j===void 0&&(j=r(b,v)),j};if(v===0){var N=e*(b.coordinate-e*_()/2-c);o[v]=b=In(In({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else o[v]=b=In(In({},b),{},{tickCoord:b.coordinate});var S=My(e,b.tickCoord,_,c,u);S&&(c=b.tickCoord+e*(_()/2+a),o[v]=In(In({},b),{},{isShow:!0}))},w=0;w<y;w++)m(w);return o}function tP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Pe(c)||Ff.isSsr)return CIe(a,typeof c=="number"&&Pe(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?Yh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,j){var _=ft(u)?u(b.value,j):b.value;return p==="width"?SIe(Yh(_,{fontSize:t,letterSpacing:r}),y,f):Yh(_,{fontSize:t,letterSpacing:r})[p]},w=a.length>=2?Hn(a[1].coordinate-a[0].coordinate):1,g=kIe(i,w,p);return c==="equidistantPreserveStart"?PIe(w,g,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=IIe(w,g,m,a,o,c==="preserveStartEnd"):h=TIe(w,g,m,a,o),h.filter(function(v){return v.isShow}))}var RIe=["viewBox"],MIe=["viewBox"],$Ie=["ticks"];function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hu.apply(this,arguments)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){rP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mj(e,t){if(e==null)return{};var r=DIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p9(n.key),n)}}function FIe(e,t,r){return t&&QR(e.prototype,t),r&&QR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UIe(e,t,r){return t=$y(t),BIe(e,m9()?Reflect.construct(t,r||[],$y(e).constructor):t.apply(e,r))}function BIe(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VIe(e)}function VIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m9=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(e)}function qIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dS(e,t)}function rP(e,t,r){return t=p9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p9(e){var t=zIe(e,"string");return of(t)=="symbol"?t:t+""}function zIe(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qf=function(e){function t(r){var n;return LIe(this,t),n=UIe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return qIe(t,e),FIe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Mj(n,RIe),l=this.props,c=l.viewBox,u=Mj(l,MIe);return!sd(i,c)||!sd(o,u)||!sd(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,y,m,w,g,v,b=f?-1:1,j=n.tickSize||d,_=Pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,w=o+ +!f*c,m=w-b*j,v=m-b*h,g=_;break;case"left":m=w=n.coordinate,y=i+ +!f*l,p=y-b*j,g=p-b*h,v=_;break;case"right":m=w=n.coordinate,y=i+ +f*l,p=y+b*j,g=p+b*h,v=_;break;default:p=y=n.coordinate,w=o+ +f*c,m=w+b*j,v=m+b*h,g=_;break}return{line:{x1:p,y1:m,x2:y,y2:w},tick:{x:g,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=en(en(en({},ut(this.props,!1)),ut(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=en(en({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=en(en({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return F.createElement("line",Hu({},f,{className:xt("recharts-cartesian-axis-line",Ms(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=tP(en(en({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),w=ut(this.props,!1),g=ut(d,!1),v=en(en({},w),{},{fill:"none"},ut(c,!1)),b=p.map(function(j,_){var N=o.getTickLineCoord(j),S=N.line,C=N.tick,P=en(en(en(en({textAnchor:y,verticalAnchor:m},w),{},{stroke:"none",fill:u},g),C),{},{index:_,payload:j,visibleTicksCount:p.length,tickFormatter:f});return F.createElement(Xt,Hu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Cc(o.props,j,_)),c&&F.createElement("line",Hu({},v,S,{className:xt("recharts-cartesian-axis-tick-line",Ms(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(ft(f)?f(j.value,_):j.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Mj(f,$Ie),y=h;return ft(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:F.createElement(Xt,{className:xt("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),vn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=xt(a.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(n)?o=F.cloneElement(n,en(en({},a),{},{className:l})):ft(n)?o=n(en(en({},a),{},{className:l})):o=F.createElement(Pc,Hu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);rP(qf,"displayName","CartesianAxis");rP(qf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var WIe=["x1","y1","x2","y2","key"],KIe=["offset"];function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){HIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HIe(e,t,r){return t=GIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GIe(e){var t=QIe(e,"string");return Oc(t)=="symbol"?t:t+""}function QIe(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}function XR(e,t){if(e==null)return{};var r=YIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var XIe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return F.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function g9(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(ft(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=XR(t,WIe),u=ut(c,!1);u.offset;var d=XR(u,KIe);r=F.createElement("line",Hl({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function JIe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Mn(Mn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return g9(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ZIe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Mn(Mn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return g9(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function eRe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?a+o-h:d[p+1]-h;if(m<=0)return null;var w=p%t.length;return F.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function tRe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?i+l-h:d[p+1]-h;if(m<=0)return null;var w=p%n.length;return F.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var rRe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return hq(tP(Mn(Mn(Mn({},qf.defaultProps),n),{},{ticks:$i(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},nRe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return hq(tP(Mn(Mn(Mn({},qf.defaultProps),n),{},{ticks:$i(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},yu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function v9(e){var t,r,n,a,i,o,l=XC(),c=JC(),u=z4e(),d=Mn(Mn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:yu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:yu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:yu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:yu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:yu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:yu.verticalFill,x:Pe(e.x)?e.x:u.left,y:Pe(e.y)?e.y:u.top,width:Pe(e.width)?e.width:u.width,height:Pe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,m=d.syncWithTicks,w=d.horizontalValues,g=d.verticalValues,v=B4e(),b=V4e();if(!Pe(p)||p<=0||!Pe(y)||y<=0||!Pe(f)||f!==+f||!Pe(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||rRe,_=d.horizontalCoordinatesGenerator||nRe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&ft(_)){var C=w&&w.length,P=_({yAxis:b?Mn(Mn({},b),{},{ticks:C?w:b.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);Da(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Oc(P),"]")),Array.isArray(P)&&(N=P)}if((!S||!S.length)&&ft(j)){var k=g&&g.length,E=j({xAxis:v?Mn(Mn({},v),{},{ticks:k?g:v.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);Da(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Oc(E),"]")),Array.isArray(E)&&(S=E)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(XIe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),F.createElement(JIe,Hl({},d,{offset:u,horizontalPoints:N,xAxis:v,yAxis:b})),F.createElement(ZIe,Hl({},d,{offset:u,verticalPoints:S,xAxis:v,yAxis:b})),F.createElement(eRe,Hl({},d,{horizontalPoints:N})),F.createElement(tRe,Hl({},d,{verticalPoints:S})))}v9.displayName="CartesianGrid";function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function sRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b9(n.key),n)}}function iRe(e,t,r){return t&&aRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oRe(e,t,r){return t=Dy(t),lRe(e,x9()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function lRe(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cRe(e)}function cRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x9=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(e)}function uRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fS(e,t)}function y9(e,t,r){return t=b9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b9(e){var t=dRe(e,"string");return lf(t)=="symbol"?t:t+""}function dRe(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hS.apply(this,arguments)}function fRe(e){var t=e.xAxisId,r=XC(),n=JC(),a=a9(t);return a==null?null:x.createElement(qf,hS({},a,{className:xt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return $i(o,!0)}}))}var X0=function(e){function t(){return sRe(this,t),oRe(this,t,arguments)}return uRe(t,e),iRe(t,[{key:"render",value:function(){return x.createElement(fRe,this.props)}}])}(x.Component);y9(X0,"displayName","XAxis");y9(X0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function hRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N9(n.key),n)}}function pRe(e,t,r){return t&&mRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gRe(e,t,r){return t=Ly(t),vRe(e,w9()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function vRe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xRe(e)}function xRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w9=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function yRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mS(e,t)}function j9(e,t,r){return t=N9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N9(e){var t=bRe(e,"string");return cf(t)=="symbol"?t:t+""}function bRe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pS.apply(this,arguments)}var wRe=function(t){var r=t.yAxisId,n=XC(),a=JC(),i=i9(r);return i==null?null:x.createElement(qf,pS({},i,{className:xt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return $i(l,!0)}}))},J0=function(e){function t(){return hRe(this,t),gRe(this,t,arguments)}return yRe(t,e),pRe(t,[{key:"render",value:function(){return x.createElement(wRe,this.props)}}])}(x.Component);j9(J0,"displayName","YAxis");j9(J0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JR(e){return SRe(e)||_Re(e)||NRe(e)||jRe()}function jRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NRe(e,t){if(e){if(typeof e=="string")return gS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gS(e,t)}}function _Re(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SRe(e){if(Array.isArray(e))return gS(e)}function gS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vS=function(t,r,n,a,i){var o=aa(t,eP),l=aa(t,G0),c=[].concat(JR(o),JR(l)),u=aa(t,Y0),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,w){if(w.props[d]===n&&ci(w.props,"extendDomain")&&Pe(w.props[f])){var g=w.props[f];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,w){if(w.props[d]===n&&ci(w.props,"extendDomain")&&Pe(w.props[p])&&Pe(w.props[y])){var g=w.props[p],v=w.props[y];return[Math.min(m[0],g,v),Math.max(m[1],g,v)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,w){return Pe(w)?[Math.min(m[0],w),Math.max(m[1],w)]:m},h)),h},_9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var w=this._events[m],g=arguments.length,v,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),g){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,p),!0;case 6:return w.fn.call(w.context,d,f,h,p,y),!0}for(b=1,v=new Array(g-1);b<g;b++)v[b-1]=arguments[b];w.fn.apply(w.context,v)}else{var j=w.length,_;for(b=0;b<j;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),g){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,f);break;case 4:w[b].fn.call(w[b].context,d,f,h);break;default:if(!v)for(_=1,v=new Array(g-1);_<g;_++)v[_-1]=arguments[_];w[b].fn.apply(w[b].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var m=0,w=[],g=y.length;m<g;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&w.push(y[m]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(_9);var kRe=_9.exports;const CRe=Gt(kRe);var $j=new CRe,Dj="recharts.syncMouseEvents";function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function PRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ERe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S9(n.key),n)}}function ARe(e,t,r){return t&&ERe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lj(e,t,r){return t=S9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9(e){var t=ORe(e,"string");return wp(t)=="symbol"?t:t+""}function ORe(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TRe=function(){function e(){PRe(this,e),Lj(this,"activeIndex",0),Lj(this,"coordinateList",[]),Lj(this,"layout","horizontal")}return ARe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function IRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Pe(n)&&Pe(a))return!0}return!1}function RRe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function k9(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=fr(t,r,n,a),l=fr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function MRe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=fr(l,c,u,f),p=fr(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return k9(t);return[{x:n,y:a},{x:i,y:o}]}function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){$Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Re(e,t,r){return t=DRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DRe(e){var t=LRe(e,"string");return jp(t)=="symbol"?t:t+""}function LRe(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FRe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,m=U_;if(h==="ScatterChart")y=o,m=gAe;else if(h==="BarChart")y=RRe(f,o,c,d),m=KC;else if(f==="radial"){var w=k9(o),g=w.cx,v=w.cy,b=w.radius,j=w.startAngle,_=w.endAngle;y={cx:g,cy:v,startAngle:j,endAngle:_,innerRadius:b,outerRadius:b},m=_q}else y={points:MRe(f,o,c)},m=U_;var N=uv(uv(uv(uv({stroke:"#ccc",pointerEvents:"none"},c),y),ut(p,!1)),{},{payload:l,payloadIndex:u,className:xt("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,N):x.createElement(m,N)}var URe=["item"],BRe=["children","className","width","height","style","compact","title","desc"];function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gu.apply(this,arguments)}function eM(e,t){return zRe(e)||qRe(e,t)||P9(e,t)||VRe()}function VRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zRe(e){if(Array.isArray(e))return e}function tM(e,t){if(e==null)return{};var r=WRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E9(n.key),n)}}function GRe(e,t,r){return t&&HRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QRe(e,t,r){return t=Fy(t),YRe(e,C9()?Reflect.construct(t,r||[],Fy(e).constructor):t.apply(e,r))}function YRe(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XRe(e)}function XRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C9=function(){return!!e})()}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fy(e)}function JRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xS(e,t)}function xS(e,t){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xS(e,t)}function df(e){return tMe(e)||eMe(e)||P9(e)||ZRe()}function ZRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P9(e,t){if(e){if(typeof e=="string")return yS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yS(e,t)}}function eMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tMe(e){if(Array.isArray(e))return yS(e)}function yS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){at(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function at(e,t,r){return t=E9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9(e){var t=rMe(e,"string");return uf(t)=="symbol"?t:t+""}function rMe(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nMe={xAxis:["bottom","top"],yAxis:["left","right"]},sMe={width:"100%",height:"100%"},A9={x:0,y:0};function dv(e){return e}var aMe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},iMe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return fe(fe(fe({},a),fr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return fe(fe(fe({},a),fr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return A9},Z0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(df(l),df(u)):l},[]);return o.length>0?o:t&&t.length&&Pe(a)&&Pe(i)?t.slice(a,i+1):[]};function O9(e){return e==="number"?[0,"auto"]:void 0}var bS=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Z0(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=GN(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(df(c),[xq(u,h)]):c},[])},nM=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=aMe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=$2e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=bS(t,r,d,f),p=iMe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},oMe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=fq(d,i);return n.reduce(function(y,m){var w,g=m.type.defaultProps!==void 0?fe(fe({},m.type.defaultProps),m.props):m.props,v=g.type,b=g.dataKey,j=g.allowDataOverflow,_=g.allowDuplicatedCategory,N=g.scale,S=g.ticks,C=g.includeHidden,P=g[o];if(y[P])return y;var k=Z0(t.data,{graphicalItems:a.filter(function(U){var J,z=o in U.props?U.props[o]:(J=U.type.defaultProps)===null||J===void 0?void 0:J[o];return z===P}),dataStartIndex:c,dataEndIndex:u}),E=k.length,T,I,R;IRe(g.domain,j,v)&&(T=M_(g.domain,null,j),p&&(v==="number"||N!=="auto")&&(R=Jh(k,b,"category")));var D=O9(v);if(!T||T.length===0){var O,W=(O=g.domain)!==null&&O!==void 0?O:D;if(b){if(T=Jh(k,b,v),v==="category"&&p){var A=kme(T);_&&A?(I=T,T=Cy(0,E)):_||(T=OI(W,T,m).reduce(function(U,J){return U.indexOf(J)>=0?U:[].concat(df(U),[J])},[]))}else if(v==="category")_?T=T.filter(function(U){return U!==""&&!Ct(U)}):T=OI(W,T,m).reduce(function(U,J){return U.indexOf(J)>=0||J===""||Ct(J)?U:[].concat(df(U),[J])},[]);else if(v==="number"){var $=B2e(k,a.filter(function(U){var J,z,ee=o in U.props?U.props[o]:(J=U.type.defaultProps)===null||J===void 0?void 0:J[o],pe="hide"in U.props?U.props.hide:(z=U.type.defaultProps)===null||z===void 0?void 0:z.hide;return ee===P&&(C||!pe)}),b,i,d);$&&(T=$)}p&&(v==="number"||N!=="auto")&&(R=Jh(k,b,"category"))}else p?T=Cy(0,E):l&&l[P]&&l[P].hasStack&&v==="number"?T=h==="expand"?[0,1]:vq(l[P].stackGroups,c,u):T=dq(k,a.filter(function(U){var J=o in U.props?U.props[o]:U.type.defaultProps[o],z="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return J===P&&(C||!z)}),v,d,!0);if(v==="number")T=vS(f,T,P,i,S),W&&(T=M_(W,T,j));else if(v==="category"&&W){var Q=W,X=T.every(function(U){return Q.indexOf(U)>=0});X&&(T=Q)}}return fe(fe({},y),{},at({},P,fe(fe({},g),{},{axisType:i,domain:T,categoricalDomain:R,duplicateDomain:I,originalDomain:(w=g.domain)!==null&&w!==void 0?w:D,isCategorical:p,layout:d})))},{})},lMe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Z0(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=fq(d,i),m=-1;return n.reduce(function(w,g){var v=g.type.defaultProps!==void 0?fe(fe({},g.type.defaultProps),g.props):g.props,b=v[o],j=O9("number");if(!w[b]){m++;var _;return y?_=Cy(0,p):l&&l[b]&&l[b].hasStack?(_=vq(l[b].stackGroups,c,u),_=vS(f,_,b,i)):(_=M_(j,dq(h,n.filter(function(N){var S,C,P=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],k="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===b&&!k}),"number",d),a.defaultProps.allowDataOverflow),_=vS(f,_,b,i)),fe(fe({},w),{},at({},b,fe(fe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ms(nMe,"".concat(i,".").concat(m%2),null),domain:_,originalDomain:j,isCategorical:y,layout:d})))}return w},{})},cMe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=aa(d,i),p={};return h&&h.length?p=oMe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=lMe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},uMe=function(t){var r=No(t),n=$i(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:yC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:my(r,n)}},sM=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ns(r,tf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},dMe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Li(r&&r.type);return n&&n.indexOf("Bar")>=0})},aM=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fMe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Ns(f,tf),y=Ns(f,ac),m=Object.keys(c).reduce(function(_,N){var S=c[N],C=S.orientation;return!S.mirror&&!S.hide?fe(fe({},_),{},at({},C,_[C]+S.width)):_},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(_,N){var S=o[N],C=S.orientation;return!S.mirror&&!S.hide?fe(fe({},_),{},at({},C,Ms(_,"".concat(C))+S.height)):_},{top:h.top||0,bottom:h.bottom||0}),g=fe(fe({},w),m),v=g.bottom;p&&(g.bottom+=p.props.height||tf.defaultProps.height),y&&r&&(g=F2e(g,a,n,r));var b=u-g.left-g.right,j=d-g.top-g.bottom;return fe(fe({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(j,0)})},hMe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},T9=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,v){var b=v.graphicalItems,j=v.stackGroups,_=v.offset,N=v.updateId,S=v.dataStartIndex,C=v.dataEndIndex,P=g.barSize,k=g.layout,E=g.barGap,T=g.barCategoryGap,I=g.maxBarSize,R=aM(k),D=R.numericAxisName,O=R.cateAxisName,W=dMe(b),A=[];return b.forEach(function($,Q){var X=Z0(g.data,{graphicalItems:[$],dataStartIndex:S,dataEndIndex:C}),U=$.type.defaultProps!==void 0?fe(fe({},$.type.defaultProps),$.props):$.props,J=U.dataKey,z=U.maxBarSize,ee=U["".concat(D,"Id")],pe=U["".concat(O,"Id")],te={},be=c.reduce(function(V,Z){var oe=v["".concat(Z.axisType,"Map")],Ae=U["".concat(Z.axisType,"Id")];oe&&oe[Ae]||Z.axisType==="zAxis"||Ac();var je=oe[Ae];return fe(fe({},V),{},at(at({},Z.axisType,je),"".concat(Z.axisType,"Ticks"),$i(je)))},te),ae=be[O],B=be["".concat(O,"Ticks")],ce=j&&j[ee]&&j[ee].hasStack&&Y2e($,j[ee].stackGroups),G=Li($.type).indexOf("Bar")>=0,L=my(ae,B),ve=[],Fe=W&&D2e({barSize:P,stackGroups:j,totalSize:hMe(be,O)});if(G){var st,vt,qt=Ct(z)?I:z,$t=(st=(vt=my(ae,B,!0))!==null&&vt!==void 0?vt:qt)!==null&&st!==void 0?st:0;ve=L2e({barGap:E,barCategoryGap:T,bandSize:$t!==L?$t:L,sizeList:Fe[pe],maxBarSize:qt}),$t!==L&&(ve=ve.map(function(V){return fe(fe({},V),{},{position:fe(fe({},V.position),{},{offset:V.position.offset-$t/2})})}))}var Nr=$&&$.type&&$.type.getComposedData;Nr&&A.push({props:fe(fe({},Nr(fe(fe({},be),{},{displayedData:X,props:g,dataKey:J,item:$,bandSize:L,barPosition:ve,offset:_,stackedData:ce,layout:k,dataStartIndex:S,dataEndIndex:C}))),{},at(at(at({key:$.key||"item-".concat(Q)},D,be[D]),O,be[O]),"animationId",N)),childIndex:Lme($,g.children),item:$})}),A},p=function(g,v){var b=g.props,j=g.dataStartIndex,_=g.dataEndIndex,N=g.updateId;if(!_T({props:b}))return null;var S=b.children,C=b.layout,P=b.stackOffset,k=b.data,E=b.reverseStackOrder,T=aM(C),I=T.numericAxisName,R=T.cateAxisName,D=aa(S,n),O=G2e(k,D,"".concat(I,"Id"),"".concat(R,"Id"),P,E),W=c.reduce(function(U,J){var z="".concat(J.axisType,"Map");return fe(fe({},U),{},at({},z,cMe(b,fe(fe({},J),{},{graphicalItems:D,stackGroups:J.axisType===I&&O,dataStartIndex:j,dataEndIndex:_}))))},{}),A=fMe(fe(fe({},W),{},{props:b,graphicalItems:D}),v==null?void 0:v.legendBBox);Object.keys(W).forEach(function(U){W[U]=d(b,W[U],A,U.replace("Map",""),r)});var $=W["".concat(R,"Map")],Q=uMe($),X=h(b,fe(fe({},W),{},{dataStartIndex:j,dataEndIndex:_,updateId:N,graphicalItems:D,stackGroups:O,offset:A}));return fe(fe({formattedGraphicalItems:X,graphicalItems:D,offset:A,stackGroups:O},Q),W)},y=function(w){function g(v){var b,j,_;return KRe(this,g),_=QRe(this,g,[v]),at(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),at(_,"accessibilityManager",new TRe),at(_,"handleLegendBBoxUpdate",function(N){if(N){var S=_.state,C=S.dataStartIndex,P=S.dataEndIndex,k=S.updateId;_.setState(fe({legendBBox:N},p({props:_.props,dataStartIndex:C,dataEndIndex:P,updateId:k},fe(fe({},_.state),{},{legendBBox:N}))))}}),at(_,"handleReceiveSyncEvent",function(N,S,C){if(_.props.syncId===N){if(C===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(S)}}),at(_,"handleBrushChange",function(N){var S=N.startIndex,C=N.endIndex;if(S!==_.state.dataStartIndex||C!==_.state.dataEndIndex){var P=_.state.updateId;_.setState(function(){return fe({dataStartIndex:S,dataEndIndex:C},p({props:_.props,dataStartIndex:S,dataEndIndex:C,updateId:P},_.state))}),_.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),at(_,"handleMouseEnter",function(N){var S=_.getMouseInfo(N);if(S){var C=fe(fe({},S),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var P=_.props.onMouseEnter;ft(P)&&P(C,N)}}),at(_,"triggeredAfterMouseMove",function(N){var S=_.getMouseInfo(N),C=S?fe(fe({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var P=_.props.onMouseMove;ft(P)&&P(C,N)}),at(_,"handleItemMouseEnter",function(N){_.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),at(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),at(_,"handleMouseMove",function(N){N.persist(),_.throttleTriggeredAfterMouseMove(N)}),at(_,"handleMouseLeave",function(N){_.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var C=_.props.onMouseLeave;ft(C)&&C(S,N)}),at(_,"handleOuterEvent",function(N){var S=Dme(N),C=Ms(_.props,"".concat(S));if(S&&ft(C)){var P,k;/.*touch.*/i.test(S)?k=_.getMouseInfo(N.changedTouches[0]):k=_.getMouseInfo(N),C((P=k)!==null&&P!==void 0?P:{},N)}}),at(_,"handleClick",function(N){var S=_.getMouseInfo(N);if(S){var C=fe(fe({},S),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var P=_.props.onClick;ft(P)&&P(C,N)}}),at(_,"handleMouseDown",function(N){var S=_.props.onMouseDown;if(ft(S)){var C=_.getMouseInfo(N);S(C,N)}}),at(_,"handleMouseUp",function(N){var S=_.props.onMouseUp;if(ft(S)){var C=_.getMouseInfo(N);S(C,N)}}),at(_,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),at(_,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseDown(N.changedTouches[0])}),at(_,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseUp(N.changedTouches[0])}),at(_,"handleDoubleClick",function(N){var S=_.props.onDoubleClick;if(ft(S)){var C=_.getMouseInfo(N);S(C,N)}}),at(_,"handleContextMenu",function(N){var S=_.props.onContextMenu;if(ft(S)){var C=_.getMouseInfo(N);S(C,N)}}),at(_,"triggerSyncEvent",function(N){_.props.syncId!==void 0&&$j.emit(Dj,_.props.syncId,N,_.eventEmitterSymbol)}),at(_,"applySyncEvent",function(N){var S=_.props,C=S.layout,P=S.syncMethod,k=_.state.updateId,E=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)_.setState(fe({dataStartIndex:E,dataEndIndex:T},p({props:_.props,dataStartIndex:E,dataEndIndex:T,updateId:k},_.state)));else if(N.activeTooltipIndex!==void 0){var I=N.chartX,R=N.chartY,D=N.activeTooltipIndex,O=_.state,W=O.offset,A=O.tooltipTicks;if(!W)return;if(typeof P=="function")D=P(A,N);else if(P==="value"){D=-1;for(var $=0;$<A.length;$++)if(A[$].value===N.activeLabel){D=$;break}}var Q=fe(fe({},W),{},{x:W.left,y:W.top}),X=Math.min(I,Q.x+Q.width),U=Math.min(R,Q.y+Q.height),J=A[D]&&A[D].value,z=bS(_.state,_.props.data,D),ee=A[D]?{x:C==="horizontal"?A[D].coordinate:X,y:C==="horizontal"?U:A[D].coordinate}:A9;_.setState(fe(fe({},N),{},{activeLabel:J,activeCoordinate:ee,activePayload:z,activeTooltipIndex:D}))}else _.setState(N)}),at(_,"renderCursor",function(N){var S,C=_.state,P=C.isTooltipActive,k=C.activeCoordinate,E=C.activePayload,T=C.offset,I=C.activeTooltipIndex,R=C.tooltipAxisBandSize,D=_.getTooltipEventType(),O=(S=N.props.active)!==null&&S!==void 0?S:P,W=_.props.layout,A=N.key||"_recharts-cursor";return F.createElement(FRe,{key:A,activeCoordinate:k,activePayload:E,activeTooltipIndex:I,chartName:r,element:N,isActive:O,layout:W,offset:T,tooltipAxisBandSize:R,tooltipEventType:D})}),at(_,"renderPolarAxis",function(N,S,C){var P=Ms(N,"type.axisType"),k=Ms(_.state,"".concat(P,"Map")),E=N.type.defaultProps,T=E!==void 0?fe(fe({},E),N.props):N.props,I=k&&k[T["".concat(P,"Id")]];return x.cloneElement(N,fe(fe({},I),{},{className:xt(P,I.className),key:N.key||"".concat(S,"-").concat(C),ticks:$i(I,!0)}))}),at(_,"renderPolarGrid",function(N){var S=N.props,C=S.radialLines,P=S.polarAngles,k=S.polarRadius,E=_.state,T=E.radiusAxisMap,I=E.angleAxisMap,R=No(T),D=No(I),O=D.cx,W=D.cy,A=D.innerRadius,$=D.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(P)?P:$i(D,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(k)?k:$i(R,!0).map(function(Q){return Q.coordinate}),cx:O,cy:W,innerRadius:A,outerRadius:$,key:N.key||"polar-grid",radialLines:C})}),at(_,"renderLegend",function(){var N=_.state.formattedGraphicalItems,S=_.props,C=S.children,P=S.width,k=S.height,E=_.props.margin||{},T=P-(E.left||0)-(E.right||0),I=cq({children:C,formattedGraphicalItems:N,legendWidth:T,legendContent:u});if(!I)return null;var R=I.item,D=tM(I,URe);return x.cloneElement(R,fe(fe({},D),{},{chartWidth:P,chartHeight:k,margin:E,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),at(_,"renderTooltip",function(){var N,S=_.props,C=S.children,P=S.accessibilityLayer,k=Ns(C,Pa);if(!k)return null;var E=_.state,T=E.isTooltipActive,I=E.activeCoordinate,R=E.activePayload,D=E.activeLabel,O=E.offset,W=(N=k.props.active)!==null&&N!==void 0?N:T;return x.cloneElement(k,{viewBox:fe(fe({},O),{},{x:O.left,y:O.top}),active:W,label:D,payload:W?R:[],coordinate:I,accessibilityLayer:P})}),at(_,"renderBrush",function(N){var S=_.props,C=S.margin,P=S.data,k=_.state,E=k.offset,T=k.dataStartIndex,I=k.dataEndIndex,R=k.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:iv(_.handleBrushChange,N.props.onChange),data:P,x:Pe(N.props.x)?N.props.x:E.left,y:Pe(N.props.y)?N.props.y:E.top+E.height+E.brushBottom-(C.bottom||0),width:Pe(N.props.width)?N.props.width:E.width,startIndex:T,endIndex:I,updateId:"brush-".concat(R)})}),at(_,"renderReferenceElement",function(N,S,C){if(!N)return null;var P=_,k=P.clipPathId,E=_.state,T=E.xAxisMap,I=E.yAxisMap,R=E.offset,D=N.type.defaultProps||{},O=N.props,W=O.xAxisId,A=W===void 0?D.xAxisId:W,$=O.yAxisId,Q=$===void 0?D.yAxisId:$;return x.cloneElement(N,{key:N.key||"".concat(S,"-").concat(C),xAxis:T[A],yAxis:I[Q],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:k})}),at(_,"renderActivePoints",function(N){var S=N.item,C=N.activePoint,P=N.basePoint,k=N.childIndex,E=N.isRange,T=[],I=S.props.key,R=S.item.type.defaultProps!==void 0?fe(fe({},S.item.type.defaultProps),S.item.props):S.item.props,D=R.activeDot,O=R.dataKey,W=fe(fe({index:k,dataKey:O,cx:C.x,cy:C.y,r:4,fill:WC(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ut(D,!1)),Bx(D));return T.push(g.renderActiveDot(D,W,"".concat(I,"-activePoint-").concat(k))),P?T.push(g.renderActiveDot(D,fe(fe({},W),{},{cx:P.x,cy:P.y}),"".concat(I,"-basePoint-").concat(k))):E&&T.push(null),T}),at(_,"renderGraphicChild",function(N,S,C){var P=_.filterFormatItem(N,S,C);if(!P)return null;var k=_.getTooltipEventType(),E=_.state,T=E.isTooltipActive,I=E.tooltipAxis,R=E.activeTooltipIndex,D=E.activeLabel,O=_.props.children,W=Ns(O,Pa),A=P.props,$=A.points,Q=A.isRange,X=A.baseLine,U=P.item.type.defaultProps!==void 0?fe(fe({},P.item.type.defaultProps),P.item.props):P.item.props,J=U.activeDot,z=U.hide,ee=U.activeBar,pe=U.activeShape,te=!!(!z&&T&&W&&(J||ee||pe)),be={};k!=="axis"&&W&&W.props.trigger==="click"?be={onClick:iv(_.handleItemMouseEnter,N.props.onClick)}:k!=="axis"&&(be={onMouseLeave:iv(_.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:iv(_.handleItemMouseEnter,N.props.onMouseEnter)});var ae=x.cloneElement(N,fe(fe({},P.props),be));function B(Z){return typeof I.dataKey=="function"?I.dataKey(Z.payload):null}if(te)if(R>=0){var ce,G;if(I.dataKey&&!I.allowDuplicatedCategory){var L=typeof I.dataKey=="function"?B:"payload.".concat(I.dataKey.toString());ce=GN($,L,D),G=Q&&X&&GN(X,L,D)}else ce=$==null?void 0:$[R],G=Q&&X&&X[R];if(pe||ee){var ve=N.props.activeIndex!==void 0?N.props.activeIndex:R;return[x.cloneElement(N,fe(fe(fe({},P.props),be),{},{activeIndex:ve})),null,null]}if(!Ct(ce))return[ae].concat(df(_.renderActivePoints({item:P,activePoint:ce,basePoint:G,childIndex:R,isRange:Q})))}else{var Fe,st=(Fe=_.getItemByXY(_.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:ae},vt=st.graphicalItem,qt=vt.item,$t=qt===void 0?N:qt,Nr=vt.childIndex,V=fe(fe(fe({},P.props),be),{},{activeIndex:Nr});return[x.cloneElement($t,V),null,null]}return Q?[ae,null,null]:[ae,null]}),at(_,"renderCustomized",function(N,S,C){return x.cloneElement(N,fe(fe({key:"recharts-customized-".concat(C)},_.props),_.state))}),at(_,"renderMap",{CartesianGrid:{handler:dv,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:dv},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:dv},YAxis:{handler:dv},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=v.id)!==null&&b!==void 0?b:ag("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=lV(_.triggeredAfterMouseMove,(j=v.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return JRe(g,w),GRe(g,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,_=b.data,N=b.height,S=b.layout,C=Ns(j,Pa);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,E=bS(this.state,_,P,k),T=this.state.tooltipTicks[P].coordinate,I=(this.state.offset.top+N)/2,R=S==="horizontal",D=R?{x:T,y:I}:{y:T,x:I},O=this.state.formattedGraphicalItems.find(function(A){var $=A.item;return $.type.name==="Scatter"});O&&(D=fe(fe({},D),O.props.points[P].tooltipPosition),E=O.props.points[P].tooltipPayload);var W={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:E,activeCoordinate:D};this.setState(W),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,N;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){YN([Ns(b.children,Pa)],[Ns(this.props.children,Pa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ns(this.props.children,Pa);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),N=uNe(_),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},C=_.width/j.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,C);if(!P)return null;var k=this.state,E=k.xAxisMap,T=k.yAxisMap,I=this.getTooltipEventType(),R=nM(this.state,this.props.data,this.props.layout,P);if(I!=="axis"&&E&&T){var D=No(E).scale,O=No(T).scale,W=D&&D.invert?D.invert(S.chartX):null,A=O&&O.invert?O.invert(S.chartY):null;return fe(fe({},S),{},{xValue:W,yValue:A},R)}return R?fe(fe({},S),R):null}},{key:"inRange",value:function(b,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/_,C=j/_;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,k=S>=P.left&&S<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return k?{x:S,y:C}:null}var E=this.state,T=E.angleAxisMap,I=E.radiusAxisMap;if(T&&I){var R=No(T);return RI({x:S,y:C},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),_=Ns(b,Pa),N={};_&&j==="axis"&&(_.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Bx(this.props,this.handleOuterEvent);return fe(fe({},S),N)}},{key:"addListener",value:function(){$j.on(Dj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$j.removeListener(Dj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,_){for(var N=this.state.formattedGraphicalItems,S=0,C=N.length;S<C;S++){var P=N[S];if(P.item===b||P.props.key===b.key||j===Li(P.item.type)&&_===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,_=j.left,N=j.top,S=j.height,C=j.width;return F.createElement("defs",null,F.createElement("clipPath",{id:b},F.createElement("rect",{x:_,y:N,height:S,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,_){var N=eM(_,2),S=N[0],C=N[1];return fe(fe({},j),{},at({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,_){var N=eM(_,2),S=N[0],C=N[1];return fe(fe({},j),{},at({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,_=j.formattedGraphicalItems,N=j.activeItem;if(_&&_.length)for(var S=0,C=_.length;S<C;S++){var P=_[S],k=P.props,E=P.item,T=E.type.defaultProps!==void 0?fe(fe({},E.type.defaultProps),E.props):E.props,I=Li(E.type);if(I==="Bar"){var R=(k.data||[]).find(function(A){return YEe(b,A)});if(R)return{graphicalItem:P,payload:R}}else if(I==="RadialBar"){var D=(k.data||[]).find(function(A){return RI(b,A)});if(D)return{graphicalItem:P,payload:D}}else if(z0(P,N)||W0(P,N)||gp(P,N)){var O=LOe({graphicalItem:P,activeTooltipItem:N,itemData:T.data}),W=T.activeIndex===void 0?O:T.activeIndex;return{graphicalItem:fe(fe({},P),{},{childIndex:W}),payload:gp(P,N)?T.data[O]:P.props.data[O]}}}return null}},{key:"render",value:function(){var b=this;if(!_T(this))return null;var j=this.props,_=j.children,N=j.className,S=j.width,C=j.height,P=j.style,k=j.compact,E=j.title,T=j.desc,I=tM(j,BRe),R=ut(I,!1);if(k)return F.createElement(FR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(JN,Gu({},R,{width:S,height:C,title:E,desc:T}),this.renderClipPath(),kT(_,this.renderMap)));if(this.props.accessibilityLayer){var D,O;R.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,R.role=(O=this.props.role)!==null&&O!==void 0?O:"application",R.onKeyDown=function(A){b.accessibilityManager.keyboardEvent(A)},R.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return F.createElement(FR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",Gu({className:xt("recharts-wrapper",N),style:fe({position:"relative",cursor:"default",width:S,height:C},P)},W,{ref:function($){b.container=$}}),F.createElement(JN,Gu({},R,{width:S,height:C,title:E,desc:T,style:sMe}),this.renderClipPath(),kT(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);at(y,"displayName",r),at(y,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),at(y,"getDerivedStateFromProps",function(w,g){var v=w.dataKey,b=w.data,j=w.children,_=w.width,N=w.height,S=w.layout,C=w.stackOffset,P=w.margin,k=g.dataStartIndex,E=g.dataEndIndex;if(g.updateId===void 0){var T=sM(w);return fe(fe(fe({},T),{},{updateId:0},p(fe(fe({props:w},T),{},{updateId:0}),g)),{},{prevDataKey:v,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:P,prevChildren:j})}if(v!==g.prevDataKey||b!==g.prevData||_!==g.prevWidth||N!==g.prevHeight||S!==g.prevLayout||C!==g.prevStackOffset||!sd(P,g.prevMargin)){var I=sM(w),R={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},D=fe(fe({},nM(g,b,S)),{},{updateId:g.updateId+1}),O=fe(fe(fe({},I),R),D);return fe(fe(fe({},O),p(fe({props:w},O),g)),{},{prevDataKey:v,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:P,prevChildren:j})}if(!YN(j,g.prevChildren)){var W,A,$,Q,X=Ns(j,tf),U=X&&(W=(A=X.props)===null||A===void 0?void 0:A.startIndex)!==null&&W!==void 0?W:k,J=X&&($=(Q=X.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&$!==void 0?$:E,z=U!==k||J!==E,ee=!Ct(b),pe=ee&&!z?g.updateId:g.updateId+1;return fe(fe({updateId:pe},p(fe(fe({props:w},g),{},{updateId:pe,dataStartIndex:U,dataEndIndex:J}),g)),{},{prevChildren:j,dataStartIndex:U,dataEndIndex:J})}return null}),at(y,"renderActiveDot",function(w,g,v){var b;return x.isValidElement(w)?b=x.cloneElement(w,g):ft(w)?b=w(g):b=F.createElement(HC,g),F.createElement(Xt,{className:"recharts-active-dot",key:v},b)});var m=x.forwardRef(function(g,v){return F.createElement(y,Gu({},g,{ref:v}))});return m.displayName=y.displayName,m},mMe=T9({chartName:"BarChart",GraphicalChild:qc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:X0},{axisType:"yAxis",AxisComp:J0}],formatAxisMap:g4e}),pMe=T9({chartName:"PieChart",GraphicalChild:io,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:q0},{axisType:"radiusAxis",AxisComp:B0}],formatAxisMap:iCe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const fv={VERIFIED:"#22c55e",PENDING_VERIFICATION:"#eab308",PENDING_PAYMENT:"#6b7280",REJECTED:"#ef4444"};function gMe(){const{adminPath:e}=Vp(),t=`/${e}`,{data:r}=de({queryKey:["/api/admin/facilities"]}),{data:n}=de({queryKey:["/api/admin/announcements"]}),{data:a}=de({queryKey:["/api/admin/gallery"]}),{data:i}=de({queryKey:["/api/admin/pricing-tiers"]}),{data:o}=de({queryKey:["/api/admin/careers"]}),{data:l}=de({queryKey:["/api/admin/rules"]}),{data:c}=de({queryKey:["/api/admin/bookings"]}),{data:u}=de({queryKey:["/api/admin/users"]}),d=(c==null?void 0:c.filter(_=>_.paymentStatus==="PENDING_VERIFICATION").length)||0,f=(c==null?void 0:c.filter(_=>_.status==="CONFIRMED").length)||0,h=(c==null?void 0:c.filter(_=>_.paymentStatus==="VERIFIED").reduce((_,N)=>_+(N.totalPrice||0),0))||0,p=[{name:"Verified",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="VERIFIED").length)||0,color:fv.VERIFIED},{name:"Pending Verification",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="PENDING_VERIFICATION").length)||0,color:fv.PENDING_VERIFICATION},{name:"Awaiting Payment",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="PENDING_PAYMENT").length)||0,color:fv.PENDING_PAYMENT},{name:"Rejected",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="REJECTED").length)||0,color:fv.REJECTED}].filter(_=>_.value>0),y=(r==null?void 0:r.map(_=>({name:_.name.length>15?_.name.slice(0,12)+"...":_.name,fullName:_.name,bookings:(c==null?void 0:c.filter(N=>N.facilityId===_.id).length)||0,revenue:(c==null?void 0:c.filter(N=>N.facilityId===_.id&&N.paymentStatus==="VERIFIED").reduce((N,S)=>N+(S.totalPrice||0),0))||0})))||[],m=(c==null?void 0:c.slice().sort((_,N)=>{const S=new Date(`${_.date} ${_.startTime}`);return new Date(`${N.date} ${N.startTime}`).getTime()-S.getTime()}).slice(0,5))||[],w=[{label:"Total Bookings",value:(c==null?void 0:c.length)||0,icon:mr,color:"text-blue-500",bgColor:"bg-blue-500/10",trend:`${f} confirmed`},{label:"Pending Verification",value:d,icon:Ht,color:"text-amber-500",bgColor:"bg-amber-500/10",trend:d>0?"Action needed":"All clear"},{label:"Verified Revenue",value:`PKR ${h.toLocaleString()}`,icon:eN,color:"text-green-500",bgColor:"bg-green-500/10",trend:`${(c==null?void 0:c.filter(_=>_.paymentStatus==="VERIFIED").length)||0} payments`},{label:"Total Users",value:(u==null?void 0:u.length)||0,icon:yr,color:"text-purple-500",bgColor:"bg-purple-500/10",trend:`${(u==null?void 0:u.filter(_=>_.role==="ADMIN"||_.role==="SUPER_ADMIN").length)||0} admins`}],g=[{label:"Facilities",value:(r==null?void 0:r.length)||0,icon:un,color:"text-blue-500"},{label:"Pricing Tiers",value:(i==null?void 0:i.length)||0,icon:eN,color:"text-green-500"},{label:"Announcements",value:(n==null?void 0:n.length)||0,icon:pc,color:"text-amber-500"},{label:"Career Listings",value:(o==null?void 0:o.length)||0,icon:bm,color:"text-purple-500"},{label:"Rules & Policies",value:(l==null?void 0:l.length)||0,icon:ms,color:"text-red-500"},{label:"Gallery Images",value:(a==null?void 0:a.length)||0,icon:ra,color:"text-indigo-500"}],v=_=>{switch(_){case"VERIFIED":return s.jsx(le,{className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return s.jsx(le,{className:"bg-amber-500",children:"Pending"});case"REJECTED":return s.jsx(le,{variant:"destructive",children:"Rejected"});default:return s.jsx(le,{variant:"secondary",children:"Awaiting"})}},b=(_,N)=>_==="CONFIRMED"&&N==="VERIFIED"?s.jsx(le,{className:"bg-green-600",children:"Confirmed"}):_==="CANCELLED"?s.jsx(le,{variant:"destructive",children:"Cancelled"}):s.jsx(le,{variant:"secondary",children:"Tentative"}),j=_=>{if(!_||!r)return"Unknown";const N=r.find(S=>S.id===_);return(N==null?void 0:N.name)||"Unknown"};return s.jsx(nt,{title:"Dashboard",children:s.jsxs("div",{className:"space-y-6",children:[d>0&&s.jsx(ne,{className:"border-amber-500 bg-amber-50 dark:bg-amber-900/20","data-testid":"alert-pending-verification",children:s.jsxs(se,{className:"flex flex-wrap items-center gap-4 p-4",children:[s.jsx(kn,{className:"h-5 w-5 text-amber-600 shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"font-medium text-amber-800 dark:text-amber-200",children:[d," booking",d>1?"s":""," pending payment verification"]}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Review and verify payments to confirm bookings."})]}),s.jsx(ge,{href:`${t}/bookings`,children:s.jsxs(M,{size:"sm",variant:"outline","data-testid":"button-view-pending",children:["View Pending ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map(_=>{const N=_.icon;return s.jsx(ne,{"data-testid":`card-stat-${_.label.toLowerCase().replace(/\s+/g,"-")}`,children:s.jsx(se,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:_.label}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:_.value}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[s.jsx(DG,{className:"w-3 h-3"}),_.trend]})]}),s.jsx("div",{className:`p-3 rounded-full ${_.bgColor}`,children:s.jsx(N,{className:`w-6 h-6 ${_.color}`})})]})})},_.label)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsx(We,{className:"text-lg",children:"Bookings by Facility"}),s.jsx(It,{children:"Total bookings and revenue per facility"})]}),s.jsx(se,{children:y.length>0?s.jsx("div",{className:"h-[300px]",children:s.jsx(N4,{width:"100%",height:"100%",children:s.jsxs(mMe,{data:y,margin:{top:10,right:10,left:-10,bottom:0},children:[s.jsx(v9,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(X0,{dataKey:"name",tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(J0,{tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(Pa,{formatter:(_,N)=>[N==="revenue"?`PKR ${_.toLocaleString()}`:_,N==="revenue"?"Revenue":"Bookings"],labelFormatter:_=>{const N=y.find(S=>S.name===_);return(N==null?void 0:N.fullName)||_},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(qc,{dataKey:"bookings",fill:"#3b82f6",radius:[4,4,0,0],name:"Bookings"})]})})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No booking data available"})})]}),s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsx(We,{className:"text-lg",children:"Payment Status Distribution"}),s.jsx(It,{children:"Overview of payment statuses across all bookings"})]}),s.jsx(se,{children:p.length>0?s.jsx("div",{className:"h-[300px]",children:s.jsx(N4,{width:"100%",height:"100%",children:s.jsxs(pMe,{children:[s.jsx(io,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:p.map((_,N)=>s.jsx(k0,{fill:_.color},`cell-${N}`))}),s.jsx(Pa,{formatter:_=>[_,"Bookings"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(ac,{})]})})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No payment data available"})})]})]}),s.jsxs(ne,{children:[s.jsxs(Le,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(We,{className:"text-lg",children:"Recent Bookings"}),s.jsx(It,{children:"Latest booking activity"})]}),s.jsx(ge,{href:`${t}/bookings`,children:s.jsxs(M,{variant:"outline",size:"sm","data-testid":"button-view-all-bookings",children:["View All ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})})]}),s.jsx(se,{children:m.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Booking ID"}),s.jsx(ue,{children:"Date / Time"}),s.jsx(ue,{children:"Facility"}),s.jsx(ue,{children:"Amount"}),s.jsx(ue,{children:"Payment"}),s.jsx(ue,{children:"Status"})]})}),s.jsx(Dr,{children:m.map(_=>{var N;return s.jsxs(tt,{"data-testid":`row-recent-booking-${_.id}`,children:[s.jsxs(ie,{className:"font-mono text-xs",children:[_.id.slice(0,8),"..."]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-sm font-medium",children:_.date}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[_.startTime," - ",_.endTime]})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-sm",children:j(_.facilityId)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",_.resourceId]})]}),s.jsx(ie,{children:s.jsxs("span",{className:"font-medium",children:["PKR ",((N=_.totalPrice)==null?void 0:N.toLocaleString())||0]})}),s.jsx(ie,{children:v(_.paymentStatus)}),s.jsx(ie,{children:b(_.status,_.paymentStatus)})]},_.id)})})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings yet"})})]}),s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsx(We,{className:"text-lg",children:"Content Overview"}),s.jsx(It,{children:"Quick stats on website content managed through the admin panel"})]}),s.jsx(se,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:g.map(_=>{const N=_.icon;return s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50","data-testid":`stat-${_.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(N,{className:`w-8 h-8 mx-auto mb-2 ${_.color}`}),s.jsx("p",{className:"text-2xl font-bold",children:_.value}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_.label})]},_.label)})})})]})]})})}var ew="Switch",[vMe]=En(ew),[xMe,yMe]=vMe(ew),I9=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=x.useState(null),y=dt(t,b=>p(b)),m=x.useRef(!1),w=h?d||!!h.closest("form"):!0,[g,v]=ps({prop:a,defaultProp:i??!1,onChange:u,caller:ew});return s.jsxs(xMe,{scope:r,checked:g,disabled:l,children:[s.jsx(Me.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":D9(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Ne(e.onClick,b=>{v(j=>!j),w&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),w&&s.jsx($9,{control:h,bubbles:!m.current,name:n,value:c,checked:g,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});I9.displayName=ew;var R9="SwitchThumb",M9=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=yMe(R9,r);return s.jsx(Me.span,{"data-state":D9(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});M9.displayName=R9;var bMe="SwitchBubbleInput",$9=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=x.useRef(null),l=dt(o,i),c=V2(r),u=Uk(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$9.displayName=bMe;function D9(e){return e?"checked":"unchecked"}var L9=I9,wMe=M9;const Kt=x.forwardRef(({className:e,...t},r)=>s.jsx(L9,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(wMe,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Kt.displayName=L9.displayName;const Fj={hero:{title:"Hero Section",description:"The main banner section at the top of the homepage.",fields:[{key:"hero_eyebrow",label:"Eyebrow Text",type:"text",placeholder:"Target Launch: Q4 2026"},{key:"hero_title",label:"Main Title",type:"textarea",placeholder:"A bright, premium multi-sport arena..."},{key:"hero_subtitle",label:"Subtitle",type:"textarea",placeholder:"The Quarterdeck brings state-of-the-art..."},{key:"hero_launch_date",label:"Launch Date (for countdown)",type:"date"},{key:"hero_cta_1",label:"Primary Button Text",type:"text",placeholder:"Explore Facilities"},{key:"hero_cta_2",label:"Secondary Button Text",type:"text",placeholder:"View Site Updates"},{key:"hero_status_active",label:"Status Badge 1",type:"text",placeholder:"Construction Active"},{key:"hero_status_updates",label:"Status Badge 2",type:"text",placeholder:"Transparent progress updates"},{key:"hero_status_booking",label:"Status Badge 3",type:"text",placeholder:"Early booking & waitlists planned"}]},about:{title:"About Section",description:"Information about The Quarterdeck's vision and team.",fields:[{key:"about_title",label:"Section Title",type:"text",placeholder:"About The Quarterdeck"},{key:"about_subtitle",label:"Section Subtitle",type:"textarea",placeholder:"Our core vision..."},{key:"about_vision_title",label:"Vision Card Title",type:"text",placeholder:"Vision & Philosophy"},{key:"about_vision_content",label:"Vision Content",type:"textarea",placeholder:"The Quarterdeck is born from..."},{key:"about_vision_content_2",label:"Vision Content (Paragraph 2)",type:"textarea"},{key:"about_tags",label:"Keyword Tags (comma-separated)",type:"text",placeholder:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly"},{key:"about_team_title",label:"Team Card Title",type:"text",placeholder:"The Project Team"},{key:"about_team_content",label:"Team Content",type:"textarea"},{key:"about_team_credits",label:"Team Credits (pipe-separated)",type:"textarea",placeholder:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation"}]},facilities:{title:"Facilities Section",description:"Overview of available sports facilities.",fields:[{key:"facilities_title",label:"Section Title",type:"text",placeholder:"World-Class Facilities"},{key:"facilities_subtitle",label:"Section Subtitle",type:"textarea"},{key:"facilities_cta",label:"CTA Button Text",type:"text",placeholder:"Check Court Availability"}]},membership:{title:"Membership Section",description:"Membership options and benefits.",fields:[{key:"membership_title",label:"Section Title",type:"text",placeholder:"Membership Options"},{key:"membership_subtitle",label:"Section Subtitle",type:"textarea"},{key:"membership_cta",label:"CTA Button Text",type:"text",placeholder:"Explore Membership"}]},contact:{title:"Contact Information",description:"Contact details displayed across the site.",fields:[{key:"contact_title",label:"Section Title",type:"text",placeholder:"Get In Touch"},{key:"contact_subtitle",label:"Section Subtitle",type:"textarea"},{key:"contact_email",label:"Email Address",type:"email",placeholder:"info@thequarterdeck.pk"},{key:"contact_phone",label:"Phone Number",type:"text",placeholder:"+92 51 1234567"},{key:"contact_address",label:"Physical Address",type:"textarea"},{key:"contact_hours",label:"Operating Hours",type:"text"}]},updates:{title:"Updates Section",description:"Construction updates and progress section.",fields:[{key:"updates_title",label:"Section Title",type:"text",placeholder:"Construction Updates"},{key:"updates_subtitle",label:"Section Subtitle",type:"textarea"},{key:"updates_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Roadmap"}]},gallery:{title:"Gallery Section",description:"Progress photos and renders section.",fields:[{key:"gallery_title",label:"Section Title",type:"text",placeholder:"Gallery & Progress Photos"},{key:"gallery_subtitle",label:"Section Subtitle",type:"textarea"},{key:"gallery_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Gallery"}]},careers:{title:"Careers Page",description:"Content for the careers/jobs section.",fields:[{key:"careers_title",label:"Page Title",type:"text",placeholder:"Join Our Team"},{key:"careers_subtitle",label:"Page Subtitle",type:"textarea"},{key:"careers_cta",label:"CTA Button Text",type:"text",placeholder:"View Open Positions"}]},rules:{title:"Rules Page",description:"Club rules and etiquette content.",fields:[{key:"rules_title",label:"Page Title",type:"text",placeholder:"Club Rules & Etiquette"},{key:"rules_subtitle",label:"Page Subtitle",type:"textarea"},{key:"rules_cta",label:"CTA Button Text",type:"text",placeholder:"View All Rules"}]},events:{title:"Events Page",description:"Content for events and programs section.",fields:[{key:"events_title",label:"Page Title",type:"text",placeholder:"Events & Programs"},{key:"events_subtitle",label:"Page Subtitle",type:"textarea"}]},leaderboard:{title:"Leaderboard Page",description:"Content for the leaderboard section.",fields:[{key:"leaderboard_title",label:"Page Title",type:"text",placeholder:"Leaderboard"},{key:"leaderboard_subtitle",label:"Page Subtitle",type:"textarea"}]},coming_soon:{title:"Coming Soon Page",description:"Content for the pre-launch Coming Soon page.",fields:[{key:"coming_soon_title",label:"Page Title",type:"text",placeholder:"Something Amazing Is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",type:"textarea"},{key:"coming_soon_description",label:"Description",type:"textarea"},{key:"coming_soon_cta",label:"CTA Button Text",type:"text",placeholder:"Join the Waitlist"},{key:"coming_soon_launch_date",label:"Launch Date",type:"date"},{key:"coming_soon_location",label:"Location Text",type:"text"}]},social:{title:"Social Media Links",description:"Social media profile URLs.",fields:[{key:"social_facebook",label:"Facebook URL",type:"text"},{key:"social_instagram",label:"Instagram URL",type:"text"},{key:"social_twitter",label:"Twitter/X URL",type:"text"},{key:"social_linkedin",label:"LinkedIn URL",type:"text"},{key:"social_youtube",label:"YouTube URL",type:"text"}]},footer:{title:"Footer Content",description:"Footer text and copyright information.",fields:[{key:"footer_tagline",label:"Tagline",type:"text"},{key:"footer_copyright",label:"Copyright Text",type:"text"},{key:"footer_disclaimer",label:"Disclaimer Text",type:"textarea"}]},visibility:{title:"Section Visibility & Order",description:"Control which sections are displayed on the homepage and their display order.",fields:[]}},jMe=[{key:"section_about_visible",orderKey:"section_about_order",label:"About Section",description:"Vision, philosophy and team info",defaultOrder:1},{key:"section_facilities_visible",orderKey:"section_facilities_order",label:"Facilities Section",description:"Sports facility cards",defaultOrder:2},{key:"section_updates_visible",orderKey:"section_updates_order",label:"Construction Updates",description:"Progress timeline and milestones",defaultOrder:3},{key:"section_gallery_visible",orderKey:"section_gallery_order",label:"Gallery Section",description:"Photo gallery preview",defaultOrder:4},{key:"section_membership_visible",orderKey:"section_membership_order",label:"Membership Section",description:"Membership tiers and pricing",defaultOrder:5},{key:"section_rules_visible",orderKey:"section_rules_order",label:"Rules Section",description:"Club rules and safety",defaultOrder:6},{key:"section_careers_visible",orderKey:"section_careers_order",label:"Careers Section",description:"Job openings preview",defaultOrder:7}];function NMe(){const{toast:e}=ht(),[t,r]=x.useState({}),[n,a]=x.useState(new Set),[i,o]=x.useState(new Set),{data:l,isLoading:c}=de({queryKey:["/api/admin/cms"]});x.useEffect(()=>{if(l){const v={};l.forEach(b=>{v[b.key]=b.content||""}),r(b=>({...v,...b}))}},[l]);const u=ye({mutationFn:async v=>await xe("POST","/api/admin/cms",{key:v.key,title:v.title,content:v.content}),onSuccess:(v,b)=>{re.invalidateQueries({queryKey:["/api/admin/cms"]}),re.invalidateQueries({queryKey:["/api/cms/bulk"]}),a(j=>{const _=new Set(j);return _.delete(b.key),_}),o(j=>new Set(j).add(b.key)),setTimeout(()=>{o(j=>{const _=new Set(j);return _.delete(b.key),_})},2e3),e({title:"Content saved successfully"})},onError:(v,b)=>{a(j=>{const _=new Set(j);return _.delete(b.key),_}),e({title:"Failed to save content",variant:"destructive"})}}),d=v=>{const b=l==null?void 0:l.find(j=>j.key===v);return(b==null?void 0:b.content)??void 0},f=v=>Ee[v]||"",h=v=>{const b=d(v);return b!==void 0&&b!==""},p=v=>{const b=d(v)||"",j=t[v];return j!==void 0&&j!==b},y=(v,b)=>{r(j=>({...j,[v]:b}))},m=(v,b)=>{const j=t[v]??d(v)??"";a(_=>new Set(_).add(v)),u.mutate({key:v,content:j,title:b})},w=v=>{Fj[v].fields.forEach(j=>{((t[j.key]??d(j.key)??"")||p(j.key))&&m(j.key,j.label)})},g=v=>{const b=f(v);r(j=>({...j,[v]:b}))};return c?s.jsx(nt,{title:"Site Content",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"Site Content",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:"Edit Site Content"})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(HE,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Saved in database"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-sm",children:"Using default value"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Unsaved changes"})]})]}),s.jsxs(ua,{defaultValue:"hero",className:"w-full",children:[s.jsx(Ds,{className:"flex flex-wrap h-auto gap-1 mb-6",children:Object.entries(Fj).map(([v,b])=>s.jsx(Bt,{value:v,className:"text-xs","data-testid":`tab-${v}`,children:b.title},v))}),Object.entries(Fj).map(([v,b])=>s.jsxs(Vt,{value:v,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:b.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]}),v!=="visibility"&&s.jsxs(M,{variant:"outline",onClick:()=>w(v),"data-testid":`button-save-all-${v}`,children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Save All Changes"]})]}),v==="visibility"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Toggle sections on or off and set their display order on the homepage. Lower numbers appear first. Changes are saved automatically."}),jMe.slice().sort((j,_)=>{const N=parseInt(t[j.orderKey]??d(j.orderKey)??String(j.defaultOrder),10),S=parseInt(t[_.orderKey]??d(_.orderKey)??String(_.defaultOrder),10);return N-S}).map(j=>{const _=d(j.key),N=(t[j.key]??_??"true").toLowerCase()==="true",S=n.has(j.key)||n.has(j.orderKey),C=i.has(j.key)||i.has(j.orderKey),P=t[j.orderKey]??d(j.orderKey)??String(j.defaultOrder);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[N?s.jsx(Zn,{className:"w-5 h-5 text-green-600 shrink-0"}):s.jsx(Wi,{className:"w-5 h-5 text-muted-foreground shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx(q,{htmlFor:j.key,className:"font-medium cursor-pointer",children:j.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:j.description})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{htmlFor:j.orderKey,className:"text-xs text-muted-foreground whitespace-nowrap",children:"Order:"}),s.jsx(Y,{id:j.orderKey,type:"number",min:"1",max:"10",className:"w-16 text-center",value:P,onChange:k=>{const E=k.target.value;r(T=>({...T,[j.orderKey]:E}))},onBlur:()=>{const k=t[j.orderKey]??String(j.defaultOrder);a(E=>new Set(E).add(j.orderKey)),u.mutate({key:j.orderKey,content:k,title:`${j.label} Order`})},"data-testid":`input-${j.orderKey}`})]}),C&&s.jsxs(le,{className:"bg-green-500 text-xs",children:[s.jsx(wm,{className:"w-3 h-3 mr-1"}),"Saved"]}),S&&s.jsx(Te,{className:"w-4 h-4 animate-spin"}),s.jsx(Kt,{id:j.key,checked:N,onCheckedChange:k=>{const E=k?"true":"false";r(T=>({...T,[j.key]:E})),a(T=>new Set(T).add(j.key)),u.mutate({key:j.key,content:E,title:j.label})},disabled:S,"data-testid":`toggle-${j.key}`})]})]},j.key)})]}):s.jsx("div",{className:"space-y-6",children:b.fields.map(j=>{const _=d(j.key),N=f(j.key),S=t[j.key]??_??"",C=h(j.key),P=p(j.key);return s.jsxs("div",{className:"space-y-2 p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{htmlFor:j.key,className:"font-medium",children:j.label}),i.has(j.key)?s.jsxs(le,{className:"bg-green-500 text-xs",children:[s.jsx(wm,{className:"w-3 h-3 mr-1"}),"Saved"]}):P?s.jsxs(le,{variant:"outline",className:"text-blue-600 border-blue-600 text-xs",children:[s.jsx(kn,{className:"w-3 h-3 mr-1"}),"Unsaved"]}):C?s.jsxs(le,{variant:"outline",className:"text-green-600 border-green-600 text-xs",children:[s.jsx(HE,{className:"w-3 h-3 mr-1"}),"Database"]}):N?s.jsxs(le,{variant:"outline",className:"text-amber-600 border-amber-600 text-xs",children:[s.jsx(ms,{className:"w-3 h-3 mr-1"}),"Default"]}):null]}),s.jsxs("div",{className:"flex items-center gap-1",children:[N&&!C&&s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>g(j.key),className:"text-xs",title:"Use default value",children:"Reset"}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>m(j.key,j.label),disabled:n.has(j.key),"data-testid":`button-save-${j.key}`,children:n.has(j.key)?s.jsx(Te,{className:"w-4 h-4 animate-spin"}):s.jsx(tr,{className:"w-4 h-4"})})]})]}),N&&!C&&s.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded border-l-2 border-amber-500",children:[s.jsx("span",{className:"font-medium",children:"Currently showing on website: "}),s.jsx("span",{className:"italic",children:N.length>150?N.substring(0,150)+"...":N})]}),j.type==="textarea"?s.jsx(lt,{id:j.key,value:S,onChange:k=>y(j.key,k.target.value),placeholder:j.placeholder||N||"Enter content...",rows:4,className:P?"border-blue-500":"","data-testid":`input-${j.key}`}):s.jsx(Y,{id:j.key,type:j.type==="date"?"date":j.type==="email"?"email":"text",value:S,onChange:k=>y(j.key,k.target.value),placeholder:j.placeholder||N||"Enter content...",className:P?"border-blue-500":"","data-testid":`input-${j.key}`})]},j.key)})})]},v))]})]})]})})})}const iM=[{key:"coming_soon_launch_date",label:"Launch Date",description:"The countdown timer on the Coming Soon page counts down to this date",type:"date",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_launch_date||"2025-12-25"},{key:"coming_soon_title",label:"Main Title",description:"The large heading on the Coming Soon page",type:"text",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_title||"Something Extraordinary is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",description:"The description text below the main title",type:"textarea",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_subtitle||"Premium sports and recreation complex launching soon in Islamabad"},{key:"coming_soon_location",label:"Location",description:"The location displayed at the bottom of the page",type:"text",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_location||"Sector F-7, Islamabad"},{key:"hero_eyebrow",label:"Launch Badge Text",description:"The small badge text shown above the countdown (e.g., 'Target Launch: Q4 2025')",type:"text",pageRef:"/coming-soon",defaultValue:Ee.hero_eyebrow||"Target Launch: Q4 2025"}];function _Me(){const{toast:e}=ht(),[t,r]=x.useState({}),[n,a]=x.useState(new Set),{data:i,isLoading:o}=de({queryKey:["/api/cms"]}),{data:l,isLoading:c}=de({queryKey:["/api/admin/site-settings"]});x.useEffect(()=>{if(!o&&!c){const g={};iM.forEach(v=>{const b=i==null?void 0:i.find(_=>_.key===v.key),j=l==null?void 0:l.find(_=>_.key===v.key);g[v.key]=(b==null?void 0:b.content)||(j==null?void 0:j.value)||v.defaultValue}),r(g)}},[i,l,o,c]);const u=ye({mutationFn:async({key:g,value:v})=>await xe("POST","/api/admin/cms",{key:g,content:v}),onSuccess:(g,v)=>{re.invalidateQueries({queryKey:["/api/cms"]}),re.invalidateQueries({queryKey:["/api/cms/bulk"]}),re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),a(b=>{const j=new Set(b);return j.delete(v.key),j}),e({title:"Setting saved successfully"})},onError:()=>{e({title:"Failed to save setting",variant:"destructive"})}}),d=(g,v)=>{r(b=>({...b,[g]:v})),a(b=>new Set(b).add(g))},f=g=>{u.mutate({key:g,value:t[g]})},h=async()=>{const g=Array.from(n).map(v=>xe("POST","/api/admin/cms",{key:v,content:t[v]}));try{await Promise.all(g),re.invalidateQueries({queryKey:["/api/cms"]}),re.invalidateQueries({queryKey:["/api/cms/bulk"]}),re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),a(new Set),e({title:"All changes saved successfully"})}catch{e({title:"Failed to save some settings",variant:"destructive"})}},p=g=>{if(n.has(g))return"edited";const v=i==null?void 0:i.find(j=>j.key===g),b=l==null?void 0:l.find(j=>j.key===g);return v||b?"database":"default"},y=g=>{switch(g){case"database":return s.jsx(le,{className:"bg-green-500 text-xs",children:"From Database"});case"edited":return s.jsx(le,{className:"bg-amber-500 text-xs",children:"Edited (Unsaved)"});default:return s.jsx(le,{variant:"secondary",className:"text-xs",children:"Using Default"})}},m=t.coming_soon_launch_date?new Date(t.coming_soon_launch_date):new Date("2025-12-25"),w=tre(m,new Date);return o||c?s.jsx(nt,{title:"Coming Soon Page",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Coming Soon Page",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage the Coming Soon page content and countdown timer."}),s.jsxs("a",{href:"/coming-soon",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[s.jsx(Zn,{className:"w-3 h-3"})," View Coming Soon Page",s.jsx(Jo,{className:"w-3 h-3"})]})]}),n.size>0&&s.jsxs(M,{onClick:h,"data-testid":"button-save-all-coming-soon",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Save All Changes (",n.size,")"]})]}),s.jsxs(ne,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"w-5 h-5"}),"Countdown Status"]}),s.jsx(It,{children:"Current countdown configuration"})]}),s.jsx(se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:w}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Until Launch"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-xl font-semibold",children:Xn(m,"MMMM d, yyyy")}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Launch Date"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-xl font-semibold",children:w>0?"Counting Down":"Launched!"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]})]})})]}),s.jsx("div",{className:"grid gap-6",children:iM.map(g=>{const v=p(g.key);return s.jsxs(ne,{children:[s.jsx(Le,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsxs(We,{className:"text-base flex items-center gap-2",children:[g.label,y(v)]}),s.jsx(It,{className:"mt-1",children:g.description})]}),s.jsxs("a",{href:g.pageRef,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary flex items-center gap-1 hover:underline whitespace-nowrap",children:["View on site ",s.jsx(Jo,{className:"w-3 h-3"})]})]})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex gap-3",children:[g.type==="textarea"?s.jsx(lt,{value:t[g.key]||"",onChange:b=>d(g.key,b.target.value),rows:3,className:"flex-1","data-testid":`input-${g.key}`}):g.type==="date"?s.jsx(Y,{type:"date",value:t[g.key]||"",onChange:b=>d(g.key,b.target.value),className:"flex-1","data-testid":`input-${g.key}`}):s.jsx(Y,{value:t[g.key]||"",onChange:b=>d(g.key,b.target.value),className:"flex-1","data-testid":`input-${g.key}`}),s.jsx(M,{variant:"outline",onClick:()=>f(g.key),disabled:!n.has(g.key)||u.isPending,"data-testid":`button-save-${g.key}`,children:s.jsx(tr,{className:"w-4 h-4"})})]}),g.key==="coming_soon_launch_date"&&t[g.key]&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Formatted: ",Xn(new Date(t[g.key]),"EEEE, MMMM d, yyyy")]})]})]},g.key)})})]})})}function SMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState("details"),[l,c]=x.useState(!1),[u,d]=x.useState(null),f=x.useRef(null),[h,p]=x.useState({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:"",aboutContent:"",features:[],amenities:[],keywords:[],quickInfo:{},pricingNotes:"",certificationInfo:"",galleryImages:[],howToPlayContent:"",scoringRulesContent:"",winningCriteriaContent:"",pointsSystemContent:""}),[y,m]=x.useState({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""}),[w,g]=x.useState({label:"",price:0,icon:""}),[v,b]=x.useState(null),{data:j,isLoading:_}=de({queryKey:["/api/admin/facilities"]}),{data:N}=de({queryKey:["/api/admin/venues"]}),{data:S,refetch:C}=de({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"venues"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const L=await fetch(`/api/admin/facilities/${t.id}/venues`,{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch");return L.json()},enabled:!!(t!=null&&t.id)}),{data:P,refetch:k}=de({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"addons"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const L=await fetch(`/api/admin/facilities/${t.id}/addons`,{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch");return L.json()},enabled:!!(t!=null&&t.id)}),E=ye({mutationFn:async L=>await xe("POST","/api/admin/facilities",L),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility created successfully"}),a(!1),Q()},onError:()=>{e({title:"Failed to create facility",variant:"destructive"})}}),T=ye({mutationFn:async({id:L,data:ve})=>await xe("PATCH",`/api/admin/facilities/${L}`,ve),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility updated successfully"}),a(!1),r(null),Q()},onError:()=>{e({title:"Failed to update facility",variant:"destructive"})}}),I=ye({mutationFn:async L=>await xe("DELETE",`/api/admin/facilities/${L}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility deleted successfully"})},onError:()=>{e({title:"Failed to delete facility",variant:"destructive"})}}),R=ye({mutationFn:async L=>await xe("POST",`/api/admin/facilities/${L.facilityId}/venues`,L),onSuccess:()=>{C(),e({title:"Venue added to facility"}),U()},onError:()=>{e({title:"Failed to add venue",variant:"destructive"})}}),D=ye({mutationFn:async({id:L,data:ve})=>await xe("PATCH",`/api/admin/facility-venues/${L}`,ve),onSuccess:()=>{C(),e({title:"Venue settings updated"})},onError:()=>{e({title:"Failed to update venue settings",variant:"destructive"})}}),O=ye({mutationFn:async L=>await xe("DELETE",`/api/admin/facility-venues/${L}`),onSuccess:()=>{C(),e({title:"Venue removed from facility"})},onError:()=>{e({title:"Failed to remove venue",variant:"destructive"})}}),W=ye({mutationFn:async L=>await xe("POST",`/api/admin/facilities/${L.facilityId}/addons`,L),onSuccess:()=>{k(),e({title:"Add-on created successfully"}),J()},onError:()=>{e({title:"Failed to create add-on",variant:"destructive"})}}),A=ye({mutationFn:async({id:L,data:ve})=>await xe("PATCH",`/api/admin/facility-addons/${L}`,ve),onSuccess:()=>{k(),e({title:"Add-on updated successfully"}),J()},onError:()=>{e({title:"Failed to update add-on",variant:"destructive"})}}),$=ye({mutationFn:async L=>await xe("DELETE",`/api/admin/facility-addons/${L}`),onSuccess:()=>{k(),e({title:"Add-on deleted successfully"})},onError:()=>{e({title:"Failed to delete add-on",variant:"destructive"})}}),Q=()=>{p({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:"",aboutContent:"",features:[],amenities:[],keywords:[],quickInfo:{},pricingNotes:"",certificationInfo:"",galleryImages:[],howToPlayContent:"",scoringRulesContent:"",winningCriteriaContent:"",pointsSystemContent:""}),o("details"),d(null),f.current&&(f.current.value="")},X=async L=>{var Fe;const ve=(Fe=L.target.files)==null?void 0:Fe[0];if(ve){if(!["image/jpeg","image/png","image/webp"].includes(ve.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(ve.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const st=new FormData;st.append("image",ve);const vt=await fetch("/api/admin/upload",{method:"POST",body:st,credentials:"include"});if(!vt.ok){let $t="Upload failed";try{$t=(await vt.json()).message||$t}catch{$t=vt.statusText||$t}throw new Error($t)}const qt=await vt.json();d({name:ve.name,url:qt.imageUrl}),p($t=>({...$t,imageUrl:qt.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(st){e({title:"Upload failed",description:st.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1)}}},U=()=>{m({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""})},J=()=>{g({label:"",price:0,icon:""}),b(null)},z=()=>{t&&(v?A.mutate({id:v.id,data:w}):W.mutate({facilityId:t.id,...w}))},ee=L=>{b(L),g({label:L.label,price:L.price,icon:L.icon||""})},pe=L=>{r(L),p({slug:L.slug,name:L.name,description:L.description||"",category:L.category||"",basePrice:L.basePrice,minPlayers:L.minPlayers||1,resourceCount:L.resourceCount||1,requiresCertification:L.requiresCertification||!1,isRestricted:L.isRestricted||!1,isHidden:L.isHidden||!1,status:L.status||"PLANNED",imageUrl:L.imageUrl||"",aboutContent:L.aboutContent||"",features:Array.isArray(L.features)?L.features:[],amenities:Array.isArray(L.amenities)?L.amenities:[],keywords:Array.isArray(L.keywords)?L.keywords:[],quickInfo:L.quickInfo&&typeof L.quickInfo=="object"&&!Array.isArray(L.quickInfo)?L.quickInfo:{},pricingNotes:L.pricingNotes||"",certificationInfo:L.certificationInfo||"",galleryImages:Array.isArray(L.galleryImages)?L.galleryImages:[],howToPlayContent:L.howToPlayContent||"",scoringRulesContent:L.scoringRulesContent||"",winningCriteriaContent:L.winningCriteriaContent||"",pointsSystemContent:L.pointsSystemContent||""}),o("details"),a(!0)},te=()=>{t?T.mutate({id:t.id,data:h}):E.mutate(h)},be=()=>{!t||!y.venueId||R.mutate({facilityId:t.id,venueId:y.venueId,status:y.status,resourceCount:y.resourceCount,priceOverride:y.priceOverride?parseInt(y.priceOverride):null})},ae=L=>{switch(L){case"ACTIVE":return s.jsx(le,{className:"bg-green-500",children:"Active"});case"OPENING_SOON":return s.jsx(le,{className:"bg-amber-500",children:"Opening Soon"});case"COMING_SOON":return s.jsx(le,{className:"bg-amber-500",children:"Coming Soon"});case"PLANNED":default:return s.jsx(le,{variant:"secondary",children:"Planned"})}},B=L=>{const ve=N==null?void 0:N.find(Fe=>Fe.id===L);return(ve==null?void 0:ve.name)||"Unknown Venue"},ce=(S==null?void 0:S.map(L=>L.venueId))||[],G=(N==null?void 0:N.filter(L=>!ce.includes(L.id)))||[];return _?s.jsx(nt,{title:"Facilities",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Facilities",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage facilities available for booking at The Quarterdeck."}),s.jsxs(Pt,{open:n,onOpenChange:L=>{a(L),L||(r(null),Q())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-facility",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Facility"]})}),s.jsxs(St,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:t?"Edit Facility":"Add New Facility"})}),s.jsxs(ua,{value:i,onValueChange:o,children:[s.jsxs(Ds,{className:"grid w-full grid-cols-4",children:[s.jsxs(Bt,{value:"details",className:"flex items-center gap-2",children:[s.jsx(Ck,{className:"w-4 h-4"}),"Details"]}),s.jsxs(Bt,{value:"content",className:"flex items-center gap-2",children:[s.jsx(ms,{className:"w-4 h-4"}),"Content"]}),s.jsxs(Bt,{value:"venues",className:"flex items-center gap-2",disabled:!t,children:[s.jsx(gs,{className:"w-4 h-4"}),"Venues",!t&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]}),s.jsxs(Bt,{value:"addons",className:"flex items-center gap-2",disabled:!t,children:[s.jsx(CG,{className:"w-4 h-4"}),"Add-ons",!t&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]})]}),s.jsxs(Vt,{value:"details",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"name",children:"Name"}),s.jsx(Y,{id:"name",value:h.name,onChange:L=>p({...h,name:L.target.value}),"data-testid":"input-facility-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),s.jsx(Y,{id:"slug",value:h.slug,onChange:L=>p({...h,slug:L.target.value}),"data-testid":"input-facility-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:h.description,onChange:L=>p({...h,description:L.target.value}),rows:3,"data-testid":"input-facility-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:h.category,onChange:L=>p({...h,category:L.target.value}),placeholder:"e.g., Indoor Court, Precision Sport","data-testid":"input-facility-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"status",children:"Default Status"}),s.jsxs(Nt,{value:h.status,onValueChange:L=>p({...h,status:L}),children:[s.jsx(bt,{"data-testid":"select-facility-status",children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"PLANNED",children:"Planned"}),s.jsx(ke,{value:"OPENING_SOON",children:"Opening Soon"}),s.jsx(ke,{value:"ACTIVE",children:"Active"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"basePrice",children:"Base Price (PKR)"}),s.jsx(Y,{id:"basePrice",type:"number",value:h.basePrice,onChange:L=>p({...h,basePrice:parseInt(L.target.value)||0}),"data-testid":"input-facility-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"minPlayers",children:"Min Players"}),s.jsx(Y,{id:"minPlayers",type:"number",value:h.minPlayers,onChange:L=>p({...h,minPlayers:parseInt(L.target.value)||1}),"data-testid":"input-facility-min-players"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"resourceCount",children:"Default Resource Count"}),s.jsx(Y,{id:"resourceCount",type:"number",value:h.resourceCount,onChange:L=>p({...h,resourceCount:parseInt(L.target.value)||1}),"data-testid":"input-facility-resource-count"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Facility Image"}),s.jsxs("div",{className:"border rounded-md p-3 space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:X,className:"hidden","data-testid":"input-facility-image-file"}),s.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:()=>{var L;return(L=f.current)==null?void 0:L.click()},disabled:l,"data-testid":"button-upload-facility-image",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Upload"]})}),s.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"or"}),s.jsx(Y,{id:"imageUrl",value:h.imageUrl,onChange:L=>p({...h,imageUrl:L.target.value}),placeholder:"Enter image URL...",className:"flex-1","data-testid":"input-facility-image-url"})]}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(yn,{className:"w-4 h-4"}),u.name]}),h.imageUrl&&s.jsx("div",{className:"rounded-md border overflow-hidden",children:s.jsx("img",{src:h.imageUrl,alt:"Preview",className:"w-full h-24 object-cover",onError:L=>{L.target.style.display="none"}})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"requiresCertification",checked:h.requiresCertification,onCheckedChange:L=>p({...h,requiresCertification:L})}),s.jsx(q,{htmlFor:"requiresCertification",children:"Requires Certification"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isRestricted",checked:h.isRestricted,onCheckedChange:L=>p({...h,isRestricted:L})}),s.jsx(q,{htmlFor:"isRestricted",children:"Restricted Access"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isHidden",checked:h.isHidden,onCheckedChange:L=>p({...h,isHidden:L}),"data-testid":"switch-is-hidden"}),s.jsx(q,{htmlFor:"isHidden",children:"Hide from Public"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:te,disabled:E.isPending||T.isPending,"data-testid":"button-save-facility",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),s.jsxs(Vt,{value:"content",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"aboutContent",children:"About / Extended Description"}),s.jsx(lt,{id:"aboutContent",value:h.aboutContent,onChange:L=>p({...h,aboutContent:L.target.value}),placeholder:"Detailed information about the facility...",rows:4,"data-testid":"input-about-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Features (one per line)"}),s.jsx(lt,{value:(h.features||[]).join(`
`),onChange:L=>p({...h,features:L.target.value.split(`
`).filter(ve=>ve.trim())}),placeholder:`Professional lighting
Climate controlled
Premium equipment`,rows:4,"data-testid":"input-features"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each feature on a new line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Amenities (one per line)"}),s.jsx(lt,{value:(h.amenities||[]).join(`
`),onChange:L=>p({...h,amenities:L.target.value.split(`
`).filter(ve=>ve.trim())}),placeholder:`Changing rooms
Shower facilities
Equipment rental`,rows:4,"data-testid":"input-amenities"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each amenity on a new line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Keywords (comma-separated)"}),s.jsx(Y,{value:(h.keywords||[]).join(", "),onChange:L=>p({...h,keywords:L.target.value.split(",").map(ve=>ve.trim()).filter(ve=>ve)}),placeholder:"padel, tennis, racquet sports, indoor","data-testid":"input-keywords"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for SEO and search"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Quick Info (key: value pairs, one per line)"}),s.jsx(lt,{value:Object.entries(h.quickInfo||{}).map(([L,ve])=>`${L}: ${ve}`).join(`
`),onChange:L=>{const ve={};L.target.value.split(`
`).forEach(Fe=>{const st=Fe.indexOf(":");if(st>0){const vt=Fe.substring(0,st).trim(),qt=Fe.substring(st+1).trim();vt&&(ve[vt]=qt)}}),p({...h,quickInfo:ve})},placeholder:`Hours: 6AM - 11PM
Courts: 4
Surface: Artificial Turf`,rows:4,"data-testid":"input-quick-info"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: Key: Value (one per line). These appear in the Quick Info sidebar."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"pricingNotes",children:"Pricing Notes"}),s.jsx(lt,{id:"pricingNotes",value:h.pricingNotes,onChange:L=>p({...h,pricingNotes:L.target.value}),placeholder:"Special pricing conditions, discounts, or package information...",rows:3,"data-testid":"input-pricing-notes"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"certificationInfo",children:"Certification Requirements"}),s.jsx(lt,{id:"certificationInfo",value:h.certificationInfo,onChange:L=>p({...h,certificationInfo:L.target.value}),placeholder:"Required certifications, safety training, or prerequisites...",rows:3,"data-testid":"input-certification-info"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Gallery Images (URLs, one per line)"}),s.jsx(lt,{value:(h.galleryImages||[]).join(`
`),onChange:L=>p({...h,galleryImages:L.target.value.split(`
`).filter(ve=>ve.trim())}),placeholder:`/uploads/facility1.jpg
/uploads/facility2.jpg`,rows:3,"data-testid":"input-gallery-images"})]}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Educational Content"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Help players understand the sport with detailed guides."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"howToPlayContent",children:"How To Play"}),s.jsx(lt,{id:"howToPlayContent",value:h.howToPlayContent,onChange:L=>p({...h,howToPlayContent:L.target.value}),placeholder:"Explain how the sport/game is played, basic rules, court layout, equipment needed...",rows:5,"data-testid":"input-how-to-play"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the basics of how to play this sport."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"scoringRulesContent",children:"Scoring Rules"}),s.jsx(lt,{id:"scoringRulesContent",value:h.scoringRulesContent,onChange:L=>p({...h,scoringRulesContent:L.target.value}),placeholder:"Explain how points are scored, game structure (sets, games), point values...",rows:5,"data-testid":"input-scoring-rules"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe how scoring works in this sport."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"winningCriteriaContent",children:"Winning Criteria"}),s.jsx(lt,{id:"winningCriteriaContent",value:h.winningCriteriaContent,onChange:L=>p({...h,winningCriteriaContent:L.target.value}),placeholder:"Explain how to determine the winner, tiebreakers, match formats...",rows:5,"data-testid":"input-winning-criteria"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe how winners are determined."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"pointsSystemContent",children:"Points & Ranking System"}),s.jsx(lt,{id:"pointsSystemContent",value:h.pointsSystemContent,onChange:L=>p({...h,pointsSystemContent:L.target.value}),placeholder:"Explain how leaderboard points are awarded, ranking system, tournament points...",rows:5,"data-testid":"input-points-system"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the points and ranking system at The Quarterdeck."})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:te,disabled:E.isPending||T.isPending,"data-testid":"button-save-facility-content",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),s.jsx(Vt,{value:"venues",className:"space-y-4 py-4",children:t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Venue"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Venue"}),s.jsxs(Nt,{value:y.venueId,onValueChange:L=>m({...y,venueId:L}),children:[s.jsx(bt,{"data-testid":"select-venue",children:s.jsx(_t,{placeholder:"Select venue..."})}),s.jsx(wt,{children:G.length===0?s.jsx(ke,{value:"none",disabled:!0,children:"No venues available"}):G.map(L=>s.jsxs(ke,{value:L.id,children:[L.name," (",L.city,")"]},L.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Status at Venue"}),s.jsxs(Nt,{value:y.status,onValueChange:L=>m({...y,status:L}),children:[s.jsx(bt,{"data-testid":"select-venue-status",children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"PLANNED",children:"Planned"}),s.jsx(ke,{value:"COMING_SOON",children:"Coming Soon"}),s.jsx(ke,{value:"ACTIVE",children:"Active"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Resource Count at Venue"}),s.jsx(Y,{type:"number",value:y.resourceCount,onChange:L=>m({...y,resourceCount:parseInt(L.target.value)||1}),"data-testid":"input-venue-resource-count"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Price Override (PKR)"}),s.jsx(Y,{type:"number",value:y.priceOverride,onChange:L=>m({...y,priceOverride:L.target.value}),placeholder:`Leave empty to use base price (${h.basePrice})`,"data-testid":"input-venue-price-override"})]})]}),s.jsxs(M,{onClick:be,disabled:!y.venueId||R.isPending,"data-testid":"button-add-venue",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Assigned Venues"}),!S||S.length===0?s.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No venues assigned to this facility yet. Add a venue above to configure venue-specific settings."}):s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Venue"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{children:"Resources"}),s.jsx(ue,{children:"Price"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:S.map(L=>s.jsxs(tt,{"data-testid":`row-venue-${L.id}`,children:[s.jsx(ie,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"w-4 h-4 text-muted-foreground"}),B(L.venueId)]})}),s.jsx(ie,{children:s.jsxs(Nt,{value:L.status||"PLANNED",onValueChange:ve=>D.mutate({id:L.id,data:{status:ve}}),children:[s.jsx(bt,{className:"w-32","data-testid":`select-fv-status-${L.id}`,children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"PLANNED",children:"Planned"}),s.jsx(ke,{value:"COMING_SOON",children:"Coming Soon"}),s.jsx(ke,{value:"ACTIVE",children:"Active"})]})]})}),s.jsx(ie,{children:s.jsx(Y,{type:"number",className:"w-20",value:L.resourceCount||1,onChange:ve=>D.mutate({id:L.id,data:{resourceCount:parseInt(ve.target.value)||1}}),"data-testid":`input-fv-resources-${L.id}`})}),s.jsx(ie,{children:s.jsx(Y,{type:"number",className:"w-28",value:L.priceOverride||"",placeholder:h.basePrice.toString(),onChange:ve=>D.mutate({id:L.id,data:{priceOverride:ve.target.value?parseInt(ve.target.value):null}}),"data-testid":`input-fv-price-${L.id}`})}),s.jsx(ie,{className:"text-right",children:s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remove this venue from the facility?")&&O.mutate(L.id)},"data-testid":`button-remove-venue-${L.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})})]},L.id))})]})]})]})}),s.jsx(Vt,{value:"addons",className:"space-y-4 py-4",children:t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:v?"Edit Add-on":"Add New Add-on"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Label"}),s.jsx(Y,{value:w.label,onChange:L=>g({...w,label:L.target.value}),placeholder:"e.g., Equipment Rental","data-testid":"input-addon-label"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Price (PKR)"}),s.jsx(Y,{type:"number",value:w.price,onChange:L=>g({...w,price:parseInt(L.target.value)||0}),placeholder:"0","data-testid":"input-addon-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Icon (optional)"}),s.jsx(Y,{value:w.icon,onChange:L=>g({...w,icon:L.target.value}),placeholder:"e.g., Target, Coffee","data-testid":"input-addon-icon"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{onClick:z,disabled:!w.label||W.isPending||A.isPending,"data-testid":"button-save-addon",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),v?"Update Add-on":"Add Add-on"]}),v&&s.jsx(M,{variant:"outline",onClick:J,children:"Cancel"})]})]}),s.jsxs("div",{className:"rounded-lg border",children:[s.jsx("h4",{className:"font-medium p-4 border-b",children:"Facility Add-ons"}),!P||P.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No add-ons configured for this facility yet."}):s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Label"}),s.jsx(ue,{children:"Price"}),s.jsx(ue,{children:"Icon"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:P.map(L=>s.jsxs(tt,{"data-testid":`row-addon-${L.id}`,children:[s.jsx(ie,{className:"font-medium",children:L.label}),s.jsxs(ie,{children:["PKR ",L.price.toLocaleString()]}),s.jsx(ie,{children:L.icon||"-"}),s.jsxs(ie,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>ee(L),"data-testid":`button-edit-addon-${L.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Delete this add-on?")&&$.mutate(L.id)},"data-testid":`button-delete-addon-${L.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},L.id))})]})]})]})})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Category"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{children:"Base Price"}),s.jsx(ue,{children:"Courts/Resources"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[j==null?void 0:j.map(L=>s.jsxs(tt,{"data-testid":`row-facility-${L.id}`,children:[s.jsx(ie,{className:"font-medium",children:L.name}),s.jsx(ie,{children:L.category||"-"}),s.jsx(ie,{children:ae(L.status)}),s.jsxs(ie,{children:["PKR ",L.basePrice.toLocaleString()]}),s.jsx(ie,{children:L.resourceCount}),s.jsxs(ie,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>pe(L),"data-testid":`button-edit-facility-${L.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this facility?")&&I.mutate(L.id)},"data-testid":`button-delete-facility-${L.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},L.id)),(!j||j.length===0)&&s.jsx(tt,{children:s.jsx(ie,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No facilities found. Add your first facility to get started."})})]})]})})})]})})}function kMe(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:p,...y}=f,m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,w=x.useMemo(()=>y,Object.values(y));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=x.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,CMe(a,...t)]}function CMe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var PMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],F9=PMe.reduce((e,t)=>{const r=kb(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),nP="Progress",sP=100,[EMe]=kMe(nP),[AMe,OMe]=EMe(nP),U9=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=TMe,...o}=e;(a||a===0)&&!oM(a)&&console.error(IMe(`${a}`,"Progress"));const l=oM(a)?a:sP;n!==null&&!lM(n,l)&&console.error(RMe(`${n}`,"Progress"));const c=lM(n,l)?n:null,u=Uy(c)?i(c,l):void 0;return s.jsx(AMe,{scope:r,value:c,max:l,children:s.jsx(F9.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Uy(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":q9(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});U9.displayName=nP;var B9="ProgressIndicator",V9=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=OMe(B9,r);return s.jsx(F9.div,{"data-state":q9(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});V9.displayName=B9;function TMe(e,t){return`${Math.round(e/t*100)}%`}function q9(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Uy(e){return typeof e=="number"}function oM(e){return Uy(e)&&!isNaN(e)&&e>0}function lM(e,t){return Uy(e)&&!isNaN(e)&&e<=t&&e>=0}function IMe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${sP}\`.`}function RMe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${sP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var z9=U9,MMe=V9;const wS=x.forwardRef(({className:e,value:t,...r},n)=>s.jsx(z9,{ref:n,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(MMe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));wS.displayName=z9.displayName;function $Me(){const{toast:e}=ht(),[t,r]=x.useState(new Set),[n,a]=x.useState(null),[i,o]=x.useState({}),{data:l,isLoading:c}=de({queryKey:["/api/admin/construction-phases"]});x.useEffect(()=>{if(l){const m={};l.forEach(w=>{m[w.id]={...w}}),o(m)}},[l]);const u=ye({mutationFn:async({id:m,data:w})=>{const g={...w,progress:w.progress!==void 0?Number(w.progress):void 0,isActive:w.status==="IN_PROGRESS",isComplete:w.status==="COMPLETE"||w.progress===100};return await xe("PATCH",`/api/admin/construction-phases/${m}`,g)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/construction-phases"]}),e({title:"Phase updated successfully"}),a(null)},onError:()=>{e({title:"Failed to update phase",variant:"destructive"})}}),d=(m,w,g)=>{o(v=>({...v,[m]:{...v[m],[w]:g}}))},f=m=>{u.mutate({id:m,data:i[m]})},h=m=>{switch(m){case"COMPLETE":return s.jsx(yn,{className:"w-5 h-5 text-green-500"});case"IN_PROGRESS":return s.jsx(K5,{className:"w-5 h-5 text-amber-500"});default:return s.jsx(Ht,{className:"w-5 h-5 text-muted-foreground"})}},p=m=>{switch(m){case"COMPLETE":return s.jsx(le,{className:"bg-green-500",children:"Complete"});case"IN_PROGRESS":return s.jsx(le,{className:"bg-amber-500",children:"In Progress"});default:return s.jsx(le,{variant:"secondary",children:"Not Started"})}},y=()=>{if(!l||l.length===0)return 0;const m=l.reduce((w,g)=>w+(g.progress||0),0);return Math.round(m/l.length)};return c?s.jsx(nt,{title:"Construction Status",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Construction Status",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage construction phases and milestones. Changes automatically update the public roadmap."}),s.jsxs("a",{href:"/roadmap",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[s.jsx(Zn,{className:"w-3 h-3"})," View Public Roadmap",s.jsx(Jo,{className:"w-3 h-3"})]})]})}),s.jsxs(ne,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Le,{children:[s.jsx(We,{children:"Overall Project Progress"}),s.jsx(It,{children:"Combined progress across all construction phases"})]}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-2xl font-bold",children:[y(),"%"]}),s.jsxs("span",{className:"text-muted-foreground",children:[(l==null?void 0:l.filter(m=>m.status==="COMPLETE").length)||0," of ",(l==null?void 0:l.length)||0," phases complete"]})]}),s.jsx(wS,{value:y(),className:"h-3"})]})})]}),s.jsx("div",{className:"space-y-4",children:l==null?void 0:l.sort((m,w)=>(m.sortOrder||0)-(w.sortOrder||0)).map(m=>{const w=i[m.id]||m,g=n===m.id;return s.jsxs(ne,{className:`transition-all ${g?"ring-2 ring-primary":""}`,children:[s.jsxs(Le,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h(w.status),s.jsxs("div",{children:[s.jsxs(We,{className:"text-lg flex items-center gap-2",children:[w.label,": ",w.title,p(w.status)]}),s.jsx(It,{children:w.timeframe||"No timeframe set"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-lg font-semibold",children:[w.progress||0,"%"]}),s.jsx(M,{variant:g?"default":"outline",size:"sm",onClick:()=>a(g?null:m.id),"data-testid":`button-edit-phase-${m.id}`,children:g?"Cancel":"Edit"}),g&&s.jsxs(M,{size:"sm",onClick:()=>f(m.id),disabled:u.isPending,"data-testid":`button-save-phase-${m.id}`,children:[s.jsx(tr,{className:"w-4 h-4 mr-1"})," Save"]})]})]}),s.jsx(wS,{value:w.progress||0,className:"mt-3"})]}),g&&s.jsxs(se,{className:"border-t pt-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Phase Label"}),s.jsx(Y,{value:w.label||"",onChange:v=>d(m.id,"label",v.target.value),"data-testid":`input-phase-label-${m.id}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Phase Title"}),s.jsx(Y,{value:w.title||"",onChange:v=>d(m.id,"title",v.target.value),"data-testid":`input-phase-title-${m.id}`})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Status"}),s.jsxs(Nt,{value:w.status,onValueChange:v=>{const b=v==="COMPLETE"?100:v==="NOT_STARTED"?0:w.progress;d(m.id,"status",v),d(m.id,"progress",b),d(m.id,"isComplete",v==="COMPLETE"),d(m.id,"isActive",v==="IN_PROGRESS")},children:[s.jsx(bt,{"data-testid":`select-phase-status-${m.id}`,children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"NOT_STARTED",children:"Not Started"}),s.jsx(ke,{value:"IN_PROGRESS",children:"In Progress"}),s.jsx(ke,{value:"COMPLETE",children:"Complete"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Progress (%)"}),s.jsx(Y,{type:"number",min:"0",max:"100",value:w.progress||0,onChange:v=>{const b=Math.min(100,Math.max(0,parseInt(v.target.value)||0));d(m.id,"progress",b),b===100?(d(m.id,"status","COMPLETE"),d(m.id,"isComplete",!0),d(m.id,"isActive",!1)):b>0?(d(m.id,"status","IN_PROGRESS"),d(m.id,"isComplete",!1),d(m.id,"isActive",!0)):(d(m.id,"status","NOT_STARTED"),d(m.id,"isComplete",!1),d(m.id,"isActive",!1))},"data-testid":`input-phase-progress-${m.id}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Timeframe"}),s.jsx(Y,{value:w.timeframe||"",onChange:v=>d(m.id,"timeframe",v.target.value),placeholder:"e.g., March - August 2024","data-testid":`input-phase-timeframe-${m.id}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Milestones (one per line)"}),s.jsx(lt,{value:(w.milestones||[]).join(`
`),onChange:v=>d(m.id,"milestones",v.target.value.split(`
`).filter(b=>b.trim())),rows:4,placeholder:"Enter milestones, one per line","data-testid":`input-phase-milestones-${m.id}`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix with [x] for completed milestones, [ ] for pending"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Highlights (one per line)"}),s.jsx(lt,{value:(w.highlights||[]).join(`
`),onChange:v=>d(m.id,"highlights",v.target.value.split(`
`).filter(b=>b.trim())),rows:2,placeholder:"Key achievements or notes","data-testid":`input-phase-highlights-${m.id}`})]})]}),!g&&s.jsx(se,{className:"pt-0",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Milestones"}),s.jsxs("ul",{className:"space-y-1",children:[(w.milestones||[]).slice(0,4).map((v,b)=>s.jsxs("li",{className:"text-sm flex items-center gap-2",children:[s.jsx(yn,{className:`w-3 h-3 ${v.startsWith("[x]")?"text-green-500":"text-muted-foreground"}`}),s.jsx("span",{className:v.startsWith("[x]")?"line-through text-muted-foreground":"",children:v.replace(/^\[(x| )\] /,"")})]},b)),(w.milestones||[]).length>4&&s.jsxs("li",{className:"text-sm text-muted-foreground",children:["+",w.milestones.length-4," more..."]})]})]}),(w.highlights||[]).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Highlights"}),s.jsx("ul",{className:"space-y-1",children:(w.highlights||[]).map((v,b)=>s.jsx("li",{className:"text-sm text-muted-foreground",children:v},b))})]})]})})]},m.id)})}),s.jsx(ne,{className:"border-dashed",children:s.jsxs(se,{className:"py-6 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-2",children:"Construction phases are automatically synced with the public roadmap page."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When you update progress or mark milestones as complete, the changes will be immediately visible to visitors."})]})})]})})}function DMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=x.useRef(null),[d,f]=x.useState(null),[h,p]=x.useState(null),[y,m]=x.useState({facilityId:"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),{data:w,isLoading:g}=de({queryKey:["/api/admin/events"]}),{data:v}=de({queryKey:["/api/admin/facilities"]}),b=ye({mutationFn:async O=>await xe("POST","/api/admin/events",O),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event created successfully"}),a(!1),k()},onError:()=>{e({title:"Failed to create event",variant:"destructive"})}}),j=ye({mutationFn:async({id:O,data:W})=>await xe("PATCH",`/api/admin/events/${O}`,W),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event updated successfully"}),a(!1),r(null),k()},onError:()=>{e({title:"Failed to update event",variant:"destructive"})}}),_=ye({mutationFn:async O=>await xe("DELETE",`/api/admin/events/${O}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event deleted successfully"})},onError:()=>{e({title:"Failed to delete event",variant:"destructive"})}}),{data:N,isLoading:S}=de({queryKey:["/api/admin/events",d==null?void 0:d.id,"registrations"],queryFn:async()=>{const O=await fetch(`/api/admin/events/${d==null?void 0:d.id}/registrations`,{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch registrations");return O.json()},enabled:!!d}),C=ye({mutationFn:async({registrationId:O,status:W,notes:A})=>await xe("POST",`/api/admin/event-registrations/${O}/verify-payment`,{status:W,notes:A}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events",d==null?void 0:d.id,"registrations"]}),e({title:"Payment status updated"}),p(null)},onError:()=>{e({title:"Failed to update payment status",variant:"destructive"})}}),P=O=>{switch(O){case"VERIFIED":return s.jsx(le,{className:"bg-green-500",children:"Verified"});case"PENDING":return s.jsx(le,{variant:"secondary",children:"Awaiting Payment"});case"PENDING_VERIFICATION":return s.jsx(le,{className:"bg-amber-500",children:"Needs Verification"});case"REJECTED":return s.jsx(le,{variant:"destructive",children:"Rejected"});case"NOT_REQUIRED":default:return s.jsx(le,{variant:"outline",children:"Free"})}},k=()=>{var O;m({facilityId:((O=v==null?void 0:v[0])==null?void 0:O.id)||"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),c(null),u.current&&(u.current.value="")},E=async O=>{var A;const W=(A=O.target.files)==null?void 0:A[0];if(W){if(!["image/jpeg","image/png","image/webp"].includes(W.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(W.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const $=new FormData;$.append("image",W);const Q=await fetch("/api/admin/upload",{method:"POST",body:$,credentials:"include"});if(!Q.ok){let U="Upload failed";try{U=(await Q.json()).message||U}catch{U=Q.statusText||U}throw new Error(U)}const X=await Q.json();c({name:W.name,url:X.imageUrl}),m(U=>({...U,imageUrl:X.imageUrl})),u.current&&(u.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch($){e({title:"Upload failed",description:$.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},T=O=>{r(O),m({facilityId:O.facilityId,title:O.title,description:O.description||"",type:O.type,instructor:O.instructor||"",scheduleDay:O.scheduleDay||"",scheduleTime:O.scheduleTime||"",scheduleDatetime:O.scheduleDatetime?Xn(new Date(O.scheduleDatetime),"yyyy-MM-dd'T'HH:mm"):"",price:O.price||0,capacity:O.capacity||20,enrollmentDeadline:O.enrollmentDeadline?Xn(new Date(O.enrollmentDeadline),"yyyy-MM-dd"):"",imageUrl:O.imageUrl||"",slug:O.slug||"",isActive:O.isActive??!0}),a(!0)},I=()=>{if(!y.facilityId){e({title:"Please select a facility",variant:"destructive"});return}t?j.mutate({id:t.id,data:y}):b.mutate(y)},R=O=>{switch(O){case"ACADEMY":return s.jsx(le,{className:"bg-purple-500",children:"Academy"});case"TOURNAMENT":return s.jsx(le,{className:"bg-orange-500",children:"Tournament"});case"CLASS":return s.jsx(le,{className:"bg-blue-500",children:"Class"});case"SOCIAL":return s.jsx(le,{className:"bg-green-500",children:"Social"});default:return s.jsx(le,{variant:"secondary",children:O})}},D=O=>{var W;return((W=v==null?void 0:v.find(A=>A.id===O))==null?void 0:W.name)||"Unknown"};return g?s.jsx(nt,{title:"Events & Academies",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Events & Academies",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage events, academies, tournaments, and classes at The Quarterdeck."}),s.jsxs(Pt,{open:n,onOpenChange:O=>{a(O),O||(r(null),k())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-event",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Event"]})}),s.jsxs(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:t?"Edit Event":"Add New Event"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"title",children:"Event Title"}),s.jsx(Y,{id:"title",value:y.title,onChange:O=>m({...y,title:O.target.value}),placeholder:"e.g., Beginner Padel Academy","data-testid":"input-event-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"type",children:"Event Type"}),s.jsxs(Nt,{value:y.type,onValueChange:O=>m({...y,type:O}),children:[s.jsx(bt,{"data-testid":"select-event-type",children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"ACADEMY",children:"Academy (Ongoing Program)"}),s.jsx(ke,{value:"TOURNAMENT",children:"Tournament"}),s.jsx(ke,{value:"CLASS",children:"Class (One-time)"}),s.jsx(ke,{value:"SOCIAL",children:"Social Event"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"facilityId",children:"Facility"}),s.jsxs(Nt,{value:y.facilityId,onValueChange:O=>m({...y,facilityId:O}),children:[s.jsx(bt,{"data-testid":"select-event-facility",children:s.jsx(_t,{placeholder:"Select facility"})}),s.jsx(wt,{children:v==null?void 0:v.map(O=>s.jsx(ke,{value:O.id,children:O.name},O.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"instructor",children:"Instructor/Host"}),s.jsx(Y,{id:"instructor",value:y.instructor,onChange:O=>m({...y,instructor:O.target.value}),placeholder:"e.g., Coach Ahmad","data-testid":"input-event-instructor"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:y.description,onChange:O=>m({...y,description:O.target.value}),rows:3,placeholder:"Describe the event, what participants will learn, etc.","data-testid":"input-event-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"scheduleDay",children:"Schedule Day"}),s.jsx(Y,{id:"scheduleDay",value:y.scheduleDay,onChange:O=>m({...y,scheduleDay:O.target.value}),placeholder:"e.g., Mon, Wed, Fri","data-testid":"input-event-schedule-day"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"scheduleTime",children:"Schedule Time"}),s.jsx(Y,{id:"scheduleTime",value:y.scheduleTime,onChange:O=>m({...y,scheduleTime:O.target.value}),placeholder:"e.g., 6:00 PM - 8:00 PM","data-testid":"input-event-schedule-time"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"scheduleDatetime",children:"Specific Date/Time"}),s.jsx(Y,{id:"scheduleDatetime",type:"datetime-local",value:y.scheduleDatetime,onChange:O=>m({...y,scheduleDatetime:O.target.value}),"data-testid":"input-event-datetime"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"price",children:"Price (PKR)"}),s.jsx(Y,{id:"price",type:"number",value:y.price,onChange:O=>m({...y,price:parseInt(O.target.value)||0}),"data-testid":"input-event-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"capacity",children:"Capacity"}),s.jsx(Y,{id:"capacity",type:"number",value:y.capacity,onChange:O=>m({...y,capacity:parseInt(O.target.value)||20}),"data-testid":"input-event-capacity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"enrollmentDeadline",children:"Enrollment Deadline"}),s.jsx(Y,{id:"enrollmentDeadline",type:"date",value:y.enrollmentDeadline,onChange:O=>m({...y,enrollmentDeadline:O.target.value}),"data-testid":"input-event-deadline"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Event Image"}),s.jsxs(ua,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-2",children:[s.jsxs(Bt,{value:"upload",className:"flex items-center gap-2",children:[s.jsx(cn,{className:"w-4 h-4"}),"Upload"]}),s.jsxs(Bt,{value:"url",className:"flex items-center gap-2",children:[s.jsx(Ok,{className:"w-4 h-4"}),"URL"]})]}),s.jsxs(Vt,{value:"upload",className:"space-y-3",children:[s.jsx("input",{ref:u,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:E,className:"hidden","data-testid":"input-event-image-file"}),s.jsx(M,{type:"button",variant:"outline",onClick:()=>{var O;return(O=u.current)==null?void 0:O.click()},disabled:i,className:"w-full","data-testid":"button-upload-event-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Choose Image"]})}),l&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(yn,{className:"w-4 h-4"}),l.name]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]}),s.jsx(Vt,{value:"url",className:"space-y-3",children:s.jsx(Y,{id:"imageUrl",value:y.imageUrl,onChange:O=>m({...y,imageUrl:O.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-event-image-url"})})]}),y.imageUrl&&s.jsx("div",{className:"mt-3 rounded-md border overflow-hidden",children:s.jsx("img",{src:y.imageUrl,alt:"Preview",className:"w-full h-32 object-cover",onError:O=>{O.target.style.display="none"}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"slug",children:"URL Slug"}),s.jsx(Y,{id:"slug",value:y.slug,onChange:O=>m({...y,slug:O.target.value}),placeholder:"beginner-padel-academy","data-testid":"input-event-slug"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[s.jsx(Kt,{id:"isActive",checked:y.isActive,onCheckedChange:O=>m({...y,isActive:O})}),s.jsx(q,{htmlFor:"isActive",children:"Active (visible on website)"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:I,disabled:b.isPending||j.isPending,"data-testid":"button-save-event",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Event"}),s.jsx(ue,{children:"Type"}),s.jsx(ue,{children:"Facility"}),s.jsx(ue,{children:"Schedule"}),s.jsx(ue,{children:"Capacity"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[w==null?void 0:w.map(O=>s.jsxs(tt,{"data-testid":`row-event-${O.id}`,children:[s.jsx(ie,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:O.title}),O.instructor&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["by ",O.instructor]})]})}),s.jsx(ie,{children:R(O.type)}),s.jsx(ie,{children:D(O.facilityId)}),s.jsx(ie,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[O.scheduleDay&&s.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[s.jsx(mr,{className:"w-3 h-3"}),O.scheduleDay]}),O.scheduleTime&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(Ht,{className:"w-3 h-3"}),O.scheduleTime]})]})}),s.jsx(ie,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(yr,{className:"w-3 h-3"}),O.enrolledCount||0,"/",O.capacity]})}),s.jsx(ie,{children:O.isActive?s.jsx(le,{className:"bg-green-500",children:"Active"}):s.jsx(le,{variant:"secondary",children:"Inactive"})}),s.jsxs(ie,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>f(O),title:"View registrations","data-testid":`button-view-registrations-${O.id}`,children:s.jsx(Zn,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>T(O),"data-testid":`button-edit-event-${O.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this event?")&&_.mutate(O.id)},"data-testid":`button-delete-event-${O.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},O.id)),(!w||w.length===0)&&s.jsx(tt,{children:s.jsx(ie,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No events found. Add your first event to get started."})})]})]})})}),s.jsx(Pt,{open:!!d,onOpenChange:O=>!O&&f(null),children:s.jsxs(St,{className:"max-w-4xl max-h-[80vh] overflow-auto",children:[s.jsxs(Et,{children:[s.jsxs(At,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"w-5 h-5"}),"Registrations - ",d==null?void 0:d.title]}),s.jsx(Rs,{children:d!=null&&d.price&&d.price>0?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Xo,{className:"w-4 h-4"}),"Paid event: PKR ",d.price.toLocaleString()]}):"Free event - no payment required"})]}),S?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Te,{className:"w-6 h-6 animate-spin"})}):N&&N.length>0?s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Email"}),s.jsx(ue,{children:"Phone"}),s.jsx(ue,{children:"Payment"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:N.map(O=>s.jsxs(tt,{"data-testid":`row-registration-${O.id}`,children:[s.jsx(ie,{className:"font-medium",children:O.fullName}),s.jsx(ie,{children:O.email}),s.jsx(ie,{children:O.phone||"-"}),s.jsx(ie,{children:P(O.paymentStatus)}),s.jsx(ie,{children:s.jsx(le,{variant:O.status==="REGISTERED"?"default":"secondary",children:O.status})}),s.jsxs(ie,{className:"text-right",children:[O.paymentProofUrl&&s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>window.open(O.paymentProofUrl||"","_blank"),title:"View payment proof","data-testid":`button-view-proof-${O.id}`,children:s.jsx(Jo,{className:"w-4 h-4"})}),O.paymentStatus==="PENDING_VERIFICATION"&&s.jsxs(s.Fragment,{children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>C.mutate({registrationId:O.id,status:"VERIFIED"}),disabled:C.isPending,title:"Approve payment","data-testid":`button-approve-payment-${O.id}`,children:s.jsx(wr,{className:"w-4 h-4 text-green-600"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>C.mutate({registrationId:O.id,status:"REJECTED",notes:"Payment not verified"}),disabled:C.isPending,title:"Reject payment","data-testid":`button-reject-payment-${O.id}`,children:s.jsx(Ki,{className:"w-4 h-4 text-destructive"})})]})]})]},O.id))})]}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(kn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No registrations yet for this event."]})]})})]})})}function LMe(){const{toast:e}=ht(),{adminPath:t}=Vp(),[r,n]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),[c,u]=x.useState(""),{data:d,isLoading:f}=de({queryKey:["/api/admin/pricing-tiers"]}),{data:h}=de({queryKey:["/api/admin/membership-tiers"]}),p=()=>{re.invalidateQueries({queryKey:["/api/admin/pricing-tiers"]}),re.invalidateQueries({queryKey:["/api/pricing-tiers"]})},y=ye({mutationFn:async S=>await xe("POST","/api/admin/pricing-tiers",S),onSuccess:()=>{p(),e({title:"Pricing tier created successfully"}),i(!1),g()},onError:()=>{e({title:"Failed to create pricing tier",variant:"destructive"})}}),m=ye({mutationFn:async({id:S,data:C})=>await xe("PATCH",`/api/admin/pricing-tiers/${S}`,C),onSuccess:()=>{p(),e({title:"Pricing tier updated successfully"}),i(!1),n(null),g()},onError:()=>{e({title:"Failed to update pricing tier",variant:"destructive"})}}),w=ye({mutationFn:async S=>await xe("DELETE",`/api/admin/pricing-tiers/${S}`),onSuccess:()=>{p(),e({title:"Pricing tier deleted successfully"})},onError:()=>{e({title:"Failed to delete pricing tier",variant:"destructive"})}}),g=()=>{l({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),u("")},v=S=>{n(S),l({name:S.name,tier:S.tier,price:S.price,billingPeriod:S.billingPeriod||"yearly",benefits:S.benefits||[],isPopular:S.isPopular||!1,sortOrder:S.sortOrder||0,isActive:S.isActive??!0}),i(!0)},b=()=>{r?m.mutate({id:r.id,data:o}):y.mutate(o)},j=()=>{c.trim()&&(l({...o,benefits:[...o.benefits,c.trim()]}),u(""))},_=S=>{l({...o,benefits:o.benefits.filter((C,P)=>P!==S)})},N=S=>{switch(S){case"FOUNDING":return s.jsx(le,{className:"bg-amber-600",children:"Founding"});case"GOLD":return s.jsx(le,{className:"bg-yellow-500",children:"Gold"});case"SILVER":return s.jsx(le,{className:"bg-gray-400",children:"Silver"});default:return s.jsx(le,{variant:"secondary",children:"Guest"})}};return f?s.jsx(nt,{title:"Pricing Tiers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Pricing Tiers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage membership pricing tiers and their benefits."}),s.jsx(ge,{href:`/${t}/membership-tiers`,children:s.jsxs(M,{variant:"link",size:"sm",className:"p-0 h-auto text-primary","data-testid":"link-manage-tiers",children:[s.jsx(Nm,{className:"w-3 h-3 mr-1"})," Manage Tier Definitions"]})})]}),s.jsxs(Pt,{open:a,onOpenChange:S=>{i(S),S||(n(null),g())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-pricing-tier",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Pricing Tier"]})}),s.jsxs(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:r?"Edit Pricing Tier":"Add New Pricing Tier"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"name",children:"Display Name"}),s.jsx(Y,{id:"name",value:o.name,onChange:S=>l({...o,name:S.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-tier-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"tier",children:"Tier Level"}),s.jsxs(Nt,{value:o.tier,onValueChange:S=>l({...o,tier:S}),children:[s.jsx(bt,{"data-testid":"select-tier-level",children:s.jsx(_t,{})}),s.jsxs(wt,{children:[h==null?void 0:h.filter(S=>S.isActive).map(S=>s.jsx(ke,{value:S.slug.toUpperCase(),"data-testid":`select-tier-${S.slug}`,children:S.displayName},S.id)),(!h||h.length===0)&&s.jsxs(s.Fragment,{children:[s.jsx(ke,{value:"FOUNDING",children:"Founding"}),s.jsx(ke,{value:"GOLD",children:"Gold"}),s.jsx(ke,{value:"SILVER",children:"Silver"}),s.jsx(ke,{value:"GUEST",children:"Guest"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"price",children:"Price (PKR)"}),s.jsx(Y,{id:"price",type:"number",value:o.price,onChange:S=>l({...o,price:parseInt(S.target.value)||0}),"data-testid":"input-tier-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"billingPeriod",children:"Billing Period"}),s.jsxs(Nt,{value:o.billingPeriod,onValueChange:S=>l({...o,billingPeriod:S}),children:[s.jsx(bt,{"data-testid":"select-billing-period",children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"monthly",children:"Monthly"}),s.jsx(ke,{value:"yearly",children:"Yearly"}),s.jsx(ke,{value:"lifetime",children:"Lifetime"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Benefits"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:c,onChange:S=>u(S.target.value),placeholder:"Add a benefit",onKeyDown:S=>S.key==="Enter"&&(S.preventDefault(),j()),"data-testid":"input-benefit"}),s.jsx(M,{type:"button",onClick:j,variant:"secondary",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.benefits.map((S,C)=>s.jsxs(le,{variant:"secondary",className:"px-2 py-1",children:[S,s.jsx("button",{type:"button",onClick:()=>_(C),className:"ml-2 text-muted-foreground hover:text-foreground",children:""})]},C))})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:o.sortOrder,onChange:S=>l({...o,sortOrder:parseInt(S.target.value)||0}),"data-testid":"input-sort-order"})]})}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isPopular",checked:o.isPopular,onCheckedChange:S=>l({...o,isPopular:S})}),s.jsx(q,{htmlFor:"isPopular",children:"Mark as Popular"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isActive",checked:o.isActive,onCheckedChange:S=>l({...o,isActive:S})}),s.jsx(q,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsxs(M,{onClick:b,disabled:y.isPending||m.isPending,"data-testid":"button-save-tier",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"]})]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Tier"}),s.jsx(ue,{children:"Price"}),s.jsx(ue,{children:"Billing"}),s.jsx(ue,{children:"Benefits"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[d==null?void 0:d.map(S=>{var C;return s.jsxs(tt,{"data-testid":`row-tier-${S.id}`,children:[s.jsxs(ie,{className:"font-medium",children:[S.name,S.isPopular&&s.jsx(fa,{className:"inline w-4 h-4 ml-2 text-amber-500"})]}),s.jsx(ie,{children:N(S.tier)}),s.jsxs(ie,{children:["PKR ",S.price.toLocaleString()]}),s.jsx(ie,{className:"capitalize",children:S.billingPeriod}),s.jsxs(ie,{children:[((C=S.benefits)==null?void 0:C.length)||0," benefits"]}),s.jsx(ie,{children:S.isActive?s.jsx(le,{className:"bg-green-500",children:"Active"}):s.jsx(le,{variant:"secondary",children:"Inactive"})}),s.jsxs(ie,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>v(S),"data-testid":`button-edit-tier-${S.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this pricing tier?")&&w.mutate(S.id)},"data-testid":`button-delete-tier-${S.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},S.id)}),(!d||d.length===0)&&s.jsx(tt,{children:s.jsx(ie,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No pricing tiers found. Add your first tier to get started."})})]})]})})})]})})}function FMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),[l,c]=x.useState(""),{data:u,isLoading:d}=de({queryKey:["/api/admin/membership-tiers"]}),f=()=>{re.invalidateQueries({queryKey:["/api/admin/membership-tiers"]}),re.invalidateQueries({queryKey:["/api/membership-tiers"]})},h=ye({mutationFn:async N=>await xe("POST","/api/admin/membership-tiers",N),onSuccess:()=>{f(),e({title:"Membership tier created successfully"}),a(!1),m()},onError:()=>{e({title:"Failed to create membership tier",variant:"destructive"})}}),p=ye({mutationFn:async({id:N,data:S})=>await xe("PATCH",`/api/admin/membership-tiers/${N}`,S),onSuccess:()=>{f(),e({title:"Membership tier updated successfully"}),a(!1),r(null),m()},onError:()=>{e({title:"Failed to update membership tier",variant:"destructive"})}}),y=ye({mutationFn:async N=>await xe("DELETE",`/api/admin/membership-tiers/${N}`),onSuccess:()=>{f(),e({title:"Membership tier deleted successfully"})},onError:()=>{e({title:"Failed to delete membership tier",variant:"destructive"})}}),m=()=>{o({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),c("")},w=N=>{r(N),o({slug:N.slug,displayName:N.displayName,description:N.description||"",color:N.color||"#6B7280",discountPercent:N.discountPercent||0,guestPassesIncluded:N.guestPassesIncluded||0,benefits:N.benefits||[],sortOrder:N.sortOrder||0,isActive:N.isActive??!0}),a(!0)},g=()=>{t?p.mutate({id:t.id,data:i}):h.mutate(i)},v=()=>{l.trim()&&(o({...i,benefits:[...i.benefits,l.trim()]}),c(""))},b=N=>{o({...i,benefits:i.benefits.filter((S,C)=>C!==N)})},j=N=>N.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");if(d)return s.jsx(nt,{title:"Membership Tiers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const _=[...u||[]].sort((N,S)=>(N.sortOrder||0)-(S.sortOrder||0));return s.jsx(nt,{title:"Membership Tiers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Define membership tier types with their names, colors, discount percentages, and benefits."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"These tiers are used throughout the website for pricing and membership management."})]}),s.jsxs(Pt,{open:n,onOpenChange:N=>{a(N),N||(r(null),m())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-tier",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Tier"]})}),s.jsxs(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:t?"Edit Membership Tier":"Add New Membership Tier"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"displayName",children:"Display Name"}),s.jsx(Y,{id:"displayName",value:i.displayName,onChange:N=>{const S=N.target.value;o({...i,displayName:S,slug:i.slug||j(S)})},placeholder:"e.g., Platinum Member","data-testid":"input-display-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),s.jsx(Y,{id:"slug",value:i.slug,onChange:N=>o({...i,slug:j(N.target.value)}),placeholder:"e.g., platinum","data-testid":"input-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:i.description,onChange:N=>o({...i,description:N.target.value}),placeholder:"Brief description of this membership tier","data-testid":"input-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"color",children:"Tier Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"color",type:"color",value:i.color,onChange:N=>o({...i,color:N.target.value}),className:"w-12 h-9 p-1 cursor-pointer","data-testid":"input-color"}),s.jsx(Y,{value:i.color,onChange:N=>o({...i,color:N.target.value}),placeholder:"#6B7280",className:"flex-1","data-testid":"input-color-text"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"discountPercent",children:"Discount % (Off-Peak)"}),s.jsx(Y,{id:"discountPercent",type:"number",min:"0",max:"100",value:i.discountPercent,onChange:N=>o({...i,discountPercent:parseInt(N.target.value)||0}),"data-testid":"input-discount"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"guestPasses",children:"Guest Passes/Month"}),s.jsx(Y,{id:"guestPasses",type:"number",min:"0",value:i.guestPassesIncluded,onChange:N=>o({...i,guestPassesIncluded:parseInt(N.target.value)||0}),"data-testid":"input-guest-passes"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Benefits"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:l,onChange:N=>c(N.target.value),placeholder:"Add a benefit",onKeyDown:N=>N.key==="Enter"&&(N.preventDefault(),v()),"data-testid":"input-benefit"}),s.jsx(M,{type:"button",onClick:v,variant:"secondary","data-testid":"button-add-benefit",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.benefits.map((N,S)=>s.jsxs(le,{variant:"secondary",className:"px-2 py-1","data-testid":`badge-benefit-${S}`,children:[N,s.jsx("button",{type:"button",onClick:()=>b(S),className:"ml-2 text-muted-foreground hover:text-foreground","data-testid":`button-remove-benefit-${S}`,children:"x"})]},S))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:N=>o({...i,sortOrder:parseInt(N.target.value)||0}),"data-testid":"input-sort-order"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(Kt,{id:"isActive",checked:i.isActive,onCheckedChange:N=>o({...i,isActive:N}),"data-testid":"switch-is-active"}),s.jsx(q,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel",children:"Cancel"}),s.jsx(M,{onClick:g,disabled:h.isPending||p.isPending,"data-testid":"button-save-tier",children:h.isPending||p.isPending?"Saving...":t?"Update Tier":"Create Tier"})]})]})]})]})]}),s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsx(We,{children:"Membership Tier Definitions"}),s.jsx(It,{children:"Configure the properties of each membership tier. Changes here affect how tiers are displayed across the website."})]}),s.jsx(se,{children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{className:"w-12",children:"Order"}),s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Slug"}),s.jsx(ue,{children:"Color"}),s.jsx(ue,{children:"Discount"}),s.jsx(ue,{children:"Guest Passes"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[_.map(N=>s.jsxs(tt,{"data-testid":`row-tier-${N.id}`,children:[s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx($p,{className:"w-4 h-4"}),N.sortOrder]})}),s.jsx(ie,{className:"font-medium","data-testid":`text-tier-name-${N.id}`,children:N.displayName}),s.jsx(ie,{children:s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded","data-testid":`text-tier-slug-${N.id}`,children:N.slug})}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:N.color||"#6B7280"}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:N.color})]})}),s.jsxs(ie,{children:[N.discountPercent,"%"]}),s.jsx(ie,{children:N.guestPassesIncluded}),s.jsx(ie,{children:s.jsx(le,{variant:N.isActive?"default":"secondary","data-testid":`badge-status-${N.id}`,children:N.isActive?"Active":"Inactive"})}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>w(N),"data-testid":`button-edit-tier-${N.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this tier?")&&y.mutate(N.id)},disabled:y.isPending,"data-testid":`button-delete-tier-${N.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})})]},N.id)),_.length===0&&s.jsx(tt,{children:s.jsx(ie,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'No membership tiers defined yet. Click "Add Tier" to create one.'})})]})]})})]})]})})}function UMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({title:"",content:"",category:"",isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/announcements"]}),u=ye({mutationFn:async m=>await xe("POST","/api/admin/announcements",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create announcement",variant:"destructive"})}}),d=ye({mutationFn:async({id:m,data:w})=>await xe("PATCH",`/api/admin/announcements/${m}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update announcement",variant:"destructive"})}}),f=ye({mutationFn:async m=>await xe("DELETE",`/api/admin/announcements/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement deleted successfully"})},onError:()=>{e({title:"Failed to delete announcement",variant:"destructive"})}}),h=()=>{o({title:"",content:"",category:"",isActive:!0})},p=m=>{r(m),o({title:m.title,content:m.content||"",category:m.category||"",isActive:m.isActive??!0}),a(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(nt,{title:"Announcements",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Announcements",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage announcements and updates shown on the website."}),s.jsxs(Pt,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-announcement",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Announcement"]})}),s.jsxs(St,{className:"max-w-2xl",children:[s.jsx(Et,{children:s.jsx(At,{children:t?"Edit Announcement":"Add New Announcement"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-announcement-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"content",children:"Content"}),s.jsx(lt,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:5,"data-testid":"input-announcement-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., Construction, Events, General","data-testid":"input-announcement-category"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(q,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-announcement",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Title"}),s.jsx(ue,{children:"Category"}),s.jsx(ue,{children:"Published"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[l==null?void 0:l.map(m=>s.jsxs(tt,{"data-testid":`row-announcement-${m.id}`,children:[s.jsx(ie,{className:"font-medium",children:m.title}),s.jsx(ie,{children:m.category||"-"}),s.jsx(ie,{children:m.publishedAt?Xn(new Date(m.publishedAt),"MMM d, yyyy"):"-"}),s.jsx(ie,{children:m.isActive?s.jsx(le,{className:"bg-green-500",children:"Active"}):s.jsx(le,{variant:"secondary",children:"Inactive"})}),s.jsxs(ie,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-announcement-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this announcement?")&&f.mutate(m.id)},"data-testid":`button-delete-announcement-${m.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(tt,{children:s.jsx(ie,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No announcements found. Add your first announcement to get started."})})]})]})})})]})})}function BMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/careers"]}),u=ye({mutationFn:async m=>await xe("POST","/api/admin/careers",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create career listing",variant:"destructive"})}}),d=ye({mutationFn:async({id:m,data:w})=>await xe("PATCH",`/api/admin/careers/${m}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update career listing",variant:"destructive"})}}),f=ye({mutationFn:async m=>await xe("DELETE",`/api/admin/careers/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing deleted successfully"})},onError:()=>{e({title:"Failed to delete career listing",variant:"destructive"})}}),h=()=>{o({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0})},p=m=>{r(m),o({title:m.title,department:m.department||"",location:m.location||"Islamabad",type:m.type||"Full-time",description:m.description||"",requirements:m.requirements||"",salary:m.salary||"",isActive:m.isActive??!0}),a(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(nt,{title:"Careers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Careers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage job listings and career opportunities at The Quarterdeck."}),s.jsxs(Pt,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-career",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Job Listing"]})}),s.jsxs(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:t?"Edit Job Listing":"Add New Job Listing"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"title",children:"Job Title"}),s.jsx(Y,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-career-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"department",children:"Department"}),s.jsx(Y,{id:"department",value:i.department,onChange:m=>o({...i,department:m.target.value}),placeholder:"e.g., Operations, Sports, Admin","data-testid":"input-career-department"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"location",children:"Location"}),s.jsx(Y,{id:"location",value:i.location,onChange:m=>o({...i,location:m.target.value}),"data-testid":"input-career-location"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"type",children:"Employment Type"}),s.jsxs(Nt,{value:i.type,onValueChange:m=>o({...i,type:m}),children:[s.jsx(bt,{"data-testid":"select-career-type",children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"Full-time",children:"Full-time"}),s.jsx(ke,{value:"Part-time",children:"Part-time"}),s.jsx(ke,{value:"Contract",children:"Contract"}),s.jsx(ke,{value:"Internship",children:"Internship"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"salary",children:"Salary Range"}),s.jsx(Y,{id:"salary",value:i.salary,onChange:m=>o({...i,salary:m.target.value}),placeholder:"e.g., PKR 50,000 - 80,000 / month","data-testid":"input-career-salary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"description",children:"Job Description"}),s.jsx(lt,{id:"description",value:i.description,onChange:m=>o({...i,description:m.target.value}),rows:4,"data-testid":"input-career-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"requirements",children:"Requirements"}),s.jsx(lt,{id:"requirements",value:i.requirements,onChange:m=>o({...i,requirements:m.target.value}),rows:4,placeholder:"List the requirements, each on a new line","data-testid":"input-career-requirements"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(q,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-career",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Title"}),s.jsx(ue,{children:"Department"}),s.jsx(ue,{children:"Location"}),s.jsx(ue,{children:"Type"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[l==null?void 0:l.map(m=>s.jsxs(tt,{"data-testid":`row-career-${m.id}`,children:[s.jsx(ie,{className:"font-medium",children:m.title}),s.jsx(ie,{children:m.department||"-"}),s.jsx(ie,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(gs,{className:"w-3 h-3"}),m.location]})}),s.jsx(ie,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(bm,{className:"w-3 h-3"}),m.type]})}),s.jsx(ie,{children:m.isActive?s.jsx(le,{className:"bg-green-500",children:"Active"}):s.jsx(le,{variant:"secondary",children:"Inactive"})}),s.jsxs(ie,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-career-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this job listing?")&&f.mutate(m.id)},"data-testid":`button-delete-career-${m.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(tt,{children:s.jsx(ie,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No job listings found. Add your first listing to get started."})})]})]})})})]})})}function VMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({title:"",category:"",content:"",sortOrder:0,isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/rules"]}),u=ye({mutationFn:async m=>await xe("POST","/api/admin/rules",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create rule",variant:"destructive"})}}),d=ye({mutationFn:async({id:m,data:w})=>await xe("PATCH",`/api/admin/rules/${m}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update rule",variant:"destructive"})}}),f=ye({mutationFn:async m=>await xe("DELETE",`/api/admin/rules/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule deleted successfully"})},onError:()=>{e({title:"Failed to delete rule",variant:"destructive"})}}),h=()=>{o({title:"",category:"",content:"",sortOrder:0,isActive:!0})},p=m=>{r(m),o({title:m.title,category:m.category||"",content:m.content||"",sortOrder:m.sortOrder||0,isActive:m.isActive??!0}),a(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(nt,{title:"Rules & Policies",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Rules & Policies",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage facility rules, policies, and guidelines shown to members."}),s.jsxs(Pt,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-rule",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Rule"]})}),s.jsxs(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:t?"Edit Rule":"Add New Rule"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-rule-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., General, Safety, Booking","data-testid":"input-rule-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:m=>o({...i,sortOrder:parseInt(m.target.value)||0}),"data-testid":"input-rule-sort"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"content",children:"Content"}),s.jsx(lt,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:8,placeholder:"Enter the rule or policy details...","data-testid":"input-rule-content"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(q,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-rule",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{className:"w-12",children:"Order"}),s.jsx(ue,{children:"Title"}),s.jsx(ue,{children:"Category"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[l==null?void 0:l.map(m=>s.jsxs(tt,{"data-testid":`row-rule-${m.id}`,children:[s.jsx(ie,{children:s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx($p,{className:"w-4 h-4"}),m.sortOrder]})}),s.jsx(ie,{className:"font-medium",children:m.title}),s.jsx(ie,{children:m.category?s.jsx(le,{variant:"outline",children:m.category}):"-"}),s.jsx(ie,{children:m.isActive?s.jsx(le,{className:"bg-green-500",children:"Active"}):s.jsx(le,{variant:"secondary",children:"Inactive"})}),s.jsxs(ie,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-rule-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this rule?")&&f.mutate(m.id)},"data-testid":`button-delete-rule-${m.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(tt,{children:s.jsx(ie,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No rules found. Add your first rule to get started."})})]})]})})})]})})}const cM=[{section:"1. Information We Collect",content:"We collect information to provide and improve our services:",items:["Personal Information: Name, email, phone number","Membership Data: Tier, payment history, bookings","Usage Information: Facility patterns, preferences"]},{section:"2. How We Use Information",content:"Your information is used to:",items:["Process memberships and bookings","Communicate updates","Improve facilities and services"]},{section:"3. Contact",content:"For privacy inquiries, contact privacy@thequarterdeck.pk",items:[]}],uM=[{section:"1. Acceptance of Terms",content:"By using The Quarterdeck facilities, you agree to these terms.",items:[]},{section:"2. Membership",content:"Membership is subject to approval and payment of fees.",items:["Non-transferable","Valid ID required","Guest privileges vary by tier"]},{section:"3. Contact",content:"For questions, contact legal@thequarterdeck.pk",items:[]}];function qMe(){const{toast:e}=ht(),[t,r]=x.useState("privacy"),[n,a]=x.useState([]),[i,o]=x.useState([]),[l,c]=x.useState(!1),{data:u,isLoading:d}=de({queryKey:["/api/cms/bulk"]});x.useEffect(()=>{if(u){const _=u.find(S=>S.key==="privacy_policy"),N=u.find(S=>S.key==="terms_conditions");try{_!=null&&_.content?a(JSON.parse(_.content)):a(cM)}catch{a(cM)}try{N!=null&&N.content?o(JSON.parse(N.content)):o(uM)}catch{o(uM)}}},[u]);const f=ye({mutationFn:async({key:_,content:N})=>xe("POST","/api/admin/cms",{key:_,title:_==="privacy_policy"?"Privacy Policy":"Terms & Conditions",content:N,isActive:!0}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/cms/bulk"]}),e({title:"Saved successfully"})},onError:()=>{e({title:"Failed to save",variant:"destructive"})}}),h=async()=>{c(!0);try{await f.mutateAsync({key:"privacy_policy",content:JSON.stringify(n)})}finally{c(!1)}},p=async()=>{c(!0);try{await f.mutateAsync({key:"terms_conditions",content:JSON.stringify(i)})}finally{c(!1)}},y=(_,N,S,C)=>{(_==="privacy"?a:o)(k=>k.map((E,T)=>T===N?{...E,[S]:C}:E))},m=_=>{const N={section:`${_==="privacy"?n.length+1:i.length+1}. New Section`,content:"",items:[]};_==="privacy"?a([...n,N]):o([...i,N])},w=(_,N)=>{_==="privacy"?a(S=>S.filter((C,P)=>P!==N)):o(S=>S.filter((C,P)=>P!==N))},g=(_,N,S,C)=>{(_==="privacy"?a:o)(k=>k.map((E,T)=>{if(T!==N)return E;const I=[...E.items];return I[S]=C,{...E,items:I}}))},v=(_,N)=>{(_==="privacy"?a:o)(C=>C.map((P,k)=>k!==N?P:{...P,items:[...P.items,""]}))},b=(_,N,S)=>{(_==="privacy"?a:o)(P=>P.map((k,E)=>E!==N?k:{...k,items:k.items.filter((T,I)=>I!==S)}))},j=(_,N)=>s.jsxs("div",{className:"space-y-6",children:[N.map((S,C)=>s.jsxs(ne,{className:"relative",children:[s.jsx(Le,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx($p,{className:"w-5 h-5 text-muted-foreground mt-2 cursor-grab"}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx(q,{children:"Section Title"}),s.jsx(Y,{value:S.section,onChange:P=>y(_,C,"section",P.target.value),placeholder:"1. Section Title","data-testid":`input-section-title-${C}`})]}),s.jsxs("div",{children:[s.jsx(q,{children:"Content"}),s.jsx(lt,{value:S.content,onChange:P=>y(_,C,"content",P.target.value),placeholder:"Section content...",rows:3,"data-testid":`input-section-content-${C}`})]})]}),s.jsx(M,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>w(_,C),"data-testid":`button-remove-section-${C}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(q,{className:"text-sm",children:"Bullet Points"}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>v(_,C),"data-testid":`button-add-item-${C}`,children:[s.jsx(er,{className:"w-3 h-3 mr-1"})," Add Item"]})]}),S.items.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:'No bullet points. Click "Add Item" to add one.'}):s.jsx("div",{className:"space-y-2",children:S.items.map((P,k)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:P,onChange:E=>g(_,C,k,E.target.value),placeholder:"Bullet point text...","data-testid":`input-item-${C}-${k}`}),s.jsx(M,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive flex-shrink-0",onClick:()=>b(_,C,k),"data-testid":`button-remove-item-${C}-${k}`,children:s.jsx(hr,{className:"w-4 h-4"})})]},k))})]})})]},C)),s.jsxs(M,{variant:"outline",className:"w-full",onClick:()=>m(_),"data-testid":`button-add-section-${_}`,children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Section"]})]});return d?s.jsx(nt,{title:"Policy Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"Policy Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Privacy Policy & Terms Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Edit the content displayed on the Privacy Policy and Terms & Conditions pages. Changes are reflected immediately on the website."})]}),s.jsxs(ua,{value:t,onValueChange:r,children:[s.jsxs(Ds,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsxs(Bt,{value:"privacy",className:"flex items-center gap-2","data-testid":"tab-privacy",children:[s.jsx(Pd,{className:"w-4 h-4"}),"Privacy Policy"]}),s.jsxs(Bt,{value:"terms",className:"flex items-center gap-2","data-testid":"tab-terms",children:[s.jsx(ms,{className:"w-4 h-4"}),"Terms & Conditions"]})]}),s.jsxs(Vt,{value:"privacy",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Privacy Policy Sections"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /privacy page."})]}),s.jsxs(M,{onClick:h,disabled:l,"data-testid":"button-save-privacy",children:[l?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Save Privacy Policy"]})]}),j("privacy",n)]}),s.jsxs(Vt,{value:"terms",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Terms & Conditions Sections"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /terms page."})]}),s.jsxs(M,{onClick:p,disabled:l,"data-testid":"button-save-terms",children:[l?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Save Terms & Conditions"]})]}),j("terms",i)]})]})]})})}const bu={dimensions:{recommended:"1920 x 1080 px (16:9 aspect ratio)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",categories:{Renders:"3D architectural renders and concept designs for The Quarterdeck complex",Construction:"Progress photos from the construction site showing different phases",Facilities:"Photos of completed or in-progress facilities (courts, halls, etc.)"}};function zMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=x.useRef(null),[d,f]=x.useState({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),h=async E=>{var I;const T=(I=E.target.files)==null?void 0:I[0];if(T){if(!["image/jpeg","image/png","image/webp"].includes(T.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(T.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const R=new FormData;R.append("image",T);const D=await fetch("/api/admin/upload",{method:"POST",body:R,credentials:"include"});if(!D.ok){let W="Upload failed";try{W=(await D.json()).message||W}catch{W=D.statusText||W}throw new Error(W)}const O=await D.json();c({name:T.name,url:O.imageUrl}),f(W=>({...W,imageUrl:O.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(R){e({title:"Upload failed",description:R.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:y}=de({queryKey:["/api/admin/gallery"]}),m=ye({mutationFn:async E=>await xe("POST","/api/admin/gallery",E),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image added successfully"}),a(!1),v()},onError:()=>{e({title:"Failed to add gallery image",variant:"destructive"})}}),w=ye({mutationFn:async({id:E,data:T})=>await xe("PATCH",`/api/admin/gallery/${E}`,T),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image updated successfully"}),a(!1),r(null),v()},onError:()=>{e({title:"Failed to update gallery image",variant:"destructive"})}}),g=ye({mutationFn:async E=>await xe("DELETE",`/api/admin/gallery/${E}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image deleted successfully"})},onError:()=>{e({title:"Failed to delete gallery image",variant:"destructive"})}}),v=()=>{f({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),c(null),u.current&&(u.current.value="")},b=E=>{r(E),f({imageUrl:E.imageUrl,title:E.title||"",description:E.description||"",category:E.category||"Construction",sortOrder:E.sortOrder||0,isActive:E.isActive??!0}),a(!0)},j=()=>{t?w.mutate({id:t.id,data:d}):m.mutate(d)},_=E=>{switch(E){case"Renders":return s.jsx(le,{className:"bg-purple-500",children:"Renders"});case"Construction":return s.jsx(le,{className:"bg-orange-500",children:"Construction"});case"Facilities":return s.jsx(le,{className:"bg-blue-500",children:"Facilities"});default:return s.jsx(le,{variant:"secondary",children:E||"Other"})}};if(y)return s.jsx(nt,{title:"Gallery",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const N=(p==null?void 0:p.filter(E=>E.category==="Renders").length)||0,S=(p==null?void 0:p.filter(E=>E.category==="Construction").length)||0,C=(p==null?void 0:p.filter(E=>E.category==="Facilities").length)||0,P=(p==null?void 0:p.filter(E=>E.isActive).length)||0,k=(p==null?void 0:p.filter(E=>!E.isActive).length)||0;return s.jsx(nt,{title:"Gallery",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 via-orange-500/10 to-blue-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Gallery Management"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage gallery images shown on the website. Images should be high-quality and relevant to The Quarterdeck."}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),s.jsxs("span",{className:"text-sm",children:[N," Renders"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),s.jsxs("span",{className:"text-sm",children:[S," Construction"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsxs("span",{className:"text-sm",children:[C," Facilities"]})]}),s.jsxs("div",{className:"border-l pl-3 flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400",children:[P," Active"]}),k>0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",k," Hidden"]})]})]})]}),s.jsxs(Pt,{open:n,onOpenChange:E=>{a(E),E||(r(null),v())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-gallery-image",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Image"]})}),s.jsxs(St,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:t?"Edit Image":"Add New Image"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(fb,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Image Guidelines"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-blue-700 dark:text-blue-400",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Recommended:"}),s.jsx("p",{className:"text-xs",children:bu.dimensions.recommended})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Formats:"}),s.jsx("p",{className:"text-xs",children:bu.formats.join(", ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Max Size:"}),s.jsx("p",{className:"text-xs",children:bu.maxFileSize})]})]})]})]})}),s.jsxs(ua,{defaultValue:"url",className:"w-full",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-2",children:[s.jsxs(Bt,{value:"url",className:"flex items-center gap-2","data-testid":"tab-url",children:[s.jsx(Ok,{className:"w-4 h-4"})," URL"]}),s.jsxs(Bt,{value:"upload",className:"flex items-center gap-2","data-testid":"tab-upload",children:[s.jsx(cn,{className:"w-4 h-4"})," Upload (Testing)"]})]}),s.jsx(Vt,{value:"url",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"imageUrl",children:"Image URL"}),s.jsx(Y,{id:"imageUrl",value:d.imageUrl,onChange:E=>f({...d,imageUrl:E.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-gallery-url"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a direct link to your image. Supports any publicly accessible URL."})]})}),s.jsxs(Vt,{value:"upload",className:"space-y-4 mt-4",children:[s.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var E;return!i&&((E=u.current)==null?void 0:E.click())},children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Uploading..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while your image is being uploaded."})]}):l?s.jsxs(s.Fragment,{children:[s.jsx(yn,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),s.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),s.jsx(M,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),c(null),f(T=>({...T,imageUrl:""})),u.current&&(u.current.value="")},"data-testid":"button-clear-upload",children:"Upload Different Image"})]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop or click to browse"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Preview"}),s.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:E=>{E.target.style.display="none"}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:d.title,onChange:E=>f({...d,title:E.target.value}),placeholder:"e.g., Padel Court Construction - Week 12","data-testid":"input-gallery-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{htmlFor:"category",children:"Category"}),s.jsxs(jX,{children:[s.jsx(NX,{asChild:!0,children:s.jsx(Ts,{className:"w-4 h-4 text-muted-foreground cursor-help"})}),s.jsx(K3,{className:"max-w-xs",children:s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Renders:"})," ",bu.categories.Renders]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Construction:"})," ",bu.categories.Construction]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Facilities:"})," ",bu.categories.Facilities]})]})})]})]}),s.jsxs(Nt,{value:d.category,onValueChange:E=>f({...d,category:E}),children:[s.jsx(bt,{"data-testid":"select-gallery-category",children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"Renders",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Renders"]})}),s.jsx(ke,{value:"Construction",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Construction"]})}),s.jsx(ke,{value:"Facilities",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Facilities"]})})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:d.description,onChange:E=>f({...d,description:E.target.value}),rows:3,"data-testid":"input-gallery-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:E=>f({...d,sortOrder:parseInt(E.target.value)||0}),"data-testid":"input-gallery-sort"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isActive",checked:d.isActive,onCheckedChange:E=>f({...d,isActive:E})}),s.jsx(q,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),s.jsx(M,{onClick:j,disabled:i||m.isPending||w.isPending,"data-testid":"button-save-gallery-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[p==null?void 0:p.map(E=>s.jsxs(ne,{className:"overflow-hidden","data-testid":`card-gallery-${E.id}`,children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[E.imageUrl?s.jsx("img",{src:E.imageUrl,alt:E.title||"Gallery image",className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(ra,{className:"w-12 h-12 text-muted-foreground"})}),!E.isActive&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(le,{variant:"secondary",children:"Hidden"})})]}),s.jsxs(se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium truncate",children:E.title||"Untitled"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:E.description||"No description"})]}),_(E.category)]}),s.jsxs("div",{className:"flex justify-end gap-1 mt-3",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>b(E),"data-testid":`button-edit-gallery-${E.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this image?")&&g.mutate(E.id)},"data-testid":`button-delete-gallery-${E.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]})]},E.id)),(!p||p.length===0)&&s.jsxs("div",{className:"col-span-full text-center text-muted-foreground py-12",children:[s.jsx(ra,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No gallery images found. Add your first image to get started."})]})]})]})})}const dM=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"coming-soon",label:"Coming Soon"},{value:"about",label:"About Page"},{value:"contact",label:"Contact Page"},{value:"events",label:"Events Page"}],fM={landing:[{value:"hero",label:"Hero Background",dimensions:"1920x1080"},{value:"gallery-1",label:"Gallery Image 1",dimensions:"800x600"},{value:"gallery-2",label:"Gallery Image 2",dimensions:"800x600"},{value:"gallery-3",label:"Gallery Image 3",dimensions:"800x600"},{value:"about-bg",label:"About Section Background",dimensions:"1200x800"}],facilities:[{value:"padel-tennis",label:"Padel Tennis Header",dimensions:"1920x600"},{value:"squash",label:"Squash Courts Header",dimensions:"1920x600"},{value:"air-rifle-range",label:"Air Rifle Range Header",dimensions:"1920x600"},{value:"bridge-room",label:"Bridge Room Header",dimensions:"1920x600"},{value:"multipurpose-hall",label:"Multipurpose Hall Header",dimensions:"1920x600"}],"coming-soon":[{value:"hero",label:"Coming Soon Hero",dimensions:"1920x1080"},{value:"countdown-bg",label:"Countdown Background",dimensions:"1920x600"}],about:[{value:"hero",label:"About Hero",dimensions:"1920x600"},{value:"team",label:"Team Section Background",dimensions:"1200x800"}],contact:[{value:"hero",label:"Contact Hero",dimensions:"1920x400"},{value:"map-bg",label:"Map Background",dimensions:"1200x600"}],events:[{value:"hero",label:"Events Hero",dimensions:"1920x600"},{value:"academy-bg",label:"Academy Section",dimensions:"1200x600"}]};function WMe(){var P,k,E,T;const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=x.useRef(null),[d,f]=x.useState({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),h=async I=>{var D;const R=(D=I.target.files)==null?void 0:D[0];if(R){if(!["image/jpeg","image/png","image/webp"].includes(R.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(R.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const O=new FormData;O.append("image",R);const W=await fetch("/api/admin/upload",{method:"POST",body:O,credentials:"include"});if(!W.ok){let $="Upload failed";try{$=(await W.json()).message||$}catch{$=W.statusText||$}throw new Error($)}const A=await W.json();c({name:R.name,url:A.imageUrl}),f($=>({...$,imageUrl:A.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(O){e({title:"Upload failed",description:O.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:y}=de({queryKey:["/api/admin/site-images"]}),m=ye({mutationFn:I=>xe("POST","/api/admin/site-images",I),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),a(!1),v(),e({title:"Site image added successfully"})},onError:()=>{e({title:"Failed to add site image",variant:"destructive"})}}),w=ye({mutationFn:({id:I,data:R})=>xe("PATCH",`/api/admin/site-images/${I}`,R),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),a(!1),v(),e({title:"Site image updated successfully"})},onError:()=>{e({title:"Failed to update site image",variant:"destructive"})}}),g=ye({mutationFn:I=>xe("DELETE",`/api/admin/site-images/${I}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),e({title:"Site image deleted successfully"})},onError:()=>{e({title:"Failed to delete site image",variant:"destructive"})}}),v=()=>{f({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),r(null),c(null),u.current&&(u.current.value="")},b=I=>{r(I),f({key:I.key,imageUrl:I.imageUrl,alt:I.alt||"",title:I.title||"",description:I.description||"",page:I.page,section:I.section||"",dimensions:I.dimensions||"",isActive:I.isActive??!0,sortOrder:I.sortOrder||0}),a(!0)},j=()=>{if(!d.key||!d.imageUrl||!d.page){e({title:"Missing required fields",description:"Please fill in the key, image URL, and page.",variant:"destructive"});return}t?w.mutate({id:t.id,data:d}):m.mutate(d)},_=I=>{f(R=>({...R,page:I,section:""}))},N=I=>{var D;const R=(D=fM[d.page])==null?void 0:D.find(O=>O.value===I);f(O=>({...O,section:I,dimensions:(R==null?void 0:R.dimensions)||"",key:t?O.key:`${d.page}_${I}`}))},S=I=>{const R=dM.find(O=>O.value===I),D={landing:"bg-blue-500",facilities:"bg-green-500","coming-soon":"bg-purple-500",about:"bg-amber-500",contact:"bg-teal-500",events:"bg-rose-500"};return s.jsx(le,{className:D[I]||"bg-gray-500",children:(R==null?void 0:R.label)||I})};if(y)return s.jsx(nt,{title:"Site Images",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const C=(p==null?void 0:p.reduce((I,R)=>{const D=R.page||"other";return I[D]||(I[D]=[]),I[D].push(R),I},{}))||{};return s.jsx(nt,{title:"Site Images",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Site Images Management"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage all website images from a central location. Upload and update images for the landing page, facility pages, coming soon pages, and more."}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 rounded",children:["Landing: ",((P=C.landing)==null?void 0:P.length)||0]}),s.jsxs("span",{className:"px-2 py-1 bg-green-500/20 rounded",children:["Facilities: ",((k=C.facilities)==null?void 0:k.length)||0]}),s.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 rounded",children:["Coming Soon: ",((E=C["coming-soon"])==null?void 0:E.length)||0]})]})]}),s.jsxs(Pt,{open:n,onOpenChange:I=>{a(I),I||v()},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-site-image",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Add Site Image"]})}),s.jsxs(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:t?"Edit Site Image":"Add New Site Image"})}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"page",children:"Page *"}),s.jsxs(Nt,{value:d.page,onValueChange:_,children:[s.jsx(bt,{"data-testid":"select-site-image-page",children:s.jsx(_t,{placeholder:"Select page"})}),s.jsx(wt,{children:dM.map(I=>s.jsx(ke,{value:I.value,children:I.label},I.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"section",children:"Section"}),s.jsxs(Nt,{value:d.section,onValueChange:N,children:[s.jsx(bt,{"data-testid":"select-site-image-section",children:s.jsx(_t,{placeholder:"Select section"})}),s.jsx(wt,{children:(T=fM[d.page])==null?void 0:T.map(I=>s.jsxs(ke,{value:I.value,children:[I.label," (",I.dimensions,")"]},I.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"key",children:"Unique Key *"}),s.jsx(Y,{id:"key",value:d.key,onChange:I=>f({...d,key:I.target.value.toLowerCase().replace(/\s+/g,"_")}),placeholder:"e.g., landing_hero",disabled:!!t,"data-testid":"input-site-image-key"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This key is used to reference the image in the code."})]}),s.jsxs(ua,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-2",children:[s.jsx(Bt,{value:"upload",children:"Upload File"}),s.jsx(Bt,{value:"url",children:"Use URL"})]}),s.jsxs(Vt,{value:"url",className:"space-y-2 mt-4",children:[s.jsx(q,{htmlFor:"imageUrl",children:"Image URL *"}),s.jsx(Y,{id:"imageUrl",value:d.imageUrl,onChange:I=>f({...d,imageUrl:I.target.value}),placeholder:"https://...","data-testid":"input-site-image-url"})]}),s.jsxs(Vt,{value:"upload",className:"space-y-4 mt-4",children:[s.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var I;return!i&&((I=u.current)==null?void 0:I.click())},children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Uploading..."})]}):l?s.jsxs(s.Fragment,{children:[s.jsx(yn,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),s.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),s.jsx(M,{variant:"outline",size:"sm",onClick:I=>{I.stopPropagation(),c(null),f(R=>({...R,imageUrl:""})),u.current&&(u.current.value="")},children:"Upload Different Image"})]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Preview"}),s.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:I=>{I.target.style.display="none"}})})]}),d.dimensions&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[s.jsx(fb,{className:"w-4 h-4 text-blue-500"}),s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Recommended dimensions: ",s.jsx("strong",{children:d.dimensions})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:d.title,onChange:I=>f({...d,title:I.target.value}),placeholder:"Image title","data-testid":"input-site-image-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"alt",children:"Alt Text"}),s.jsx(Y,{id:"alt",value:d.alt,onChange:I=>f({...d,alt:I.target.value}),placeholder:"Image description for accessibility","data-testid":"input-site-image-alt"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:d.description,onChange:I=>f({...d,description:I.target.value}),rows:2,"data-testid":"input-site-image-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:I=>f({...d,sortOrder:parseInt(I.target.value)||0}),"data-testid":"input-site-image-sort"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(Kt,{id:"isActive",checked:d.isActive,onCheckedChange:I=>f({...d,isActive:I})}),s.jsx(q,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),s.jsx(M,{onClick:j,disabled:i||m.isPending||w.isPending,"data-testid":"button-save-site-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),Object.keys(C).length===0?s.jsx(ne,{className:"border-dashed",children:s.jsxs(se,{className:"py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ra,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Site Images Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Upload images to customize the look of your website. Images can be used for hero backgrounds, facility headers, gallery sections, and more."}),s.jsxs(M,{onClick:()=>a(!0),"data-testid":"button-add-first-image",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Add Your First Image"]})]}),s.jsxs("div",{className:"border-t pt-8 mt-8",children:[s.jsx("h4",{className:"font-semibold text-center mb-6",children:"Where Images Can Be Used"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[s.jsx("h5",{className:"font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Landing Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero background, gallery images, about section"}),s.jsx("p",{className:"text-xs text-blue-500 mt-2",children:"Recommended: 1920x1080 for hero"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[s.jsx("h5",{className:"font-medium text-green-700 dark:text-green-300 mb-1",children:"Facilities"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Headers for each sport facility page"}),s.jsx("p",{className:"text-xs text-green-500 mt-2",children:"Recommended: 1920x600"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[s.jsx("h5",{className:"font-medium text-purple-700 dark:text-purple-300 mb-1",children:"Coming Soon"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero and countdown backgrounds"}),s.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"Recommended: 1920x1080"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[s.jsx("h5",{className:"font-medium text-amber-700 dark:text-amber-300 mb-1",children:"About Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"About hero and team section"}),s.jsx("p",{className:"text-xs text-amber-500 mt-2",children:"Recommended: 1920x600"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-teal-500/10 border border-teal-500/20",children:[s.jsx("h5",{className:"font-medium text-teal-700 dark:text-teal-300 mb-1",children:"Contact Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact hero and map background"}),s.jsx("p",{className:"text-xs text-teal-500 mt-2",children:"Recommended: 1920x400"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-rose-500/10 border border-rose-500/20",children:[s.jsx("h5",{className:"font-medium text-rose-700 dark:text-rose-300 mb-1",children:"Events Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Events hero and academy section"}),s.jsx("p",{className:"text-xs text-rose-500 mt-2",children:"Recommended: 1920x600"})]})]})]}),s.jsxs("div",{className:"border-t pt-8 mt-8 text-center",children:[s.jsx("h4",{className:"font-semibold mb-4",children:"How It Works"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-6 text-sm text-muted-foreground max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"1"})}),s.jsx("span",{children:'Click "Add Site Image" and select a page and section'})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"2"})}),s.jsx("span",{children:"Upload your image or paste a URL"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"3"})}),s.jsx("span",{children:"Save and it appears on your website instantly"})]})]})]})]})}):Object.entries(C).map(([I,R])=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[S(I),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",R.length," images)"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:R.map(D=>s.jsxs(ne,{className:"overflow-hidden","data-testid":`card-site-image-${D.id}`,children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[D.imageUrl?s.jsx("img",{src:D.imageUrl,alt:D.alt||D.title||"Site image",className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(ra,{className:"w-12 h-12 text-muted-foreground"})}),!D.isActive&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(le,{variant:"secondary",children:"Hidden"})})]}),s.jsxs(se,{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"font-medium truncate",children:D.title||D.key}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:D.key}),D.section&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:D.section}),D.dimensions&&s.jsx("p",{className:"text-xs text-blue-500 mt-1",children:D.dimensions})]})}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsxs(M,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(D),"data-testid":`button-edit-site-image-${D.id}`,children:[s.jsx(Jr,{className:"w-3 h-3 mr-1"}),"Edit"]}),s.jsx(M,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>g.mutate(D.id),"data-testid":`button-delete-site-image-${D.id}`,children:s.jsx(hr,{className:"w-3 h-3"})})]})]})]},D.id))})]},I))]})})}function KMe(){var U,J;const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(""),[p,y]=x.useState(""),[m,w]=x.useState("all"),[g,v]=x.useState("all"),[b,j]=x.useState(!1),[_,N]=x.useState(null),S=x.useRef(null),C=async z=>{var te;const ee=(te=z.target.files)==null?void 0:te[0];if(!ee)return;if(ee.size>10*1024*1024){e({title:"File too large",description:"Maximum file size is 10MB",variant:"destructive"});return}if(!["image/jpeg","image/png","image/webp","application/pdf"].includes(ee.type)){e({title:"Invalid file type",description:"Please upload an image (JPEG, PNG, WebP) or PDF",variant:"destructive"});return}j(!0);try{const be=new FormData;be.append("file",ee);const ae=await fetch("/api/admin/bookings/upload-proof",{method:"POST",body:be,credentials:"include"});if(!ae.ok)throw new Error("Upload failed");const B=await ae.json();N({name:ee.name,url:B.url}),d(B.url),e({title:"Payment proof uploaded successfully"})}catch{e({title:"Upload failed",description:"Please try again",variant:"destructive"})}finally{j(!1)}},{data:P,isLoading:k}=de({queryKey:["/api/admin/bookings"]}),{data:E}=de({queryKey:["/api/admin/facilities"]}),T=z=>{if(!z||!E)return"Unknown";const ee=E.find(pe=>pe.id===z);return(ee==null?void 0:ee.name)||"Unknown"},I=ye({mutationFn:async({id:z,data:ee})=>await xe("PATCH",`/api/admin/bookings/${z}/payment`,ee),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Booking updated successfully"}),a(!1),r(null),c("")},onError:()=>{e({title:"Failed to update booking",variant:"destructive"})}}),R=ye({mutationFn:async({id:z,status:ee,cancelReason:pe})=>await xe("PATCH",`/api/admin/bookings/${z}/status`,{status:ee,cancelReason:pe}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Status updated successfully"}),o(!1),h("")},onError:()=>{e({title:"Failed to update status",variant:"destructive"})}}),D=()=>{t&&R.mutate({id:t.id,status:"CANCELLED",cancelReason:f})},O=()=>{t&&I.mutate({id:t.id,data:{paymentStatus:"VERIFIED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},W=()=>{t&&I.mutate({id:t.id,data:{paymentStatus:"REJECTED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},A=z=>{switch(z){case"VERIFIED":return s.jsx(le,{variant:"default",className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return s.jsx(le,{variant:"default",className:"bg-yellow-600",children:"Pending Verification"});case"REJECTED":return s.jsx(le,{variant:"destructive",children:"Rejected"});case"PENDING_PAYMENT":default:return s.jsx(le,{variant:"secondary",children:"Awaiting Payment"})}},$=(z,ee)=>z==="CONFIRMED"&&ee==="VERIFIED"?s.jsx(le,{variant:"default",className:"bg-green-600",children:"Confirmed"}):z==="CANCELLED"?s.jsx(le,{variant:"destructive",children:"Cancelled"}):ee==="VERIFIED"&&z!=="CONFIRMED"?s.jsx(le,{variant:"default",className:"bg-blue-600",children:"Payment Verified"}):ee==="PENDING_VERIFICATION"?s.jsx(le,{variant:"default",className:"bg-amber-500",children:"Tentative - Awaiting Verification"}):s.jsx(le,{variant:"secondary",children:"Tentative - Awaiting Payment"}),Q=P==null?void 0:P.filter(z=>{var ae;const ee=T(z.facilityId),pe=z.id.toLowerCase().includes(p.toLowerCase())||ee.toLowerCase().includes(p.toLowerCase())||((ae=z.userId)==null?void 0:ae.toLowerCase().includes(p.toLowerCase())),te=m==="all"||z.paymentStatus===m,be=g==="all"||z.status===g;return pe&&te&&be}),X=(P==null?void 0:P.filter(z=>z.paymentStatus==="PENDING_VERIFICATION").length)||0;return k?s.jsx(nt,{title:"Bookings Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Bookings Management",children:s.jsxs("div",{className:"space-y-6",children:[X>0&&s.jsx(ne,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:s.jsxs(se,{className:"flex items-center gap-3 p-4",children:[s.jsx(kn,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("span",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:[X," booking",X>1?"s":""," pending payment verification"]}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>w("PENDING_VERIFICATION"),className:"ml-auto","data-testid":"button-show-pending",children:"Show Pending"})]})}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-5 w-5"}),"All Bookings (",(P==null?void 0:P.length)||0,")"]})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Y,{placeholder:"Search by ID, facility, or user...",value:p,onChange:z=>y(z.target.value),className:"pl-10","data-testid":"input-search-bookings"})]})}),s.jsxs(Nt,{value:m,onValueChange:w,children:[s.jsxs(bt,{className:"w-[180px]","data-testid":"select-payment-filter",children:[s.jsx(W5,{className:"h-4 w-4 mr-2"}),s.jsx(_t,{placeholder:"Payment Status"})]}),s.jsxs(wt,{children:[s.jsx(ke,{value:"all",children:"All Payments"}),s.jsx(ke,{value:"PENDING_PAYMENT",children:"Awaiting Payment"}),s.jsx(ke,{value:"PENDING_VERIFICATION",children:"Pending Verification"}),s.jsx(ke,{value:"VERIFIED",children:"Verified"}),s.jsx(ke,{value:"REJECTED",children:"Rejected"})]})]}),s.jsxs(Nt,{value:g,onValueChange:v,children:[s.jsx(bt,{className:"w-[160px]","data-testid":"select-status-filter",children:s.jsx(_t,{placeholder:"Status"})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"all",children:"All Status"}),s.jsx(ke,{value:"PENDING",children:"Pending"}),s.jsx(ke,{value:"CONFIRMED",children:"Confirmed"}),s.jsx(ke,{value:"CANCELLED",children:"Cancelled"})]})]})]}),Q&&Q.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Booking ID"}),s.jsx(ue,{children:"Date / Time"}),s.jsx(ue,{children:"Facility"}),s.jsx(ue,{children:"Amount"}),s.jsx(ue,{children:"Payment"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{children:"Actions"})]})}),s.jsx(Dr,{children:Q.map(z=>{var ee;return s.jsxs(tt,{"data-testid":`row-booking-${z.id}`,children:[s.jsxs(ie,{className:"font-mono text-xs",children:[z.id.slice(0,8),"..."]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-sm font-medium",children:z.date}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[z.startTime," - ",z.endTime]})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-sm",children:T(z.facilityId)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",z.resourceId]})]}),s.jsx(ie,{children:s.jsxs("span",{className:"font-medium",children:["PKR ",((ee=z.totalPrice)==null?void 0:ee.toLocaleString())||0]})}),s.jsx(ie,{children:A(z.paymentStatus)}),s.jsx(ie,{children:$(z.status,z.paymentStatus)}),s.jsx(ie,{children:s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>{r(z),c(z.paymentNotes||""),d(z.paymentProofUrl||""),N(null),a(!0)},"data-testid":`button-view-${z.id}`,children:s.jsx(Zn,{className:"h-4 w-4"})})})]},z.id)})})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings found matching your filters."})]})]}),s.jsx(Pt,{open:n,onOpenChange:a,children:s.jsxs(St,{className:"max-w-2xl",children:[s.jsx(Et,{children:s.jsx(At,{children:"Booking Details"})}),t&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(q,{className:"text-xs text-muted-foreground",children:"Booking ID"}),s.jsx("p",{className:"font-mono text-sm",children:t.id})]}),s.jsxs("div",{children:[s.jsx(q,{className:"text-xs text-muted-foreground",children:"User ID"}),s.jsx("p",{className:"font-mono text-sm",children:t.userId})]}),s.jsxs("div",{children:[s.jsx(q,{className:"text-xs text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:t.date})]}),s.jsxs("div",{children:[s.jsx(q,{className:"text-xs text-muted-foreground",children:"Time"}),s.jsxs("p",{className:"font-medium",children:[t.startTime," - ",t.endTime]})]}),s.jsxs("div",{children:[s.jsx(q,{className:"text-xs text-muted-foreground",children:"Facility"}),s.jsx("p",{className:"font-medium",children:T(t.facilityId)})]}),s.jsxs("div",{children:[s.jsx(q,{className:"text-xs text-muted-foreground",children:"Resource"}),s.jsxs("p",{className:"font-medium",children:["#",t.resourceId]})]}),s.jsxs("div",{children:[s.jsx(q,{className:"text-xs text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-bold text-lg",children:["PKR ",((U=t.totalPrice)==null?void 0:U.toLocaleString())||0]})]}),s.jsxs("div",{children:[s.jsx(q,{className:"text-xs text-muted-foreground",children:"Payment Method"}),s.jsx("p",{className:"font-medium capitalize",children:((J=t.paymentMethod)==null?void 0:J.replace("_"," "))||"N/A"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx(q,{className:"text-xs text-muted-foreground",children:"Payment Status"}),s.jsx("div",{className:"mt-1",children:A(t.paymentStatus)})]}),s.jsxs("div",{children:[s.jsx(q,{className:"text-xs text-muted-foreground",children:"Booking Status"}),s.jsx("div",{className:"mt-1",children:$(t.status,t.paymentStatus)})]})]}),s.jsxs("div",{className:"mb-4 space-y-3",children:[s.jsx(q,{children:"Payment Proof"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",ref:S,onChange:C,accept:"image/jpeg,image/png,image/webp,application/pdf",className:"hidden","data-testid":"input-file-proof"}),s.jsx(M,{type:"button",variant:"outline",onClick:()=>{var z;return(z=S.current)==null?void 0:z.click()},disabled:b,className:"flex-1","data-testid":"button-upload-proof",children:b?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"h-4 w-4 mr-2 animate-spin"})," Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2"})," Upload Receipt/Screenshot"]})}),(t.paymentProofUrl||u)&&s.jsx(M,{variant:"outline",size:"icon",onClick:()=>window.open(u||t.paymentProofUrl||"","_blank"),title:"View proof document","data-testid":"button-view-proof",children:s.jsx(Jo,{className:"h-4 w-4"})})]}),_&&s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Uploaded: ",_.name]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("div",{className:"flex-1 h-px bg-border"}),s.jsx("span",{children:"or enter URL manually"}),s.jsx("div",{className:"flex-1 h-px bg-border"})]}),s.jsx(Y,{id:"paymentProofUrl",value:u,onChange:z=>{d(z.target.value),N(null)},placeholder:"Enter proof URL (receipt/transfer screenshot)","data-testid":"input-payment-proof-url"}),t.paymentProofUrl&&!u&&!_&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current: ",s.jsx("a",{href:t.paymentProofUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View existing proof"})]})]}),t.paymentVerifiedBy&&s.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Verified by: ",t.paymentVerifiedBy,t.paymentVerifiedAt&&s.jsxs(s.Fragment,{children:[" on ",Xn(new Date(t.paymentVerifiedAt),"PPp")]})]}),t.paymentStatus==="VERIFIED"&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-950 rounded-md border border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Receipt Available"}),t.receiptNumber&&s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 font-mono",children:["#",t.receiptNumber]})]}),s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>window.open(`/api/admin/bookings/${t.id}/receipt`,"_blank"),"data-testid":"button-view-receipt",children:[s.jsx(ms,{className:"h-4 w-4 mr-2"}),"View Receipt"]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"paymentNotes",children:"Admin Notes"}),s.jsx(lt,{id:"paymentNotes",value:l,onChange:z=>c(z.target.value),placeholder:"Add notes about payment verification...",rows:3,"data-testid":"textarea-payment-notes"})]})]}),(t.paymentStatus==="PENDING_VERIFICATION"||t.paymentStatus==="PENDING_PAYMENT")&&s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs(M,{onClick:O,disabled:I.isPending,className:"flex-1 bg-green-600 hover:bg-green-500","data-testid":"button-verify-payment",children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Verify Payment"]}),s.jsxs(M,{onClick:W,disabled:I.isPending,variant:"destructive",className:"flex-1","data-testid":"button-reject-payment",children:[s.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),t.status!=="CANCELLED"&&s.jsx("div",{className:"flex gap-3 pt-4 border-t",children:s.jsxs(M,{onClick:()=>{o(!0)},disabled:R.isPending,variant:"destructive","data-testid":"button-cancel-booking",children:[s.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})]})}),s.jsx(Pt,{open:i,onOpenChange:o,children:s.jsxs(St,{children:[s.jsx(Et,{children:s.jsx(At,{children:"Cancel Booking"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to cancel this booking? This action cannot be undone. The user will receive an email notification about the cancellation."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"cancelReason",children:"Cancellation Reason (Optional)"}),s.jsx(lt,{id:"cancelReason",value:f,onChange:z=>h(z.target.value),placeholder:"Reason for cancellation...",rows:3,"data-testid":"textarea-cancel-reason"})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(M,{variant:"outline",onClick:()=>{o(!1),h("")},"data-testid":"button-cancel-dialog-close",children:"Keep Booking"}),s.jsx(M,{variant:"destructive",onClick:D,disabled:R.isPending,"data-testid":"button-confirm-cancel",children:R.isPending?"Cancelling...":"Confirm Cancellation"})]})]})]})})]})})}function HMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""}),[l,c]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(""),[p,y]=x.useState(""),[m,w]=x.useState(""),[g,v]=x.useState(null),b=async(A,$,Q)=>{v(Q);try{const X=new FormData;X.append("image",A);const U=await fetch("/api/admin/upload",{method:"POST",body:X,credentials:"include"});if(!U.ok){const z=await U.json();throw new Error(z.message||"Upload failed")}const J=await U.json();J.imageUrl&&($(J.imageUrl),e({title:"Image uploaded successfully"}))}catch(X){e({title:"Upload failed",description:X.message||"Failed to upload image",variant:"destructive"})}finally{v(null)}},{data:j,isLoading:_,dataUpdatedAt:N}=de({queryKey:["/api/admin/site-settings"]}),{data:S,isLoading:C}=de({queryKey:["/api/admin/navbar-items"]}),P=A=>{var $;return(($=j==null?void 0:j.find(Q=>Q.key===A))==null?void 0:$.value)||""};x.useEffect(()=>{j&&!_&&(c(P("logo_main_url")),d(P("logo_dark_url")),h(P("favicon_url")),y(P("site_name")||"The Quarterdeck"),w(P("site_tagline")||"Sports & Recreation Complex"))},[j,_,N]);const k=ye({mutationFn:async A=>{for(const $ of A)await xe("POST","/api/admin/site-settings",$)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),re.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Branding settings saved successfully"})},onError:()=>{e({title:"Failed to save branding settings",variant:"destructive"})}}),E=ye({mutationFn:async A=>await xe("POST","/api/admin/navbar-items",A),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item created successfully"}),a(!1),R()},onError:()=>{e({title:"Failed to create navigation item",variant:"destructive"})}}),T=ye({mutationFn:async({id:A,data:$})=>await xe("PATCH",`/api/admin/navbar-items/${A}`,$),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item updated successfully"}),a(!1),r(null),R()},onError:()=>{e({title:"Failed to update navigation item",variant:"destructive"})}}),I=ye({mutationFn:async A=>await xe("DELETE",`/api/admin/navbar-items/${A}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item deleted successfully"})},onError:()=>{e({title:"Failed to delete navigation item",variant:"destructive"})}}),R=()=>{o({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""})},D=A=>{r(A),o({label:A.label,href:A.href,sortOrder:A.sortOrder,isVisible:A.isVisible,target:A.target||"_self",requiresAuth:A.requiresAuth||!1,icon:A.icon||""}),a(!0)},O=()=>{t?T.mutate({id:t.id,data:i}):E.mutate(i)},W=()=>{const A=[{key:"logo_main_url",value:l,label:"Main Logo URL",category:"branding"},{key:"logo_dark_url",value:u,label:"Dark Mode Logo URL",category:"branding"},{key:"favicon_url",value:f,label:"Favicon URL",category:"branding"},{key:"site_name",value:p,label:"Site Name",category:"branding"},{key:"site_tagline",value:m,label:"Site Tagline",category:"branding"}];k.mutate(A)};return _||C?s.jsx(nt,{title:"Branding & Navigation",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Branding & Navigation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"h-5 w-5"}),"Site Branding"]}),s.jsx(It,{children:"Customize your site logo, favicon, and branding text. Provide URLs to your logo images."})]}),s.jsxs(se,{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"siteName",children:"Site Name"}),s.jsx(Y,{id:"siteName",value:p,onChange:A=>y(A.target.value),placeholder:"The Quarterdeck","data-testid":"input-site-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"siteTagline",children:"Site Tagline"}),s.jsx(Y,{id:"siteTagline",value:m,onChange:A=>w(A.target.value),placeholder:"Sports & Recreation Complex","data-testid":"input-site-tagline"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"logoUrl",children:"Main Logo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"logoUrl",value:l,onChange:A=>c(A.target.value),placeholder:"https://example.com/logo.png or upload","data-testid":"input-logo-url",className:"flex-1"}),s.jsx(M,{variant:"outline",size:"icon",disabled:g==="logo",onClick:()=>{var A;return(A=document.getElementById("logo-upload"))==null?void 0:A.click()},"data-testid":"button-upload-logo",children:g==="logo"?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(cn,{className:"h-4 w-4"})}),s.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",className:"hidden",onChange:A=>{var Q;const $=(Q=A.target.files)==null?void 0:Q[0];$&&b($,c,"logo"),A.target.value=""}})]}),l&&s.jsxs("div",{className:"mt-2 p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),s.jsx("img",{src:l,alt:"Logo preview",className:"h-12 w-auto object-contain"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"logoDarkUrl",children:"Dark Mode Logo (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"logoDarkUrl",value:u,onChange:A=>d(A.target.value),placeholder:"https://example.com/logo-dark.png or upload","data-testid":"input-logo-dark-url",className:"flex-1"}),s.jsx(M,{variant:"outline",size:"icon",disabled:g==="logoDark",onClick:()=>{var A;return(A=document.getElementById("logo-dark-upload"))==null?void 0:A.click()},"data-testid":"button-upload-logo-dark",children:g==="logoDark"?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(cn,{className:"h-4 w-4"})}),s.jsx("input",{id:"logo-dark-upload",type:"file",accept:"image/*",className:"hidden",onChange:A=>{var Q;const $=(Q=A.target.files)==null?void 0:Q[0];$&&b($,d,"logoDark"),A.target.value=""}})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"faviconUrl",children:"Favicon"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"faviconUrl",value:f,onChange:A=>h(A.target.value),placeholder:"https://example.com/favicon.ico or upload","data-testid":"input-favicon-url",className:"flex-1"}),s.jsx(M,{variant:"outline",size:"icon",disabled:g==="favicon",onClick:()=>{var A;return(A=document.getElementById("favicon-upload"))==null?void 0:A.click()},"data-testid":"button-upload-favicon",children:g==="favicon"?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(cn,{className:"h-4 w-4"})}),s.jsx("input",{id:"favicon-upload",type:"file",accept:"image/*,.ico",className:"hidden",onChange:A=>{var Q;const $=(Q=A.target.files)==null?void 0:Q[0];$&&b($,h,"favicon"),A.target.value=""}})]})]}),s.jsxs(M,{onClick:W,disabled:k.isPending,"data-testid":"button-save-branding",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),k.isPending?"Saving...":"Save Branding Settings"]})]})]}),s.jsxs(ne,{children:[s.jsxs(Le,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(kG,{className:"h-5 w-5"}),"Navigation Items"]}),s.jsx(It,{children:"Manage the navigation links that appear in the header."})]}),s.jsxs(M,{onClick:()=>{R(),r(null),a(!0)},"data-testid":"button-add-nav-item",children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.jsx(se,{children:S&&S.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{className:"w-[50px]",children:"Order"}),s.jsx(ue,{children:"Label"}),s.jsx(ue,{children:"Link"}),s.jsx(ue,{children:"Visibility"}),s.jsx(ue,{children:"Actions"})]})}),s.jsx(Dr,{children:S.map(A=>s.jsxs(tt,{"data-testid":`row-nav-${A.id}`,children:[s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($p,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:A.sortOrder})]})}),s.jsx(ie,{className:"font-medium",children:A.label}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[A.href,A.target==="_blank"&&s.jsx(Jo,{className:"h-3 w-3"})]})}),s.jsx(ie,{children:A.isVisible?s.jsx(le,{variant:"default",className:"bg-green-600",children:"Visible"}):s.jsx(le,{variant:"secondary",children:"Hidden"})}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>D(A),"data-testid":`button-edit-nav-${A.id}`,children:s.jsx(Jr,{className:"h-4 w-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>I.mutate(A.id),"data-testid":`button-delete-nav-${A.id}`,children:s.jsx(hr,{className:"h-4 w-4"})})]})})]},A.id))})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No navigation items configured. Click "Add Item" to create one.'})})]}),s.jsx(Pt,{open:n,onOpenChange:a,children:s.jsxs(St,{children:[s.jsx(Et,{children:s.jsx(At,{children:t?"Edit Navigation Item":"Add Navigation Item"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"navLabel",children:"Label"}),s.jsx(Y,{id:"navLabel",value:i.label,onChange:A=>o({...i,label:A.target.value}),placeholder:"Home","data-testid":"input-nav-label"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"navHref",children:"Link URL"}),s.jsx(Y,{id:"navHref",value:i.href,onChange:A=>o({...i,href:A.target.value}),placeholder:"/home or https://...","data-testid":"input-nav-href"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"navOrder",children:"Sort Order"}),s.jsx(Y,{id:"navOrder",type:"number",value:i.sortOrder,onChange:A=>o({...i,sortOrder:parseInt(A.target.value)||0}),"data-testid":"input-nav-order"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"navTarget",children:"Link Target"}),s.jsxs(Nt,{value:i.target,onValueChange:A=>o({...i,target:A}),children:[s.jsx(bt,{"data-testid":"select-nav-target",children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"_self",children:"Same Window"}),s.jsx(ke,{value:"_blank",children:"New Window"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(q,{htmlFor:"navVisible",children:"Visible"}),s.jsx(Kt,{id:"navVisible",checked:i.isVisible,onCheckedChange:A=>o({...i,isVisible:A}),"data-testid":"switch-nav-visible"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(q,{htmlFor:"navAuth",children:"Requires Authentication"}),s.jsx(Kt,{id:"navAuth",checked:i.requiresAuth,onCheckedChange:A=>o({...i,requiresAuth:A}),"data-testid":"switch-nav-auth"})]}),s.jsxs(M,{className:"w-full",onClick:O,disabled:E.isPending||T.isPending,"data-testid":"button-save-nav-item",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),t?"Update Item":"Create Item"]})]})]})})]})})}var GMe=Symbol("radix.slottable");function QMe(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=GMe,t}var W9="AlertDialog",[YMe]=En(W9,[Q6]),oo=Q6(),K9=e=>{const{__scopeAlertDialog:t,...r}=e,n=oo(t);return s.jsx(O2,{...n,...r,modal:!0})};K9.displayName=W9;var XMe="AlertDialogTrigger",H9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=oo(r);return s.jsx(d8,{...a,...n,ref:t})});H9.displayName=XMe;var JMe="AlertDialogPortal",G9=e=>{const{__scopeAlertDialog:t,...r}=e,n=oo(t);return s.jsx(T2,{...n,...r})};G9.displayName=JMe;var ZMe="AlertDialogOverlay",Q9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=oo(r);return s.jsx(Hb,{...a,...n,ref:t})});Q9.displayName=ZMe;var od="AlertDialogContent",[e$e,t$e]=YMe(od),r$e=QMe("AlertDialogContent"),Y9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=oo(r),o=x.useRef(null),l=dt(t,o),c=x.useRef(null);return s.jsx(Aoe,{contentName:od,titleName:X9,docsSlug:"alert-dialog",children:s.jsx(e$e,{scope:r,cancelRef:c,children:s.jsxs(Gb,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ne(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(r$e,{children:n}),s.jsx(s$e,{contentRef:o})]})})})});Y9.displayName=od;var X9="AlertDialogTitle",J9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=oo(r);return s.jsx(I2,{...a,...n,ref:t})});J9.displayName=X9;var Z9="AlertDialogDescription",e7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=oo(r);return s.jsx(R2,{...a,...n,ref:t})});e7.displayName=Z9;var n$e="AlertDialogAction",t7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=oo(r);return s.jsx(M2,{...a,...n,ref:t})});t7.displayName=n$e;var r7="AlertDialogCancel",n7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=t$e(r7,r),i=oo(r),o=dt(t,a);return s.jsx(M2,{...i,...n,ref:o})});n7.displayName=r7;var s$e=({contentRef:e})=>{const t=`\`${od}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${od}\` by passing a \`${Z9}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${od}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},a$e=K9,i$e=H9,o$e=G9,s7=Q9,a7=Y9,i7=t7,o7=n7,l7=J9,c7=e7;const zf=a$e,aP=i$e,l$e=o$e,u7=x.forwardRef(({className:e,...t},r)=>s.jsx(s7,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));u7.displayName=s7.displayName;const zc=x.forwardRef(({className:e,...t},r)=>s.jsxs(l$e,{children:[s.jsx(u7,{}),s.jsx(a7,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));zc.displayName=a7.displayName;const Wc=({className:e,...t})=>s.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",e),...t});Wc.displayName="AlertDialogHeader";const Kc=({className:e,...t})=>s.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Kc.displayName="AlertDialogFooter";const Hc=x.forwardRef(({className:e,...t},r)=>s.jsx(l7,{ref:r,className:we("text-lg font-semibold",e),...t}));Hc.displayName=l7.displayName;const Gc=x.forwardRef(({className:e,...t},r)=>s.jsx(c7,{ref:r,className:we("text-sm text-muted-foreground",e),...t}));Gc.displayName=c7.displayName;const Qc=x.forwardRef(({className:e,...t},r)=>s.jsx(i7,{ref:r,className:we(Yk(),e),...t}));Qc.displayName=i7.displayName;const Yc=x.forwardRef(({className:e,...t},r)=>s.jsx(o7,{ref:r,className:we(Yk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Yc.displayName=o7.displayName;const c$e=pa({title:pt().min(1,"Title is required"),icon:pt().optional(),sortOrder:Wb.number().default(0),isActive:C2().default(!0)}),u$e=pa({categoryId:pt().min(1,"Category is required"),question:pt().min(1,"Question is required"),answer:pt().min(1,"Answer is required"),sortOrder:Wb.number().default(0),isActive:C2().default(!0)}),d$e=[{value:"help-circle",label:"Help Circle"},{value:"users",label:"Users"},{value:"calendar",label:"Calendar"},{value:"credit-card",label:"Credit Card"},{value:"building-2",label:"Building"},{value:"shield",label:"Shield"},{value:"clock",label:"Clock"},{value:"settings",label:"Settings"}];function f$e(){const{toast:e}=ht(),[t,r]=x.useState(!1),[n,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(!1),[f,h]=x.useState(null),[p,y]=x.useState(new Set),{data:m=[],isLoading:w}=de({queryKey:["/api/admin/faq/categories"]}),{data:g=[],isLoading:v}=de({queryKey:["/api/admin/faq/items"]}),b=Ls({resolver:Fs(c$e),defaultValues:{title:"",icon:"help-circle",sortOrder:0,isActive:!0}}),j=Ls({resolver:Fs(u$e),defaultValues:{categoryId:"",question:"",answer:"",sortOrder:0,isActive:!0}}),_=ye({mutationFn:async A=>await xe("POST","/api/admin/faq/categories",A),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category created successfully"}),r(!1),b.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),N=ye({mutationFn:async({id:A,data:$})=>await xe("PATCH",`/api/admin/faq/categories/${A}`,$),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category updated successfully"}),r(!1),o(null),b.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),S=ye({mutationFn:async A=>await xe("DELETE",`/api/admin/faq/categories/${A}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"Category deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),C=ye({mutationFn:async A=>await xe("POST","/api/admin/faq/items",A),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item created successfully"}),a(!1),j.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),P=ye({mutationFn:async({id:A,data:$})=>await xe("PATCH",`/api/admin/faq/items/${A}`,$),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item updated successfully"}),a(!1),c(null),j.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),k=ye({mutationFn:async A=>await xe("DELETE",`/api/admin/faq/items/${A}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),E=A=>{o(A),b.reset({title:A.title,icon:A.icon||"help-circle",sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),r(!0)},T=A=>{c(A),j.reset({categoryId:A.categoryId,question:A.question,answer:A.answer,sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),a(!0)},I=A=>{i?N.mutate({id:i.id,data:A}):_.mutate(A)},R=A=>{l?P.mutate({id:l.id,data:A}):C.mutate(A)},D=()=>{f&&(f.type==="category"?S.mutate(f.id):k.mutate(f.id),d(!1),h(null))},O=A=>{y($=>{const Q=new Set($);return Q.has(A)?Q.delete(A):Q.add(A),Q})},W=A=>g.filter($=>$.categoryId===A).sort(($,Q)=>($.sortOrder||0)-(Q.sortOrder||0));return w||v?s.jsx(nt,{title:"FAQ Management",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"FAQ Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-faq-management-title",children:"FAQ Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage frequently asked questions and categories"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Pt,{open:t,onOpenChange:A=>{r(A),A||(o(null),b.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{variant:"outline","data-testid":"button-add-category",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),s.jsxs(St,{children:[s.jsx(Et,{children:s.jsx(At,{children:i?"Edit Category":"Add Category"})}),s.jsx(Bs,{...b,children:s.jsxs("form",{onSubmit:b.handleSubmit(I),className:"space-y-4",children:[s.jsx(et,{control:b.control,name:"title",render:({field:A})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Title"}),s.jsx(Je,{children:s.jsx(Y,{...A,"data-testid":"input-category-title"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:b.control,name:"icon",render:({field:A})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Icon"}),s.jsxs(Nt,{onValueChange:A.onChange,value:A.value,children:[s.jsx(Je,{children:s.jsx(bt,{"data-testid":"select-category-icon",children:s.jsx(_t,{placeholder:"Select an icon"})})}),s.jsx(wt,{children:d$e.map($=>s.jsx(ke,{value:$.value,children:$.label},$.value))})]}),s.jsx(rt,{})]})}),s.jsx(et,{control:b.control,name:"sortOrder",render:({field:A})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(Y,{type:"number",...A,"data-testid":"input-category-sort-order"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:b.control,name:"isActive",render:({field:A})=>s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Je,{children:s.jsx(Kt,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-category-active"})}),s.jsx(q,{children:"Active"})]})}),s.jsxs(M,{type:"submit",className:"w-full",disabled:_.isPending||N.isPending,"data-testid":"button-save-category",children:[(_.isPending||N.isPending)&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Update":"Create"," Category"]})]})})]})]}),s.jsxs(Pt,{open:n,onOpenChange:A=>{a(A),A||(c(null),j.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-faq-item",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Add FAQ Item"]})}),s.jsxs(St,{className:"max-w-2xl",children:[s.jsx(Et,{children:s.jsx(At,{children:l?"Edit FAQ Item":"Add FAQ Item"})}),s.jsx(Bs,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(R),className:"space-y-4",children:[s.jsx(et,{control:j.control,name:"categoryId",render:({field:A})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Category"}),s.jsxs(Nt,{onValueChange:A.onChange,value:A.value,children:[s.jsx(Je,{children:s.jsx(bt,{"data-testid":"select-item-category",children:s.jsx(_t,{placeholder:"Select a category"})})}),s.jsx(wt,{children:m.map($=>s.jsx(ke,{value:$.id,children:$.title},$.id))})]}),s.jsx(rt,{})]})}),s.jsx(et,{control:j.control,name:"question",render:({field:A})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Question"}),s.jsx(Je,{children:s.jsx(Y,{...A,"data-testid":"input-item-question"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:j.control,name:"answer",render:({field:A})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Answer"}),s.jsx(Je,{children:s.jsx(lt,{...A,rows:4,"data-testid":"input-item-answer"})}),s.jsx(rt,{})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(et,{control:j.control,name:"sortOrder",render:({field:A})=>s.jsxs(Qe,{className:"flex-1",children:[s.jsx(Xe,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(Y,{type:"number",...A,"data-testid":"input-item-sort-order"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:j.control,name:"isActive",render:({field:A})=>s.jsxs(Qe,{className:"flex items-center gap-2 pt-8",children:[s.jsx(Je,{children:s.jsx(Kt,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-item-active"})}),s.jsx(q,{children:"Active"})]})})]}),s.jsxs(M,{type:"submit",className:"w-full",disabled:C.isPending||P.isPending,"data-testid":"button-save-item",children:[(C.isPending||P.isPending)&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),l?"Update":"Create"," FAQ Item"]})]})})]})]})]})]}),m.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(Ts,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQ Categories"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first category to start adding FAQ items."})]})}):s.jsx("div",{className:"space-y-4",children:m.sort((A,$)=>(A.sortOrder||0)-($.sortOrder||0)).map(A=>s.jsxs(ne,{className:"overflow-visible","data-testid":`card-category-${A.id}`,children:[s.jsx(Le,{className:"cursor-pointer",onClick:()=>O(A.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p.has(A.id)?s.jsx(gc,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(la,{className:"w-5 h-5 text-muted-foreground"}),s.jsx(We,{className:"text-lg",children:A.title}),!A.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Inactive"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",W(A.id).length," items)"]})]}),s.jsxs("div",{className:"flex gap-2",onClick:$=>$.stopPropagation(),children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>E(A),"data-testid":`button-edit-category-${A.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{h({type:"category",id:A.id}),d(!0)},"data-testid":`button-delete-category-${A.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})]})}),p.has(A.id)&&s.jsx(se,{className:"pt-0",children:W(A.id).length===0?s.jsx("p",{className:"text-muted-foreground text-sm py-4",children:"No FAQ items in this category."}):s.jsx("div",{className:"space-y-2",children:W(A.id).map($=>s.jsxs("div",{className:"border rounded-md p-4 flex items-start justify-between gap-4","data-testid":`item-faq-${$.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:$.question}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:$.answer}),!$.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded mt-2 inline-block",children:"Inactive"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>T($),"data-testid":`button-edit-item-${$.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{h({type:"item",id:$.id}),d(!0)},"data-testid":`button-delete-item-${$.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})]},$.id))})})]},A.id))}),s.jsx(zf,{open:u,onOpenChange:d,children:s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Are you sure?"}),s.jsx(Gc,{children:(f==null?void 0:f.type)==="category"?"This will delete the category and all its FAQ items. This action cannot be undone.":"This will delete the FAQ item. This action cannot be undone."})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Qc,{onClick:D,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})})}const yh={dimensions:{recommended:"800 x 800 px (1:1 square)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",dpi:"72-150 DPI (web optimized)",tips:["Use a well-lit, clear photo of the face","Avoid filters or heavy editing","Ensure the face is centered in the frame","Use a neutral or solid background if possible","Live selfie or camera capture is acceptable"]};function h$e(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(""),[l,c]=x.useState(!1),[u,d]=x.useState(null),f=x.useRef(null),[h,p]=x.useState({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),{data:y,isLoading:m}=de({queryKey:["/api/admin/users"]}),{data:w}=de({queryKey:["/api/auth/user"]}),g=(w==null?void 0:w.role)==="SUPER_ADMIN",v=ye({mutationFn:async({id:k,data:E})=>await xe("PATCH",`/api/admin/users/${k}`,E),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Member updated successfully"}),a(!1),r(null),b()},onError:k=>{e({title:"Failed to update member",description:k.message||"An error occurred",variant:"destructive"})}}),b=()=>{p({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),d(null),f.current&&(f.current.value="")},j=async k=>{var T;const E=(T=k.target.files)==null?void 0:T[0];if(E){if(!["image/jpeg","image/png","image/webp"].includes(E.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(E.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const I=new FormData;I.append("image",E);const R=await fetch("/api/admin/upload",{method:"POST",body:I,credentials:"include"});if(!R.ok){let O="Upload failed";try{O=(await R.json()).message||O}catch{O=R.statusText||O}throw new Error(O)}const D=await R.json();d({name:E.name,url:D.imageUrl}),p(O=>({...O,profileImageUrl:D.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Profile photo has been uploaded."})}catch(I){e({title:"Upload failed",description:I.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1),f.current&&(f.current.value="")}}},_=k=>{r(k),p({firstName:k.firstName||"",lastName:k.lastName||"",phone:k.phone||"",profileImageUrl:k.profileImageUrl||"",role:k.role,isSafetyCertified:k.isSafetyCertified||!1,hasSignedWaiver:k.hasSignedWaiver||!1}),d(null),f.current&&(f.current.value=""),a(!0)},N=()=>{t&&v.mutate({id:t.id,data:h})},S=y==null?void 0:y.filter(k=>{var I,R;if(!i)return!0;const E=i.toLowerCase();return`${k.firstName||""} ${k.lastName||""}`.toLowerCase().includes(E)||((I=k.email)==null?void 0:I.toLowerCase().includes(E))||((R=k.phone)==null?void 0:R.toLowerCase().includes(E))}),C=k=>{switch(k){case"SUPER_ADMIN":return"destructive";case"ADMIN":return"default";default:return"secondary"}},P=k=>{var I,R,D;const E=((I=k.firstName)==null?void 0:I.charAt(0))||"",T=((R=k.lastName)==null?void 0:R.charAt(0))||"";return(E+T).toUpperCase()||((D=k.email)==null?void 0:D.charAt(0).toUpperCase())||"?"};return s.jsx(nt,{title:"Members Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-members-title",children:"Members Management"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage member profiles, certifications, and profile photos"})]})}),s.jsxs(ne,{children:[s.jsxs(Le,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-4",children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"w-5 h-5"}),"All Members (",(S==null?void 0:S.length)||0,")"]}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Dp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Y,{placeholder:"Search by name, email, phone...",value:i,onChange:k=>o(k.target.value),className:"pl-9","data-testid":"input-member-search"})]})]}),s.jsx(se,{children:m?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{className:"w-16",children:"Photo"}),s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Email"}),s.jsx(ue,{children:"Phone"}),s.jsx(ue,{children:"Role"}),s.jsx(ue,{children:"Certifications"}),s.jsx(ue,{className:"w-20",children:"Actions"})]})}),s.jsxs(Dr,{children:[S==null?void 0:S.map(k=>s.jsxs(tt,{"data-testid":`row-member-${k.id}`,children:[s.jsx(ie,{children:s.jsxs(Id,{className:"w-10 h-10",children:[s.jsx(Rd,{src:k.profileImageUrl||void 0,alt:`${k.firstName} ${k.lastName}`}),s.jsx(Md,{children:P(k)})]})}),s.jsx(ie,{className:"font-medium",children:k.firstName||k.lastName?`${k.firstName||""} ${k.lastName||""}`.trim():s.jsx("span",{className:"text-muted-foreground",children:"Not set"})}),s.jsx(ie,{children:k.email||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ie,{children:k.phone||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ie,{children:s.jsx(le,{variant:C(k.role),children:k.role})}),s.jsx(ie,{children:s.jsxs("div",{className:"flex gap-1",children:[k.isSafetyCertified&&s.jsx(le,{variant:"outline",className:"text-xs",children:"Safety"}),k.hasSignedWaiver&&s.jsx(le,{variant:"outline",className:"text-xs",children:"Waiver"}),!k.isSafetyCertified&&!k.hasSignedWaiver&&s.jsx("span",{className:"text-muted-foreground text-sm",children:"None"})]})}),s.jsx(ie,{children:s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>_(k),"data-testid":`button-edit-member-${k.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})})})]},k.id)),(S==null?void 0:S.length)===0&&s.jsx(tt,{children:s.jsx(ie,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No members found"})})]})]})})]}),s.jsx(Pt,{open:n,onOpenChange:k=>{a(k),k||(r(null),b())},children:s.jsxs(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:"Edit Member Profile"})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(q,{className:"text-base font-medium flex items-center gap-2",children:[s.jsx(V5,{className:"w-4 h-4"}),"Profile Photo"]}),s.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(Id,{className:"w-20 h-20",children:[s.jsx(Rd,{src:h.profileImageUrl||void 0}),s.jsx(Md,{className:"text-xl",children:t?P(t):"?"})]}),s.jsx("div",{className:"flex-1 space-y-3",children:s.jsxs(ua,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-2",children:[s.jsxs(Bt,{value:"upload","data-testid":"tab-upload",children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Upload"]}),s.jsxs(Bt,{value:"url","data-testid":"tab-url",children:[s.jsx(ra,{className:"w-4 h-4 mr-2"}),"URL"]})]}),s.jsxs(Vt,{value:"upload",className:"space-y-3 mt-3",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:j,className:"hidden","data-testid":"input-member-image-file"}),s.jsx(M,{type:"button",variant:"outline",onClick:()=>{var k;return(k=f.current)==null?void 0:k.click()},disabled:l,className:"w-full","data-testid":"button-upload-member-image",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Choose File or Take Selfie"]})}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(yn,{className:"w-4 h-4"}),u.name]})]}),s.jsx(Vt,{value:"url",className:"space-y-3 mt-3",children:s.jsx(Y,{value:h.profileImageUrl,onChange:k=>p({...h,profileImageUrl:k.target.value}),placeholder:"Enter image URL...","data-testid":"input-member-image-url"})})]})})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(fb,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Image Guidelines:"}),s.jsxs("ul",{className:"list-disc ml-4 space-y-0.5",children:[s.jsxs("li",{children:["Dimensions: ",yh.dimensions.recommended]}),s.jsxs("li",{children:["Formats: ",yh.formats.join(", ")]}),s.jsxs("li",{children:["Max size: ",yh.maxFileSize]}),s.jsxs("li",{children:["DPI: ",yh.dpi]})]}),s.jsx("p",{className:"font-medium mt-2",children:"Tips:"}),s.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:yh.tips.map((k,E)=>s.jsx("li",{children:k},E))})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"firstName",children:"First Name"}),s.jsx(Y,{id:"firstName",value:h.firstName,onChange:k=>p({...h,firstName:k.target.value}),"data-testid":"input-member-firstname"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"lastName",children:"Last Name"}),s.jsx(Y,{id:"lastName",value:h.lastName,onChange:k=>p({...h,lastName:k.target.value}),"data-testid":"input-member-lastname"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Y,{id:"phone",value:h.phone,onChange:k=>p({...h,phone:k.target.value}),placeholder:"+92 300 1234567","data-testid":"input-member-phone"})]}),g?s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"role",children:"Role"}),s.jsxs(Nt,{value:h.role,onValueChange:k=>p({...h,role:k}),children:[s.jsx(bt,{"data-testid":"select-member-role",children:s.jsx(_t,{placeholder:"Select role..."})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"USER",children:"User"}),s.jsx(ke,{value:"ADMIN",children:"Admin"}),s.jsx(ke,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Role"}),s.jsxs("div",{className:"flex items-center gap-2 h-9 px-3 rounded-md border bg-muted/50",children:[s.jsx(le,{variant:C(h.role),children:h.role}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Only super admins can change roles)"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{className:"text-base font-medium",children:"Certifications"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(q,{htmlFor:"safetyCertified",className:"font-normal",children:"Safety Certified"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has completed safety training"})]}),s.jsx(Kt,{id:"safetyCertified",checked:h.isSafetyCertified,onCheckedChange:k=>p({...h,isSafetyCertified:k}),"data-testid":"switch-safety-certified"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(q,{htmlFor:"signedWaiver",className:"font-normal",children:"Signed Waiver"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has signed liability waiver"})]}),s.jsx(Kt,{id:"signedWaiver",checked:h.hasSignedWaiver,onCheckedChange:k=>p({...h,hasSignedWaiver:k}),"data-testid":"switch-signed-waiver"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),s.jsxs(M,{onClick:N,disabled:v.isPending,"data-testid":"button-save-member",children:[v.isPending&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})]})})}const Uj=[{key:"instagram",label:"Instagram",icon:Vce,placeholder:"https://instagram.com/yourpage"},{key:"facebook",label:"Facebook",icon:NU,placeholder:"https://facebook.com/yourpage"},{key:"youtube",label:"YouTube",icon:Wce,placeholder:"https://youtube.com/@yourchannel"},{key:"twitter",label:"Twitter/X",icon:_U,placeholder:"https://twitter.com/yourhandle"},{key:"linkedin",label:"LinkedIn",icon:qce,placeholder:"https://linkedin.com/company/yourcompany"}];function m$e(){const{toast:e}=ht(),[t,r]=x.useState(""),[n,a]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState({}),[f,h]=x.useState(""),[p,y]=x.useState(!1),[m,w]=x.useState(""),{data:g,isLoading:v}=de({queryKey:["/api/admin/site-settings"]}),b=P=>{var k;return((k=g==null?void 0:g.find(E=>E.key===P))==null?void 0:k.value)||""};x.useEffect(()=>{if(g&&!v){r(b("email")),a(b("phone")),o(b("address")),c(b("operating_hours"));const P={};Uj.forEach(k=>{P[k.key]=b(k.key)}),d(P),h(b("whatsapp_phone")),y(b("whatsapp_button_visible")==="true"),w(b("whatsapp_message"))}},[g,v]);const j=ye({mutationFn:async P=>{for(const k of P)await xe("POST","/api/admin/site-settings",k)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),re.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Settings saved successfully"})},onError:()=>{e({title:"Failed to save settings",variant:"destructive"})}}),_=()=>{j.mutate([{key:"email",value:t,label:"Contact Email",category:"contact"},{key:"phone",value:n,label:"Contact Phone",category:"contact"},{key:"address",value:i,label:"Contact Address",category:"contact"},{key:"operating_hours",value:l,label:"Operating Hours",category:"contact"}])},N=()=>{const P=Uj.map(k=>({key:k.key,value:u[k.key]||"",label:`${k.label} URL`,category:"social"}));j.mutate(P)},S=()=>{j.mutate([{key:"whatsapp_phone",value:f,label:"WhatsApp Phone",category:"whatsapp"},{key:"whatsapp_button_visible",value:p?"true":"false",label:"WhatsApp Button Visible",category:"whatsapp"},{key:"whatsapp_message",value:m,label:"WhatsApp Default Message",category:"whatsapp"}])},C=(P,k)=>{d(E=>({...E,[P]:k}))};return v?s.jsx(nt,{title:"Site Settings",children:s.jsx("div",{className:"p-6",children:"Loading..."})}):s.jsx(nt,{title:"Site Settings",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Site Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage contact information, social media links, and WhatsApp settings"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(tN,{className:"h-5 w-5"}),"Contact Information"]}),s.jsx(It,{children:"Update your business contact details displayed on the Contact page and footer"})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(q,{htmlFor:"email",className:"flex items-center gap-2",children:[s.jsx(xf,{className:"h-4 w-4"}),"Email Address"]}),s.jsx(Y,{id:"email",type:"email",value:t,onChange:P=>r(P.target.value),placeholder:"info@thequarterdeck.pk","data-testid":"input-contact-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(q,{htmlFor:"phone",className:"flex items-center gap-2",children:[s.jsx(jm,{className:"h-4 w-4"}),"Phone Number"]}),s.jsx(Y,{id:"phone",value:n,onChange:P=>a(P.target.value),placeholder:"+92 51 1234567","data-testid":"input-contact-phone"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(q,{htmlFor:"address",className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-4 w-4"}),"Address"]}),s.jsx(lt,{id:"address",value:i,onChange:P=>o(P.target.value),placeholder:"Sector F-7, Islamabad, Pakistan",rows:2,"data-testid":"input-contact-address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(q,{htmlFor:"hours",className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),"Operating Hours"]}),s.jsx(lt,{id:"hours",value:l,onChange:P=>c(P.target.value),placeholder:"Mon-Fri: 6:00 AM - 11:00 PM | Sat-Sun: 7:00 AM - 10:00 PM",rows:2,"data-testid":"input-operating-hours"})]}),s.jsxs(M,{onClick:_,disabled:j.isPending,className:"w-full","data-testid":"button-save-contact",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Save Contact Info"]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(tN,{className:"h-5 w-5"}),"Social Media Links"]}),s.jsx(It,{children:"Manage your social media URLs shown in the footer and Contact page"})]}),s.jsxs(se,{className:"space-y-4",children:[Uj.map(P=>{const k=P.icon;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(q,{htmlFor:P.key,className:"flex items-center gap-2",children:[s.jsx(k,{className:"h-4 w-4"}),P.label]}),s.jsx(Y,{id:P.key,value:u[P.key]||"",onChange:E=>C(P.key,E.target.value),placeholder:P.placeholder,"data-testid":`input-${P.key}`})]},P.key)}),s.jsxs(M,{onClick:N,disabled:j.isPending,className:"w-full","data-testid":"button-save-social",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Save Social Links"]})]})]}),s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(zce,{className:"h-5 w-5 text-green-500"}),"WhatsApp Button"]}),s.jsx(It,{children:"Configure the floating WhatsApp button for quick customer contact"})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(q,{htmlFor:"whatsapp-visible",className:"flex items-center gap-2",children:"Show WhatsApp Button"}),s.jsx(Kt,{id:"whatsapp-visible",checked:p,onCheckedChange:y,"data-testid":"switch-whatsapp-visible"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(q,{htmlFor:"whatsapp-phone",className:"flex items-center gap-2",children:[s.jsx(jm,{className:"h-4 w-4"}),"WhatsApp Phone Number"]}),s.jsx(Y,{id:"whatsapp-phone",value:f,onChange:P=>h(P.target.value),placeholder:"+92 300 1234567 (include country code)","data-testid":"input-whatsapp-phone"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Include country code, e.g., +92 for Pakistan"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(q,{htmlFor:"whatsapp-message",className:"flex items-center gap-2",children:[s.jsx(Tk,{className:"h-4 w-4"}),"Default Message (Optional)"]}),s.jsx(lt,{id:"whatsapp-message",value:m,onChange:P=>w(P.target.value),placeholder:"Hello! I'd like to inquire about...",rows:2,"data-testid":"input-whatsapp-message"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pre-filled message when users click the WhatsApp button"})]}),s.jsxs(M,{onClick:S,disabled:j.isPending,className:"w-full","data-testid":"button-save-whatsapp",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Save WhatsApp Settings"]})]})]})]})]})]})})}const p$e={landing:"Landing Page",facilities:"Facilities",membership:"Membership",events:"Events",contact:"Contact",careers:"Careers",gallery:"Gallery",roadmap:"Roadmap",faq:"FAQ",rules:"Rules",leaderboard:"Leaderboard"};function g$e(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState({}),[i,o]=x.useState(null),{data:l,isLoading:c}=de({queryKey:["/api/admin/hero-sections"]});x.useEffect(()=>{if(l){const y={};l.forEach(m=>{y[m.id]={...m}}),a(y)}},[l]);const u=ye({mutationFn:async({id:y,data:m})=>await xe("PATCH",`/api/admin/hero-sections/${y}`,m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/hero-sections"]}),re.invalidateQueries({queryKey:["/api/hero-sections"]}),e({title:"Hero section updated successfully"})},onError:()=>{e({title:"Failed to update hero section",variant:"destructive"})}}),d=async(y,m)=>{o(y);try{const w=new FormData;w.append("image",m);const g=await fetch("/api/admin/upload",{method:"POST",body:w,credentials:"include"});if(!g.ok){const b=await g.json();throw new Error(b.message||"Upload failed")}const v=await g.json();v.imageUrl&&(a(b=>({...b,[y]:{...b[y],backgroundImageUrl:v.imageUrl}})),e({title:"Image uploaded successfully"}))}catch(w){e({title:"Upload failed",description:w.message||"Failed to upload image",variant:"destructive"})}finally{o(null)}},f=(y,m,w)=>{a(g=>({...g,[y]:{...g[y],[m]:w}}))},h=y=>{const m=n[y];m&&u.mutate({id:y,data:m})},p=y=>{var w;const m=((w=n[y])==null?void 0:w.isActive)??!0;u.mutate({id:y,data:{isActive:!m}})};return c?s.jsx(nt,{title:"Hero Sections",children:s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsx(Te,{className:"h-6 w-6 animate-spin"})})}):s.jsx(nt,{title:"Hero Sections",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Hero Sections"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage hero banners for each page. Toggle visibility, update content, and customize appearance."})]}),s.jsxs("div",{className:"space-y-4",children:[l==null?void 0:l.map(y=>{const m=t===y.id,w=n[y.id]||y,g=w.isActive??!0;return s.jsxs(ne,{className:g?"":"opacity-60",children:[s.jsx(Le,{className:"cursor-pointer",onClick:()=>r(m?null:y.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ra,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx(We,{className:"text-lg",children:p$e[y.page]||y.page}),s.jsx(It,{children:y.title})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{variant:g?"default":"secondary",children:g?"Visible":"Hidden"}),s.jsx(M,{variant:"ghost",size:"icon",onClick:v=>{v.stopPropagation(),p(y.id)},"data-testid":`button-toggle-hero-${y.page}`,children:g?s.jsx(Zn,{className:"h-4 w-4"}):s.jsx(Wi,{className:"h-4 w-4"})}),m?s.jsx(gc,{className:"h-4 w-4"}):s.jsx(la,{className:"h-4 w-4"})]})]})}),m&&s.jsxs(se,{className:"space-y-4 pt-0",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Title"}),s.jsx(Y,{value:w.title||"",onChange:v=>f(y.id,"title",v.target.value),placeholder:"Hero title","data-testid":`input-hero-title-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Subtitle"}),s.jsx(Y,{value:w.subtitle||"",onChange:v=>f(y.id,"subtitle",v.target.value),placeholder:"Hero subtitle","data-testid":`input-hero-subtitle-${y.page}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Description"}),s.jsx(lt,{value:w.description||"",onChange:v=>f(y.id,"description",v.target.value),placeholder:"Optional description text",rows:2,"data-testid":`input-hero-description-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Background Image URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:w.backgroundImageUrl||"",onChange:v=>f(y.id,"backgroundImageUrl",v.target.value),placeholder:"https://example.com/image.jpg or upload",className:"flex-1","data-testid":`input-hero-image-${y.page}`}),s.jsx(M,{variant:"outline",size:"icon",disabled:i===y.id,onClick:()=>{var v;return(v=document.getElementById(`hero-upload-${y.id}`))==null?void 0:v.click()},"data-testid":`button-upload-hero-${y.page}`,children:i===y.id?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(cn,{className:"h-4 w-4"})}),s.jsx("input",{id:`hero-upload-${y.id}`,type:"file",accept:"image/*",className:"hidden",onChange:v=>{var j;const b=(j=v.target.files)==null?void 0:j[0];b&&d(y.id,b),v.target.value=""}})]}),w.backgroundImageUrl&&s.jsx("div",{className:"mt-2 rounded-lg overflow-hidden h-32 bg-muted",children:s.jsx("img",{src:w.backgroundImageUrl,alt:"Preview",className:"w-full h-full object-cover"})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Primary CTA Text"}),s.jsx(Y,{value:w.ctaText||"",onChange:v=>f(y.id,"ctaText",v.target.value),placeholder:"Explore Now","data-testid":`input-hero-cta-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Primary CTA Link"}),s.jsx(Y,{value:w.ctaLink||"",onChange:v=>f(y.id,"ctaLink",v.target.value),placeholder:"/facilities","data-testid":`input-hero-cta-link-${y.page}`})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Secondary CTA Text"}),s.jsx(Y,{value:w.ctaSecondaryText||"",onChange:v=>f(y.id,"ctaSecondaryText",v.target.value),placeholder:"Learn More","data-testid":`input-hero-cta2-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Secondary CTA Link"}),s.jsx(Y,{value:w.ctaSecondaryLink||"",onChange:v=>f(y.id,"ctaSecondaryLink",v.target.value),placeholder:"/about","data-testid":`input-hero-cta2-link-${y.page}`})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Alignment"}),s.jsxs(Nt,{value:w.alignment||"center",onValueChange:v=>f(y.id,"alignment",v),children:[s.jsx(bt,{"data-testid":`select-hero-alignment-${y.page}`,children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"left",children:"Left"}),s.jsx(ke,{value:"center",children:"Center"}),s.jsx(ke,{value:"right",children:"Right"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Height"}),s.jsxs(Nt,{value:w.height||"large",onValueChange:v=>f(y.id,"height",v),children:[s.jsx(bt,{"data-testid":`select-hero-height-${y.page}`,children:s.jsx(_t,{})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"small",children:"Small"}),s.jsx(ke,{value:"medium",children:"Medium"}),s.jsx(ke,{value:"large",children:"Large"}),s.jsx(ke,{value:"full",children:"Full Screen"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(q,{children:["Overlay Opacity (",w.overlayOpacity||50,"%)"]}),s.jsx(Y,{type:"range",min:"0",max:"100",value:w.overlayOpacity||50,onChange:v=>f(y.id,"overlayOpacity",parseInt(v.target.value)),className:"h-9","data-testid":`input-hero-overlay-${y.page}`})]})]}),s.jsxs(M,{onClick:()=>h(y.id),disabled:u.isPending,className:"w-full","data-testid":`button-save-hero-${y.page}`,children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]},y.id)}),(!l||l.length===0)&&s.jsx(ne,{children:s.jsx(se,{className:"p-8 text-center text-muted-foreground",children:"No hero sections found. Hero sections are created automatically when pages are first accessed."})})]})]})})}const hM=[{value:"default",label:"Default"},{value:"gradient",label:"Gradient"},{value:"image",label:"With Image"},{value:"minimal",label:"Minimal"}],Bj=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"membership",label:"Membership"},{value:"events",label:"Events"},{value:"contact",label:"Contact"},{value:"footer",label:"Footer"},{value:"global",label:"Global (All Pages)"}];function v$e(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState({}),[i,o]=x.useState(null),[l,c]=x.useState(!1),[u,d]=x.useState({key:"",title:"",subtitle:"",description:"",buttonText:"",buttonLink:"",secondaryButtonText:"",secondaryButtonLink:"",page:"landing",section:"",style:"default",isActive:!0}),{data:f,isLoading:h}=de({queryKey:["/api/admin/ctas"]});x.useEffect(()=>{if(f){const j={};f.forEach(_=>{j[_.id]={..._}}),a(j)}},[f]);const p=ye({mutationFn:async({id:j,data:_})=>await xe("PATCH",`/api/admin/ctas/${j}`,_),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),re.invalidateQueries({queryKey:["/api/ctas"]}),e({title:"CTA updated successfully"})},onError:()=>{e({title:"Failed to update CTA",variant:"destructive"})}}),y=ye({mutationFn:async j=>await xe("POST","/api/admin/ctas",j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),c(!1),d({key:"",title:"",subtitle:"",description:"",buttonText:"",buttonLink:"",secondaryButtonText:"",secondaryButtonLink:"",page:"landing",section:"",style:"default",isActive:!0}),e({title:"CTA created successfully"})},onError:()=>{e({title:"Failed to create CTA",variant:"destructive"})}}),m=ye({mutationFn:async j=>await xe("DELETE",`/api/admin/ctas/${j}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),e({title:"CTA deleted successfully"})},onError:()=>{e({title:"Failed to delete CTA",variant:"destructive"})}}),w=async(j,_)=>{o(j);try{const N=new FormData;N.append("image",_);const S=await fetch("/api/admin/upload",{method:"POST",body:N,credentials:"include"});if(!S.ok){const P=await S.json();throw new Error(P.message||"Upload failed")}const C=await S.json();C.imageUrl&&(a(P=>({...P,[j]:{...P[j],backgroundImageUrl:C.imageUrl}})),e({title:"Image uploaded successfully"}))}catch(N){e({title:"Upload failed",description:N.message||"Failed to upload image",variant:"destructive"})}finally{o(null)}},g=(j,_,N)=>{a(S=>({...S,[j]:{...S[j],[_]:N}}))},v=j=>{const _=n[j];_&&p.mutate({id:j,data:_})},b=j=>{var N;const _=((N=n[j])==null?void 0:N.isActive)??!0;p.mutate({id:j,data:{isActive:!_}})};return h?s.jsx(nt,{title:"CTAs",children:s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsx(Te,{className:"h-6 w-6 animate-spin"})})}):s.jsx(nt,{title:"CTAs",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Call-to-Action Buttons"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage CTA buttons and links throughout the site. Edit button text, URLs, and styling."})]}),s.jsxs(Pt,{open:l,onOpenChange:c,children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-cta",children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),"Add CTA"]})}),s.jsxs(St,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:"Create New CTA"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Key (unique identifier)"}),s.jsx(Y,{value:u.key,onChange:j=>d({...u,key:j.target.value}),placeholder:"e.g., landing-membership","data-testid":"input-new-cta-key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Page"}),s.jsxs(Nt,{value:u.page,onValueChange:j=>d({...u,page:j}),children:[s.jsx(bt,{"data-testid":"select-new-cta-page",children:s.jsx(_t,{})}),s.jsx(wt,{children:Bj.map(j=>s.jsx(ke,{value:j.value,children:j.label},j.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Title"}),s.jsx(Y,{value:u.title,onChange:j=>d({...u,title:j.target.value}),placeholder:"CTA Title","data-testid":"input-new-cta-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Subtitle"}),s.jsx(Y,{value:u.subtitle,onChange:j=>d({...u,subtitle:j.target.value}),placeholder:"Optional subtitle","data-testid":"input-new-cta-subtitle"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Primary Button Text"}),s.jsx(Y,{value:u.buttonText,onChange:j=>d({...u,buttonText:j.target.value}),placeholder:"Get Started","data-testid":"input-new-cta-button-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Primary Button Link"}),s.jsx(Y,{value:u.buttonLink,onChange:j=>d({...u,buttonLink:j.target.value}),placeholder:"/membership","data-testid":"input-new-cta-button-link"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Secondary Button Text"}),s.jsx(Y,{value:u.secondaryButtonText,onChange:j=>d({...u,secondaryButtonText:j.target.value}),placeholder:"Learn More","data-testid":"input-new-cta-secondary-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Secondary Button Link"}),s.jsx(Y,{value:u.secondaryButtonLink,onChange:j=>d({...u,secondaryButtonLink:j.target.value}),placeholder:"/about","data-testid":"input-new-cta-secondary-link"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Style"}),s.jsxs(Nt,{value:u.style,onValueChange:j=>d({...u,style:j}),children:[s.jsx(bt,{"data-testid":"select-new-cta-style",children:s.jsx(_t,{})}),s.jsx(wt,{children:hM.map(j=>s.jsx(ke,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs(M,{onClick:()=>y.mutate(u),disabled:!u.key||!u.title||y.isPending,className:"w-full","data-testid":"button-create-cta",children:[y.isPending?s.jsx(Te,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create CTA"]})]})]})]})]}),(!f||f.length===0)&&s.jsx(ne,{children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx(XE,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No CTAs Yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first call-to-action button to get started."}),s.jsxs(M,{onClick:()=>c(!0),children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),"Add CTA"]})]})}),s.jsx("div",{className:"space-y-4",children:f==null?void 0:f.map(j=>{var C;const _=t===j.id,N=n[j.id]||j,S=N.isActive??!0;return s.jsxs(ne,{className:S?"":"opacity-60",children:[s.jsx(Le,{className:"cursor-pointer",onClick:()=>r(_?null:j.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(XE,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs(We,{className:"text-lg flex items-center gap-2",children:[j.title,s.jsx(le,{variant:"outline",className:"font-mono text-xs",children:j.key})]}),s.jsxs(It,{className:"flex items-center gap-2",children:[s.jsx("span",{children:((C=Bj.find(P=>P.value===j.page))==null?void 0:C.label)||j.page}),j.buttonLink&&s.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[s.jsx(Ok,{className:"h-3 w-3"}),j.buttonLink]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{variant:S?"default":"secondary",children:S?"Active":"Inactive"}),s.jsx(M,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),b(j.id)},"data-testid":`button-toggle-cta-${j.key}`,children:S?s.jsx(Zn,{className:"h-4 w-4"}):s.jsx(Wi,{className:"h-4 w-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),confirm("Are you sure you want to delete this CTA?")&&m.mutate(j.id)},"data-testid":`button-delete-cta-${j.key}`,children:s.jsx(hr,{className:"h-4 w-4 text-destructive"})}),_?s.jsx(gc,{className:"h-4 w-4"}):s.jsx(la,{className:"h-4 w-4"})]})]})}),_&&s.jsxs(se,{className:"space-y-6 pt-0",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Title"}),s.jsx(Y,{value:N.title||"",onChange:P=>g(j.id,"title",P.target.value),"data-testid":`input-cta-title-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Subtitle"}),s.jsx(Y,{value:N.subtitle||"",onChange:P=>g(j.id,"subtitle",P.target.value),"data-testid":`input-cta-subtitle-${j.key}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Description"}),s.jsx(lt,{value:N.description||"",onChange:P=>g(j.id,"description",P.target.value),"data-testid":`textarea-cta-description-${j.key}`})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Primary Button Text"}),s.jsx(Y,{value:N.buttonText||"",onChange:P=>g(j.id,"buttonText",P.target.value),placeholder:"e.g., Get Started","data-testid":`input-cta-button-text-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Primary Button Link"}),s.jsx(Y,{value:N.buttonLink||"",onChange:P=>g(j.id,"buttonLink",P.target.value),placeholder:"e.g., /membership","data-testid":`input-cta-button-link-${j.key}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Secondary Button Text"}),s.jsx(Y,{value:N.secondaryButtonText||"",onChange:P=>g(j.id,"secondaryButtonText",P.target.value),placeholder:"e.g., Learn More","data-testid":`input-cta-secondary-text-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Secondary Button Link"}),s.jsx(Y,{value:N.secondaryButtonLink||"",onChange:P=>g(j.id,"secondaryButtonLink",P.target.value),placeholder:"e.g., /about","data-testid":`input-cta-secondary-link-${j.key}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Page"}),s.jsxs(Nt,{value:N.page||"landing",onValueChange:P=>g(j.id,"page",P),children:[s.jsx(bt,{"data-testid":`select-cta-page-${j.key}`,children:s.jsx(_t,{})}),s.jsx(wt,{children:Bj.map(P=>s.jsx(ke,{value:P.value,children:P.label},P.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Section"}),s.jsx(Y,{value:N.section||"",onChange:P=>g(j.id,"section",P.target.value),placeholder:"e.g., header, footer","data-testid":`input-cta-section-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Style"}),s.jsxs(Nt,{value:N.style||"default",onValueChange:P=>g(j.id,"style",P),children:[s.jsx(bt,{"data-testid":`select-cta-style-${j.key}`,children:s.jsx(_t,{})}),s.jsx(wt,{children:hM.map(P=>s.jsx(ke,{value:P.value,children:P.label},P.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Background Image"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:N.backgroundImageUrl||"",onChange:P=>g(j.id,"backgroundImageUrl",P.target.value),placeholder:"Image URL",className:"flex-1","data-testid":`input-cta-bg-image-${j.key}`}),s.jsxs("label",{children:[s.jsx(M,{variant:"outline",size:"icon",disabled:i===j.id,asChild:!0,children:s.jsx("span",{children:i===j.id?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(cn,{className:"h-4 w-4"})})}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P=>{var E;const k=(E=P.target.files)==null?void 0:E[0];k&&w(j.id,k)}})]})]}),N.backgroundImageUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:N.backgroundImageUrl,alt:"CTA Background",className:"h-24 w-48 object-cover rounded-md border"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{children:"Background Color"}),s.jsx(Y,{value:N.backgroundColor||"",onChange:P=>g(j.id,"backgroundColor",P.target.value),placeholder:"e.g., #1a1a1a or gradient","data-testid":`input-cta-bg-color-${j.key}`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{checked:S,onCheckedChange:P=>g(j.id,"isActive",P),"data-testid":`switch-cta-active-${j.key}`}),s.jsx(q,{children:"Active"})]}),s.jsxs(M,{onClick:()=>v(j.id),disabled:p.isPending,"data-testid":`button-save-cta-${j.key}`,children:[p.isPending?s.jsx(Te,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]},j.id)})})]})})}const mM=[{value:"ACTIVE",label:"Active"},{value:"COMING_SOON",label:"Coming Soon"},{value:"PLANNED",label:"Planned"}];function x$e(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState({}),[i,o]=x.useState(!1),[l,c]=x.useState({name:"",slug:"",city:"",country:"Pakistan",status:"PLANNED",isDefault:!1,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/venues"]});x.useEffect(()=>{if(u){const g={};u.forEach(v=>{g[v.id]={...v}}),a(g)}},[u]);const f=ye({mutationFn:async({id:g,data:v})=>{const b={...v,...v.sortOrder!==void 0&&{sortOrder:Number(v.sortOrder)},...v.isDefault!==void 0&&{isDefault:!!v.isDefault}};return await xe("PATCH",`/api/admin/venues/${g}`,b)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),e({title:"Venue updated successfully"})},onError:g=>{console.error("Update venue error:",g),e({title:"Failed to update venue",description:g.message||"Please check your input and try again",variant:"destructive"})}}),h=ye({mutationFn:async g=>await xe("POST","/api/admin/venues",{...g,sortOrder:Number(g.sortOrder),isDefault:!!g.isDefault}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),o(!1),c({name:"",slug:"",city:"",country:"Pakistan",status:"PLANNED",isDefault:!1,sortOrder:0}),e({title:"Venue created successfully"})},onError:g=>{console.error("Create venue error:",g),e({title:"Failed to create venue",description:g.message||"Please check your input and try again",variant:"destructive"})}}),p=ye({mutationFn:async g=>await xe("DELETE",`/api/admin/venues/${g}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),e({title:"Venue deleted successfully"})},onError:()=>{e({title:"Failed to delete venue",variant:"destructive"})}}),y=(g,v,b)=>{a(j=>({...j,[g]:{...j[g],[v]:b}}))},m=g=>{const v=n[g];if(v){const{id:b,createdAt:j,updatedAt:_,...N}=v;f.mutate({id:g,data:N})}},w=g=>g.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return d?s.jsx(nt,{title:"Venues Management",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"Venues Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-venues-title",children:"Venue Locations"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage multi-location venues (Islamabad, Lahore, Karachi, etc.)"})]}),s.jsxs(Pt,{open:i,onOpenChange:o,children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-venue",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Venue"]})}),s.jsxs(St,{className:"sm:max-w-[500px]",children:[s.jsx(Et,{children:s.jsx(At,{children:"Add New Venue"})}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(q,{htmlFor:"new-name",children:"Venue Name"}),s.jsx(Y,{id:"new-name",value:l.name,onChange:g=>{c({...l,name:g.target.value,slug:w(g.target.value)})},placeholder:"The Quarterdeck Lahore","data-testid":"input-new-venue-name"})]}),s.jsxs("div",{children:[s.jsx(q,{htmlFor:"new-slug",children:"Slug"}),s.jsx(Y,{id:"new-slug",value:l.slug,onChange:g=>c({...l,slug:g.target.value}),placeholder:"lahore","data-testid":"input-new-venue-slug"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(q,{htmlFor:"new-city",children:"City"}),s.jsx(Y,{id:"new-city",value:l.city,onChange:g=>c({...l,city:g.target.value}),placeholder:"Lahore","data-testid":"input-new-venue-city"})]}),s.jsxs("div",{children:[s.jsx(q,{htmlFor:"new-country",children:"Country"}),s.jsx(Y,{id:"new-country",value:l.country,onChange:g=>c({...l,country:g.target.value}),placeholder:"Pakistan","data-testid":"input-new-venue-country"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(q,{htmlFor:"new-status",children:"Status"}),s.jsxs(Nt,{value:l.status,onValueChange:g=>c({...l,status:g}),children:[s.jsx(bt,{"data-testid":"select-new-venue-status",children:s.jsx(_t,{})}),s.jsx(wt,{children:mM.map(g=>s.jsx(ke,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{children:[s.jsx(q,{htmlFor:"new-sort",children:"Sort Order"}),s.jsx(Y,{id:"new-sort",type:"number",value:l.sortOrder,onChange:g=>c({...l,sortOrder:parseInt(g.target.value)||0}),"data-testid":"input-new-venue-sort"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{checked:l.isDefault,onCheckedChange:g=>c({...l,isDefault:g}),"data-testid":"switch-new-venue-default"}),s.jsx(q,{children:"Default venue (selected by default in booking system)"})]}),s.jsxs(M,{onClick:()=>h.mutate(l),disabled:!l.name||!l.city||!l.slug||h.isPending,className:"w-full","data-testid":"button-create-venue",children:[h.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(er,{className:"w-4 h-4 mr-2"}),"Create Venue"]})]})]})]})]}),u!=null&&u.length?s.jsx("div",{className:"grid gap-4",children:u.map(g=>{const v=t===g.id,b=n[g.id]||g;return s.jsxs(ne,{className:"overflow-hidden",children:[s.jsx(Le,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r(v?null:g.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(un,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs(We,{className:"text-lg flex items-center gap-2",children:[g.name,g.isDefault&&s.jsx(le,{variant:"secondary",className:"text-xs",children:"Default"})]}),s.jsxs(It,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"w-3 h-3"}),g.city,", ",g.country||"Pakistan"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{variant:g.status==="ACTIVE"?"default":g.status==="COMING_SOON"?"secondary":"outline",children:g.status==="ACTIVE"?"Active":g.status==="COMING_SOON"?"Coming Soon":"Planned"}),v?s.jsx(gc,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(la,{className:"w-5 h-5 text-muted-foreground"})]})]})}),v&&s.jsx(se,{className:"border-t pt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(q,{htmlFor:`name-${g.id}`,children:"Venue Name"}),s.jsx(Y,{id:`name-${g.id}`,value:b.name||"",onChange:j=>y(g.id,"name",j.target.value),"data-testid":`input-venue-name-${g.id}`})]}),s.jsxs("div",{children:[s.jsx(q,{htmlFor:`slug-${g.id}`,children:"Slug"}),s.jsx(Y,{id:`slug-${g.id}`,value:b.slug||"",onChange:j=>y(g.id,"slug",j.target.value),"data-testid":`input-venue-slug-${g.id}`})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(q,{htmlFor:`city-${g.id}`,children:"City"}),s.jsx(Y,{id:`city-${g.id}`,value:b.city||"",onChange:j=>y(g.id,"city",j.target.value),"data-testid":`input-venue-city-${g.id}`})]}),s.jsxs("div",{children:[s.jsxs(q,{htmlFor:`country-${g.id}`,className:"flex items-center gap-1",children:[s.jsx(tN,{className:"w-3 h-3"})," Country"]}),s.jsx(Y,{id:`country-${g.id}`,value:b.country||"Pakistan",onChange:j=>y(g.id,"country",j.target.value),"data-testid":`input-venue-country-${g.id}`})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(q,{htmlFor:`status-${g.id}`,children:"Status"}),s.jsxs(Nt,{value:b.status||"PLANNED",onValueChange:j=>y(g.id,"status",j),children:[s.jsx(bt,{"data-testid":`select-venue-status-${g.id}`,children:s.jsx(_t,{})}),s.jsx(wt,{children:mM.map(j=>s.jsx(ke,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{children:[s.jsx(q,{htmlFor:`sort-${g.id}`,children:"Sort Order"}),s.jsx(Y,{id:`sort-${g.id}`,type:"number",value:b.sortOrder??0,onChange:j=>y(g.id,"sortOrder",parseInt(j.target.value)||0),"data-testid":`input-venue-sort-${g.id}`})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{checked:b.isDefault??!1,onCheckedChange:j=>y(g.id,"isDefault",j),"data-testid":`switch-venue-default-${g.id}`}),s.jsx(q,{children:"Default venue (auto-selected in booking system)"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs(zf,{children:[s.jsx(aP,{asChild:!0,children:s.jsxs(M,{variant:"destructive",size:"sm","data-testid":`button-delete-venue-${g.id}`,children:[s.jsx(hr,{className:"w-4 h-4 mr-2"})," Delete Venue"]})}),s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Delete Venue?"}),s.jsxs(Gc,{children:['This will permanently delete "',g.name,'" and all associated data. This action cannot be undone.']})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Qc,{onClick:()=>p.mutate(g.id),className:"bg-destructive text-destructive-foreground","data-testid":"button-confirm-delete",children:"Delete"})]})]})]}),s.jsxs(M,{onClick:()=>m(g.id),disabled:f.isPending,"data-testid":`button-save-venue-${g.id}`,children:[f.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})})]},g.id)})}):s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(gs,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Venues Yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first venue location to get started"}),s.jsxs(M,{onClick:()=>o(!0),"data-testid":"button-add-first-venue",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add First Venue"]})]})})]})})}function y$e(){var P,k,E;const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState("pending"),{data:p,isLoading:y}=de({queryKey:["/api/admin/membership-applications","PENDING"],queryFn:async()=>{const T=await fetch("/api/admin/membership-applications?status=PENDING",{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch");return T.json()}}),{data:m,isLoading:w}=de({queryKey:["/api/admin/membership-applications","APPROVED"],queryFn:async()=>{const T=await fetch("/api/admin/membership-applications?status=APPROVED",{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch");return T.json()}}),{data:g,isLoading:v}=de({queryKey:["/api/admin/membership-applications","REJECTED"],queryFn:async()=>{const T=await fetch("/api/admin/membership-applications?status=REJECTED",{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch");return T.json()}}),b=ye({mutationFn:async({id:T,notes:I})=>await xe("POST",`/api/admin/membership-applications/${T}/approve`,{notes:I,skipAmountVerification:!0}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/membership-applications"]}),re.invalidateQueries({queryKey:["/api/memberships"]}),re.invalidateQueries({queryKey:["/api/me"]}),e({title:"Application approved",description:"Membership has been activated and user notified."}),o(!1),r(null),d("")},onError:T=>{e({title:"Failed to approve application",description:T.message||"An error occurred",variant:"destructive"})}}),j=ye({mutationFn:async({id:T,notes:I})=>await xe("POST",`/api/admin/membership-applications/${T}/reject`,{notes:I}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/membership-applications"]}),e({title:"Application rejected",description:"User has been notified."}),c(!1),r(null),d("")},onError:T=>{e({title:"Failed to reject application",description:T.message||"An error occurred",variant:"destructive"})}}),_=async T=>{try{const I=await fetch(`/api/admin/membership-applications/${T.id}`,{credentials:"include"});if(I.ok){const R=await I.json();r(R),a(!0)}}catch{e({title:"Failed to load application details",variant:"destructive"})}},N=T=>{switch(T){case"PENDING":return s.jsxs(le,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:[s.jsx(Ht,{className:"w-3 h-3 mr-1"}),"Pending"]});case"APPROVED":return s.jsxs(le,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[s.jsx(yn,{className:"w-3 h-3 mr-1"}),"Approved"]});case"REJECTED":return s.jsxs(le,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[s.jsx(ix,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(le,{variant:"secondary",children:T})}},S=T=>T==null?"N/A":`PKR ${T.toLocaleString()}`,C=(T,I)=>I?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Te,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):!T||T.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No applications found"}):s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Applicant"}),s.jsx(ue,{children:"Tier Requested"}),s.jsx(ue,{children:"Amount"}),s.jsx(ue,{children:"Payment Method"}),s.jsx(ue,{children:"Payment Proof"}),s.jsx(ue,{children:"Submitted"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:T.map(R=>{var D,O,W;return s.jsxs(tt,{"data-testid":`row-application-${R.id}`,children:[s.jsxs(ie,{className:"font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cs,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[((D=R.user)==null?void 0:D.firstName)||""," ",((O=R.user)==null?void 0:O.lastName)||""]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:(W=R.user)==null?void 0:W.email})]}),s.jsx(ie,{children:s.jsx(le,{variant:"secondary",children:R.tierDesired})}),s.jsx(ie,{children:S(R.paymentAmount)}),s.jsx(ie,{children:R.paymentMethod||"N/A"}),s.jsx(ie,{children:R.paymentProofUrl?s.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>R.paymentProofUrl&&window.open(R.paymentProofUrl,"_blank"),"data-testid":`button-view-proof-${R.id}`,children:[s.jsx(ms,{className:"w-4 h-4 mr-1"}),"View",s.jsx(Jo,{className:"w-3 h-3 ml-1"})]}):s.jsxs("span",{className:"text-muted-foreground text-sm flex items-center gap-1",children:[s.jsx(Lp,{className:"w-3 h-3"}),"No proof"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(mr,{className:"w-3 h-3 text-muted-foreground"}),R.createdAt?Xn(new Date(R.createdAt),"MMM d, yyyy"):"N/A"]})}),s.jsx(ie,{children:N(R.status||"PENDING")}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>_(R),"data-testid":`button-view-application-${R.id}`,children:s.jsx(Zn,{className:"w-4 h-4"})}),R.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx(M,{variant:"ghost",size:"icon",className:"text-green-600",onClick:()=>{r(R),o(!0)},"data-testid":`button-approve-${R.id}`,children:s.jsx(yn,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>{r(R),c(!0)},"data-testid":`button-reject-${R.id}`,children:s.jsx(ix,{className:"w-4 h-4"})})]})]})})]},R.id)})})]});return s.jsxs(nt,{title:"Membership Applications",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Xo,{className:"w-5 h-5"}),"Membership Applications"]})}),s.jsx(se,{children:s.jsxs(ua,{value:f,onValueChange:h,children:[s.jsxs(Ds,{className:"mb-4",children:[s.jsxs(Bt,{value:"pending","data-testid":"tab-pending",children:["Pending",p&&p.length>0&&s.jsx(le,{variant:"secondary",className:"ml-2",children:p.length})]}),s.jsx(Bt,{value:"approved","data-testid":"tab-approved",children:"Approved"}),s.jsx(Bt,{value:"rejected","data-testid":"tab-rejected",children:"Rejected"})]}),s.jsx(Vt,{value:"pending",children:C(p,y)}),s.jsx(Vt,{value:"approved",children:C(m,w)}),s.jsx(Vt,{value:"rejected",children:C(g,v)})]})})]}),s.jsx(Pt,{open:n,onOpenChange:a,children:s.jsxs(St,{className:"max-w-2xl",children:[s.jsx(Et,{children:s.jsx(At,{children:"Application Details"})}),t&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Applicant"}),s.jsxs("p",{className:"font-medium",children:[(P=t.user)==null?void 0:P.firstName," ",(k=t.user)==null?void 0:k.lastName]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(E=t.user)==null?void 0:E.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx("div",{className:"mt-1",children:N(t.status||"PENDING")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Requested Tier"}),s.jsx("p",{className:"font-medium",children:t.tierDesired})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Amount"}),s.jsx("p",{className:"font-medium",children:S(t.paymentAmount)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Method"}),s.jsx("p",{className:"font-medium",children:t.paymentMethod||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Reference"}),s.jsx("p",{className:"font-medium",children:t.paymentReference||"N/A"})]})]}),t.paymentProofUrl&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Proof"}),s.jsx("div",{className:"mt-2",children:s.jsxs(M,{variant:"outline",onClick:()=>t.paymentProofUrl&&window.open(t.paymentProofUrl,"_blank"),"data-testid":"button-view-proof-detail",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"View Payment Proof",s.jsx(Jo,{className:"w-3 h-3 ml-2"})]})})]}),t.adminNotes&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Admin Notes"}),s.jsx("p",{className:"mt-1 p-3 bg-muted rounded-md",children:t.adminNotes})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("label",{className:"font-medium",children:"Submitted"}),s.jsx("p",{children:t.createdAt?Xn(new Date(t.createdAt),"PPpp"):"N/A"})]})]})]})}),s.jsx(Pt,{open:i,onOpenChange:o,children:s.jsxs(St,{children:[s.jsxs(Et,{children:[s.jsx(At,{children:"Approve Application"}),s.jsxs(Rs,{children:["This will activate a ",t==null?void 0:t.tierDesired," membership for this user."]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Admin Notes (optional)"}),s.jsx(lt,{value:u,onChange:T=>d(T.target.value),placeholder:"Add any notes about this approval...",className:"mt-1","data-testid":"input-approve-notes"})]})}),s.jsxs(Lx,{children:[s.jsx(M,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsxs(M,{onClick:()=>t&&b.mutate({id:t.id,notes:u}),disabled:b.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approve",children:[b.isPending&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Approve Application"]})]})]})}),s.jsx(Pt,{open:l,onOpenChange:c,children:s.jsxs(St,{children:[s.jsxs(Et,{children:[s.jsx(At,{children:"Reject Application"}),s.jsx(Rs,{children:"Please provide a reason for rejection. The user will be notified."})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Reason for Rejection"}),s.jsx(lt,{value:u,onChange:T=>d(T.target.value),placeholder:"Explain why this application is being rejected...",className:"mt-1","data-testid":"input-reject-reason"})]})}),s.jsxs(Lx,{children:[s.jsx(M,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsxs(M,{variant:"destructive",onClick:()=>t&&j.mutate({id:t.id,notes:u}),disabled:j.isPending,"data-testid":"button-confirm-reject",children:[j.isPending&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Reject Application"]})]})]})})]})}function b$e(){const{toast:e}=ht(),[t,r]=x.useState("certifications"),[n,a]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState({slug:"",name:"",description:"",facilityId:"",validityMonths:12,requirements:"",icon:"",isActive:!0,sortOrder:0}),[u,d]=x.useState(null),[f,h]=x.useState(!1),[p,y]=x.useState({certificationId:"",title:"",description:"",instructor:"",scheduledDate:"",duration:60,capacity:10,price:0,location:"",isActive:!0}),[m,w]=x.useState(!1),[g,v]=x.useState({userId:"",certificationId:"",notes:""}),{data:b=[],isLoading:j}=de({queryKey:["/api/admin/certifications"]}),{data:_=[]}=de({queryKey:["/api/admin/facilities"]}),{data:N=[],isLoading:S}=de({queryKey:["/api/admin/certification-classes"]}),{data:C=[],isLoading:P}=de({queryKey:["/api/admin/user-certifications"]}),{data:k=[]}=de({queryKey:["/api/admin/users"]}),E=ye({mutationFn:async B=>await xe("POST","/api/admin/certifications",B),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification created successfully"}),o(!1),$()},onError:()=>{e({title:"Failed to create certification",variant:"destructive"})}}),T=ye({mutationFn:async({id:B,data:ce})=>await xe("PATCH",`/api/admin/certifications/${B}`,ce),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification updated successfully"}),o(!1),a(null),$()},onError:()=>{e({title:"Failed to update certification",variant:"destructive"})}}),I=ye({mutationFn:async B=>await xe("DELETE",`/api/admin/certifications/${B}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification deleted successfully"})},onError:()=>{e({title:"Failed to delete certification",variant:"destructive"})}}),R=ye({mutationFn:async B=>await xe("POST","/api/admin/certification-classes",B),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class created successfully"}),h(!1),Q()},onError:()=>{e({title:"Failed to create class",variant:"destructive"})}}),D=ye({mutationFn:async({id:B,data:ce})=>await xe("PATCH",`/api/admin/certification-classes/${B}`,ce),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class updated successfully"}),h(!1),d(null),Q()},onError:()=>{e({title:"Failed to update class",variant:"destructive"})}}),O=ye({mutationFn:async B=>await xe("DELETE",`/api/admin/certification-classes/${B}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class deleted successfully"})},onError:()=>{e({title:"Failed to delete class",variant:"destructive"})}}),W=ye({mutationFn:async B=>await xe("POST","/api/admin/user-certifications",B),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/user-certifications"]}),e({title:"Certification issued successfully"}),w(!1),X()},onError:()=>{e({title:"Failed to issue certification",variant:"destructive"})}}),A=ye({mutationFn:async({id:B,notes:ce})=>await xe("POST",`/api/admin/user-certifications/${B}/revoke`,{notes:ce}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/user-certifications"]}),e({title:"Certification revoked successfully"})},onError:()=>{e({title:"Failed to revoke certification",variant:"destructive"})}}),$=()=>{c({slug:"",name:"",description:"",facilityId:"",validityMonths:12,requirements:"",icon:"",isActive:!0,sortOrder:0})},Q=()=>{y({certificationId:"",title:"",description:"",instructor:"",scheduledDate:"",duration:60,capacity:10,price:0,location:"",isActive:!0})},X=()=>{v({userId:"",certificationId:"",notes:""})},U=B=>{a(B),c({slug:B.slug,name:B.name,description:B.description||"",facilityId:B.facilityId||"",validityMonths:B.validityMonths||12,requirements:B.requirements||"",icon:B.icon||"",isActive:B.isActive??!0,sortOrder:B.sortOrder||0}),o(!0)},J=B=>{d(B),y({certificationId:B.certificationId,title:B.title,description:B.description||"",instructor:B.instructor||"",scheduledDate:B.scheduledDate?new Date(B.scheduledDate).toISOString().slice(0,16):"",duration:B.duration||60,capacity:B.capacity||10,price:B.price||0,location:B.location||"",isActive:B.isActive??!0}),h(!0)},z=()=>{n?T.mutate({id:n.id,data:l}):E.mutate(l)},ee=()=>{const B={...p,scheduledDate:p.scheduledDate?new Date(p.scheduledDate).toISOString():""};u?D.mutate({id:u.id,data:B}):R.mutate(B)},pe=B=>{var ce;return((ce=b.find(G=>G.id===B))==null?void 0:ce.name)||"Unknown"},te=B=>{var ce;return B?((ce=_.find(G=>G.id===B))==null?void 0:ce.name)||"Unknown":"-"},be=B=>{const ce=k.find(G=>G.id===B);return ce?`${ce.firstName||""} ${ce.lastName||""}`.trim()||ce.email:"Unknown"};return j||S||P?s.jsx(nt,{title:"Certifications",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Certifications",children:s.jsxs(ua,{value:t,onValueChange:r,className:"space-y-6",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-3 max-w-md",children:[s.jsxs(Bt,{value:"certifications",className:"gap-2",children:[s.jsx(ai,{className:"w-4 h-4"}),"Types"]}),s.jsxs(Bt,{value:"classes",className:"gap-2",children:[s.jsx(mr,{className:"w-4 h-4"}),"Classes"]}),s.jsxs(Bt,{value:"user-certs",className:"gap-2",children:[s.jsx(yr,{className:"w-4 h-4"}),"Issued"]})]}),s.jsxs(Vt,{value:"certifications",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Define certification types for restricted facilities like the Air Rifle Range."}),s.jsxs(Pt,{open:i,onOpenChange:B=>{o(B),B||(a(null),$())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-certification",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Certification"]})}),s.jsxs(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:n?"Edit Certification":"Add New Certification"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"cert-name",children:"Name"}),s.jsx(Y,{id:"cert-name",value:l.name,onChange:B=>c({...l,name:B.target.value}),placeholder:"Air Rifle Safety Certification","data-testid":"input-cert-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"cert-slug",children:"Slug"}),s.jsx(Y,{id:"cert-slug",value:l.slug,onChange:B=>c({...l,slug:B.target.value}),placeholder:"air-rifle-safety","data-testid":"input-cert-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"cert-description",children:"Description"}),s.jsx(lt,{id:"cert-description",value:l.description,onChange:B=>c({...l,description:B.target.value}),rows:3,"data-testid":"input-cert-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"cert-facility",children:"Linked Facility"}),s.jsxs(Nt,{value:l.facilityId,onValueChange:B=>c({...l,facilityId:B}),children:[s.jsx(bt,{"data-testid":"select-cert-facility",children:s.jsx(_t,{placeholder:"Select facility"})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"none",children:"None"}),_.map(B=>s.jsx(ke,{value:B.id,children:B.name},B.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"cert-validity",children:"Validity (months)"}),s.jsx(Y,{id:"cert-validity",type:"number",value:l.validityMonths,onChange:B=>c({...l,validityMonths:parseInt(B.target.value)||12}),"data-testid":"input-cert-validity"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"cert-requirements",children:"Requirements"}),s.jsx(lt,{id:"cert-requirements",value:l.requirements,onChange:B=>c({...l,requirements:B.target.value}),placeholder:"Must complete safety course, pass written exam, demonstrate proper handling...",rows:3,"data-testid":"input-cert-requirements"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"cert-icon",children:"Icon (lucide icon name)"}),s.jsx(Y,{id:"cert-icon",value:l.icon,onChange:B=>c({...l,icon:B.target.value}),placeholder:"shield-check","data-testid":"input-cert-icon"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"cert-sort",children:"Sort Order"}),s.jsx(Y,{id:"cert-sort",type:"number",value:l.sortOrder,onChange:B=>c({...l,sortOrder:parseInt(B.target.value)||0}),"data-testid":"input-cert-sort"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"cert-active",checked:l.isActive,onCheckedChange:B=>c({...l,isActive:B}),"data-testid":"switch-cert-active"}),s.jsx(q,{htmlFor:"cert-active",children:"Active"})]}),s.jsxs(M,{onClick:z,disabled:E.isPending||T.isPending,"data-testid":"button-submit-cert",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),n?"Update":"Create"," Certification"]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Facility"}),s.jsx(ue,{children:"Validity"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:b.length===0?s.jsx(tt,{children:s.jsx(ie,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No certifications defined yet"})}):b.map(B=>s.jsxs(tt,{children:[s.jsx(ie,{className:"font-medium",children:B.name}),s.jsx(ie,{children:te(B.facilityId)}),s.jsxs(ie,{children:[B.validityMonths," months"]}),s.jsx(ie,{children:s.jsx(le,{variant:B.isActive?"default":"secondary",children:B.isActive?"Active":"Inactive"})}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>U(B),"data-testid":`button-edit-cert-${B.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>I.mutate(B.id),"data-testid":`button-delete-cert-${B.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})})]},B.id))})]})})})]}),s.jsxs(Vt,{value:"classes",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Schedule certification classes and training sessions."}),s.jsxs(Pt,{open:f,onOpenChange:B=>{h(B),B||(d(null),Q())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-class",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Schedule Class"]})}),s.jsxs(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:u?"Edit Class":"Schedule New Class"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"class-cert",children:"Certification Type"}),s.jsxs(Nt,{value:p.certificationId,onValueChange:B=>y({...p,certificationId:B}),children:[s.jsx(bt,{"data-testid":"select-class-cert",children:s.jsx(_t,{placeholder:"Select certification"})}),s.jsx(wt,{children:b.map(B=>s.jsx(ke,{value:B.id,children:B.name},B.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"class-title",children:"Class Title"}),s.jsx(Y,{id:"class-title",value:p.title,onChange:B=>y({...p,title:B.target.value}),placeholder:"Air Rifle Safety Fundamentals","data-testid":"input-class-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"class-date",children:"Scheduled Date/Time"}),s.jsx(Y,{id:"class-date",type:"datetime-local",value:p.scheduledDate,onChange:B=>y({...p,scheduledDate:B.target.value}),"data-testid":"input-class-date"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"class-duration",children:"Duration (minutes)"}),s.jsx(Y,{id:"class-duration",type:"number",value:p.duration,onChange:B=>y({...p,duration:parseInt(B.target.value)||60}),"data-testid":"input-class-duration"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"class-instructor",children:"Instructor"}),s.jsx(Y,{id:"class-instructor",value:p.instructor,onChange:B=>y({...p,instructor:B.target.value}),"data-testid":"input-class-instructor"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"class-location",children:"Location"}),s.jsx(Y,{id:"class-location",value:p.location,onChange:B=>y({...p,location:B.target.value}),placeholder:"Range Training Room","data-testid":"input-class-location"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"class-capacity",children:"Capacity"}),s.jsx(Y,{id:"class-capacity",type:"number",value:p.capacity,onChange:B=>y({...p,capacity:parseInt(B.target.value)||10}),"data-testid":"input-class-capacity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"class-price",children:"Price (PKR)"}),s.jsx(Y,{id:"class-price",type:"number",value:p.price,onChange:B=>y({...p,price:parseInt(B.target.value)||0}),"data-testid":"input-class-price"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"class-description",children:"Description"}),s.jsx(lt,{id:"class-description",value:p.description,onChange:B=>y({...p,description:B.target.value}),rows:2,"data-testid":"input-class-description"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"class-active",checked:p.isActive,onCheckedChange:B=>y({...p,isActive:B}),"data-testid":"switch-class-active"}),s.jsx(q,{htmlFor:"class-active",children:"Active"})]}),s.jsxs(M,{onClick:ee,disabled:R.isPending||D.isPending,"data-testid":"button-submit-class",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),u?"Update":"Schedule"," Class"]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Title"}),s.jsx(ue,{children:"Certification"}),s.jsx(ue,{children:"Date"}),s.jsx(ue,{children:"Instructor"}),s.jsx(ue,{children:"Capacity"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:N.length===0?s.jsx(tt,{children:s.jsx(ie,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No classes scheduled yet"})}):N.map(B=>s.jsxs(tt,{children:[s.jsx(ie,{className:"font-medium",children:B.title}),s.jsx(ie,{children:pe(B.certificationId)}),s.jsx(ie,{children:B.scheduledDate?new Date(B.scheduledDate).toLocaleString():"-"}),s.jsx(ie,{children:B.instructor||"-"}),s.jsxs(ie,{children:[B.enrolledCount,"/",B.capacity]}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>J(B),"data-testid":`button-edit-class-${B.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>O.mutate(B.id),"data-testid":`button-delete-class-${B.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})})]},B.id))})]})})})]}),s.jsxs(Vt,{value:"user-certs",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"View and manage issued user certifications."}),s.jsxs(Pt,{open:m,onOpenChange:w,children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-issue-cert",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Issue Certification"]})}),s.jsxs(St,{children:[s.jsx(Et,{children:s.jsx(At,{children:"Issue Certification to User"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"issue-user",children:"User"}),s.jsxs(Nt,{value:g.userId,onValueChange:B=>v({...g,userId:B}),children:[s.jsx(bt,{"data-testid":"select-issue-user",children:s.jsx(_t,{placeholder:"Select user"})}),s.jsx(wt,{children:k.map(B=>s.jsxs(ke,{value:B.id,children:[B.firstName," ",B.lastName," (",B.email,")"]},B.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"issue-cert",children:"Certification"}),s.jsxs(Nt,{value:g.certificationId,onValueChange:B=>v({...g,certificationId:B}),children:[s.jsx(bt,{"data-testid":"select-issue-cert",children:s.jsx(_t,{placeholder:"Select certification"})}),s.jsx(wt,{children:b.map(B=>s.jsx(ke,{value:B.id,children:B.name},B.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"issue-notes",children:"Notes"}),s.jsx(lt,{id:"issue-notes",value:g.notes,onChange:B=>v({...g,notes:B.target.value}),placeholder:"Optional notes about this certification","data-testid":"input-issue-notes"})]}),s.jsxs(M,{onClick:()=>W.mutate(g),disabled:W.isPending||!g.userId||!g.certificationId,"data-testid":"button-submit-issue",children:[s.jsx(ai,{className:"w-4 h-4 mr-2"}),"Issue Certification"]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"User"}),s.jsx(ue,{children:"Certification"}),s.jsx(ue,{children:"Certificate #"}),s.jsx(ue,{children:"Issued"}),s.jsx(ue,{children:"Expires"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:C.length===0?s.jsx(tt,{children:s.jsx(ie,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No certifications issued yet"})}):C.map(B=>s.jsxs(tt,{children:[s.jsx(ie,{className:"font-medium",children:be(B.userId)}),s.jsx(ie,{children:pe(B.certificationId)}),s.jsx(ie,{className:"font-mono text-sm",children:B.certificateNumber||"-"}),s.jsx(ie,{children:B.issuedAt?new Date(B.issuedAt).toLocaleDateString():"-"}),s.jsx(ie,{children:B.expiresAt?new Date(B.expiresAt).toLocaleDateString():"Never"}),s.jsx(ie,{children:s.jsx(le,{variant:B.status==="ACTIVE"?"default":B.status==="REVOKED"?"destructive":"secondary",children:B.status})}),s.jsx(ie,{className:"text-right",children:B.status==="ACTIVE"&&s.jsxs(M,{size:"sm",variant:"ghost",onClick:()=>A.mutate({id:B.id}),"data-testid":`button-revoke-${B.id}`,children:[s.jsx(ix,{className:"w-4 h-4 mr-1"}),"Revoke"]})})]},B.id))})]})})})]})]})})}const w$e=pa({feature:pt().min(1,"Feature name is required"),foundingValue:pt().optional(),goldValue:pt().optional(),silverValue:pt().optional(),guestValue:pt().optional(),sortOrder:Wb.number().default(0)});function j$e(){const{toast:e}=ht(),[t,r]=x.useState(!1),[n,a]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState(null),{data:u=[],isLoading:d}=de({queryKey:["/api/admin/comparison-features"]}),f=Ls({resolver:Fs(w$e),defaultValues:{feature:"",foundingValue:"",goldValue:"",silverValue:"",guestValue:"",sortOrder:0}}),h=ye({mutationFn:async b=>await xe("POST","/api/admin/comparison-features",b),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature created successfully"}),r(!1),f.reset()},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),p=ye({mutationFn:async({id:b,data:j})=>await xe("PATCH",`/api/admin/comparison-features/${b}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature updated successfully"}),r(!1),a(null),f.reset()},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),y=ye({mutationFn:async b=>await xe("DELETE",`/api/admin/comparison-features/${b}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature deleted successfully"}),o(!1),c(null)},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),m=b=>{a(b),f.reset({feature:b.feature,foundingValue:b.foundingValue||"",goldValue:b.goldValue||"",silverValue:b.silverValue||"",guestValue:b.guestValue||"",sortOrder:b.sortOrder||0}),r(!0)},w=b=>{n?p.mutate({id:n.id,data:b}):h.mutate(b)},g=()=>{l&&y.mutate(l)};if(d)return s.jsx(nt,{title:"Comparison Features",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})});const v=[...u].sort((b,j)=>(b.sortOrder||0)-(j.sortOrder||0));return s.jsx(nt,{title:"Comparison Features",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-comparison-features-title",children:"Comparison Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage membership tier comparison table features"})]}),s.jsxs(Pt,{open:t,onOpenChange:b=>{r(b),b||(a(null),f.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-feature",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Add Feature"]})}),s.jsxs(St,{className:"max-w-2xl",children:[s.jsx(Et,{children:s.jsx(At,{children:n?"Edit Feature":"Add Feature"})}),s.jsx(Bs,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-4",children:[s.jsx(et,{control:f.control,name:"feature",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Feature Name"}),s.jsx(Je,{children:s.jsx(Y,{...b,placeholder:"e.g., Advance Booking Window","data-testid":"input-feature-name"})}),s.jsx(rt,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(et,{control:f.control,name:"foundingValue",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Founding Member Value"}),s.jsx(Je,{children:s.jsx(Y,{...b,placeholder:"e.g., 14 days","data-testid":"input-founding-value"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:f.control,name:"goldValue",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Gold Member Value"}),s.jsx(Je,{children:s.jsx(Y,{...b,placeholder:"e.g., 7 days","data-testid":"input-gold-value"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:f.control,name:"silverValue",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Silver Member Value"}),s.jsx(Je,{children:s.jsx(Y,{...b,placeholder:"e.g., 5 days","data-testid":"input-silver-value"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:f.control,name:"guestValue",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Guest Value"}),s.jsx(Je,{children:s.jsx(Y,{...b,placeholder:"e.g., 2 days","data-testid":"input-guest-value"})}),s.jsx(rt,{})]})})]}),s.jsx(et,{control:f.control,name:"sortOrder",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(Y,{type:"number",...b,"data-testid":"input-sort-order"})}),s.jsx(rt,{})]})}),s.jsxs(M,{type:"submit",className:"w-full",disabled:h.isPending||p.isPending,"data-testid":"button-save-feature",children:[(h.isPending||p.isPending)&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Update":"Create"," Feature"]})]})})]})]})]}),v.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(Q5,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Comparison Features"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add features to display in the membership comparison table."})]})}):s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:"Features List"})}),s.jsx(se,{children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{className:"w-8"}),s.jsx(ue,{children:"Feature"}),s.jsx(ue,{className:"text-center",children:"Founding"}),s.jsx(ue,{className:"text-center",children:"Gold"}),s.jsx(ue,{className:"text-center",children:"Silver"}),s.jsx(ue,{className:"text-center",children:"Guest"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:v.map(b=>s.jsxs(tt,{"data-testid":`row-feature-${b.id}`,children:[s.jsx(ie,{children:s.jsx($p,{className:"w-4 h-4 text-muted-foreground"})}),s.jsx(ie,{className:"font-medium",children:b.feature}),s.jsx(ie,{className:"text-center",children:b.foundingValue||"-"}),s.jsx(ie,{className:"text-center",children:b.goldValue||"-"}),s.jsx(ie,{className:"text-center",children:b.silverValue||"-"}),s.jsx(ie,{className:"text-center",children:b.guestValue||"-"}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>m(b),"data-testid":`button-edit-feature-${b.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{c(b.id),o(!0)},"data-testid":`button-delete-feature-${b.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})})]},b.id))})]})})]}),s.jsx(zf,{open:i,onOpenChange:o,children:s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Are you sure?"}),s.jsx(Gc,{children:"This will delete the comparison feature. This action cannot be undone."})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{disabled:y.isPending,children:"Cancel"}),s.jsxs(Qc,{onClick:g,disabled:y.isPending,"data-testid":"button-confirm-delete",children:[y.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Delete"]})]})]})})]})})}const d7=[{value:"clock",label:"Clock",icon:Ht},{value:"gift",label:"Gift",icon:ub},{value:"award",label:"Award",icon:ai},{value:"shield",label:"Shield",icon:ui},{value:"target",label:"Target",icon:na},{value:"zap",label:"Zap",icon:Z5},{value:"heart",label:"Heart",icon:db},{value:"ticket",label:"Ticket",icon:lx},{value:"calendar",label:"Calendar",icon:mr},{value:"trophy",label:"Trophy",icon:os},{value:"star",label:"Star",icon:fa},{value:"crown",label:"Crown",icon:cb},{value:"users",label:"Users",icon:yr},{value:"check",label:"Check",icon:wr}],N$e=e=>{const t=d7.find(r=>r.value===e.toLowerCase());return(t==null?void 0:t.icon)||Ts},pM=[{value:"",label:"All Members (General)"},{value:"FOUNDING",label:"Founding Members"},{value:"GOLD",label:"Gold Members"},{value:"SILVER",label:"Silver Members"},{value:"GUEST",label:"Pay-to-Play"}],_$e=pa({icon:pt().min(1,"Icon is required"),title:pt().min(1,"Title is required"),description:pt().optional(),tierId:pt().optional(),sortOrder:Wb.number().default(0)});function S$e(){const{toast:e}=ht(),[t,r]=x.useState(!1),[n,a]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState(null),{data:u=[],isLoading:d}=de({queryKey:["/api/admin/member-benefits"]}),f=Ls({resolver:Fs(_$e),defaultValues:{icon:"gift",title:"",description:"",tierId:"",sortOrder:0}}),h=ye({mutationFn:async b=>await xe("POST","/api/admin/member-benefits",b),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit created successfully"}),r(!1),f.reset()},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),p=ye({mutationFn:async({id:b,data:j})=>await xe("PATCH",`/api/admin/member-benefits/${b}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit updated successfully"}),r(!1),a(null),f.reset()},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),y=ye({mutationFn:async b=>await xe("DELETE",`/api/admin/member-benefits/${b}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit deleted successfully"}),o(!1),c(null)},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),m=b=>{a(b),f.reset({icon:b.icon||"gift",title:b.title,description:b.description||"",tierId:b.tierId||"",sortOrder:b.sortOrder||0}),r(!0)},w=b=>{n?p.mutate({id:n.id,data:b}):h.mutate(b)},g=()=>{l&&y.mutate(l)};if(d)return s.jsx(nt,{title:"Member Benefits",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})});const v=[...u].sort((b,j)=>(b.sortOrder||0)-(j.sortOrder||0));return s.jsx(nt,{title:"Member Benefits",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-member-benefits-title",children:"Member Benefits"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage membership benefit cards displayed on the membership page"})]}),s.jsxs(Pt,{open:t,onOpenChange:b=>{r(b),b||(a(null),f.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-benefit",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Add Benefit"]})}),s.jsxs(St,{children:[s.jsx(Et,{children:s.jsx(At,{children:n?"Edit Benefit":"Add Benefit"})}),s.jsx(Bs,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-4",children:[s.jsx(et,{control:f.control,name:"icon",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Icon"}),s.jsxs(Nt,{onValueChange:b.onChange,value:b.value,children:[s.jsx(Je,{children:s.jsx(bt,{"data-testid":"select-benefit-icon",children:s.jsx(_t,{placeholder:"Select an icon"})})}),s.jsx(wt,{children:d7.map(j=>{const _=j.icon;return s.jsx(ke,{value:j.value,"data-testid":`select-icon-${j.value}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_,{className:"w-4 h-4"}),s.jsx("span",{children:j.label})]})},j.value)})})]}),s.jsx(rt,{})]})}),s.jsx(et,{control:f.control,name:"title",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Title"}),s.jsx(Je,{children:s.jsx(Y,{...b,placeholder:"e.g., Priority Booking","data-testid":"input-benefit-title"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:f.control,name:"description",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Description"}),s.jsx(Je,{children:s.jsx(lt,{...b,placeholder:"Brief description of this benefit",rows:3,"data-testid":"input-benefit-description"})}),s.jsx(rt,{})]})}),s.jsx(et,{control:f.control,name:"tierId",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Membership Tier"}),s.jsxs(Nt,{onValueChange:b.onChange,value:b.value||"",children:[s.jsx(Je,{children:s.jsx(bt,{"data-testid":"select-benefit-tier",children:s.jsx(_t,{placeholder:"Select tier (optional)"})})}),s.jsx(wt,{children:pM.map(j=>s.jsx(ke,{value:j.value,"data-testid":`select-tier-${j.value||"all"}`,children:j.label},j.value||"all"))})]}),s.jsx(rt,{})]})}),s.jsx(et,{control:f.control,name:"sortOrder",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(Y,{type:"number",...b,"data-testid":"input-benefit-sort-order"})}),s.jsx(rt,{})]})}),s.jsxs(M,{type:"submit",className:"w-full",disabled:h.isPending||p.isPending,"data-testid":"button-save-benefit",children:[(h.isPending||p.isPending)&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Update":"Create"," Benefit"]})]})})]})]})]}),v.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(ub,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Member Benefits"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add benefits to display on the membership page."})]})}):s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:v.map(b=>{var _;const j=N$e(b.icon);return s.jsxs(ne,{"data-testid":`card-benefit-${b.id}`,children:[s.jsx(Le,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(j,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>m(b),"data-testid":`button-edit-benefit-${b.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{c(b.id),o(!0)},"data-testid":`button-delete-benefit-${b.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})]})}),s.jsxs(se,{children:[s.jsx(We,{className:"text-base mb-1",children:b.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[b.tierId&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-primary/10 text-primary font-medium",children:((_=pM.find(N=>N.value===b.tierId))==null?void 0:_.label)||b.tierId}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Sort: ",b.sortOrder||0]})]})]})]},b.id)})}),s.jsx(zf,{open:i,onOpenChange:o,children:s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Are you sure?"}),s.jsx(Gc,{children:"This will delete the member benefit. This action cannot be undone."})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{disabled:y.isPending,children:"Cancel"}),s.jsxs(Qc,{onClick:g,disabled:y.isPending,"data-testid":"button-confirm-delete",children:[y.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Delete"]})]})]})})]})})}function k$e(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState({title:"",slug:"",excerpt:"",content:"",featuredImageUrl:"",author:"",category:"",tags:"",readTimeMinutes:5,isPublished:!1,isFeatured:!1,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/blogs"]}),f=ye({mutationFn:async v=>await xe("POST","/api/admin/blogs",v),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post created successfully"}),a(!1),y()},onError:v=>{console.error("Create blog error:",v),e({title:"Failed to create blog post",description:v.message||"Please check your input and try again",variant:"destructive"})}}),h=ye({mutationFn:async({id:v,data:b})=>await xe("PATCH",`/api/admin/blogs/${v}`,b),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post updated successfully"}),a(!1),r(null),y()},onError:v=>{console.error("Update blog error:",v),e({title:"Failed to update blog post",description:v.message||"Please check your input and try again",variant:"destructive"})}}),p=ye({mutationFn:async v=>await xe("DELETE",`/api/admin/blogs/${v}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post deleted successfully"}),o(null)},onError:()=>{e({title:"Failed to delete blog post",variant:"destructive"})}}),y=()=>{c({title:"",slug:"",excerpt:"",content:"",featuredImageUrl:"",author:"",category:"",tags:"",readTimeMinutes:5,isPublished:!1,isFeatured:!1,sortOrder:0})},m=v=>{var b;r(v),c({title:v.title,slug:v.slug,excerpt:v.excerpt||"",content:v.content||"",featuredImageUrl:v.featuredImageUrl||"",author:v.author||"",category:v.category||"",tags:((b=v.tags)==null?void 0:b.join(", "))||"",readTimeMinutes:v.readTimeMinutes||5,isPublished:v.isPublished??!1,isFeatured:v.isFeatured??!1,sortOrder:v.sortOrder||0}),a(!0)},w=()=>{const v={...l,readTimeMinutes:Number(l.readTimeMinutes)||5,sortOrder:Number(l.sortOrder)||0,tags:l.tags?l.tags.split(",").map(b=>b.trim()).filter(Boolean):[],publishedAt:l.isPublished?new Date().toISOString():null};t?h.mutate({id:t.id,data:v}):f.mutate(v)},g=v=>v.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return d?s.jsx(nt,{title:"Blog Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Blog Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Create and manage blog posts and news articles."}),s.jsxs(Pt,{open:n,onOpenChange:v=>{a(v),v||(r(null),y())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-blog",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Blog Post"]})}),s.jsxs(St,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Et,{children:s.jsx(At,{children:t?"Edit Blog Post":"Add New Blog Post"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:l.title,onChange:v=>{c({...l,title:v.target.value,slug:t?l.slug:g(v.target.value)})},"data-testid":"input-blog-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"slug",children:"URL Slug"}),s.jsx(Y,{id:"slug",value:l.slug,onChange:v=>c({...l,slug:v.target.value}),"data-testid":"input-blog-slug"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(q,{htmlFor:"excerpt",children:"Excerpt (Short Description)"}),s.jsx(lt,{id:"excerpt",value:l.excerpt,onChange:v=>c({...l,excerpt:v.target.value}),rows:2,"data-testid":"input-blog-excerpt"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(q,{htmlFor:"content",children:"Content"}),s.jsx(lt,{id:"content",value:l.content,onChange:v=>c({...l,content:v.target.value}),rows:10,"data-testid":"input-blog-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"featuredImageUrl",children:"Featured Image URL"}),s.jsx(Y,{id:"featuredImageUrl",value:l.featuredImageUrl,onChange:v=>c({...l,featuredImageUrl:v.target.value}),"data-testid":"input-blog-image"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"author",children:"Author"}),s.jsx(Y,{id:"author",value:l.author,onChange:v=>c({...l,author:v.target.value}),"data-testid":"input-blog-author"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:l.category,onChange:v=>c({...l,category:v.target.value}),placeholder:"e.g., News, Events, Tips","data-testid":"input-blog-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(Y,{id:"tags",value:l.tags,onChange:v=>c({...l,tags:v.target.value}),placeholder:"e.g., padel, tournament, tips","data-testid":"input-blog-tags"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"readTime",children:"Read Time (minutes)"}),s.jsx(Y,{id:"readTime",type:"number",value:l.readTimeMinutes,onChange:v=>c({...l,readTimeMinutes:parseInt(v.target.value)||5}),"data-testid":"input-blog-readtime"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:l.sortOrder,onChange:v=>c({...l,sortOrder:parseInt(v.target.value)||0}),"data-testid":"input-blog-sortorder"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isPublished",checked:l.isPublished,onCheckedChange:v=>c({...l,isPublished:v}),"data-testid":"switch-blog-published"}),s.jsx(q,{htmlFor:"isPublished",children:"Published"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isFeatured",checked:l.isFeatured,onCheckedChange:v=>c({...l,isFeatured:v}),"data-testid":"switch-blog-featured"}),s.jsx(q,{htmlFor:"isFeatured",children:"Featured"})]})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsxs(M,{onClick:w,disabled:f.isPending||h.isPending,"data-testid":"button-save-blog",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"," Blog Post"]})})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Title"}),s.jsx(ue,{children:"Author"}),s.jsx(ue,{children:"Category"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{children:"Created"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[u==null?void 0:u.map(v=>s.jsxs(tt,{"data-testid":`row-blog-${v.id}`,children:[s.jsx(ie,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[v.title,v.isFeatured&&s.jsx(fa,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"})]})}),s.jsx(ie,{children:v.author||"-"}),s.jsx(ie,{children:v.category||"-"}),s.jsx(ie,{children:v.isPublished?s.jsxs(le,{variant:"default",className:"gap-1",children:[s.jsx(Zn,{className:"w-3 h-3"})," Published"]}):s.jsxs(le,{variant:"secondary",className:"gap-1",children:[s.jsx(Wi,{className:"w-3 h-3"})," Draft"]})}),s.jsx(ie,{children:v.createdAt?Xn(new Date(v.createdAt),"MMM d, yyyy"):"-"}),s.jsx(ie,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>m(v),"data-testid":`button-edit-blog-${v.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsxs(zf,{open:i===v.id,onOpenChange:b=>!b&&o(null),children:[s.jsx(aP,{asChild:!0,children:s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>o(v.id),"data-testid":`button-delete-blog-${v.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})}),s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Delete Blog Post"}),s.jsxs(Gc,{children:['Are you sure you want to delete "',v.title,'"? This action cannot be undone.']})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{disabled:p.isPending,children:"Cancel"}),s.jsx(Qc,{onClick:()=>p.mutate(v.id),disabled:p.isPending,"data-testid":"button-confirm-delete-blog",children:p.isPending?"Deleting...":"Delete"})]})]})]})]})})]},v.id)),!(u!=null&&u.length)&&s.jsx(tt,{children:s.jsx(ie,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'No blog posts yet. Click "Add Blog Post" to create your first one.'})})]})]})})})]})})}function C$e(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState({name:"",title:"",company:"",avatarUrl:"",quote:"",rating:5,facilityId:"",isFeatured:!1,isActive:!0,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/testimonials"]}),{data:f}=de({queryKey:["/api/facilities"]}),h=ye({mutationFn:async b=>await xe("POST","/api/admin/testimonials",b),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial created successfully"}),a(!1),m()},onError:()=>{e({title:"Failed to create testimonial",variant:"destructive"})}}),p=ye({mutationFn:async({id:b,data:j})=>await xe("PATCH",`/api/admin/testimonials/${b}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial updated successfully"}),a(!1),r(null),m()},onError:()=>{e({title:"Failed to update testimonial",variant:"destructive"})}}),y=ye({mutationFn:async b=>await xe("DELETE",`/api/admin/testimonials/${b}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial deleted successfully"}),o(null)},onError:()=>{e({title:"Failed to delete testimonial",variant:"destructive"})}}),m=()=>{c({name:"",title:"",company:"",avatarUrl:"",quote:"",rating:5,facilityId:"",isFeatured:!1,isActive:!0,sortOrder:0})},w=b=>{r(b),c({name:b.name,title:b.title||"",company:b.company||"",avatarUrl:b.avatarUrl||"",quote:b.quote,rating:b.rating||5,facilityId:b.facilityId||"",isFeatured:b.isFeatured??!1,isActive:b.isActive??!0,sortOrder:b.sortOrder||0}),a(!0)},g=()=>{const b={...l,facilityId:l.facilityId||null};t?p.mutate({id:t.id,data:b}):h.mutate(b)},v=b=>Array.from({length:5}).map((j,_)=>s.jsx(fa,{className:`w-4 h-4 ${_<b?"text-yellow-500 fill-yellow-500":"text-muted-foreground"}`},_));return d?s.jsx(nt,{title:"Testimonials Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Testimonials Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage customer testimonials and reviews displayed on the website."}),s.jsxs(Pt,{open:n,onOpenChange:b=>{a(b),b||(r(null),m())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-testimonial",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Add Testimonial"]})}),s.jsxs(St,{className:"max-w-2xl",children:[s.jsx(Et,{children:s.jsx(At,{children:t?"Edit Testimonial":"Add New Testimonial"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"name",children:"Name"}),s.jsx(Y,{id:"name",value:l.name,onChange:b=>c({...l,name:b.target.value}),"data-testid":"input-testimonial-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"title",children:"Title/Role"}),s.jsx(Y,{id:"title",value:l.title,onChange:b=>c({...l,title:b.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-testimonial-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"company",children:"Company (Optional)"}),s.jsx(Y,{id:"company",value:l.company,onChange:b=>c({...l,company:b.target.value}),"data-testid":"input-testimonial-company"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"avatarUrl",children:"Avatar URL (Optional)"}),s.jsx(Y,{id:"avatarUrl",value:l.avatarUrl,onChange:b=>c({...l,avatarUrl:b.target.value}),"data-testid":"input-testimonial-avatar"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(q,{htmlFor:"quote",children:"Quote"}),s.jsx(lt,{id:"quote",value:l.quote,onChange:b=>c({...l,quote:b.target.value}),rows:4,"data-testid":"input-testimonial-quote"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"rating",children:"Rating (1-5)"}),s.jsxs(Nt,{value:l.rating.toString(),onValueChange:b=>c({...l,rating:parseInt(b)}),children:[s.jsx(bt,{"data-testid":"select-testimonial-rating",children:s.jsx(_t,{})}),s.jsx(wt,{children:[1,2,3,4,5].map(b=>s.jsxs(ke,{value:b.toString(),"data-testid":`select-rating-${b}`,children:[b," Star",b!==1?"s":""]},b))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"facilityId",children:"Associated Facility (Optional)"}),s.jsxs(Nt,{value:l.facilityId,onValueChange:b=>c({...l,facilityId:b==="none"?"":b}),children:[s.jsx(bt,{"data-testid":"select-testimonial-facility",children:s.jsx(_t,{placeholder:"Select facility"})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"none","data-testid":"select-facility-none",children:"None"}),f==null?void 0:f.map(b=>s.jsx(ke,{value:b.id,"data-testid":`select-facility-${b.id}`,children:b.name},b.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:l.sortOrder,onChange:b=>c({...l,sortOrder:parseInt(b.target.value)||0}),"data-testid":"input-testimonial-sortorder"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isActive",checked:l.isActive,onCheckedChange:b=>c({...l,isActive:b}),"data-testid":"switch-testimonial-active"}),s.jsx(q,{htmlFor:"isActive",children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{id:"isFeatured",checked:l.isFeatured,onCheckedChange:b=>c({...l,isFeatured:b}),"data-testid":"switch-testimonial-featured"}),s.jsx(q,{htmlFor:"isFeatured",children:"Featured"})]})]})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsxs(M,{onClick:g,disabled:h.isPending||p.isPending,"data-testid":"button-save-testimonial",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"," Testimonial"]})})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u==null?void 0:u.map(b=>s.jsx(ne,{"data-testid":`card-testimonial-${b.id}`,children:s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(Id,{className:"h-12 w-12",children:[s.jsx(Rd,{src:b.avatarUrl||void 0,alt:b.name}),s.jsx(Md,{children:b.name.charAt(0)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:b.name}),b.isFeatured&&s.jsx(le,{variant:"default",className:"text-xs",children:"Featured"}),!b.isActive&&s.jsx(le,{variant:"secondary",className:"text-xs",children:"Inactive"})]}),(b.title||b.company)&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.title,b.title&&b.company?" at ":"",b.company]}),s.jsx("div",{className:"flex items-center gap-1 mt-1",children:v(b.rating||5)})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>w(b),"data-testid":`button-edit-testimonial-${b.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsxs(zf,{open:i===b.id,onOpenChange:j=>!j&&o(null),children:[s.jsx(aP,{asChild:!0,children:s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>o(b.id),"data-testid":`button-delete-testimonial-${b.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})}),s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Delete Testimonial"}),s.jsxs(Gc,{children:['Are you sure you want to delete the testimonial from "',b.name,'"? This action cannot be undone.']})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{disabled:y.isPending,children:"Cancel"}),s.jsx(Qc,{onClick:()=>y.mutate(b.id),disabled:y.isPending,"data-testid":"button-confirm-delete-testimonial",children:y.isPending?"Deleting...":"Delete"})]})]})]})]})]}),s.jsxs("div",{className:"mt-4 relative pl-4 border-l-2 border-muted",children:[s.jsx(X5,{className:"absolute -left-2.5 -top-1 w-4 h-4 text-muted-foreground bg-card"}),s.jsx("p",{className:"text-sm italic text-muted-foreground",children:b.quote})]})]})},b.id)),!(u!=null&&u.length)&&s.jsx(ne,{className:"col-span-2",children:s.jsx(se,{className:"py-12 text-center text-muted-foreground",children:'No testimonials yet. Click "Add Testimonial" to create your first one.'})})]})]})})}const P$e={USER:"User",EDITOR:"Editor (Reception)",ADMIN:"Admin",SUPER_ADMIN:"Super Admin"},E$e={USER:"outline",EDITOR:"secondary",ADMIN:"default",SUPER_ADMIN:"destructive"};function A$e(){const{toast:e}=ht(),[t,r]=x.useState(""),[n,a]=x.useState("all"),[i,o]=x.useState(null),[l,c]=x.useState(""),[u,d]=x.useState(!1),{data:f,isLoading:h}=de({queryKey:["/api/admin/users"]}),{data:p}=de({queryKey:["/api/auth/user"]}),y=ye({mutationFn:async({userId:b,role:j})=>await xe("PATCH",`/api/admin/users/${b}`,{role:j}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Role Updated",description:"User role has been updated successfully."}),d(!1),o(null),c("")},onError:b=>{e({title:"Error",description:b.message||"Failed to update user role.",variant:"destructive"})}}),m=(f==null?void 0:f.filter(b=>{var N,S,C;const j=((N=b.email)==null?void 0:N.toLowerCase().includes(t.toLowerCase()))||((S=b.firstName)==null?void 0:S.toLowerCase().includes(t.toLowerCase()))||((C=b.lastName)==null?void 0:C.toLowerCase().includes(t.toLowerCase())),_=n==="all"||b.role===n;return j&&_}))??[],w=b=>{o(b),c(b.role),d(!0)},g=()=>{i&&l&&y.mutate({userId:i.id,role:l})};return(p==null?void 0:p.role)==="SUPER_ADMIN"?s.jsxs(nt,{title:"User Role Management",children:[s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(FG,{className:"w-5 h-5"}),"Manage User Roles"]})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Dp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Y,{placeholder:"Search by name or email...",value:t,onChange:b=>r(b.target.value),className:"pl-9","data-testid":"input-user-search"})]}),s.jsxs(Nt,{value:n,onValueChange:a,children:[s.jsx(bt,{className:"w-[180px]","data-testid":"select-role-filter",children:s.jsx(_t,{placeholder:"Filter by role"})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"all",children:"All Roles"}),s.jsx(ke,{value:"USER",children:"Users"}),s.jsx(ke,{value:"EDITOR",children:"Editors"}),s.jsx(ke,{value:"ADMIN",children:"Admins"}),s.jsx(ke,{value:"SUPER_ADMIN",children:"Super Admins"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(ne,{children:s.jsx(se,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.length)??0})]}),s.jsx(yr,{className:"w-8 h-8 text-muted-foreground"})]})})}),s.jsx(ne,{children:s.jsx(se,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Editors"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(b=>b.role==="EDITOR").length)??0})]})})}),s.jsx(ne,{children:s.jsx(se,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Admins"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(b=>b.role==="ADMIN").length)??0})]})})}),s.jsx(ne,{children:s.jsx(se,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Super Admins"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(b=>b.role==="SUPER_ADMIN").length)??0})]})})})]}),h?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"User"}),s.jsx(ue,{children:"Email"}),s.jsx(ue,{children:"Current Role"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:m.length===0?s.jsx(tt,{children:s.jsx(ie,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No users found"})}):m.map(b=>{var j,_;return s.jsxs(tt,{"data-testid":`row-user-${b.id}`,children:[s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:b.profileImageUrl?s.jsx("img",{src:b.profileImageUrl,alt:"",className:"w-full h-full rounded-full object-cover"}):s.jsxs("span",{className:"text-xs font-medium",children:[(j=b.firstName)==null?void 0:j[0],(_=b.lastName)==null?void 0:_[0]]})}),s.jsxs("span",{className:"font-medium",children:[b.firstName," ",b.lastName]})]})}),s.jsx(ie,{className:"text-muted-foreground",children:b.email}),s.jsx(ie,{children:s.jsx(le,{variant:E$e[b.role]||"outline",children:P$e[b.role]||b.role})}),s.jsx(ie,{className:"text-right",children:s.jsx(M,{variant:"outline",size:"sm",onClick:()=>w(b),disabled:b.id===(p==null?void 0:p.id),"data-testid":`button-edit-role-${b.id}`,children:"Change Role"})})]},b.id)})})]})})]})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:"Role Permissions"})}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(le,{variant:"outline",children:"USER"}),s.jsx("span",{className:"font-medium",children:"Regular User"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Can make bookings, register for events, and manage their own profile."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(le,{variant:"secondary",children:"EDITOR"}),s.jsx("span",{className:"font-medium",children:"Editor (Reception Staff)"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Can view and manage bookings, process membership applications, view members, and manage certifications. Cannot edit site content, CMS, or settings."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(le,{variant:"default",children:"ADMIN"}),s.jsx("span",{className:"font-medium",children:"Administrator"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full access to all admin features including CMS, site settings, facilities, events, and content management."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(le,{variant:"destructive",children:"SUPER_ADMIN"}),s.jsx("span",{className:"font-medium",children:"Super Administrator"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"All admin permissions plus ability to manage user roles and promote/demote other users."})]})]})})]})]}),s.jsx(Pt,{open:u,onOpenChange:d,children:s.jsxs(St,{children:[s.jsxs(Et,{children:[s.jsx(At,{children:"Change User Role"}),s.jsxs(Rs,{children:["Update the role for ",i==null?void 0:i.firstName," ",i==null?void 0:i.lastName]})]}),s.jsx("div",{className:"py-4",children:s.jsxs(Nt,{value:l,onValueChange:b=>c(b),children:[s.jsx(bt,{"data-testid":"select-new-role",children:s.jsx(_t,{placeholder:"Select new role"})}),s.jsxs(wt,{children:[s.jsx(ke,{value:"USER",children:"User"}),s.jsx(ke,{value:"EDITOR",children:"Editor (Reception)"}),s.jsx(ke,{value:"ADMIN",children:"Admin"}),s.jsx(ke,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})}),s.jsxs(Lx,{children:[s.jsx(M,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(M,{onClick:g,disabled:y.isPending||!l,"data-testid":"button-confirm-role-change",children:y.isPending?"Updating...":"Update Role"})]})]})})]}):s.jsx(nt,{title:"User Management",children:s.jsx("div",{className:"p-6",children:s.jsx(ne,{children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx(ui,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"Only Super Admins can manage user roles."})]})})})})}function O$e(){const{data:e,isLoading:t}=de({queryKey:["/api/blogs"]}),r=(e==null?void 0:e.filter(a=>a.isFeatured))||[],n=(e==null?void 0:e.filter(a=>!a.isFeatured))||[];return s.jsxs(s.Fragment,{children:[s.jsx(sr,{}),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("section",{className:"relative py-20 bg-gradient-to-b from-primary/10 to-background",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-blog-title",children:"News & Updates"}),s.jsx("p",{className:"text-lg text-muted-foreground","data-testid":"text-blog-subtitle",children:"Stay updated with the latest news, tips, and happenings at The Quarterdeck"})]})})}),s.jsx("section",{className:"container mx-auto px-4 py-12",children:t?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>s.jsxs(ne,{children:[s.jsx(De,{className:"h-48 w-full rounded-t-lg"}),s.jsxs(Le,{children:[s.jsx(De,{className:"h-6 w-3/4"}),s.jsx(De,{className:"h-4 w-1/2 mt-2"})]}),s.jsxs(se,{children:[s.jsx(De,{className:"h-4 w-full"}),s.jsx(De,{className:"h-4 w-5/6 mt-2"})]})]},a))}):(e==null?void 0:e.length)===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"We're working on bringing you exciting content. Check back soon!"})]}):s.jsxs(s.Fragment,{children:[r.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(fa,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),"Featured Posts"]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(a=>s.jsx(gM,{blog:a,featured:!0},a.id))})]}),n.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Latest Posts"}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>s.jsx(gM,{blog:a},a.id))})]})]})})]}),s.jsx(ar,{})]})}function gM({blog:e,featured:t=!1}){return s.jsxs(ne,{className:`overflow-hidden hover-elevate transition-all ${t?"md:col-span-1":""}`,"data-testid":`card-blog-${e.id}`,children:[e.featuredImageUrl&&s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:e.featuredImageUrl,alt:e.title,className:"w-full h-full object-cover"}),e.category&&s.jsx(le,{className:"absolute top-3 left-3",variant:"secondary",children:e.category})]}),s.jsxs(Le,{className:"pb-2",children:[s.jsx(ge,{href:`/blog/${e.slug}`,children:s.jsx("h3",{className:"text-xl font-semibold hover:text-primary transition-colors line-clamp-2 cursor-pointer",children:e.title})}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-2",children:[e.publishedAt&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(mr,{className:"w-3.5 h-3.5"}),Xn(new Date(e.publishedAt),"MMM d, yyyy")]}),e.readTimeMinutes&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"w-3.5 h-3.5"}),e.readTimeMinutes," min read"]})]})]}),s.jsx(se,{className:"pb-2",children:e.excerpt&&s.jsx("p",{className:"text-muted-foreground line-clamp-3",children:e.excerpt})}),s.jsx(Px,{className:"pt-2",children:s.jsx(ge,{href:`/blog/${e.slug}`,children:s.jsxs(M,{variant:"ghost",className:"gap-2 p-0 h-auto","data-testid":`button-read-blog-${e.id}`,children:["Read More ",s.jsx(lb,{className:"w-4 h-4"})]})})})]})}function T$e(){var a;const{slug:e}=sb(),{data:t,isLoading:r,error:n}=de({queryKey:["/api/blogs",e]});return r?s.jsxs(s.Fragment,{children:[s.jsx(sr,{}),s.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx(De,{className:"h-8 w-1/3 mb-4"}),s.jsx(De,{className:"h-12 w-3/4 mb-4"}),s.jsx(De,{className:"h-6 w-1/2 mb-8"}),s.jsx(De,{className:"h-64 w-full mb-8"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(De,{className:"h-4 w-full"}),s.jsx(De,{className:"h-4 w-full"}),s.jsx(De,{className:"h-4 w-5/6"}),s.jsx(De,{className:"h-4 w-full"}),s.jsx(De,{className:"h-4 w-4/5"})]})]}),s.jsx(ar,{})]}):n||!t?s.jsxs(s.Fragment,{children:[s.jsx(sr,{}),s.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Post Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"The blog post you're looking for doesn't exist or has been removed."}),s.jsx(ge,{href:"/blog",children:s.jsxs(M,{children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Back to Blog"]})})]}),s.jsx(ar,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(sr,{}),s.jsx("article",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx(ge,{href:"/blog",children:s.jsxs(M,{variant:"ghost",className:"mb-6 gap-2","data-testid":"button-back-blog",children:[s.jsx(Sn,{className:"w-4 h-4"}),"Back to Blog"]})}),s.jsxs("header",{className:"mb-8",children:[t.category&&s.jsx(le,{className:"mb-4",variant:"secondary",children:t.category}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4","data-testid":"text-blogpost-title",children:t.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[t.author&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(cs,{className:"w-4 h-4"}),t.author]}),t.publishedAt&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(mr,{className:"w-4 h-4"}),Xn(new Date(t.publishedAt),"MMMM d, yyyy")]}),t.readTimeMinutes&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Ht,{className:"w-4 h-4"}),t.readTimeMinutes," min read"]})]})]}),t.featuredImageUrl&&s.jsx("div",{className:"relative mb-8 rounded-lg overflow-hidden",children:s.jsx("img",{src:t.featuredImageUrl,alt:t.title,className:"w-full h-auto max-h-[500px] object-cover","data-testid":"img-blogpost-featured"})}),t.excerpt&&s.jsx("p",{className:"text-xl text-muted-foreground mb-8 font-medium border-l-4 border-primary pl-4",children:t.excerpt}),s.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none","data-testid":"content-blogpost",children:(a=t.content)==null?void 0:a.split(`
`).map((i,o)=>i.trim()&&s.jsx("p",{children:i},o))}),t.tags&&t.tags.length>0&&s.jsxs("div",{className:"mt-12 pt-8 border-t",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((i,o)=>s.jsx(le,{variant:"outline",children:i},o))})]})]})}),s.jsx(ar,{})]})}function I$e(){Ur({title:"Testimonials",description:"Read what our members say about The Quarterdeck. Discover why we're Islamabad's premier sports and recreation complex."});const{data:e,isLoading:t}=de({queryKey:["/api/testimonials"]}),r=(e==null?void 0:e.filter(a=>a.isFeatured))||[],n=(e==null?void 0:e.filter(a=>!a.isFeatured))||[];return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(sr,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:"What Our Members Say",subtitle:"Hear from our community about their experience at The Quarterdeck",testId:"text-testimonials-title"}),s.jsx("section",{className:"container mx-auto px-4 py-12",children:t?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>s.jsx(ne,{children:s.jsxs(se,{className:"p-6",children:[s.jsx(De,{className:"h-4 w-full mb-2"}),s.jsx(De,{className:"h-4 w-5/6 mb-4"}),s.jsx(De,{className:"h-4 w-3/4"}),s.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[s.jsx(De,{className:"w-10 h-10 rounded-full"}),s.jsxs("div",{children:[s.jsx(De,{className:"h-4 w-24"}),s.jsx(De,{className:"h-3 w-16 mt-1"})]})]})]})},a))}):(e==null?void 0:e.length)===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"We're collecting feedback from our members. Check back soon!"})]}):s.jsxs(s.Fragment,{children:[r.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(fa,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),"Featured Reviews"]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(a=>s.jsx(vM,{testimonial:a,featured:!0},a.id))})]}),n.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Member Reviews"}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>s.jsx(vM,{testimonial:a},a.id))})]})]})})]}),s.jsx(ar,{})]})}function vM({testimonial:e,featured:t=!1}){var n;const r=a=>{const i=a||5;return Array.from({length:5}).map((o,l)=>s.jsx(fa,{className:`w-4 h-4 ${l<i?"text-yellow-500 fill-yellow-500":"text-muted-foreground"}`},l))};return s.jsx(ne,{className:`overflow-hidden hover-elevate transition-all ${t?"border-primary/20":""}`,"data-testid":`card-testimonial-${e.id}`,children:s.jsxs(se,{className:"p-6",children:[s.jsx(X5,{className:"w-8 h-8 text-primary/20 mb-4"}),s.jsxs("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:['"',e.quote,'"']}),s.jsx("div",{className:"flex items-center gap-1 mb-4",children:r(e.rating)}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[e.avatarUrl?s.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-semibold text-primary",children:((n=e.name)==null?void 0:n.charAt(0))||"M"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:e.name}),e.title&&s.jsx("p",{className:"text-xs text-muted-foreground",children:e.title})]})]})]})})}function R$e(){const{adminPath:e,isAuthorized:t,isLoading:r}=Vp();if(r||!t)return null;const n=`/${e}`;return s.jsxs(t5,{children:[s.jsx(He,{path:`${n}/homepage`,component:NMe}),s.jsx(He,{path:`${n}/coming-soon`,component:_Me}),s.jsx(He,{path:`${n}/venues`,component:x$e}),s.jsx(He,{path:`${n}/facilities`,component:SMe}),s.jsx(He,{path:`${n}/roadmap`,component:$Me}),s.jsx(He,{path:`${n}/events`,component:DMe}),s.jsx(He,{path:`${n}/pricing`,component:LMe}),s.jsx(He,{path:`${n}/membership-tiers`,component:FMe}),s.jsx(He,{path:`${n}/announcements`,component:UMe}),s.jsx(He,{path:`${n}/careers`,component:BMe}),s.jsx(He,{path:`${n}/rules`,component:VMe}),s.jsx(He,{path:`${n}/policies`,component:qMe}),s.jsx(He,{path:`${n}/gallery`,component:zMe}),s.jsx(He,{path:`${n}/site-images`,component:WMe}),s.jsx(He,{path:`${n}/hero-sections`,component:g$e}),s.jsx(He,{path:`${n}/ctas`,component:v$e}),s.jsx(He,{path:`${n}/bookings`,component:KMe}),s.jsx(He,{path:`${n}/branding`,component:HMe}),s.jsx(He,{path:`${n}/faq`,component:f$e}),s.jsx(He,{path:`${n}/members`,component:h$e}),s.jsx(He,{path:`${n}/membership-applications`,component:y$e}),s.jsx(He,{path:`${n}/certifications`,component:b$e}),s.jsx(He,{path:`${n}/comparison-features`,component:j$e}),s.jsx(He,{path:`${n}/member-benefits`,component:S$e}),s.jsx(He,{path:`${n}/blogs`,component:k$e}),s.jsx(He,{path:`${n}/testimonials`,component:C$e}),s.jsx(He,{path:`${n}/user-management`,component:A$e}),s.jsx(He,{path:`${n}/site-settings`,component:m$e}),s.jsx(He,{path:n,component:gMe})]})}function M$e(){const{adminPath:e,isAuthorized:t}=Vp(),[r]=Ln();return t&&e&&r.startsWith(`/${e}`)?null:s.jsxs(t5,{children:[s.jsx(He,{path:"/booking",component:cie}),s.jsx(He,{path:"/profile",component:wie}),s.jsx(He,{path:"/events/:slug",component:Hoe}),s.jsx(He,{path:"/events",component:Voe}),s.jsx(He,{path:"/leaderboard",component:Qoe}),s.jsx(He,{path:"/gallery",component:Yoe}),s.jsx(He,{path:"/vision",component:Xoe}),s.jsx(He,{path:"/facilities/:slug",component:dle}),s.jsx(He,{path:"/facilities",component:nle}),s.jsx(He,{path:"/roadmap",component:hle}),s.jsx(He,{path:"/rules",component:Rle}),s.jsx(He,{path:"/careers",component:Lle}),s.jsx(He,{path:"/terms",component:Fle}),s.jsx(He,{path:"/privacy",component:Ule}),s.jsx(He,{path:"/coming-soon",component:Vle}),s.jsx(He,{path:"/contact",component:zle}),s.jsx(He,{path:"/faq",component:Hle}),s.jsx(He,{path:"/membership",component:Dce}),s.jsx(He,{path:"/blog/:slug",component:T$e}),s.jsx(He,{path:"/blog",component:O$e}),s.jsx(He,{path:"/testimonials",component:I$e}),s.jsx(He,{path:"/certifications",component:Lce}),s.jsx(He,{path:"/updates",component:Fce}),s.jsx(He,{path:"/login",component:nue}),s.jsx(He,{path:"/signup",component:cue}),s.jsx(He,{path:"/forgot-password",component:due}),s.jsx(He,{path:"/verify-email",component:mue}),s.jsx(He,{path:"/auth/callback",component:pue}),s.jsx(He,{path:"/auth/reset-password",component:hue}),s.jsx(He,{path:"/",component:tie}),s.jsx(He,{component:Uce})]})}function $$e(){return wee(),s.jsxs(s.Fragment,{children:[s.jsx(R$e,{}),s.jsx(M$e,{})]})}function D$e(){const[e,t]=x.useState(!1),r=x.useCallback(()=>{t(!0)},[]);return x.useEffect(()=>{},[]),s.jsx(BK,{client:re,children:s.jsx(wX,{children:s.jsx(cee,{children:s.jsxs(CX,{children:[!e&&s.jsx(bee,{onLoaded:r,minDisplayTime:800}),s.jsx(IQ,{}),s.jsx(yee,{}),s.jsx($$e,{}),s.jsx(uee,{}),s.jsx(xee,{})]})})})})}BD(document.getElementById("root")).render(s.jsx(D$e,{}));
