var fP=e=>{throw TypeError(e)};var sw=(e,t,r)=>t.has(e)||fP("Cannot "+r);var H=(e,t,r)=>(sw(e,t,"read from private field"),r?r.call(e):t.get(e)),Je=(e,t,r)=>t.has(e)?fP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ie=(e,t,r,n)=>(sw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),bt=(e,t,r)=>(sw(e,t,"access private method"),r);var mg=(e,t,r,n)=>({set _(a){Ie(e,t,a,r)},get _(){return H(e,t,n)}});function m7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var CM={exports:{}},Vy={},PM={exports:{}},It={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=Symbol.for("react.element"),p7=Symbol.for("react.portal"),g7=Symbol.for("react.fragment"),x7=Symbol.for("react.strict_mode"),v7=Symbol.for("react.profiler"),y7=Symbol.for("react.provider"),b7=Symbol.for("react.context"),w7=Symbol.for("react.forward_ref"),j7=Symbol.for("react.suspense"),N7=Symbol.for("react.memo"),_7=Symbol.for("react.lazy"),hP=Symbol.iterator;function S7(e){return e===null||typeof e!="object"?null:(e=hP&&e[hP]||e["@@iterator"],typeof e=="function"?e:null)}var EM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AM=Object.assign,OM={};function uf(e,t,r){this.props=e,this.context=t,this.refs=OM,this.updater=r||EM}uf.prototype.isReactComponent={};uf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function TM(){}TM.prototype=uf.prototype;function NS(e,t,r){this.props=e,this.context=t,this.refs=OM,this.updater=r||EM}var _S=NS.prototype=new TM;_S.constructor=NS;AM(_S,uf.prototype);_S.isPureReactComponent=!0;var mP=Array.isArray,IM=Object.prototype.hasOwnProperty,SS={current:null},RM={key:!0,ref:!0,__self:!0,__source:!0};function MM(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)IM.call(t,n)&&!RM.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:kp,type:e,key:i,ref:o,props:a,_owner:SS.current}}function k7(e,t){return{$$typeof:kp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kS(e){return typeof e=="object"&&e!==null&&e.$$typeof===kp}function C7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var pP=/\/+/g;function aw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C7(""+e.key):t.toString(36)}function mx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case kp:case p7:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+aw(o,0):n,mP(a)?(r="",e!=null&&(r=e.replace(pP,"$&/")+"/"),mx(a,t,r,"",function(u){return u})):a!=null&&(kS(a)&&(a=k7(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(pP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",mP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+aw(i,l);o+=mx(i,t,r,c,a)}else if(c=S7(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+aw(i,l++),o+=mx(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gg(e,t,r){if(e==null)return e;var n=[],a=0;return mx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function P7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var es={current:null},px={transition:null},E7={ReactCurrentDispatcher:es,ReactCurrentBatchConfig:px,ReactCurrentOwner:SS};function $M(){throw Error("act(...) is not supported in production builds of React.")}It.Children={map:gg,forEach:function(e,t,r){gg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gg(e,function(){t++}),t},toArray:function(e){return gg(e,function(t){return t})||[]},only:function(e){if(!kS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};It.Component=uf;It.Fragment=g7;It.Profiler=v7;It.PureComponent=NS;It.StrictMode=x7;It.Suspense=j7;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E7;It.act=$M;It.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=AM({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=SS.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)IM.call(t,c)&&!RM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:kp,type:e.type,key:a,ref:i,props:n,_owner:o}};It.createContext=function(e){return e={$$typeof:b7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:y7,_context:e},e.Consumer=e};It.createElement=MM;It.createFactory=function(e){var t=MM.bind(null,e);return t.type=e,t};It.createRef=function(){return{current:null}};It.forwardRef=function(e){return{$$typeof:w7,render:e}};It.isValidElement=kS;It.lazy=function(e){return{$$typeof:_7,_payload:{_status:-1,_result:e},_init:P7}};It.memo=function(e,t){return{$$typeof:N7,type:e,compare:t===void 0?null:t}};It.startTransition=function(e){var t=px.transition;px.transition={};try{e()}finally{px.transition=t}};It.unstable_act=$M;It.useCallback=function(e,t){return es.current.useCallback(e,t)};It.useContext=function(e){return es.current.useContext(e)};It.useDebugValue=function(){};It.useDeferredValue=function(e){return es.current.useDeferredValue(e)};It.useEffect=function(e,t){return es.current.useEffect(e,t)};It.useId=function(){return es.current.useId()};It.useImperativeHandle=function(e,t,r){return es.current.useImperativeHandle(e,t,r)};It.useInsertionEffect=function(e,t){return es.current.useInsertionEffect(e,t)};It.useLayoutEffect=function(e,t){return es.current.useLayoutEffect(e,t)};It.useMemo=function(e,t){return es.current.useMemo(e,t)};It.useReducer=function(e,t,r){return es.current.useReducer(e,t,r)};It.useRef=function(e){return es.current.useRef(e)};It.useState=function(e){return es.current.useState(e)};It.useSyncExternalStore=function(e,t,r){return es.current.useSyncExternalStore(e,t,r)};It.useTransition=function(){return es.current.useTransition()};It.version="18.3.1";PM.exports=It;var v=PM.exports;const L=Yt(v),qy=m7({__proto__:null,default:L},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A7=v,O7=Symbol.for("react.element"),T7=Symbol.for("react.fragment"),I7=Object.prototype.hasOwnProperty,R7=A7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M7={key:!0,ref:!0,__self:!0,__source:!0};function DM(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)I7.call(t,n)&&!M7.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:O7,type:e,key:i,ref:o,props:a,_owner:R7.current}}Vy.Fragment=T7;Vy.jsx=DM;Vy.jsxs=DM;CM.exports=Vy;var s=CM.exports,LM={exports:{}},Vs={},FM={exports:{}},UM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,$){var Q=A.length;A.push($);e:for(;0<Q;){var X=Q-1>>>1,F=A[X];if(0<a(F,$))A[X]=$,A[Q]=F,Q=X;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var $=A[0],Q=A.pop();if(Q!==$){A[0]=Q;e:for(var X=0,F=A.length,J=F>>>1;X<J;){var q=2*(X+1)-1,ee=A[q],pe=q+1,te=A[pe];if(0>a(ee,Q))pe<F&&0>a(te,ee)?(A[X]=te,A[pe]=Q,X=pe):(A[X]=ee,A[q]=Q,X=q);else if(pe<F&&0>a(te,Q))A[X]=te,A[pe]=Q,X=pe;else break e}}return $}function a(A,$){var Q=A.sortIndex-$.sortIndex;return Q!==0?Q:A.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=A)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function j(A){if(m=!1,b(A),!y)if(r(c)!==null)y=!0,O(_);else{var $=r(u);$!==null&&z(j,$.startTime-A)}}function _(A,$){y=!1,m&&(m=!1,g(C),C=-1),p=!0;var Q=h;try{for(b($),f=r(c);f!==null&&(!(f.expirationTime>$)||A&&!E());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var F=X(f.expirationTime<=$);$=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),b($)}else n(c);f=r(c)}if(f!==null)var J=!0;else{var q=r(u);q!==null&&z(j,q.startTime-$),J=!1}return J}finally{f=null,h=Q,p=!1}}var N=!1,S=null,C=-1,P=5,k=-1;function E(){return!(e.unstable_now()-k<P)}function T(){if(S!==null){var A=e.unstable_now();k=A;var $=!0;try{$=S(!0,A)}finally{$?I():(N=!1,S=null)}}else N=!1}var I;if(typeof x=="function")I=function(){x(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,D=R.port2;R.port1.onmessage=T,I=function(){D.postMessage(null)}}else I=function(){w(T,0)};function O(A){S=A,N||(N=!0,I())}function z(A,$){C=w(function(){A(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,O(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var Q=h;h=$;try{return A()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var Q=h;h=A;try{return $()}finally{h=Q}},e.unstable_scheduleCallback=function(A,$,Q){var X=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?X+Q:X):Q=X,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,A={id:d++,callback:$,priorityLevel:A,startTime:Q,expirationTime:F,sortIndex:-1},Q>X?(A.sortIndex=Q,t(u,A),r(c)===null&&A===r(u)&&(m?(g(C),C=-1):m=!0,z(j,Q-X))):(A.sortIndex=F,t(c,A),y||p||(y=!0,O(_))),A},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(A){var $=h;return function(){var Q=h;h=$;try{return A.apply(this,arguments)}finally{h=Q}}}})(UM);FM.exports=UM;var $7=FM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D7=v,$s=$7;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BM=new Set,em={};function Tc(e,t){vd(e,t),vd(e+"Capture",t)}function vd(e,t){for(em[e]=t,e=0;e<t.length;e++)BM.add(t[e])}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vj=Object.prototype.hasOwnProperty,L7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gP={},xP={};function F7(e){return Vj.call(xP,e)?!0:Vj.call(gP,e)?!1:L7.test(e)?xP[e]=!0:(gP[e]=!0,!1)}function U7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B7(e,t,r,n){if(t===null||typeof t>"u"||U7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ts(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){En[e]=new ts(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];En[t]=new ts(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){En[e]=new ts(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){En[e]=new ts(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){En[e]=new ts(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){En[e]=new ts(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){En[e]=new ts(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){En[e]=new ts(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){En[e]=new ts(e,5,!1,e.toLowerCase(),null,!1,!1)});var CS=/[\-:]([a-z])/g;function PS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(CS,PS);En[t]=new ts(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(CS,PS);En[t]=new ts(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(CS,PS);En[t]=new ts(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){En[e]=new ts(e,1,!1,e.toLowerCase(),null,!1,!1)});En.xlinkHref=new ts("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){En[e]=new ts(e,1,!1,e.toLowerCase(),null,!0,!0)});function ES(e,t,r,n){var a=En.hasOwnProperty(t)?En[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B7(t,r,a,n)&&(r=null),n||a===null?F7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ji=D7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xg=Symbol.for("react.element"),ku=Symbol.for("react.portal"),Cu=Symbol.for("react.fragment"),AS=Symbol.for("react.strict_mode"),qj=Symbol.for("react.profiler"),VM=Symbol.for("react.provider"),qM=Symbol.for("react.context"),OS=Symbol.for("react.forward_ref"),zj=Symbol.for("react.suspense"),Wj=Symbol.for("react.suspense_list"),TS=Symbol.for("react.memo"),po=Symbol.for("react.lazy"),zM=Symbol.for("react.offscreen"),vP=Symbol.iterator;function Gf(e){return e===null||typeof e!="object"?null:(e=vP&&e[vP]||e["@@iterator"],typeof e=="function"?e:null)}var Pr=Object.assign,iw;function vh(e){if(iw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);iw=t&&t[1]||""}return`
`+iw+e}var ow=!1;function lw(e,t){if(!e||ow)return"";ow=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ow=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?vh(e):""}function V7(e){switch(e.tag){case 5:return vh(e.type);case 16:return vh("Lazy");case 13:return vh("Suspense");case 19:return vh("SuspenseList");case 0:case 2:case 15:return e=lw(e.type,!1),e;case 11:return e=lw(e.type.render,!1),e;case 1:return e=lw(e.type,!0),e;default:return""}}function Kj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cu:return"Fragment";case ku:return"Portal";case qj:return"Profiler";case AS:return"StrictMode";case zj:return"Suspense";case Wj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qM:return(e.displayName||"Context")+".Consumer";case VM:return(e._context.displayName||"Context")+".Provider";case OS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case TS:return t=e.displayName||null,t!==null?t:Kj(e.type)||"Memo";case po:t=e._payload,e=e._init;try{return Kj(e(t))}catch{}}return null}function q7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kj(t);case 8:return t===AS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function WM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z7(e){var t=WM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vg(e){e._valueTracker||(e._valueTracker=z7(e))}function KM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=WM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Rx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hj(e,t){var r=t.checked;return Pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function yP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function HM(e,t){t=t.checked,t!=null&&ES(e,"checked",t,!1)}function Gj(e,t){HM(e,t);var r=Yo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qj(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qj(e,t.type,Yo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qj(e,t,r){(t!=="number"||Rx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yh=Array.isArray;function Hu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Yj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return Pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ne(92));if(yh(r)){if(1<r.length)throw Error(Ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yo(r)}}function GM(e,t){var r=Yo(t.value),n=Yo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function QM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?QM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yg,YM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yg=yg||document.createElement("div"),yg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W7=["Webkit","ms","Moz","O"];Object.keys(Th).forEach(function(e){W7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Th[t]=Th[e]})});function XM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Th.hasOwnProperty(e)&&Th[e]?(""+t).trim():t+"px"}function JM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=XM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var K7=Pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jj(e,t){if(t){if(K7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function Zj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e1=null;function IS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var t1=null,Gu=null,Qu=null;function NP(e){if(e=Ep(e)){if(typeof t1!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=Gy(t),t1(e.stateNode,e.type,t))}}function ZM(e){Gu?Qu?Qu.push(e):Qu=[e]:Gu=e}function e$(){if(Gu){var e=Gu,t=Qu;if(Qu=Gu=null,NP(e),t)for(e=0;e<t.length;e++)NP(t[e])}}function t$(e,t){return e(t)}function r$(){}var cw=!1;function n$(e,t,r){if(cw)return e(t,r);cw=!0;try{return t$(e,t,r)}finally{cw=!1,(Gu!==null||Qu!==null)&&(r$(),e$())}}function rm(e,t){var r=e.stateNode;if(r===null)return null;var n=Gy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ne(231,t,typeof r));return r}var r1=!1;if(Fi)try{var Qf={};Object.defineProperty(Qf,"passive",{get:function(){r1=!0}}),window.addEventListener("test",Qf,Qf),window.removeEventListener("test",Qf,Qf)}catch{r1=!1}function H7(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ih=!1,Mx=null,$x=!1,n1=null,G7={onError:function(e){Ih=!0,Mx=e}};function Q7(e,t,r,n,a,i,o,l,c){Ih=!1,Mx=null,H7.apply(G7,arguments)}function Y7(e,t,r,n,a,i,o,l,c){if(Q7.apply(this,arguments),Ih){if(Ih){var u=Mx;Ih=!1,Mx=null}else throw Error(Ne(198));$x||($x=!0,n1=u)}}function Ic(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function s$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _P(e){if(Ic(e)!==e)throw Error(Ne(188))}function X7(e){var t=e.alternate;if(!t){if(t=Ic(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return _P(a),e;if(i===n)return _P(a),t;i=i.sibling}throw Error(Ne(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Ne(189))}}if(r.alternate!==n)throw Error(Ne(190))}if(r.tag!==3)throw Error(Ne(188));return r.stateNode.current===r?e:t}function a$(e){return e=X7(e),e!==null?i$(e):null}function i$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=i$(e);if(t!==null)return t;e=e.sibling}return null}var o$=$s.unstable_scheduleCallback,SP=$s.unstable_cancelCallback,J7=$s.unstable_shouldYield,Z7=$s.unstable_requestPaint,Br=$s.unstable_now,ez=$s.unstable_getCurrentPriorityLevel,RS=$s.unstable_ImmediatePriority,l$=$s.unstable_UserBlockingPriority,Dx=$s.unstable_NormalPriority,tz=$s.unstable_LowPriority,c$=$s.unstable_IdlePriority,zy=null,ri=null;function rz(e){if(ri&&typeof ri.onCommitFiberRoot=="function")try{ri.onCommitFiberRoot(zy,e,void 0,(e.current.flags&128)===128)}catch{}}var Ra=Math.clz32?Math.clz32:az,nz=Math.log,sz=Math.LN2;function az(e){return e>>>=0,e===0?32:31-(nz(e)/sz|0)|0}var bg=64,wg=4194304;function bh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=bh(l):(i&=o,i!==0&&(n=bh(i)))}else o=r&~a,o!==0?n=bh(o):i!==0&&(n=bh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ra(t),a=1<<r,n|=e[r],t&=~a;return n}function iz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oz(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ra(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=iz(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function s1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function u$(){var e=bg;return bg<<=1,!(bg&4194240)&&(bg=64),e}function uw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ra(t),e[t]=r}function lz(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ra(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function MS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ra(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var tr=0;function d$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var f$,$S,h$,m$,p$,a1=!1,jg=[],Do=null,Lo=null,Fo=null,nm=new Map,sm=new Map,wo=[],cz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kP(e,t){switch(e){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":nm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sm.delete(t.pointerId)}}function Yf(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ep(t),t!==null&&$S(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function uz(e,t,r,n,a){switch(t){case"focusin":return Do=Yf(Do,e,t,r,n,a),!0;case"dragenter":return Lo=Yf(Lo,e,t,r,n,a),!0;case"mouseover":return Fo=Yf(Fo,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return nm.set(i,Yf(nm.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,sm.set(i,Yf(sm.get(i)||null,e,t,r,n,a)),!0}return!1}function g$(e){var t=Ll(e.target);if(t!==null){var r=Ic(t);if(r!==null){if(t=r.tag,t===13){if(t=s$(r),t!==null){e.blockedOn=t,p$(e.priority,function(){h$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=i1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);e1=n,r.target.dispatchEvent(n),e1=null}else return t=Ep(r),t!==null&&$S(t),e.blockedOn=r,!1;t.shift()}return!0}function CP(e,t,r){gx(e)&&r.delete(t)}function dz(){a1=!1,Do!==null&&gx(Do)&&(Do=null),Lo!==null&&gx(Lo)&&(Lo=null),Fo!==null&&gx(Fo)&&(Fo=null),nm.forEach(CP),sm.forEach(CP)}function Xf(e,t){e.blockedOn===t&&(e.blockedOn=null,a1||(a1=!0,$s.unstable_scheduleCallback($s.unstable_NormalPriority,dz)))}function am(e){function t(a){return Xf(a,e)}if(0<jg.length){Xf(jg[0],e);for(var r=1;r<jg.length;r++){var n=jg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Do!==null&&Xf(Do,e),Lo!==null&&Xf(Lo,e),Fo!==null&&Xf(Fo,e),nm.forEach(t),sm.forEach(t),r=0;r<wo.length;r++)n=wo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<wo.length&&(r=wo[0],r.blockedOn===null);)g$(r),r.blockedOn===null&&wo.shift()}var Yu=Ji.ReactCurrentBatchConfig,Fx=!0;function fz(e,t,r,n){var a=tr,i=Yu.transition;Yu.transition=null;try{tr=1,DS(e,t,r,n)}finally{tr=a,Yu.transition=i}}function hz(e,t,r,n){var a=tr,i=Yu.transition;Yu.transition=null;try{tr=4,DS(e,t,r,n)}finally{tr=a,Yu.transition=i}}function DS(e,t,r,n){if(Fx){var a=i1(e,t,r,n);if(a===null)bw(e,t,n,Ux,r),kP(e,n);else if(uz(a,e,t,r,n))n.stopPropagation();else if(kP(e,n),t&4&&-1<cz.indexOf(e)){for(;a!==null;){var i=Ep(a);if(i!==null&&f$(i),i=i1(e,t,r,n),i===null&&bw(e,t,n,Ux,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else bw(e,t,n,null,r)}}var Ux=null;function i1(e,t,r,n){if(Ux=null,e=IS(n),e=Ll(e),e!==null)if(t=Ic(e),t===null)e=null;else if(r=t.tag,r===13){if(e=s$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ux=e,null}function x$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ez()){case RS:return 1;case l$:return 4;case Dx:case tz:return 16;case c$:return 536870912;default:return 16}default:return 16}}var Ro=null,LS=null,xx=null;function v$(){if(xx)return xx;var e,t=LS,r=t.length,n,a="value"in Ro?Ro.value:Ro.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return xx=a.slice(e,1<n?1-n:void 0)}function vx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ng(){return!0}function PP(){return!1}function qs(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ng:PP,this.isPropagationStopped=PP,this}return Pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ng)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ng)},persist:function(){},isPersistent:Ng}),t}var df={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FS=qs(df),Pp=Pr({},df,{view:0,detail:0}),mz=qs(Pp),dw,fw,Jf,Wy=Pr({},Pp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:US,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jf&&(Jf&&e.type==="mousemove"?(dw=e.screenX-Jf.screenX,fw=e.screenY-Jf.screenY):fw=dw=0,Jf=e),dw)},movementY:function(e){return"movementY"in e?e.movementY:fw}}),EP=qs(Wy),pz=Pr({},Wy,{dataTransfer:0}),gz=qs(pz),xz=Pr({},Pp,{relatedTarget:0}),hw=qs(xz),vz=Pr({},df,{animationName:0,elapsedTime:0,pseudoElement:0}),yz=qs(vz),bz=Pr({},df,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wz=qs(bz),jz=Pr({},df,{data:0}),AP=qs(jz),Nz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sz[e])?!!t[e]:!1}function US(){return kz}var Cz=Pr({},Pp,{key:function(e){if(e.key){var t=Nz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_z[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:US,charCode:function(e){return e.type==="keypress"?vx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pz=qs(Cz),Ez=Pr({},Wy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OP=qs(Ez),Az=Pr({},Pp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:US}),Oz=qs(Az),Tz=Pr({},df,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iz=qs(Tz),Rz=Pr({},Wy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mz=qs(Rz),$z=[9,13,27,32],BS=Fi&&"CompositionEvent"in window,Rh=null;Fi&&"documentMode"in document&&(Rh=document.documentMode);var Dz=Fi&&"TextEvent"in window&&!Rh,y$=Fi&&(!BS||Rh&&8<Rh&&11>=Rh),TP=" ",IP=!1;function b$(e,t){switch(e){case"keyup":return $z.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pu=!1;function Lz(e,t){switch(e){case"compositionend":return w$(t);case"keypress":return t.which!==32?null:(IP=!0,TP);case"textInput":return e=t.data,e===TP&&IP?null:e;default:return null}}function Fz(e,t){if(Pu)return e==="compositionend"||!BS&&b$(e,t)?(e=v$(),xx=LS=Ro=null,Pu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return y$&&t.locale!=="ko"?null:t.data;default:return null}}var Uz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uz[e.type]:t==="textarea"}function j$(e,t,r,n){ZM(n),t=Bx(t,"onChange"),0<t.length&&(r=new FS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mh=null,im=null;function Bz(e){I$(e,0)}function Ky(e){var t=Ou(e);if(KM(t))return e}function Vz(e,t){if(e==="change")return t}var N$=!1;if(Fi){var mw;if(Fi){var pw="oninput"in document;if(!pw){var MP=document.createElement("div");MP.setAttribute("oninput","return;"),pw=typeof MP.oninput=="function"}mw=pw}else mw=!1;N$=mw&&(!document.documentMode||9<document.documentMode)}function $P(){Mh&&(Mh.detachEvent("onpropertychange",_$),im=Mh=null)}function _$(e){if(e.propertyName==="value"&&Ky(im)){var t=[];j$(t,im,e,IS(e)),n$(Bz,t)}}function qz(e,t,r){e==="focusin"?($P(),Mh=t,im=r,Mh.attachEvent("onpropertychange",_$)):e==="focusout"&&$P()}function zz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ky(im)}function Wz(e,t){if(e==="click")return Ky(t)}function Kz(e,t){if(e==="input"||e==="change")return Ky(t)}function Hz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var La=typeof Object.is=="function"?Object.is:Hz;function om(e,t){if(La(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Vj.call(t,a)||!La(e[a],t[a]))return!1}return!0}function DP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function LP(e,t){var r=DP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=DP(r)}}function S$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function k$(){for(var e=window,t=Rx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Rx(e.document)}return t}function VS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gz(e){var t=k$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&S$(r.ownerDocument.documentElement,r)){if(n!==null&&VS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=LP(r,i);var o=LP(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qz=Fi&&"documentMode"in document&&11>=document.documentMode,Eu=null,o1=null,$h=null,l1=!1;function FP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;l1||Eu==null||Eu!==Rx(n)||(n=Eu,"selectionStart"in n&&VS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$h&&om($h,n)||($h=n,n=Bx(o1,"onSelect"),0<n.length&&(t=new FS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Eu)))}function _g(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Au={animationend:_g("Animation","AnimationEnd"),animationiteration:_g("Animation","AnimationIteration"),animationstart:_g("Animation","AnimationStart"),transitionend:_g("Transition","TransitionEnd")},gw={},C$={};Fi&&(C$=document.createElement("div").style,"AnimationEvent"in window||(delete Au.animationend.animation,delete Au.animationiteration.animation,delete Au.animationstart.animation),"TransitionEvent"in window||delete Au.transitionend.transition);function Hy(e){if(gw[e])return gw[e];if(!Au[e])return e;var t=Au[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in C$)return gw[e]=t[r];return e}var P$=Hy("animationend"),E$=Hy("animationiteration"),A$=Hy("animationstart"),O$=Hy("transitionend"),T$=new Map,UP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(e,t){T$.set(e,t),Tc(t,[e])}for(var xw=0;xw<UP.length;xw++){var vw=UP[xw],Yz=vw.toLowerCase(),Xz=vw[0].toUpperCase()+vw.slice(1);ol(Yz,"on"+Xz)}ol(P$,"onAnimationEnd");ol(E$,"onAnimationIteration");ol(A$,"onAnimationStart");ol("dblclick","onDoubleClick");ol("focusin","onFocus");ol("focusout","onBlur");ol(O$,"onTransitionEnd");vd("onMouseEnter",["mouseout","mouseover"]);vd("onMouseLeave",["mouseout","mouseover"]);vd("onPointerEnter",["pointerout","pointerover"]);vd("onPointerLeave",["pointerout","pointerover"]);Tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jz=new Set("cancel close invalid load scroll toggle".split(" ").concat(wh));function BP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Y7(n,t,void 0,e),e.currentTarget=null}function I$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;BP(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;BP(a,l,u),i=c}}}if($x)throw e=n1,$x=!1,n1=null,e}function pr(e,t){var r=t[h1];r===void 0&&(r=t[h1]=new Set);var n=e+"__bubble";r.has(n)||(R$(t,e,2,!1),r.add(n))}function yw(e,t,r){var n=0;t&&(n|=4),R$(r,e,n,t)}var Sg="_reactListening"+Math.random().toString(36).slice(2);function lm(e){if(!e[Sg]){e[Sg]=!0,BM.forEach(function(r){r!=="selectionchange"&&(Jz.has(r)||yw(r,!1,e),yw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sg]||(t[Sg]=!0,yw("selectionchange",!1,t))}}function R$(e,t,r,n){switch(x$(t)){case 1:var a=fz;break;case 4:a=hz;break;default:a=DS}r=a.bind(null,t,r,e),a=void 0,!r1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function bw(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ll(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}n$(function(){var u=i,d=IS(r),f=[];e:{var h=T$.get(e);if(h!==void 0){var p=FS,y=e;switch(e){case"keypress":if(vx(r)===0)break e;case"keydown":case"keyup":p=Pz;break;case"focusin":y="focus",p=hw;break;case"focusout":y="blur",p=hw;break;case"beforeblur":case"afterblur":p=hw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=EP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Oz;break;case P$:case E$:case A$:p=yz;break;case O$:p=Iz;break;case"scroll":p=mz;break;case"wheel":p=Mz;break;case"copy":case"cut":case"paste":p=wz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=OP}var m=(t&4)!==0,w=!m&&e==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,b;x!==null;){b=x;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,g!==null&&(j=rm(x,g),j!=null&&m.push(cm(x,j,b)))),w)break;x=x.return}0<m.length&&(h=new p(h,y,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==e1&&(y=r.relatedTarget||r.fromElement)&&(Ll(y)||y[Ui]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?Ll(y):null,y!==null&&(w=Ic(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=EP,j="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=OP,j="onPointerLeave",g="onPointerEnter",x="pointer"),w=p==null?h:Ou(p),b=y==null?h:Ou(y),h=new m(j,x+"leave",p,r,d),h.target=w,h.relatedTarget=b,j=null,Ll(d)===u&&(m=new m(g,x+"enter",y,r,d),m.target=b,m.relatedTarget=w,j=m),w=j,p&&y)t:{for(m=p,g=y,x=0,b=m;b;b=ru(b))x++;for(b=0,j=g;j;j=ru(j))b++;for(;0<x-b;)m=ru(m),x--;for(;0<b-x;)g=ru(g),b--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=ru(m),g=ru(g)}m=null}else m=null;p!==null&&VP(f,h,p,m,!1),y!==null&&w!==null&&VP(f,w,y,m,!0)}}e:{if(h=u?Ou(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=Vz;else if(RP(h))if(N$)_=Kz;else{_=zz;var N=qz}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Wz);if(_&&(_=_(e,u))){j$(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Qj(h,"number",h.value)}switch(N=u?Ou(u):window,e){case"focusin":(RP(N)||N.contentEditable==="true")&&(Eu=N,o1=u,$h=null);break;case"focusout":$h=o1=Eu=null;break;case"mousedown":l1=!0;break;case"contextmenu":case"mouseup":case"dragend":l1=!1,FP(f,r,d);break;case"selectionchange":if(Qz)break;case"keydown":case"keyup":FP(f,r,d)}var S;if(BS)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Pu?b$(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(y$&&r.locale!=="ko"&&(Pu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Pu&&(S=v$()):(Ro=d,LS="value"in Ro?Ro.value:Ro.textContent,Pu=!0)),N=Bx(u,C),0<N.length&&(C=new AP(C,e,null,r,d),f.push({event:C,listeners:N}),S?C.data=S:(S=w$(r),S!==null&&(C.data=S)))),(S=Dz?Lz(e,r):Fz(e,r))&&(u=Bx(u,"onBeforeInput"),0<u.length&&(d=new AP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}I$(f,t)})}function cm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bx(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=rm(e,r),i!=null&&n.unshift(cm(e,i,a)),i=rm(e,t),i!=null&&n.push(cm(e,i,a))),e=e.return}return n}function ru(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function VP(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=rm(r,i),c!=null&&o.unshift(cm(r,c,l))):a||(c=rm(r,i),c!=null&&o.push(cm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Zz=/\r\n?/g,eW=/\u0000|\uFFFD/g;function qP(e){return(typeof e=="string"?e:""+e).replace(Zz,`
`).replace(eW,"")}function kg(e,t,r){if(t=qP(t),qP(e)!==t&&r)throw Error(Ne(425))}function Vx(){}var c1=null,u1=null;function d1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var f1=typeof setTimeout=="function"?setTimeout:void 0,tW=typeof clearTimeout=="function"?clearTimeout:void 0,zP=typeof Promise=="function"?Promise:void 0,rW=typeof queueMicrotask=="function"?queueMicrotask:typeof zP<"u"?function(e){return zP.resolve(null).then(e).catch(nW)}:f1;function nW(e){setTimeout(function(){throw e})}function ww(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),am(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);am(t)}function Uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function WP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ff=Math.random().toString(36).slice(2),Ja="__reactFiber$"+ff,um="__reactProps$"+ff,Ui="__reactContainer$"+ff,h1="__reactEvents$"+ff,sW="__reactListeners$"+ff,aW="__reactHandles$"+ff;function Ll(e){var t=e[Ja];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ui]||r[Ja]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=WP(e);e!==null;){if(r=e[Ja])return r;e=WP(e)}return t}e=r,r=e.parentNode}return null}function Ep(e){return e=e[Ja]||e[Ui],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ou(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function Gy(e){return e[um]||null}var m1=[],Tu=-1;function ll(e){return{current:e}}function vr(e){0>Tu||(e.current=m1[Tu],m1[Tu]=null,Tu--)}function dr(e,t){Tu++,m1[Tu]=e.current,e.current=t}var Xo={},Dn=ll(Xo),us=ll(!1),lc=Xo;function yd(e,t){var r=e.type.contextTypes;if(!r)return Xo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ds(e){return e=e.childContextTypes,e!=null}function qx(){vr(us),vr(Dn)}function KP(e,t,r){if(Dn.current!==Xo)throw Error(Ne(168));dr(Dn,t),dr(us,r)}function M$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ne(108,q7(e)||"Unknown",a));return Pr({},r,n)}function zx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xo,lc=Dn.current,dr(Dn,e),dr(us,us.current),!0}function HP(e,t,r){var n=e.stateNode;if(!n)throw Error(Ne(169));r?(e=M$(e,t,lc),n.__reactInternalMemoizedMergedChildContext=e,vr(us),vr(Dn),dr(Dn,e)):vr(us),dr(us,r)}var _i=null,Qy=!1,jw=!1;function $$(e){_i===null?_i=[e]:_i.push(e)}function iW(e){Qy=!0,$$(e)}function cl(){if(!jw&&_i!==null){jw=!0;var e=0,t=tr;try{var r=_i;for(tr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_i=null,Qy=!1}catch(a){throw _i!==null&&(_i=_i.slice(e+1)),o$(RS,cl),a}finally{tr=t,jw=!1}}return null}var Iu=[],Ru=0,Wx=null,Kx=0,Ys=[],Xs=0,cc=null,Ei=1,Ai="";function Pl(e,t){Iu[Ru++]=Kx,Iu[Ru++]=Wx,Wx=e,Kx=t}function D$(e,t,r){Ys[Xs++]=Ei,Ys[Xs++]=Ai,Ys[Xs++]=cc,cc=e;var n=Ei;e=Ai;var a=32-Ra(n)-1;n&=~(1<<a),r+=1;var i=32-Ra(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ei=1<<32-Ra(t)+a|r<<a|n,Ai=i+e}else Ei=1<<i|r<<a|n,Ai=e}function qS(e){e.return!==null&&(Pl(e,1),D$(e,1,0))}function zS(e){for(;e===Wx;)Wx=Iu[--Ru],Iu[Ru]=null,Kx=Iu[--Ru],Iu[Ru]=null;for(;e===cc;)cc=Ys[--Xs],Ys[Xs]=null,Ai=Ys[--Xs],Ys[Xs]=null,Ei=Ys[--Xs],Ys[Xs]=null}var Os=null,As=null,br=!1,Aa=null;function L$(e,t){var r=Zs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function GP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Os=e,As=Uo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Os=e,As=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=cc!==null?{id:Ei,overflow:Ai}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Os=e,As=null,!0):!1;default:return!1}}function p1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function g1(e){if(br){var t=As;if(t){var r=t;if(!GP(e,t)){if(p1(e))throw Error(Ne(418));t=Uo(r.nextSibling);var n=Os;t&&GP(e,t)?L$(n,r):(e.flags=e.flags&-4097|2,br=!1,Os=e)}}else{if(p1(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,br=!1,Os=e}}}function QP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Os=e}function Cg(e){if(e!==Os)return!1;if(!br)return QP(e),br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!d1(e.type,e.memoizedProps)),t&&(t=As)){if(p1(e))throw F$(),Error(Ne(418));for(;t;)L$(e,t),t=Uo(t.nextSibling)}if(QP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){As=Uo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}As=null}}else As=Os?Uo(e.stateNode.nextSibling):null;return!0}function F$(){for(var e=As;e;)e=Uo(e.nextSibling)}function bd(){As=Os=null,br=!1}function WS(e){Aa===null?Aa=[e]:Aa.push(e)}var oW=Ji.ReactCurrentBatchConfig;function Zf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ne(309));var n=r.stateNode}if(!n)throw Error(Ne(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ne(284));if(!r._owner)throw Error(Ne(290,e))}return e}function Pg(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function YP(e){var t=e._init;return t(e._payload)}function U$(e){function t(g,x){if(e){var b=g.deletions;b===null?(g.deletions=[x],g.flags|=16):b.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=zo(g,x),g.index=0,g.sibling=null,g}function i(g,x,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<x?(g.flags|=2,x):b):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,b,j){return x===null||x.tag!==6?(x=Ew(b,g.mode,j),x.return=g,x):(x=a(x,b),x.return=g,x)}function c(g,x,b,j){var _=b.type;return _===Cu?d(g,x,b.props.children,j,b.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===po&&YP(_)===x.type)?(j=a(x,b.props),j.ref=Zf(g,x,b),j.return=g,j):(j=Sx(b.type,b.key,b.props,null,g.mode,j),j.ref=Zf(g,x,b),j.return=g,j)}function u(g,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Aw(b,g.mode,j),x.return=g,x):(x=a(x,b.children||[]),x.return=g,x)}function d(g,x,b,j,_){return x===null||x.tag!==7?(x=sc(b,g.mode,j,_),x.return=g,x):(x=a(x,b),x.return=g,x)}function f(g,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ew(""+x,g.mode,b),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xg:return b=Sx(x.type,x.key,x.props,null,g.mode,b),b.ref=Zf(g,null,x),b.return=g,b;case ku:return x=Aw(x,g.mode,b),x.return=g,x;case po:var j=x._init;return f(g,j(x._payload),b)}if(yh(x)||Gf(x))return x=sc(x,g.mode,b,null),x.return=g,x;Pg(g,x)}return null}function h(g,x,b,j){var _=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(g,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xg:return b.key===_?c(g,x,b,j):null;case ku:return b.key===_?u(g,x,b,j):null;case po:return _=b._init,h(g,x,_(b._payload),j)}if(yh(b)||Gf(b))return _!==null?null:d(g,x,b,j,null);Pg(g,b)}return null}function p(g,x,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(b)||null,l(x,g,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case xg:return g=g.get(j.key===null?b:j.key)||null,c(x,g,j,_);case ku:return g=g.get(j.key===null?b:j.key)||null,u(x,g,j,_);case po:var N=j._init;return p(g,x,b,N(j._payload),_)}if(yh(j)||Gf(j))return g=g.get(b)||null,d(x,g,j,_,null);Pg(x,j)}return null}function y(g,x,b,j){for(var _=null,N=null,S=x,C=x=0,P=null;S!==null&&C<b.length;C++){S.index>C?(P=S,S=null):P=S.sibling;var k=h(g,S,b[C],j);if(k===null){S===null&&(S=P);break}e&&S&&k.alternate===null&&t(g,S),x=i(k,x,C),N===null?_=k:N.sibling=k,N=k,S=P}if(C===b.length)return r(g,S),br&&Pl(g,C),_;if(S===null){for(;C<b.length;C++)S=f(g,b[C],j),S!==null&&(x=i(S,x,C),N===null?_=S:N.sibling=S,N=S);return br&&Pl(g,C),_}for(S=n(g,S);C<b.length;C++)P=p(S,g,C,b[C],j),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?C:P.key),x=i(P,x,C),N===null?_=P:N.sibling=P,N=P);return e&&S.forEach(function(E){return t(g,E)}),br&&Pl(g,C),_}function m(g,x,b,j){var _=Gf(b);if(typeof _!="function")throw Error(Ne(150));if(b=_.call(b),b==null)throw Error(Ne(151));for(var N=_=null,S=x,C=x=0,P=null,k=b.next();S!==null&&!k.done;C++,k=b.next()){S.index>C?(P=S,S=null):P=S.sibling;var E=h(g,S,k.value,j);if(E===null){S===null&&(S=P);break}e&&S&&E.alternate===null&&t(g,S),x=i(E,x,C),N===null?_=E:N.sibling=E,N=E,S=P}if(k.done)return r(g,S),br&&Pl(g,C),_;if(S===null){for(;!k.done;C++,k=b.next())k=f(g,k.value,j),k!==null&&(x=i(k,x,C),N===null?_=k:N.sibling=k,N=k);return br&&Pl(g,C),_}for(S=n(g,S);!k.done;C++,k=b.next())k=p(S,g,C,k.value,j),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?C:k.key),x=i(k,x,C),N===null?_=k:N.sibling=k,N=k);return e&&S.forEach(function(T){return t(g,T)}),br&&Pl(g,C),_}function w(g,x,b,j){if(typeof b=="object"&&b!==null&&b.type===Cu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case xg:e:{for(var _=b.key,N=x;N!==null;){if(N.key===_){if(_=b.type,_===Cu){if(N.tag===7){r(g,N.sibling),x=a(N,b.props.children),x.return=g,g=x;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===po&&YP(_)===N.type){r(g,N.sibling),x=a(N,b.props),x.ref=Zf(g,N,b),x.return=g,g=x;break e}r(g,N);break}else t(g,N);N=N.sibling}b.type===Cu?(x=sc(b.props.children,g.mode,j,b.key),x.return=g,g=x):(j=Sx(b.type,b.key,b.props,null,g.mode,j),j.ref=Zf(g,x,b),j.return=g,g=j)}return o(g);case ku:e:{for(N=b.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(g,x.sibling),x=a(x,b.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=Aw(b,g.mode,j),x.return=g,g=x}return o(g);case po:return N=b._init,w(g,x,N(b._payload),j)}if(yh(b))return y(g,x,b,j);if(Gf(b))return m(g,x,b,j);Pg(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,b),x.return=g,g=x):(r(g,x),x=Ew(b,g.mode,j),x.return=g,g=x),o(g)):r(g,x)}return w}var wd=U$(!0),B$=U$(!1),Hx=ll(null),Gx=null,Mu=null,KS=null;function HS(){KS=Mu=Gx=null}function GS(e){var t=Hx.current;vr(Hx),e._currentValue=t}function x1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xu(e,t){Gx=e,KS=Mu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(os=!0),e.firstContext=null)}function ia(e){var t=e._currentValue;if(KS!==e)if(e={context:e,memoizedValue:t,next:null},Mu===null){if(Gx===null)throw Error(Ne(308));Mu=e,Gx.dependencies={lanes:0,firstContext:e}}else Mu=Mu.next=e;return t}var Fl=null;function QS(e){Fl===null?Fl=[e]:Fl.push(e)}function V$(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,QS(t)):(r.next=a.next,a.next=r),t.interleaved=r,Bi(e,n)}function Bi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var go=!1;function YS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Bi(e,r)}return a=n.interleaved,a===null?(t.next=t,QS(n)):(t.next=a.next,a.next=t),n.interleaved=t,Bi(e,r)}function yx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,MS(e,r)}}function XP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qx(e,t,r,n){var a=e.updateQueue;go=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Pr({},f,h);break e;case 2:go=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);dc|=o,e.lanes=o,e.memoizedState=f}}function JP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ne(191,a));a.call(n)}}}var Ap={},ni=ll(Ap),dm=ll(Ap),fm=ll(Ap);function Ul(e){if(e===Ap)throw Error(Ne(174));return e}function XS(e,t){switch(dr(fm,t),dr(dm,e),dr(ni,Ap),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xj(t,e)}vr(ni),dr(ni,t)}function jd(){vr(ni),vr(dm),vr(fm)}function z$(e){Ul(fm.current);var t=Ul(ni.current),r=Xj(t,e.type);t!==r&&(dr(dm,e),dr(ni,r))}function JS(e){dm.current===e&&(vr(ni),vr(dm))}var Sr=ll(0);function Yx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nw=[];function ZS(){for(var e=0;e<Nw.length;e++)Nw[e]._workInProgressVersionPrimary=null;Nw.length=0}var bx=Ji.ReactCurrentDispatcher,_w=Ji.ReactCurrentBatchConfig,uc=0,Cr=null,sn=null,gn=null,Xx=!1,Dh=!1,hm=0,lW=0;function On(){throw Error(Ne(321))}function ek(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!La(e[r],t[r]))return!1;return!0}function tk(e,t,r,n,a,i){if(uc=i,Cr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bx.current=e===null||e.memoizedState===null?fW:hW,e=r(n,a),Dh){i=0;do{if(Dh=!1,hm=0,25<=i)throw Error(Ne(301));i+=1,gn=sn=null,t.updateQueue=null,bx.current=mW,e=r(n,a)}while(Dh)}if(bx.current=Jx,t=sn!==null&&sn.next!==null,uc=0,gn=sn=Cr=null,Xx=!1,t)throw Error(Ne(300));return e}function rk(){var e=hm!==0;return hm=0,e}function Ha(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Cr.memoizedState=gn=e:gn=gn.next=e,gn}function oa(){if(sn===null){var e=Cr.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=gn===null?Cr.memoizedState:gn.next;if(t!==null)gn=t,sn=e;else{if(e===null)throw Error(Ne(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},gn===null?Cr.memoizedState=gn=e:gn=gn.next=e}return gn}function mm(e,t){return typeof t=="function"?t(e):t}function Sw(e){var t=oa(),r=t.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=e;var n=sn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((uc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Cr.lanes|=d,dc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,La(n,t.memoizedState)||(os=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Cr.lanes|=i,dc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function kw(e){var t=oa(),r=t.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);La(i,t.memoizedState)||(os=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function W$(){}function K$(e,t){var r=Cr,n=oa(),a=t(),i=!La(n.memoizedState,a);if(i&&(n.memoizedState=a,os=!0),n=n.queue,nk(Q$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||gn!==null&&gn.memoizedState.tag&1){if(r.flags|=2048,pm(9,G$.bind(null,r,n,a,t),void 0,null),vn===null)throw Error(Ne(349));uc&30||H$(r,t,a)}return a}function H$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Cr.updateQueue,t===null?(t={lastEffect:null,stores:null},Cr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function G$(e,t,r,n){t.value=r,t.getSnapshot=n,Y$(t)&&X$(e)}function Q$(e,t,r){return r(function(){Y$(t)&&X$(e)})}function Y$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!La(e,r)}catch{return!0}}function X$(e){var t=Bi(e,1);t!==null&&Ma(t,e,1,-1)}function ZP(e){var t=Ha();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mm,lastRenderedState:e},t.queue=e,e=e.dispatch=dW.bind(null,Cr,e),[t.memoizedState,e]}function pm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Cr.updateQueue,t===null?(t={lastEffect:null,stores:null},Cr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function J$(){return oa().memoizedState}function wx(e,t,r,n){var a=Ha();Cr.flags|=e,a.memoizedState=pm(1|t,r,void 0,n===void 0?null:n)}function Yy(e,t,r,n){var a=oa();n=n===void 0?null:n;var i=void 0;if(sn!==null){var o=sn.memoizedState;if(i=o.destroy,n!==null&&ek(n,o.deps)){a.memoizedState=pm(t,r,i,n);return}}Cr.flags|=e,a.memoizedState=pm(1|t,r,i,n)}function eE(e,t){return wx(8390656,8,e,t)}function nk(e,t){return Yy(2048,8,e,t)}function Z$(e,t){return Yy(4,2,e,t)}function eD(e,t){return Yy(4,4,e,t)}function tD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rD(e,t,r){return r=r!=null?r.concat([e]):null,Yy(4,4,tD.bind(null,t,e),r)}function sk(){}function nD(e,t){var r=oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ek(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function sD(e,t){var r=oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ek(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function aD(e,t,r){return uc&21?(La(r,t)||(r=u$(),Cr.lanes|=r,dc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,os=!0),e.memoizedState=r)}function cW(e,t){var r=tr;tr=r!==0&&4>r?r:4,e(!0);var n=_w.transition;_w.transition={};try{e(!1),t()}finally{tr=r,_w.transition=n}}function iD(){return oa().memoizedState}function uW(e,t,r){var n=qo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oD(e))lD(t,r);else if(r=V$(e,t,r,n),r!==null){var a=Yn();Ma(r,e,n,a),cD(r,t,n)}}function dW(e,t,r){var n=qo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oD(e))lD(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,La(l,o)){var c=t.interleaved;c===null?(a.next=a,QS(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=V$(e,t,a,n),r!==null&&(a=Yn(),Ma(r,e,n,a),cD(r,t,n))}}function oD(e){var t=e.alternate;return e===Cr||t!==null&&t===Cr}function lD(e,t){Dh=Xx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function cD(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,MS(e,r)}}var Jx={readContext:ia,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},fW={readContext:ia,useCallback:function(e,t){return Ha().memoizedState=[e,t===void 0?null:t],e},useContext:ia,useEffect:eE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,wx(4194308,4,tD.bind(null,t,e),r)},useLayoutEffect:function(e,t){return wx(4194308,4,e,t)},useInsertionEffect:function(e,t){return wx(4,2,e,t)},useMemo:function(e,t){var r=Ha();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ha();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=uW.bind(null,Cr,e),[n.memoizedState,e]},useRef:function(e){var t=Ha();return e={current:e},t.memoizedState=e},useState:ZP,useDebugValue:sk,useDeferredValue:function(e){return Ha().memoizedState=e},useTransition:function(){var e=ZP(!1),t=e[0];return e=cW.bind(null,e[1]),Ha().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Cr,a=Ha();if(br){if(r===void 0)throw Error(Ne(407));r=r()}else{if(r=t(),vn===null)throw Error(Ne(349));uc&30||H$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,eE(Q$.bind(null,n,i,e),[e]),n.flags|=2048,pm(9,G$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ha(),t=vn.identifierPrefix;if(br){var r=Ai,n=Ei;r=(n&~(1<<32-Ra(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=hm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=lW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hW={readContext:ia,useCallback:nD,useContext:ia,useEffect:nk,useImperativeHandle:rD,useInsertionEffect:Z$,useLayoutEffect:eD,useMemo:sD,useReducer:Sw,useRef:J$,useState:function(){return Sw(mm)},useDebugValue:sk,useDeferredValue:function(e){var t=oa();return aD(t,sn.memoizedState,e)},useTransition:function(){var e=Sw(mm)[0],t=oa().memoizedState;return[e,t]},useMutableSource:W$,useSyncExternalStore:K$,useId:iD,unstable_isNewReconciler:!1},mW={readContext:ia,useCallback:nD,useContext:ia,useEffect:nk,useImperativeHandle:rD,useInsertionEffect:Z$,useLayoutEffect:eD,useMemo:sD,useReducer:kw,useRef:J$,useState:function(){return kw(mm)},useDebugValue:sk,useDeferredValue:function(e){var t=oa();return sn===null?t.memoizedState=e:aD(t,sn.memoizedState,e)},useTransition:function(){var e=kw(mm)[0],t=oa().memoizedState;return[e,t]},useMutableSource:W$,useSyncExternalStore:K$,useId:iD,unstable_isNewReconciler:!1};function ja(e,t){if(e&&e.defaultProps){t=Pr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function v1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xy={isMounted:function(e){return(e=e._reactInternals)?Ic(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yn(),a=qo(e),i=Mi(n,a);i.payload=t,r!=null&&(i.callback=r),t=Bo(e,i,a),t!==null&&(Ma(t,e,a,n),yx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yn(),a=qo(e),i=Mi(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Bo(e,i,a),t!==null&&(Ma(t,e,a,n),yx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yn(),n=qo(e),a=Mi(r,n);a.tag=2,t!=null&&(a.callback=t),t=Bo(e,a,n),t!==null&&(Ma(t,e,n,r),yx(t,e,n))}};function tE(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!om(r,n)||!om(a,i):!0}function uD(e,t,r){var n=!1,a=Xo,i=t.contextType;return typeof i=="object"&&i!==null?i=ia(i):(a=ds(t)?lc:Dn.current,n=t.contextTypes,i=(n=n!=null)?yd(e,a):Xo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function rE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Xy.enqueueReplaceState(t,t.state,null)}function y1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},YS(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ia(i):(i=ds(t)?lc:Dn.current,a.context=yd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(v1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Xy.enqueueReplaceState(a,a.state,null),Qx(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Nd(e,t){try{var r="",n=t;do r+=V7(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Cw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function b1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pW=typeof WeakMap=="function"?WeakMap:Map;function dD(e,t,r){r=Mi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ev||(ev=!0,A1=n),b1(e,t)},r}function fD(e,t,r){r=Mi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){b1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){b1(e,t),typeof n!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function nE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new pW;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=EW.bind(null,e,t,r),t.then(e,e))}function sE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aE(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mi(-1,1),t.tag=2,Bo(r,t,1))),r.lanes|=1),e)}var gW=Ji.ReactCurrentOwner,os=!1;function qn(e,t,r,n){t.child=e===null?B$(t,null,r,n):wd(t,e.child,r,n)}function iE(e,t,r,n,a){r=r.render;var i=t.ref;return Xu(t,a),n=tk(e,t,r,n,i,a),r=rk(),e!==null&&!os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vi(e,t,a)):(br&&r&&qS(t),t.flags|=1,qn(e,t,n,a),t.child)}function oE(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!fk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,hD(e,t,i,n,a)):(e=Sx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:om,r(o,n)&&e.ref===t.ref)return Vi(e,t,a)}return t.flags|=1,e=zo(i,n),e.ref=t.ref,e.return=t,t.child=e}function hD(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(om(i,n)&&e.ref===t.ref)if(os=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(os=!0);else return t.lanes=e.lanes,Vi(e,t,a)}return w1(e,t,r,n,a)}function mD(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(Du,js),js|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dr(Du,js),js|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,dr(Du,js),js|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,dr(Du,js),js|=n;return qn(e,t,a,r),t.child}function pD(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function w1(e,t,r,n,a){var i=ds(r)?lc:Dn.current;return i=yd(t,i),Xu(t,a),r=tk(e,t,r,n,i,a),n=rk(),e!==null&&!os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vi(e,t,a)):(br&&n&&qS(t),t.flags|=1,qn(e,t,r,a),t.child)}function lE(e,t,r,n,a){if(ds(r)){var i=!0;zx(t)}else i=!1;if(Xu(t,a),t.stateNode===null)jx(e,t),uD(t,r,n),y1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ia(u):(u=ds(r)?lc:Dn.current,u=yd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&rE(t,o,n,u),go=!1;var h=t.memoizedState;o.state=h,Qx(t,n,o,a),c=t.memoizedState,l!==n||h!==c||us.current||go?(typeof d=="function"&&(v1(t,r,d,n),c=t.memoizedState),(l=go||tE(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,q$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ja(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ia(c):(c=ds(r)?lc:Dn.current,c=yd(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&rE(t,o,n,c),go=!1,h=t.memoizedState,o.state=h,Qx(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||us.current||go?(typeof p=="function"&&(v1(t,r,p,n),y=t.memoizedState),(u=go||tE(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return j1(e,t,r,n,i,a)}function j1(e,t,r,n,a,i){pD(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&HP(t,r,!1),Vi(e,t,i);n=t.stateNode,gW.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=wd(t,e.child,null,i),t.child=wd(t,null,l,i)):qn(e,t,l,i),t.memoizedState=n.state,a&&HP(t,r,!0),t.child}function gD(e){var t=e.stateNode;t.pendingContext?KP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&KP(e,t.context,!1),XS(e,t.containerInfo)}function cE(e,t,r,n,a){return bd(),WS(a),t.flags|=256,qn(e,t,r,n),t.child}var N1={dehydrated:null,treeContext:null,retryLane:0};function _1(e){return{baseLanes:e,cachePool:null,transitions:null}}function xD(e,t,r){var n=t.pendingProps,a=Sr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),dr(Sr,a&1),e===null)return g1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=eb(o,n,0,null),e=sc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_1(r),t.memoizedState=N1,e):ak(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return xW(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=zo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=zo(l,i):(i=sc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?_1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=N1,n}return i=e.child,e=i.sibling,n=zo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ak(e,t){return t=eb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eg(e,t,r,n){return n!==null&&WS(n),wd(t,e.child,null,r),e=ak(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xW(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Cw(Error(Ne(422))),Eg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=eb({mode:"visible",children:n.children},a,0,null),i=sc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&wd(t,e.child,null,o),t.child.memoizedState=_1(o),t.memoizedState=N1,i);if(!(t.mode&1))return Eg(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ne(419)),n=Cw(i,n,void 0),Eg(e,t,o,n)}if(l=(o&e.childLanes)!==0,os||l){if(n=vn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Bi(e,a),Ma(n,e,a,-1))}return dk(),n=Cw(Error(Ne(421))),Eg(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=AW.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,As=Uo(a.nextSibling),Os=t,br=!0,Aa=null,e!==null&&(Ys[Xs++]=Ei,Ys[Xs++]=Ai,Ys[Xs++]=cc,Ei=e.id,Ai=e.overflow,cc=t),t=ak(t,n.children),t.flags|=4096,t)}function uE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),x1(e.return,t,r)}function Pw(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function vD(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(qn(e,t,n.children,r),n=Sr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uE(e,r,t);else if(e.tag===19)uE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(dr(Sr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Yx(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Pw(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Yx(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Pw(t,!0,r,null,i);break;case"together":Pw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),dc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,r=zo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function vW(e,t,r){switch(t.tag){case 3:gD(t),bd();break;case 5:z$(t);break;case 1:ds(t.type)&&zx(t);break;case 4:XS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;dr(Hx,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(dr(Sr,Sr.current&1),t.flags|=128,null):r&t.child.childLanes?xD(e,t,r):(dr(Sr,Sr.current&1),e=Vi(e,t,r),e!==null?e.sibling:null);dr(Sr,Sr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return vD(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),dr(Sr,Sr.current),n)break;return null;case 22:case 23:return t.lanes=0,mD(e,t,r)}return Vi(e,t,r)}var yD,S1,bD,wD;yD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};S1=function(){};bD=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ul(ni.current);var i=null;switch(r){case"input":a=Hj(e,a),n=Hj(e,n),i=[];break;case"select":a=Pr({},a,{value:void 0}),n=Pr({},n,{value:void 0}),i=[];break;case"textarea":a=Yj(e,a),n=Yj(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vx)}Jj(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(em.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(em.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};wD=function(e,t,r,n){r!==n&&(t.flags|=4)};function eh(e,t){if(!br)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function yW(e,t,r){var n=t.pendingProps;switch(zS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(t),null;case 1:return ds(t.type)&&qx(),Tn(t),null;case 3:return n=t.stateNode,jd(),vr(us),vr(Dn),ZS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Cg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Aa!==null&&(I1(Aa),Aa=null))),S1(e,t),Tn(t),null;case 5:JS(t);var a=Ul(fm.current);if(r=t.type,e!==null&&t.stateNode!=null)bD(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ne(166));return Tn(t),null}if(e=Ul(ni.current),Cg(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ja]=t,n[um]=i,e=(t.mode&1)!==0,r){case"dialog":pr("cancel",n),pr("close",n);break;case"iframe":case"object":case"embed":pr("load",n);break;case"video":case"audio":for(a=0;a<wh.length;a++)pr(wh[a],n);break;case"source":pr("error",n);break;case"img":case"image":case"link":pr("error",n),pr("load",n);break;case"details":pr("toggle",n);break;case"input":yP(n,i),pr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},pr("invalid",n);break;case"textarea":wP(n,i),pr("invalid",n)}Jj(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&kg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&kg(n.textContent,l,e),a=["children",""+l]):em.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pr("scroll",n)}switch(r){case"input":vg(n),bP(n,i,!0);break;case"textarea":vg(n),jP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Vx)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=QM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ja]=t,e[um]=n,yD(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zj(r,n),r){case"dialog":pr("cancel",e),pr("close",e),a=n;break;case"iframe":case"object":case"embed":pr("load",e),a=n;break;case"video":case"audio":for(a=0;a<wh.length;a++)pr(wh[a],e);a=n;break;case"source":pr("error",e),a=n;break;case"img":case"image":case"link":pr("error",e),pr("load",e),a=n;break;case"details":pr("toggle",e),a=n;break;case"input":yP(e,n),a=Hj(e,n),pr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Pr({},n,{value:void 0}),pr("invalid",e);break;case"textarea":wP(e,n),a=Yj(e,n),pr("invalid",e);break;default:a=n}Jj(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?JM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&YM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&tm(e,c):typeof c=="number"&&tm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(em.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pr("scroll",e):c!=null&&ES(e,i,c,o))}switch(r){case"input":vg(e),bP(e,n,!1);break;case"textarea":vg(e),jP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Hu(e,!!n.multiple,i,!1):n.defaultValue!=null&&Hu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Vx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tn(t),null;case 6:if(e&&t.stateNode!=null)wD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ne(166));if(r=Ul(fm.current),Ul(ni.current),Cg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ja]=t,(i=n.nodeValue!==r)&&(e=Os,e!==null))switch(e.tag){case 3:kg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ja]=t,t.stateNode=n}return Tn(t),null;case 13:if(vr(Sr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(br&&As!==null&&t.mode&1&&!(t.flags&128))F$(),bd(),t.flags|=98560,i=!1;else if(i=Cg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ne(317));i[Ja]=t}else bd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tn(t),i=!1}else Aa!==null&&(I1(Aa),Aa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Sr.current&1?on===0&&(on=3):dk())),t.updateQueue!==null&&(t.flags|=4),Tn(t),null);case 4:return jd(),S1(e,t),e===null&&lm(t.stateNode.containerInfo),Tn(t),null;case 10:return GS(t.type._context),Tn(t),null;case 17:return ds(t.type)&&qx(),Tn(t),null;case 19:if(vr(Sr),i=t.memoizedState,i===null)return Tn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)eh(i,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Yx(e),o!==null){for(t.flags|=128,eh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return dr(Sr,Sr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Br()>_d&&(t.flags|=128,n=!0,eh(i,!1),t.lanes=4194304)}else{if(!n)if(e=Yx(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),eh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!br)return Tn(t),null}else 2*Br()-i.renderingStartTime>_d&&r!==1073741824&&(t.flags|=128,n=!0,eh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Br(),t.sibling=null,r=Sr.current,dr(Sr,n?r&1|2:r&1),t):(Tn(t),null);case 22:case 23:return uk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?js&1073741824&&(Tn(t),t.subtreeFlags&6&&(t.flags|=8192)):Tn(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function bW(e,t){switch(zS(t),t.tag){case 1:return ds(t.type)&&qx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jd(),vr(us),vr(Dn),ZS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return JS(t),null;case 13:if(vr(Sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));bd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vr(Sr),null;case 4:return jd(),null;case 10:return GS(t.type._context),null;case 22:case 23:return uk(),null;case 24:return null;default:return null}}var Ag=!1,Rn=!1,wW=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function $u(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Or(e,t,n)}else r.current=null}function k1(e,t,r){try{r()}catch(n){Or(e,t,n)}}var dE=!1;function jW(e,t){if(c1=Fx,e=k$(),VS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(u1={focusedElem:e,selectionRange:r},Fx=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){t=Fe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,w=y.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ja(t.type,m),w);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(j){Or(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}return y=dE,dE=!1,y}function Lh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&k1(t,r,i)}a=a.next}while(a!==n)}}function Jy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function C1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jD(e){var t=e.alternate;t!==null&&(e.alternate=null,jD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ja],delete t[um],delete t[h1],delete t[sW],delete t[aW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ND(e){return e.tag===5||e.tag===3||e.tag===4}function fE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ND(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function P1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vx));else if(n!==4&&(e=e.child,e!==null))for(P1(e,t,r),e=e.sibling;e!==null;)P1(e,t,r),e=e.sibling}function E1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(E1(e,t,r),e=e.sibling;e!==null;)E1(e,t,r),e=e.sibling}var Sn=null,ka=!1;function co(e,t,r){for(r=r.child;r!==null;)_D(e,t,r),r=r.sibling}function _D(e,t,r){if(ri&&typeof ri.onCommitFiberUnmount=="function")try{ri.onCommitFiberUnmount(zy,r)}catch{}switch(r.tag){case 5:Rn||$u(r,t);case 6:var n=Sn,a=ka;Sn=null,co(e,t,r),Sn=n,ka=a,Sn!==null&&(ka?(e=Sn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Sn.removeChild(r.stateNode));break;case 18:Sn!==null&&(ka?(e=Sn,r=r.stateNode,e.nodeType===8?ww(e.parentNode,r):e.nodeType===1&&ww(e,r),am(e)):ww(Sn,r.stateNode));break;case 4:n=Sn,a=ka,Sn=r.stateNode.containerInfo,ka=!0,co(e,t,r),Sn=n,ka=a;break;case 0:case 11:case 14:case 15:if(!Rn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&k1(r,t,o),a=a.next}while(a!==n)}co(e,t,r);break;case 1:if(!Rn&&($u(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Or(r,t,l)}co(e,t,r);break;case 21:co(e,t,r);break;case 22:r.mode&1?(Rn=(n=Rn)||r.memoizedState!==null,co(e,t,r),Rn=n):co(e,t,r);break;default:co(e,t,r)}}function hE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new wW),t.forEach(function(n){var a=OW.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function va(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Sn=l.stateNode,ka=!1;break e;case 3:Sn=l.stateNode.containerInfo,ka=!0;break e;case 4:Sn=l.stateNode.containerInfo,ka=!0;break e}l=l.return}if(Sn===null)throw Error(Ne(160));_D(i,o,a),Sn=null,ka=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Or(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)SD(t,e),t=t.sibling}function SD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(va(t,e),Ka(e),n&4){try{Lh(3,e,e.return),Jy(3,e)}catch(m){Or(e,e.return,m)}try{Lh(5,e,e.return)}catch(m){Or(e,e.return,m)}}break;case 1:va(t,e),Ka(e),n&512&&r!==null&&$u(r,r.return);break;case 5:if(va(t,e),Ka(e),n&512&&r!==null&&$u(r,r.return),e.flags&32){var a=e.stateNode;try{tm(a,"")}catch(m){Or(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&HM(a,i),Zj(l,o);var u=Zj(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?JM(a,f):d==="dangerouslySetInnerHTML"?YM(a,f):d==="children"?tm(a,f):ES(a,d,f,u)}switch(l){case"input":Gj(a,i);break;case"textarea":GM(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Hu(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Hu(a,!!i.multiple,i.defaultValue,!0):Hu(a,!!i.multiple,i.multiple?[]:"",!1))}a[um]=i}catch(m){Or(e,e.return,m)}}break;case 6:if(va(t,e),Ka(e),n&4){if(e.stateNode===null)throw Error(Ne(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Or(e,e.return,m)}}break;case 3:if(va(t,e),Ka(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{am(t.containerInfo)}catch(m){Or(e,e.return,m)}break;case 4:va(t,e),Ka(e);break;case 13:va(t,e),Ka(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(lk=Br())),n&4&&hE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Rn=(u=Rn)||d,va(t,e),Rn=u):va(t,e),Ka(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Fe=e,d=e.child;d!==null;){for(f=Fe=d;Fe!==null;){switch(h=Fe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Lh(4,h,h.return);break;case 1:$u(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){Or(n,r,m)}}break;case 5:$u(h,h.return);break;case 22:if(h.memoizedState!==null){pE(f);continue}}p!==null?(p.return=h,Fe=p):pE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=XM("display",o))}catch(m){Or(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Or(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:va(t,e),Ka(e),n&4&&hE(e);break;case 21:break;default:va(t,e),Ka(e)}}function Ka(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ND(r)){var n=r;break e}r=r.return}throw Error(Ne(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(tm(a,""),n.flags&=-33);var i=fE(e);E1(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=fE(e);P1(e,l,o);break;default:throw Error(Ne(161))}}catch(c){Or(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NW(e,t,r){Fe=e,kD(e)}function kD(e,t,r){for(var n=(e.mode&1)!==0;Fe!==null;){var a=Fe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Ag;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Rn;l=Ag;var u=Rn;if(Ag=o,(Rn=c)&&!u)for(Fe=a;Fe!==null;)o=Fe,c=o.child,o.tag===22&&o.memoizedState!==null?gE(a):c!==null?(c.return=o,Fe=c):gE(a);for(;i!==null;)Fe=i,kD(i),i=i.sibling;Fe=a,Ag=l,Rn=u}mE(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Fe=i):mE(e)}}function mE(e){for(;Fe!==null;){var t=Fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rn||Jy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ja(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&JP(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}JP(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&am(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Rn||t.flags&512&&C1(t)}catch(h){Or(t,t.return,h)}}if(t===e){Fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function pE(e){for(;Fe!==null;){var t=Fe;if(t===e){Fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function gE(e){for(;Fe!==null;){var t=Fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Jy(4,t)}catch(c){Or(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Or(t,a,c)}}var i=t.return;try{C1(t)}catch(c){Or(t,i,c)}break;case 5:var o=t.return;try{C1(t)}catch(c){Or(t,o,c)}}}catch(c){Or(t,t.return,c)}if(t===e){Fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Fe=l;break}Fe=t.return}}var _W=Math.ceil,Zx=Ji.ReactCurrentDispatcher,ik=Ji.ReactCurrentOwner,ta=Ji.ReactCurrentBatchConfig,Dt=0,vn=null,Hr=null,Pn=0,js=0,Du=ll(0),on=0,gm=null,dc=0,Zy=0,ok=0,Fh=null,is=null,lk=0,_d=1/0,wi=null,ev=!1,A1=null,Vo=null,Og=!1,Mo=null,tv=0,Uh=0,O1=null,Nx=-1,_x=0;function Yn(){return Dt&6?Br():Nx!==-1?Nx:Nx=Br()}function qo(e){return e.mode&1?Dt&2&&Pn!==0?Pn&-Pn:oW.transition!==null?(_x===0&&(_x=u$()),_x):(e=tr,e!==0||(e=window.event,e=e===void 0?16:x$(e.type)),e):1}function Ma(e,t,r,n){if(50<Uh)throw Uh=0,O1=null,Error(Ne(185));Cp(e,r,n),(!(Dt&2)||e!==vn)&&(e===vn&&(!(Dt&2)&&(Zy|=r),on===4&&jo(e,Pn)),fs(e,n),r===1&&Dt===0&&!(t.mode&1)&&(_d=Br()+500,Qy&&cl()))}function fs(e,t){var r=e.callbackNode;oz(e,t);var n=Lx(e,e===vn?Pn:0);if(n===0)r!==null&&SP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&SP(r),t===1)e.tag===0?iW(xE.bind(null,e)):$$(xE.bind(null,e)),rW(function(){!(Dt&6)&&cl()}),r=null;else{switch(d$(n)){case 1:r=RS;break;case 4:r=l$;break;case 16:r=Dx;break;case 536870912:r=c$;break;default:r=Dx}r=RD(r,CD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function CD(e,t){if(Nx=-1,_x=0,Dt&6)throw Error(Ne(327));var r=e.callbackNode;if(Ju()&&e.callbackNode!==r)return null;var n=Lx(e,e===vn?Pn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=rv(e,n);else{t=n;var a=Dt;Dt|=2;var i=ED();(vn!==e||Pn!==t)&&(wi=null,_d=Br()+500,nc(e,t));do try{CW();break}catch(l){PD(e,l)}while(!0);HS(),Zx.current=i,Dt=a,Hr!==null?t=0:(vn=null,Pn=0,t=on)}if(t!==0){if(t===2&&(a=s1(e),a!==0&&(n=a,t=T1(e,a))),t===1)throw r=gm,nc(e,0),jo(e,n),fs(e,Br()),r;if(t===6)jo(e,n);else{if(a=e.current.alternate,!(n&30)&&!SW(a)&&(t=rv(e,n),t===2&&(i=s1(e),i!==0&&(n=i,t=T1(e,i))),t===1))throw r=gm,nc(e,0),jo(e,n),fs(e,Br()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ne(345));case 2:El(e,is,wi);break;case 3:if(jo(e,n),(n&130023424)===n&&(t=lk+500-Br(),10<t)){if(Lx(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Yn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=f1(El.bind(null,e,is,wi),t);break}El(e,is,wi);break;case 4:if(jo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ra(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Br()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_W(n/1960))-n,10<n){e.timeoutHandle=f1(El.bind(null,e,is,wi),n);break}El(e,is,wi);break;case 5:El(e,is,wi);break;default:throw Error(Ne(329))}}}return fs(e,Br()),e.callbackNode===r?CD.bind(null,e):null}function T1(e,t){var r=Fh;return e.current.memoizedState.isDehydrated&&(nc(e,t).flags|=256),e=rv(e,t),e!==2&&(t=is,is=r,t!==null&&I1(t)),e}function I1(e){is===null?is=e:is.push.apply(is,e)}function SW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!La(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jo(e,t){for(t&=~ok,t&=~Zy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ra(t),n=1<<r;e[r]=-1,t&=~n}}function xE(e){if(Dt&6)throw Error(Ne(327));Ju();var t=Lx(e,0);if(!(t&1))return fs(e,Br()),null;var r=rv(e,t);if(e.tag!==0&&r===2){var n=s1(e);n!==0&&(t=n,r=T1(e,n))}if(r===1)throw r=gm,nc(e,0),jo(e,t),fs(e,Br()),r;if(r===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,is,wi),fs(e,Br()),null}function ck(e,t){var r=Dt;Dt|=1;try{return e(t)}finally{Dt=r,Dt===0&&(_d=Br()+500,Qy&&cl())}}function fc(e){Mo!==null&&Mo.tag===0&&!(Dt&6)&&Ju();var t=Dt;Dt|=1;var r=ta.transition,n=tr;try{if(ta.transition=null,tr=1,e)return e()}finally{tr=n,ta.transition=r,Dt=t,!(Dt&6)&&cl()}}function uk(){js=Du.current,vr(Du)}function nc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,tW(r)),Hr!==null)for(r=Hr.return;r!==null;){var n=r;switch(zS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qx();break;case 3:jd(),vr(us),vr(Dn),ZS();break;case 5:JS(n);break;case 4:jd();break;case 13:vr(Sr);break;case 19:vr(Sr);break;case 10:GS(n.type._context);break;case 22:case 23:uk()}r=r.return}if(vn=e,Hr=e=zo(e.current,null),Pn=js=t,on=0,gm=null,ok=Zy=dc=0,is=Fh=null,Fl!==null){for(t=0;t<Fl.length;t++)if(r=Fl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Fl=null}return e}function PD(e,t){do{var r=Hr;try{if(HS(),bx.current=Jx,Xx){for(var n=Cr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Xx=!1}if(uc=0,gn=sn=Cr=null,Dh=!1,hm=0,ik.current=null,r===null||r.return===null){on=1,gm=t,Hr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Pn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=sE(o);if(p!==null){p.flags&=-257,aE(p,o,l,i,t),p.mode&1&&nE(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){nE(i,u,t),dk();break e}c=Error(Ne(426))}}else if(br&&l.mode&1){var w=sE(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),aE(w,o,l,i,t),WS(Nd(c,l));break e}}i=c=Nd(c,l),on!==4&&(on=2),Fh===null?Fh=[i]:Fh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=dD(i,c,t);XP(i,g);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vo===null||!Vo.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=fD(i,l,t);XP(i,j);break e}}i=i.return}while(i!==null)}OD(r)}catch(_){t=_,Hr===r&&r!==null&&(Hr=r=r.return);continue}break}while(!0)}function ED(){var e=Zx.current;return Zx.current=Jx,e===null?Jx:e}function dk(){(on===0||on===3||on===2)&&(on=4),vn===null||!(dc&268435455)&&!(Zy&268435455)||jo(vn,Pn)}function rv(e,t){var r=Dt;Dt|=2;var n=ED();(vn!==e||Pn!==t)&&(wi=null,nc(e,t));do try{kW();break}catch(a){PD(e,a)}while(!0);if(HS(),Dt=r,Zx.current=n,Hr!==null)throw Error(Ne(261));return vn=null,Pn=0,on}function kW(){for(;Hr!==null;)AD(Hr)}function CW(){for(;Hr!==null&&!J7();)AD(Hr)}function AD(e){var t=ID(e.alternate,e,js);e.memoizedProps=e.pendingProps,t===null?OD(e):Hr=t,ik.current=null}function OD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=bW(r,t),r!==null){r.flags&=32767,Hr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,Hr=null;return}}else if(r=yW(r,t,js),r!==null){Hr=r;return}if(t=t.sibling,t!==null){Hr=t;return}Hr=t=e}while(t!==null);on===0&&(on=5)}function El(e,t,r){var n=tr,a=ta.transition;try{ta.transition=null,tr=1,PW(e,t,r,n)}finally{ta.transition=a,tr=n}return null}function PW(e,t,r,n){do Ju();while(Mo!==null);if(Dt&6)throw Error(Ne(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(lz(e,i),e===vn&&(Hr=vn=null,Pn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Og||(Og=!0,RD(Dx,function(){return Ju(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ta.transition,ta.transition=null;var o=tr;tr=1;var l=Dt;Dt|=4,ik.current=null,jW(e,r),SD(r,e),Gz(u1),Fx=!!c1,u1=c1=null,e.current=r,NW(r),Z7(),Dt=l,tr=o,ta.transition=i}else e.current=r;if(Og&&(Og=!1,Mo=e,tv=a),i=e.pendingLanes,i===0&&(Vo=null),rz(r.stateNode),fs(e,Br()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ev)throw ev=!1,e=A1,A1=null,e;return tv&1&&e.tag!==0&&Ju(),i=e.pendingLanes,i&1?e===O1?Uh++:(Uh=0,O1=e):Uh=0,cl(),null}function Ju(){if(Mo!==null){var e=d$(tv),t=ta.transition,r=tr;try{if(ta.transition=null,tr=16>e?16:e,Mo===null)var n=!1;else{if(e=Mo,Mo=null,tv=0,Dt&6)throw Error(Ne(331));var a=Dt;for(Dt|=4,Fe=e.current;Fe!==null;){var i=Fe,o=i.child;if(Fe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Fe=u;Fe!==null;){var d=Fe;switch(d.tag){case 0:case 11:case 15:Lh(8,d,i)}var f=d.child;if(f!==null)f.return=d,Fe=f;else for(;Fe!==null;){d=Fe;var h=d.sibling,p=d.return;if(jD(d),d===u){Fe=null;break}if(h!==null){h.return=p,Fe=h;break}Fe=p}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}Fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Fe=o;else e:for(;Fe!==null;){if(i=Fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lh(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Fe=g;break e}Fe=i.return}}var x=e.current;for(Fe=x;Fe!==null;){o=Fe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Fe=b;else e:for(o=x;Fe!==null;){if(l=Fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jy(9,l)}}catch(_){Or(l,l.return,_)}if(l===o){Fe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Fe=j;break e}Fe=l.return}}if(Dt=a,cl(),ri&&typeof ri.onPostCommitFiberRoot=="function")try{ri.onPostCommitFiberRoot(zy,e)}catch{}n=!0}return n}finally{tr=r,ta.transition=t}}return!1}function vE(e,t,r){t=Nd(r,t),t=dD(e,t,1),e=Bo(e,t,1),t=Yn(),e!==null&&(Cp(e,1,t),fs(e,t))}function Or(e,t,r){if(e.tag===3)vE(e,e,r);else for(;t!==null;){if(t.tag===3){vE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vo===null||!Vo.has(n))){e=Nd(r,e),e=fD(t,e,1),t=Bo(t,e,1),e=Yn(),t!==null&&(Cp(t,1,e),fs(t,e));break}}t=t.return}}function EW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Yn(),e.pingedLanes|=e.suspendedLanes&r,vn===e&&(Pn&r)===r&&(on===4||on===3&&(Pn&130023424)===Pn&&500>Br()-lk?nc(e,0):ok|=r),fs(e,t)}function TD(e,t){t===0&&(e.mode&1?(t=wg,wg<<=1,!(wg&130023424)&&(wg=4194304)):t=1);var r=Yn();e=Bi(e,t),e!==null&&(Cp(e,t,r),fs(e,r))}function AW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),TD(e,r)}function OW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ne(314))}n!==null&&n.delete(t),TD(e,r)}var ID;ID=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||us.current)os=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return os=!1,vW(e,t,r);os=!!(e.flags&131072)}else os=!1,br&&t.flags&1048576&&D$(t,Kx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;jx(e,t),e=t.pendingProps;var a=yd(t,Dn.current);Xu(t,r),a=tk(null,t,n,e,a,r);var i=rk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ds(n)?(i=!0,zx(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,YS(t),a.updater=Xy,t.stateNode=a,a._reactInternals=t,y1(t,n,e,r),t=j1(null,t,n,!0,i,r)):(t.tag=0,br&&i&&qS(t),qn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(jx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=IW(n),e=ja(n,e),a){case 0:t=w1(null,t,n,e,r);break e;case 1:t=lE(null,t,n,e,r);break e;case 11:t=iE(null,t,n,e,r);break e;case 14:t=oE(null,t,n,ja(n.type,e),r);break e}throw Error(Ne(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ja(n,a),w1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ja(n,a),lE(e,t,n,a,r);case 3:e:{if(gD(t),e===null)throw Error(Ne(387));n=t.pendingProps,i=t.memoizedState,a=i.element,q$(e,t),Qx(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Nd(Error(Ne(423)),t),t=cE(e,t,n,r,a);break e}else if(n!==a){a=Nd(Error(Ne(424)),t),t=cE(e,t,n,r,a);break e}else for(As=Uo(t.stateNode.containerInfo.firstChild),Os=t,br=!0,Aa=null,r=B$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bd(),n===a){t=Vi(e,t,r);break e}qn(e,t,n,r)}t=t.child}return t;case 5:return z$(t),e===null&&g1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,d1(n,a)?o=null:i!==null&&d1(n,i)&&(t.flags|=32),pD(e,t),qn(e,t,o,r),t.child;case 6:return e===null&&g1(t),null;case 13:return xD(e,t,r);case 4:return XS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wd(t,null,n,r):qn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ja(n,a),iE(e,t,n,a,r);case 7:return qn(e,t,t.pendingProps,r),t.child;case 8:return qn(e,t,t.pendingProps.children,r),t.child;case 12:return qn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,dr(Hx,n._currentValue),n._currentValue=o,i!==null)if(La(i.value,o)){if(i.children===a.children&&!us.current){t=Vi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Mi(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),x1(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ne(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),x1(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Xu(t,r),a=ia(a),n=n(a),t.flags|=1,qn(e,t,n,r),t.child;case 14:return n=t.type,a=ja(n,t.pendingProps),a=ja(n.type,a),oE(e,t,n,a,r);case 15:return hD(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ja(n,a),jx(e,t),t.tag=1,ds(n)?(e=!0,zx(t)):e=!1,Xu(t,r),uD(t,n,a),y1(t,n,a,r),j1(null,t,n,!0,e,r);case 19:return vD(e,t,r);case 22:return mD(e,t,r)}throw Error(Ne(156,t.tag))};function RD(e,t){return o$(e,t)}function TW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(e,t,r,n){return new TW(e,t,r,n)}function fk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IW(e){if(typeof e=="function")return fk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===OS)return 11;if(e===TS)return 14}return 2}function zo(e,t){var r=e.alternate;return r===null?(r=Zs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sx(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")fk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Cu:return sc(r.children,a,i,t);case AS:o=8,a|=8;break;case qj:return e=Zs(12,r,t,a|2),e.elementType=qj,e.lanes=i,e;case zj:return e=Zs(13,r,t,a),e.elementType=zj,e.lanes=i,e;case Wj:return e=Zs(19,r,t,a),e.elementType=Wj,e.lanes=i,e;case zM:return eb(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VM:o=10;break e;case qM:o=9;break e;case OS:o=11;break e;case TS:o=14;break e;case po:o=16,n=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=Zs(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function sc(e,t,r,n){return e=Zs(7,e,n,t),e.lanes=r,e}function eb(e,t,r,n){return e=Zs(22,e,n,t),e.elementType=zM,e.lanes=r,e.stateNode={isHidden:!1},e}function Ew(e,t,r){return e=Zs(6,e,null,t),e.lanes=r,e}function Aw(e,t,r){return t=Zs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RW(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uw(0),this.expirationTimes=uw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hk(e,t,r,n,a,i,o,l,c){return e=new RW(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Zs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},YS(i),e}function MW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ku,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function MD(e){if(!e)return Xo;e=e._reactInternals;e:{if(Ic(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var r=e.type;if(ds(r))return M$(e,r,t)}return t}function $D(e,t,r,n,a,i,o,l,c){return e=hk(r,n,!0,e,a,i,o,l,c),e.context=MD(null),r=e.current,n=Yn(),a=qo(r),i=Mi(n,a),i.callback=t??null,Bo(r,i,a),e.current.lanes=a,Cp(e,a,n),fs(e,n),e}function tb(e,t,r,n){var a=t.current,i=Yn(),o=qo(a);return r=MD(r),t.context===null?t.context=r:t.pendingContext=r,t=Mi(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Bo(a,t,o),e!==null&&(Ma(e,a,o,i),yx(e,a,o)),o}function nv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mk(e,t){yE(e,t),(e=e.alternate)&&yE(e,t)}function $W(){return null}var DD=typeof reportError=="function"?reportError:function(e){console.error(e)};function pk(e){this._internalRoot=e}rb.prototype.render=pk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));tb(e,t,null,null)};rb.prototype.unmount=pk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fc(function(){tb(null,e,null,null)}),t[Ui]=null}};function rb(e){this._internalRoot=e}rb.prototype.unstable_scheduleHydration=function(e){if(e){var t=m$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<wo.length&&t!==0&&t<wo[r].priority;r++);wo.splice(r,0,e),r===0&&g$(e)}};function gk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bE(){}function DW(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=nv(o);i.call(u)}}var o=$D(t,n,e,0,null,!1,!1,"",bE);return e._reactRootContainer=o,e[Ui]=o.current,lm(e.nodeType===8?e.parentNode:e),fc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=nv(c);l.call(u)}}var c=hk(e,0,!1,null,null,!1,!1,"",bE);return e._reactRootContainer=c,e[Ui]=c.current,lm(e.nodeType===8?e.parentNode:e),fc(function(){tb(t,c,r,n)}),c}function sb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=nv(o);l.call(c)}}tb(t,o,e,a)}else o=DW(r,t,e,a,n);return nv(o)}f$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bh(t.pendingLanes);r!==0&&(MS(t,r|1),fs(t,Br()),!(Dt&6)&&(_d=Br()+500,cl()))}break;case 13:fc(function(){var n=Bi(e,1);if(n!==null){var a=Yn();Ma(n,e,1,a)}}),mk(e,1)}};$S=function(e){if(e.tag===13){var t=Bi(e,134217728);if(t!==null){var r=Yn();Ma(t,e,134217728,r)}mk(e,134217728)}};h$=function(e){if(e.tag===13){var t=qo(e),r=Bi(e,t);if(r!==null){var n=Yn();Ma(r,e,t,n)}mk(e,t)}};m$=function(){return tr};p$=function(e,t){var r=tr;try{return tr=e,t()}finally{tr=r}};t1=function(e,t,r){switch(t){case"input":if(Gj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Gy(n);if(!a)throw Error(Ne(90));KM(n),Gj(n,a)}}}break;case"textarea":GM(e,r);break;case"select":t=r.value,t!=null&&Hu(e,!!r.multiple,t,!1)}};t$=ck;r$=fc;var LW={usingClientEntryPoint:!1,Events:[Ep,Ou,Gy,ZM,e$,ck]},th={findFiberByHostInstance:Ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FW={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=a$(e),e===null?null:e.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||$W,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tg.isDisabled&&Tg.supportsFiber)try{zy=Tg.inject(FW),ri=Tg}catch{}}Vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LW;Vs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gk(t))throw Error(Ne(200));return MW(e,t,null,r)};Vs.createRoot=function(e,t){if(!gk(e))throw Error(Ne(299));var r=!1,n="",a=DD;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hk(e,1,!1,null,null,r,!1,n,a),e[Ui]=t.current,lm(e.nodeType===8?e.parentNode:e),new pk(t)};Vs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=a$(t),e=e===null?null:e.stateNode,e};Vs.flushSync=function(e){return fc(e)};Vs.hydrate=function(e,t,r){if(!nb(t))throw Error(Ne(200));return sb(null,e,t,!0,r)};Vs.hydrateRoot=function(e,t,r){if(!gk(e))throw Error(Ne(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=DD;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=$D(t,null,e,1,r??null,a,!1,i,o),e[Ui]=t.current,lm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new rb(t)};Vs.render=function(e,t,r){if(!nb(t))throw Error(Ne(200));return sb(null,e,t,!1,r)};Vs.unmountComponentAtNode=function(e){if(!nb(e))throw Error(Ne(40));return e._reactRootContainer?(fc(function(){sb(null,null,e,!1,function(){e._reactRootContainer=null,e[Ui]=null})}),!0):!1};Vs.unstable_batchedUpdates=ck;Vs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!nb(r))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return sb(e,t,r,!1,n)};Vs.version="18.3.1-next-f1338f8080-20240426";function LD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LD)}catch(e){console.error(e)}}LD(),LM.exports=Vs;var Rc=LM.exports;const UW=Yt(Rc);var FD,wE=Rc;FD=wE.createRoot,wE.hydrateRoot;function BW(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var UD={exports:{}},BD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=v;function VW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qW=typeof Object.is=="function"?Object.is:VW,zW=Sd.useState,WW=Sd.useEffect,KW=Sd.useLayoutEffect,HW=Sd.useDebugValue;function GW(e,t){var r=t(),n=zW({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return KW(function(){a.value=r,a.getSnapshot=t,Ow(a)&&i({inst:a})},[e,r,t]),WW(function(){return Ow(a)&&i({inst:a}),e(function(){Ow(a)&&i({inst:a})})},[e]),HW(r),r}function Ow(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qW(e,r)}catch{return!0}}function QW(e,t){return t()}var YW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QW:GW;BD.useSyncExternalStore=Sd.useSyncExternalStore!==void 0?Sd.useSyncExternalStore:YW;UD.exports=BD;var VD=UD.exports;const XW=qy.useInsertionEffect,JW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZW=JW?v.useLayoutEffect:v.useEffect,eK=XW||ZW,qD=e=>{const t=v.useRef([e,(...r)=>t[0](...r)]).current;return eK(()=>{t[0]=e}),t[1]},tK="popstate",xk="pushState",vk="replaceState",rK="hashchange",jE=[tK,xk,vk,rK],nK=e=>{for(const t of jE)addEventListener(t,e);return()=>{for(const t of jE)removeEventListener(t,e)}},zD=(e,t)=>VD.useSyncExternalStore(nK,e,t),NE=()=>location.search,sK=({ssrSearch:e}={})=>zD(NE,e!=null?()=>e:NE),_E=()=>location.pathname,aK=({ssrPath:e}={})=>zD(_E,e!=null?()=>e:_E),iK=(e,{replace:t=!1,state:r=null}={})=>history[t?vk:xk](r,"",e),oK=(e={})=>[aK(e),iK],SE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[SE]>"u"){for(const e of[xk,vk]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,SE,{value:!0})}const lK=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",WD=(e="")=>e==="/"?"":e,cK=(e,t)=>e[0]==="~"?e.slice(1):WD(t)+e,uK=(e="",t)=>lK(R1(WD(e)),R1(t)),dK=e=>e[0]==="?"?e.slice(1):e,R1=e=>{try{return decodeURI(e)}catch{return e}},fK=e=>R1(dK(e)),KD={hook:oK,searchHook:sK,parser:BW,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},HD=v.createContext(KD),hf=()=>v.useContext(HD),GD={},QD=v.createContext(GD),ab=()=>v.useContext(QD),ib=e=>{const[t,r]=e.hook(e);return[uK(e.base,t),qD((n,a)=>e.aroundNav(r,cK(n,e.base),a))]},Ln=()=>ib(hf()),YD=()=>{const e=hf();return fK(e.searchHook(e))},XD=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},hK=({children:e,...t})=>{var d,f,h;const r=hf(),n=t.hook?KD:r;let a=n;const[i,o=t.ssrSearch??""]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs),t.searchHook=t.searchHook??((h=t.hook)==null?void 0:h.searchHook);let l=v.useRef({}),c=l.current,u=c;for(let p in n){const y=p==="base"?n[p]+(t[p]??""):t[p]??n[p];c===u&&y!==u[p]&&(l.current=u={...u}),u[p]=y,(y!==n[p]||y!==a[p])&&(a=u)}return v.createElement(HD.Provider,{value:a,children:e})},kE=({children:e,component:t},r)=>t?v.createElement(t,{params:r}):typeof e=="function"?e(r):e,mK=e=>{let t=v.useRef(GD);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,a])=>a!==r[n])?e:r},He=({path:e,nest:t,match:r,...n})=>{const a=hf(),[i]=ib(a),[o,l,c]=r??XD(a.parser,e,i,t),u=mK({...ab(),...l});if(!o)return null;const d=c?v.createElement(hK,{base:c},kE(n,u)):kE(n,u);return v.createElement(QD.Provider,{value:u,children:d})},me=v.forwardRef((e,t)=>{const r=hf(),[n,a]=ib(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,transition:p,...y}=e,m=qD(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),a(o,e)))}),w=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&v.isValidElement(u)?v.cloneElement(u,{onClick:m,href:w}):v.createElement("a",{...y,onClick:m,href:w,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),JD=e=>Array.isArray(e)?e.flatMap(t=>JD(t&&t.type===v.Fragment?t.props.children:t)):[e],ZD=({children:e,location:t})=>{const r=hf(),[n]=ib(r);for(const a of JD(e)){let i=0;if(v.isValidElement(a)&&(i=XD(r.parser,a.props.path,t||n,a.props.nest))[0])return v.cloneElement(a,{match:i})}return null};var mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pK={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},So,jS,gM,gK=(gM=class{constructor(){Je(this,So,pK);Je(this,jS,!1)}setTimeoutProvider(e){Ie(this,So,e)}setTimeout(e,t){return H(this,So).setTimeout(e,t)}clearTimeout(e){H(this,So).clearTimeout(e)}setInterval(e,t){return H(this,So).setInterval(e,t)}clearInterval(e){H(this,So).clearInterval(e)}},So=new WeakMap,jS=new WeakMap,gM),Bl=new gK;function xK(e){setTimeout(e,0)}var hc=typeof window>"u"||"Deno"in globalThis;function zn(){}function vK(e,t){return typeof e=="function"?e(t):e}function M1(e){return typeof e=="number"&&e>=0&&e!==1/0}function e5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wo(e,t){return typeof e=="function"?e(t):e}function Qs(e,t){return typeof e=="function"?e(t):e}function CE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==yk(o,t.options))return!1}else if(!xm(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function PE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(mc(t.options.mutationKey)!==mc(i))return!1}else if(!xm(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function yk(e,t){return((t==null?void 0:t.queryKeyHashFn)||mc)(e)}function mc(e){return JSON.stringify(e,(t,r)=>$1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function xm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>xm(e[r],t[r])):!1}var yK=Object.prototype.hasOwnProperty;function t5(e,t){if(e===t)return e;const r=EE(e)&&EE(t);if(!r&&!($1(e)&&$1(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:yK.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=t5(f,h);l[d]=p,p===f&&c++}return a===o&&c===a?e:l}function sv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function EE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $1(e){if(!AE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!AE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function AE(e){return Object.prototype.toString.call(e)==="[object Object]"}function bK(e){return new Promise(t=>{Bl.setTimeout(t,e)})}function D1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?t5(e,t):t}function wK(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function jK(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var bk=Symbol();function r5(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===bk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function n5(e,t){return typeof e=="function"?e(...t):!!e}var Gl,ko,id,xM,NK=(xM=class extends mf{constructor(){super();Je(this,Gl);Je(this,ko);Je(this,id);Ie(this,id,t=>{if(!hc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){H(this,ko)||this.setEventListener(H(this,id))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,ko))==null||t.call(this),Ie(this,ko,void 0))}setEventListener(t){var r;Ie(this,id,t),(r=H(this,ko))==null||r.call(this),Ie(this,ko,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){H(this,Gl)!==t&&(Ie(this,Gl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof H(this,Gl)=="boolean"?H(this,Gl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gl=new WeakMap,ko=new WeakMap,id=new WeakMap,xM),wk=new NK;function L1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var _K=xK;function SK(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=_K;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var an=SK(),od,Co,ld,vM,kK=(vM=class extends mf{constructor(){super();Je(this,od,!0);Je(this,Co);Je(this,ld);Ie(this,ld,t=>{if(!hc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){H(this,Co)||this.setEventListener(H(this,ld))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Co))==null||t.call(this),Ie(this,Co,void 0))}setEventListener(t){var r;Ie(this,ld,t),(r=H(this,Co))==null||r.call(this),Ie(this,Co,t(this.setOnline.bind(this)))}setOnline(t){H(this,od)!==t&&(Ie(this,od,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return H(this,od)}},od=new WeakMap,Co=new WeakMap,ld=new WeakMap,vM),av=new kK;function CK(e){return Math.min(1e3*2**e,3e4)}function s5(e){return(e??"online")==="online"?av.isOnline():!0}var F1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function a5(e){let t=!1,r=0,n;const a=L1(),i=()=>a.status!=="pending",o=m=>{var w;if(!i()){const g=new F1(m);h(g),(w=e.onCancel)==null||w.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>wk.isFocused()&&(e.networkMode==="always"||av.isOnline())&&e.canRun(),d=()=>s5(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),a.resolve(m))},h=m=>{i()||(n==null||n(),a.reject(m))},p=()=>new Promise(m=>{var w;n=g=>{(i()||u())&&m(g)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(i())return;let m;const w=r===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(f).catch(g=>{var N;if(i())return;const x=e.retry??(hc?0:3),b=e.retryDelay??CK,j=typeof b=="function"?b(r,g):b,_=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,g);if(t||!_){h(g);return}r++,(N=e.onFail)==null||N.call(e,r,g),bK(j).then(()=>u()?void 0:p()).then(()=>{t?h(g):y()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),a)}}var Ql,yM,i5=(yM=class{constructor(){Je(this,Ql)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M1(this.gcTime)&&Ie(this,Ql,Bl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hc?1/0:5*60*1e3))}clearGcTimeout(){H(this,Ql)&&(Bl.clearTimeout(H(this,Ql)),Ie(this,Ql,void 0))}},Ql=new WeakMap,yM),Yl,cd,Gs,Xl,mn,wp,Jl,_a,bi,bM,PK=(bM=class extends i5{constructor(t){super();Je(this,_a);Je(this,Yl);Je(this,cd);Je(this,Gs);Je(this,Xl);Je(this,mn);Je(this,wp);Je(this,Jl);Ie(this,Jl,!1),Ie(this,wp,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ie(this,Xl,t.client),Ie(this,Gs,H(this,Xl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ie(this,Yl,TE(this.options)),this.state=t.state??H(this,Yl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,mn))==null?void 0:t.promise}setOptions(t){if(this.options={...H(this,wp),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=TE(this.options);r.data!==void 0&&(this.setState(OE(r.data,r.dataUpdatedAt)),Ie(this,Yl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Gs).remove(this)}setData(t,r){const n=D1(this.state.data,t,this.options);return bt(this,_a,bi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){bt(this,_a,bi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=H(this,mn))==null?void 0:n.promise;return(a=H(this,mn))==null||a.cancel(t),r?r.then(zn).catch(zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Yl))}isActive(){return this.observers.some(t=>Qs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!e5(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=H(this,mn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=H(this,mn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,Gs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(H(this,mn)&&(H(this,Jl)?H(this,mn).cancel({revert:!0}):H(this,mn).cancelRetry()),this.scheduleGc()),H(this,Gs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||bt(this,_a,bi).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,y,m,w,g,x,b;if(this.state.fetchStatus!=="idle"&&((c=H(this,mn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,mn))return H(this,mn).continueRetry(),H(this,mn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(_=>_.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Ie(this,Jl,!0),n.signal)})},i=()=>{const j=r5(this.options,r),N=(()=>{const S={client:H(this,Xl),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return Ie(this,Jl,!1),this.options.persister?this.options.persister(j,N,this):j(N)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:H(this,Xl),state:this.state,fetchFn:i};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),Ie(this,cd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&bt(this,_a,bi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ie(this,mn,a5({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof F1&&j.revert&&this.setState({...H(this,cd),fetchStatus:"idle"}),n.abort()},onFail:(j,_)=>{bt(this,_a,bi).call(this,{type:"failed",failureCount:j,error:_})},onPause:()=>{bt(this,_a,bi).call(this,{type:"pause"})},onContinue:()=>{bt(this,_a,bi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await H(this,mn).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(p=(h=H(this,Gs).config).onSuccess)==null||p.call(h,j,this),(m=(y=H(this,Gs).config).onSettled)==null||m.call(y,j,this.state.error,this),j}catch(j){if(j instanceof F1){if(j.silent)return H(this,mn).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw bt(this,_a,bi).call(this,{type:"error",error:j}),(g=(w=H(this,Gs).config).onError)==null||g.call(w,j,this),(b=(x=H(this,Gs).config).onSettled)==null||b.call(x,this.state.data,j,this),j}finally{this.scheduleGc()}}},Yl=new WeakMap,cd=new WeakMap,Gs=new WeakMap,Xl=new WeakMap,mn=new WeakMap,wp=new WeakMap,Jl=new WeakMap,_a=new WeakSet,bi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...o5(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...OE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ie(this,cd,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),an.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),H(this,Gs).notify({query:this,type:"updated",action:t})})},bM);function o5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:s5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function OE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function TE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ns,Mt,jp,Un,Zl,ud,Si,Po,Np,dd,fd,ec,tc,Eo,hd,Wt,jh,U1,B1,V1,q1,z1,W1,K1,l5,wM,EK=(wM=class extends mf{constructor(t,r){super();Je(this,Wt);Je(this,ns);Je(this,Mt);Je(this,jp);Je(this,Un);Je(this,Zl);Je(this,ud);Je(this,Si);Je(this,Po);Je(this,Np);Je(this,dd);Je(this,fd);Je(this,ec);Je(this,tc);Je(this,Eo);Je(this,hd,new Set);this.options=r,Ie(this,ns,t),Ie(this,Po,null),Ie(this,Si,L1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,Mt).addObserver(this),IE(H(this,Mt),this.options)?bt(this,Wt,jh).call(this):this.updateResult(),bt(this,Wt,q1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return H1(H(this,Mt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return H1(H(this,Mt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,bt(this,Wt,z1).call(this),bt(this,Wt,W1).call(this),H(this,Mt).removeObserver(this)}setOptions(t){const r=this.options,n=H(this,Mt);if(this.options=H(this,ns).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Qs(this.options.enabled,H(this,Mt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");bt(this,Wt,K1).call(this),H(this,Mt).setOptions(this.options),r._defaulted&&!sv(this.options,r)&&H(this,ns).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,Mt),observer:this});const a=this.hasListeners();a&&RE(H(this,Mt),n,this.options,r)&&bt(this,Wt,jh).call(this),this.updateResult(),a&&(H(this,Mt)!==n||Qs(this.options.enabled,H(this,Mt))!==Qs(r.enabled,H(this,Mt))||Wo(this.options.staleTime,H(this,Mt))!==Wo(r.staleTime,H(this,Mt)))&&bt(this,Wt,U1).call(this);const i=bt(this,Wt,B1).call(this);a&&(H(this,Mt)!==n||Qs(this.options.enabled,H(this,Mt))!==Qs(r.enabled,H(this,Mt))||i!==H(this,Eo))&&bt(this,Wt,V1).call(this,i)}getOptimisticResult(t){const r=H(this,ns).getQueryCache().build(H(this,ns),t),n=this.createResult(r,t);return OK(this,n)&&(Ie(this,Un,n),Ie(this,ud,this.options),Ie(this,Zl,H(this,Mt).state)),n}getCurrentResult(){return H(this,Un)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&H(this,Si).status==="pending"&&H(this,Si).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){H(this,hd).add(t)}getCurrentQuery(){return H(this,Mt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=H(this,ns).defaultQueryOptions(t),n=H(this,ns).getQueryCache().build(H(this,ns),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return bt(this,Wt,jh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,Un)))}createResult(t,r){var P;const n=H(this,Mt),a=this.options,i=H(this,Un),o=H(this,Zl),l=H(this,ud),u=t!==n?t.state:H(this,jp),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const k=this.hasListeners(),E=!k&&IE(t,r),T=k&&RE(t,n,r,a);(E||T)&&(f={...f,...o5(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:w}=f;p=f.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let k;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(k=i.data,g=!0):k=typeof r.placeholderData=="function"?r.placeholderData((P=H(this,fd))==null?void 0:P.state.data,H(this,fd)):r.placeholderData,k!==void 0&&(w="success",p=D1(i==null?void 0:i.data,k,r),h=!0)}if(r.select&&p!==void 0&&!g)if(i&&p===(o==null?void 0:o.data)&&r.select===H(this,Np))p=H(this,dd);else try{Ie(this,Np,r.select),p=r.select(p),p=D1(i==null?void 0:i.data,p,r),Ie(this,dd,p),Ie(this,Po,null)}catch(k){Ie(this,Po,k)}H(this,Po)&&(y=H(this,Po),p=H(this,dd),m=Date.now(),w="error");const x=f.fetchStatus==="fetching",b=w==="pending",j=w==="error",_=b&&x,N=p!==void 0,C={status:w,fetchStatus:f.fetchStatus,isPending:b,isSuccess:w==="success",isError:j,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:j&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&N,isStale:jk(t,r),refetch:this.refetch,promise:H(this,Si),isEnabled:Qs(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=I=>{C.status==="error"?I.reject(C.error):C.data!==void 0&&I.resolve(C.data)},E=()=>{const I=Ie(this,Si,C.promise=L1());k(I)},T=H(this,Si);switch(T.status){case"pending":t.queryHash===n.queryHash&&k(T);break;case"fulfilled":(C.status==="error"||C.data!==T.value)&&E();break;case"rejected":(C.status!=="error"||C.error!==T.reason)&&E();break}}return C}updateResult(){const t=H(this,Un),r=this.createResult(H(this,Mt),this.options);if(Ie(this,Zl,H(this,Mt).state),Ie(this,ud,this.options),H(this,Zl).data!==void 0&&Ie(this,fd,H(this,Mt)),sv(r,t))return;Ie(this,Un,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!H(this,hd).size)return!0;const o=new Set(i??H(this,hd));return this.options.throwOnError&&o.add("error"),Object.keys(H(this,Un)).some(l=>{const c=l;return H(this,Un)[c]!==t[c]&&o.has(c)})};bt(this,Wt,l5).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&bt(this,Wt,q1).call(this)}},ns=new WeakMap,Mt=new WeakMap,jp=new WeakMap,Un=new WeakMap,Zl=new WeakMap,ud=new WeakMap,Si=new WeakMap,Po=new WeakMap,Np=new WeakMap,dd=new WeakMap,fd=new WeakMap,ec=new WeakMap,tc=new WeakMap,Eo=new WeakMap,hd=new WeakMap,Wt=new WeakSet,jh=function(t){bt(this,Wt,K1).call(this);let r=H(this,Mt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(zn)),r},U1=function(){bt(this,Wt,z1).call(this);const t=Wo(this.options.staleTime,H(this,Mt));if(hc||H(this,Un).isStale||!M1(t))return;const n=e5(H(this,Un).dataUpdatedAt,t)+1;Ie(this,ec,Bl.setTimeout(()=>{H(this,Un).isStale||this.updateResult()},n))},B1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,Mt)):this.options.refetchInterval)??!1},V1=function(t){bt(this,Wt,W1).call(this),Ie(this,Eo,t),!(hc||Qs(this.options.enabled,H(this,Mt))===!1||!M1(H(this,Eo))||H(this,Eo)===0)&&Ie(this,tc,Bl.setInterval(()=>{(this.options.refetchIntervalInBackground||wk.isFocused())&&bt(this,Wt,jh).call(this)},H(this,Eo)))},q1=function(){bt(this,Wt,U1).call(this),bt(this,Wt,V1).call(this,bt(this,Wt,B1).call(this))},z1=function(){H(this,ec)&&(Bl.clearTimeout(H(this,ec)),Ie(this,ec,void 0))},W1=function(){H(this,tc)&&(Bl.clearInterval(H(this,tc)),Ie(this,tc,void 0))},K1=function(){const t=H(this,ns).getQueryCache().build(H(this,ns),this.options);if(t===H(this,Mt))return;const r=H(this,Mt);Ie(this,Mt,t),Ie(this,jp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},l5=function(t){an.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(H(this,Un))}),H(this,ns).getQueryCache().notify({query:H(this,Mt),type:"observerResultsUpdated"})})},wM);function AK(e,t){return Qs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function IE(e,t){return AK(e,t)||e.state.data!==void 0&&H1(e,t,t.refetchOnMount)}function H1(e,t,r){if(Qs(t.enabled,e)!==!1&&Wo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&jk(e,t)}return!1}function RE(e,t,r,n){return(e!==t||Qs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&jk(e,r)}function jk(e,t){return Qs(t.enabled,e)!==!1&&e.isStaleByTime(Wo(t.staleTime,e))}function OK(e,t){return!sv(e.getCurrentResult(),t)}function ME(e){return{onFetch:(t,r)=>{var d,f,h,p,y;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},g=r5(t.options,t.fetchOptions),x=async(b,j,_)=>{if(m)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return w(E),E})(),C=await g(S),{maxPages:P}=t.options,k=_?jK:wK;return{pages:k(b.pages,C,P),pageParams:k(b.pageParams,j,P)}};if(a&&i.length){const b=a==="backward",j=b?TK:$E,_={pages:i,pageParams:o},N=j(n,_);l=await x(_,N,b)}else{const b=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:$E(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function $E(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function TK(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var _p,Qa,Bn,rc,Ya,ho,jM,IK=(jM=class extends i5{constructor(t){super();Je(this,Ya);Je(this,_p);Je(this,Qa);Je(this,Bn);Je(this,rc);Ie(this,_p,t.client),this.mutationId=t.mutationId,Ie(this,Bn,t.mutationCache),Ie(this,Qa,[]),this.state=t.state||c5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,Qa).includes(t)||(H(this,Qa).push(t),this.clearGcTimeout(),H(this,Bn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ie(this,Qa,H(this,Qa).filter(r=>r!==t)),this.scheduleGc(),H(this,Bn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,Qa).length||(this.state.status==="pending"?this.scheduleGc():H(this,Bn).remove(this))}continue(){var t;return((t=H(this,rc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,y,m,w,g,x,b,j,_,N,S,C,P;const r=()=>{bt(this,Ya,ho).call(this,{type:"continue"})},n={client:H(this,_p),meta:this.options.meta,mutationKey:this.options.mutationKey};Ie(this,rc,a5({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{bt(this,Ya,ho).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{bt(this,Ya,ho).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Bn).canRun(this)}));const a=this.state.status==="pending",i=!H(this,rc).canStart();try{if(a)r();else{bt(this,Ya,ho).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=H(this,Bn).config).onMutate)==null?void 0:l.call(o,t,this,n));const E=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));E!==this.state.context&&bt(this,Ya,ho).call(this,{type:"pending",context:E,variables:t,isPaused:i})}const k=await H(this,rc).start();return await((f=(d=H(this,Bn).config).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,k,t,this.state.context,n)),await((m=(y=H(this,Bn).config).onSettled)==null?void 0:m.call(y,k,null,this.state.variables,this.state.context,this,n)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,k,null,t,this.state.context,n)),bt(this,Ya,ho).call(this,{type:"success",data:k}),k}catch(k){try{throw await((b=(x=H(this,Bn).config).onError)==null?void 0:b.call(x,k,t,this.state.context,this,n)),await((_=(j=this.options).onError)==null?void 0:_.call(j,k,t,this.state.context,n)),await((S=(N=H(this,Bn).config).onSettled)==null?void 0:S.call(N,void 0,k,this.state.variables,this.state.context,this,n)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,k,t,this.state.context,n)),k}finally{bt(this,Ya,ho).call(this,{type:"error",error:k})}}finally{H(this,Bn).runNext(this)}}},_p=new WeakMap,Qa=new WeakMap,Bn=new WeakMap,rc=new WeakMap,Ya=new WeakSet,ho=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),an.batch(()=>{H(this,Qa).forEach(n=>{n.onMutationUpdate(t)}),H(this,Bn).notify({mutation:this,type:"updated",action:t})})},jM);function c5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ki,Sa,Sp,NM,RK=(NM=class extends mf{constructor(t={}){super();Je(this,ki);Je(this,Sa);Je(this,Sp);this.config=t,Ie(this,ki,new Set),Ie(this,Sa,new Map),Ie(this,Sp,0)}build(t,r,n){const a=new IK({client:t,mutationCache:this,mutationId:++mg(this,Sp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){H(this,ki).add(t);const r=Ig(t);if(typeof r=="string"){const n=H(this,Sa).get(r);n?n.push(t):H(this,Sa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(H(this,ki).delete(t)){const r=Ig(t);if(typeof r=="string"){const n=H(this,Sa).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&H(this,Sa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ig(t);if(typeof r=="string"){const n=H(this,Sa).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Ig(t);if(typeof r=="string"){const a=(n=H(this,Sa).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){an.batch(()=>{H(this,ki).forEach(t=>{this.notify({type:"removed",mutation:t})}),H(this,ki).clear(),H(this,Sa).clear()})}getAll(){return Array.from(H(this,ki))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>PE(r,n))}findAll(t={}){return this.getAll().filter(r=>PE(t,r))}notify(t){an.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return an.batch(()=>Promise.all(t.map(r=>r.continue().catch(zn))))}},ki=new WeakMap,Sa=new WeakMap,Sp=new WeakMap,NM);function Ig(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ci,Ao,ss,Pi,Li,kx,G1,_M,MK=(_M=class extends mf{constructor(r,n){super();Je(this,Li);Je(this,Ci);Je(this,Ao);Je(this,ss);Je(this,Pi);Ie(this,Ci,r),this.setOptions(n),this.bindMethods(),bt(this,Li,kx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=H(this,Ci).defaultMutationOptions(r),sv(this.options,n)||H(this,Ci).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,ss),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&mc(n.mutationKey)!==mc(this.options.mutationKey)?this.reset():((a=H(this,ss))==null?void 0:a.state.status)==="pending"&&H(this,ss).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=H(this,ss))==null||r.removeObserver(this)}onMutationUpdate(r){bt(this,Li,kx).call(this),bt(this,Li,G1).call(this,r)}getCurrentResult(){return H(this,Ao)}reset(){var r;(r=H(this,ss))==null||r.removeObserver(this),Ie(this,ss,void 0),bt(this,Li,kx).call(this),bt(this,Li,G1).call(this)}mutate(r,n){var a;return Ie(this,Pi,n),(a=H(this,ss))==null||a.removeObserver(this),Ie(this,ss,H(this,Ci).getMutationCache().build(H(this,Ci),this.options)),H(this,ss).addObserver(this),H(this,ss).execute(r)}},Ci=new WeakMap,Ao=new WeakMap,ss=new WeakMap,Pi=new WeakMap,Li=new WeakSet,kx=function(){var n;const r=((n=H(this,ss))==null?void 0:n.state)??c5();Ie(this,Ao,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},G1=function(r){an.batch(()=>{var n,a,i,o,l,c,u,d;if(H(this,Pi)&&this.hasListeners()){const f=H(this,Ao).variables,h=H(this,Ao).context,p={client:H(this,Ci),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=H(this,Pi)).onSuccess)==null||a.call(n,r.data,f,h,p),(o=(i=H(this,Pi)).onSettled)==null||o.call(i,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=H(this,Pi)).onError)==null||c.call(l,r.error,f,h,p),(d=(u=H(this,Pi)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(H(this,Ao))})})},_M),Xa,SM,$K=(SM=class extends mf{constructor(t={}){super();Je(this,Xa);this.config=t,Ie(this,Xa,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??yk(a,r);let o=this.get(i);return o||(o=new PK({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){H(this,Xa).has(t.queryHash)||(H(this,Xa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=H(this,Xa).get(t.queryHash);r&&(t.destroy(),r===t&&H(this,Xa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){an.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,Xa).get(t)}getAll(){return[...H(this,Xa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>CE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>CE(t,n)):r}notify(t){an.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){an.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xa=new WeakMap,SM),Er,Oo,To,md,pd,Io,gd,xd,kM,DK=(kM=class{constructor(e={}){Je(this,Er);Je(this,Oo);Je(this,To);Je(this,md);Je(this,pd);Je(this,Io);Je(this,gd);Je(this,xd);Ie(this,Er,e.queryCache||new $K),Ie(this,Oo,e.mutationCache||new RK),Ie(this,To,e.defaultOptions||{}),Ie(this,md,new Map),Ie(this,pd,new Map),Ie(this,Io,0)}mount(){mg(this,Io)._++,H(this,Io)===1&&(Ie(this,gd,wk.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Er).onFocus())})),Ie(this,xd,av.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Er).onOnline())})))}unmount(){var e,t;mg(this,Io)._--,H(this,Io)===0&&((e=H(this,gd))==null||e.call(this),Ie(this,gd,void 0),(t=H(this,xd))==null||t.call(this),Ie(this,xd,void 0))}isFetching(e){return H(this,Er).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,Oo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=H(this,Er).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=H(this,Er).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Wo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return H(this,Er).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=H(this,Er).get(n.queryHash),i=a==null?void 0:a.state.data,o=vK(t,i);if(o!==void 0)return H(this,Er).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return an.batch(()=>H(this,Er).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=H(this,Er).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=H(this,Er);an.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=H(this,Er);return an.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=an.batch(()=>H(this,Er).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(zn).catch(zn)}invalidateQueries(e,t={}){return an.batch(()=>(H(this,Er).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=an.batch(()=>H(this,Er).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(zn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=H(this,Er).build(this,t);return r.isStaleByTime(Wo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(zn).catch(zn)}fetchInfiniteQuery(e){return e.behavior=ME(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(zn).catch(zn)}ensureInfiniteQueryData(e){return e.behavior=ME(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return av.isOnline()?H(this,Oo).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,Er)}getMutationCache(){return H(this,Oo)}getDefaultOptions(){return H(this,To)}setDefaultOptions(e){Ie(this,To,e)}setQueryDefaults(e,t){H(this,md).set(mc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,md).values()],r={};return t.forEach(n=>{xm(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){H(this,pd).set(mc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,pd).values()],r={};return t.forEach(n=>{xm(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,To).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===bk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,To).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,Er).clear(),H(this,Oo).clear()}},Er=new WeakMap,Oo=new WeakMap,To=new WeakMap,md=new WeakMap,pd=new WeakMap,Io=new WeakMap,gd=new WeakMap,xd=new WeakMap,kM),u5=v.createContext(void 0),d5=e=>{const t=v.useContext(u5);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},LK=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(u5.Provider,{value:e,children:t})),f5=v.createContext(!1),FK=()=>v.useContext(f5);f5.Provider;function UK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var BK=v.createContext(UK()),VK=()=>v.useContext(BK),qK=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},zK=e=>{v.useEffect(()=>{e.clearReset()},[e])},WK=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||n5(r,[e.error,n])),KK=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},HK=(e,t)=>e.isLoading&&e.isFetching&&!t,GK=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,DE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function QK(e,t,r){var f,h,p,y,m;const n=FK(),a=VK(),i=d5(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",KK(o),qK(o,a),zK(a);const l=!i.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(w=>{const g=d?c.subscribe(an.batchCalls(w)):zn;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o)},[o,c]),GK(o,u))throw DE(o,c,a);if(WK({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,o,u),o.experimental_prefetchInRender&&!hc&&HK(u,n)){const w=l?DE(o,c,a):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;w==null||w.catch(zn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function de(e,t){return QK(e,EK)}function ye(e,t){const r=d5(),[n]=v.useState(()=>new MK(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const a=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(an.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(zn)},[n]);if(a.error&&n5(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function h5(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ve(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await h5(n),n}const m5=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await h5(r),await r.json())},re=new DK({defaultOptions:{queries:{queryFn:m5({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),YK=1,XK=1e6;let Tw=0;function JK(){return Tw=(Tw+1)%Number.MAX_SAFE_INTEGER,Tw.toString()}const Iw=new Map,LE=e=>{if(Iw.has(e))return;const t=setTimeout(()=>{Iw.delete(e),Bh({type:"REMOVE_TOAST",toastId:e})},XK);Iw.set(e,t)},ZK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,YK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?LE(r):e.toasts.forEach(n=>{LE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Cx=[];let Px={toasts:[]};function Bh(e){Px=ZK(Px,e),Cx.forEach(t=>{t(Px)})}function eH({...e}){const t=JK(),r=a=>Bh({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Bh({type:"DISMISS_TOAST",toastId:t});return Bh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function mt(){const[e,t]=v.useState(Px);return v.useEffect(()=>(Cx.push(t),()=>{const r=Cx.indexOf(t);r>-1&&Cx.splice(r,1)}),[e]),{...e,toast:eH,dismiss:r=>Bh({type:"DISMISS_TOAST",toastId:r})}}function je(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function FE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Jn(...e){return t=>{let r=!1;const n=e.map(a=>{const i=FE(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():FE(e[a],null)}}}}function ft(...e){return v.useCallback(Jn(...e),e)}function tH(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function An(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:p,...y}=f,m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,w=v.useMemo(()=>y,Object.values(y));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=v.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,rH(a,...t)]}function rH(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function UE(e){const t=nH(e),r=v.forwardRef((n,a)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(aH);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function nH(e){const t=v.forwardRef((r,n)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=oH(a),l=iH(i,a.props);return a.type!==v.Fragment&&(l.ref=n?Jn(n,o):o),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sH=Symbol("radix.slottable");function aH(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sH}function iH(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function oH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Op(e){const t=e+"CollectionProvider",[r,n]=An(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:g}=m,x=L.useRef(null),b=L.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:b,collectionRef:x,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=UE(l),u=L.forwardRef((m,w)=>{const{scope:g,children:x}=m,b=i(l,g),j=ft(w,b.collectionRef);return s.jsx(c,{ref:j,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=UE(d),p=L.forwardRef((m,w)=>{const{scope:g,children:x,...b}=m,j=L.useRef(null),_=ft(w,j),N=i(d,g);return L.useEffect(()=>(N.itemMap.set(j,{ref:j,...b}),()=>void N.itemMap.delete(j))),s.jsx(h,{[f]:"",ref:_,children:x})});p.displayName=d;function y(m){const w=i(e+"CollectionConsumer",m);return L.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((N,S)=>b.indexOf(N.ref.current)-b.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,n]}function lH(e){const t=cH(e),r=v.forwardRef((n,a)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(dH);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function cH(e){const t=v.forwardRef((r,n)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=hH(a),l=fH(i,a.props);return a.type!==v.Fragment&&(l.ref=n?Jn(n,o):o),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uH=Symbol("radix.slottable");function dH(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uH}function fH(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function hH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=mH.reduce((e,t)=>{const r=lH(`Primitive.${t}`),n=v.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Nk(e,t){e&&Rc.flushSync(()=>e.dispatchEvent(t))}function Rr(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function pH(e,t=globalThis==null?void 0:globalThis.document){const r=Rr(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var gH="DismissableLayer",Q1="dismissableLayer.update",xH="dismissableLayer.pointerDownOutside",vH="dismissableLayer.focusOutside",BE,p5=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(p5),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),y=ft(t,S=>f(S)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(w),x=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=g,_=bH(S=>{const C=S.target,P=[...u.branches].some(k=>k.contains(C));!j||P||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=wH(S=>{const C=S.target;[...u.branches].some(k=>k.contains(C))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return pH(S=>{x===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(BE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),VE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=BE)}},[d,h,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),VE())},[d,u]),v.useEffect(()=>{const S=()=>p({});return document.addEventListener(Q1,S),()=>document.removeEventListener(Q1,S)},[]),s.jsx(Me.div,{...c,ref:y,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,N.onFocusCapture),onBlurCapture:je(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,_.onPointerDownCapture)})});Mc.displayName=gH;var yH="DismissableLayerBranch",g5=v.forwardRef((e,t)=>{const r=v.useContext(p5),n=v.useRef(null),a=ft(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Me.div,{...e,ref:a})});g5.displayName=yH;function bH(e,t=globalThis==null?void 0:globalThis.document){const r=Rr(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){x5(xH,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function wH(e,t=globalThis==null?void 0:globalThis.document){const r=Rr(e),n=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!n.current&&x5(vH,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function VE(){const e=new CustomEvent(Q1);document.dispatchEvent(e)}function x5(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Nk(a,i):a.dispatchEvent(i)}var jH=Mc,NH=g5,Lr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},_H="Portal",pf=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=v.useState(!1);Lr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?UW.createPortal(s.jsx(Me.div,{...n,ref:t}),o):null});pf.displayName=_H;function SH(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var dn=e=>{const{present:t,children:r}=e,n=kH(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=ft(n.ref,CH(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:i}):null};dn.displayName="Presence";function kH(e){const[t,r]=v.useState(),n=v.useRef(null),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=SH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Rg(n.current);i.current=l==="mounted"?u:"none"},[l]),Lr(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=Rg(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Lr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Rg(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(i.current=Rg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Rg(e){return(e==null?void 0:e.animationName)||"none"}function CH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var PH=qy[" useInsertionEffect ".trim().toString()]||Lr;function ms({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=EH({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=v.useCallback(d=>{var f;if(l){const h=AH(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function EH({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return PH(()=>{i.current=t},[t]),v.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function AH(e){return typeof e=="function"}var v5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OH="VisuallyHidden",ob=v.forwardRef((e,t)=>s.jsx(Me.span,{...e,ref:t,style:{...v5,...e.style}}));ob.displayName=OH;var TH=ob,_k="ToastProvider",[Sk,IH,RH]=Op("Toast"),[y5]=An("Toast",[RH]),[MH,lb]=y5(_k),b5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${_k}\`. Expected non-empty \`string\`.`),s.jsx(Sk.Provider,{scope:t,children:s.jsx(MH,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(p=>p+1),[]),onToastRemove:v.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};b5.displayName=_k;var w5="ToastViewport",$H=["F8"],Y1="toast.viewportPause",X1="toast.viewportResume",j5=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=$H,label:a="Notifications ({hotkey})",...i}=e,o=lb(w5,r),l=IH(r),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=ft(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;v.useEffect(()=>{const w=g=>{var b;n.length!==0&&n.every(j=>g[j]||g.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),v.useEffect(()=>{const w=c.current,g=f.current;if(y&&w&&g){const x=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(Y1);g.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(X1);g.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!w.contains(N.relatedTarget)&&b()},_=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",j),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:w})=>{const x=l().map(b=>{const j=b.ref.current,_=[j,...QH(j)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return v.useEffect(()=>{const w=f.current;if(w){const g=x=>{var _,N,S;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const C=document.activeElement,P=x.shiftKey;if(x.target===w&&P){(_=u.current)==null||_.focus();return}const T=m({tabbingDirection:P?"backwards":"forwards"}),I=T.findIndex(R=>R===C);Rw(T.slice(I+1))?x.preventDefault():P?(N=u.current)==null||N.focus():(S=d.current)==null||S.focus()}};return w.addEventListener("keydown",g),()=>w.removeEventListener("keydown",g)}},[l,m]),s.jsxs(NH,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(J1,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Rw(w)}}),s.jsx(Sk.Slot,{scope:r,children:s.jsx(Me.ol,{tabIndex:-1,...i,ref:h})}),y&&s.jsx(J1,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Rw(w)}})]})});j5.displayName=w5;var N5="ToastFocusProxy",J1=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=lb(N5,r);return s.jsx(ob,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});J1.displayName=N5;var Tp="Toast",DH="toast.swipeStart",LH="toast.swipeMove",FH="toast.swipeCancel",UH="toast.swipeEnd",_5=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ms({prop:n,defaultProp:a??!0,onChange:i,caller:Tp});return s.jsx(dn,{present:r||l,children:s.jsx(qH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Rr(e.onPause),onResume:Rr(e.onResume),onSwipeStart:je(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:je(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});_5.displayName=Tp;var[BH,VH]=y5(Tp,{onClose(){}}),qH=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=lb(Tp,r),[w,g]=v.useState(null),x=ft(t,R=>g(R)),b=v.useRef(null),j=v.useRef(null),_=a||m.duration,N=v.useRef(0),S=v.useRef(_),C=v.useRef(0),{onToastAdd:P,onToastRemove:k}=m,E=Rr(()=>{var D;(w==null?void 0:w.contains(document.activeElement))&&((D=m.viewport)==null||D.focus()),o()}),T=v.useCallback(R=>{!R||R===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout(E,R))},[E]);v.useEffect(()=>{const R=m.viewport;if(R){const D=()=>{T(S.current),u==null||u()},O=()=>{const z=new Date().getTime()-N.current;S.current=S.current-z,window.clearTimeout(C.current),c==null||c()};return R.addEventListener(Y1,O),R.addEventListener(X1,D),()=>{R.removeEventListener(Y1,O),R.removeEventListener(X1,D)}}},[m.viewport,_,c,u,T]),v.useEffect(()=>{i&&!m.isClosePausedRef.current&&T(_)},[i,_,m.isClosePausedRef,T]),v.useEffect(()=>(P(),()=>k()),[P,k]);const I=v.useMemo(()=>w?O5(w):null,[w]);return m.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx(zH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:I}),s.jsx(BH,{scope:r,onClose:E,children:Rc.createPortal(s.jsx(Sk.ItemSlot,{scope:r,children:s.jsx(jH,{asChild:!0,onEscapeKeyDown:je(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||E(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Me.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:je(e.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:je(e.onPointerMove,R=>{if(!b.current)return;const D=R.clientX-b.current.x,O=R.clientY-b.current.y,z=!!j.current,A=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Q=A?$(0,D):0,X=A?0:$(0,O),F=R.pointerType==="touch"?10:2,J={x:Q,y:X},q={originalEvent:R,delta:J};z?(j.current=J,Mg(LH,f,q,{discrete:!1})):qE(J,m.swipeDirection,F)?(j.current=J,Mg(DH,d,q,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(D)>F||Math.abs(O)>F)&&(b.current=null)}),onPointerUp:je(e.onPointerUp,R=>{const D=j.current,O=R.target;if(O.hasPointerCapture(R.pointerId)&&O.releasePointerCapture(R.pointerId),j.current=null,b.current=null,D){const z=R.currentTarget,A={originalEvent:R,delta:D};qE(D,m.swipeDirection,m.swipeThreshold)?Mg(UH,p,A,{discrete:!0}):Mg(FH,h,A,{discrete:!0}),z.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),zH=e=>{const{__scopeToast:t,children:r,...n}=e,a=lb(Tp,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return HH(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(pf,{asChild:!0,children:s.jsx(ob,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},WH="ToastTitle",S5=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});S5.displayName=WH;var KH="ToastDescription",k5=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});k5.displayName=KH;var C5="ToastAction",P5=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(A5,{altText:r,asChild:!0,children:s.jsx(kk,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${C5}\`. Expected non-empty \`string\`.`),null)});P5.displayName=C5;var E5="ToastClose",kk=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=VH(E5,r);return s.jsx(A5,{asChild:!0,children:s.jsx(Me.button,{type:"button",...n,ref:t,onClick:je(e.onClick,a.onClose)})})});kk.displayName=E5;var A5=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function O5(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),GH(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...O5(n))}}),t}function Mg(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Nk(a,i):a.dispatchEvent(i)}var qE=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function HH(e=()=>{}){const t=Rr(e);Lr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function GH(e){return e.nodeType===e.ELEMENT_NODE}function QH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Rw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var YH=b5,T5=j5,I5=_5,R5=S5,M5=k5,$5=P5,D5=kk;function L5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=L5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function yt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=L5(e))&&(n&&(n+=" "),n+=t);return n}const zE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,WE=yt,Ip=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return WE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=zE(d)||zE(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[m,w]=y;return Array.isArray(w)?w.includes({...i,...l}[m]):{...i,...l}[m]===w})?[...u,f,h]:u},[]);return WE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F5=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...JH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:F5("lucide",a),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const r=v.forwardRef(({className:n,...a},i)=>v.createElement(ZH,{ref:i,iconNode:t,className:F5(`lucide-${XH(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=he("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=he("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=he("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=he("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=he("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=he("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=he("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=he("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=he("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=he("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=he("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=he("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=he("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=he("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=he("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=he("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=he("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=he("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=he("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=he("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=he("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=he("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=he("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=he("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=he("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=he("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=he("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=he("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=he("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=he("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=he("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=he("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=he("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=he("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=he("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=he("MessageSquareQuote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=he("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=he("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=he("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=he("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=he("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=he("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=he("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=he("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=he("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=he("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=he("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=he("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=he("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=he("Spade",[["path",{d:"M5 9c-1.5 1.5-3 3.2-3 5.5A5.5 5.5 0 0 0 7.5 20c1.8 0 3-.5 4.5-2 1.5 1.5 2.7 2 4.5 2a5.5 5.5 0 0 0 5.5-5.5c0-2.3-1.5-4-3-5.5l-7-7-7 7Z",key:"40bo9n"}],["path",{d:"M12 18v4",key:"jadmvz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=he("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=he("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=he("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=he("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=he("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=he("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=he("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=he("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=he("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),LG=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},FG=(e,t)=>({classGroupId:e,validator:t}),J5=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),uv="-",ZE=[],UG="arbitrary..",BG=e=>{const t=qG(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return VG(o);const l=o.split(uv),c=l[0]===""&&l.length>1?1:0;return Z5(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],u=r[o];return c?u?LG(u,c):c:u||ZE}return r[o]||ZE}}},Z5=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const u=Z5(e,t+1,i);if(u)return u}const o=r.validators;if(o===null)return;const l=t===0?e.join(uv):e.slice(t).join(uv),c=o.length;for(let u=0;u<c;u++){const d=o[u];if(d.validator(l))return d.classGroupId}},VG=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?UG+n:void 0})(),qG=e=>{const{theme:t,classGroups:r}=e;return zG(r,t)},zG=(e,t)=>{const r=J5();for(const n in e){const a=e[n];Ik(a,r,n,t)}return r},Ik=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];WG(o,t,r,n)}},WG=(e,t,r,n)=>{if(typeof e=="string"){KG(e,t,r);return}if(typeof e=="function"){HG(e,t,r,n);return}GG(e,t,r,n)},KG=(e,t,r)=>{const n=e===""?t:e3(t,e);n.classGroupId=r},HG=(e,t,r,n)=>{if(QG(e)){Ik(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(FG(r,e))},GG=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];Ik(c,e3(t,l),r,n)}},e3=(e,t)=>{let r=e;const n=t.split(uv),a=n.length;for(let i=0;i<a;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=J5(),r.nextPart.set(o,l)),r=l}return r},QG=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,YG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},sN="!",eA=":",XG=[],tA=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),JG=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,u;const d=a.length;for(let m=0;m<d;m++){const w=a[m];if(o===0&&l===0){if(w===eA){i.push(a.slice(c,m)),c=m+1;continue}if(w==="/"){u=m;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const f=i.length===0?a:a.slice(c);let h=f,p=!1;f.endsWith(sN)?(h=f.slice(0,-1),p=!0):f.startsWith(sN)&&(h=f.slice(1),p=!0);const y=u&&u>c?u-c:void 0;return tA(i,p,h,y)};if(t){const a=t+eA,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):tA(XG,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},ZG=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},eQ=e=>({cache:YG(e.cacheSize),parseClassName:JG(e),sortModifiers:ZG(e),...BG(e)}),tQ=/\s+/,rQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(tQ);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!m,g=n(w?y.substring(0,m):y);if(!g){if(!w){c=d+(c.length>0?" "+c:c);continue}if(g=n(y),!g){c=d+(c.length>0?" "+c:c);continue}w=!1}const x=h.length===0?"":h.length===1?h[0]:i(h).join(":"),b=p?x+sN:x,j=b+g;if(o.indexOf(j)>-1)continue;o.push(j);const _=a(g,w);for(let N=0;N<_.length;++N){const S=_[N];o.push(b+S)}c=d+(c.length>0?" "+c:c)}return c},nQ=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=t3(r))&&(a&&(a+=" "),a+=n);return a},t3=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=t3(e[n]))&&(r&&(r+=" "),r+=t);return r},sQ=(e,...t)=>{let r,n,a,i;const o=c=>{const u=t.reduce((d,f)=>f(d),e());return r=eQ(u),n=r.cache.get,a=r.cache.set,i=l,l(c)},l=c=>{const u=n(c);if(u)return u;const d=rQ(c,r);return a(c,d),d};return i=o,(...c)=>i(nQ(...c))},aQ=[],Zr=e=>{const t=r=>r[e]||aQ;return t.isThemeGetter=!0,t},r3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,n3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,iQ=/^\d+\/\d+$/,oQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,uQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nu=e=>iQ.test(e),wt=e=>!!e&&!Number.isNaN(Number(e)),uo=e=>!!e&&Number.isInteger(Number(e)),Mw=e=>e.endsWith("%")&&wt(e.slice(0,-1)),xi=e=>oQ.test(e),fQ=()=>!0,hQ=e=>lQ.test(e)&&!cQ.test(e),s3=()=>!1,mQ=e=>uQ.test(e),pQ=e=>dQ.test(e),gQ=e=>!Ve(e)&&!qe(e),xQ=e=>xf(e,o3,s3),Ve=e=>r3.test(e),bl=e=>xf(e,l3,hQ),$w=e=>xf(e,jQ,wt),rA=e=>xf(e,a3,s3),vQ=e=>xf(e,i3,pQ),Dg=e=>xf(e,c3,mQ),qe=e=>n3.test(e),rh=e=>vf(e,l3),yQ=e=>vf(e,NQ),nA=e=>vf(e,a3),bQ=e=>vf(e,o3),wQ=e=>vf(e,i3),Lg=e=>vf(e,c3,!0),xf=(e,t,r)=>{const n=r3.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},vf=(e,t,r=!1)=>{const n=n3.exec(e);return n?n[1]?t(n[1]):r:!1},a3=e=>e==="position"||e==="percentage",i3=e=>e==="image"||e==="url",o3=e=>e==="length"||e==="size"||e==="bg-size",l3=e=>e==="length",jQ=e=>e==="number",NQ=e=>e==="family-name",c3=e=>e==="shadow",_Q=()=>{const e=Zr("color"),t=Zr("font"),r=Zr("text"),n=Zr("font-weight"),a=Zr("tracking"),i=Zr("leading"),o=Zr("breakpoint"),l=Zr("container"),c=Zr("spacing"),u=Zr("radius"),d=Zr("shadow"),f=Zr("inset-shadow"),h=Zr("text-shadow"),p=Zr("drop-shadow"),y=Zr("blur"),m=Zr("perspective"),w=Zr("aspect"),g=Zr("ease"),x=Zr("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...j(),qe,Ve],N=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],C=()=>[qe,Ve,c],P=()=>[nu,"full","auto",...C()],k=()=>[uo,"none","subgrid",qe,Ve],E=()=>["auto",{span:["full",uo,qe,Ve]},uo,qe,Ve],T=()=>[uo,"auto",qe,Ve],I=()=>["auto","min","max","fr",qe,Ve],R=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],D=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...C()],z=()=>[nu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],A=()=>[e,qe,Ve],$=()=>[...j(),nA,rA,{position:[qe,Ve]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",bQ,xQ,{size:[qe,Ve]}],F=()=>[Mw,rh,bl],J=()=>["","none","full",u,qe,Ve],q=()=>["",wt,rh,bl],ee=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[wt,Mw,nA,rA],be=()=>["","none",y,qe,Ve],ie=()=>["none",wt,qe,Ve],U=()=>["none",wt,qe,Ve],le=()=>[wt,qe,Ve],G=()=>[nu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xi],breakpoint:[xi],color:[fQ],container:[xi],"drop-shadow":[xi],ease:["in","out","in-out"],font:[gQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xi],shadow:[xi],spacing:["px",wt],text:[xi],"text-shadow":[xi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",nu,Ve,qe,w]}],container:["container"],columns:[{columns:[wt,Ve,qe,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[uo,"auto",qe,Ve]}],basis:[{basis:[nu,"full","auto",l,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[wt,nu,"auto","initial","none",Ve]}],grow:[{grow:["",wt,qe,Ve]}],shrink:[{shrink:["",wt,qe,Ve]}],order:[{order:[uo,"first","last","none",qe,Ve]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...R(),"normal"]}],"justify-items":[{"justify-items":[...D(),"normal"]}],"justify-self":[{"justify-self":["auto",...D()]}],"align-content":[{content:["normal",...R()]}],"align-items":[{items:[...D(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...D(),{baseline:["","last"]}]}],"place-content":[{"place-content":R()}],"place-items":[{"place-items":[...D(),"baseline"]}],"place-self":[{"place-self":["auto",...D()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[l,"screen",...z()]}],"min-w":[{"min-w":[l,"screen","none",...z()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",r,rh,bl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,qe,$w]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mw,Ve]}],"font-family":[{font:[yQ,Ve,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,qe,Ve]}],"line-clamp":[{"line-clamp":[wt,"none",qe,$w]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",qe,Ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,Ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[wt,"from-font","auto",qe,bl]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[wt,"auto",qe,Ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},uo,qe,Ve],radial:["",qe,Ve],conic:[uo,qe,Ve]},wQ,vQ]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[wt,qe,Ve]}],"outline-w":[{outline:["",wt,rh,bl]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",d,Lg,Dg]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",f,Lg,Dg]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[wt,bl]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",h,Lg,Dg]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[wt,qe,Ve]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[wt]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[qe,Ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[wt]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qe,Ve]}],filter:[{filter:["","none",qe,Ve]}],blur:[{blur:be()}],brightness:[{brightness:[wt,qe,Ve]}],contrast:[{contrast:[wt,qe,Ve]}],"drop-shadow":[{"drop-shadow":["","none",p,Lg,Dg]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",wt,qe,Ve]}],"hue-rotate":[{"hue-rotate":[wt,qe,Ve]}],invert:[{invert:["",wt,qe,Ve]}],saturate:[{saturate:[wt,qe,Ve]}],sepia:[{sepia:["",wt,qe,Ve]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,Ve]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[wt,qe,Ve]}],"backdrop-contrast":[{"backdrop-contrast":[wt,qe,Ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",wt,qe,Ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[wt,qe,Ve]}],"backdrop-invert":[{"backdrop-invert":["",wt,qe,Ve]}],"backdrop-opacity":[{"backdrop-opacity":[wt,qe,Ve]}],"backdrop-saturate":[{"backdrop-saturate":[wt,qe,Ve]}],"backdrop-sepia":[{"backdrop-sepia":["",wt,qe,Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,Ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[wt,"initial",qe,Ve]}],ease:[{ease:["linear","initial",g,qe,Ve]}],delay:[{delay:[wt,qe,Ve]}],animate:[{animate:["none",x,qe,Ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,qe,Ve]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:U()}],"scale-x":[{"scale-x":U()}],"scale-y":[{"scale-y":U()}],"scale-z":[{"scale-z":U()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[qe,Ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,Ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,Ve]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[wt,rh,bl,$w]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},SQ=sQ(_Q);function we(...e){return SQ(yt(e))}const kQ=YH,u3=v.forwardRef(({className:e,...t},r)=>s.jsx(T5,{ref:r,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));u3.displayName=T5.displayName;const CQ=Ip("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),d3=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(I5,{ref:n,className:we(CQ({variant:t}),e),...r}));d3.displayName=I5.displayName;const PQ=v.forwardRef(({className:e,...t},r)=>s.jsx($5,{ref:r,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));PQ.displayName=$5.displayName;const f3=v.forwardRef(({className:e,...t},r)=>s.jsx(D5,{ref:r,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(zi,{className:"h-4 w-4"})}));f3.displayName=D5.displayName;const h3=v.forwardRef(({className:e,...t},r)=>s.jsx(R5,{ref:r,className:we("text-sm font-semibold",e),...t}));h3.displayName=R5.displayName;const m3=v.forwardRef(({className:e,...t},r)=>s.jsx(M5,{ref:r,className:we("text-sm opacity-90",e),...t}));m3.displayName=M5.displayName;function EQ(){const{toasts:e}=mt();return s.jsxs(kQ,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(d3,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(h3,{children:r}),n&&s.jsx(m3,{children:n})]}),a,s.jsx(f3,{})]},t)}),s.jsx(u3,{})]})}var AQ=qy[" useId ".trim().toString()]||(()=>{}),OQ=0;function Gr(e){const[t,r]=v.useState(AQ());return Lr(()=>{r(n=>n??String(OQ++))},[e]),t?`radix-${t}`:""}const TQ=["top","right","bottom","left"],el=Math.min,Ss=Math.max,dv=Math.round,Fg=Math.floor,ai=e=>({x:e,y:e}),IQ={left:"right",right:"left",bottom:"top",top:"bottom"},RQ={start:"end",end:"start"};function aN(e,t,r){return Ss(e,el(t,r))}function Wi(e,t){return typeof e=="function"?e(t):e}function Ki(e){return e.split("-")[0]}function yf(e){return e.split("-")[1]}function Rk(e){return e==="x"?"y":"x"}function Mk(e){return e==="y"?"height":"width"}const MQ=new Set(["top","bottom"]);function ei(e){return MQ.has(Ki(e))?"y":"x"}function $k(e){return Rk(ei(e))}function $Q(e,t,r){r===void 0&&(r=!1);const n=yf(e),a=$k(e),i=Mk(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=fv(o)),[o,fv(o)]}function DQ(e){const t=fv(e);return[iN(e),t,iN(t)]}function iN(e){return e.replace(/start|end/g,t=>RQ[t])}const sA=["left","right"],aA=["right","left"],LQ=["top","bottom"],FQ=["bottom","top"];function UQ(e,t,r){switch(e){case"top":case"bottom":return r?t?aA:sA:t?sA:aA;case"left":case"right":return t?LQ:FQ;default:return[]}}function BQ(e,t,r,n){const a=yf(e);let i=UQ(Ki(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(iN)))),i}function fv(e){return e.replace(/left|right|bottom|top/g,t=>IQ[t])}function VQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function p3(e){return typeof e!="number"?VQ(e):{top:e,right:e,bottom:e,left:e}}function hv(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function iA(e,t,r){let{reference:n,floating:a}=e;const i=ei(t),o=$k(t),l=Mk(o),c=Ki(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(yf(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const qQ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=iA(u,n,c),h=n,p={},y=0;for(let m=0;m<l.length;m++){const{name:w,fn:g}=l[m],{x,y:b,data:j,reset:_}=await g({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=b??f,p={...p,[w]:{...p[w],...j}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=iA(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function jm(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Wi(t,e),y=p3(p),w=l[h?f==="floating"?"reference":"floating":f],g=hv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=hv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(g.top-_.top+y.top)/j.y,bottom:(_.bottom-g.bottom+y.bottom)/j.y,left:(g.left-_.left+y.left)/j.x,right:(_.right-g.right+y.right)/j.x}}const zQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Wi(e,t)||{};if(u==null)return{};const f=p3(d),h={x:r,y:n},p=$k(a),y=Mk(p),m=await o.getDimensions(u),w=p==="y",g=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=i.reference[y]+i.reference[p]-h[p]-i.floating[y],_=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[b]||i.floating[y]);const C=j/2-_/2,P=S/2-m[y]/2-1,k=el(f[g],P),E=el(f[x],P),T=k,I=S-m[y]-E,R=S/2-m[y]/2+C,D=aN(T,R,I),O=!c.arrow&&yf(a)!=null&&R!==D&&i.reference[y]/2-(R<T?k:E)-m[y]/2<0,z=O?R<T?R-T:R-I:0;return{[p]:h[p]+z,data:{[p]:D,centerOffset:R-D-z,...O&&{alignmentOffset:z}},reset:O}}}),WQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...w}=Wi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Ki(a),x=ei(l),b=Ki(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!m?[fv(l)]:DQ(l)),N=y!=="none";!h&&N&&_.push(...BQ(l,m,y,j));const S=[l,..._],C=await jm(t,w),P=[];let k=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(C[g]),f){const R=$Q(a,o,j);P.push(C[R[0]],C[R[1]])}if(k=[...k,{placement:a,overflows:P}],!P.every(R=>R<=0)){var E,T;const R=(((E=i.flip)==null?void 0:E.index)||0)+1,D=S[R];if(D&&(!(f==="alignment"?x!==ei(D):!1)||k.every(A=>ei(A.placement)===x?A.overflows[0]>0:!0)))return{data:{index:R,overflows:k},reset:{placement:D}};let O=(T=k.filter(z=>z.overflows[0]<=0).sort((z,A)=>z.overflows[1]-A.overflows[1])[0])==null?void 0:T.placement;if(!O)switch(p){case"bestFit":{var I;const z=(I=k.filter(A=>{if(N){const $=ei(A.placement);return $===x||$==="y"}return!0}).map(A=>[A.placement,A.overflows.filter($=>$>0).reduce(($,Q)=>$+Q,0)]).sort((A,$)=>A[1]-$[1])[0])==null?void 0:I[0];z&&(O=z);break}case"initialPlacement":O=l;break}if(a!==O)return{reset:{placement:O}}}return{}}}};function oA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lA(e){return TQ.some(t=>e[t]>=0)}const KQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Wi(e,t);switch(n){case"referenceHidden":{const i=await jm(t,{...a,elementContext:"reference"}),o=oA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lA(o)}}}case"escaped":{const i=await jm(t,{...a,altBoundary:!0}),o=oA(i,r.floating);return{data:{escapedOffsets:o,escaped:lA(o)}}}default:return{}}}}},g3=new Set(["left","top"]);async function HQ(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Ki(r),l=yf(r),c=ei(r)==="y",u=g3.has(o)?-1:1,d=i&&c?-1:1,f=Wi(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const GQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await HQ(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},QQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:g,y:x}=w;return{x:g,y:x}}},...c}=Wi(e,t),u={x:r,y:n},d=await jm(t,c),f=ei(Ki(a)),h=Rk(f);let p=u[h],y=u[f];if(i){const w=h==="y"?"top":"left",g=h==="y"?"bottom":"right",x=p+d[w],b=p-d[g];p=aN(x,p,b)}if(o){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",x=y+d[w],b=y-d[g];y=aN(x,y,b)}const m=l.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},YQ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Wi(e,t),d={x:r,y:n},f=ei(a),h=Rk(f);let p=d[h],y=d[f];const m=Wi(l,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",j=i.reference[h]-i.floating[b]+w.mainAxis,_=i.reference[h]+i.reference[b]-w.mainAxis;p<j?p=j:p>_&&(p=_)}if(u){var g,x;const b=h==="y"?"width":"height",j=g3.has(Ki(a)),_=i.reference[f]-i.floating[b]+(j&&((g=o.offset)==null?void 0:g[f])||0)+(j?0:w.crossAxis),N=i.reference[f]+i.reference[b]+(j?0:((x=o.offset)==null?void 0:x[f])||0)-(j?w.crossAxis:0);y<_?y=_:y>N&&(y=N)}return{[h]:p,[f]:y}}}},XQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Wi(e,t),d=await jm(t,u),f=Ki(a),h=yf(a),p=ei(a)==="y",{width:y,height:m}=i.floating;let w,g;f==="top"||f==="bottom"?(w=f,g=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,w=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,b=y-d.left-d.right,j=el(m-d[w],x),_=el(y-d[g],b),N=!t.middlewareData.shift;let S=j,C=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=x),N&&!h){const k=Ss(d.left,0),E=Ss(d.right,0),T=Ss(d.top,0),I=Ss(d.bottom,0);p?C=y-2*(k!==0||E!==0?k+E:Ss(d.left,d.right)):S=m-2*(T!==0||I!==0?T+I:Ss(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:S});const P=await o.getDimensions(l.floating);return y!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function pb(){return typeof window<"u"}function bf(e){return x3(e)?(e.nodeName||"").toLowerCase():"#document"}function Is(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fi(e){var t;return(t=(x3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function x3(e){return pb()?e instanceof Node||e instanceof Is(e).Node:!1}function Fa(e){return pb()?e instanceof Element||e instanceof Is(e).Element:!1}function ui(e){return pb()?e instanceof HTMLElement||e instanceof Is(e).HTMLElement:!1}function cA(e){return!pb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Is(e).ShadowRoot}const JQ=new Set(["inline","contents"]);function Dp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ua(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!JQ.has(a)}const ZQ=new Set(["table","td","th"]);function eY(e){return ZQ.has(bf(e))}const tY=[":popover-open",":modal"];function gb(e){return tY.some(t=>{try{return e.matches(t)}catch{return!1}})}const rY=["transform","translate","scale","rotate","perspective"],nY=["transform","translate","scale","rotate","perspective","filter"],sY=["paint","layout","strict","content"];function Dk(e){const t=Lk(),r=Fa(e)?Ua(e):e;return rY.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||nY.some(n=>(r.willChange||"").includes(n))||sY.some(n=>(r.contain||"").includes(n))}function aY(e){let t=tl(e);for(;ui(t)&&!Cd(t);){if(Dk(t))return t;if(gb(t))return null;t=tl(t)}return null}function Lk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iY=new Set(["html","body","#document"]);function Cd(e){return iY.has(bf(e))}function Ua(e){return Is(e).getComputedStyle(e)}function xb(e){return Fa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tl(e){if(bf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cA(e)&&e.host||fi(e);return cA(t)?t.host:t}function v3(e){const t=tl(e);return Cd(t)?e.ownerDocument?e.ownerDocument.body:e.body:ui(t)&&Dp(t)?t:v3(t)}function Nm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=v3(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Is(a);if(i){const l=oN(o);return t.concat(o,o.visualViewport||[],Dp(a)?a:[],l&&r?Nm(l):[])}return t.concat(a,Nm(a,[],r))}function oN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function y3(e){const t=Ua(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ui(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=dv(r)!==i||dv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Fk(e){return Fa(e)?e:e.contextElement}function Zu(e){const t=Fk(e);if(!ui(t))return ai(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=y3(t);let o=(i?dv(r.width):r.width)/n,l=(i?dv(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const oY=ai(0);function b3(e){const t=Is(e);return!Lk()||!t.visualViewport?oY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Is(e)?!1:t}function xc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Fk(e);let o=ai(1);t&&(n?Fa(n)&&(o=Zu(n)):o=Zu(e));const l=lY(i,r,n)?b3(i):ai(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=Is(i),p=n&&Fa(n)?Is(n):n;let y=h,m=oN(y);for(;m&&n&&p!==y;){const w=Zu(m),g=m.getBoundingClientRect(),x=Ua(m),b=g.left+(m.clientLeft+parseFloat(x.paddingLeft))*w.x,j=g.top+(m.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=j,y=Is(m),m=oN(y)}}return hv({width:d,height:f,x:c,y:u})}function vb(e,t){const r=xb(e).scrollLeft;return t?t.left+r:xc(fi(e)).left+r}function w3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-vb(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function cY(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=fi(n),l=t?gb(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ai(1);const d=ai(0),f=ui(n);if((f||!f&&!i)&&((bf(n)!=="body"||Dp(o))&&(c=xb(n)),ui(n))){const p=xc(n);u=Zu(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?w3(o,c):ai(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function uY(e){return Array.from(e.getClientRects())}function dY(e){const t=fi(e),r=xb(e),n=e.ownerDocument.body,a=Ss(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ss(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+vb(e);const l=-r.scrollTop;return Ua(n).direction==="rtl"&&(o+=Ss(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const uA=25;function fY(e,t){const r=Is(e),n=fi(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Lk();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=vb(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(n.clientWidth-f.clientWidth-p);y<=uA&&(i-=y)}else u<=uA&&(i+=u);return{width:i,height:o,x:l,y:c}}const hY=new Set(["absolute","fixed"]);function mY(e,t){const r=xc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ui(e)?Zu(e):ai(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function dA(e,t,r){let n;if(t==="viewport")n=fY(e,r);else if(t==="document")n=dY(fi(e));else if(Fa(t))n=mY(t,r);else{const a=b3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return hv(n)}function j3(e,t){const r=tl(e);return r===t||!Fa(r)||Cd(r)?!1:Ua(r).position==="fixed"||j3(r,t)}function pY(e,t){const r=t.get(e);if(r)return r;let n=Nm(e,[],!1).filter(l=>Fa(l)&&bf(l)!=="body"),a=null;const i=Ua(e).position==="fixed";let o=i?tl(e):e;for(;Fa(o)&&!Cd(o);){const l=Ua(o),c=Dk(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&hY.has(a.position)||Dp(o)&&!c&&j3(e,o))?n=n.filter(d=>d!==o):a=l,o=tl(o)}return t.set(e,n),n}function gY(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?gb(t)?[]:pY(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=dA(t,d,a);return u.top=Ss(f.top,u.top),u.right=el(f.right,u.right),u.bottom=el(f.bottom,u.bottom),u.left=Ss(f.left,u.left),u},dA(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xY(e){const{width:t,height:r}=y3(e);return{width:t,height:r}}function vY(e,t,r){const n=ui(t),a=fi(t),i=r==="fixed",o=xc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ai(0);function u(){c.x=vb(a)}if(n||!n&&!i)if((bf(t)!=="body"||Dp(a))&&(l=xb(t)),n){const p=xc(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?w3(a,l):ai(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Dw(e){return Ua(e).position==="static"}function fA(e,t){if(!ui(e)||Ua(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fi(e)===r&&(r=r.ownerDocument.body),r}function N3(e,t){const r=Is(e);if(gb(e))return r;if(!ui(e)){let a=tl(e);for(;a&&!Cd(a);){if(Fa(a)&&!Dw(a))return a;a=tl(a)}return r}let n=fA(e,t);for(;n&&eY(n)&&Dw(n);)n=fA(n,t);return n&&Cd(n)&&Dw(n)&&!Dk(n)?r:n||aY(e)||r}const yY=async function(e){const t=this.getOffsetParent||N3,r=this.getDimensions,n=await r(e.floating);return{reference:vY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function bY(e){return Ua(e).direction==="rtl"}const wY={convertOffsetParentRelativeRectToViewportRelativeRect:cY,getDocumentElement:fi,getClippingRect:gY,getOffsetParent:N3,getElementRects:yY,getClientRects:uY,getDimensions:xY,getScale:Zu,isElement:Fa,isRTL:bY};function _3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jY(e,t){let r=null,n;const a=fi(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=Fg(f),m=Fg(a.clientWidth-(d+h)),w=Fg(a.clientHeight-(f+p)),g=Fg(d),b={rootMargin:-y+"px "+-m+"px "+-w+"px "+-g+"px",threshold:Ss(0,el(1,c))||1};let j=!0;function _(N){const S=N[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!_3(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,b)}r.observe(e)}return o(!0),i}function NY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Fk(e),d=a||i?[...u?Nm(u):[],...Nm(t)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=u&&l?jY(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?xc(e):null;c&&w();function w(){const g=xc(e);m&&!_3(m,g)&&r(),m=g,y=requestAnimationFrame(w)}return r(),()=>{var g;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const _Y=GQ,SY=QQ,kY=WQ,CY=XQ,PY=KQ,hA=zQ,EY=YQ,AY=(e,t,r)=>{const n=new Map,a={platform:wY,...r},i={...a.platform,_c:n};return qQ(e,t,{...a,platform:i})};var OY=typeof document<"u",TY=function(){},Ex=OY?v.useLayoutEffect:TY;function mv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!mv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!mv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function S3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mA(e,t){const r=S3(e);return Math.round(t*r)/r}function Lw(e){const t=v.useRef(e);return Ex(()=>{t.current=e}),t}function IY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=v.useState(n);mv(h,n)||p(n);const[y,m]=v.useState(null),[w,g]=v.useState(null),x=v.useCallback(A=>{A!==N.current&&(N.current=A,m(A))},[]),b=v.useCallback(A=>{A!==S.current&&(S.current=A,g(A))},[]),j=i||y,_=o||w,N=v.useRef(null),S=v.useRef(null),C=v.useRef(d),P=c!=null,k=Lw(c),E=Lw(a),T=Lw(u),I=v.useCallback(()=>{if(!N.current||!S.current)return;const A={placement:t,strategy:r,middleware:h};E.current&&(A.platform=E.current),AY(N.current,S.current,A).then($=>{const Q={...$,isPositioned:T.current!==!1};R.current&&!mv(C.current,Q)&&(C.current=Q,Rc.flushSync(()=>{f(Q)}))})},[h,t,r,E,T]);Ex(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const R=v.useRef(!1);Ex(()=>(R.current=!0,()=>{R.current=!1}),[]),Ex(()=>{if(j&&(N.current=j),_&&(S.current=_),j&&_){if(k.current)return k.current(j,_,I);I()}},[j,_,I,k,P]);const D=v.useMemo(()=>({reference:N,floating:S,setReference:x,setFloating:b}),[x,b]),O=v.useMemo(()=>({reference:j,floating:_}),[j,_]),z=v.useMemo(()=>{const A={position:r,left:0,top:0};if(!O.floating)return A;const $=mA(O.floating,d.x),Q=mA(O.floating,d.y);return l?{...A,transform:"translate("+$+"px, "+Q+"px)",...S3(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:Q}},[r,l,O.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:I,refs:D,elements:O,floatingStyles:z}),[d,I,D,O,z])}const RY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?hA({element:n.current,padding:a}).fn(r):{}:n?hA({element:n,padding:a}).fn(r):{}}}},MY=(e,t)=>({..._Y(e),options:[e,t]}),$Y=(e,t)=>({...SY(e),options:[e,t]}),DY=(e,t)=>({...EY(e),options:[e,t]}),LY=(e,t)=>({...kY(e),options:[e,t]}),FY=(e,t)=>({...CY(e),options:[e,t]}),UY=(e,t)=>({...PY(e),options:[e,t]}),BY=(e,t)=>({...RY(e),options:[e,t]});var VY="Arrow",k3=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Me.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});k3.displayName=VY;var qY=k3;function Uk(e){const[t,r]=v.useState(void 0);return Lr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Bk="Popper",[C3,ul]=An(Bk),[zY,P3]=C3(Bk),E3=e=>{const{__scopePopper:t,children:r}=e,[n,a]=v.useState(null);return s.jsx(zY,{scope:t,anchor:n,onAnchorChange:a,children:r})};E3.displayName=Bk;var A3="PopperAnchor",O3=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=P3(A3,r),o=v.useRef(null),l=ft(t,o),c=v.useRef(null);return v.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Me.div,{...a,ref:l})});O3.displayName=A3;var Vk="PopperContent",[WY,KY]=C3(Vk),T3=v.forwardRef((e,t)=>{var te,be,ie,U,le,G;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,w=P3(Vk,r),[g,x]=v.useState(null),b=ft(t,B=>x(B)),[j,_]=v.useState(null),N=Uk(j),S=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,P=n+(i!=="center"?"-"+i:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],T=E.length>0,I={padding:k,boundary:E.filter(GY),altBoundary:T},{refs:R,floatingStyles:D,placement:O,isPositioned:z,middlewareData:A}=IY({strategy:"fixed",placement:P,whileElementsMounted:(...B)=>NY(...B,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[MY({mainAxis:a+C,alignmentAxis:o}),c&&$Y({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?DY():void 0,...I}),c&&LY({...I}),FY({...I,apply:({elements:B,rects:ge,availableWidth:Xe,availableHeight:at})=>{const{width:pt,height:Ft}=ge.reference,Be=B.floating.style;Be.setProperty("--radix-popper-available-width",`${Xe}px`),Be.setProperty("--radix-popper-available-height",`${at}px`),Be.setProperty("--radix-popper-anchor-width",`${pt}px`),Be.setProperty("--radix-popper-anchor-height",`${Ft}px`)}}),j&&BY({element:j,padding:l}),QY({arrowWidth:S,arrowHeight:C}),h&&UY({strategy:"referenceHidden",...I})]}),[$,Q]=M3(O),X=Rr(y);Lr(()=>{z&&(X==null||X())},[z,X]);const F=(te=A.arrow)==null?void 0:te.x,J=(be=A.arrow)==null?void 0:be.y,q=((ie=A.arrow)==null?void 0:ie.centerOffset)!==0,[ee,pe]=v.useState();return Lr(()=>{g&&pe(window.getComputedStyle(g).zIndex)},[g]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:z?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(U=A.transformOrigin)==null?void 0:U.x,(le=A.transformOrigin)==null?void 0:le.y].join(" "),...((G=A.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(WY,{scope:r,placedSide:$,onArrowChange:_,arrowX:F,arrowY:J,shouldHideArrow:q,children:s.jsx(Me.div,{"data-side":$,"data-align":Q,...m,ref:b,style:{...m.style,animation:z?void 0:"none"}})})})});T3.displayName=Vk;var I3="PopperArrow",HY={top:"bottom",right:"left",bottom:"top",left:"right"},R3=v.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=KY(I3,n),o=HY[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(qY,{...a,ref:r,style:{...a.style,display:"block"}})})});R3.displayName=I3;function GY(e){return e!==null}var QY=e=>({name:"transformOrigin",options:e,fn(t){var w,g,x;const{placement:r,rects:n,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=M3(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?f:`${h}px`,m=`${-c}px`):u==="top"?(y=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:y,y:m}}}});function M3(e){const[t,r="center"]=e.split("-");return[t,r]}var yb=E3,Lp=O3,bb=T3,wb=R3,YY=Symbol("radix.slottable");function XY(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=YY,t}var[jb]=An("Tooltip",[ul]),Nb=ul(),$3="TooltipProvider",JY=700,lN="tooltip.open",[ZY,qk]=jb($3),D3=e=>{const{__scopeTooltip:t,delayDuration:r=JY,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(ZY,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};D3.displayName=$3;var _m="Tooltip",[eX,_b]=jb(_m),L3=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=qk(_m,e.__scopeTooltip),u=Nb(t),[d,f]=v.useState(null),h=Gr(),p=v.useRef(0),y=o??c.disableHoverableContent,m=l??c.delayDuration,w=v.useRef(!1),[g,x]=ms({prop:n,defaultProp:a??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(lN))):c.onClose(),i==null||i(S)},caller:_m}),b=v.useMemo(()=>g?w.current?"delayed-open":"instant-open":"closed",[g]),j=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,x(!0)},[x]),_=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),N=v.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,x(!0),p.current=0},m)},[m,x]);return v.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(yb,{...u,children:s.jsx(eX,{scope:t,contentId:h,open:g,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayedRef.current?N():j()},[c.isOpenDelayedRef,N,j]),onTriggerLeave:v.useCallback(()=>{y?_():(window.clearTimeout(p.current),p.current=0)},[_,y]),onOpen:j,onClose:_,disableHoverableContent:y,children:r})})};L3.displayName=_m;var cN="TooltipTrigger",F3=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=_b(cN,r),i=qk(cN,r),o=Nb(r),l=v.useRef(null),c=ft(t,l,a.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Lp,{asChild:!0,...o,children:s.jsx(Me.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:je(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:je(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:je(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:je(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:je(e.onBlur,a.onClose),onClick:je(e.onClick,a.onClose)})})});F3.displayName=cN;var tX="TooltipPortal",[$$e,rX]=jb(tX,{forceMount:void 0}),Pd="TooltipContent",U3=v.forwardRef((e,t)=>{const r=rX(Pd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=_b(Pd,e.__scopeTooltip);return s.jsx(dn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(B3,{side:a,...i,ref:t}):s.jsx(nX,{side:a,...i,ref:t})})}),nX=v.forwardRef((e,t)=>{const r=_b(Pd,e.__scopeTooltip),n=qk(Pd,e.__scopeTooltip),a=v.useRef(null),i=ft(t,a),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=v.useCallback(()=>{l(null),f(!1)},[f]),p=v.useCallback((y,m)=>{const w=y.currentTarget,g={x:y.clientX,y:y.clientY},x=lX(g,w.getBoundingClientRect()),b=cX(g,x),j=uX(m.getBoundingClientRect()),_=fX([...b,...j]);l(_),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&d){const y=w=>p(w,d),m=w=>p(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),v.useEffect(()=>{if(o){const y=m=>{const w=m.target,g={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!dX(g,o);x?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),s.jsx(B3,{...e,ref:i})}),[sX,aX]=jb(_m,{isInside:!1}),iX=XY("TooltipContent"),B3=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=_b(Pd,r),u=Nb(r),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(lN,d),()=>document.removeEventListener(lN,d)),[d]),v.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(bb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(iX,{children:n}),s.jsx(sX,{scope:r,isInside:!0,children:s.jsx(TH,{id:c.contentId,role:"tooltip",children:a||n})})]})})});U3.displayName=Pd;var V3="TooltipArrow",oX=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Nb(r);return aX(V3,r).isInside?null:s.jsx(wb,{...a,...n,ref:t})});oX.displayName=V3;function lX(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function cX(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function uX(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function dX(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function fX(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),hX(t)}function hX(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var mX=D3,pX=L3,gX=F3,q3=U3;const xX=mX,vX=pX,yX=gX,z3=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(q3,{ref:n,sideOffset:t,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));z3.displayName=q3.displayName;const bX=3e4,pA=["mousemove","keydown","click","scroll","touchstart"],wX=5e3;function jX(e=!1){const[,t]=Ln(),{toast:r}=mt(),[n,a]=v.useState(null),i=v.useRef(Date.now()),o=v.useRef(null),l=v.useRef(!1),c=v.useRef(!1),u=v.useCallback(h=>{o.current&&(clearInterval(o.current),o.current=null),c.current=!1,r({variant:"destructive",title:"Session Expired",description:h||"Please log in again to continue."}),setTimeout(()=>{t("/login")},1500)},[r,t]),d=v.useCallback(async()=>{try{const p=await(await ve("POST","/api/session/heartbeat")).json();p.success&&(a({sessionRemainingMs:p.sessionRemainingMs,inactivityTimeoutMs:p.inactivityTimeoutMs,reauthTimeoutMs:p.reauthTimeoutMs,isActive:!0}),l.current=!1)}catch(h){(h==null?void 0:h.code)==="SESSION_REAUTH_REQUIRED"||(h==null?void 0:h.code)==="SESSION_INACTIVITY_TIMEOUT"?u(h.reason||h.message):((h==null?void 0:h.status)===401||(h==null?void 0:h.status)===403)&&u("Your session has expired. Please log in again.")}},[u]),f=v.useCallback(()=>{const h=Date.now();h-i.current>wX&&(i.current=h,d())},[d]);return v.useEffect(()=>{if(!(!e||c.current))return c.current=!0,d(),o.current=setInterval(d,bX),pA.forEach(h=>{window.addEventListener(h,f,{passive:!0})}),()=>{o.current&&(clearInterval(o.current),o.current=null),pA.forEach(h=>{window.removeEventListener(h,f)}),c.current=!1}},[e,d,f]),v.useEffect(()=>{if(n&&n.sessionRemainingMs<6e4&&!l.current){l.current=!0;const h=Math.ceil(n.sessionRemainingMs/6e4);r({variant:"default",title:"Session Expiring Soon",description:`Your session will expire in ${h} minute(s). You will need to log in again.`})}},[n,r]),{sessionState:n,sendHeartbeat:d}}function NX({children:e}){const{data:t,isLoading:r}=de({queryKey:["/api/auth/user"],retry:!1,staleTime:3e4});return jX(!r&&!!t),s.jsx(s.Fragment,{children:e})}var Za=function(){return Za=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Za.apply(this,arguments)};function wf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function _X(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function SX(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const kX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class zk extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class CX extends zk{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gA extends zk{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xA extends zk{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uN||(uN={}));class PX{constructor(t,{headers:r={},customFetch:n,region:a=uN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=kX(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _X(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let w=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(w=o.signal,d.addEventListener("abort",()=>o.abort())):w=o.signal);const g=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:w}).catch(_=>{throw new CX(_)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new gA(g);if(!g.ok)throw new xA(g);let b=((a=g.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield g.json():b==="application/octet-stream"||b==="application/pdf"?j=yield g.blob():b==="text/event-stream"?j=g:b==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof xA||l instanceof gA?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var EX=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},AX=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&w&&w.length>1&&(c=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new EX(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},OX=class extends AX{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const vA=new RegExp("[,()]");var yu=class extends OX{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&vA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&vA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},TX=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new yu({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new yu({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new yu({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new yu({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new yu({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},IX=class W3{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new TX(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new W3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new yu({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class RX{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const MX="2.89.0",$X=`realtime-js/${MX}`,K3="1.0.0",DX="2.0.0",yA=K3,dN=1e4,LX=1e3,FX=100;var xo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xo||(xo={}));var rn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rn||(rn={}));var Ca;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ca||(Ca={}));var fN;(function(e){e.websocket="websocket"})(fN||(fN={}));var Ml;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ml||(Ml={}));class UX{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,c.length),y.setUint8(m++,l.length),y.setUint8(m++,o.length),y.setUint8(m++,u.length),y.setUint8(m++,f.length),y.setUint8(m++,r),Array.from(c,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(l,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(o,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(f,g=>y.setUint8(m++,g.charCodeAt(0)));var w=new Uint8Array(p.byteLength+n.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(n),p.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class H3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lr||(lr={}));const bA=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=BX(o,e,t,a),i),{}):{}},BX=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?G3(i,o):hN(o)},G3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return WX(t,r)}switch(e){case lr.bool:return VX(t);case lr.float4:case lr.float8:case lr.int2:case lr.int4:case lr.int8:case lr.numeric:case lr.oid:return qX(t);case lr.json:case lr.jsonb:return zX(t);case lr.timestamp:return KX(t);case lr.abstime:case lr.date:case lr.daterange:case lr.int4range:case lr.int8range:case lr.money:case lr.reltime:case lr.text:case lr.time:case lr.timestamptz:case lr.timetz:case lr.tsrange:case lr.tstzrange:return hN(t);default:return hN(t)}},hN=e=>e,VX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qX=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},WX=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>G3(t,l))}return e},KX=e=>typeof e=="string"?e.replace(" ","T"):e,Q3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Fw{constructor(t,r,n={},a=dN){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wA||(wA={}));class Vh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vh.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Vh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Vh.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),y=d.filter(w=>p.indexOf(w.presence_ref)<0),m=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(l[u]=y),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jA||(jA={}));var qh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qh||(qh={}));var ji;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ji||(ji={}));class Lu{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fw(this,Ca.join,this.params,this.timeout),this.rejoinTimer=new H3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ca.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Vh(this),this.broadcastEndpointURL=Q3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[qh.PRESENCE]&&this.bindings[qh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(ji.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ji.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(ji.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,g=[];for(let x=0;x<w;x++){const b=m[x],{filter:{event:j,schema:_,table:N,filter:S}}=b,C=p&&p[x];if(C&&C.event===j&&Lu.isFilterValueEqual(C.schema,_)&&Lu.isFilterValueEqual(C.table,N)&&Lu.isFilterValueEqual(C.filter,S))g.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=rn.errored,t==null||t(ji.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ji.SUBSCRIBED);return}}).receive("error",p=>{this.state=rn.errored,t==null||t(ji.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ji.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rn.joined&&t===qh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ca.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Fw(this,Ca.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Fw(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>FX){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ca;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,m,w;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(m=p.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,m,w,g,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(y=p.filter)===null||y===void 0?void 0:y.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(x=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:w,commit_timestamp:g,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:g,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Lu.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ca.close,{},t)}_onError(t){this._on(Ca.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=bA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=bA(t.columns,t.old_record)),r}}const Uw=()=>{},Ug={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},HX=[1e3,2e3,5e3,1e4],GX=1e4,QX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YX{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dN,this.transport=null,this.heartbeatIntervalMs=Ug.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uw,this.ref=0,this.reconnectTimer=null,this.vsn=yA,this.logger=Uw,this.conn=null,this.sendBuffer=[],this.serializer=new UX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${fN.websocket}`,this.httpEndpoint=Q3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RX.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xo.connecting:return Ml.Connecting;case xo.open:return Ml.Open;case xo.closing:return Ml.Closing;default:return Ml.Closed}}isConnected(){return this.connectionState()===Ml.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Lu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(LX,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ug.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===xo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xo.open||this.conn.readyState===xo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ca.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([QX],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:$X};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Ca.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new H3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ug.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:dN,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Ug.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Uw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:yA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>HX[y-1]||GX,this.vsn){case K3:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,m)=>m(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,m)=>m(JSON.parse(y));break;case DX:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Sm=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function XX(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function JX(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function ZX(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=XX(e.baseUrl,n,a),c=await JX(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,y=p==null?void 0:p.error;throw new Sm((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Bg(e){return e.join("")}var eJ=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Bg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bg(e.namespace)}`}),!0}catch(t){if(t instanceof Sm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Sm&&r.status===409)return;throw r}}};function su(e){return e.join("")}var tJ=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Sm&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Sm&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},rJ=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=ZX({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new eJ(this.client,t),this.tableOps=new tJ(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Sb=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function _r(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var nJ=class extends Sb{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},mN=class extends Sb{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Wk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sJ=()=>Response,pN=e=>{if(Array.isArray(e))return e.map(r=>pN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=pN(n)}),t},aJ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},iJ=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function oJ(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lJ(e){var t=oJ(e,"string");return km(t)=="symbol"?t:t+""}function cJ(e,t,r){return(t=lJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){cJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Bw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},uJ=async(e,t,r)=>{e instanceof await sJ()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new nJ(Bw(n),a,i))}).catch(n=>{t(new mN(Bw(n),n))}):t(new mN(Bw(e),e))},dJ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(aJ(n)?(a.headers=lt({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),lt(lt({},a),r))};async function Fp(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,dJ(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>uJ(c,l,n))})}async function Cm(e,t,r,n){return Fp(e,"GET",t,r,n)}async function Na(e,t,r,n,a){return Fp(e,"POST",t,n,a,r)}async function gN(e,t,r,n,a){return Fp(e,"PUT",t,n,a,r)}async function fJ(e,t,r,n){return Fp(e,"HEAD",t,lt(lt({},r),{},{noResolveJson:!0}),n)}async function Kk(e,t,r,n,a){return Fp(e,"DELETE",t,n,a,r)}var hJ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}}};let Y3;Y3=Symbol.toStringTag;var mJ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Y3]="BlobDownloadBuilder",this.promise=null}asStream(){return new hJ(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}}};const pJ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_A={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var gJ=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Wk(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const o=lt(lt({},_A),n);let l=lt(lt({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=lt(lt({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?gN:Na)(a.fetch,`${a.url}/object/${d}`,i,lt({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=lt({upsert:_A.upsert},n),d=lt(lt({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await gN(a.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(_r(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=lt({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Na(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Sb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Na(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await Na(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await Na(n.fetch,`${n.url}/object/sign/${a}`,lt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await Na(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>lt(lt({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Cm(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new mJ(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:pN(await Cm(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await fJ(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n)&&n instanceof mN){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await Kk(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=lt(lt(lt({},pJ),t),{},{prefix:e||""});return{data:await Na(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=lt({},e);return{data:await Na(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const X3="2.89.0",J3={"X-Client-Info":`storage-js/${X3}`};var xJ=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=lt(lt({},J3),t),this.fetch=Wk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Cm(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Cm(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Na(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await gN(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Na(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},vJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lt(lt({},J3),t),this.fetch=Wk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Na(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Cm(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!iJ(e))throw new Sb("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new rJ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Hk={"X-Client-Info":`storage-js/${X3}`,"Content-Type":"application/json"};var Z3=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ks(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Vw=class extends Z3{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yJ=class extends Z3{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Gk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bJ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},SA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wJ=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Vw(SA(i),n,o))}).catch(()=>{const i=n+"";t(new Vw(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Vw(a.statusText||`HTTP ${n} error`,n,i))}}else t(new yJ(SA(e),e))},jJ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(bJ(n)?(a.headers=lt({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,lt(lt({},a),r)):a};async function NJ(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,jJ(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>wJ(c,l,n))})}async function Cs(e,t,r,n,a){return NJ(e,"POST",t,n,a,r)}var _J=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lt(lt({},Hk),t),this.fetch=Gk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Cs(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Cs(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}}},SJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lt(lt({},Hk),t),this.fetch=Gk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Cs(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Cs(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Cs(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}},kJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lt(lt({},Hk),t),this.fetch=Gk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Cs(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}},CJ=class extends kJ{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new PJ(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},PJ=class extends _J{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new EJ(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},EJ=class extends SJ{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},AJ=class extends xJ{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new gJ(this.url,this.headers,e,this.fetch)}get vectors(){return new CJ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vJ(this.url+"/iceberg",this.headers,this.fetch)}};const eL="2.89.0",bu=30*1e3,xN=3,qw=xN*bu,OJ="http://localhost:9999",TJ="supabase.auth.token",IJ={"X-Client-Info":`gotrue-js/${eL}`},vN="X-Supabase-Api-Version",tL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},RJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MJ=10*60*1e3;class Pm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $J extends Pm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function DJ(e){return Qe(e)&&e.name==="AuthApiError"}class $l extends Pm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Zi extends Pm{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class bs extends Zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LJ(e){return Qe(e)&&e.name==="AuthSessionMissingError"}class au extends Zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vg extends Zi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qg extends Zi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FJ(e){return Qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class kA extends Zi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class UJ extends Zi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yN extends Zi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function zw(e){return Qe(e)&&e.name==="AuthRetryableFetchError"}class CA extends Zi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bN extends Zi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const pv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),PA=` 	
\r=`.split(""),BJ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<PA.length;t+=1)e[PA[t].charCodeAt(0)]=-2;for(let t=0;t<pv.length;t+=1)e[pv[t].charCodeAt(0)]=t;return e})();function EA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(pv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(pv[n]),t.queuedBits-=6}}function rL(e,t,r){const n=BJ[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function AA(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{zJ(o,n,r)};for(let o=0;o<e.length;o+=1)rL(e.charCodeAt(o),a,i);return t.join("")}function VJ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qJ(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}VJ(n,t)}}function zJ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ed(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)rL(e.charCodeAt(a),r,n);return new Uint8Array(t)}function WJ(e){const t=[];return qJ(e,r=>t.push(r)),new Uint8Array(t)}function Vl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>EA(a,r,n)),EA(null,r,n),t.join("")}function KJ(e){return Math.round(Date.now()/1e3)+e}function HJ(){return Symbol("auth-callback")}const Nn=()=>typeof window<"u"&&typeof document<"u",wl={tested:!1,writable:!1},nL=()=>{if(!Nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wl.tested)return wl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wl.tested=!0,wl.writable=!0}catch{wl.tested=!0,wl.writable=!1}return wl.writable};function GJ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const sL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),QJ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},jl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jn=async(e,t)=>{await e.removeItem(t)};class kb{constructor(){this.promise=new kb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}kb.promiseConstructor=Promise;function Ww(e){const t=e.split(".");if(t.length!==3)throw new bN("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!RJ.test(t[n]))throw new bN("JWT not in base64url format");return{header:JSON.parse(AA(t[0])),payload:JSON.parse(AA(t[1])),signature:ed(t[2]),raw:{header:t[0],payload:t[1]}}}async function YJ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XJ(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function JJ(e){return("0"+e.toString(16)).substr(-2)}function ZJ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,JJ).join("")}async function eZ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function tZ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await eZ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function iu(e,t,r=!1){const n=ZJ();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await wu(e,`${t}-code-verifier`,a);const i=await tZ(n);return[i,n===i?"plain":"s256"]}const rZ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nZ(e){const t=e.headers.get(vN);if(!t||!t.match(rZ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sZ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function aZ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iZ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ou(e){if(!iZ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oZ(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function OA(e){return JSON.parse(JSON.stringify(e))}const Al=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lZ=[502,503,504];async function TA(e){var t;if(!QJ(e))throw new yN(Al(e),0);if(lZ.includes(e.status))throw new yN(Al(e),e.status);let r;try{r=await e.json()}catch(i){throw new $l(Al(i),i)}let n;const a=nZ(e);if(a&&a.getTime()>=tL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new CA(Al(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new bs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new CA(Al(r),e.status,r.weak_password.reasons);throw new $J(Al(r),e.status||500,n)}const cZ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ot(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[vN]||(i[vN]=tL["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await uZ(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function uZ(e,t,r,n,a,i){const o=cZ(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new yN(Al(c),0)}if(l.ok||await TA(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await TA(c)}}function ba(e){var t;let r=null;hZ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=KJ(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function IA(e){const t=ba(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function No(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dZ(e){return{data:e,error:null}}function fZ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=wf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function RA(e){return e}function hZ(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hw=["global","local","others"];class mZ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=sL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Hw[0]){if(Hw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hw.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:No})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=wf(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:fZ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:No})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:RA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Qe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ou(t);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:No})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ou(t);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:No})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ou(t);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:No})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ou(t.userId);try{const{data:r,error:n}=await ot(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ou(t.userId),ou(t.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:RA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Qe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ot(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}}function MA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const lu={debug:!!(globalThis&&nL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pZ extends aL{}async function gZ(e,t,r){lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),lu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pZ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(lu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function xZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iL(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vZ(e){return parseInt(e,16)}function yZ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function bZ(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=iL(e.address),y=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${p}

${m}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(g+=`
Expiration Time: ${a.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}g+=x}return`${w}
${g}`}class Wr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class gv extends Wr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function wZ({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Wr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Wr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Wr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Wr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Wr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Wr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(oL(o)){if(i.rp.id!==o)return new Wr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Wr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Wr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function jZ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(oL(n)){if(r.rpId!==n)return new Wr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Wr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class NZ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const _Z=new NZ;function SZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=wf(e,["challenge","user","excludeCredentials"]),i=ed(t).buffer,o=Object.assign(Object.assign({},r),{id:ed(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ed(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function kZ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=wf(e,["challenge","allowCredentials"]),a=ed(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ed(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function CZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function PZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vl(new Uint8Array(a.authenticatorData)),clientDataJSON:Vl(new Uint8Array(a.clientDataJSON)),signature:Vl(new Uint8Array(a.signature)),userHandle:a.userHandle?Vl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function oL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function $A(){var e,t;return!!(Nn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function EZ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gv("Browser returned unexpected credential type",t)}:{data:null,error:new gv("Empty credential response",t)}}catch(t){return{data:null,error:wZ({error:t,options:e})}}}async function AZ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gv("Browser returned unexpected credential type",t)}:{data:null,error:new gv("Empty credential response",t)}}catch(t){return{data:null,error:jZ({error:t,options:e})}}}const OZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TZ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xv(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=xv(l,o):n[i]=xv(o)}else n[i]=o}return n}function IZ(e,t){return xv(OZ,e,t||{})}function RZ(e,t){return xv(TZ,e,t||{})}class MZ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??_Z.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=IZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await EZ({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=RZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await AZ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Qe(o)?{data:null,error:o}:{data:null,error:new $l("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Pm("rpId is required for WebAuthn authentication")};try{if(!$A())return{data:null,error:new $l("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Qe(o)?{data:null,error:o}:{data:null,error:new $l("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Pm("rpId is required for WebAuthn registration")};try{if(!$A())return{data:null,error:new $l("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Qe(o)?{data:null,error:o}:{data:null,error:new $l("Unexpected error in register",o)}}}}xZ();const $Z={url:OJ,storageKey:TJ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IJ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function DA(e,t,r){return await r()}const cu={};class Em{get jwks(){var t,r;return(r=(t=cu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){cu[this.storageKey]=Object.assign(Object.assign({},cu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=cu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){cu[this.storageKey]=Object.assign(Object.assign({},cu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},$Z),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Em.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Em.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Nn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new mZ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=sL(i.fetch),this.lock=i.lock||DA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Nn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=gZ:this.lock=DA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:nL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=MA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=MA(this.memoryStorage)),Nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${eL}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Nn()&&(r=GJ(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Nn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),FJ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Qe(r)?this._returnResult({error:r}):this._returnResult({error:new $l("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ba}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await iu(this.storage,this.storageKey)),i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:ba})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ba})}else throw new Vg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await jn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:IA})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:IA})}else throw new Vg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new au;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:m,wallet:w,statement:g,options:x}=t;let b;if(Nn())if(typeof w=="object")b=w;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=w}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),_=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=iL(_[0]);let S=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const P=await b.request({method:"eth_chainId"});S=vZ(P)}const C={domain:j.host,address:N,statement:g,uri:j.href,version:"1",chainId:S,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=bZ(C),y=await b.request({method:"personal_sign",params:[yZ(p),N]})}try{const{data:m,error:w}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ba});if(w)throw w;if(!m||!m.session||!m.user){const g=new au;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:w})}catch(m){if(Qe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,p;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:w,wallet:g,statement:x,options:b}=t;let j;if(Nn())if(typeof g=="object")j=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),m=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=N}}try{const{data:w,error:g}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Vl(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ba});if(g)throw g;if(!w||!w.session||!w.user){const x=new au;return this._returnResult({data:{user:null,session:null},error:x})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(Qe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await jl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new UJ;const{data:i,error:o}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ba});if(await jn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new au;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Qe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ba}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new au;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await iu(this.storage,this.storageKey));const{error:f}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Vg("You must provide either an email or phone number.")}catch(l){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ba});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await iu(this.storage,this.storageKey));const u=await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:dZ});return!((i=u.data)===null||i===void 0)&&i.url&&Nn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Qe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new bs;const{error:a}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Vg("You must provide either an email or phone number and a type")}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await jl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<qw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await jl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Kw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=oZ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:No}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bs}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:No})})}catch(r){if(Qe(r))return LJ(r)&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new bs;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await iu(this.storage,this.storageKey));const{data:u,error:d}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:No});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Qe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bs;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Ww(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new bs;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Nn())throw new qg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kA("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new qg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=bu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(Qe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await jl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(DJ(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=HJ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await iu(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Qe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Nn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Qe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ba}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new au}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XJ(async a=>(a>0&&await YJ(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ba})),(a,i)=>{const o=200*Math.pow(2,a);return i&&zw(i)&&Date.now()+o-n<bu})}catch(n){if(this._debug(r,"error",n),Qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Nn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await jl(this.storage,this.storageKey);if(a&&this.userStorage){let o=await jl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await wu(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Kw()}else if(a&&!a.user&&!a.user){const o=await jl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await jn(this.storage,this.storageKey+"-user"),await wu(this.storage,this.storageKey,a)):a.user=Kw()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${qw}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),zw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new bs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new kb;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new bs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Qe(i)){const o={data:null,error:i};return zw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await jn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=OA(a);await wu(this.storage,this.storageKey,i)}else{const a=OA(r);await wu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jn(this.storage,this.storageKey),await jn(this.storage,this.storageKey+"-code-verifier"),await jn(this.storage,this.storageKey+"-user"),this.userStorage&&await jn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/bu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${bu}ms, refresh threshold is ${xN} ticks`),a<=xN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await iu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ot(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?CZ(t.webauthn.credential_response):PZ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:SZ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:kZ(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ww(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ot(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new bs})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new bs});const o=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Nn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new bs});const o=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Nn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ot(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new bs})})}catch(t){if(Qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ot(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bs})})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+MJ>a)return n;const{data:i,error:o}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Ww(n);r!=null&&r.allowExpired||sZ(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=aZ(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,WJ(`${l}.${c}`)))throw new bN("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}}Em.nextInstanceID={};const DZ=Em,LZ="2.89.0";let Nh="";typeof Deno<"u"?Nh="deno":typeof document<"u"?Nh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nh="react-native":Nh="node";const FZ={"X-Client-Info":`supabase-js-${Nh}/${LZ}`},UZ={headers:FZ},BZ={schema:"public"},VZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qZ={};function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function zZ(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WZ(e){var t=zZ(e,"string");return Am(t)=="symbol"?t:t+""}function KZ(e,t,r){return(t=WZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){KZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const HZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GZ=()=>Headers,QZ=(e,t,r)=>{const n=HZ(r),a=GZ();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Ar(Ar({},o),{},{headers:u}))}};function YZ(e){return e.endsWith("/")?e:e+"/"}function XZ(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Ar(Ar({},c),a),auth:Ar(Ar({},u),i),realtime:Ar(Ar({},d),o),storage:{},global:Ar(Ar(Ar({},f),l),{},{headers:Ar(Ar({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function JZ(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YZ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ZZ=class extends DZ{constructor(e){super(e)}},eee=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=JZ(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:BZ,realtime:qZ,auth:Ar(Ar({},VZ),{},{storageKey:o}),global:UZ},c=XZ(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=QZ(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ar({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new IX(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new AJ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new PX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZZ({url:this.authUrl.href,headers:Ar(Ar({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new YX(this.realtimeUrl.href,Ar(Ar({},e),{},{params:Ar(Ar({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tee=(e,t,r)=>new eee(e,t,r);function ree(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ree()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Gw=null,FA=!1,zg=null,Om=null,Tm=null;const nee="quarterdeck-auth";async function see(){if(!FA)return zg||(zg=(async()=>{try{console.log("[Supabase] Loading config from /api/public-config...");const t=await(await fetch("/api/public-config")).json();if(Om=t.supabaseUrl,Tm=t.supabaseAnonKey,console.log("[Supabase] Config loaded:",{hasUrl:!!Om,hasKey:!!Tm}),typeof window<"u"){const r=Object.keys(localStorage).filter(n=>n.includes("auth")||n.includes("supabase")||n.includes("sb-"));console.log("[Supabase] Auth-related localStorage keys:",r)}}catch(e){console.error("[Supabase] Failed to load config:",e)}FA=!0})(),zg)}function lL(){return!!(Om&&Tm)}function Nl(){if(!Om||!Tm)throw new Error("Supabase is not configured. Please ensure config is loaded first.");return Gw||(console.log("[Supabase] Creating client"),Gw=tee(Om,Tm,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:nee}})),Gw}const cL=v.createContext(null);function aee({children:e}){const[t,r]=v.useState({user:null,session:null,isLoading:!0,isAuthenticated:!1}),[n,a]=v.useState(!1),[i,o]=v.useState(!1);v.useEffect(()=>{console.log("[Auth] Loading Supabase config..."),see().then(()=>{const y=lL();console.log("[Auth] Config loaded, isConfigured:",y),o(!0),a(y)})},[]),v.useEffect(()=>{if(!i){console.log("[Auth] Waiting for config to load...");return}if(!n){console.log("[Auth] Supabase not configured, skipping auth init"),r(w=>({...w,isLoading:!1}));return}console.log("[Auth] Initializing auth...");let y;try{y=Nl()}catch(w){console.error("[Auth] Failed to get Supabase client:",w),r(g=>({...g,isLoading:!1}));return}console.log("[Auth] Getting session..."),y.auth.getSession().then(({data:{session:w},error:g})=>{var x;console.log("[Auth] getSession result:",{hasSession:!!w,user:(x=w==null?void 0:w.user)==null?void 0:x.email,error:g==null?void 0:g.message}),r({user:(w==null?void 0:w.user)??null,session:w,isLoading:!1,isAuthenticated:!!(w!=null&&w.user)}),w!=null&&w.user&&(console.log("[Auth] User found, syncing to backend..."),l(w))});const{data:{subscription:m}}=y.auth.onAuthStateChange(async(w,g)=>{var x;console.log("[Auth] onAuthStateChange:",w,(x=g==null?void 0:g.user)==null?void 0:x.email),r({user:(g==null?void 0:g.user)??null,session:g,isLoading:!1,isAuthenticated:!!(g!=null&&g.user)}),w==="SIGNED_IN"&&g&&(console.log("[Auth] User signed in, syncing to backend..."),await l(g),re.invalidateQueries({queryKey:["/api/auth/user"]})),w==="SIGNED_OUT"&&(console.log("[Auth] User signed out"),re.invalidateQueries({queryKey:["/api/auth/user"]}))});return()=>m.unsubscribe()},[i,n]);const l=async y=>{var m,w,g,x;try{const b=await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.access_token}`},body:JSON.stringify({supabaseUserId:y.user.id,email:y.user.email,firstName:((m=y.user.user_metadata)==null?void 0:m.firstName)||((w=y.user.user_metadata)==null?void 0:w.first_name),lastName:((g=y.user.user_metadata)==null?void 0:g.lastName)||((x=y.user.user_metadata)==null?void 0:x.last_name)})});if(console.log("[Auth] Sync response:",b.status),b.status===403){const j=await b.json();return console.log("[Auth] Email verification required:",j.message),{success:!1,requiresEmailVerification:!0,error:j.message}}return b.ok?{success:!0}:{success:!1,error:(await b.json()).message||"Sync failed"}}catch(b){return console.error("[Auth] Failed to sync user to backend:",b),{success:!1,error:"Network error during sync"}}},c=v.useCallback(async(y,m,w)=>{if(!n)return{error:{message:"Supabase not configured"}};const g=Nl(),{error:x}=await g.auth.signUp({email:y,password:m,options:{data:w,emailRedirectTo:`${window.location.origin}/auth/callback`}});return{error:x}},[n]),u=v.useCallback(async(y,m)=>{var b;if(!n)return console.log("[Auth] signIn failed - not configured"),{error:{message:"Supabase not configured"}};console.log("[Auth] signIn called for:",y);const w=Nl(),{data:g,error:x}=await w.auth.signInWithPassword({email:y,password:m});if(x)return console.log("[Auth] signIn error:",x.message),{error:x};if(console.log("[Auth] signIn success:",(b=g.user)==null?void 0:b.email),g.session){const j=await l(g.session);if(!j.success)return j.requiresEmailVerification?(console.log("[Auth] Email verification required, signing out..."),await w.auth.signOut(),localStorage.removeItem("quarterdeck-auth"),{error:{message:"Please verify your email address before signing in. Check your inbox for a verification link."},requiresEmailVerification:!0}):{error:{message:j.error||"Failed to establish session"}}}return{}},[n]),d=v.useCallback(async()=>{if(console.log("[Auth] signOut called"),r({user:null,session:null,isLoading:!1,isAuthenticated:!1}),re.clear(),localStorage.removeItem("quarterdeck-auth"),n)try{await Nl().auth.signOut()}catch(y){console.error("[Auth] Supabase signOut error:",y)}try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(y){console.error("[Auth] Backend logout error:",y)}console.log("[Auth] signOut complete")},[n]),f=v.useCallback(async y=>{if(!n)return{error:{message:"Supabase not configured"}};const m=Nl(),{error:w}=await m.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/auth/reset-password`});return{error:w}},[n]),h=v.useCallback(async y=>{if(!n)return{error:{message:"Supabase not configured"}};const m=Nl(),{error:w}=await m.auth.updateUser({password:y});return{error:w}},[n]),p=v.useCallback(async y=>{if(!n)return{error:{message:"Supabase not configured"}};const m=Nl(),{error:w}=await m.auth.signInWithOAuth({provider:y,options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:w}},[n]);return s.jsx(cL.Provider,{value:{...t,signUp:c,signIn:u,signInWithOAuth:p,signOut:d,resetPassword:f,updatePassword:h,isSupabaseConfigured:n,useSupabaseAuth:n},children:e})}function jf(){const e=v.useContext(cL);if(!e)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e}function iee(){const[e]=Ln(),{data:t}=de({queryKey:["/api/admin/config"],queryFn:async()=>{try{const y=await fetch("/api/admin/config");return y.ok?await y.json():{}}catch{return{}}}}),{data:r,isLoading:n}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const y=await fetch("/api/site-settings");if(!y.ok)return{};const m=await y.json();return m&&typeof m=="object"&&!m.message?m:{}}catch{return{}}}}),a=(r==null?void 0:r.whatsapp_button_visible)==="true",i=(r==null?void 0:r.whatsapp_phone)||"",o=(r==null?void 0:r.whatsapp_default_message)||"",l=(r==null?void 0:r.whatsapp_button_text)||"Chat on WhatsApp",c=t==null?void 0:t.adminPath,u=c?e.startsWith(`/${c}`):!1,d=e==="/booking"||e.startsWith("/booking/");if(n||!a||!i||u||d)return null;const f=i.replace(/[^0-9]/g,""),h=window.encodeURIComponent(o),p=`https://wa.me/${f}${o?`?text=${h}`:""}`;return s.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5A] text-white px-4 py-3 rounded-full shadow-lg transition-all duration-300 hover:scale-105 group","data-testid":"button-whatsapp-float","aria-label":l,children:[s.jsx(gG,{className:"w-6 h-6"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:l})]})}var oee=Symbol.for("react.lazy"),vv=qy[" use ".trim().toString()];function lee(e){return typeof e=="object"&&e!==null&&"then"in e}function uL(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===oee&&"_payload"in e&&lee(e._payload)}function Cb(e){const t=cee(e),r=v.forwardRef((n,a)=>{let{children:i,...o}=n;uL(i)&&typeof vv=="function"&&(i=vv(i._payload));const l=v.Children.toArray(i),c=l.find(dee);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Qk=Cb("Slot");function cee(e){const t=v.forwardRef((r,n)=>{let{children:a,...i}=r;if(uL(a)&&typeof vv=="function"&&(a=vv(a._payload)),v.isValidElement(a)){const o=hee(a),l=fee(i,a.props);return a.type!==v.Fragment&&(l.ref=n?Jn(n,o):o),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uee=Symbol("radix.slottable");function dee(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uee}function fee(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function hee(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Yk=Ip("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),M=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Qk:"button";return s.jsx(o,{className:we(Yk({variant:t,size:r,className:e})),ref:i,...a})});M.displayName="Button";function mee(){const[e,t]=v.useState(!1);v.useEffect(()=>{const n=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return s.jsx(M,{size:"icon",variant:"outline",className:`fixed bottom-6 right-20 z-50 rounded-full shadow-lg transition-all duration-300 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border border-border ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,onClick:r,"aria-label":"Scroll to top","data-testid":"button-scroll-to-top",children:s.jsx(tG,{className:"h-4 w-4"})})}function pee(){const[e]=Ln();return v.useEffect(()=>{e.includes("#")||window.scrollTo({top:0,behavior:"instant"})},[e]),null}function Up(){const{data:e,isLoading:t,error:r}=de({queryKey:["/api/admin/config"],queryFn:async()=>{const n=await fetch("/api/admin/config",{credentials:"include"});if(!n.ok)throw new Error("Not authorized to access admin config");return n.json()},retry:!1,staleTime:18e5});return{adminPath:(e==null?void 0:e.adminPath)||"admin",isLoading:t,error:r,isAuthorized:!!e&&!r}}function gee({onLoaded:e,minDisplayTime:t=800}){const[r,n]=v.useState(0),[a,i]=v.useState(!1),{data:o}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const u=await fetch("/api/site-settings");if(!u.ok)return{};const d=await u.json();return d&&typeof d=="object"&&!d.message?d:{}}catch{return{}}},staleTime:1e3*60*10}),l=o==null?void 0:o.logo_main_url,c=(o==null?void 0:o.site_name)||"The Quarterdeck";return v.useEffect(()=>{const u=Date.now(),d=setInterval(()=>{const f=Date.now()-u,h=Math.min(f/t*100,100);n(h),h>=100&&(clearInterval(d),i(!0),setTimeout(()=>{e()},400))},16);return()=>clearInterval(d)},[t,e]),s.jsx("div",{className:`fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-background transition-opacity duration-400 ${a?"opacity-0":"opacity-100"}`,"data-testid":"logo-loader",children:s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l?s.jsx("img",{src:l,alt:c,className:"h-16 w-auto animate-pulse","data-testid":"img-loader-logo"}):s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center animate-pulse",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"Q"})}),s.jsx("div",{className:"w-48 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-100 ease-out",style:{width:`${r}%`},"data-testid":"loader-progress-bar"})}),s.jsx("p",{className:"text-sm text-muted-foreground animate-pulse","data-testid":"text-loader-status",children:"Loading..."})]})})}const xee=()=>{const[e]=Ln(),t=v.useRef(e);v.useEffect(()=>{e!==t.current&&(t.current=e)},[e])},yv="/assets/dark_elegant_sports__61a0b4ec-CXuzKOFY.jpg";function eo(){const{data:e,isLoading:t,error:r}=de({queryKey:["/api/auth/user"],queryFn:m5({on401:"returnNull"}),retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e,error:r}}function UA(){const[e,t]=v.useState("light");v.useEffect(()=>{const n=localStorage.getItem("qd-theme");n?(t(n),document.documentElement.classList.toggle("dark",n==="dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(t("dark"),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=e==="light"?"dark":"light";t(n),localStorage.setItem("qd-theme",n),document.documentElement.classList.toggle("dark",n==="dark")};return s.jsx(M,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full","data-testid":"button-theme-toggle",children:e==="light"?s.jsx(yG,{className:"w-4 h-4"}):s.jsx(TG,{className:"w-4 h-4"})})}var Qw=0;function Pb(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??BA()),document.body.insertAdjacentElement("beforeend",e[1]??BA()),Qw++,()=>{Qw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qw--}},[])}function BA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yw="focusScope.autoFocusOnMount",Xw="focusScope.autoFocusOnUnmount",VA={bubbles:!1,cancelable:!0},vee="FocusScope",Bp=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=Rr(a),d=Rr(i),f=v.useRef(null),h=ft(t,m=>c(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:mo(f.current,{select:!0})},w=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||mo(f.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&mo(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const x=new MutationObserver(g);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),x.disconnect()}}},[n,l,p.paused]),v.useEffect(()=>{if(l){zA.add(p);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(Yw,VA);l.addEventListener(Yw,u),l.dispatchEvent(g),g.defaultPrevented||(yee(_ee(dL(l)),{select:!0}),document.activeElement===m&&mo(l))}return()=>{l.removeEventListener(Yw,u),setTimeout(()=>{const g=new CustomEvent(Xw,VA);l.addEventListener(Xw,d),l.dispatchEvent(g),g.defaultPrevented||mo(m??document.body,{select:!0}),l.removeEventListener(Xw,d),zA.remove(p)},0)}}},[l,u,d,p]);const y=v.useCallback(m=>{if(!r&&!n||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(w&&g){const x=m.currentTarget,[b,j]=bee(x);b&&j?!m.shiftKey&&g===j?(m.preventDefault(),r&&mo(b,{select:!0})):m.shiftKey&&g===b&&(m.preventDefault(),r&&mo(j,{select:!0})):g===x&&m.preventDefault()}},[r,n,p.paused]);return s.jsx(Me.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Bp.displayName=vee;function yee(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(mo(n,{select:t}),document.activeElement!==r)return}function bee(e){const t=dL(e),r=qA(t,e),n=qA(t.reverse(),e);return[r,n]}function dL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qA(e,t){for(const r of e)if(!wee(r,{upTo:t}))return r}function wee(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jee(e){return e instanceof HTMLInputElement&&"select"in e}function mo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&jee(e)&&t&&e.select()}}var zA=Nee();function Nee(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=WA(e,t),e.unshift(t)},remove(t){var r;e=WA(e,t),(r=e[0])==null||r.resume()}}}function WA(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function _ee(e){return e.filter(t=>t.tagName!=="A")}function See(e){const t=kee(e),r=v.forwardRef((n,a)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(Pee);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function kee(e){const t=v.forwardRef((r,n)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=Aee(a),l=Eee(i,a.props);return a.type!==v.Fragment&&(l.ref=n?Jn(n,o):o),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cee=Symbol("radix.slottable");function Pee(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cee}function Eee(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Aee(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Oee=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},uu=new WeakMap,Wg=new WeakMap,Kg={},Jw=0,fL=function(e){return e&&(e.host||fL(e.parentNode))},Tee=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=fL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Iee=function(e,t,r,n){var a=Tee(t,Array.isArray(e)?e:[e]);Kg[r]||(Kg[r]=new WeakMap);var i=Kg[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(uu.get(h)||0)+1,w=(i.get(h)||0)+1;uu.set(h,m),i.set(h,w),o.push(h),m===1&&y&&Wg.set(h,!0),w===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),l.clear(),Jw++,function(){o.forEach(function(f){var h=uu.get(f)-1,p=i.get(f)-1;uu.set(f,h),i.set(f,p),h||(Wg.has(f)||f.removeAttribute(n),Wg.delete(f)),p||f.removeAttribute(r)}),Jw--,Jw||(uu=new WeakMap,uu=new WeakMap,Wg=new WeakMap,Kg={})}},Eb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Oee(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Iee(n,a,r,"aria-hidden")):function(){return null}},Ax="right-scroll-bar-position",Ox="width-before-scroll-bar",Ree="with-scroll-bars-hidden",Mee="--removed-body-scroll-bar-size";function Zw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $ee(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Dee=typeof window<"u"?v.useLayoutEffect:v.useEffect,KA=new WeakMap;function Lee(e,t){var r=$ee(null,function(n){return e.forEach(function(a){return Zw(a,n)})});return Dee(function(){var n=KA.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Zw(l,null)}),i.forEach(function(l){a.has(l)||Zw(l,o)})}KA.set(r,e)},[e]),r}function Fee(e){return e}function Uee(e,t){t===void 0&&(t=Fee);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Bee(e){e===void 0&&(e={});var t=Uee(null);return t.options=Za({async:!0,ssr:!1},e),t}var hL=function(e){var t=e.sideCar,r=wf(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Za({},r))};hL.isSideCarExport=!0;function Vee(e,t){return e.useMedium(t),hL}var mL=Bee(),ej=function(){},Ab=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:ej,onWheelCapture:ej,onTouchMoveCapture:ej}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,w=e.allowPinchZoom,g=e.as,x=g===void 0?"div":g,b=e.gapMode,j=wf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,N=Lee([r,t]),S=Za(Za({},j),a);return v.createElement(v.Fragment,null,d&&v.createElement(_,{sideCar:mL,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:m,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:b}),o?v.cloneElement(v.Children.only(l),Za(Za({},S),{ref:N})):v.createElement(x,Za({},S,{className:c,ref:N}),l))});Ab.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ab.classNames={fullWidth:Ox,zeroRight:Ax};var qee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zee(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qee();return t&&e.setAttribute("nonce",t),e}function Wee(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Kee(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Hee=function(){var e=0,t=null;return{add:function(r){e==0&&(t=zee())&&(Wee(t,r),Kee(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Gee=function(){var e=Hee();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},pL=function(){var e=Gee(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Qee={left:0,top:0,right:0,gap:0},tj=function(e){return parseInt(e||"",10)||0},Yee=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[tj(r),tj(n),tj(a)]},Xee=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Qee;var t=Yee(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Jee=pL(),td="data-scroll-locked",Zee=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Ree,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(td,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ax,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ox,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ax," .").concat(Ax,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ox," .").concat(Ox,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(td,`] {
    `).concat(Mee,": ").concat(l,`px;
  }
`)},HA=function(){var e=parseInt(document.body.getAttribute(td)||"0",10);return isFinite(e)?e:0},ete=function(){v.useEffect(function(){return document.body.setAttribute(td,(HA()+1).toString()),function(){var e=HA()-1;e<=0?document.body.removeAttribute(td):document.body.setAttribute(td,e.toString())}},[])},tte=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;ete();var i=v.useMemo(function(){return Xee(a)},[a]);return v.createElement(Jee,{styles:Zee(i,!t,a,r?"":"!important")})},wN=!1;if(typeof window<"u")try{var Hg=Object.defineProperty({},"passive",{get:function(){return wN=!0,!0}});window.addEventListener("test",Hg,Hg),window.removeEventListener("test",Hg,Hg)}catch{wN=!1}var du=wN?{passive:!1}:!1,rte=function(e){return e.tagName==="TEXTAREA"},gL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!rte(e)&&r[t]==="visible")},nte=function(e){return gL(e,"overflowY")},ste=function(e){return gL(e,"overflowX")},GA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=xL(e,n);if(a){var i=vL(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ate=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ite=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},xL=function(e,t){return e==="v"?nte(t):ste(t)},vL=function(e,t){return e==="v"?ate(t):ite(t)},ote=function(e,t){return e==="h"&&t==="rtl"?-1:1},lte=function(e,t,r,n,a){var i=ote(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=vL(e,l),y=p[0],m=p[1],w=p[2],g=m-w-i*y;(y||g)&&xL(e,l)&&(f+=g,h+=y);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Gg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},QA=function(e){return[e.deltaX,e.deltaY]},YA=function(e){return e&&"current"in e?e.current:e},cte=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ute=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dte=0,fu=[];function fte(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(dte++)[0],i=v.useState(pL)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=SX([e.lockRef.current],(e.shards||[]).map(YA),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=Gg(m),x=r.current,b="deltaX"in m?m.deltaX:x[0]-g[0],j="deltaY"in m?m.deltaY:x[1]-g[1],_,N=m.target,S=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in m&&S==="h"&&N.type==="range")return!1;var C=window.getSelection(),P=C&&C.anchorNode,k=P?P===N||P.contains(N):!1;if(k)return!1;var E=GA(S,N);if(!E)return!0;if(E?_=S:(_=S==="v"?"h":"v",E=GA(S,N)),!E)return!1;if(!n.current&&"changedTouches"in m&&(b||j)&&(n.current=_),!_)return!0;var T=n.current||_;return lte(T,w,m,T==="h"?b:j)},[]),c=v.useCallback(function(m){var w=m;if(!(!fu.length||fu[fu.length-1]!==i)){var g="deltaY"in w?QA(w):Gg(w),x=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&cte(_.delta,g)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(YA).filter(Boolean).filter(function(_){return _.contains(w.target)}),j=b.length>0?l(w,b[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=v.useCallback(function(m,w,g,x){var b={name:m,delta:w,target:g,should:x,shadowParent:hte(g)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=v.useCallback(function(m){r.current=Gg(m),n.current=void 0},[]),f=v.useCallback(function(m){u(m.type,QA(m),m.target,l(m,e.lockRef.current))},[]),h=v.useCallback(function(m){u(m.type,Gg(m),m.target,l(m,e.lockRef.current))},[]);v.useEffect(function(){return fu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,du),document.addEventListener("touchmove",c,du),document.addEventListener("touchstart",d,du),function(){fu=fu.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,du),document.removeEventListener("touchmove",c,du),document.removeEventListener("touchstart",d,du)}},[]);var p=e.removeScrollBar,y=e.inert;return v.createElement(v.Fragment,null,y?v.createElement(i,{styles:ute(a)}):null,p?v.createElement(tte,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function hte(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mte=Vee(mL,fte);var Vp=v.forwardRef(function(e,t){return v.createElement(Ab,Za({},e,{ref:t,sideCar:mte}))});Vp.classNames=Ab.classNames;var Ob="Popover",[yL]=An(Ob,[ul]),qp=ul(),[pte,dl]=yL(Ob),bL=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=qp(t),c=v.useRef(null),[u,d]=v.useState(!1),[f,h]=ms({prop:n,defaultProp:a??!1,onChange:i,caller:Ob});return s.jsx(yb,{...l,children:s.jsx(pte,{scope:t,contentId:Gr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:r})})};bL.displayName=Ob;var wL="PopoverAnchor",gte=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=dl(wL,r),i=qp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Lp,{...i,...n,ref:t})});gte.displayName=wL;var jL="PopoverTrigger",NL=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=dl(jL,r),i=qp(r),o=ft(t,a.triggerRef),l=s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":PL(a.open),...n,ref:o,onClick:je(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Lp,{asChild:!0,...i,children:l})});NL.displayName=jL;var Xk="PopoverPortal",[xte,vte]=yL(Xk,{forceMount:void 0}),_L=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=dl(Xk,t);return s.jsx(xte,{scope:t,forceMount:r,children:s.jsx(dn,{present:r||i.open,children:s.jsx(pf,{asChild:!0,container:a,children:n})})})};_L.displayName=Xk;var Ed="PopoverContent",SL=v.forwardRef((e,t)=>{const r=vte(Ed,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=dl(Ed,e.__scopePopover);return s.jsx(dn,{present:n||i.open,children:i.modal?s.jsx(bte,{...a,ref:t}):s.jsx(wte,{...a,ref:t})})});SL.displayName=Ed;var yte=See("PopoverContent.RemoveScroll"),bte=v.forwardRef((e,t)=>{const r=dl(Ed,e.__scopePopover),n=v.useRef(null),a=ft(t,n),i=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return Eb(o)},[]),s.jsx(Vp,{as:yte,allowPinchZoom:!0,children:s.jsx(kL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:je(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),wte=v.forwardRef((e,t)=>{const r=dl(Ed,e.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return s.jsx(kL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),kL=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=dl(Ed,r),p=qp(r);return Pb(),s.jsx(Bp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(bb,{"data-state":PL(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CL="PopoverClose",jte=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=dl(CL,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});jte.displayName=CL;var Nte="PopoverArrow",_te=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=qp(r);return s.jsx(wb,{...a,...n,ref:t})});_te.displayName=Nte;function PL(e){return e?"open":"closed"}var Ste=bL,kte=NL,Cte=_L,EL=SL;const Pte=Ste,Ete=kte,AL=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Cte,{children:s.jsx(EL,{ref:a,align:t,sideOffset:r,className:we("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));AL.displayName=EL.displayName;var Ate=v.createContext(void 0);function Nf(e){const t=v.useContext(Ate);return e||t||"ltr"}function jN(e,[t,r]){return Math.min(r,Math.max(t,e))}function Ote(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Jk="ScrollArea",[OL]=An(Jk),[Tte,ha]=OL(Jk),TL=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[p,y]=v.useState(null),[m,w]=v.useState(null),[g,x]=v.useState(0),[b,j]=v.useState(0),[_,N]=v.useState(!1),[S,C]=v.useState(!1),P=ft(t,E=>c(E)),k=Nf(a);return s.jsx(Tte,{scope:r,type:n,dir:k,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:_,onScrollbarXEnabledChange:N,scrollbarY:m,onScrollbarYChange:w,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:x,onCornerHeightChange:j,children:s.jsx(Me.div,{dir:k,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});TL.displayName=Jk;var IL="ScrollAreaViewport",RL=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=ha(IL,r),l=v.useRef(null),c=ft(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});RL.displayName=IL;var hi="ScrollAreaScrollbar",Zk=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ha(hi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Ite,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Rte,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(ML,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(e2,{...n,ref:t}):null});Zk.displayName=hi;var Ite=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ha(hi,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(dn,{present:r||i,children:s.jsx(ML,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Rte=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ha(hi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Ib(()=>c("SCROLL_END"),100),[l,c]=Ote("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(dn,{present:r||l!=="hidden",children:s.jsx(e2,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:je(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:je(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ML=v.forwardRef((e,t)=>{const r=ha(hi,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=Ib(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Ad(r.viewport,c),Ad(r.content,c),s.jsx(dn,{present:n||i,children:s.jsx(e2,{"data-state":i?"visible":"hidden",...a,ref:t})})}),e2=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ha(hi,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=UL(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return Ute(h,o.current,l,p)}return r==="horizontal"?s.jsx(Mte,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=XA(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx($te,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=XA(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Mte=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ha(hi,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=ft(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(DL,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),VL(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:wv(o.paddingLeft),paddingEnd:wv(o.paddingRight)}})}})}),$te=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ha(hi,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=ft(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(DL,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),VL(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:wv(o.paddingTop),paddingEnd:wv(o.paddingBottom)}})}})}),[Dte,$L]=OL(hi),DL=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=ha(hi,r),[y,m]=v.useState(null),w=ft(t,P=>m(P)),g=v.useRef(null),x=v.useRef(""),b=p.viewport,j=n.content-n.viewport,_=Rr(d),N=Rr(c),S=Ib(f,10);function C(P){if(g.current){const k=P.clientX-g.current.left,E=P.clientY-g.current.top;u({x:k,y:E})}}return v.useEffect(()=>{const P=k=>{const E=k.target;(y==null?void 0:y.contains(E))&&_(k,j)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,y,j,_]),v.useEffect(N,[n,N]),Ad(y,S),Ad(p.content,S),s.jsx(Dte,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Rr(i),onThumbPointerUp:Rr(o),onThumbPositionChange:N,onThumbPointerDown:Rr(l),children:s.jsx(Me.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:je(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),g.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:je(e.onPointerMove,C),onPointerUp:je(e.onPointerUp,P=>{const k=P.target;k.hasPointerCapture(P.pointerId)&&k.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),bv="ScrollAreaThumb",LL=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$L(bv,e.__scopeScrollArea);return s.jsx(dn,{present:r||a.hasThumb,children:s.jsx(Lte,{ref:t,...n})})}),Lte=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ha(bv,r),o=$L(bv,r),{onThumbPositionChange:l}=o,c=ft(t,f=>o.onThumbChange(f)),u=v.useRef(void 0),d=Ib(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Bte(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:je(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:je(e.onPointerUp,o.onThumbPointerUp)})});LL.displayName=bv;var t2="ScrollAreaCorner",FL=v.forwardRef((e,t)=>{const r=ha(t2,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Fte,{...e,ref:t}):null});FL.displayName=t2;var Fte=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ha(t2,r),[i,o]=v.useState(0),[l,c]=v.useState(0),u=!!(i&&l);return Ad(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Ad(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Me.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function wv(e){return e?parseInt(e,10):0}function UL(e,t){const r=e/t;return isNaN(r)?0:r}function Tb(e){const t=UL(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Ute(e,t,r,n="ltr"){const a=Tb(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return BL([c,u],f)(e)}function XA(e,t,r="ltr"){const n=Tb(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=jN(e,c);return BL([0,o],[0,l])(u)}function BL(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function VL(e,t){return e>0&&e<t}var Bte=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Ib(e,t){const r=Rr(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Ad(e,t){const r=Rr(t);Lr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var qL=TL,Vte=RL,qte=FL;const zL=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(qL,{ref:n,className:we("relative overflow-hidden",e),...r,children:[s.jsx(Vte,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(WL,{}),s.jsx(qte,{})]}));zL.displayName=qL.displayName;const WL=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Zk,{ref:n,orientation:t,className:we("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(LL,{className:"relative flex-1 rounded-full bg-border"})}));WL.displayName=Zk.displayName;function er(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function rl(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const KL=6048e5,zte=864e5,Qg=43200,JA=1440;let Wte={};function zp(){return Wte}function Im(e,t){var l,c,u,d;const r=zp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=er(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function jv(e){return Im(e,{weekStartsOn:1})}function HL(e){const t=er(e),r=t.getFullYear(),n=rl(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=jv(n),i=rl(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=jv(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ZA(e){const t=er(e);return t.setHours(0,0,0,0),t}function Nv(e){const t=er(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function GL(e,t){const r=ZA(e),n=ZA(t),a=+r-Nv(r),i=+n-Nv(n);return Math.round((a-i)/zte)}function Kte(e){const t=HL(e),r=rl(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),jv(r)}function Tx(e,t){const r=er(e),n=er(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Hte(e){return rl(e,Date.now())}function Gte(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Qte(e){if(!Gte(e)&&typeof e!="number")return!1;const t=er(e);return!isNaN(Number(t))}function Yte(e,t){const r=er(e),n=er(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Xte(e,t){const r=er(e),n=er(t),a=eO(r,n),i=Math.abs(GL(r,n));r.setDate(r.getDate()-a*i);const o=+(eO(r,n)===-a),l=a*(i-o);return l===0?0:l}function eO(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Jte(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Zte(e,t){return+er(e)-+er(t)}function ere(e){const t=er(e);return t.setHours(23,59,59,999),t}function tre(e){const t=er(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function rre(e){const t=er(e);return+ere(t)==+tre(t)}function nre(e,t){const r=er(e),n=er(t),a=Tx(r,n),i=Math.abs(Yte(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Tx(r,n)===-a;rre(er(e))&&i===1&&Tx(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function sre(e,t,r){const n=Zte(e,t)/1e3;return Jte(r==null?void 0:r.roundingMethod)(n)}function are(e){const t=er(e),r=rl(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ire={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ore=(e,t,r)=>{let n;const a=ire[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function rj(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const lre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ure={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dre={date:rj({formats:lre,defaultWidth:"full"}),time:rj({formats:cre,defaultWidth:"full"}),dateTime:rj({formats:ure,defaultWidth:"full"})},fre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hre=(e,t,r,n)=>fre[e];function nh(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const mre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wre={ordinalNumber:bre,era:nh({values:mre,defaultWidth:"wide"}),quarter:nh({values:pre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nh({values:gre,defaultWidth:"wide"}),day:nh({values:xre,defaultWidth:"wide"}),dayPeriod:nh({values:vre,defaultWidth:"wide",formattingValues:yre,defaultFormattingWidth:"wide"})};function sh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Nre(l,f=>f.test(o)):jre(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function jre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Nre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function _re(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Sre=/^(\d+)(th|st|nd|rd)?/i,kre=/\d+/i,Cre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pre={any:[/^b/i,/^(a|c)/i]},Ere={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Are={any:[/1/i,/2/i,/3/i,/4/i]},Ore={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ire={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$re={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dre={ordinalNumber:_re({matchPattern:Sre,parsePattern:kre,valueCallback:e=>parseInt(e,10)}),era:sh({matchPatterns:Cre,defaultMatchWidth:"wide",parsePatterns:Pre,defaultParseWidth:"any"}),quarter:sh({matchPatterns:Ere,defaultMatchWidth:"wide",parsePatterns:Are,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sh({matchPatterns:Ore,defaultMatchWidth:"wide",parsePatterns:Tre,defaultParseWidth:"any"}),day:sh({matchPatterns:Ire,defaultMatchWidth:"wide",parsePatterns:Rre,defaultParseWidth:"any"}),dayPeriod:sh({matchPatterns:Mre,defaultMatchWidth:"any",parsePatterns:$re,defaultParseWidth:"any"})},QL={code:"en-US",formatDistance:ore,formatLong:dre,formatRelative:hre,localize:wre,match:Dre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lre(e){const t=er(e);return GL(t,are(t))+1}function Fre(e){const t=er(e),r=+jv(t)-+Kte(t);return Math.round(r/KL)+1}function YL(e,t){var d,f,h,p;const r=er(e),n=r.getFullYear(),a=zp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=rl(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Im(o,t),c=rl(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Im(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ure(e,t){var l,c,u,d;const r=zp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=YL(e,t),i=rl(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Im(i,t)}function Bre(e,t){const r=er(e),n=+Im(r,t)-+Ure(r,t);return Math.round(n/KL)+1}function Jt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const fo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Jt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Jt(r+1,2)},d(e,t){return Jt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Jt(e.getHours()%12||12,t.length)},H(e,t){return Jt(e.getHours(),t.length)},m(e,t){return Jt(e.getMinutes(),t.length)},s(e,t){return Jt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Jt(a,t.length)}},hu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return fo.y(e,t)},Y:function(e,t,r,n){const a=YL(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Jt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Jt(i,t.length)},R:function(e,t){const r=HL(e);return Jt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Jt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Jt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Jt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return fo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Jt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Bre(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Jt(a,t.length)},I:function(e,t,r){const n=Fre(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Jt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):fo.d(e,t)},D:function(e,t,r){const n=Lre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Jt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Jt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Jt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Jt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=hu.noon:n===0?a=hu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=hu.evening:n>=12?a=hu.afternoon:n>=4?a=hu.morning:a=hu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):fo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Jt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Jt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):fo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):fo.s(e,t)},S:function(e,t){return fo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return nO(n);case"XXXX":case"XX":return Ol(n);case"XXXXX":case"XXX":default:return Ol(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return nO(n);case"xxxx":case"xx":return Ol(n);case"xxxxx":case"xxx":default:return Ol(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rO(n,":");case"OOOO":default:return"GMT"+Ol(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rO(n,":");case"zzzz":default:return"GMT"+Ol(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Jt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Jt(n,t.length)}};function rO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Jt(i,2)}function nO(e,t){return e%60===0?(e>0?"-":"+")+Jt(Math.abs(e)/60,2):Ol(e,t)}function Ol(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Jt(Math.trunc(n/60),2),i=Jt(n%60,2);return r+a+t+i}const sO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},XL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Vre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return sO(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",sO(n,t)).replace("{{time}}",XL(a,t))},qre={p:XL,P:Vre},zre=/^D+$/,Wre=/^Y+$/,Kre=["D","DD","YY","YYYY"];function Hre(e){return zre.test(e)}function Gre(e){return Wre.test(e)}function Qre(e,t,r){const n=Yre(e,t,r);if(console.warn(n),Kre.includes(e))throw new RangeError(n)}function Yre(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zre=/^'([^]*?)'?$/,ene=/''/g,tne=/[a-zA-Z]/;function Xn(e,t,r){var d,f,h,p;const n=zp(),a=n.locale??QL,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=er(e);if(!Qte(l))throw new RangeError("Invalid time value");let c=t.match(Jre).map(y=>{const m=y[0];if(m==="p"||m==="P"){const w=qre[m];return w(y,a.formatLong)}return y}).join("").match(Xre).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const m=y[0];if(m==="'")return{isToken:!1,value:rne(y)};if(tO[m])return{isToken:!0,value:y};if(m.match(tne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const m=y.value;(Gre(m)||Hre(m))&&Qre(m,t,String(e));const w=tO[m[0]];return w(l,m,a.localize,u)}).join("")}function rne(e){const t=e.match(Zre);return t?t[1].replace(ene,"'"):e}function nne(e,t,r){const n=zp(),a=(r==null?void 0:r.locale)??n.locale??QL,i=2520,o=Tx(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=er(t),u=er(e)):(c=er(e),u=er(t));const d=sre(u,c),f=(Nv(u)-Nv(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<JA){const y=Math.round(h/60);return a.formatDistance("aboutXHours",y,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Qg){const y=Math.round(h/JA);return a.formatDistance("xDays",y,l)}else if(h<Qg*2)return p=Math.round(h/Qg),a.formatDistance("aboutXMonths",p,l)}if(p=nre(u,c),p<12){const y=Math.round(h/Qg);return a.formatDistance("xMonths",y,l)}else{const y=p%12,m=Math.trunc(p/12);return y<3?a.formatDistance("aboutXYears",m,l):y<9?a.formatDistance("overXYears",m,l):a.formatDistance("almostXYears",m+1,l)}}function JL(e,t){return nne(e,Hte(e),t)}function sne(){const[e,t]=v.useState(!1),{data:r=[],isLoading:n}=de({queryKey:["/api/notifications"]}),{data:a}=de({queryKey:["/api/notifications/unread-count"]}),i=ye({mutationFn:async f=>{await ve("POST",`/api/notifications/${f}/read`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),o=ye({mutationFn:async()=>{await ve("POST","/api/notifications/read-all")},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=ye({mutationFn:async f=>{await ve("DELETE",`/api/notifications/${f}`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),c=(a==null?void 0:a.count)||0,u=f=>{switch(f){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},d=f=>{f.isRead||i.mutate(f.id),f.link&&t(!1)};return s.jsxs(Pte,{open:e,onOpenChange:t,children:[s.jsx(Ete,{asChild:!0,children:s.jsxs(M,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[s.jsx(pc,{className:"w-5 h-5"}),c>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] px-1 text-xs font-medium text-white bg-red-500 rounded-full","data-testid":"notification-count",children:c>99?"99+":c})]})}),s.jsxs(AL,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),c>0&&s.jsxs(M,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-mark-all-read",children:[s.jsx(wr,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),s.jsx(zL,{className:"h-[300px]",children:n?s.jsx("div",{className:"flex items-center justify-center h-20",children:s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-primary border-t-transparent rounded-full"})}):r.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-sm text-muted-foreground",children:[s.jsx(pc,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No notifications"})]}):s.jsx("div",{className:"divide-y",children:r.map(f=>s.jsx("div",{className:`p-3 group ${f.isRead?"":"bg-muted/50"}`,"data-testid":`notification-item-${f.id}`,children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${u(f.type)}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[f.link?s.jsx(me,{href:f.link,onClick:()=>d(f),children:s.jsx("p",{className:"text-sm font-medium cursor-pointer hover:underline",children:f.title})}):s.jsx("p",{className:"text-sm font-medium",children:f.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:f.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:JL(new Date(f.createdAt),{addSuffix:!0})})]}),s.jsxs("div",{className:"flex items-start gap-1 invisible group-hover:visible",children:[!f.isRead&&s.jsx(M,{variant:"ghost",size:"icon",className:"w-6 h-6",onClick:()=>i.mutate(f.id),disabled:i.isPending,"data-testid":`button-mark-read-${f.id}`,children:s.jsx(wr,{className:"w-3 h-3"})}),s.jsx(M,{variant:"ghost",size:"icon",className:"w-6 h-6 text-destructive",onClick:()=>l.mutate(f.id),disabled:l.isPending,"data-testid":`button-delete-notification-${f.id}`,children:s.jsx(hr,{className:"w-3 h-3"})})]})]})},f.id))})}),s.jsx("div",{className:"p-2 border-t",children:s.jsx(me,{href:"/profile?tab=notifications",onClick:()=>t(!1),children:s.jsx(M,{variant:"ghost",className:"w-full text-xs h-8","data-testid":"button-view-all-notifications",children:"View all notifications"})})})]})]})}var nj="rovingFocusGroup.onEntryFocus",ane={bubbles:!1,cancelable:!0},Wp="RovingFocusGroup",[NN,ZL,ine]=Op(Wp),[one,Rb]=An(Wp,[ine]),[lne,cne]=one(Wp),eF=v.forwardRef((e,t)=>s.jsx(NN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(NN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(une,{...e,ref:t})})}));eF.displayName=Wp;var une=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),p=ft(t,h),y=Nf(i),[m,w]=ms({prop:o,defaultProp:l??null,onChange:c,caller:Wp}),[g,x]=v.useState(!1),b=Rr(u),j=ZL(r),_=v.useRef(!1),[N,S]=v.useState(0);return v.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(nj,b),()=>C.removeEventListener(nj,b)},[b]),s.jsx(lne,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:v.useCallback(C=>w(C),[w]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:v.useCallback(()=>S(C=>C-1),[]),children:s.jsx(Me.div,{tabIndex:g||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{_.current=!0}),onFocus:je(e.onFocus,C=>{const P=!_.current;if(C.target===C.currentTarget&&P&&!g){const k=new CustomEvent(nj,ane);if(C.currentTarget.dispatchEvent(k),!k.defaultPrevented){const E=j().filter(O=>O.focusable),T=E.find(O=>O.active),I=E.find(O=>O.id===m),D=[T,I,...E].filter(Boolean).map(O=>O.ref.current);nF(D,d)}}_.current=!1}),onBlur:je(e.onBlur,()=>x(!1))})})}),tF="RovingFocusGroupItem",rF=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Gr(),u=i||c,d=cne(tF,r),f=d.currentTabStopId===u,h=ZL(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=d;return v.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),s.jsx(NN.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:je(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:je(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:je(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const g=hne(w,d.orientation,d.dir);if(g!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=h().filter(j=>j.focusable).map(j=>j.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const j=b.indexOf(w.currentTarget);b=d.loop?mne(b,j+1):b.slice(j+1)}setTimeout(()=>nF(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});rF.displayName=tF;var dne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fne(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function hne(e,t,r){const n=fne(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return dne[n]}function nF(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function mne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sF=eF,aF=rF;function pne(e){const t=gne(e),r=v.forwardRef((n,a)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(vne);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function gne(e){const t=v.forwardRef((r,n)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=bne(a),l=yne(i,a.props);return a.type!==v.Fragment&&(l.ref=n?Jn(n,o):o),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xne=Symbol("radix.slottable");function vne(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xne}function yne(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function bne(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var _N=["Enter"," "],wne=["ArrowDown","PageUp","Home"],iF=["ArrowUp","PageDown","End"],jne=[...wne,...iF],Nne={ltr:[..._N,"ArrowRight"],rtl:[..._N,"ArrowLeft"]},_ne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Kp="Menu",[Rm,Sne,kne]=Op(Kp),[Dc,oF]=An(Kp,[kne,ul,Rb]),Mb=ul(),lF=Rb(),[Cne,Lc]=Dc(Kp),[Pne,Hp]=Dc(Kp),cF=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Mb(t),[c,u]=v.useState(null),d=v.useRef(!1),f=Rr(i),h=Nf(a);return v.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(yb,{...l,children:s.jsx(Cne,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(Pne,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};cF.displayName=Kp;var Ene="MenuAnchor",r2=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Mb(r);return s.jsx(Lp,{...a,...n,ref:t})});r2.displayName=Ene;var n2="MenuPortal",[Ane,uF]=Dc(n2,{forceMount:void 0}),dF=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Lc(n2,t);return s.jsx(Ane,{scope:t,forceMount:r,children:s.jsx(dn,{present:r||i.open,children:s.jsx(pf,{asChild:!0,container:a,children:n})})})};dF.displayName=n2;var sa="MenuContent",[One,s2]=Dc(sa),fF=v.forwardRef((e,t)=>{const r=uF(sa,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Lc(sa,e.__scopeMenu),o=Hp(sa,e.__scopeMenu);return s.jsx(Rm.Provider,{scope:e.__scopeMenu,children:s.jsx(dn,{present:n||i.open,children:s.jsx(Rm.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Tne,{...a,ref:t}):s.jsx(Ine,{...a,ref:t})})})})}),Tne=v.forwardRef((e,t)=>{const r=Lc(sa,e.__scopeMenu),n=v.useRef(null),a=ft(t,n);return v.useEffect(()=>{const i=n.current;if(i)return Eb(i)},[]),s.jsx(a2,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Ine=v.forwardRef((e,t)=>{const r=Lc(sa,e.__scopeMenu);return s.jsx(a2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Rne=pne("MenuContent.ScrollLock"),a2=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...m}=e,w=Lc(sa,r),g=Hp(sa,r),x=Mb(r),b=lF(r),j=Sne(r),[_,N]=v.useState(null),S=v.useRef(null),C=ft(t,S,w.onContentChange),P=v.useRef(0),k=v.useRef(""),E=v.useRef(0),T=v.useRef(null),I=v.useRef("right"),R=v.useRef(0),D=y?Vp:v.Fragment,O=y?{as:Rne,allowPinchZoom:!0}:void 0,z=$=>{var te,be;const Q=k.current+$,X=j().filter(ie=>!ie.disabled),F=document.activeElement,J=(te=X.find(ie=>ie.ref.current===F))==null?void 0:te.textValue,q=X.map(ie=>ie.textValue),ee=Kne(q,Q,J),pe=(be=X.find(ie=>ie.textValue===ee))==null?void 0:be.ref.current;(function ie(U){k.current=U,window.clearTimeout(P.current),U!==""&&(P.current=window.setTimeout(()=>ie(""),1e3))})(Q),pe&&setTimeout(()=>pe.focus())};v.useEffect(()=>()=>window.clearTimeout(P.current),[]),Pb();const A=v.useCallback($=>{var X,F;return I.current===((X=T.current)==null?void 0:X.side)&&Gne($,(F=T.current)==null?void 0:F.area)},[]);return s.jsx(One,{scope:r,searchRef:k,onItemEnter:v.useCallback($=>{A($)&&$.preventDefault()},[A]),onItemLeave:v.useCallback($=>{var Q;A($)||((Q=S.current)==null||Q.focus(),N(null))},[A]),onTriggerLeave:v.useCallback($=>{A($)&&$.preventDefault()},[A]),pointerGraceTimerRef:E,onPointerGraceIntentChange:v.useCallback($=>{T.current=$},[]),children:s.jsx(D,{...O,children:s.jsx(Bp,{asChild:!0,trapped:a,onMountAutoFocus:je(i,$=>{var Q;$.preventDefault(),(Q=S.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:s.jsx(sF,{asChild:!0,...b,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:N,onEntryFocus:je(c,$=>{g.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(bb,{role:"menu","aria-orientation":"vertical","data-state":PF(w.open),"data-radix-menu-content":"",dir:g.dir,...x,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:je(m.onKeyDown,$=>{const X=$.target.closest("[data-radix-menu-content]")===$.currentTarget,F=$.ctrlKey||$.altKey||$.metaKey,J=$.key.length===1;X&&($.key==="Tab"&&$.preventDefault(),!F&&J&&z($.key));const q=S.current;if($.target!==q||!jne.includes($.key))return;$.preventDefault();const pe=j().filter(te=>!te.disabled).map(te=>te.ref.current);iF.includes($.key)&&pe.reverse(),zne(pe)}),onBlur:je(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(P.current),k.current="")}),onPointerMove:je(e.onPointerMove,Mm($=>{const Q=$.target,X=R.current!==$.clientX;if($.currentTarget.contains(Q)&&X){const F=$.clientX>R.current?"right":"left";I.current=F,R.current=$.clientX}}))})})})})})})});fF.displayName=sa;var Mne="MenuGroup",i2=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"group",...n,ref:t})});i2.displayName=Mne;var $ne="MenuLabel",hF=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});hF.displayName=$ne;var _v="MenuItem",aO="menu.itemSelect",$b=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=v.useRef(null),o=Hp(_v,e.__scopeMenu),l=s2(_v,e.__scopeMenu),c=ft(t,i),u=v.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(aO,{bubbles:!0,cancelable:!0});f.addEventListener(aO,p=>n==null?void 0:n(p),{once:!0}),Nk(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(mF,{...a,ref:c,disabled:r,onClick:je(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:je(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:je(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||_N.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});$b.displayName=_v;var mF=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=s2(_v,r),l=lF(r),c=v.useRef(null),u=ft(t,c),[d,f]=v.useState(!1),[h,p]=v.useState("");return v.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),s.jsx(Rm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(aF,{asChild:!0,...l,focusable:!n,children:s.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:je(e.onPointerMove,Mm(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(e.onPointerLeave,Mm(y=>o.onItemLeave(y))),onFocus:je(e.onFocus,()=>f(!0)),onBlur:je(e.onBlur,()=>f(!1))})})})}),Dne="MenuCheckboxItem",pF=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(bF,{scope:e.__scopeMenu,checked:r,children:s.jsx($b,{role:"menuitemcheckbox","aria-checked":Sv(r)?"mixed":r,...a,ref:t,"data-state":l2(r),onSelect:je(a.onSelect,()=>n==null?void 0:n(Sv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});pF.displayName=Dne;var gF="MenuRadioGroup",[Lne,Fne]=Dc(gF,{value:void 0,onValueChange:()=>{}}),xF=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Rr(n);return s.jsx(Lne,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(i2,{...a,ref:t})})});xF.displayName=gF;var vF="MenuRadioItem",yF=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=Fne(vF,e.__scopeMenu),i=r===a.value;return s.jsx(bF,{scope:e.__scopeMenu,checked:i,children:s.jsx($b,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":l2(i),onSelect:je(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});yF.displayName=vF;var o2="MenuItemIndicator",[bF,Une]=Dc(o2,{checked:!1}),wF=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Une(o2,r);return s.jsx(dn,{present:n||Sv(i.checked)||i.checked===!0,children:s.jsx(Me.span,{...a,ref:t,"data-state":l2(i.checked)})})});wF.displayName=o2;var Bne="MenuSeparator",jF=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});jF.displayName=Bne;var Vne="MenuArrow",NF=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Mb(r);return s.jsx(wb,{...a,...n,ref:t})});NF.displayName=Vne;var qne="MenuSub",[D$e,_F]=Dc(qne),_h="MenuSubTrigger",SF=v.forwardRef((e,t)=>{const r=Lc(_h,e.__scopeMenu),n=Hp(_h,e.__scopeMenu),a=_F(_h,e.__scopeMenu),i=s2(_h,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(r2,{asChild:!0,...u,children:s.jsx(mF,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":PF(r.open),...e,ref:Jn(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:je(e.onPointerMove,Mm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:je(e.onPointerLeave,Mm(f=>{var p,y;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(y=r.content)==null?void 0:y.dataset.side,w=m==="right",g=w?-5:5,x=h[w?"left":"right"],b=h[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:je(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||Nne[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});SF.displayName=_h;var kF="MenuSubContent",CF=v.forwardRef((e,t)=>{const r=uF(sa,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Lc(sa,e.__scopeMenu),o=Hp(sa,e.__scopeMenu),l=_F(kF,e.__scopeMenu),c=v.useRef(null),u=ft(t,c);return s.jsx(Rm.Provider,{scope:e.__scopeMenu,children:s.jsx(dn,{present:n||i.open,children:s.jsx(Rm.Slot,{scope:e.__scopeMenu,children:s.jsx(a2,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:je(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:je(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:je(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=_ne[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});CF.displayName=kF;function PF(e){return e?"open":"closed"}function Sv(e){return e==="indeterminate"}function l2(e){return Sv(e)?"indeterminate":e?"checked":"unchecked"}function zne(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Wne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Kne(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Wne(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Hne(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Gne(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Hne(r,t)}function Mm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Qne=cF,Yne=r2,Xne=dF,Jne=fF,Zne=i2,ese=hF,tse=$b,rse=pF,nse=xF,sse=yF,ase=wF,ise=jF,ose=NF,lse=SF,cse=CF,Db="DropdownMenu",[use]=An(Db,[oF]),rs=oF(),[dse,EF]=use(Db),AF=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=rs(t),u=v.useRef(null),[d,f]=ms({prop:a,defaultProp:i??!1,onChange:o,caller:Db});return s.jsx(dse,{scope:t,triggerId:Gr(),triggerRef:u,contentId:Gr(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(Qne,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};AF.displayName=Db;var OF="DropdownMenuTrigger",TF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=EF(OF,r),o=rs(r);return s.jsx(Yne,{asChild:!0,...o,children:s.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Jn(t,i.triggerRef),onPointerDown:je(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:je(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});TF.displayName=OF;var fse="DropdownMenuPortal",IF=e=>{const{__scopeDropdownMenu:t,...r}=e,n=rs(t);return s.jsx(Xne,{...n,...r})};IF.displayName=fse;var RF="DropdownMenuContent",MF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=EF(RF,r),i=rs(r),o=v.useRef(!1);return s.jsx(Jne,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:je(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:je(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MF.displayName=RF;var hse="DropdownMenuGroup",mse=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(Zne,{...a,...n,ref:t})});mse.displayName=hse;var pse="DropdownMenuLabel",$F=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(ese,{...a,...n,ref:t})});$F.displayName=pse;var gse="DropdownMenuItem",DF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(tse,{...a,...n,ref:t})});DF.displayName=gse;var xse="DropdownMenuCheckboxItem",LF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(rse,{...a,...n,ref:t})});LF.displayName=xse;var vse="DropdownMenuRadioGroup",yse=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(nse,{...a,...n,ref:t})});yse.displayName=vse;var bse="DropdownMenuRadioItem",FF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(sse,{...a,...n,ref:t})});FF.displayName=bse;var wse="DropdownMenuItemIndicator",UF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(ase,{...a,...n,ref:t})});UF.displayName=wse;var jse="DropdownMenuSeparator",BF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(ise,{...a,...n,ref:t})});BF.displayName=jse;var Nse="DropdownMenuArrow",_se=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(ose,{...a,...n,ref:t})});_se.displayName=Nse;var Sse="DropdownMenuSubTrigger",VF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(lse,{...a,...n,ref:t})});VF.displayName=Sse;var kse="DropdownMenuSubContent",qF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rs(r);return s.jsx(cse,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qF.displayName=kse;var Cse=AF,Pse=TF,Ese=IF,zF=MF,WF=$F,KF=DF,HF=LF,GF=FF,QF=UF,YF=BF,XF=VF,JF=qF;const iO=Cse,oO=Pse,Ase=v.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(XF,{ref:a,className:we("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(ca,{className:"ml-auto"})]}));Ase.displayName=XF.displayName;const Ose=v.forwardRef(({className:e,...t},r)=>s.jsx(JF,{ref:r,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Ose.displayName=JF.displayName;const SN=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Ese,{children:s.jsx(zF,{ref:n,sideOffset:t,className:we("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));SN.displayName=zF.displayName;const Sh=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(KF,{ref:n,className:we("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Sh.displayName=KF.displayName;const Tse=v.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(HF,{ref:a,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(QF,{children:s.jsx(wr,{className:"h-4 w-4"})})}),t]}));Tse.displayName=HF.displayName;const Ise=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(GF,{ref:n,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(QF,{children:s.jsx(aG,{className:"h-2 w-2 fill-current"})})}),t]}));Ise.displayName=GF.displayName;const Rse=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(WF,{ref:n,className:we("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Rse.displayName=WF.displayName;const kN=v.forwardRef(({className:e,...t},r)=>s.jsx(YF,{ref:r,className:we("-mx-1 my-1 h-px bg-muted",e),...t}));kN.displayName=YF.displayName;const Mse={target:na,dumbbell:B5,crosshair:$c,building:Ck,landmark:hG,shield:ci,waves:DG,gamepad:uG,music:jG,mountain:bG,bike:nG,sword:IG,flame:cG,activity:eG,trophy:Wn,calendar:mr},$se=e=>{const t=Mse[(e||"target").toLowerCase()]||na;return s.jsx(t,{className:"w-4 h-4"})},Yg=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");function Kt({onScrollTo:e}){const[t,r]=v.useState(!1),{user:n,isAuthenticated:a}=eo(),[i]=Ln(),{data:o}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const m=await fetch("/api/site-settings");if(!m.ok)return{};const w=await m.json();return w&&typeof w=="object"&&!w.message?w:{}}catch{return{}}}}),{data:l}=de({queryKey:["/api/admin/config"],enabled:a&&((n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN")}),{data:c}=de({queryKey:["/api/facilities"],queryFn:async()=>{try{const m=await fetch("/api/facilities");if(!m.ok)return[];const w=await m.json();return Array.isArray(w)?w:[]}catch{return[]}}}),u=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN",d=v.useMemo(()=>{const m=(c||[]).filter(w=>!w.isHidden).map(w=>({label:w.name,href:`/facilities/${w.slug}`,icon:$se(w.icon)}));return[{label:"Facilities",items:m.length>0?m:[{label:"Padel Tennis",href:"/facilities/padel-tennis",icon:s.jsx(na,{className:"w-4 h-4"})},{label:"Squash Courts",href:"/facilities/squash",icon:s.jsx(B5,{className:"w-4 h-4"})},{label:"Air Rifle Range",href:"/facilities/air-rifle-range",icon:s.jsx($c,{className:"w-4 h-4"})},{label:"Multipurpose Hall",href:"/facilities/multipurpose-hall",icon:s.jsx(Ck,{className:"w-4 h-4"})}]},{label:"Experiences",items:[{label:"Events & Academies",href:"/events",icon:s.jsx(mr,{className:"w-4 h-4"})},{label:"Leaderboard",href:"/leaderboard",icon:s.jsx(Wn,{className:"w-4 h-4"})},{label:"Gallery",href:"/gallery",icon:s.jsx(ra,{className:"w-4 h-4"})}]},{label:"Community",items:[{label:"Blog",href:"/blog",icon:s.jsx(Z1,{className:"w-4 h-4"})},{label:"Testimonials",href:"/testimonials",icon:s.jsx(Tk,{className:"w-4 h-4"})},{label:"Updates",href:"/updates",icon:s.jsx(pc,{className:"w-4 h-4"})}]},{label:"About",items:[{label:"Vision",href:"/vision",icon:s.jsx(Zn,{className:"w-4 h-4"})},{label:"Contact",href:"/contact",icon:s.jsx(bm,{className:"w-4 h-4"})},{label:"FAQ",href:"/faq",icon:s.jsx(Ts,{className:"w-4 h-4"})},{label:"Club Rules",href:"/rules",icon:s.jsx(PG,{className:"w-4 h-4"})}]}]},[c]);v.useEffect(()=>{if(i==="/"){const m=sessionStorage.getItem("scrollToSection");m&&(sessionStorage.removeItem("scrollToSection"),setTimeout(()=>{const w=document.getElementById(m);if(w){const x=w.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:x,behavior:"smooth"})}},100))}},[i]);const f=(m,w="")=>(o==null?void 0:o[m])||w,h=f("logo_main_url"),p=f("site_name","The Quarterdeck"),y=f("site_tagline","Sports & Recreation Complex");return s.jsxs("header",{className:"sticky top-0 z-50 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-15 dark:opacity-25",style:{backgroundImage:`url(${yv})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("nav",{className:"h-[70px] flex items-center justify-between gap-8",children:[s.jsx(me,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-logo",children:[h?s.jsx("img",{src:h,alt:p,className:"h-10 w-auto object-contain","data-testid":"img-site-logo"}):s.jsx("div",{className:"qd-logo-mark",children:"Q"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:p}),s.jsx("div",{className:"text-xs text-primary-foreground/70",children:y})]})]})}),s.jsx("div",{className:"hidden lg:flex items-center gap-6 text-sm text-primary-foreground/70",children:d.map(m=>s.jsxs(iO,{children:[s.jsx(oO,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-1 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":`button-nav-${Yg(m.label)}`,children:[m.label," ",s.jsx(la,{className:"w-3 h-3"})]})}),s.jsx(SN,{align:"start",className:"w-52",children:m.items.map(w=>s.jsx(me,{href:w.href,children:s.jsxs(Sh,{className:"cursor-pointer gap-2","data-testid":`menu-item-${Yg(w.label)}`,children:[w.icon,w.label]})},w.href))})]},m.label))}),s.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[s.jsx(UA,{}),a?s.jsxs(s.Fragment,{children:[s.jsx(sne,{}),s.jsx(me,{href:"/booking",children:s.jsx(M,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})}),s.jsxs(iO,{children:[s.jsx(oO,{asChild:!0,children:s.jsxs(M,{variant:"outline",className:"rounded-full gap-2","data-testid":"button-user-menu",children:[s.jsx(ls,{className:"w-4 h-4"}),(n==null?void 0:n.firstName)||"Account",s.jsx(la,{className:"w-3 h-3"})]})}),s.jsxs(SN,{align:"end",className:"w-48",children:[s.jsx(me,{href:"/profile",children:s.jsxs(Sh,{className:"cursor-pointer","data-testid":"menu-item-profile",children:[s.jsx(ls,{className:"w-4 h-4 mr-2"}),"My Profile"]})}),u&&(l==null?void 0:l.adminPath)&&s.jsxs(s.Fragment,{children:[s.jsx(kN,{}),s.jsx(me,{href:`/${l.adminPath}`,children:s.jsxs(Sh,{className:"cursor-pointer","data-testid":"menu-item-admin",children:[s.jsx(wm,{className:"w-4 h-4 mr-2"}),"Admin Dashboard"]})})]}),s.jsx(kN,{}),s.jsx("a",{href:"/api/logout",children:s.jsxs(Sh,{className:"cursor-pointer text-destructive","data-testid":"menu-item-logout",children:[s.jsx(QE,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(me,{href:"/login",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-login",children:"Log In"})}),s.jsx(me,{href:"/booking",children:s.jsx(M,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})})]})]}),s.jsx("button",{className:"lg:hidden p-2",onClick:()=>r(!t),"aria-label":"Toggle navigation","data-testid":"button-mobile-menu",children:t?s.jsx(zi,{className:"w-5 h-5 text-primary-foreground"}):s.jsx(G5,{className:"w-5 h-5 text-primary-foreground"})})]}),t&&s.jsxs("div",{className:"lg:hidden flex flex-col gap-2 pb-4 border-t border-primary-foreground/10 pt-4 animate-qd-fade-in",children:[d.map((m,w)=>s.jsxs("div",{className:w>0?"border-t border-primary-foreground/10 pt-3 mt-2":"",children:[s.jsx("span",{className:"text-xs text-primary-foreground/50 uppercase tracking-wider","data-testid":`text-mobile-category-${Yg(m.label)}`,children:m.label}),s.jsx("div",{className:"flex flex-col gap-1 mt-2",children:m.items.map(g=>s.jsx(me,{href:g.href,onClick:()=>r(!1),children:s.jsxs("span",{className:"flex items-center gap-2 py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground cursor-pointer","data-testid":`link-mobile-${Yg(g.label)}`,children:[g.icon," ",g.label]})},g.href))})]},m.label)),s.jsxs("div",{className:"flex items-center justify-between border-t border-primary-foreground/10 pt-4 mt-4",children:[s.jsx("span",{className:"text-sm text-primary-foreground/70",children:"Theme"}),s.jsx(UA,{})]}),s.jsx("div",{className:"flex flex-col gap-2 mt-4",children:a?s.jsxs(s.Fragment,{children:[s.jsx(me,{href:"/profile",onClick:()=>r(!1),children:s.jsxs(M,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-profile",children:[s.jsx(ls,{className:"w-4 h-4"}),"My Profile"]})}),u&&(l==null?void 0:l.adminPath)&&s.jsx(me,{href:`/${l.adminPath}`,onClick:()=>r(!1),children:s.jsxs(M,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-admin",children:[s.jsx(wm,{className:"w-4 h-4"}),"Admin Dashboard"]})}),s.jsx(me,{href:"/booking",onClick:()=>r(!1),children:s.jsx(M,{className:"w-full rounded-full","data-testid":"button-mobile-book",children:"Book Now"})}),s.jsx("a",{href:"/api/logout",children:s.jsxs(M,{variant:"outline",className:"w-full rounded-full gap-2 text-destructive","data-testid":"button-mobile-logout",children:[s.jsx(QE,{className:"w-4 h-4"}),"Log Out"]})})]}):s.jsx(s.Fragment,{children:s.jsx(me,{href:"/login",children:s.jsx(M,{className:"w-full rounded-full","data-testid":"button-mobile-login",children:"Log In"})})})})]})]})]})}function Ht(){const{data:e,isLoading:t}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const f=await fetch("/api/site-settings");if(!f.ok)return{};const h=await f.json();return h&&typeof h=="object"&&!h.message?h:{}}catch{return{}}},staleTime:3e5}),{data:r=[]}=de({queryKey:["/api/site-images","global"],queryFn:async()=>{const h=await(await fetch("/api/site-images?page=global")).json();return Array.isArray(h)?h:[]},staleTime:1e3*60*5}),n=v.useMemo(()=>{if(!Array.isArray(r))return yv;const f=r.find(h=>h.section==="footer"&&h.isActive);return(f==null?void 0:f.imageUrl)||yv},[r]),a=(f,h="")=>(e==null?void 0:e[f])||h,i=a("site_name","The Quarterdeck"),o=a("site_tagline","Sports & Recreation Complex"),l=a("instagram_url")||a("social_instagram","#"),c=a("facebook_url")||a("social_facebook","#"),u=a("linkedin_url")||a("social_linkedin","#"),d=new Date().getFullYear();return s.jsxs("footer",{className:"qd-footer relative overflow-hidden bg-primary dark:bg-slate-900",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-10 dark:opacity-20",style:{backgroundImage:`url(${n})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary via-primary/95 to-primary/80 dark:from-slate-900 dark:via-slate-900/95 dark:to-slate-900/80"}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[s.jsx(me,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-footer-logo",children:[s.jsx("div",{className:"qd-logo-mark",children:i.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:i}),s.jsx("div",{className:"text-xs text-primary-foreground/70",children:o})]})]})}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(me,{href:"/terms",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-terms",children:"Terms"})}),s.jsx(me,{href:"/privacy",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-privacy",children:"Privacy"})}),s.jsx(me,{href:"/careers",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-careers",children:"Careers"})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Instagram","data-testid":"link-social-instagram",children:s.jsx(K5,{className:"w-4 h-4"})}),s.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Facebook","data-testid":"link-social-facebook",children:s.jsx(V5,{className:"w-4 h-4"})}),s.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"LinkedIn","data-testid":"link-social-linkedin",children:s.jsx(rN,{className:"w-4 h-4"})})]})]}),s.jsxs("p",{className:"text-center mt-6 text-primary-foreground/60 text-xs",children:[" ",d," ",i,"  All rights reserved."]})]})]})}function $e({className:e,...t}){return s.jsx("div",{className:we("animate-pulse rounded-md bg-muted",e),...t})}function Fr(e,t={}){const{data:r=[],isLoading:n}=de({queryKey:["/api/cms/bulk"],staleTime:3e5,retry:!1}),a={};return e.forEach(i=>{const o=r.find(l=>l.key===i);a[i]=(o==null?void 0:o.content)||t[i]||""}),{content:a,isLoading:n,getValue:i=>a[i]||t[i]||""}}const Ee={hero_title:'A bright, premium <span class="qd-hero-highlight">multi-sport arena</span> built for play, performance & community.',hero_subtitle:"The Quarterdeck brings state-of-the-art Padel Tennis, Squash, an Air Rifle Range, a Multipurpose Hall, and an Open Cafe/Bar experience into a single, purpose-built complex. We are setting the new standard for indoor sports and recreation in Islamabad.",hero_eyebrow:"Target Launch: December 25, 2025",hero_launch_date:"2025-12-25",hero_cta_1:"Explore Facilities",hero_cta_1_url:"/facilities",hero_cta_2:"View Site Updates",hero_cta_2_url:"/roadmap",hero_countdown_label:"Estimated Launch Countdown",hero_status_active:"Construction Active",hero_status_updates:"Transparent progress updates",hero_status_booking:"Early booking & waitlists planned",about_title:"About The Quarterdeck",about_subtitle:"Our core vision: Excellence in Play and Community. We are building Islamabad's premier destination for indoor sports, recreation, and social gathering.",about_cta:"See Our Vision",about_cta_url:"/vision",about_vision_title:"Vision & Philosophy",about_vision_content:"The Quarterdeck is born from a simple idea: that sports facilities should be world-class, accessible, and designed for social connection. We prioritize bright, modern architecture, superior court surfaces, and a welcoming atmosphere. Our aim is to cultivate a vibrant community around Padel, Squash, and recreational activities.",about_vision_content_2:"We are locally invested and committed to transparency throughout the construction and launch phases, ensuring the highest standards of quality and service.",about_tags:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly",about_team_title:"The Project Team",about_team_content:"The project is managed by a consortium of local real estate developers, sports enthusiasts, and seasoned facility operators. We have brought together expertise in engineering, architecture, and sports management to deliver an exceptional facility.",about_team_credits:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation",facilities_title:"Facilities at a Glance",facilities_subtitle:'The complex is engineered for high-performance sports and comfortable recreation. Click "View details" for the dedicated facility pages.',facilities_cta:"Check Court Availability",facilities_cta_url:"/booking",membership_title:"Membership & Pricing",membership_subtitle:"Choose the membership tier that fits your lifestyle. All members enjoy priority booking, exclusive discounts, and access to our world-class facilities.",membership_cta:"Inquire Now",membership_cta_url:"/membership",membership_comparison_title:"Quick Comparison",membership_footer:"Questions about membership? Contact us for more details or to discuss corporate packages.",membership_contact_cta:"Contact for Details",membership_contact_cta_url:"#contact",membership_terms_cta:"View Terms & Conditions",membership_terms_cta_url:"/terms",founding_tier_name:"Founding Member",founding_tier_label:"Limited & Exclusive",founding_tier_description:"For early supporters and investors who believe in our vision.",founding_tier_price:"PKR 35,000",founding_tier_period:"/month",founding_tier_features:"Lifetime priority booking (14-day window)|25% discount on all court bookings|10 guest passes per month|Permanent credit bonus (10%)|VIP parking & locker|Invitation to all exclusive events|Founding member recognition wall",gold_tier_name:"Gold Membership",gold_tier_label:"Premium Access",gold_tier_description:"For serious athletes and frequent players who want the best experience.",gold_tier_price:"PKR 15,000",gold_tier_period:"/month",gold_tier_features:"7-day advance booking window|20% discount on all court bookings|4 guest passes per month|Priority event registration|15% off coaching & clinics|Free equipment rental (2x/month)|Access to member lounge",silver_tier_name:"Silver Membership",silver_tier_label:"Standard Access",silver_tier_description:"Perfect for recreational players who want regular access at great value.",silver_tier_price:"PKR 5,000",silver_tier_period:"/month",silver_tier_features:"5-day advance booking window|10% discount on off-peak bookings|2 guest passes per month|10% off coaching & clinics|Member newsletter & updates|Discounted event entry",guest_tier_name:"Pay-to-Play",guest_tier_label:"Non-Member Access",guest_tier_description:"Try our facilities without commitment. Subject to availability.",guest_tier_price:"Standard",guest_tier_price_suffix:" rates",guest_tier_features:"2-day advance booking window|Access after member priority|Equipment rental available|Guest registration required|Can be upgraded to membership",contact_title:"Contact & Early Interest",contact_subtitle:"Connect with Our Development Team: Use the form to subscribe to our construction updates, inquire about corporate partnerships, or apply for our pre-launch membership waitlist.",contact_form_title:"Early Interest Form",contact_form_subtitle:"Submit your interest below and we'll keep you updated on our progress and launch.",contact_name_label:"Your Name",contact_email_label:"Your Email",contact_message_label:"Your Message/Interest (e.g., Padel Coaching, Corporate Event, Career Inquiry)",contact_submit:"Send Message",contact_email:"info@thequarterdeck.pk",contact_phone:"+92 51 1234567",contact_address:"Sector F-7, Islamabad, Pakistan",contact_socials_title:"Socials & Location",contact_socials_subtitle:"Follow our official channels for the most recent updates and progress photos:",contact_site_status_title:"Site Status",contact_site_status:"The complex is currently under active construction. No public access or walk-ins are permitted for safety reasons. All updates will be digital.",updates_title:"Construction Updates",updates_subtitle:"Transparent updates on progress, timeline, and achievements. Hover over each phase to see milestones.",updates_cta:"View Full Roadmap",updates_cta_url:"/roadmap",gallery_title:"Gallery & Progress Photos",gallery_subtitle:"Visual updates from the construction site and architectural renders of the completed facility.",gallery_cta:"View Full Gallery",gallery_cta_url:"/gallery",rules_title:"Rules & Safety Protocols",rules_subtitle:"Ensuring a safe, respectful, and high-quality environment for all members and guests. These are our key rules.",rules_cta:"View All Rules",rules_cta_url:"/rules",careers_title:"Careers at The Quarterdeck",careers_subtitle:"Join our team! We are looking for passionate, high-energy individuals to help us launch and run Islamabad's premier sports complex.",careers_cta:"View Open Positions",careers_cta_url:"/careers",events_title:"Events & Programs",events_subtitle:"Join tournaments, training academies, and social events at The Quarterdeck.",leaderboard_title:"Leaderboard",leaderboard_subtitle:"Track your progress and compete with fellow members.",footer_tagline:"Pakistan's Premier Sports & Recreation Complex",footer_copyright:"2024 The Quarterdeck. All rights reserved.",footer_quick_links_title:"Quick Links",footer_facilities_title:"Facilities",footer_legal_title:"Legal",social_instagram:"https://instagram.com/thequarterdeck",social_facebook:"https://facebook.com/thequarterdeck",social_linkedin:"https://linkedin.com/company/thequarterdeck",coming_soon_title:"Something Amazing Is Coming",coming_soon_subtitle:"Opening December 2025: Padel Courts & Cafe/Bar. Construction continues through 2026 for our 3-floor building with Multipurpose Hall & Air Rifle Range.",coming_soon_description:"The Quarterdeck will feature world-class Padel Tennis courts, Squash facilities, an Air Rifle Range, Multipurpose Hall, and an Open Cafe/Bar experience.",coming_soon_cta:"Join the Waitlist",coming_soon_cta_url:"#contact",coming_soon_progress_label:"Construction Progress",coming_soon_launch_date:"2025-12-25",coming_soon_location:"Islamabad, Pakistan",site_name:"The Quarterdeck",site_tagline:"Sports & Recreation Complex",site_launch_status:"pre-launch",navbar_book_now:"Book Now",navbar_login:"Log In",navbar_signup:"Sign Up",navbar_profile:"Profile",navbar_logout:"Log Out",navbar_admin:"Admin",navbar_dashboard:"Dashboard",footer_about_title:"About The Quarterdeck",footer_about_text:"Pakistan's premier indoor sports and recreation complex, featuring world-class Padel Tennis, Squash, Air Rifle Range, and more.",footer_newsletter_title:"Stay Updated",footer_newsletter_placeholder:"Enter your email",footer_newsletter_button:"Subscribe",footer_address_title:"Visit Us",footer_hours_title:"Opening Hours",footer_hours_weekday:"Mon-Fri: 10:00 AM - 10:00 PM",footer_hours_weekend:"Sat-Sun: 9:00 AM - 11:00 PM",footer_privacy_link:"Privacy Policy",footer_terms_link:"Terms of Service",footer_refund_link:"Refund Policy",booking_title:"Book a Court",booking_subtitle:"Select your facility, date, and time slot",booking_select_venue:"Select Venue",booking_select_facility:"Select Facility",booking_select_date:"Select Date",booking_select_time:"Select Time",booking_select_court:"Select Court",booking_duration_label:"Duration",booking_addons_title:"Add-ons",booking_summary_title:"Booking Summary",booking_confirm_button:"Confirm Booking",booking_cancel_button:"Cancel",booking_payment_title:"Payment Method",booking_no_slots:"No available slots for this date",booking_login_required:"Please log in to book",countdown_days:"Days",countdown_hours:"Hours",countdown_minutes:"Minutes",countdown_seconds:"Seconds",btn_learn_more:"Learn More",btn_view_all:"View All",btn_submit:"Submit",btn_cancel:"Cancel",btn_save:"Save Changes",btn_close:"Close",btn_back:"Go Back",btn_next:"Next",btn_previous:"Previous",whatsapp_phone:"+923001234567",whatsapp_button_text:"Chat on WhatsApp",whatsapp_button_visible:"true",whatsapp_default_message:"Hello, I have a question about The Quarterdeck.",empty_bookings:"You have no bookings yet.",empty_events:"No events scheduled at this time.",empty_leaderboard:"Leaderboard will be available after launch.",page_facilities_title:"Our Facilities",page_facilities_subtitle:"World-class sports and recreation facilities designed for excellence in Islamabad",page_facilities_ready_title:"Ready to Book?",page_facilities_ready_description:"Members can book facilities through our online booking system. Log in to access all our premium facilities and exclusive member benefits.",page_facilities_book_cta:"Book Now",page_facilities_contact_cta:"Contact Us",page_membership_title:"Membership",page_membership_subtitle:"Join The Quarterdeck community and unlock exclusive benefits, priority booking, and member-only perks.",page_membership_why_title:"Why Become a Member?",page_membership_why_description:"Enjoy exclusive access to world-class facilities, priority booking, and a vibrant community of sports enthusiasts.",page_membership_tiers_title:"Membership Tiers",page_membership_tiers_description:"Choose the membership tier that best fits your lifestyle and sports goals.",page_membership_ready_title:"Ready to Join?",page_membership_ready_description:"Create your account and choose your membership tier to start enjoying exclusive benefits today.",page_membership_create_cta:"Create Account",page_membership_contact_cta:"Contact Us",page_contact_title:"Contact Us",page_contact_subtitle:"Get in touch with The Quarterdeck team. We're here to help with bookings, memberships, and any questions you may have.",page_contact_form_title:"Send Us a Message",page_contact_success_title:"Thank You!",page_contact_success_message:"Your message has been sent successfully. We'll respond within 24-48 hours.",page_contact_info_title:"Contact Information",page_contact_social_title:"Follow Us",page_contact_faq_title:"Frequently Asked",page_careers_title:"Join Our Team",page_careers_subtitle:"Be part of Islamabad's premier sports and recreation destination",page_careers_benefits_title:"Why Work With Us",page_careers_positions_title:"Open Positions",page_careers_apply_cta:"Apply Now",page_careers_no_positions:"No open positions at this time. Check back soon!",page_events_title:"Events & Academies",page_events_subtitle:"Tournaments, leagues, and training programs",page_events_upcoming_title:"Upcoming Events",page_events_no_events:"No events scheduled at this time. Check back soon!",page_events_register_cta:"Register Now",page_gallery_title:"Gallery & Progress",page_gallery_subtitle:"Explore architectural renders, construction updates, and facility photos from The Quarterdeck sports complex.",page_gallery_construction_title:"Construction Progress",page_gallery_renders_title:"Architectural Renders",page_leaderboard_title:"Leaderboard",page_leaderboard_subtitle:"Top players across all sports at The Quarterdeck",page_leaderboard_top_players:"Top Players",page_leaderboard_coming_soon:"Leaderboard will be available after launch.",page_roadmap_title:"Development Roadmap",page_roadmap_subtitle:"Follow our journey from groundbreaking to grand opening",page_roadmap_timeline_title:"Construction Timeline",page_rules_title:"Rules & Safety",page_rules_subtitle:"For the safety and enjoyment of all members, please familiarize yourself with our facility rules",page_rules_general_title:"General Rules",page_rules_safety_title:"Safety Guidelines",page_faq_title:"Frequently Asked Questions",page_faq_subtitle:"Find answers to common questions about The Quarterdeck, memberships, bookings, and more.",page_faq_contact_cta:"Still have questions? Contact us",page_vision_title:"Our Vision",page_vision_subtitle:"Building Islamabad's premier sports and recreation destination",page_vision_mission_title:"Our Mission",page_vision_values_title:"Our Values",page_privacy_title:"Privacy Policy",page_privacy_subtitle:"Last updated: December 2025",page_terms_title:"Terms & Conditions",page_terms_subtitle:"Last updated: December 2025",page_booking_title:"Book a Court",page_booking_subtitle:"Select your facility, date, and time slot",page_booking_login_required:"Please log in to book",page_booking_select_facility:"Select Facility",error_generic:"Something went wrong. Please try again.",error_network:"Unable to connect. Please check your internet connection.",error_auth_required:"Please log in to continue.",error_permission_denied:"You do not have permission to access this.",section_about_visible:"true",section_facilities_visible:"true",section_updates_visible:"true",section_gallery_visible:"true",section_membership_visible:"true",section_rules_visible:"true",section_careers_visible:"true",section_about_order:"1",section_facilities_order:"2",section_updates_order:"3",section_gallery_order:"4",section_membership_order:"5",section_rules_order:"6",section_careers_order:"7"};function Dse(e,t=!0){return e===void 0||e===""?t:e.toLowerCase()==="true"}const lO="/assets/padel_tennis_court_i_37ae0ba3-BrkfenoQ.jpg";function Lse(){const[e,t]=v.useState({days:0,hours:0,minutes:0,seconds:0}),{data:r=[]}=de({queryKey:["/api/cms/bulk"],queryFn:async()=>{const S=await(await fetch("/api/cms/bulk")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),{data:n=[],isLoading:a}=de({queryKey:["/api/construction-phases"],queryFn:async()=>{const S=await(await fetch("/api/construction-phases")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),{data:i=[]}=de({queryKey:["/api/site-images","landing"],queryFn:async()=>{const S=await(await fetch("/api/site-images?page=landing")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),o=v.useMemo(()=>{if(!Array.isArray(i))return lO;const N=i.find(S=>S.section==="hero"&&S.isActive);return(N==null?void 0:N.imageUrl)||lO},[i]),l=v.useMemo(()=>[...n].sort((N,S)=>N.sortOrder-S.sortOrder),[n]),c=v.useMemo(()=>l.find(N=>N.isActive)||l[0],[l]),u=v.useMemo(()=>l.length===0?0:l.reduce((N,S)=>N+S.progress,0)/l.length,[l]),d=N=>{const S=r.find(C=>C.key===N);return(S==null?void 0:S.content)||Ee[N]||""},f=d("hero_launch_date")||"2026-10-01";v.useEffect(()=>{const N=new Date(`${f}T00:00:00`),S=()=>{const P=new Date,k=N.getTime()-P.getTime();if(k>0){const E=Math.floor(k/864e5),T=Math.floor(k%(1e3*60*60*24)/(1e3*60*60)),I=Math.floor(k%(1e3*60*60)/(1e3*60)),R=Math.floor(k%(1e3*60)/1e3);t({days:E,hours:T,minutes:I,seconds:R})}};S();const C=setInterval(S,1e3);return()=>clearInterval(C)},[f]);const h=d("hero_title")||Ee.hero_title,p=d("hero_subtitle")||Ee.hero_subtitle,y=d("hero_eyebrow")||Ee.hero_eyebrow,m=d("hero_cta_1")||"Explore Facilities",w=d("hero_cta_1_url")||Ee.hero_cta_1_url||"/facilities",g=d("hero_cta_2")||"View Site Updates",x=d("hero_cta_2_url")||Ee.hero_cta_2_url||"/roadmap",b=d("hero_status_active")||Ee.hero_status_active,j=d("hero_status_updates")||Ee.hero_status_updates,_=d("hero_status_booking")||Ee.hero_status_booking;return s.jsxs("section",{id:"hero",className:"qd-section pt-12 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${o})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/95 via-white/90 to-white/70 dark:from-slate-900/95 dark:via-slate-900/90 dark:to-slate-900/70"}),s.jsx("div",{className:"qd-container relative z-10",children:s.jsxs("div",{className:"qd-hero-grid",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"qd-eyebrow",children:[s.jsx("span",{className:"qd-eyebrow-dot"})," ",y]}),s.jsx("h1",{className:"qd-hero-title","data-testid":"text-hero-title",dangerouslySetInnerHTML:{__html:h}}),s.jsx("p",{className:"text-muted-foreground max-w-lg mb-6 text-sm sm:text-base","data-testid":"text-hero-subtitle",children:p}),s.jsxs("div",{className:"qd-countdown",children:[s.jsx("div",{className:"text-xs uppercase tracking-widest text-muted-foreground font-semibold",children:"Estimated Launch Countdown"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-3 font-mono flex-wrap justify-center sm:justify-start","data-testid":"countdown-timer",children:[s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.days}),s.jsx("span",{className:"qd-countdown-label",children:"Days"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.hours}),s.jsx("span",{className:"qd-countdown-label",children:"Hours"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.minutes}),s.jsx("span",{className:"qd-countdown-label",children:"Mins"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.seconds}),s.jsx("span",{className:"qd-countdown-label",children:"Secs"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[s.jsx(me,{href:w,children:s.jsx(M,{className:"rounded-full px-6","data-testid":"button-explore-facilities",children:m})}),s.jsx(me,{href:x,children:s.jsx(M,{variant:"outline",className:"rounded-full px-6","data-testid":"button-view-updates",children:g})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-6 text-[10px] sm:text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1 sm:gap-2","data-testid":"status-construction-active",children:[s.jsx("span",{className:"qd-status-dot"})," ",b]}),s.jsx("span",{"data-testid":"status-updates",children:j}),s.jsx("span",{"data-testid":"status-booking",children:_})]})]}),s.jsx("aside",{children:s.jsxs("div",{className:"qd-hero-card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("div",{className:"text-sm uppercase tracking-widest text-muted-foreground",children:"Construction Status"}),a?s.jsx($e,{className:"h-6 w-20 rounded-full"}):c?s.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-blue-50 dark:bg-blue-900/30 text-slate-800 dark:text-blue-200 font-semibold uppercase tracking-wide",children:c.label}):s.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-gray-100 dark:bg-slate-700 text-muted-foreground font-semibold uppercase tracking-wide",children:"Planning"})]}),a?s.jsxs(s.Fragment,{children:[s.jsx($e,{className:"h-4 w-full mb-2"}),s.jsx($e,{className:"h-3 w-full rounded-full"}),s.jsx($e,{className:"h-12 w-full mt-4"})]}):c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-2",children:[s.jsxs("span",{children:[c.label,": ",c.title]}),s.jsxs("span",{children:[c.progress,"% Complete"]})]}),s.jsx("div",{className:"qd-progress-track",children:s.jsx("div",{className:"qd-progress-fill",style:{width:`${c.progress}%`}})}),c.highlights&&c.highlights.length>0&&s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:c.highlights[0]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5",children:[s.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"}),s.jsxs("div",{className:"font-semibold text-sm",children:[l.filter(N=>N.isComplete).length," phases"]})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Overall"}),s.jsxs("div",{className:"font-semibold text-sm",children:[Math.round(u),"% done"]})]})]})]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Construction timeline will be available soon."})]})})]})})]})}function Fse(){const{getValue:e}=Fr(["about_title","about_subtitle","about_cta","about_cta_url","about_vision_title","about_vision_content","about_vision_content_2","about_tags","about_team_title","about_team_content","about_team_credits"],Ee),t=(e("about_tags")||Ee.about_tags).split(",").map(n=>n.trim()),r=(e("about_team_credits")||Ee.about_team_credits).split("|").map(n=>n.trim());return s.jsx("section",{id:"about",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-about-title",children:e("about_title")||Ee.about_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("about_subtitle")||Ee.about_subtitle})]}),s.jsx(me,{href:e("about_cta_url")||Ee.about_cta_url||"/vision",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-see-vision",children:e("about_cta")||Ee.about_cta})})]}),s.jsxs("div",{className:"qd-dev-grid",children:[s.jsxs("div",{className:"qd-info-card",children:[s.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_vision_title")||Ee.about_vision_title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_vision_content")||Ee.about_vision_content}),s.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:e("about_vision_content_2")||Ee.about_vision_content_2}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-5",children:t.map((n,a)=>s.jsx("span",{className:"qd-tag",children:n},a))})]}),s.jsxs("div",{className:"qd-info-card",children:[s.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_team_title")||Ee.about_team_title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_team_content")||Ee.about_team_content}),s.jsx("ul",{className:"list-disc list-inside mt-4 text-sm space-y-1 text-muted-foreground",children:r.map((n,a)=>s.jsx("li",{children:n},a))})]})]})]})})}var ZF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cO=L.createContext&&L.createContext(ZF),Use=["attr","size","title"];function Bse(e,t){if(e==null)return{};var r=Vse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kv.apply(this,arguments)}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){qse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qse(e,t,r){return t=zse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zse(e){var t=Wse(e,"string");return typeof t=="symbol"?t:t+""}function Wse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e6(e){return e&&e.map((t,r)=>L.createElement(t.tag,Cv({key:r},t.attr),e6(t.child)))}function to(e){return t=>L.createElement(Kse,kv({attr:Cv({},e.attr)},t),e6(e.child))}function Kse(e){var t=r=>{var{attr:n,size:a,title:i}=e,o=Bse(e,Use),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),L.createElement("svg",kv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Cv(Cv({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&L.createElement("title",null,i),e.children)};return cO!==void 0?L.createElement(cO.Consumer,null,r=>t(r)):t(ZF)}function Gp(e){return to({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23.05 23.05V488.9H488.9V23.05zm17.9 17.9H471.1V471.1H40.95z"},child:[]}]})(e)}function nl(e){return to({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M365.6 31c-6.6 0-13.2.6-19.7 1.59-34.5 5.44-66.5 23.14-88.3 44.96-28.8 28.85-49.6 70.85-58.4 111.65-1.6 6.7-2.6 13.6-3.5 20.4L162.2 334l15.8 15.8 124.3-33.5c6.8-.9 13.7-2 20.5-3.5 40.8-8.8 82.8-29.6 111.6-58.4 21.9-21.9 39.6-53.9 45-88.4 5.2-34.5-2.4-72.3-31.9-101.71-23.8-23.93-53.1-33.44-81.9-33.29zm.1 19.29c24.3-.28 47.9 7.49 68.2 27.71 25 24.9 31 55.2 26.3 85-4.6 29.9-20.7 58.8-39.5 77.6-25.4 25.4-64.7 45.2-102 53.2-37.2 8.2-71.2 3.8-87.8-12.9-16.5-16.5-20.9-50.4-12.8-87.7 8.1-37.2 27.8-76.6 53.3-101.94 18.7-18.78 47.7-34.84 77.6-39.55 5.5-.88 11.2-1.36 16.7-1.42zm-166 214.81c3.7 11.3 9.3 21.5 17.5 29.5 8.1 8.2 18.2 14 29.5 17.6l-63 16zm-50.3 83.6L50 448.2l-5.25-5.1-13.71 13.7L55.41 481l13.7-13.6-5.41-5.4 99.5-99.6zm211 45.1c-19.5 0-35.6 16-35.6 35.5s16.1 35.5 35.6 35.5c19.4 0 35.5-16 35.5-35.5s-16.1-35.5-35.5-35.5z"},child:[]}]})(e)}function Hse(e){return Object.prototype.toString.call(e)==="[object Object]"}function dO(e){return Hse(e)||Array.isArray(e)}function Gse(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function c2(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!dO(l)||!dO(c)?l===c:c2(l,c)})}function fO(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function Qse(e,t){if(e.length!==t.length)return!1;const r=fO(e),n=fO(t);return r.every((a,i)=>{const o=n[i];return c2(a,o)})}function u2(e){return typeof e=="number"}function CN(e){return typeof e=="string"}function Lb(e){return typeof e=="boolean"}function hO(e){return Object.prototype.toString.call(e)==="[object Object]"}function kr(e){return Math.abs(e)}function d2(e){return Math.sign(e)}function zh(e,t){return kr(e-t)}function Yse(e,t){if(e===0||t===0||kr(e)<=kr(t))return 0;const r=zh(kr(e),kr(t));return kr(r/e)}function Xse(e){return Math.round(e*100)/100}function $m(e){return Dm(e).map(Number)}function $a(e){return e[Qp(e)]}function Qp(e){return Math.max(0,e.length-1)}function f2(e,t){return t===Qp(e)}function mO(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function Dm(e){return Object.keys(e)}function t6(e,t){return[e,t].reduce((r,n)=>(Dm(n).forEach(a=>{const i=r[a],o=n[a],l=hO(i)&&hO(o);r[a]=l?t6(i,o):o}),r),{})}function PN(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Jse(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return t-c}function o(c,u){return CN(e)?r[e](c):e(t,c,u)}return{measure:o}}function Lm(){let e=[];function t(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function Zse(e,t,r,n){const a=Lm(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){p(),a.clear()}function f(w){if(!c)return;o||(o=w,r(),r());const g=w-o;for(o=w,l+=g;l>=i;)r(),l-=i;const x=l/i;n(x),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function y(){o=null,l=0}return{init:u,destroy:d,start:h,stop:p,update:r,render:n}}function eae(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(y){const{height:m,width:w}=y;return n?m:w}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function h(y){return y*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:h}}function vc(e=0,t=0){const r=kr(e-t);function n(u){return u<e}function a(u){return u>t}function i(u){return n(u)||a(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function r6(e,t,r){const{constrain:n}=vc(0,e),a=e+1;let i=o(t);function o(h){return r?kr((a+h)%a):n(h)}function l(){return i}function c(h){return i=o(h),f}function u(h){return d().set(l()+h)}function d(){return r6(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function tae(e,t,r,n,a,i,o,l,c,u,d,f,h,p,y,m,w,g,x){const{cross:b,direction:j}=e,_=["INPUT","SELECT","TEXTAREA"],N={passive:!1},S=Lm(),C=Lm(),P=vc(50,225).constrain(p.measure(20)),k={mouse:300,touch:400},E={mouse:500,touch:600},T=y?43:25;let I=!1,R=0,D=0,O=!1,z=!1,A=!1,$=!1;function Q(G){if(!x)return;function B(Xe){(Lb(x)||x(G,Xe))&&pe(Xe)}const ge=t;S.add(ge,"dragstart",Xe=>Xe.preventDefault(),N).add(ge,"touchmove",()=>{},N).add(ge,"touchend",()=>{}).add(ge,"touchstart",B).add(ge,"mousedown",B).add(ge,"touchcancel",be).add(ge,"contextmenu",be).add(ge,"click",ie,!0)}function X(){S.clear(),C.clear()}function F(){const G=$?r:t;C.add(G,"touchmove",te,N).add(G,"touchend",be).add(G,"mousemove",te,N).add(G,"mouseup",be)}function J(G){const B=G.nodeName||"";return _.includes(B)}function q(){return(y?E:k)[$?"mouse":"touch"]}function ee(G,B){const ge=f.add(d2(G)*-1),Xe=d.byDistance(G,!y).distance;return y||kr(G)<P?Xe:w&&B?Xe*.5:d.byIndex(ge.get(),0).distance}function pe(G){const B=PN(G,n);$=B,A=y&&B&&!G.buttons&&I,I=zh(a.get(),o.get())>=2,!(B&&G.button!==0)&&(J(G.target)||(O=!0,i.pointerDown(G),u.useFriction(0).useDuration(0),a.set(o),F(),R=i.readPoint(G),D=i.readPoint(G,b),h.emit("pointerDown")))}function te(G){if(!PN(G,n)&&G.touches.length>=2)return be(G);const ge=i.readPoint(G),Xe=i.readPoint(G,b),at=zh(ge,R),pt=zh(Xe,D);if(!z&&!$&&(!G.cancelable||(z=at>pt,!z)))return be(G);const Ft=i.pointerMove(G);at>m&&(A=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(j(Ft)),G.preventDefault()}function be(G){const ge=d.byDistance(0,!1).index!==f.get(),Xe=i.pointerUp(G)*q(),at=ee(j(Xe),ge),pt=Yse(Xe,at),Ft=T-10*pt,Be=g+pt/50;z=!1,O=!1,C.clear(),u.useDuration(Ft).useFriction(Be),c.distance(at,!y),$=!1,h.emit("pointerUp")}function ie(G){A&&(G.stopPropagation(),G.preventDefault(),A=!1)}function U(){return O}return{init:Q,destroy:X,pointerDown:U}}function rae(e,t){let n,a;function i(f){return f.timeStamp}function o(f,h){const y=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(PN(f,t)?f:f.touches[0])[y]}function l(f){return n=f,a=f,o(f)}function c(f){const h=o(f)-o(a),p=i(f)-i(n)>170;return a=f,p&&(n=f),h}function u(f){if(!n||!a)return 0;const h=o(a)-o(n),p=i(f)-i(n),y=i(f)-i(a)>170,m=h/p;return p&&!y&&kr(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function nae(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function sae(e){function t(n){return e*(n/100)}return{measure:t}}function aae(e,t,r,n,a,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function h(w){return a.measureSize(o.measure(w))}function p(w){if(!i)return;u=h(e),d=n.map(h);function g(x){for(const b of x){if(f)return;const j=b.target===e,_=n.indexOf(b.target),N=j?u:d[_],S=h(j?e:n[_]);if(kr(S-N)>=.5){w.reInit(),t.emit("resize");break}}}c=new ResizeObserver(x=>{(Lb(i)||i(w,x))&&g(x)}),r.requestAnimationFrame(()=>{l.forEach(x=>c.observe(x))})}function y(){f=!0,c&&c.disconnect()}return{init:p,destroy:y}}function iae(e,t,r,n,a,i){let o=0,l=0,c=a,u=i,d=e.get(),f=0;function h(){const N=n.get()-e.get(),S=!c;let C=0;return S?(o=0,r.set(n),e.set(n),C=N):(r.set(e),o+=N/c,o*=u,d+=o,e.add(o),C=d-f),l=d2(C),f=d,_}function p(){const N=n.get()-t.get();return kr(N)<.001}function y(){return c}function m(){return l}function w(){return o}function g(){return b(a)}function x(){return j(i)}function b(N){return c=N,_}function j(N){return u=N,_}const _={direction:m,duration:y,velocity:w,seek:h,settled:p,useBaseFriction:x,useBaseDuration:g,useFriction:j,useDuration:b};return _}function oae(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),l=vc(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const y=e.reachedMin(t.get())?"min":"max",m=kr(e[y]-t.get()),w=r.get()-t.get(),g=l.constrain(m/o);r.subtract(w*g),!p&&kr(w)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function lae(e,t,r,n,a){const i=vc(-t+e,0),o=f(),l=d(),c=h();function u(y,m){return zh(y,m)<=1}function d(){const y=o[0],m=$a(o),w=o.lastIndexOf(y),g=o.indexOf(m)+1;return vc(w,g)}function f(){return r.map((y,m)=>{const{min:w,max:g}=i,x=i.constrain(y),b=!m,j=f2(r,m);return b?g:j||u(w,x)?w:u(g,x)?g:x}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:y,max:m}=l;return o.slice(y,m)}return{snapsContained:c,scrollContainLimit:l}}function cae(e,t,r){const n=t[0],a=r?n-e:$a(t);return{limit:vc(a,n)}}function uae(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=vc(i,o);function u(h){return h===1?c(r.get()):h===-1?l(r.get()):!1}function d(h){if(!u(h))return;const p=e*(h*-1);n.forEach(y=>y.add(p))}return{loop:d}}function dae(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function fae(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=a,c=f().map(t.measure),u=h(),d=p();function f(){return l(n).map(m=>$a(m)[o]-m[0][i]).map(kr)}function h(){return n.map(m=>r[i]-m[i]).map(m=>-kr(m))}function p(){return l(u).map(m=>m[0]).map((m,w)=>m+c[w])}return{snaps:u,snapsAligned:d}}function hae(e,t,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,u=d();function d(){const h=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?h:h.slice(l,c).map((y,m,w)=>{const g=!m,x=f2(w,m);if(g){const b=$a(w[0])+1;return mO(b)}if(x){const b=Qp(i)-$a(w)[0]+1;return mO(b,$a(w)[0])}return y})}return{slideRegistry:u}}function mae(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(y){return y.concat().sort((m,w)=>kr(m)-kr(w))[0]}function u(y){const m=e?o(y):l(y),w=t.map((x,b)=>({diff:d(x-m,0),index:b})).sort((x,b)=>kr(x.diff)-kr(b.diff)),{index:g}=w[0];return{index:g,distance:m}}function d(y,m){const w=[y,y+r,y-r];if(!e)return y;if(!m)return c(w);const g=w.filter(x=>d2(x)===m);return g.length?c(g):$a(w)-r}function f(y,m){const w=t[y]-a.get(),g=d(w,m);return{index:y,distance:g}}function h(y,m){const w=a.get()+y,{index:g,distance:x}=u(w),b=!e&&i(w);if(!m||b)return{index:g,distance:y};const j=t[g]-x,_=y+d(j,0);return{index:g,distance:_}}return{byDistance:h,byIndex:f,shortcut:d}}function pae(e,t,r,n,a,i,o){function l(f){const h=f.distance,p=f.index!==t.get();i.add(h),h&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,h){const p=a.byDistance(f,h);l(p)}function u(f,h){const p=t.clone().set(f),y=a.byIndex(p.get(),h);l(y)}return{distance:c,index:u}}function gae(e,t,r,n,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function y(m){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const x=r.findIndex(b=>b.includes(m));u2(x)&&(a.useDuration(0),n.index(x,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((m,w)=>{i.add(m,"focus",g=>{(Lb(l)||l(p,g))&&y(w)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function kh(e){let t=e;function r(){return t}function n(c){t=o(c)}function a(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return u2(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function n6(e,t){const r=e.scroll==="x"?o:l,n=t.style;let a=null,i=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(i)return;const p=Xse(e.direction(h));p!==a&&(n.transform=r(p),a=p)}function u(h){i=!h}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function xae(e,t,r,n,a,i,o,l,c){const d=$m(a),f=$m(a).reverse(),h=g().concat(x());function p(S,C){return S.reduce((P,k)=>P-a[k],C)}function y(S,C){return S.reduce((P,k)=>p(P,C)>0?P.concat([k]):P,[])}function m(S){return i.map((C,P)=>({start:C-n[P]+.5+S,end:C+t-.5+S}))}function w(S,C,P){const k=m(C);return S.map(E=>{const T=P?0:-r,I=P?r:0,R=P?"end":"start",D=k[E][R];return{index:E,loopPoint:D,slideLocation:kh(-1),translate:n6(e,c[E]),target:()=>l.get()>D?T:I}})}function g(){const S=o[0],C=y(f,S);return w(C,r,!1)}function x(){const S=t-o[0]-1,C=y(d,S);return w(C,-r,!0)}function b(){return h.every(({index:S})=>{const C=d.filter(P=>P!==S);return p(C,t)<=.1})}function j(){h.forEach(S=>{const{target:C,translate:P,slideLocation:k}=S,E=C();E!==k.get()&&(P.to(E),k.set(E))})}function _(){h.forEach(S=>S.translate.clear())}return{canLoop:b,clear:_,loop:j,loopPoints:h}}function vae(e,t,r){let n,a=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{a||(Lb(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function yae(e,t,r,n){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(m=>{const w=t.indexOf(m.target);a[w]=m}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function f(y){return Dm(a).reduce((m,w)=>{const g=parseInt(w),{isIntersecting:x}=a[g];return(y&&x||!y&&!x)&&m.push(g),m},[])}function h(y=!0){if(y&&i)return i;if(!y&&o)return o;const m=f(y);return y&&(i=m),y||(o=m),m}return{init:u,destroy:d,get:h}}function bae(e,t,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&a,d=y(),f=m(),h=r.map(o),p=w();function y(){if(!u)return 0;const x=r[0];return kr(t[l]-x[l])}function m(){if(!u)return 0;const x=i.getComputedStyle($a(n));return parseFloat(x.getPropertyValue(`margin-${c}`))}function w(){return r.map((x,b,j)=>{const _=!b,N=f2(j,b);return _?h[b]+d:N?h[b]+f:j[b+1][l]-x[l]}).map(kr)}return{slideSizes:h,slideSizesWithGaps:p,startGap:d,endGap:f}}function wae(e,t,r,n,a,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,h=u2(r);function p(g,x){return $m(g).filter(b=>b%x===0).map(b=>g.slice(b,b+x))}function y(g){return g.length?$m(g).reduce((x,b,j)=>{const _=$a(x)||0,N=_===0,S=b===Qp(g),C=a[u]-i[_][u],P=a[u]-i[b][d],k=!n&&N?f(o):0,E=!n&&S?f(l):0,T=kr(P-E-(C+k));return j&&T>t+c&&x.push(b),S&&x.push(g.length),x},[]).map((x,b,j)=>{const _=Math.max(j[b-1]||0);return g.slice(_,x)}):[]}function m(g){return h?p(g,r):y(g)}return{groupSlides:m}}function jae(e,t,r,n,a,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:p,dragThreshold:y,inViewThreshold:m,slidesToScroll:w,skipSnaps:g,containScroll:x,watchResize:b,watchSlides:j,watchDrag:_,watchFocus:N}=i,S=2,C=nae(),P=C.measure(t),k=r.map(C.measure),E=eae(c,u),T=E.measureSize(P),I=sae(T),R=Jse(l,T),D=!f&&!!x,O=f||!!x,{slideSizes:z,slideSizesWithGaps:A,startGap:$,endGap:Q}=bae(E,P,k,r,O,a),X=wae(E,T,w,f,P,k,$,Q,S),{snaps:F,snapsAligned:J}=fae(E,R,P,k,X),q=-$a(F)+$a(A),{snapsContained:ee,scrollContainLimit:pe}=lae(T,q,J,x,S),te=D?ee:J,{limit:be}=cae(q,te,f),ie=r6(Qp(te),d,f),U=ie.clone(),le=$m(r),G=({dragHandler:Nr,scrollBody:zs,scrollBounds:wn,options:{loop:Wa}})=>{Wa||wn.constrain(Nr.pointerDown()),zs.seek()},B=({scrollBody:Nr,translate:zs,location:wn,offsetLocation:Wa,previousLocation:oo,scrollLooper:vl,slideLooper:yl,dragHandler:Xc,animation:vs,eventHandler:lo,scrollBounds:cg,options:{loop:Jc}},ug)=>{const Zc=Nr.settled(),qf=!cg.shouldConstrain(),dg=Jc?Zc:Zc&&qf,zf=dg&&!Xc.pointerDown();zf&&vs.stop();const rw=wn.get()*ug+oo.get()*(1-ug);Wa.set(rw),Jc&&(vl.loop(Nr.direction()),yl.loop()),zs.to(Wa.get()),zf&&lo.emit("settle"),dg||lo.emit("scroll")},ge=Zse(n,a,()=>G(Tt),Nr=>B(Tt,Nr)),Xe=.68,at=te[ie.get()],pt=kh(at),Ft=kh(at),Be=kh(at),Vr=kh(at),K=iae(pt,Be,Ft,Vr,h,Xe),Z=mae(f,te,q,be,Vr),ae=pae(ge,ie,U,K,Z,Vr,o),Ae=dae(be),Se=Lm(),_e=yae(t,r,o,m),{slideRegistry:ze}=hae(D,x,te,pe,X,le),$t=gae(e,r,ze,ae,K,Se,o,N),Tt={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:P,slideRects:k,animation:ge,axis:E,dragHandler:tae(E,e,n,a,Vr,rae(E,a),pt,ge,ae,K,Z,ie,o,I,p,y,g,Xe,_),eventStore:Se,percentOfView:I,index:ie,indexPrevious:U,limit:be,location:pt,offsetLocation:Be,previousLocation:Ft,options:i,resizeHandler:aae(t,o,a,r,E,b,C),scrollBody:K,scrollBounds:oae(be,Be,Vr,K,I),scrollLooper:uae(q,be,Be,[pt,Be,Ft,Vr]),scrollProgress:Ae,scrollSnapList:te.map(Ae.get),scrollSnaps:te,scrollTarget:Z,scrollTo:ae,slideLooper:xae(E,T,q,z,A,F,te,Be,r),slideFocus:$t,slidesHandler:vae(t,o,j),slidesInView:_e,slideIndexes:le,slideRegistry:ze,slidesToScroll:X,target:Vr,translate:n6(E,t)};return Tt}function Nae(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function a(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const _ae={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Sae(e){function t(i,o){return t6(i,o||{})}function r(i){const o=i.breakpoints||{},l=Dm(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>Dm(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function kae(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function Pv(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=Sae(a),o=kae(i),l=Lm(),c=Nae(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:h,off:p,emit:y}=c,m=E;let w=!1,g,x=u(_ae,Pv.globalOptions),b=u(x),j=[],_,N,S;function C(){const{container:le,slides:G}=b;N=(CN(le)?e.querySelector(le):le)||e.children[0];const ge=CN(G)?N.querySelectorAll(G):G;S=[].slice.call(ge||N.children)}function P(le){const G=jae(e,N,S,n,a,le,c);if(le.loop&&!G.slideLooper.canLoop()){const B=Object.assign({},le,{loop:!1});return P(B)}return G}function k(le,G){w||(x=u(x,le),b=d(x),j=G||j,C(),g=P(b),f([x,...j.map(({options:B})=>B)]).forEach(B=>l.add(B,"change",E)),b.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(U),g.eventHandler.init(U),g.resizeHandler.init(U),g.slidesHandler.init(U),g.options.loop&&g.slideLooper.loop(),N.offsetParent&&S.length&&g.dragHandler.init(U),_=o.init(U,j)))}function E(le,G){const B=X();T(),k(u({startIndex:B},le),G),c.emit("reInit")}function T(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),o.destroy(),l.clear()}function I(){w||(w=!0,l.clear(),T(),c.emit("destroy"),c.clear())}function R(le,G,B){!b.active||w||(g.scrollBody.useBaseFriction().useDuration(G===!0?0:b.duration),g.scrollTo.index(le,B||0))}function D(le){const G=g.index.add(1).get();R(G,le,-1)}function O(le){const G=g.index.add(-1).get();R(G,le,1)}function z(){return g.index.add(1).get()!==X()}function A(){return g.index.add(-1).get()!==X()}function $(){return g.scrollSnapList}function Q(){return g.scrollProgress.get(g.offsetLocation.get())}function X(){return g.index.get()}function F(){return g.indexPrevious.get()}function J(){return g.slidesInView.get()}function q(){return g.slidesInView.get(!1)}function ee(){return _}function pe(){return g}function te(){return e}function be(){return N}function ie(){return S}const U={canScrollNext:z,canScrollPrev:A,containerNode:be,internalEngine:pe,destroy:I,off:p,on:h,emit:y,plugins:ee,previousScrollSnap:F,reInit:m,rootNode:te,scrollNext:D,scrollPrev:O,scrollProgress:Q,scrollSnapList:$,scrollTo:R,selectedScrollSnap:X,slideNodes:ie,slidesInView:J,slidesNotInView:q};return k(t,r),setTimeout(()=>c.emit("init"),0),U}Pv.globalOptions=void 0;function h2(e={},t=[]){const r=v.useRef(e),n=v.useRef(t),[a,i]=v.useState(),[o,l]=v.useState(),c=v.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return v.useEffect(()=>{c2(r.current,e)||(r.current=e,c())},[e,c]),v.useEffect(()=>{Qse(n.current,t)||(n.current=t,c())},[t,c]),v.useEffect(()=>{if(Gse()&&o){Pv.globalOptions=h2.globalOptions;const u=Pv(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}h2.globalOptions=void 0;const s6=v.createContext(null);function Fb(){const e=v.useContext(s6);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Yp=v.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,u]=h2({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=v.useState(!1),[h,p]=v.useState(!1),y=v.useCallback(x=>{x&&(f(x.canScrollPrev()),p(x.canScrollNext()))},[]),m=v.useCallback(()=>{u==null||u.scrollPrev()},[u]),w=v.useCallback(()=>{u==null||u.scrollNext()},[u]),g=v.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),m()):x.key==="ArrowRight"&&(x.preventDefault(),w())},[m,w]);return v.useEffect(()=>{!u||!r||r(u)},[u,r]),v.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u==null||u.off("select",y)}},[u,y]),s.jsx(s6.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:w,canScrollPrev:d,canScrollNext:h},children:s.jsx("div",{ref:l,onKeyDownCapture:g,className:we("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});Yp.displayName="Carousel";const Xp=v.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=Fb();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:we("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});Xp.displayName="CarouselContent";const Jp=v.forwardRef(({className:e,...t},r)=>{const{orientation:n}=Fb();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:we("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});Jp.displayName="CarouselItem";const Cae=v.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=Fb();return s.jsxs(M,{ref:a,variant:t,size:r,className:we("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(kn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Cae.displayName="CarouselPrevious";const Pae=v.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=Fb();return s.jsxs(M,{ref:a,variant:t,size:r,className:we("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(cb,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});Pae.displayName="CarouselNext";const Eae={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Aae(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function Oae(e,t){const r=e.rootNode();return t&&t(r)||r}function _f(e={}){let t,r,n,a,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(R,D){r=R;const{mergeOptions:O,optionsAtMedia:z}=D,A=O(Eae,_f.globalOptions),$=O(A,e);if(t=z($),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,a=Aae(r,t.delay);const{eventStore:Q,ownerDocument:X}=r.internalEngine(),F=!!r.internalEngine().options.watchDrag,J=Oae(r,t.rootNode);Q.add(X,"visibilitychange",g),F&&r.on("pointerDown",b),F&&!t.stopOnInteraction&&r.on("pointerUp",j),t.stopOnMouseEnter&&Q.add(J,"mouseenter",_),t.stopOnMouseEnter&&!t.stopOnInteraction&&Q.add(J,"mouseleave",N),t.stopOnFocusIn&&r.on("slideFocusStart",w),t.stopOnFocusIn&&!t.stopOnInteraction&&Q.add(r.containerNode(),"focusout",m),t.playOnInit&&m()}function h(){r.off("pointerDown",b).off("pointerUp",j).off("slideFocusStart",w),w(),n=!0,l=!1}function p(){const{ownerWindow:R}=r.internalEngine();R.clearTimeout(o),o=R.setTimeout(E,a[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function y(){const{ownerWindow:R}=r.internalEngine();R.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function m(){if(!n){if(x()){u=!0;return}l||r.emit("autoplay:play"),p(),l=!0}}function w(){n||(l&&r.emit("autoplay:stop"),y(),l=!1)}function g(){if(x())return u=l,w();u&&m()}function x(){const{ownerDocument:R}=r.internalEngine();return R.visibilityState==="hidden"}function b(){c||w()}function j(){c||m()}function _(){c=!0,w()}function N(){c=!1,m()}function S(R){typeof R<"u"&&(d=R),m()}function C(){l&&w()}function P(){l&&m()}function k(){return l}function E(){const{index:R}=r.internalEngine(),D=R.clone().add(1).get(),O=r.scrollSnapList().length-1,z=t.stopOnLastSnap&&D===O;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),z)return w();m()}function T(){if(!i)return null;const R=a[r.selectedScrollSnap()],D=new Date().getTime()-i;return R-D}return{name:"autoplay",options:e,init:f,destroy:h,play:S,stop:C,reset:P,isPlaying:k,timeUntilNext:T}}_f.globalOptions=void 0;const Sf="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Ub="/assets/indoor_squash_court__c97e350b-C624hay8.jpg",m2="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",Bb="/assets/large_event_hall_int_39cfb773-D7tynaMB.jpg",Tae="/assets/elegant_card_game_ro_26fec1dc-B0OzwSTX.jpg",p2="/assets/modern_cafe_bar_inte_bc2874c0-DokhLEuU.jpg",Iae={GiTennisRacket:nl,GiSquare:Gp,Crosshair:$c,Building2:un,Coffee:Pk,Spade:mb},Rae={"padel-tennis":Sf,squash:Ub,"air-rifle-range":m2,"multipurpose-hall":Bb,"bridge-room":Tae,"cafe-bar":p2},pO=[{id:"padel",slug:"padel-tennis",name:"Padel Tennis",icon:nl,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"World-Class Padel Courts: Three premium glass-backed indoor Padel Courts optimized for competitive doubles play and available year-round, regardless of the weather.",footer:"3 courts planned",image:Sf},{id:"squash",slug:"squash",name:"Squash Court",icon:Gp,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"Dedicated Squash Facility: A single, premium-grade squash court built to international dimensions. Ideal for focused training, intense solo practice, and eventually, club ladder competitions.",footer:"Planned | 1 court",image:Ub},{id:"air_rifle",slug:"air-rifle-range",name:"Air Rifle Range",icon:$c,category:"Precision Sport",status:"soon",statusLabel:"Opening Soon",description:"Certified Precision Range: A safe, controlled, and sound-dampened indoor range compliant with all safety regulations. Access requires mandatory certification.",footer:"Certificate-based access",image:m2},{id:"hall",slug:"multipurpose-hall",name:"Multipurpose Hall",icon:un,category:"Indoor Space",status:"planned",statusLabel:"Planned",description:"Flexible Event & Training Space: A large, adaptable hall suitable for yoga, aerobics, martial arts, corporate workshops, and private functions. Available for flexible, block, and event-based bookings.",footer:"Use-cases evolving",image:Bb},{id:"cafe",slug:"cafe-bar",name:"Open Cafe/Bar",icon:Pk,category:"Recreation",status:"planned",statusLabel:"Planned",description:"The Quarterdeck Social Hub: A bright, spacious area offering artisanal coffee, healthy refreshments, light meals, and a view overlooking the main courts - perfect for post-match debriefs or casual meetings.",footer:"No booking required",image:p2}];function Mae(e){switch(e){case"ACTIVE":return{status:"active",statusLabel:"Active"};case"OPENING_SOON":return{status:"soon",statusLabel:"Opening Soon"};case"PLANNED":default:return{status:"planned",statusLabel:"Planned"}}}function $ae(){const{getValue:e}=Fr(["facilities_title","facilities_subtitle","facilities_cta","facilities_cta_url"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/facilities"]}),n=t&&t.length>0?t.map(a=>{const i=Mae(a.status),o=pO.find(l=>l.slug===a.slug);return{id:a.id,slug:a.slug,name:a.name,icon:Iae[a.icon]||(o==null?void 0:o.icon)||un,category:a.category||(o==null?void 0:o.category)||"Facility",status:i.status,statusLabel:i.statusLabel,description:a.description||(o==null?void 0:o.description)||"",footer:`${a.resourceCount||1} ${a.resourceCount===1?"court":"courts"} available`,image:a.imageUrl||Rae[a.slug]||(o==null?void 0:o.image)||Bb}}):pO;return s.jsx("section",{id:"facilities",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-facilities-title",children:e("facilities_title")||Ee.facilities_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("facilities_subtitle")||Ee.facilities_subtitle})]}),s.jsx(me,{href:e("facilities_cta_url")||Ee.facilities_cta_url||"/booking",children:s.jsx(M,{className:"rounded-full","data-testid":"button-check-availability",children:e("facilities_cta")||Ee.facilities_cta})})]}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsx(Yp,{opts:{align:"start",loop:!0},plugins:[_f({delay:4e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Xp,{className:"-ml-2 md:-ml-4",children:n.map(a=>s.jsx(Jp,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/3",children:s.jsx(me,{href:`/facilities/${a.slug}`,children:s.jsxs("div",{className:"group relative aspect-[4/3] rounded-xl overflow-hidden cursor-pointer","data-testid":`card-facility-${a.slug||a.id}`,children:[s.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold backdrop-blur-sm ${a.status==="soon"?"bg-blue-500/80 text-white":a.status==="active"?"bg-green-500/80 text-white":"bg-gray-500/80 text-white"}`,children:a.statusLabel})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:a.name}),s.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:[a.category,s.jsx(ca,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]})})},a.id))})})]})})}const Dae={check:wr,"check-circle":yn,clock:Qt,hammer:z5,"hard-hat":W5,rocket:CG,target:na};function Lae(){const[e,t]=v.useState(null),{getValue:r}=Fr(["updates_title","updates_subtitle","updates_cta","updates_cta_url"],Ee),{data:n=[],isLoading:a}=de({queryKey:["/api/construction-phases"]}),i=v.useMemo(()=>[...n].sort((c,u)=>c.sortOrder-u.sortOrder),[n]),o=v.useMemo(()=>i.length===0?0:i.reduce((c,u)=>c+u.progress,0)/i.length,[i]),l=c=>c.isComplete?"Complete":c.isActive?`${c.progress}%`:c.timeframe||"Upcoming";return a?s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsx("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:s.jsxs("div",{children:[s.jsx($e,{className:"h-8 w-64 mb-2"}),s.jsx($e,{className:"h-4 w-96"})]})}),s.jsxs("div",{className:"relative py-12",children:[s.jsx($e,{className:"h-1 w-full rounded-full"}),s.jsx("div",{className:"flex justify-between mt-8",children:[1,2,3,4].map(c=>s.jsxs("div",{className:"flex flex-col items-center",style:{width:"25%"},children:[s.jsx($e,{className:"w-14 h-14 rounded-full"}),s.jsx($e,{className:"h-4 w-16 mt-4"}),s.jsx($e,{className:"h-3 w-24 mt-1"})]},c))})]})]})}):i.length===0?s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsx("div",{className:"qd-container",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"qd-section-title mb-4",children:"Construction Updates"}),s.jsx("p",{className:"text-muted-foreground",children:"Construction timeline coming soon."})]})})}):s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-updates-title",children:r("updates_title")||Ee.updates_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:r("updates_subtitle")||Ee.updates_subtitle})]}),s.jsx(me,{href:r("updates_cta_url")||Ee.updates_cta_url||"/roadmap",children:s.jsxs("span",{className:"text-sm font-semibold text-[#2a4060] dark:text-blue-400 hover:underline cursor-pointer flex items-center gap-1","data-testid":"link-view-roadmap",children:[r("updates_cta")||Ee.updates_cta," ",s.jsx(ca,{className:"w-4 h-4"})]})})]}),s.jsxs("div",{className:"relative py-12",children:[s.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-gray-200 dark:bg-slate-700 rounded-full transform -translate-y-1/2"}),s.jsx("div",{className:"absolute left-0 top-1/2 h-1 bg-gradient-to-r from-green-500 via-blue-500 to-blue-500 rounded-full transform -translate-y-1/2 transition-all duration-1000 ease-out",style:{width:`${o}%`}}),s.jsx("div",{className:"absolute top-1/2 h-1 w-8 bg-gradient-to-r from-transparent via-white to-transparent rounded-full transform -translate-y-1/2 animate-pulse opacity-80",style:{left:`calc(${o}% - 16px)`}}),s.jsx("div",{className:"relative flex justify-between items-center",children:i.map((c,u)=>{const d=Dae[c.icon]||Qt,f=e===c.id,h=i.length>0?`${100/i.length}%`:"25%";return s.jsxs("div",{className:"relative flex flex-col items-center",style:{width:h},onMouseEnter:()=>t(c.id),onMouseLeave:()=>t(null),children:[s.jsx(me,{href:`/roadmap#${c.id}`,children:s.jsxs("div",{className:`
                        relative z-10 w-14 h-14 rounded-full flex items-center justify-center cursor-pointer
                        transition-all duration-300 ease-out transform
                        ${f?"scale-125":"scale-100"}
                        ${c.isComplete?"bg-green-500 text-white shadow-lg shadow-green-500/30":c.isActive?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 animate-pulse":"bg-white dark:bg-slate-800 text-muted-foreground border-2 border-gray-300 dark:border-slate-600"}
                      `,"data-testid":`timeline-point-${c.id}`,children:[s.jsx(d,{className:"w-6 h-6"}),c.isActive&&s.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-400 animate-ping opacity-50"})]})}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("div",{className:`text-sm font-bold ${c.isComplete?"text-green-600 dark:text-green-400":c.isActive?"text-blue-600 dark:text-blue-400":"text-muted-foreground"}`,children:c.label}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:c.title}),s.jsx("div",{className:`text-xs font-semibold mt-1 ${c.isComplete?"text-green-600":c.isActive?"text-blue-600":"text-muted-foreground"}`,children:l(c)})]}),s.jsxs("div",{className:`
                      absolute z-50 w-72 p-4 rounded-xl bg-white dark:bg-slate-800 
                      border border-gray-200 dark:border-slate-700 shadow-2xl
                      transition-all duration-300 ease-out
                      ${f?"opacity-100 visible translate-y-0":"opacity-0 invisible translate-y-2"}
                      ${u>=i.length/2?"right-0":"left-0"}
                    `,style:{top:"100%",marginTop:"80px"},children:[s.jsx("div",{className:`absolute -top-2 w-4 h-4 bg-white dark:bg-slate-800 border-l border-t border-gray-200 dark:border-slate-700 transform rotate-45 ${u>=i.length/2?"right-8":"left-8"}`}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-100 dark:border-slate-700",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c.isComplete?"bg-green-100 dark:bg-green-900/30 text-green-600":c.isActive?"bg-blue-100 dark:bg-blue-900/30 text-blue-600":"bg-gray-100 dark:bg-slate-700 text-muted-foreground"}`,children:s.jsx(d,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm",children:c.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:c.timeframe})]})]}),c.milestones&&c.milestones.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"MILESTONES"}),s.jsx("ul",{className:"space-y-1",children:c.milestones.map((p,y)=>s.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[s.jsx(wr,{className:`w-3 h-3 mt-0.5 flex-shrink-0 ${c.isComplete?"text-green-500":"text-muted-foreground"}`}),s.jsx("span",{children:p})]},y))})]}),c.highlights&&c.highlights.length>0&&s.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"HIGHLIGHTS"}),s.jsx("ul",{className:"space-y-1",children:c.highlights.map((p,y)=>s.jsxs("li",{className:"flex items-start gap-2 text-xs text-blue-600 dark:text-blue-400",children:[s.jsx(ca,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:p})]},y))})]})]})]})]},c.id)})})]}),s.jsx("div",{className:"mt-8 p-6 rounded-xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),s.jsxs("div",{className:"text-2xl font-bold text-[#2a4060] dark:text-white mt-1",children:[Math.round(o),"% Complete"]})]}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsx("div",{className:"h-3 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${o}%`}})})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:i.filter(c=>c.isComplete).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:i.filter(c=>c.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:i.filter(c=>!c.isComplete&&!c.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})]})})}const a6="/assets/architectural_render_b118ee78-hmTi1mjz.jpg",i6="/assets/architectural_render_cd4dce75-BruYoWlw.jpg",Fae="/assets/architectural_render_c7f63aa7-m2TWghKc.jpg",o6="/assets/sports_facility_cons_6b087ae8-Bawvazvq.jpg",Uae="/assets/sports_facility_cons_aa71e508-BJWEQx7e.jpg",Bae="/assets/sports_facility_cons_44a23ac3-C9MzLDrF.jpg",Vae=[{key:"gallery-1",title:"Complex Exterior Render",type:"render",image:a6,category:"renders"},{key:"gallery-2",title:"Court Construction Progress",type:"photo",image:o6,category:"construction"},{key:"gallery-3",title:"Sports Arena Render",type:"render",image:i6,category:"renders"},{key:"gallery-4",title:"Indoor Facility Build",type:"photo",image:Uae,category:"construction"},{key:"gallery-5",title:"Final Design Concept",type:"render",image:Fae,category:"renders"},{key:"gallery-6",title:"Structural Framework",type:"photo",image:Bae,category:"construction"}];function qae(){const{getValue:e}=Fr(["gallery_title","gallery_subtitle","gallery_cta","gallery_cta_url"],Ee),{data:t=[]}=de({queryKey:["/api/site-images","gallery"],queryFn:async()=>{const a=await(await fetch("/api/site-images?page=gallery")).json();return Array.isArray(a)?a:[]},staleTime:1e3*60*5}),r=v.useMemo(()=>Vae.map((n,a)=>{const i=t.find(o=>o.section===n.key&&o.isActive);return{...n,title:(i==null?void 0:i.title)||n.title,image:(i==null?void 0:i.imageUrl)||n.image}}),[t]);return s.jsx("section",{id:"gallery",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-gallery-title",children:e("gallery_title")||Ee.gallery_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("gallery_subtitle")||Ee.gallery_subtitle})]}),s.jsx(me,{href:e("gallery_cta_url")||Ee.gallery_cta_url||"/gallery",children:s.jsxs(M,{variant:"outline",className:"rounded-full","data-testid":"button-view-full-gallery",children:[e("gallery_cta")||Ee.gallery_cta," ",s.jsx(cb,{className:"ml-2 w-4 h-4"})]})})]}),s.jsx(Yp,{opts:{align:"start",loop:!0},plugins:[_f({delay:3500,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Xp,{className:"-ml-2 md:-ml-4",children:r.map((n,a)=>s.jsx(Jp,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/3",children:s.jsx(me,{href:`/gallery?category=${n.category}`,children:s.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer","data-testid":`gallery-item-${a}`,children:[s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:n.title}),s.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${n.type==="render"?"bg-blue-500/80":"bg-amber-500/80"} text-white uppercase tracking-wide`,children:n.type})]})]})})},a))})})]})})}const gO="/assets/modern_indoor_sports_8b182ff8-CMa6_W-x.jpg",zae={FOUNDING:Sf,GOLD:Ub,SILVER:Bb,GUEST:p2},Wae={FOUNDING:ub,GOLD:fa,SILVER:Y5,GUEST:yr},xO={FOUNDING:{gradient:"from-amber-600/90 to-amber-800/90",badge:"bg-amber-500"},GOLD:{gradient:"from-yellow-500/90 to-yellow-700/90",badge:"bg-yellow-500"},SILVER:{gradient:"from-gray-500/90 to-gray-700/90",badge:"bg-gray-500"},GUEST:{gradient:"from-blue-500/90 to-blue-700/90",badge:"bg-blue-500"}},Kae=[{id:"founding",name:"Founding",tier:"FOUNDING",tagline:"Exclusive",price:35e3,billingPeriod:"monthly",closed:!0,isActive:!0,sortOrder:1},{id:"gold",name:"Gold",tier:"GOLD",tagline:"Premium",price:15e3,billingPeriod:"monthly",closed:!1,isActive:!0,sortOrder:2},{id:"silver",name:"Silver",tier:"SILVER",tagline:"Standard",price:5e3,billingPeriod:"monthly",closed:!1,isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Casual",price:0,billingPeriod:"per visit",closed:!1,isActive:!0,sortOrder:4}];function Hae(){const{getValue:e}=Fr(["membership_title","membership_subtitle","membership_cta","membership_cta_url"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/pricing-tiers"],queryFn:async()=>{try{const c=await fetch("/api/pricing-tiers");if(!c.ok)return[];const u=await c.json();return Array.isArray(u)?u:[]}catch{return[]}},staleTime:1e3*60*5}),{data:n=[]}=de({queryKey:["/api/site-images","membership"],queryFn:async()=>{const u=await(await fetch("/api/site-images?page=membership")).json();return Array.isArray(u)?u:[]},staleTime:1e3*60*5}),a=c=>{const u=n.find(d=>d.section===`tier-${c.toLowerCase()}`&&d.isActive);return(u==null?void 0:u.imageUrl)||zae[c]||gO},i=v.useMemo(()=>{const c=n.find(u=>u.section==="background"&&u.isActive);return(c==null?void 0:c.imageUrl)||gO},[n]),o=v.useMemo(()=>!t||t.length===0?Kae:t.filter(c=>c.isActive).sort((c,u)=>(c.sortOrder||0)-(u.sortOrder||0)).map(c=>({id:c.id,name:c.name,tier:c.tier,tagline:c.tier==="FOUNDING"?"Exclusive":c.tier==="GOLD"?"Premium":c.tier==="SILVER"?"Standard":"Casual",price:c.price,billingPeriod:c.billingPeriod||"monthly",closed:c.tier==="FOUNDING",isActive:c.isActive,sortOrder:c.sortOrder||0})),[t]),l=(c,u)=>{if(c===0||!c)return"Pay per use";const d=u==="yearly"?"/yr":"/mo";return`PKR ${(c/1e3).toFixed(0)}k${d}`};return r?s.jsx("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:s.jsx("div",{className:"qd-container relative z-10",children:s.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3,4].map(c=>s.jsx($e,{className:"aspect-[4/3] w-72 rounded-xl flex-shrink-0"},c))})})}):s.jsxs("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-5 dark:opacity-10",style:{backgroundImage:`url(${i})`}}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-membership-title",children:e("membership_title")||Ee.membership_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("membership_subtitle")||Ee.membership_subtitle})]}),s.jsx(me,{href:e("membership_cta_url")||Ee.membership_cta_url||"/membership",children:s.jsx(M,{className:"rounded-full","data-testid":"button-inquire-membership",children:e("membership_cta")||Ee.membership_cta})})]}),s.jsx(Yp,{opts:{align:"start",loop:!0},plugins:[_f({delay:5e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Xp,{className:"-ml-2 md:-ml-4",children:o.map(c=>{const u=Wae[c.tier]||yr,d=xO[c.tier]||xO.GUEST,f=a(c.tier);return s.jsx(Jp,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/4",children:s.jsx(me,{href:"/membership",children:s.jsxs("div",{className:"group relative aspect-[3/4] rounded-xl overflow-hidden cursor-pointer","data-testid":`membership-tier-${c.tier.toLowerCase()}`,children:[s.jsx("img",{src:f,alt:c.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${d.gradient}`}),c.closed&&s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-bold bg-red-500 text-white",children:"CLOSED"})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d.badge}`,children:s.jsx(u,{className:"w-5 h-5 text-white"})})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[s.jsx("p",{className:"text-xs uppercase tracking-wider text-white/70 mb-1",children:c.tagline}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:c.name}),s.jsx("p",{className:"text-lg font-semibold text-white/90 mb-2",children:l(c.price,c.billingPeriod)}),s.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:["View details",s.jsx(ca,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]})})},c.id)})})}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e("membership_footer")||Ee.membership_footer}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(me,{href:e("membership_contact_cta_url")||Ee.membership_contact_cta_url||"/contact",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-contact-membership",children:e("membership_contact_cta")||Ee.membership_contact_cta})}),s.jsx(me,{href:e("membership_terms_cta_url")||Ee.membership_terms_cta_url||"/terms",children:s.jsx(M,{variant:"ghost",className:"rounded-full text-muted-foreground","data-testid":"button-view-terms-membership",children:e("membership_terms_cta")||Ee.membership_terms_cta})})]})]})]})]})}function Gae(){const{getValue:e}=Fr(["rules_title","rules_subtitle","rules_cta","rules_cta_url"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/rules"]}),n=(t==null?void 0:t.slice(0,4))||[];return s.jsx("section",{id:"rules",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-rules-title",children:e("rules_title")||Ee.rules_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("rules_subtitle")||Ee.rules_subtitle})]}),s.jsx(me,{href:e("rules_cta_url")||Ee.rules_cta_url||"/rules",children:s.jsxs(M,{variant:"outline",className:"rounded-full","data-testid":"button-view-all-rules",children:[e("rules_cta")||Ee.rules_cta," ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Rules coming soon..."}):s.jsx("div",{className:"qd-rules-grid",children:n.map((a,i)=>s.jsx(me,{href:"/rules",children:s.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`rule-item-${i}`,children:[s.jsx("h4",{className:"font-bold text-foreground mb-2",children:a.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a.content})]})},a.id))})]})})}function Qae(){var a;const{getValue:e}=Fr(["careers_title","careers_subtitle","careers_cta","careers_cta_url"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/careers"]}),n=((a=t==null?void 0:t.filter(i=>i.isActive))==null?void 0:a.slice(0,4))||[];return s.jsx("section",{id:"careers",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-careers-title",children:e("careers_title")||Ee.careers_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("careers_subtitle")||Ee.careers_subtitle})]}),s.jsx(me,{href:e("careers_cta_url")||Ee.careers_cta_url||"/careers",children:s.jsxs(M,{className:"rounded-full","data-testid":"button-submit-cv",children:[e("careers_cta")||Ee.careers_cta," ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No open positions at the moment. Check back soon!"}):s.jsx("div",{className:"qd-rules-grid",children:n.map((i,o)=>s.jsx(me,{href:"/careers",children:s.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`career-position-${o}`,children:[s.jsx("h4",{className:"font-bold text-foreground mb-2",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})},i.id))})]})})}const Xg="The Quarterdeck",Yae="Premium sports and recreation complex in Islamabad, Pakistan featuring Padel Tennis, Squash, Air Rifle Range, and more. Book your facilities, join events, and become a member today.";function Ur({title:e,description:t=Yae,ogTitle:r,ogDescription:n,ogImage:a,ogType:i="website",twitterCard:o="summary_large_image",canonicalUrl:l}={}){v.useEffect(()=>{const c=e?`${e} | ${Xg}`:Xg;document.title=c;const u=(d,f,h=!1)=>{const p=h?`meta[property="${d}"]`:`meta[name="${d}"]`;let y=document.querySelector(p);y||(y=document.createElement("meta"),h?y.setAttribute("property",d):y.setAttribute("name",d),document.head.appendChild(y)),y.setAttribute("content",f)};if(u("description",t),u("og:title",r||c,!0),u("og:description",n||t,!0),u("og:type",i,!0),u("og:site_name",Xg,!0),a&&u("og:image",a,!0),l){u("og:url",l,!0);let d=document.querySelector('link[rel="canonical"]');d||(d=document.createElement("link"),d.setAttribute("rel","canonical"),document.head.appendChild(d)),d.setAttribute("href",l)}return u("twitter:card",o),u("twitter:title",r||c),u("twitter:description",n||t),a&&u("twitter:image",a),()=>{document.title=Xg}},[e,t,r,n,a,i,o,l])}const sj=[{id:"about",component:()=>s.jsx(Fse,{}),altBackground:!0,visibilityKey:"section_about_visible",orderKey:"section_about_order"},{id:"facilities",component:()=>s.jsx($ae,{}),altBackground:!1,visibilityKey:"section_facilities_visible",orderKey:"section_facilities_order"},{id:"updates",component:()=>s.jsx(Lae,{}),altBackground:!0,visibilityKey:"section_updates_visible",orderKey:"section_updates_order"},{id:"gallery",component:()=>s.jsx(qae,{}),altBackground:!1,visibilityKey:"section_gallery_visible",orderKey:"section_gallery_order"},{id:"membership",component:()=>s.jsx(Hae,{}),altBackground:!0,visibilityKey:"section_membership_visible",orderKey:"section_membership_order"},{id:"rules",component:()=>s.jsx(Gae,{}),altBackground:!1,visibilityKey:"section_rules_visible",orderKey:"section_rules_order"},{id:"careers",component:()=>s.jsx(Qae,{}),altBackground:!0,visibilityKey:"section_careers_visible",orderKey:"section_careers_order"}];function Xae(){Ur({description:"The Quarterdeck is Islamabad's premier sports and recreation complex featuring Padel Tennis, Squash, Air Rifle Range, and exclusive membership packages. Book facilities and join events today."});const e=[...sj.map(n=>n.visibilityKey),...sj.map(n=>n.orderKey)],{getValue:t}=Fr(e,Ee),r=v.useMemo(()=>sj.filter(n=>Dse(t(n.visibilityKey))).sort((n,a)=>{const i=parseInt(t(n.orderKey)||"99",10),o=parseInt(t(a.orderKey)||"99",10);return i-o}),[t]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Lse,{}),r.map(n=>{const a=n.component;return n.altBackground?s.jsx("div",{className:"qd-section-alt",children:s.jsx(a,{})},n.id):s.jsx(a,{},n.id)})]}),s.jsx(Ht,{})]})}const Y=v.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:we("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Y.displayName="Input";const Jae=Ip("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ce({className:e,variant:t,...r}){return s.jsx("div",{className:we(Jae({variant:t}),e),...r})}function Ga(e){return e.toLocaleString("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0})}function Zae(e,t){const[r,n]=e.split(":").map(Number),a=r*60+n+t,i=Math.floor(a/60),o=a%60;return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function vO(e){const t=parseInt(e.split(":")[0]);return t>=10&&t<17}const Vb=()=>"Notification"in window,eie=()=>Vb()?Notification.permission:"unsupported",tie=async()=>Vb()?Notification.permission==="granted"?"granted":Notification.permission!=="denied"?await Notification.requestPermission():Notification.permission:(console.warn("Push notifications are not supported in this browser"),"unsupported"),yO=e=>{if(!Vb())return console.warn("Push notifications are not supported"),null;if(Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;const t=new Notification(e.title,{body:e.body,icon:e.icon||"/favicon.ico",tag:e.tag,requireInteraction:e.requireInteraction||!1});return e.onClick&&(t.onclick=()=>{var r;window.focus(),(r=e.onClick)==null||r.call(e),t.close()}),t},bO={bookingReminder:(e,t,r)=>({title:"Upcoming Booking Reminder",body:`Your ${e} booking is scheduled for ${t} on ${r}`,tag:"booking-reminder",requireInteraction:!0}),bookingConfirmed:e=>({title:"Booking Confirmed",body:`Your booking for ${e} has been confirmed!`,tag:"booking-confirmed"}),paymentVerified:e=>({title:"Payment Verified",body:`Your payment for ${e} has been verified`,tag:"payment-verified"}),eventReminder:(e,t)=>({title:"Event Reminder",body:`Don't forget: ${e} is happening on ${t}`,tag:"event-reminder",requireInteraction:!0})};function rie(){const[e]=v.useState(()=>Vb()),[t,r]=v.useState("default");v.useEffect(()=>{r(eie())},[]);const n=v.useCallback(async()=>{const o=await tie();return r(o),o},[]),a=v.useCallback((o,l)=>{if(t!=="granted")return;const c=bO.bookingReminder(l,o.startTime,o.date);yO(c)},[t]),i=v.useCallback((o,l)=>{if(t!=="granted")return;const c=bO.eventReminder(o,l);yO(c)},[t]);return{isSupported:e,permission:t,requestPermission:n,showBookingReminder:a,showEventReminder:i}}const nie="/assets/bottled_mineral_wate_edb6abad-CPxK56g4.jpg",wO={"padel-tennis":nl,squash:Gp,"air-rifle-range":$c,"bridge-room":mb,"multipurpose-hall":un},Jg=["padel-tennis","squash","air-rifle-range","bridge-room","multipurpose-hall"];function sie({initialView:e="booking"}){var cP,uP,dP;const{user:t,isAuthenticated:r}=eo(),{toast:n}=mt(),{isSupported:a,permission:i,requestPermission:o}=rie(),[l,c]=v.useState(e),[u,d]=v.useState(null),[f,h]=v.useState("Islamabad"),[p,y]=v.useState(()=>new Date().toISOString().split("T")[0]),[m,w]=v.useState(60),[g,x]=v.useState(1),[b,j]=v.useState(null),[_,N]=v.useState("cash"),[S,C]=v.useState(!1),[P,k]=v.useState("self"),[E,T]=v.useState(""),[I,R]=v.useState(null),[D,O]=v.useState(new Set),[z,A]=v.useState({}),[$,Q]=v.useState(!1),[X,F]=v.useState(!1),[J,q]=v.useState(1),[ee,pe]=v.useState(null),[te,be]=v.useState("cumulative"),[ie,U]=v.useState(!1),{data:le}=de({queryKey:["/api/memberships/my"],queryFn:async()=>{try{const W=await fetch("/api/memberships/my",{credentials:"include"});return W.status===404||!W.ok?null:await W.json()}catch{return null}},enabled:r,staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:G}=de({queryKey:["/api/site-settings"]}),B=v.useMemo(()=>G?G.reduce((W,xe)=>(W[xe.key]=xe.value,W),{}):{},[G]),ge={bankName:(B==null?void 0:B.bank_name)||"Bank Details Loading...",accountTitle:(B==null?void 0:B.bank_account_title)||"-",accountNumber:(B==null?void 0:B.bank_account_number)||"-",iban:(B==null?void 0:B.bank_iban)||"-"},{data:Xe=[]}=de({queryKey:["/api/leaderboard",te==="cumulative"?void 0:te],queryFn:async()=>{try{const W=te==="cumulative"?"":`?facilityId=${te}`,xe=await fetch(`/api/leaderboard${W}`);if(!xe.ok)return[];const ut=await xe.json();return Array.isArray(ut)?ut:[]}catch{return[]}}}),{data:at=[]}=de({queryKey:["/api/pricing-tiers"]}),pt=v.useMemo(()=>{const W={FOUNDING:0,GOLD:0,SILVER:0,GUEST:0};return at.forEach(xe=>{if(xe.discountPercent!==null&&xe.discountPercent!==void 0)W[xe.tier]=xe.discountPercent;else{const De=(xe.benefits||[]).find(or=>or.toLowerCase().includes("discount")&&or.toLowerCase().includes("off-peak"));if(De){const or=De.match(/(\d+)%/);or&&(W[xe.tier]=parseInt(or[1],10))}}}),W},[at]),Ft=v.useMemo(()=>{const W={FOUNDING:14,GOLD:7,SILVER:5,GUEST:2};return at.forEach(xe=>{xe.advanceBookingDays!==null&&xe.advanceBookingDays!==void 0&&(W[xe.tier]=xe.advanceBookingDays)}),W},[at]),Be=v.useMemo(()=>{const W=(le==null?void 0:le.tier)||"GUEST",xe=(le==null?void 0:le.status)||"PENDING_PAYMENT",ut=xe==="ACTIVE";return{name:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest",email:(t==null?void 0:t.email)||"",creditBalance:(t==null?void 0:t.creditBalance)||0,totalHoursPlayed:(t==null?void 0:t.totalHoursPlayed)||0,guestPasses:(le==null?void 0:le.guestPasses)||0,membershipTier:W,membershipStatus:xe,membershipNumber:(le==null?void 0:le.membershipNumber)||null,membershipExpiry:(le==null?void 0:le.validTo)||null,isSafetyCertified:(t==null?void 0:t.isSafetyCertified)||!1,hasSignedWaiver:(t==null?void 0:t.hasSignedWaiver)||!1,isActiveMember:ut}},[t,r,le]),Vr=v.useMemo(()=>{const W=Be.membershipTier,ut=Be.isActiveMember&&Ft[W]||2,De=new Date;return De.setDate(De.getDate()+ut),De.toISOString().split("T")[0]},[Be.membershipTier,Be.isActiveMember,Ft]),K=v.useMemo(()=>p<=Vr,[p,Vr]);v.useEffect(()=>{const W=new URLSearchParams(window.location.search),xe=W.get("success"),ut=W.get("session_id"),De=W.get("canceled");xe==="true"&&ut?ve("POST","/api/stripe/verify-session",{sessionId:ut}).then(or=>or.json()).then(or=>{or.booking&&(n({title:"Payment Successful!",description:"Your booking has been confirmed and paid."}),re.invalidateQueries({queryKey:["/api/bookings"]}))}).catch(or=>{n({title:"Payment Verification Failed",description:or.message||"Please contact support if your payment was deducted.",variant:"destructive"})}).finally(()=>{window.history.replaceState({},"",window.location.pathname)}):De==="true"&&(n({title:"Payment Canceled",description:"Your payment was canceled. No charges were made.",variant:"default"}),window.history.replaceState({},"",window.location.pathname))},[n]);const{data:Z=[]}=de({queryKey:["/api/bookings",u==null?void 0:u.id,p],enabled:!!u}),{data:ae=[],isLoading:Ae}=de({queryKey:["/api/facilities"],queryFn:async()=>{try{const W=await fetch("/api/facilities");if(!W.ok)return[];const xe=await W.json();return Array.isArray(xe)?xe:[]}catch{return[]}}}),{data:Se=[]}=de({queryKey:["/api/venues"],queryFn:async()=>{try{const W=await fetch("/api/venues");if(!W.ok)return[];const xe=await W.json();return Array.isArray(xe)?xe:[]}catch{return[]}}}),{data:_e=[]}=de({queryKey:["/api/hall-activities"],queryFn:async()=>{try{const W=await fetch("/api/hall-activities");if(!W.ok)return[];const xe=await W.json();return Array.isArray(xe)?xe:[]}catch{return[]}}}),ze=v.useMemo(()=>Se.length===0?["Islamabad"]:Se.map(W=>W.city),[Se]),$t=v.useMemo(()=>_e.length===0?[]:_e.map(W=>({value:W.name,label:W.name})),[_e]),Tt=v.useMemo(()=>new Date(p+"T12:00:00").getDay(),[p]),Nr=v.useMemo(()=>{if(!u)return null;const W=ae.find(xe=>xe.slug===u.id);return(W==null?void 0:W.id)||null},[ae,u==null?void 0:u.id]),zs=v.useMemo(()=>{const W=Se.find(xe=>xe.city===f);return(W==null?void 0:W.id)||null},[Se,f]),{data:wn=[]}=de({queryKey:["/api/operating-hours",Tt],queryFn:async()=>{try{const W=await fetch(`/api/operating-hours?dayOfWeek=${Tt}`);if(!W.ok)return[];const xe=await W.json();return Array.isArray(xe)?xe:[]}catch{return[]}}}),Wa=v.useMemo(()=>{const W=Nr?wn.find(hn=>!hn.isClosed&&!hn.isHoliday&&hn.facilityId===Nr&&hn.dayOfWeek===Tt):null,xe=zs?wn.find(hn=>!hn.isClosed&&!hn.isHoliday&&hn.venueId===zs&&!hn.facilityId&&hn.dayOfWeek===Tt):null,ut=wn.find(hn=>!hn.isClosed&&!hn.isHoliday&&!hn.facilityId&&!hn.venueId&&hn.dayOfWeek===Tt),De=W||xe||ut;if(!De)return[];const or=[],eu=De.slotDurationMinutes||60,[fg,Kf]=De.openTime.split(":").map(Number),[tu,hg]=De.closeTime.split(":").map(Number);let gi=fg*60+Kf;const Hf=tu*60+hg-m;for(;gi<=Hf;){const hn=Math.floor(gi/60),h7=gi%60;or.push(`${hn.toString().padStart(2,"0")}:${h7.toString().padStart(2,"0")}`),gi+=eu}return or},[wn,Tt,Nr,zs,m]),{data:oo=[]}=de({queryKey:["/api/facilities",u==null?void 0:u.id,"addons"],queryFn:async()=>{if(!u)return[];try{const W=await fetch(`/api/facilities/${u.id}/addons`);if(!W.ok)return[];const xe=await W.json();return Array.isArray(xe)?xe:[]}catch{return[]}},enabled:!!(u!=null&&u.id)}),vl={Target:na,CircleDot:sG,Droplets:oG,ShieldCheck:kd,Headphones:fG,Glasses:dG,Coffee:Pk,Speaker:OG},yl=v.useMemo(()=>oo.map(W=>({id:W.id,label:W.label,price:W.price,icon:W.icon&&vl[W.icon]||na,image:W.imageUrl||nie})),[oo]),Xc=v.useMemo(()=>{const W={};return ae.forEach(xe=>{W[xe.id]=xe.slug}),W},[ae]),vs=v.useMemo(()=>ae.length===0?[]:ae.filter(W=>W.status==="ACTIVE"&&W.slug!=="bridge-room").map(W=>({id:W.slug,label:W.name,count:W.resourceCount||1,basePrice:W.basePrice,minPlayers:W.minPlayers||1,icon:wO[W.slug]||un,requiresCert:W.requiresCertification||!1,restricted:W.isRestricted||!1})).sort((W,xe)=>{const ut=Jg.indexOf(W.id),De=Jg.indexOf(xe.id);return(ut===-1?999:ut)-(De===-1?999:De)}),[ae]),lo=v.useMemo(()=>ae.filter(W=>W.slug!=="bridge-room").map(W=>({id:W.slug,label:W.name,count:W.resourceCount||1,basePrice:W.basePrice,minPlayers:W.minPlayers||1,icon:wO[W.slug]||un,requiresCert:W.requiresCertification||!1,restricted:W.isRestricted||!1,status:W.status})).sort((W,xe)=>{const ut=Jg.indexOf(W.id),De=Jg.indexOf(xe.id);return(ut===-1?999:ut)-(De===-1?999:De)}),[ae]);v.useEffect(()=>{if(vs.length>0)if(!u||!vs.find(W=>W.id===u.id))d(vs[0]);else{const W=vs.find(xe=>xe.id===u.id);W&&(W.count!==u.count||W.basePrice!==u.basePrice)&&d(W)}},[vs,u==null?void 0:u.id]),v.useEffect(()=>{ze.length>0&&!ze.includes(f)&&h(ze[0])},[ze,f]);const{data:cg=[]}=de({queryKey:["/api/events"]}),Jc=ye({mutationFn:async W=>await ve("POST",`/api/events/${W.eventId}/register`,W),onSuccess:()=>{n({title:"Registration Submitted!",description:"Your registration is pending approval. You'll receive a confirmation email once approved."}),re.invalidateQueries({queryKey:["/api/events"]})},onError:W=>{n({title:"Registration Failed",description:W.message||"Unable to register for this event.",variant:"destructive"})}}),ug=W=>{if(!r||!t){n({title:"Login Required",description:"Please log in to register for events.",variant:"destructive"}),window.location.href="/login";return}Jc.mutate({eventId:W.id,fullName:`${t.firstName||""} ${t.lastName||""}`.trim()||"Member",email:t.email||""})},Zc=f!=="Islamabad",qf=ye({mutationFn:async W=>await ve("POST","/api/bookings",W),onSuccess:async(W,xe)=>{const ut=xe.paymentMethod==="bank_transfer",De=xe.paymentMethod==="cash";n(ut?{title:"Booking Created!",description:"Please complete your bank transfer and share the receipt with us for verification."}:De?{title:"Booking Created!",description:"Please pay at the facility on your booking date. Your booking will be confirmed upon payment."}:{title:"Booking Created!",description:"Your booking has been successfully created."}),a&&i==="default"&&setTimeout(()=>{n({title:"Enable Booking Reminders?",description:"Get notified 1 hour before your booking starts.",action:s.jsx(M,{size:"sm",onClick:async()=>{await o()==="granted"&&n({title:"Reminders Enabled",description:"You'll receive notifications before your bookings."})},"data-testid":"button-enable-notifications",children:"Enable"})})},1500),re.invalidateQueries({queryKey:["/api/bookings"]}),j(null),O(new Set),Q(!1),F(!1),q(1)},onError:W=>{var ut;const xe=(ut=W.message)==null?void 0:ut.includes("certification");n({title:xe?"Certification Required":"Booking Failed",description:xe?"This facility requires a valid certification to book. Visit our Certifications page to complete the required training.":W.message,variant:"destructive"})}}),dg=W=>{const xe=zf(W),ut=xe+m;return Z.some(De=>{if(De.date!==p||De.resourceId!==g||De.status==="CANCELLED")return!1;const or=zf(De.startTime),eu=or+(De.durationMinutes||60);return xe<eu&&ut>or})},zf=W=>{const[xe,ut]=W.split(":").map(Number);return xe*60+ut},rw=async W=>{const xe=W.trim().toUpperCase();if(T(xe),!xe){R(null);return}if(!/^QD-\d{4}$/.test(xe)){R(!1);return}U(!0);try{const De=await fetch(`/api/memberships/validate/${xe}`);if(!De.ok){R(!1);return}const or=await De.json();R(or.valid===!0)}catch{R(!1)}finally{U(!1)}},ys=v.useMemo(()=>{if(!b||!u)return null;let ut=u.basePrice/60*m,De=0;const or=Be.membershipTier,eu=Be.isActiveMember,fg=vO(b),Kf=pt[or]||0;fg&&eu&&Kf>0&&(De=ut*(Kf/100));let tu=0;D.forEach(gi=>{const nw=yl.find(Hf=>Hf.id===gi);if(nw){const Hf=z[gi]??1;tu+=nw.price*Hf}}),$&&(tu+=4e3);let hg=null;if(fg&&eu&&De>0){const gi=or.charAt(0)+or.slice(1).toLowerCase();hg=`${Kf}% ${gi} (Off-Peak)`}return{basePrice:Math.round(ut),discount:Math.round(De),discountLabel:hg,addOnTotal:tu,totalPrice:Math.round(ut-De+tu),date:p,startTime:b,endTime:Zae(b,m)}},[b,u,m,D,z,$,p,Be.membershipTier,Be.isActiveMember,yl,pt]),u7=W=>{const xe=new Set(D);xe.has(W.id)?xe.delete(W.id):(xe.add(W.id),A(ut=>({...ut,[W.id]:ut[W.id]??1}))),O(xe)},iP=(W,xe)=>{A(ut=>{const De=ut[W]??1,or=Math.min(10,Math.max(1,De+xe));return{...ut,[W]:or}})},d7=async()=>{if(!(!ys||!b||!u)){if(!K){const W=Be.membershipTier,xe=Be.isActiveMember&&Ft[W]||2;n({title:"Date Out of Range",description:`Your membership tier allows booking up to ${xe} days in advance.`,variant:"destructive"});return}if(u.id==="multipurpose-hall"&&!ee){n({title:"Activity Required",description:"Please select a purpose for the Multipurpose Hall booking.",variant:"destructive"});return}qf.mutate({facilitySlug:u.id,venue:f,resourceId:g,date:p,startTime:b,endTime:ys.endTime,durationMinutes:m,paymentMethod:_,payerType:P.toUpperCase(),payerMembershipNumber:P==="member"?E:null,basePrice:ys.basePrice,discount:ys.discount,addOnTotal:ys.addOnTotal,totalPrice:ys.totalPrice,coachBooked:$,isMatchmaking:X,currentPlayers:J,maxPlayers:u.minPlayers,hallActivity:ee,addOns:Array.from(D).map(W=>({id:W,quantity:z[W]??1}))})}},f7=W=>{switch(W){case"Academy":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Tournament":return"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300";case"Social":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300";case"Class":return"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-300"}},oP=lo.filter(W=>W.id!=="bridge-room"&&W.id!=="multipurpose-hall"),lP=v.useMemo(()=>Xe.map(W=>({name:W.playerName||"Member",points:W.rankingPoints,tier:"Member",facility:W.facilityId})),[Xe]),Wf=()=>{window.location.href="/"};return Ae||vs.length===0||!u?s.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[s.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 w-full md:w-72 flex-shrink-0 p-6 border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700",children:[s.jsx($e,{className:"h-8 w-48 mb-2"}),s.jsx($e,{className:"h-3 w-32 mb-6"}),s.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(W=>s.jsx($e,{className:"h-12 rounded-xl"},W))})]}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx($e,{className:"h-6 w-24"}),s.jsx($e,{className:"h-6 w-6 rounded-full"}),s.jsx($e,{className:"h-6 w-32"})]}),s.jsx($e,{className:"h-8 w-48 mb-6"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8",children:[1,2,3,4].map(W=>s.jsx($e,{className:"h-24 rounded-xl"},W))}),s.jsx($e,{className:"h-6 w-32 mb-4"}),s.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,3].map(W=>s.jsx($e,{className:"h-10 w-20 rounded-md"},W))}),s.jsx($e,{className:"h-40 rounded-xl"})]})]}):s.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[s.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700 w-full md:w-72 flex-shrink-0 p-6 flex flex-col justify-between shadow-sm",children:[s.jsxs("div",{children:[s.jsx(me,{href:"/",children:s.jsxs("div",{className:"cursor-pointer","data-testid":"link-sidebar-logo",children:[s.jsx("h1",{className:"text-2xl font-extrabold text-[#2a4060] dark:text-sky-400 mb-1 tracking-tight",children:"THE QUARTERDECK"}),s.jsx("p",{className:"text-[11px] text-muted-foreground mb-6 uppercase tracking-[0.18em]",children:"Central Booking Console"})]})}),s.jsxs("nav",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>c("booking"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="booking"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-booking",children:[s.jsx(iv,{className:"w-4 h-4"})," Book Facility"]}),r&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>c("events"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="events"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-events",children:[s.jsx(Wn,{className:"w-4 h-4"})," Events & Academies"]}),s.jsxs("button",{onClick:()=>c("leaderboard"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="leaderboard"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-leaderboard",children:[s.jsx(Wn,{className:"w-4 h-4"})," Leaderboard"]}),s.jsxs("button",{onClick:()=>c("profile"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="profile"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-profile",children:[s.jsx(ls,{className:"w-4 h-4"})," My Profile"]})]})]})]}),r&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-4 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(JE,{className:"w-5 h-5 text-amber-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Credit Balance"}),s.jsx("p",{className:"text-lg font-bold",children:Ga(Be.creditBalance)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(XE,{className:"w-5 h-5 text-sky-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Hours Played"}),s.jsxs("p",{className:"text-lg font-bold",children:[Be.totalHoursPlayed," hrs"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cv,{className:"w-5 h-5 text-emerald-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Guest Passes"}),s.jsx("p",{className:"text-lg font-bold",children:Be.guestPasses})]})]})]})]}),s.jsxs("div",{className:"flex-grow p-4 md:p-8 relative overflow-auto bg-gray-50 dark:bg-slate-900",children:[l==="booking"&&!r&&s.jsx("div",{className:"max-w-md mx-auto mt-16 animate-qd-fade-in",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg text-center",children:[s.jsx(ls,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2","data-testid":"text-auth-required",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to access the booking system and make reservations."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(me,{href:"/login",className:"block",children:s.jsx(M,{className:"w-full","data-testid":"button-login-booking",children:"Sign In to Continue"})}),s.jsxs(M,{variant:"outline",className:"w-full",onClick:Wf,"data-testid":"button-back-home-auth",children:[s.jsx(kn,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})}),l==="booking"&&r&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-qd-fade-in",children:[s.jsxs("section",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Wf,className:"rounded-full","data-testid":"button-back-home",children:[s.jsx(kn,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-extrabold","data-testid":"text-booking-title",children:"Central Booking"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your venue, facility, time and extras."})]})]}),s.jsx("div",{className:"mt-3 sm:mt-0",children:s.jsxs("div",{className:"max-w-xs sm:text-right",children:[s.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Venue"}),s.jsx("select",{value:f,onChange:W=>{h(W.target.value),d(vs[0]),x(1),j(null),O(new Set),A({}),Q(!1),F(!1),q(1),pe(null)},className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500","data-testid":"select-venue",children:ze.map(W=>s.jsx("option",{value:W,children:W},W))}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["Booking preview for: ",f]})]})})]}),Zc&&s.jsxs("section",{className:"relative bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 rounded-2xl p-8 text-center shadow-lg border border-slate-300 dark:border-slate-700",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-sky-500/10 rounded-2xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(ps,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),s.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["Coming Soon to ",f]}),s.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:["We're expanding! The Quarterdeck ",f," is currently under development. Stay tuned for updates on our upcoming locations."]}),s.jsx(ce,{className:"bg-amber-500/10 text-amber-700 dark:text-amber-400 border-amber-500/30",children:"Expected 2026-2027"}),s.jsx("div",{className:"mt-6",children:s.jsx(M,{variant:"outline",onClick:()=>h("Islamabad"),"data-testid":"button-switch-to-islamabad",children:"Switch to Islamabad (Available Now)"})})]})]}),!Zc&&s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"1. Select Facility"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:vs.map(W=>{const xe=W.icon,ut=u.id===W.id,De=W.restricted&&Be.membershipTier!=="FOUNDING";return s.jsxs("button",{onClick:()=>{De?n({title:"Restricted Area",description:"Exclusive to Founding Members and Armed Forces.",variant:"destructive"}):(d(W),x(1),j(null),F(!1),pe(null))},className:`p-4 rounded-xl shadow-sm border flex flex-col items-center justify-center transition-all relative overflow-hidden cursor-pointer ${De?"opacity-60 bg-gray-100 dark:bg-slate-700 border-gray-200 dark:border-slate-600":ut?"ring-4 ring-amber-300 bg-white dark:bg-slate-800 border-amber-500":"bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-600 hover:border-sky-500"}`,"data-testid":`button-facility-${W.id}`,children:[s.jsx(xe,{className:"w-8 h-8 mb-1 text-[#2a4060] dark:text-sky-400"}),s.jsx("p",{className:"font-semibold text-sm",children:W.label}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[W.count," available"]}),De&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white text-xs font-bold",children:"RESTRICTED"})]},W.id)})})]}),!Zc&&s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 space-y-4",children:[s.jsxs("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700",children:["2. Select Resource (",u.label,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:u.count}).map((W,xe)=>s.jsxs("button",{onClick:()=>x(xe+1),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${g===xe+1?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-resource-${xe+1}`,children:["Court ",xe+1]},xe+1))}),u.id==="multipurpose-hall"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Purpose of Multipurpose Event"}),s.jsxs("select",{value:ee||"",onChange:W=>pe(W.target.value),className:"w-full p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"select-hall-activity",children:[s.jsx("option",{value:"",children:"-- Select Activity --"}),$t.map(W=>s.jsx("option",{value:W.value,children:W.label},W.value))]})]}),u.id!=="hall"&&!u.restricted&&s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("label",{className:"text-sm font-medium",children:"Enable Matchmaking (Join a game)"}),s.jsx("button",{onClick:()=>F(!X),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${X?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-matchmaking",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${X?"translate-x-6":"translate-x-1"}`})})]}),X&&s.jsxs("select",{value:J,onChange:W=>q(parseInt(W.target.value)),className:"w-full p-2 border rounded-lg text-sm bg-sky-50 dark:bg-sky-900/30 border-amber-200 dark:border-amber-700","data-testid":"select-group-size",children:[s.jsx("option",{value:1,children:"Just Me (1)"}),s.jsx("option",{value:2,children:"Pair (2)"}),s.jsx("option",{value:3,children:"Three (3)"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("label",{className:"text-sm font-medium",children:"Book a coach?"}),s.jsx("button",{onClick:()=>Q(!$),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${$?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-coach",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${$?"translate-x-6":"translate-x-1"}`})})]}),$&&s.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 font-semibold text-right",children:"+4,000 PKR"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"3. Select Date"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(mr,{className:"w-5 h-5 text-sky-500"}),s.jsx("input",{type:"date",value:p,min:new Date().toISOString().split("T")[0],max:Vr,onChange:W=>{y(W.target.value),j(null)},className:"flex-1 p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"input-date"})]}),!K&&s.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-1",children:[s.jsx(Cn,{className:"w-3 h-3"}),"Your ",Be.membershipTier," tier allows booking up to ",Ft[Be.membershipTier]||2," days ahead"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"4. Select Duration"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[60,90,120].map(W=>s.jsxs("button",{onClick:()=>{w(W),j(null)},className:`px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2 ${m===W?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-duration-${W}`,children:[s.jsx(Qt,{className:"w-4 h-4"}),W," min"]},W))})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"5. Select Time Slot"}),Wa.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Qt,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2 animate-pulse"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading available time slots..."})]}):s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 sm:gap-3",children:Wa.map(W=>{const xe=dg(W),ut=b===W,De=vO(W);return s.jsxs("button",{onClick:()=>!xe&&j(W),disabled:xe,className:`py-2 px-1 rounded border text-sm font-medium transition relative overflow-hidden ${xe?"bg-gray-200 dark:bg-slate-600 text-muted-foreground cursor-not-allowed opacity-70":ut?"bg-green-500 text-white shadow-lg border-green-500":"bg-white dark:bg-slate-700 text-foreground hover:bg-sky-50 dark:hover:bg-slate-600 border-gray-200 dark:border-slate-600"}`,"data-testid":`button-time-${W.replace(":","")}`,children:[W,De&&!xe&&!ut&&s.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-emerald-400 rounded-bl-md"})]},W)})}),Wa.length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[s.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-400 rounded-full mr-1"}),"Green dot = Off-peak hours (10 AM - 5 PM) - All member tiers get discounts"]})]})]}),s.jsx("div",{className:"md:col-span-1 space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-t-4 border-sky-500",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"6. Extras & Payment"}),ys?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Add-ons"}),s.jsx("div",{className:"space-y-2",children:yl.map(W=>{const xe=D.has(W.id),ut=z[W.id]??1;return s.jsxs("div",{onClick:()=>u7(W),className:`border rounded-xl px-3 py-2 flex items-center gap-3 text-sm transition cursor-pointer hover:shadow-sm ${xe?"bg-sky-50 dark:bg-sky-900/30 border-amber-500 text-amber-800 dark:text-amber-300":"bg-white dark:bg-slate-700 border-gray-200 dark:border-slate-600"}`,"data-testid":`addon-${W.id}`,children:[s.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-slate-600",children:s.jsx("img",{src:W.image,alt:W.label,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"font-semibold truncate",children:W.label}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Ga(W.price)," per unit"]})]}),xe&&s.jsxs("div",{className:"flex items-center gap-1 text-xs flex-shrink-0",onClick:De=>De.stopPropagation(),children:[s.jsx("button",{onClick:()=>iP(W.id,-1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:s.jsx(vG,{className:"w-3 h-3"})}),s.jsx("span",{className:"min-w-[1.5rem] text-center font-semibold",children:ut}),s.jsx("button",{onClick:()=>iP(W.id,1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:s.jsx(rr,{className:"w-3 h-3"})})]})]},W.id)})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Payer Details"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-4 text-xs",children:[s.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"payer-type",checked:P==="self",onChange:()=>k("self"),className:"accent-sky-600"}),s.jsx("span",{children:"Self (use my account)"})]}),s.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"payer-type",checked:P==="member",onChange:()=>k("member"),className:"accent-sky-600"}),s.jsx("span",{children:"Another member will pay"})]})]}),P==="member"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-xs font-semibold",children:"Membership number of the payer"}),s.jsx(Y,{type:"text",value:E,onChange:W=>rw(W.target.value),placeholder:"e.g. QD-0001",className:"text-xs","data-testid":"input-payer-membership"}),I===!0&&s.jsxs("p",{className:"text-[10px] text-emerald-600 flex items-center gap-1",children:[s.jsx(wr,{className:"w-3 h-3"})," Membership found."]}),I===!1&&s.jsxs("p",{className:"text-[10px] text-rose-500 flex items-center gap-1",children:[s.jsx(Cn,{className:"w-3 h-3"})," Membership not found."]})]})]})]}),s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2 border-t pt-4 border-gray-100 dark:border-slate-700",children:"Summary"}),s.jsxs("div",{className:"space-y-1 text-sm mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Base Rate (",m," min)"]}),s.jsx("span",{children:Ga(ys.basePrice)})]}),ys.discount>0&&s.jsxs("div",{className:"flex justify-between text-emerald-600",children:[s.jsxs("span",{children:["Member Discount (",ys.discountLabel,")"]}),s.jsxs("span",{children:["- ",Ga(ys.discount)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Add-Ons & Coach"}),s.jsxs("span",{children:["+ ",Ga(ys.addOnTotal)]})]})]}),s.jsxs("div",{className:"flex justify-between border-t border-dashed pt-3 border-gray-200 dark:border-slate-600",children:[s.jsx("span",{className:"font-bold text-lg",children:"TOTAL DUE"}),s.jsx("span",{className:"font-extrabold text-2xl text-sky-700 dark:text-sky-400",children:Ga(ys.totalPrice)})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>N("cash"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${_==="cash"?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-cash",children:"Pay On-Site"}),s.jsx("button",{onClick:()=>N("bank_transfer"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${_==="bank_transfer"?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-bank",children:"Bank Transfer"}),s.jsx("button",{onClick:()=>N("credits"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${_==="credits"?"bg-slate-900 text-white border-slate-900 dark:bg-slate-100 dark:text-slate-900 dark:border-slate-100":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-credits",children:"Credits"})]})]}),_==="bank_transfer"&&s.jsxs("div",{className:"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-xl",children:[s.jsx("h5",{className:"font-bold text-purple-800 dark:text-purple-300 text-sm mb-2",children:"Bank Transfer Instructions"}),s.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-400 space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Bank:"})," ",ge.bankName]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Account Title:"})," ",ge.accountTitle]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Account #:"})," ",ge.accountNumber]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"IBAN:"})," ",ge.iban]})]}),s.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-3 italic",children:"After payment, please share your receipt with admin for verification. Your booking will be confirmed once payment is verified."})]}),s.jsx(M,{onClick:d7,disabled:qf.isPending,className:"w-full mt-6 py-3 rounded-xl font-bold bg-sky-600 hover:bg-sky-500 shadow-lg","data-testid":"button-confirm-booking",children:qf.isPending?"Processing...":"Confirm Booking"})]}):s.jsx("p",{className:"text-center text-muted-foreground italic text-sm",children:"Please select a time slot to calculate price."})]})})]})]}),l==="events"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Wf,className:"rounded-full","data-testid":"button-events-back-home",children:[s.jsx(kn,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-events-title",children:"Events & Academy"}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Classes, tournaments and social events."})]}),s.jsx("div",{className:"w-16"})," "]}),cg.length>0?lo.map(W=>{const xe=W.icon,ut=cg.filter(De=>Xc[De.facilityId]===W.id);return ut.length===0?null:s.jsxs("section",{className:`mb-8 p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-md border-t-4 ${W.id==="padel-tennis"?"border-sky-500":W.id==="air-rifle-range"?"border-red-400":W.id==="squash"?"border-slate-400":W.id==="bridge-room"?"border-blue-500":"border-purple-400"}`,"data-testid":`section-events-${W.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 dark:border-slate-700 pb-3",children:[s.jsx(xe,{className:"w-8 h-8 text-[#2a4060] dark:text-sky-400"}),s.jsxs("h3",{className:"text-xl font-extrabold",children:[W.label," Programs"]}),W.status==="PLANNED"&&s.jsx(ce,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:ut.map(De=>s.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-5 rounded-xl border border-gray-100 dark:border-slate-600 flex flex-col justify-between","data-testid":`card-event-${De.id}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:`${f7(De.type)} text-[10px] font-bold px-2 py-0.5 rounded-full uppercase`,children:De.type}),s.jsx("span",{className:"text-sm font-semibold text-sky-700 dark:text-sky-400",children:Ga(De.price)})]}),s.jsx("h4",{className:"font-bold text-lg mb-1",children:De.title}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:[De.scheduleDay," at ",De.scheduleTime||"TBA"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:De.description}),De.instructor&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Instructor: ",De.instructor]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[De.enrolledCount||0," / ",De.capacity," enrolled"]})]}),s.jsx(M,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>ug(De),disabled:Jc.isPending||(De.enrolledCount||0)>=De.capacity,"data-testid":`button-register-${De.id}`,children:Jc.isPending?"Registering...":(De.enrolledCount||0)>=De.capacity?"Full":"Register"})]},De.id))})]},W.id)}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wn,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Check back soon for upcoming events and academies."})]})]}),l==="leaderboard"&&s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Wf,className:"rounded-full","data-testid":"button-leaderboard-back-home",children:[s.jsx(kn,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-leaderboard-title",children:te==="cumulative"?"Global Arena Leaderboard":`${((cP=vs.find(W=>W.id===te))==null?void 0:cP.label)||""} Top Scorers`}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Top performers across all facilities."})]}),s.jsx("div",{className:"w-16"})," "]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[s.jsx("button",{onClick:()=>be("cumulative"),className:`px-4 py-2 rounded-full text-sm font-medium transition ${te==="cumulative"?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":"button-leaderboard-cumulative",children:"All Facilities"}),oP.map(W=>{const xe=W.icon;return s.jsxs("button",{onClick:()=>be(W.id),className:`px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-2 ${te===W.id?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-leaderboard-${W.id}`,children:[s.jsx(xe,{className:"w-4 h-4"}),W.label]},W.id)})]}),s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg overflow-hidden",children:lP.length>0?lP.map((W,xe)=>s.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-100 dark:border-slate-700 ${xe===0?"bg-amber-50 dark:bg-amber-900/20":xe===1?"bg-gray-50 dark:bg-slate-700/50":xe===2?"bg-orange-50 dark:bg-orange-900/10":""}`,"data-testid":`leaderboard-entry-${xe}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${xe===0?"bg-amber-400 text-white":xe===1?"bg-gray-400 text-white":xe===2?"bg-orange-400 text-white":"bg-gray-200 dark:bg-slate-600 text-muted-foreground"}`,children:xe+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:W.name}),s.jsx(ce,{variant:"outline",className:"text-xs",children:W.tier})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-extrabold text-xl text-sky-700 dark:text-sky-400",children:W.points}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"points"})]})]},xe)):s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Wn,{className:"w-16 h-16 mx-auto text-muted-foreground/30 mb-4"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"No Rankings Yet"}),s.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:te==="cumulative"?"Once members start playing, top performers will appear here!":`Be the first to rank in ${((uP=oP.find(W=>W.id===te))==null?void 0:uP.label)||"this facility"}!`}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Book a session and start climbing the leaderboard"})]})})]}),l==="profile"&&s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Wf,className:"rounded-full","data-testid":"button-profile-back-home",children:[s.jsx(kn,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold","data-testid":"text-profile-title",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Your membership details and stats"})]}),s.jsx("div",{className:"w-16"})]}),s.jsx("div",{className:"bg-gradient-to-r from-[#2a4060] to-[#1e3048] p-6 rounded-2xl shadow-lg text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:r&&t?((dP=t.firstName)==null?void 0:dP.charAt(0))||"M":"G"}),s.jsxs("div",{className:"text-center md:text-left flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold mb-1",children:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest User"}),s.jsx("p",{className:"text-white/70 text-sm mb-3",children:r&&t?t.email:"Not logged in"}),s.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[s.jsxs(ce,{className:`${Be.membershipTier==="FOUNDING"?"bg-amber-400 text-amber-900":Be.membershipTier==="GOLD"?"bg-yellow-400 text-yellow-900":Be.membershipTier==="SILVER"?"bg-gray-300 text-gray-800":"bg-slate-500 text-white"} font-bold px-3 py-1`,children:[Be.membershipTier," MEMBER"]}),Be.isActiveMember&&s.jsxs(ce,{className:"bg-green-500 text-white font-medium px-3 py-1",children:[s.jsx(wr,{className:"w-3 h-3 mr-1"})," Active"]})]})]}),le&&s.jsxs("div",{className:"text-center md:text-right bg-white/10 px-4 py-3 rounded-xl",children:[s.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Member ID"}),s.jsx("p",{className:"font-mono font-bold text-lg",children:le.membershipNumber}),s.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Valid until ",new Date(le.validTo).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(JE,{className:"w-8 h-8 mx-auto text-amber-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Ga(Be.creditBalance)}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Credit Balance"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(XE,{className:"w-8 h-8 mx-auto text-sky-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Be.totalHoursPlayed}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Hours Played"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(cv,{className:"w-8 h-8 mx-auto text-emerald-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Be.guestPasses}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Guest Passes"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(iv,{className:"w-8 h-8 mx-auto text-purple-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Ft[Be.membershipTier]||2}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Days Advance"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[s.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4"})," Membership Benefits"]}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:s.jsxs("span",{className:"font-bold text-amber-600 dark:text-amber-400",children:[pt[Be.membershipTier]||0,"%"]})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Off-Peak Discount"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"10AM - 5PM weekdays"})]})]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center",children:s.jsx(mr,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Booking Window"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Book up to ",Ft[Be.membershipTier]||2," days ahead"]})]})]}),Be.guestPasses>0&&s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:s.jsx(ls,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Guest Passes"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Be.guestPasses," passes remaining"]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[s.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(kd,{className:"w-4 h-4"})," Certifications & Waivers"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${Be.isSafetyCertified?"bg-green-50 dark:bg-green-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[Be.isSafetyCertified?s.jsx(wr,{className:"w-5 h-5 text-green-600"}):s.jsx(Cn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Air Rifle Safety"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Be.isSafetyCertified?"Certified":"Required for range access"})]})]}),s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${Be.hasSignedWaiver?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[Be.hasSignedWaiver?s.jsx(Ek,{className:"w-5 h-5 text-blue-600"}):s.jsx(Cn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Liability Waiver"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Be.hasSignedWaiver?"Signed":"Sign at reception"})]})]})]})]})]}),!r&&s.jsxs("div",{className:"bg-gradient-to-r from-sky-500 to-blue-600 p-6 rounded-xl text-white text-center",children:[s.jsx(ls,{className:"w-12 h-12 mx-auto mb-3 opacity-80"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Sign In to Access Full Features"}),s.jsx("p",{className:"text-white/80 text-sm mb-4",children:"View your bookings, manage memberships, and more."}),s.jsx(me,{href:"/login",children:s.jsx(M,{variant:"secondary","data-testid":"button-sign-in",children:"Sign In Now"})})]})]})]})]})}function aie(){return Ur({title:"Book a Facility",description:"Book sports facilities at The Quarterdeck - Padel Tennis, Squash, Air Rifle Range and more. Easy online booking with real-time availability."}),s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-6xl",children:s.jsx(sie,{})})})}const ne=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const Le=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("flex flex-col space-y-1.5 p-6",e),...t}));Le.displayName="CardHeader";const We=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("text-2xl font-semibold leading-none tracking-tight",e),...t}));We.displayName="CardTitle";const Rt=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("text-sm text-muted-foreground",e),...t}));Rt.displayName="CardDescription";const se=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("p-6 pt-0",e),...t}));se.displayName="CardContent";const Ev=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("flex items-center p-6 pt-0",e),...t}));Ev.displayName="CardFooter";var qb="Tabs",[iie]=An(qb,[Rb]),l6=Rb(),[oie,g2]=iie(qb),c6=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Nf(l),[f,h]=ms({prop:n,onChange:a,defaultProp:i??"",caller:qb});return s.jsx(oie,{scope:r,baseId:Gr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Me.div,{dir:d,"data-orientation":o,...u,ref:t})})});c6.displayName=qb;var u6="TabsList",d6=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=g2(u6,r),o=l6(r);return s.jsx(sF,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});d6.displayName=u6;var f6="TabsTrigger",h6=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=g2(f6,r),l=l6(r),c=g6(o.baseId,n),u=x6(o.baseId,n),d=n===o.value;return s.jsx(aF,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:je(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:je(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:je(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});h6.displayName=f6;var m6="TabsContent",p6=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=g2(m6,r),c=g6(l.baseId,n),u=x6(l.baseId,n),d=n===l.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(dn,{present:a||d,children:({present:h})=>s.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});p6.displayName=m6;function g6(e,t){return`${e}-trigger-${t}`}function x6(e,t){return`${e}-content-${t}`}var lie=c6,v6=d6,y6=h6,b6=p6;const ua=lie,Ds=v.forwardRef(({className:e,...t},r)=>s.jsx(v6,{ref:r,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ds.displayName=v6.displayName;const Vt=v.forwardRef(({className:e,...t},r)=>s.jsx(y6,{ref:r,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Vt.displayName=y6.displayName;const qt=v.forwardRef(({className:e,...t},r)=>s.jsx(b6,{ref:r,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));qt.displayName=b6.displayName;function cie(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:p,...y}=f,m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,w=v.useMemo(()=>y,Object.values(y));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=v.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,uie(a,...t)]}function uie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var die=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],x2=die.reduce((e,t)=>{const r=Cb(`Primitive.${t}`),n=v.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function fie(){return VD.useSyncExternalStore(hie,()=>!0,()=>!1)}function hie(){return()=>{}}var v2="Avatar",[mie]=cie(v2),[pie,w6]=mie(v2),j6=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=v.useState("idle");return s.jsx(pie,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(x2.span,{...n,ref:t})})});j6.displayName=v2;var N6="AvatarImage",_6=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=w6(N6,r),l=gie(n,i),c=Rr(u=>{a(u),o.onImageLoadingStatusChange(u)});return Lr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(x2.img,{...i,ref:t,src:n}):null});_6.displayName=N6;var S6="AvatarFallback",k6=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=w6(S6,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(x2.span,{...a,ref:t}):null});k6.displayName=S6;function jO(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function gie(e,{referrerPolicy:t,crossOrigin:r}){const n=fie(),a=v.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=v.useState(()=>jO(i,e));return Lr(()=>{l(jO(i,e))},[i,e]),Lr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var C6=j6,P6=_6,E6=k6;const Od=v.forwardRef(({className:e,...t},r)=>s.jsx(C6,{ref:r,className:we(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Od.displayName=C6.displayName;const Td=v.forwardRef(({className:e,...t},r)=>s.jsx(P6,{ref:r,className:we("aspect-square h-full w-full",e),...t}));Td.displayName=P6.displayName;const Id=v.forwardRef(({className:e,...t},r)=>s.jsx(E6,{ref:r,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Id.displayName=E6.displayName;function xie(){var C,P;Ur({title:"My Profile",description:"Manage your Quarterdeck account, view bookings, notifications, and membership status."});const{user:e,isLoading:t,isAuthenticated:r}=eo(),n=YD(),i=new URLSearchParams(n).get("tab")||"account",o=v.useRef(null),{toast:l}=mt(),{data:c,refetch:u}=de({queryKey:["/api/memberships/my"],enabled:r,staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0,retry:!1}),{data:d=[]}=de({queryKey:["/api/bookings/my"],enabled:r}),{data:f=[],isLoading:h}=de({queryKey:["/api/notifications"],enabled:r}),p=ye({mutationFn:async k=>{await ve("POST",`/api/notifications/${k}/read`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),y=ye({mutationFn:async()=>{await ve("POST","/api/notifications/read-all")},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),m=ye({mutationFn:async k=>{await ve("DELETE",`/api/notifications/${k}`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),w=ye({mutationFn:async k=>{const E=new FormData;E.append("photo",k);const T=await fetch("/api/user/profile-photo",{method:"POST",body:E,credentials:"include"});if(!T.ok){const I=await T.json();throw new Error(I.message||"Failed to upload photo")}return T.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/auth/user"]}),l({title:"Photo updated",description:"Your profile photo has been updated successfully."}),o.current&&(o.current.value="")},onError:k=>{l({title:"Upload failed",description:k.message,variant:"destructive"})}}),g=k=>{var T;const E=(T=k.target.files)==null?void 0:T[0];if(E){if(E.size>5*1024*1024){l({title:"File too large",description:"Maximum file size is 5MB",variant:"destructive"});return}w.mutate(E)}},x=new Date().toISOString().split("T")[0],{upcomingBookings:b,pastBookings:j}=v.useMemo(()=>{const k=d.filter(T=>T.date>=x).sort((T,I)=>T.date.localeCompare(I.date)),E=d.filter(T=>T.date<x).sort((T,I)=>I.date.localeCompare(T.date));return{upcomingBookings:k,pastBookings:E}},[d,x]),_=f.filter(k=>!k.isRead).length;if(t)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),s.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:s.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Profile"})})]}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx($e,{className:"h-12 w-64 mb-8"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx($e,{className:"h-64"}),s.jsx($e,{className:"h-64"})]})]})]}),s.jsx(Ht,{})]});if(!r)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center",children:s.jsx(ne,{className:"max-w-md w-full mx-4",children:s.jsxs(se,{className:"pt-6 text-center",children:[s.jsx(ls,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view your profile and booking history."}),s.jsx(me,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),s.jsx(Ht,{})]});const N=k=>{switch(k){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},S=k=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl","data-testid":`booking-entry-${k.id}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:k.venue}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[k.date," at ",k.startTime," - ",k.endTime]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(ce,{variant:k.status==="CONFIRMED"?"default":"secondary",children:k.status}),s.jsx("div",{className:"text-sm font-semibold text-sky-600 mt-1",children:Ga(k.totalPrice)})]})]},k.id);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),s.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:s.jsx("h1",{className:"text-3xl md:text-4xl font-bold","data-testid":"text-profile-title",children:"My Profile"})})]}),s.jsx("div",{className:"qd-container py-6",children:s.jsxs(ua,{defaultValue:i,className:"space-y-6",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[s.jsxs(Vt,{value:"account","data-testid":"tab-account",children:[s.jsx(ls,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Account"]}),s.jsxs(Vt,{value:"bookings","data-testid":"tab-bookings",children:[s.jsx(mr,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Bookings"]}),s.jsxs(Vt,{value:"notifications",className:"relative","data-testid":"tab-notifications",children:[s.jsx(pc,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Notifications",_>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[16px] h-[16px] px-1 text-[10px] font-medium text-white bg-red-500 rounded-full",children:_})]}),s.jsxs(Vt,{value:"membership","data-testid":"tab-membership",children:[s.jsx(si,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Membership"]})]}),s.jsxs(qt,{value:"account",className:"space-y-6",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"w-5 h-5"}),"Account Information"]})}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs(Od,{className:"w-24 h-24",children:[s.jsx(Td,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`}),s.jsxs(Id,{className:"text-2xl bg-primary/10 text-primary",children:[(C=e==null?void 0:e.firstName)==null?void 0:C[0],(P=e==null?void 0:e.lastName)==null?void 0:P[0]]})]}),s.jsx("button",{type:"button",onClick:()=>{var k;return(k=o.current)==null?void 0:k.click()},className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",disabled:w.isPending,"data-testid":"button-change-photo",children:w.isPending?s.jsx(Te,{className:"w-6 h-6 text-white animate-spin"}):s.jsx(U5,{className:"w-6 h-6 text-white"})}),s.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:g,className:"hidden","data-testid":"input-profile-photo"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.email}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on photo to change"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(ls,{className:"w-3 h-3"})," Name"]}),s.jsxs("p",{className:"font-semibold","data-testid":"text-user-name",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(gf,{className:"w-3 h-3"})," Email"]}),s.jsx("p",{className:"font-semibold text-sm truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"Not provided"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Jo,{className:"w-3 h-3"})," Credit Balance"]}),s.jsx("p",{className:"font-semibold text-sky-600","data-testid":"text-credit-balance",children:Ga((e==null?void 0:e.creditBalance)||0)})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Qt,{className:"w-3 h-3"})," Total Hours Played"]}),s.jsxs("p",{className:"font-semibold","data-testid":"text-hours-played",children:[(e==null?void 0:e.totalHoursPlayed)||0," hrs"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(ci,{className:"w-3 h-3"})," Safety Certified"]}),s.jsx("p",{className:`font-semibold ${e!=null&&e.isSafetyCertified?"text-green-600":"text-red-600"}`,children:e!=null&&e.isSafetyCertified?"Yes":"No"})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Ek,{className:"w-3 h-3"})," Waiver Signed"]}),s.jsx("p",{className:`font-semibold ${e!=null&&e.hasSignedWaiver?"text-green-600":"text-red-600"}`,children:e!=null&&e.hasSignedWaiver?"Yes":"No"})]})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("a",{href:"/api/logout",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-logout",children:"Sign Out"})})})]}),s.jsxs(qt,{value:"bookings",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Your Bookings"}),s.jsx(me,{href:"/booking",children:s.jsx(M,{size:"sm","data-testid":"button-new-booking",children:"New Booking"})})]}),s.jsxs(ua,{defaultValue:"upcoming",className:"space-y-4",children:[s.jsxs(Ds,{children:[s.jsxs(Vt,{value:"upcoming",className:"gap-2","data-testid":"tab-upcoming-bookings",children:[s.jsx(iv,{className:"w-4 h-4"}),"Upcoming (",b.length,")"]}),s.jsxs(Vt,{value:"past",className:"gap-2","data-testid":"tab-past-bookings",children:[s.jsx(HE,{className:"w-4 h-4"}),"Past (",j.length,")"]})]}),s.jsx(qt,{value:"upcoming",className:"space-y-3",children:b.length>0?b.map(S):s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(mr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming bookings"}),s.jsx(me,{href:"/booking",children:s.jsx(M,{"data-testid":"button-make-first-booking",children:"Book a Facility"})})]})})}),s.jsx(qt,{value:"past",className:"space-y-3",children:j.length>0?j.map(S):s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(HE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No past bookings"})]})})})]})]}),s.jsxs(qt,{value:"notifications",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),_>0&&s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending,"data-testid":"button-mark-all-notifications-read",children:[y.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(wr,{className:"w-4 h-4 mr-2"}),"Mark all read"]})]}),h?s.jsxs("div",{className:"space-y-3",children:[s.jsx($e,{className:"h-20"}),s.jsx($e,{className:"h-20"}),s.jsx($e,{className:"h-20"})]}):f.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(pc,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]})}):s.jsx("div",{className:"space-y-3",children:f.map(k=>s.jsx(ne,{className:k.isRead?"":"ring-1 ring-primary/20","data-testid":`notification-card-${k.id}`,children:s.jsx(se,{className:"py-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${N(k.type)}`}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[k.link?s.jsx(me,{href:k.link,children:s.jsx("p",{className:"font-semibold hover:underline cursor-pointer",children:k.title})}):s.jsx("p",{className:"font-semibold",children:k.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:k.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:k.createdAt?JL(new Date(k.createdAt),{addSuffix:!0}):""})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!k.isRead&&s.jsx(M,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>p.mutate(k.id),disabled:p.isPending,"data-testid":`button-mark-notification-read-${k.id}`,children:p.isPending?s.jsx(Te,{className:"w-4 h-4 animate-spin"}):s.jsx(wr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",className:"w-8 h-8 text-destructive",onClick:()=>m.mutate(k.id),disabled:m.isPending,"data-testid":`button-delete-notification-${k.id}`,children:m.isPending?s.jsx(Te,{className:"w-4 h-4 animate-spin"}):s.jsx(hr,{className:"w-4 h-4"})})]})]})})]})})},k.id))})]}),s.jsx(qt,{value:"membership",className:"space-y-6",children:s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(si,{className:"w-5 h-5"}),"Membership Details"]})}),s.jsx(se,{className:"space-y-4",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-slate-900 to-slate-700 dark:from-slate-700 dark:to-slate-600 rounded-xl text-white",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-xs uppercase tracking-wider opacity-70",children:"Member ID"}),s.jsx("span",{className:"font-mono font-bold","data-testid":"text-membership-number",children:c.membershipNumber})]}),s.jsxs("div",{className:"text-2xl font-bold mb-1",children:[c.tier," Tier"]}),s.jsxs("div",{className:"text-xs opacity-70",children:["Valid until: ",new Date(c.validTo).toLocaleDateString()]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),s.jsx(ce,{variant:c.status==="ACTIVE"?"default":"secondary",children:c.status})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(yr,{className:"w-3 h-3"})," Guest Passes"]}),s.jsxs("p",{className:"font-semibold",children:[c.guestPasses," remaining"]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(si,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No active membership"}),s.jsx(me,{href:"/membership",children:s.jsx(M,{variant:"outline","data-testid":"button-view-membership-options",children:"View Membership Options"})})]})})]})})]})})]}),s.jsx(Ht,{})]})}var Zp=e=>e.type==="checkbox",ql=e=>e instanceof Date,as=e=>e==null;const A6=e=>typeof e=="object";var Qr=e=>!as(e)&&!Array.isArray(e)&&A6(e)&&!ql(e),O6=e=>Qr(e)&&e.target?Zp(e.target)?e.target.checked:e.target.value:e,vie=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,T6=(e,t)=>e.has(vie(t)),yie=e=>{const t=e.constructor&&e.constructor.prototype;return Qr(t)&&t.hasOwnProperty("isPrototypeOf")},y2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nn(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(y2&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Qr(e)&&yie(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=nn(e[a]));return n}var zb=e=>/^\w*$/.test(e),Tr=e=>e===void 0,b2=e=>Array.isArray(e)?e.filter(Boolean):[],w2=e=>b2(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Oe=(e,t,r)=>{if(!t||!Qr(e))return r;const n=(zb(t)?[t]:w2(t)).reduce((a,i)=>as(a)?a:a[i],e);return Tr(n)||n===e?Tr(e[t])?r:e[t]:n},_s=e=>typeof e=="boolean",Kn=e=>typeof e=="function",Xt=(e,t,r)=>{let n=-1;const a=zb(t)?[t]:w2(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Qr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Av={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Oa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},j2=L.createContext(null);j2.displayName="HookFormContext";const Wb=()=>L.useContext(j2),bie=e=>{const{children:t,...r}=e;return L.createElement(j2.Provider,{value:r},t)};var I6=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Oa.all&&(t._proxyFormState[o]=!n||Oa.all),r&&(r[o]=!0),e[o]}});return a};const N2=typeof window<"u"?L.useLayoutEffect:L.useEffect;function wie(e){const t=Wb(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=L.useState(r._formState),c=L.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return N2(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),L.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),L.useMemo(()=>I6(o,r,c.current,!1),[o,r])}var Ps=e=>typeof e=="string",EN=(e,t,r,n,a)=>Ps(e)?(n&&t.watch.add(e),Oe(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Oe(r,i))):(n&&(t.watchAll=!0),r),AN=e=>as(e)||!A6(e);function Ta(e,t,r=new WeakSet){if(AN(e)||AN(t))return Object.is(e,t);if(ql(e)&&ql(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(ql(o)&&ql(l)||Qr(o)&&Qr(l)||Array.isArray(o)&&Array.isArray(l)?!Ta(o,l,r):!Object.is(o,l))return!1}}return!0}function jie(e){const t=Wb(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=L.useRef(a),u=L.useRef(l),d=L.useRef(void 0),f=L.useRef(r),h=L.useRef(n);u.current=l;const[p,y]=L.useState(()=>{const j=r._getWatch(n,c.current);return u.current?u.current(j):j}),m=L.useCallback(j=>{const _=EN(n,r._names,j||r._formValues,!1,c.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),w=L.useCallback(j=>{if(!i){const _=EN(n,r._names,j||r._formValues,!1,c.current);if(u.current){const N=u.current(_);Ta(N,d.current)||(y(N),d.current=N)}else y(_)}},[r._formValues,r._names,i,n]);N2(()=>((f.current!==r||!Ta(h.current,n))&&(f.current=r,h.current=n,w()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:j=>{w(j.values)}})),[r,o,n,w]),L.useEffect(()=>r._removeUnmounted());const g=f.current!==r,x=h.current,b=L.useMemo(()=>{if(i)return null;const j=!g&&!Ta(x,n);return g||j?m():null},[i,g,n,x,m]);return b!==null?b:p}function Nie(e){const t=Wb(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=T6(a._names.array,r),u=L.useMemo(()=>Oe(a._formValues,r,Oe(a._defaultValues,r,o)),[a,r,o]),d=jie({control:a,name:r,defaultValue:u,exact:l}),f=wie({control:a,name:r,exact:l}),h=L.useRef(e),p=L.useRef(void 0),y=L.useRef(a.register(r,{...e.rules,value:d,..._s(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=L.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Oe(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Oe(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Oe(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Oe(f.validatingFields,r)},error:{enumerable:!0,get:()=>Oe(f.errors,r)}}),[f,r]),w=L.useCallback(j=>y.current.onChange({target:{value:O6(j),name:r},type:Av.CHANGE}),[r]),g=L.useCallback(()=>y.current.onBlur({target:{value:Oe(a._formValues,r),name:r},type:Av.BLUR}),[r,a._formValues]),x=L.useCallback(j=>{const _=Oe(a._fields,r);_&&_._f&&j&&(_._f.ref={focus:()=>Kn(j.focus)&&j.focus(),select:()=>Kn(j.select)&&j.select(),setCustomValidity:N=>Kn(j.setCustomValidity)&&j.setCustomValidity(N),reportValidity:()=>Kn(j.reportValidity)&&j.reportValidity()})},[a._fields,r]),b=L.useMemo(()=>({name:r,value:d,..._s(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:w,onBlur:g,ref:x}),[r,n,f.disabled,w,g,x,d]);return L.useEffect(()=>{const j=a._options.shouldUnregister||i,_=p.current;_&&_!==r&&!c&&a.unregister(_),a.register(r,{...h.current.rules,..._s(h.current.disabled)?{disabled:h.current.disabled}:{}});const N=(S,C)=>{const P=Oe(a._fields,S);P&&P._f&&(P._f.mount=C)};if(N(r,!0),j){const S=nn(Oe(a._options.defaultValues,r,h.current.defaultValue));Xt(a._defaultValues,r,S),Tr(Oe(a._formValues,r))&&Xt(a._formValues,r,S)}return!c&&a.register(r),p.current=r,()=>{(c?j&&!a._state.action:j)?a.unregister(r):N(r,!1)}},[r,a,c,i]),L.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),L.useMemo(()=>({field:b,formState:f,fieldState:m}),[b,f,m])}const _ie=e=>e.render(Nie(e));var R6=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Wh=e=>Array.isArray(e)?e:[e],NO=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function M6(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&Qr(a)&&i){const o=M6(a,i);Qr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var Vn=e=>Qr(e)&&!Object.keys(e).length,_2=e=>e.type==="file",Ov=e=>{if(!y2)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$6=e=>e.type==="select-multiple",S2=e=>e.type==="radio",Sie=e=>S2(e)||Zp(e),aj=e=>Ov(e)&&e.isConnected;function kie(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Tr(e)?n++:e[t[n++]];return e}function Cie(e){for(const t in e)if(e.hasOwnProperty(t)&&!Tr(e[t]))return!1;return!0}function qr(e,t){const r=Array.isArray(t)?t:zb(t)?[t]:w2(t),n=r.length===1?e:kie(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Qr(n)&&Vn(n)||Array.isArray(n)&&Cie(n))&&qr(e,r.slice(0,-1)),e}var Pie=e=>{for(const t in e)if(Kn(e[t]))return!0;return!1};function D6(e){return Array.isArray(e)||Qr(e)&&!Pie(e)}function ON(e,t={}){for(const r in e){const n=e[r];D6(n)?(t[r]=Array.isArray(n)?[]:{},ON(n,t[r])):Tr(n)||(t[r]=!0)}return t}function ju(e,t,r){r||(r=ON(t));for(const n in e){const a=e[n];if(D6(a))Tr(t)||AN(r[n])?r[n]=ON(a,Array.isArray(a)?[]:{}):ju(a,as(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!Ta(a,i)}}return r}const _O={value:!1,isValid:!1},SO={value:!0,isValid:!0};var L6=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Tr(e[0].attributes.value)?Tr(e[0].value)||e[0].value===""?SO:{value:e[0].value,isValid:!0}:SO:_O}return _O},F6=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Tr(e)?e:t?e===""?NaN:e&&+e:r&&Ps(e)?new Date(e):n?n(e):e;const kO={isValid:!1,value:null};var U6=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,kO):kO;function CO(e){const t=e.ref;return _2(t)?t.files:S2(t)?U6(e.refs).value:$6(t)?[...t.selectedOptions].map(({value:r})=>r):Zp(t)?L6(e.refs).value:F6(Tr(t.value)?e.ref.value:t.value,e)}var Eie=(e,t,r,n)=>{const a={};for(const i of e){const o=Oe(t,i);o&&Xt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Tv=e=>e instanceof RegExp,ah=e=>Tr(e)?e:Tv(e)?e.source:Qr(e)?Tv(e.value)?e.value.source:e.value:e,PO=e=>({isOnSubmit:!e||e===Oa.onSubmit,isOnBlur:e===Oa.onBlur,isOnChange:e===Oa.onChange,isOnAll:e===Oa.all,isOnTouch:e===Oa.onTouched});const EO="AsyncFunction";var Aie=e=>!!e&&!!e.validate&&!!(Kn(e.validate)&&e.validate.constructor.name===EO||Qr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===EO)),Oie=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),AO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Kh=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Oe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Kh(l,t))break}else if(Qr(l)&&Kh(l,t))break}}};function OO(e,t,r){const n=Oe(e,r);if(n||zb(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Oe(t,i),l=Oe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var Tie=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Vn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Oa.all))},Iie=(e,t,r)=>!e||!t||e===t||Wh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Rie=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Mie=(e,t)=>!b2(Oe(e,t)).length&&qr(e,t),$ie=(e,t,r)=>{const n=Wh(Oe(e,r));return Xt(n,"root",t[r]),Xt(e,r,n),e};function TO(e,t,r="validate"){if(Ps(e)||Array.isArray(e)&&e.every(Ps)||_s(e)&&!e)return{type:r,message:Ps(e)?e:"",ref:t}}var mu=e=>Qr(e)&&!Tv(e)?e:{value:e,message:""},IO=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:y,name:m,valueAsNumber:w,mount:g}=e._f,x=Oe(r,m);if(!g||t.has(m))return{};const b=l?l[0]:o,j=T=>{a&&b.reportValidity&&(b.setCustomValidity(_s(T)?"":T||""),b.reportValidity())},_={},N=S2(o),S=Zp(o),C=N||S,P=(w||_2(o))&&Tr(o.value)&&Tr(x)||Ov(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,k=R6.bind(null,m,n,_),E=(T,I,R,D=vi.maxLength,O=vi.minLength)=>{const z=T?I:R;_[m]={type:T?D:O,message:z,ref:o,...k(T?D:O,z)}};if(i?!Array.isArray(x)||!x.length:c&&(!C&&(P||as(x))||_s(x)&&!x||S&&!L6(l).isValid||N&&!U6(l).isValid)){const{value:T,message:I}=Ps(c)?{value:!!c,message:c}:mu(c);if(T&&(_[m]={type:vi.required,message:I,ref:b,...k(vi.required,I)},!n))return j(I),_}if(!P&&(!as(f)||!as(h))){let T,I;const R=mu(h),D=mu(f);if(!as(x)&&!isNaN(x)){const O=o.valueAsNumber||x&&+x;as(R.value)||(T=O>R.value),as(D.value)||(I=O<D.value)}else{const O=o.valueAsDate||new Date(x),z=Q=>new Date(new Date().toDateString()+" "+Q),A=o.type=="time",$=o.type=="week";Ps(R.value)&&x&&(T=A?z(x)>z(R.value):$?x>R.value:O>new Date(R.value)),Ps(D.value)&&x&&(I=A?z(x)<z(D.value):$?x<D.value:O<new Date(D.value))}if((T||I)&&(E(!!T,R.message,D.message,vi.max,vi.min),!n))return j(_[m].message),_}if((u||d)&&!P&&(Ps(x)||i&&Array.isArray(x))){const T=mu(u),I=mu(d),R=!as(T.value)&&x.length>+T.value,D=!as(I.value)&&x.length<+I.value;if((R||D)&&(E(R,T.message,I.message),!n))return j(_[m].message),_}if(p&&!P&&Ps(x)){const{value:T,message:I}=mu(p);if(Tv(T)&&!x.match(T)&&(_[m]={type:vi.pattern,message:I,ref:o,...k(vi.pattern,I)},!n))return j(I),_}if(y){if(Kn(y)){const T=await y(x,r),I=TO(T,b);if(I&&(_[m]={...I,...k(vi.validate,I.message)},!n))return j(I.message),_}else if(Qr(y)){let T={};for(const I in y){if(!Vn(T)&&!n)break;const R=TO(await y[I](x,r),b,I);R&&(T={...R,...k(I,R.message)},j(R.message),n&&(_[m]=T))}if(!Vn(T)&&(_[m]={ref:b,...T},!n))return _}}return j(!0),_};const Die={mode:Oa.onSubmit,reValidateMode:Oa.onChange,shouldFocusError:!0};function Lie(e={}){let t={...Die,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Kn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Qr(t.defaultValues)||Qr(t.values)?nn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:nn(a),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:NO(),state:NO()},y=t.criteriaMode===Oa.all,m=K=>Z=>{clearTimeout(u),u=setTimeout(K,Z)},w=async K=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||K)){let Z;t.resolver?(Z=Vn((await C()).errors),g()):Z=await k(n,!0),Z!==r.isValid&&p.state.next({isValid:Z})}},g=(K,Z)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((K||Array.from(l.mount)).forEach(ae=>{ae&&(Z?Xt(r.validatingFields,ae,Z):qr(r.validatingFields,ae))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Vn(r.validatingFields)}))},x=(K,Z=[],ae,Ae,Se=!0,_e=!0)=>{if(Ae&&ae&&!t.disabled){if(o.action=!0,_e&&Array.isArray(Oe(n,K))){const ze=ae(Oe(n,K),Ae.argA,Ae.argB);Se&&Xt(n,K,ze)}if(_e&&Array.isArray(Oe(r.errors,K))){const ze=ae(Oe(r.errors,K),Ae.argA,Ae.argB);Se&&Xt(r.errors,K,ze),Mie(r.errors,K)}if((f.touchedFields||h.touchedFields)&&_e&&Array.isArray(Oe(r.touchedFields,K))){const ze=ae(Oe(r.touchedFields,K),Ae.argA,Ae.argB);Se&&Xt(r.touchedFields,K,ze)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=ju(a,i)),p.state.next({name:K,isDirty:T(K,Z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Xt(i,K,Z)},b=(K,Z)=>{Xt(r.errors,K,Z),p.state.next({errors:r.errors})},j=K=>{r.errors=K,p.state.next({errors:r.errors,isValid:!1})},_=(K,Z,ae,Ae)=>{const Se=Oe(n,K);if(Se){const _e=Oe(i,K,Tr(ae)?Oe(a,K):ae);Tr(_e)||Ae&&Ae.defaultChecked||Z?Xt(i,K,Z?_e:CO(Se._f)):D(K,_e),o.mount&&!o.action&&w()}},N=(K,Z,ae,Ae,Se)=>{let _e=!1,ze=!1;const $t={name:K};if(!t.disabled){if(!ae||Ae){(f.isDirty||h.isDirty)&&(ze=r.isDirty,r.isDirty=$t.isDirty=T(),_e=ze!==$t.isDirty);const Tt=Ta(Oe(a,K),Z);ze=!!Oe(r.dirtyFields,K),Tt?qr(r.dirtyFields,K):Xt(r.dirtyFields,K,!0),$t.dirtyFields=r.dirtyFields,_e=_e||(f.dirtyFields||h.dirtyFields)&&ze!==!Tt}if(ae){const Tt=Oe(r.touchedFields,K);Tt||(Xt(r.touchedFields,K,ae),$t.touchedFields=r.touchedFields,_e=_e||(f.touchedFields||h.touchedFields)&&Tt!==ae)}_e&&Se&&p.state.next($t)}return _e?$t:{}},S=(K,Z,ae,Ae)=>{const Se=Oe(r.errors,K),_e=(f.isValid||h.isValid)&&_s(Z)&&r.isValid!==Z;if(t.delayError&&ae?(c=m(()=>b(K,ae)),c(t.delayError)):(clearTimeout(u),c=null,ae?Xt(r.errors,K,ae):qr(r.errors,K)),(ae?!Ta(Se,ae):Se)||!Vn(Ae)||_e){const ze={...Ae,..._e&&_s(Z)?{isValid:Z}:{},errors:r.errors,name:K};r={...r,...ze},p.state.next(ze)}},C=async K=>(g(K,!0),await t.resolver(i,t.context,Eie(K||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),P=async K=>{const{errors:Z}=await C(K);if(g(K),K)for(const ae of K){const Ae=Oe(Z,ae);Ae?Xt(r.errors,ae,Ae):qr(r.errors,ae)}else r.errors=Z;return Z},k=async(K,Z,ae={valid:!0})=>{for(const Ae in K){const Se=K[Ae];if(Se){const{_f:_e,...ze}=Se;if(_e){const $t=l.array.has(_e.name),Tt=Se._f&&Aie(Se._f);Tt&&f.validatingFields&&g([_e.name],!0);const Nr=await IO(Se,l.disabled,i,y,t.shouldUseNativeValidation&&!Z,$t);if(Tt&&f.validatingFields&&g([_e.name]),Nr[_e.name]&&(ae.valid=!1,Z))break;!Z&&(Oe(Nr,_e.name)?$t?$ie(r.errors,Nr,_e.name):Xt(r.errors,_e.name,Nr[_e.name]):qr(r.errors,_e.name))}!Vn(ze)&&await k(ze,Z,ae)}}return ae.valid},E=()=>{for(const K of l.unMount){const Z=Oe(n,K);Z&&(Z._f.refs?Z._f.refs.every(ae=>!aj(ae)):!aj(Z._f.ref))&&be(K)}l.unMount=new Set},T=(K,Z)=>!t.disabled&&(K&&Z&&Xt(i,K,Z),!Ta(X(),a)),I=(K,Z,ae)=>EN(K,l,{...o.mount?i:Tr(Z)?a:Ps(K)?{[K]:Z}:Z},ae,Z),R=K=>b2(Oe(o.mount?i:a,K,t.shouldUnregister?Oe(a,K,[]):[])),D=(K,Z,ae={})=>{const Ae=Oe(n,K);let Se=Z;if(Ae){const _e=Ae._f;_e&&(!_e.disabled&&Xt(i,K,F6(Z,_e)),Se=Ov(_e.ref)&&as(Z)?"":Z,$6(_e.ref)?[..._e.ref.options].forEach(ze=>ze.selected=Se.includes(ze.value)):_e.refs?Zp(_e.ref)?_e.refs.forEach(ze=>{(!ze.defaultChecked||!ze.disabled)&&(Array.isArray(Se)?ze.checked=!!Se.find($t=>$t===ze.value):ze.checked=Se===ze.value||!!Se)}):_e.refs.forEach(ze=>ze.checked=ze.value===Se):_2(_e.ref)?_e.ref.value="":(_e.ref.value=Se,_e.ref.type||p.state.next({name:K,values:nn(i)})))}(ae.shouldDirty||ae.shouldTouch)&&N(K,Se,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&Q(K)},O=(K,Z,ae)=>{for(const Ae in Z){if(!Z.hasOwnProperty(Ae))return;const Se=Z[Ae],_e=K+"."+Ae,ze=Oe(n,_e);(l.array.has(K)||Qr(Se)||ze&&!ze._f)&&!ql(Se)?O(_e,Se,ae):D(_e,Se,ae)}},z=(K,Z,ae={})=>{const Ae=Oe(n,K),Se=l.array.has(K),_e=nn(Z);Xt(i,K,_e),Se?(p.array.next({name:K,values:nn(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&ae.shouldDirty&&p.state.next({name:K,dirtyFields:ju(a,i),isDirty:T(K,_e)})):Ae&&!Ae._f&&!as(_e)?O(K,_e,ae):D(K,_e,ae),AO(K,l)&&p.state.next({...r,name:K}),p.state.next({name:o.mount?K:void 0,values:nn(i)})},A=async K=>{o.mount=!0;const Z=K.target;let ae=Z.name,Ae=!0;const Se=Oe(n,ae),_e=Tt=>{Ae=Number.isNaN(Tt)||ql(Tt)&&isNaN(Tt.getTime())||Ta(Tt,Oe(i,ae,Tt))},ze=PO(t.mode),$t=PO(t.reValidateMode);if(Se){let Tt,Nr;const zs=Z.type?CO(Se._f):O6(K),wn=K.type===Av.BLUR||K.type===Av.FOCUS_OUT,Wa=!Oie(Se._f)&&!t.resolver&&!Oe(r.errors,ae)&&!Se._f.deps||Rie(wn,Oe(r.touchedFields,ae),r.isSubmitted,$t,ze),oo=AO(ae,l,wn);Xt(i,ae,zs),wn?(!Z||!Z.readOnly)&&(Se._f.onBlur&&Se._f.onBlur(K),c&&c(0)):Se._f.onChange&&Se._f.onChange(K);const vl=N(ae,zs,wn),yl=!Vn(vl)||oo;if(!wn&&p.state.next({name:ae,type:K.type,values:nn(i)}),Wa)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?wn&&w():wn||w()),yl&&p.state.next({name:ae,...oo?{}:vl});if(!wn&&oo&&p.state.next({...r}),t.resolver){const{errors:Xc}=await C([ae]);if(g([ae]),_e(zs),Ae){const vs=OO(r.errors,n,ae),lo=OO(Xc,n,vs.name||ae);Tt=lo.error,ae=lo.name,Nr=Vn(Xc)}}else g([ae],!0),Tt=(await IO(Se,l.disabled,i,y,t.shouldUseNativeValidation))[ae],g([ae]),_e(zs),Ae&&(Tt?Nr=!1:(f.isValid||h.isValid)&&(Nr=await k(n,!0)));Ae&&(Se._f.deps&&(!Array.isArray(Se._f.deps)||Se._f.deps.length>0)&&Q(Se._f.deps),S(ae,Nr,Tt,vl))}},$=(K,Z)=>{if(Oe(r.errors,Z)&&K.focus)return K.focus(),1},Q=async(K,Z={})=>{let ae,Ae;const Se=Wh(K);if(t.resolver){const _e=await P(Tr(K)?K:Se);ae=Vn(_e),Ae=K?!Se.some(ze=>Oe(_e,ze)):ae}else K?(Ae=(await Promise.all(Se.map(async _e=>{const ze=Oe(n,_e);return await k(ze&&ze._f?{[_e]:ze}:ze)}))).every(Boolean),!(!Ae&&!r.isValid)&&w()):Ae=ae=await k(n);return p.state.next({...!Ps(K)||(f.isValid||h.isValid)&&ae!==r.isValid?{}:{name:K},...t.resolver||!K?{isValid:ae}:{},errors:r.errors}),Z.shouldFocus&&!Ae&&Kh(n,$,K?Se:l.mount),Ae},X=(K,Z)=>{let ae={...o.mount?i:a};return Z&&(ae=M6(Z.dirtyFields?r.dirtyFields:r.touchedFields,ae)),Tr(K)?ae:Ps(K)?Oe(ae,K):K.map(Ae=>Oe(ae,Ae))},F=(K,Z)=>({invalid:!!Oe((Z||r).errors,K),isDirty:!!Oe((Z||r).dirtyFields,K),error:Oe((Z||r).errors,K),isValidating:!!Oe(r.validatingFields,K),isTouched:!!Oe((Z||r).touchedFields,K)}),J=K=>{K&&Wh(K).forEach(Z=>qr(r.errors,Z)),p.state.next({errors:K?r.errors:{}})},q=(K,Z,ae)=>{const Ae=(Oe(n,K,{_f:{}})._f||{}).ref,Se=Oe(r.errors,K)||{},{ref:_e,message:ze,type:$t,...Tt}=Se;Xt(r.errors,K,{...Tt,...Z,ref:Ae}),p.state.next({name:K,errors:r.errors,isValid:!1}),ae&&ae.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},ee=(K,Z)=>Kn(K)?p.state.subscribe({next:ae=>"values"in ae&&K(I(void 0,Z),ae)}):I(K,Z,!0),pe=K=>p.state.subscribe({next:Z=>{Iie(K.name,Z.name,K.exact)&&Tie(Z,K.formState||f,Ft,K.reRenderRoot)&&K.callback({values:{...i},...r,...Z,defaultValues:a})}}).unsubscribe,te=K=>(o.mount=!0,h={...h,...K.formState},pe({...K,formState:{...d,...K.formState}})),be=(K,Z={})=>{for(const ae of K?Wh(K):l.mount)l.mount.delete(ae),l.array.delete(ae),Z.keepValue||(qr(n,ae),qr(i,ae)),!Z.keepError&&qr(r.errors,ae),!Z.keepDirty&&qr(r.dirtyFields,ae),!Z.keepTouched&&qr(r.touchedFields,ae),!Z.keepIsValidating&&qr(r.validatingFields,ae),!t.shouldUnregister&&!Z.keepDefaultValue&&qr(a,ae);p.state.next({values:nn(i)}),p.state.next({...r,...Z.keepDirty?{isDirty:T()}:{}}),!Z.keepIsValid&&w()},ie=({disabled:K,name:Z})=>{(_s(K)&&o.mount||K||l.disabled.has(Z))&&(K?l.disabled.add(Z):l.disabled.delete(Z))},U=(K,Z={})=>{let ae=Oe(n,K);const Ae=_s(Z.disabled)||_s(t.disabled);return Xt(n,K,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:K}},name:K,mount:!0,...Z}}),l.mount.add(K),ae?ie({disabled:_s(Z.disabled)?Z.disabled:t.disabled,name:K}):_(K,!0,Z.value),{...Ae?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:ah(Z.min),max:ah(Z.max),minLength:ah(Z.minLength),maxLength:ah(Z.maxLength),pattern:ah(Z.pattern)}:{},name:K,onChange:A,onBlur:A,ref:Se=>{if(Se){U(K,Z),ae=Oe(n,K);const _e=Tr(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,ze=Sie(_e),$t=ae._f.refs||[];if(ze?$t.find(Tt=>Tt===_e):_e===ae._f.ref)return;Xt(n,K,{_f:{...ae._f,...ze?{refs:[...$t.filter(aj),_e,...Array.isArray(Oe(a,K))?[{}]:[]],ref:{type:_e.type,name:K}}:{ref:_e}}}),_(K,!1,void 0,_e)}else ae=Oe(n,K,{}),ae._f&&(ae._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(T6(l.array,K)&&o.action)&&l.unMount.add(K)}}},le=()=>t.shouldFocusError&&Kh(n,$,l.mount),G=K=>{_s(K)&&(p.state.next({disabled:K}),Kh(n,(Z,ae)=>{const Ae=Oe(n,ae);Ae&&(Z.disabled=Ae._f.disabled||K,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(Se=>{Se.disabled=Ae._f.disabled||K}))},0,!1))},B=(K,Z)=>async ae=>{let Ae;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let Se=nn(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:_e,values:ze}=await C();g(),r.errors=_e,Se=nn(ze)}else await k(n);if(l.disabled.size)for(const _e of l.disabled)qr(Se,_e);if(qr(r.errors,"root"),Vn(r.errors)){p.state.next({errors:{}});try{await K(Se,ae)}catch(_e){Ae=_e}}else Z&&await Z({...r.errors},ae),le(),setTimeout(le);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vn(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},ge=(K,Z={})=>{Oe(n,K)&&(Tr(Z.defaultValue)?z(K,nn(Oe(a,K))):(z(K,Z.defaultValue),Xt(a,K,nn(Z.defaultValue))),Z.keepTouched||qr(r.touchedFields,K),Z.keepDirty||(qr(r.dirtyFields,K),r.isDirty=Z.defaultValue?T(K,nn(Oe(a,K))):T()),Z.keepError||(qr(r.errors,K),f.isValid&&w()),p.state.next({...r}))},Xe=(K,Z={})=>{const ae=K?nn(K):a,Ae=nn(ae),Se=Vn(K),_e=Se?a:Ae;if(Z.keepDefaultValues||(a=ae),!Z.keepValues){if(Z.keepDirtyValues){const ze=new Set([...l.mount,...Object.keys(ju(a,i))]);for(const $t of Array.from(ze))Oe(r.dirtyFields,$t)?Xt(_e,$t,Oe(i,$t)):z($t,Oe(_e,$t))}else{if(y2&&Tr(K))for(const ze of l.mount){const $t=Oe(n,ze);if($t&&$t._f){const Tt=Array.isArray($t._f.refs)?$t._f.refs[0]:$t._f.ref;if(Ov(Tt)){const Nr=Tt.closest("form");if(Nr){Nr.reset();break}}}}if(Z.keepFieldsRef)for(const ze of l.mount)z(ze,Oe(_e,ze));else n={}}i=t.shouldUnregister?Z.keepDefaultValues?nn(a):{}:nn(_e),p.array.next({values:{..._e}}),p.state.next({values:{..._e}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues||!t.shouldUnregister&&!Vn(_e),o.watch=!!t.shouldUnregister,o.keepIsValid=!!Z.keepIsValid,o.action=!1,Z.keepErrors||(r.errors={}),p.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:Se?!1:Z.keepDirty?r.isDirty:!!(Z.keepDefaultValues&&!Ta(K,a)),isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Se?{}:Z.keepDirtyValues?Z.keepDefaultValues&&i?ju(a,i):r.dirtyFields:Z.keepDefaultValues&&K?ju(a,K):Z.keepDirty?r.dirtyFields:{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},at=(K,Z)=>Xe(Kn(K)?K(i):K,{...t.resetOptions,...Z}),pt=(K,Z={})=>{const ae=Oe(n,K),Ae=ae&&ae._f;if(Ae){const Se=Ae.refs?Ae.refs[0]:Ae.ref;Se.focus&&setTimeout(()=>{Se.focus(),Z.shouldSelect&&Kn(Se.select)&&Se.select()})}},Ft=K=>{r={...r,...K}},Vr={control:{register:U,unregister:be,getFieldState:F,handleSubmit:B,setError:q,_subscribe:pe,_runSchema:C,_updateIsValidating:g,_focusError:le,_getWatch:I,_getDirty:T,_setValid:w,_setFieldArray:x,_setDisabledField:ie,_setErrors:j,_getFieldArray:R,_reset:Xe,_resetDefaultValues:()=>Kn(t.defaultValues)&&t.defaultValues().then(K=>{at(K,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:G,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(K){o=K},get _defaultValues(){return a},get _names(){return l},set _names(K){l=K},get _formState(){return r},get _options(){return t},set _options(K){t={...t,...K}}},subscribe:te,trigger:Q,register:U,handleSubmit:B,watch:ee,setValue:z,getValues:X,reset:at,resetField:ge,clearErrors:J,unregister:be,setError:q,setFocus:pt,getFieldState:F};return{...Vr,formControl:Vr}}function Ls(e={}){const t=L.useRef(void 0),r=L.useRef(void 0),[n,a]=L.useState({isDirty:!1,isValidating:!1,isLoading:Kn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Kn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Kn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Lie(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,N2(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),L.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),L.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),L.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),L.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),L.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),L.useEffect(()=>{var o;e.values&&!Ta(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),L.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=I6(n,i),t.current}const RO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Oe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},B6=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?RO(n.ref,r,e):n.refs&&n.refs.forEach(a=>RO(a,r,e))}},Fie=(e,t)=>{t.shouldUseNativeValidation&&B6(e,t);const r={};for(const n in e){const a=Oe(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(Uie(t.names||Object.keys(e),n)){const o=Object.assign({},Oe(r,n));Xt(o,"root",i),Xt(r,n,o)}else Xt(r,n,i)}return r},Uie=(e,t)=>e.some(r=>r.startsWith(t+"."));var Bie=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=R6(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Fs=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&B6({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Fie(Bie(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ut;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ut||(Ut={}));var MO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(MO||(MO={}));const Ke=Ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vo=e=>{switch(typeof e){case"undefined":return Ke.undefined;case"string":return Ke.string;case"number":return Number.isNaN(e)?Ke.nan:Ke.number;case"boolean":return Ke.boolean;case"function":return Ke.function;case"bigint":return Ke.bigint;case"symbol":return Ke.symbol;case"object":return Array.isArray(e)?Ke.array:e===null?Ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ke.promise:typeof Map<"u"&&e instanceof Map?Ke.map:typeof Set<"u"&&e instanceof Set?Ke.set:typeof Date<"u"&&e instanceof Date?Ke.date:Ke.object;default:return Ke.unknown}},ke=Ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Hi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Hi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Hi.create=e=>new Hi(e);const TN=(e,t)=>{let r;switch(e.code){case ke.invalid_type:e.received===Ke.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ut.jsonStringifyReplacer)}`;break;case ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ut.joinValues(e.keys,", ")}`;break;case ke.invalid_union:r="Invalid input";break;case ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ut.joinValues(e.options)}`;break;case ke.invalid_enum_value:r=`Invalid enum value. Expected ${Ut.joinValues(e.options)}, received '${e.received}'`;break;case ke.invalid_arguments:r="Invalid function arguments";break;case ke.invalid_return_type:r="Invalid function return type";break;case ke.invalid_date:r="Invalid date";break;case ke.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ut.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ke.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ke.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ke.custom:r="Invalid input";break;case ke.invalid_intersection_types:r="Intersection results could not be merged";break;case ke.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ke.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ut.assertNever(e)}return{message:r}};let Vie=TN;function qie(){return Vie}const zie=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Re(e,t){const r=qie(),n=zie({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===TN?void 0:TN].filter(a=>!!a)});e.common.issues.push(n)}class Us{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return gt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Us.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return gt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const gt=Object.freeze({status:"aborted"}),Ch=e=>({status:"dirty",value:e}),ma=e=>({status:"valid",value:e}),$O=e=>e.status==="aborted",DO=e=>e.status==="dirty",Rd=e=>e.status==="valid",Iv=e=>typeof Promise<"u"&&e instanceof Promise;var Ge;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ge||(Ge={}));class sl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const LO=(e,t)=>{if(Rd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Hi(e.common.issues);return this._error=r,this._error}}};function St(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Lt{get description(){return this._def.description}_getType(t){return vo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:vo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Us,ctx:{common:t.parent.common,data:t.data,parsedType:vo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Iv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vo(t)},a=this._parseSync({data:t,path:n.path,parent:n});return LO(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Rd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Rd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vo(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Iv(a)?a:Promise.resolve(a));return LO(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ke.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Dd({schema:this,typeName:xt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ko.create(this,this._def)}nullable(){return Ld.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ii.create(this)}promise(){return Dv.create(this,this._def)}or(t){return Mv.create([this,t],this._def)}and(t){return $v.create(this,t,this._def)}transform(t){return new Dd({...St(this._def),schema:this,typeName:xt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new MN({...St(this._def),innerType:this,defaultValue:r,typeName:xt.ZodDefault})}brand(){return new hoe({typeName:xt.ZodBranded,type:this,...St(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new $N({...St(this._def),innerType:this,catchValue:r,typeName:xt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return k2.create(this,t)}readonly(){return DN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Wie=/^c[^\s-]{8,}$/i,Kie=/^[0-9a-z]+$/,Hie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Gie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qie=/^[a-z0-9_-]{21}$/i,Yie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Xie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Jie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Zie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ij;const eoe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,toe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,roe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,noe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,soe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,aoe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,V6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ioe=new RegExp(`^${V6}$`);function q6(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function ooe(e){return new RegExp(`^${q6(e)}$`)}function loe(e){let t=`${V6}T${q6(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function coe(e,t){return!!((t==="v4"||!t)&&eoe.test(e)||(t==="v6"||!t)&&roe.test(e))}function uoe(e,t){if(!Yie.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function doe(e,t){return!!((t==="v4"||!t)&&toe.test(e)||(t==="v6"||!t)&&noe.test(e))}class Oi extends Lt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ke.string){const i=this._getOrReturnCtx(t);return Re(i,{code:ke.invalid_type,expected:Ke.string,received:i.parsedType}),gt}const n=new Us;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Re(a,{code:ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Re(a,{code:ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Jie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"email",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")ij||(ij=new RegExp(Zie,"u")),ij.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"emoji",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Gie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"uuid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Qie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"nanoid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Wie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"cuid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Kie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"cuid2",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Hie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"ulid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Re(a,{validation:"url",code:ke.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"regex",code:ke.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Re(a,{code:ke.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Re(a,{code:ke.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Re(a,{code:ke.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?loe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{code:ke.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?ioe.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{code:ke.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?ooe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{code:ke.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Xie.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"duration",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?coe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"ip",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?uoe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"jwt",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?doe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"cidr",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?soe.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"base64",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?aoe.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"base64url",code:ke.invalid_string,message:i.message}),n.dirty()):Ut.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ke.invalid_string,...Ge.errToObj(n)})}_addCheck(t){return new Oi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ge.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ge.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ge.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ge.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ge.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ge.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ge.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ge.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ge.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ge.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ge.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ge.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ge.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ge.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ge.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ge.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ge.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ge.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ge.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ge.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ge.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ge.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ge.errToObj(r)})}nonempty(t){return this.min(1,Ge.errToObj(t))}trim(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Oi.create=e=>new Oi({checks:[],typeName:xt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...St(e)});function foe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class yc extends Lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ke.number){const i=this._getOrReturnCtx(t);return Re(i,{code:ke.invalid_type,expected:Ke.number,received:i.parsedType}),gt}let n;const a=new Us;for(const i of this._def.checks)i.kind==="int"?Ut.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Re(n,{code:ke.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:ke.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:ke.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?foe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Re(n,{code:ke.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Re(n,{code:ke.not_finite,message:i.message}),a.dirty()):Ut.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ge.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ge.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ge.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ge.toString(r))}setLimit(t,r,n,a){return new yc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ge.toString(a)}]})}_addCheck(t){return new yc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ge.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ge.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ge.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ge.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ge.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ut.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}yc.create=e=>new yc({checks:[],typeName:xt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...St(e)});class bc extends Lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ke.bigint)return this._getInvalidInput(t);let n;const a=new Us;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:ke.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:ke.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:ke.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ut.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Re(r,{code:ke.invalid_type,expected:Ke.bigint,received:r.parsedType}),gt}gte(t,r){return this.setLimit("min",t,!0,Ge.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ge.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ge.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ge.toString(r))}setLimit(t,r,n,a){return new bc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ge.toString(a)}]})}_addCheck(t){return new bc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}bc.create=e=>new bc({checks:[],typeName:xt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...St(e)});class Rv extends Lt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ke.boolean){const n=this._getOrReturnCtx(t);return Re(n,{code:ke.invalid_type,expected:Ke.boolean,received:n.parsedType}),gt}return ma(t.data)}}Rv.create=e=>new Rv({typeName:xt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...St(e)});class Md extends Lt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ke.date){const i=this._getOrReturnCtx(t);return Re(i,{code:ke.invalid_type,expected:Ke.date,received:i.parsedType}),gt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Re(i,{code:ke.invalid_date}),gt}const n=new Us;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:ke.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:ke.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ut.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Md({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ge.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ge.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Md.create=e=>new Md({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:xt.ZodDate,...St(e)});class FO extends Lt{_parse(t){if(this._getType(t)!==Ke.symbol){const n=this._getOrReturnCtx(t);return Re(n,{code:ke.invalid_type,expected:Ke.symbol,received:n.parsedType}),gt}return ma(t.data)}}FO.create=e=>new FO({typeName:xt.ZodSymbol,...St(e)});class UO extends Lt{_parse(t){if(this._getType(t)!==Ke.undefined){const n=this._getOrReturnCtx(t);return Re(n,{code:ke.invalid_type,expected:Ke.undefined,received:n.parsedType}),gt}return ma(t.data)}}UO.create=e=>new UO({typeName:xt.ZodUndefined,...St(e)});class BO extends Lt{_parse(t){if(this._getType(t)!==Ke.null){const n=this._getOrReturnCtx(t);return Re(n,{code:ke.invalid_type,expected:Ke.null,received:n.parsedType}),gt}return ma(t.data)}}BO.create=e=>new BO({typeName:xt.ZodNull,...St(e)});class VO extends Lt{constructor(){super(...arguments),this._any=!0}_parse(t){return ma(t.data)}}VO.create=e=>new VO({typeName:xt.ZodAny,...St(e)});class qO extends Lt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ma(t.data)}}qO.create=e=>new qO({typeName:xt.ZodUnknown,...St(e)});class al extends Lt{_parse(t){const r=this._getOrReturnCtx(t);return Re(r,{code:ke.invalid_type,expected:Ke.never,received:r.parsedType}),gt}}al.create=e=>new al({typeName:xt.ZodNever,...St(e)});class zO extends Lt{_parse(t){if(this._getType(t)!==Ke.undefined){const n=this._getOrReturnCtx(t);return Re(n,{code:ke.invalid_type,expected:Ke.void,received:n.parsedType}),gt}return ma(t.data)}}zO.create=e=>new zO({typeName:xt.ZodVoid,...St(e)});class ii extends Lt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ke.array)return Re(r,{code:ke.invalid_type,expected:Ke.array,received:r.parsedType}),gt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Re(r,{code:o?ke.too_big:ke.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Re(r,{code:ke.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Re(r,{code:ke.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new sl(r,o,r.path,l)))).then(o=>Us.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new sl(r,o,r.path,l)));return Us.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ii({...this._def,minLength:{value:t,message:Ge.toString(r)}})}max(t,r){return new ii({...this._def,maxLength:{value:t,message:Ge.toString(r)}})}length(t,r){return new ii({...this._def,exactLength:{value:t,message:Ge.toString(r)}})}nonempty(t){return this.min(1,t)}}ii.create=(e,t)=>new ii({type:e,minLength:null,maxLength:null,exactLength:null,typeName:xt.ZodArray,...St(t)});function Nu(e){if(e instanceof Kr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ko.create(Nu(n))}return new Kr({...e._def,shape:()=>t})}else return e instanceof ii?new ii({...e._def,type:Nu(e.element)}):e instanceof Ko?Ko.create(Nu(e.unwrap())):e instanceof Ld?Ld.create(Nu(e.unwrap())):e instanceof wc?wc.create(e.items.map(t=>Nu(t))):e}class Kr extends Lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ut.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ke.object){const u=this._getOrReturnCtx(t);return Re(u,{code:ke.invalid_type,expected:Ke.object,received:u.parsedType}),gt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof al&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new sl(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof al){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Re(a,{code:ke.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new sl(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Us.mergeObjectSync(n,u)):Us.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ge.errToObj,new Kr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ge.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Kr({...this._def,unknownKeys:"strip"})}passthrough(){return new Kr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:xt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Kr({...this._def,catchall:t})}pick(t){const r={};for(const n of Ut.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ut.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}deepPartial(){return Nu(this)}partial(t){const r={};for(const n of Ut.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Kr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ut.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ko;)i=i._def.innerType;r[n]=i}return new Kr({...this._def,shape:()=>r})}keyof(){return z6(Ut.objectKeys(this.shape))}}Kr.create=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strip",catchall:al.create(),typeName:xt.ZodObject,...St(t)});Kr.strictCreate=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strict",catchall:al.create(),typeName:xt.ZodObject,...St(t)});Kr.lazycreate=(e,t)=>new Kr({shape:e,unknownKeys:"strip",catchall:al.create(),typeName:xt.ZodObject,...St(t)});class Mv extends Lt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Hi(l.ctx.common.issues));return Re(r,{code:ke.invalid_union,unionErrors:o}),gt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Hi(c));return Re(r,{code:ke.invalid_union,unionErrors:l}),gt}}get options(){return this._def.options}}Mv.create=(e,t)=>new Mv({options:e,typeName:xt.ZodUnion,...St(t)});function IN(e,t){const r=vo(e),n=vo(t);if(e===t)return{valid:!0,data:e};if(r===Ke.object&&n===Ke.object){const a=Ut.objectKeys(t),i=Ut.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=IN(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ke.array&&n===Ke.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=IN(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ke.date&&n===Ke.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class $v extends Lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if($O(i)||$O(o))return gt;const l=IN(i.value,o.value);return l.valid?((DO(i)||DO(o))&&r.dirty(),{status:r.value,value:l.data}):(Re(n,{code:ke.invalid_intersection_types}),gt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}$v.create=(e,t,r)=>new $v({left:e,right:t,typeName:xt.ZodIntersection,...St(r)});class wc extends Lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.array)return Re(n,{code:ke.invalid_type,expected:Ke.array,received:n.parsedType}),gt;if(n.data.length<this._def.items.length)return Re(n,{code:ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gt;!this._def.rest&&n.data.length>this._def.items.length&&(Re(n,{code:ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new sl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Us.mergeArray(r,o)):Us.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new wc({...this._def,rest:t})}}wc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wc({items:e,typeName:xt.ZodTuple,rest:null,...St(t)})};class WO extends Lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.map)return Re(n,{code:ke.invalid_type,expected:Ke.map,received:n.parsedType}),gt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new sl(n,l,n.path,[u,"key"])),value:i._parse(new sl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return gt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return gt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}WO.create=(e,t,r)=>new WO({valueType:t,keyType:e,typeName:xt.ZodMap,...St(r)});class Fm extends Lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.set)return Re(n,{code:ke.invalid_type,expected:Ke.set,received:n.parsedType}),gt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Re(n,{code:ke.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Re(n,{code:ke.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return gt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new sl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Fm({...this._def,minSize:{value:t,message:Ge.toString(r)}})}max(t,r){return new Fm({...this._def,maxSize:{value:t,message:Ge.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Fm.create=(e,t)=>new Fm({valueType:e,minSize:null,maxSize:null,typeName:xt.ZodSet,...St(t)});class KO extends Lt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}KO.create=(e,t)=>new KO({getter:e,typeName:xt.ZodLazy,...St(t)});class RN extends Lt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Re(r,{received:r.data,code:ke.invalid_literal,expected:this._def.value}),gt}return{status:"valid",value:t.data}}get value(){return this._def.value}}RN.create=(e,t)=>new RN({value:e,typeName:xt.ZodLiteral,...St(t)});function z6(e,t){return new $d({values:e,typeName:xt.ZodEnum,...St(t)})}class $d extends Lt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Re(r,{expected:Ut.joinValues(n),received:r.parsedType,code:ke.invalid_type}),gt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Re(r,{received:r.data,code:ke.invalid_enum_value,options:n}),gt}return ma(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return $d.create(t,{...this._def,...r})}exclude(t,r=this._def){return $d.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}$d.create=z6;class HO extends Lt{_parse(t){const r=Ut.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ke.string&&n.parsedType!==Ke.number){const a=Ut.objectValues(r);return Re(n,{expected:Ut.joinValues(a),received:n.parsedType,code:ke.invalid_type}),gt}if(this._cache||(this._cache=new Set(Ut.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Ut.objectValues(r);return Re(n,{received:n.data,code:ke.invalid_enum_value,options:a}),gt}return ma(t.data)}get enum(){return this._def.values}}HO.create=(e,t)=>new HO({values:e,typeName:xt.ZodNativeEnum,...St(t)});class Dv extends Lt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ke.promise&&r.common.async===!1)return Re(r,{code:ke.invalid_type,expected:Ke.promise,received:r.parsedType}),gt;const n=r.parsedType===Ke.promise?r.data:Promise.resolve(r.data);return ma(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Dv.create=(e,t)=>new Dv({type:e,typeName:xt.ZodPromise,...St(t)});class Dd extends Lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Re(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return gt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?gt:c.status==="dirty"||r.value==="dirty"?Ch(c.value):c});{if(r.value==="aborted")return gt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?gt:l.status==="dirty"||r.value==="dirty"?Ch(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?gt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?gt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Rd(o))return gt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Rd(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):gt);Ut.assertNever(a)}}Dd.create=(e,t,r)=>new Dd({schema:e,typeName:xt.ZodEffects,effect:t,...St(r)});Dd.createWithPreprocess=(e,t,r)=>new Dd({schema:t,effect:{type:"preprocess",transform:e},typeName:xt.ZodEffects,...St(r)});class Ko extends Lt{_parse(t){return this._getType(t)===Ke.undefined?ma(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ko.create=(e,t)=>new Ko({innerType:e,typeName:xt.ZodOptional,...St(t)});class Ld extends Lt{_parse(t){return this._getType(t)===Ke.null?ma(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ld.create=(e,t)=>new Ld({innerType:e,typeName:xt.ZodNullable,...St(t)});class MN extends Lt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}MN.create=(e,t)=>new MN({innerType:e,typeName:xt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...St(t)});class $N extends Lt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Iv(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Hi(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Hi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}$N.create=(e,t)=>new $N({innerType:e,typeName:xt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...St(t)});class GO extends Lt{_parse(t){if(this._getType(t)!==Ke.nan){const n=this._getOrReturnCtx(t);return Re(n,{code:ke.invalid_type,expected:Ke.nan,received:n.parsedType}),gt}return{status:"valid",value:t.data}}}GO.create=e=>new GO({typeName:xt.ZodNaN,...St(e)});class hoe extends Lt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class k2 extends Lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?gt:i.status==="dirty"?(r.dirty(),Ch(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?gt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new k2({in:t,out:r,typeName:xt.ZodPipeline})}}class DN extends Lt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Rd(a)&&(a.value=Object.freeze(a.value)),a);return Iv(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}DN.create=(e,t)=>new DN({innerType:e,typeName:xt.ZodReadonly,...St(t)});var xt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(xt||(xt={}));const vt=Oi.create,W6=yc.create;bc.create;const C2=Rv.create;Md.create;al.create;ii.create;const pa=Kr.create;Mv.create;$v.create;wc.create;const QO=RN.create;$d.create;Dv.create;Ko.create;Ld.create;const Kb={string:e=>Oi.create({...e,coerce:!0}),number:e=>yc.create({...e,coerce:!0}),boolean:e=>Rv.create({...e,coerce:!0}),bigint:e=>bc.create({...e,coerce:!0}),date:e=>Md.create({...e,coerce:!0})};function moe(e){const t=poe(e),r=v.forwardRef((n,a)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(xoe);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function poe(e){const t=v.forwardRef((r,n)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=yoe(a),l=voe(i,a.props);return a.type!==v.Fragment&&(l.ref=n?Jn(n,o):o),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var goe=Symbol("radix.slottable");function xoe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===goe}function voe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function yoe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Hb="Dialog",[K6,H6]=An(Hb),[boe,Ba]=K6(Hb),G6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=ms({prop:n,defaultProp:a??!1,onChange:i,caller:Hb});return s.jsx(boe,{scope:t,triggerRef:l,contentRef:c,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};G6.displayName=Hb;var Q6="DialogTrigger",Y6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ba(Q6,r),i=ft(t,a.triggerRef);return s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":A2(a.open),...n,ref:i,onClick:je(e.onClick,a.onOpenToggle)})});Y6.displayName=Q6;var P2="DialogPortal",[woe,X6]=K6(P2,{forceMount:void 0}),J6=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ba(P2,t);return s.jsx(woe,{scope:t,forceMount:r,children:v.Children.map(n,o=>s.jsx(dn,{present:r||i.open,children:s.jsx(pf,{asChild:!0,container:a,children:o})}))})};J6.displayName=P2;var Lv="DialogOverlay",Z6=v.forwardRef((e,t)=>{const r=X6(Lv,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ba(Lv,e.__scopeDialog);return i.modal?s.jsx(dn,{present:n||i.open,children:s.jsx(Noe,{...a,ref:t})}):null});Z6.displayName=Lv;var joe=moe("DialogOverlay.RemoveScroll"),Noe=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ba(Lv,r);return s.jsx(Vp,{as:joe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Me.div,{"data-state":A2(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),jc="DialogContent",e8=v.forwardRef((e,t)=>{const r=X6(jc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ba(jc,e.__scopeDialog);return s.jsx(dn,{present:n||i.open,children:i.modal?s.jsx(_oe,{...a,ref:t}):s.jsx(Soe,{...a,ref:t})})});e8.displayName=jc;var _oe=v.forwardRef((e,t)=>{const r=Ba(jc,e.__scopeDialog),n=v.useRef(null),a=ft(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return Eb(i)},[]),s.jsx(t8,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault())})}),Soe=v.forwardRef((e,t)=>{const r=Ba(jc,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return s.jsx(t8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),t8=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ba(jc,r),c=v.useRef(null),u=ft(t,c);return Pb(),s.jsxs(s.Fragment,{children:[s.jsx(Bp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":A2(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Coe,{titleId:l.titleId}),s.jsx(Eoe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),E2="DialogTitle",r8=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ba(E2,r);return s.jsx(Me.h2,{id:a.titleId,...n,ref:t})});r8.displayName=E2;var n8="DialogDescription",s8=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ba(n8,r);return s.jsx(Me.p,{id:a.descriptionId,...n,ref:t})});s8.displayName=n8;var a8="DialogClose",i8=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ba(a8,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});i8.displayName=a8;function A2(e){return e?"open":"closed"}var o8="DialogTitleWarning",[koe,l8]=tH(o8,{contentName:jc,titleName:E2,docsSlug:"dialog"}),Coe=({titleId:e})=>{const t=l8(o8),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Poe="DialogDescriptionWarning",Eoe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${l8(Poe).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},O2=G6,c8=Y6,T2=J6,Gb=Z6,Qb=e8,I2=r8,R2=s8,M2=i8;const Et=O2,Yr=c8,Aoe=T2,u8=v.forwardRef(({className:e,...t},r)=>s.jsx(Gb,{ref:r,className:we("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u8.displayName=Gb.displayName;const _t=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Aoe,{children:[s.jsx(u8,{}),s.jsxs(Qb,{ref:n,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(M2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(zi,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_t.displayName=Qb.displayName;const At=({className:e,...t})=>s.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});At.displayName="DialogHeader";const Fv=({className:e,...t})=>s.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fv.displayName="DialogFooter";const Ot=v.forwardRef(({className:e,...t},r)=>s.jsx(I2,{ref:r,className:we("text-lg font-semibold leading-none tracking-tight",e),...t}));Ot.displayName=I2.displayName;const Rs=v.forwardRef(({className:e,...t},r)=>s.jsx(R2,{ref:r,className:we("text-sm text-muted-foreground",e),...t}));Rs.displayName=R2.displayName;var Ooe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Toe=Ooe.reduce((e,t)=>{const r=Cb(`Primitive.${t}`),n=v.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Ioe="Label",d8=v.forwardRef((e,t)=>s.jsx(Toe.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));d8.displayName=Ioe;var f8=d8;const Roe=Ip("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),V=v.forwardRef(({className:e,...t},r)=>s.jsx(f8,{ref:r,className:we(Roe(),e),...t}));V.displayName=f8.displayName;const Bs=bie,h8=v.createContext({}),rt=({...e})=>s.jsx(h8.Provider,{value:{name:e.name},children:s.jsx(_ie,{...e})}),Yb=()=>{const e=v.useContext(h8),t=v.useContext(m8),{getFieldState:r,formState:n}=Wb(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},m8=v.createContext({}),Ye=v.forwardRef(({className:e,...t},r)=>{const n=v.useId();return s.jsx(m8.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:we("space-y-2",e),...t})})});Ye.displayName="FormItem";const Ze=v.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Yb();return s.jsx(V,{ref:r,className:we(n&&"text-destructive",e),htmlFor:a,...t})});Ze.displayName="FormLabel";const et=v.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Yb();return s.jsx(Qk,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});et.displayName="FormControl";const Moe=v.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Yb();return s.jsx("p",{ref:r,id:n,className:we("text-sm text-muted-foreground",e),...t})});Moe.displayName="FormDescription";const st=v.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Yb(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:n,id:i,className:we("text-sm font-medium text-destructive",e),...r,children:o}):null});st.displayName="FormMessage";const ct=v.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));ct.displayName="Textarea";const p8=v.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));p8.displayName="Breadcrumb";const g8=v.forwardRef(({className:e,...t},r)=>s.jsx("ol",{ref:r,className:we("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));g8.displayName="BreadcrumbList";const LN=v.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:we("inline-flex items-center gap-1.5",e),...t}));LN.displayName="BreadcrumbItem";const FN=v.forwardRef(({asChild:e,className:t,...r},n)=>{const a=e?Qk:"a";return s.jsx(a,{ref:n,className:we("transition-colors hover:text-foreground",t),...r})});FN.displayName="BreadcrumbLink";const x8=v.forwardRef(({className:e,...t},r)=>s.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:we("font-normal text-foreground",e),...t}));x8.displayName="BreadcrumbPage";const v8=({children:e,className:t,...r})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:we("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??s.jsx(ca,{})});v8.displayName="BreadcrumbSeparator";const $oe={"":"Home",facilities:"Facilities",events:"Events",roadmap:"Roadmap",gallery:"Gallery",booking:"Book a Facility",leaderboard:"Leaderboard",rules:"Rules & Safety",careers:"Careers",contact:"Contact Us",vision:"Our Vision",privacy:"Privacy Policy",terms:"Terms & Conditions",profile:"My Profile"};function Va({items:e,currentPage:t}){const[r]=Ln(),a=(()=>{if(e)return e;const i=r.split("/").filter(Boolean),o=[];let l="";for(let c=0;c<i.length;c++){const u=i[c];l+=`/${u}`;const d=c===i.length-1,f=$oe[u]||u.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");o.push({label:d&&t?t:f,href:d?void 0:l})}return o})();return a.length===0?null:s.jsx(p8,{className:"mb-4","data-testid":"breadcrumb-nav",children:s.jsxs(g8,{children:[s.jsx(LN,{children:s.jsx(FN,{asChild:!0,children:s.jsxs(me,{href:"/",className:"flex items-center gap-1.5",children:[s.jsx(Ak,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"sr-only sm:not-sr-only",children:"Home"})]})})}),a.map((i,o)=>s.jsxs("span",{className:"contents",children:[s.jsx(v8,{}),s.jsx(LN,{children:i.href?s.jsx(FN,{asChild:!0,children:s.jsx(me,{href:i.href,children:i.label})}):s.jsx(x8,{children:i.label})})]},o))]})})}function Fn({title:e,subtitle:t,testId:r,subtitleTestId:n}){return s.jsxs("div",{className:"relative overflow-hidden py-8 md:py-12",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-[0.15] dark:opacity-[0.25]",style:{backgroundImage:`url(${yv})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),s.jsxs("div",{className:"qd-container relative z-10 text-center text-primary-foreground",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2","data-testid":r||"text-page-title",children:e}),t&&s.jsx("p",{className:"text-sm opacity-80 max-w-2xl mx-auto","data-testid":n,children:t})]})]})}const Doe=pa({fullName:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email"),phone:vt().optional(),guestCount:W6().min(0).max(10).default(0),notes:vt().optional()});function Loe(){var _;Ur({title:"Events & Tournaments",description:"Discover upcoming events, tournaments, and classes at The Quarterdeck. Register for sports competitions, training clinics, and social events in Islamabad."});const{user:e}=eo(),{toast:t}=mt(),[r,n]=v.useState(null),[a,i]=v.useState(!1),[o,l]=v.useState(!1),{getValue:c}=Fr(["page_events_title","page_events_subtitle","page_events_upcoming_title","page_events_no_events","page_events_register_cta"],Ee),u=Ls({resolver:Fs(Doe),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:d=[],isLoading:f}=de({queryKey:["/api/events"]}),{data:h=[]}=de({queryKey:["/api/user/event-registrations"],enabled:!!e}),p=ye({mutationFn:async N=>await ve("POST",`/api/events/${N.eventId}/register`,N),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Successful",description:"You have been registered for this event."}),i(!1),n(null),u.reset()},onError:N=>{t({title:"Registration Failed",description:N.message||"Unable to register for this event.",variant:"destructive"})}}),y=ye({mutationFn:async N=>await ve("DELETE",`/api/events/${N}/register`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:N=>{t({title:"Cancellation Failed",description:N.message||"Unable to cancel registration.",variant:"destructive"})}}),m=N=>h.some(S=>S.eventId===N),w=N=>N?new Date(N).toLocaleDateString("en-PK",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):"TBD",g={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300"},x=N=>{if(n(N),!e){l(!0);return}u.setValue("fullName",e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName||""),u.setValue("email",e.email||""),i(!0)},b=N=>{r&&p.mutate({...N,eventId:r.id})},j=N=>{y.mutate(N)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:c("page_events_title"),subtitle:c("page_events_subtitle"),testId:"text-events-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),f?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(N=>s.jsx($e,{className:"h-64 rounded-xl"},N))}):d.length>0?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(N=>{var k;const S=m(N.id),C=(N.enrolledCount||0)>=(N.capacity||0),P=p.isPending||y.isPending;return s.jsxs(ne,{className:"overflow-hidden hover-elevate","data-testid":`card-event-${N.id}`,children:[s.jsx(me,{href:`/events/${N.slug||N.id}`,children:s.jsx("div",{className:"h-40 bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center cursor-pointer",children:s.jsx(Wn,{className:"w-16 h-16 text-amber-400/50"})})}),s.jsx(Le,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(me,{href:`/events/${N.slug||N.id}`,children:s.jsx(We,{className:"text-lg cursor-pointer hover:text-primary transition-colors",children:N.title})}),s.jsx(ce,{className:g[N.type]||g.SOCIAL,children:N.type})]})}),s.jsxs(se,{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:N.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(mr,{className:"w-4 h-4"}),s.jsxs("span",{children:[N.scheduleDay," ",N.scheduleTime||""]})]}),N.instructor&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(yr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Instructor: ",N.instructor]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(yr,{className:"w-4 h-4"}),s.jsxs("span",{children:[N.enrolledCount||0," / ",N.capacity," enrolled"]})]}),N.enrollmentDeadline&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Register by ",w(N.enrollmentDeadline)]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t gap-2",children:[s.jsxs("div",{className:"font-semibold text-sky-600",children:["PKR ",((k=N.price)==null?void 0:k.toLocaleString())||"Free"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(me,{href:`/events/${N.slug||N.id}`,children:s.jsx(M,{size:"sm",variant:"ghost","data-testid":`button-view-event-${N.id}`,children:"View"})}),S?s.jsx(M,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),j(N.id)},disabled:P,"data-testid":`button-cancel-event-${N.id}`,children:P?s.jsx(Te,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"w-4 h-4 mr-1"}),"Registered"]})}):s.jsx(M,{size:"sm",onClick:E=>{E.stopPropagation(),x(N)},disabled:C,"data-testid":`button-register-event-${N.id}`,children:C?"Full":"Register"})]})]})]})]},N.id)})}):s.jsx(ne,{children:s.jsxs(se,{className:"py-16 text-center",children:[s.jsx(Wn,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Upcoming Events"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Check back soon for tournaments, leagues, and training programs."}),s.jsx(me,{href:"/",children:s.jsx(M,{variant:"outline","data-testid":"button-back-to-home",children:"Back to Home"})})]})})]})]}),s.jsx(Ht,{}),s.jsx(Et,{open:a,onOpenChange:i,children:s.jsxs(_t,{className:"sm:max-w-md",children:[s.jsxs(At,{children:[s.jsx(Ot,{"data-testid":"text-registration-title",children:"Event Registration"}),s.jsxs(Rs,{children:[(r==null?void 0:r.title)&&s.jsx("span",{className:"font-medium text-foreground",children:r.title}),r!=null&&r.price?` - PKR ${r.price.toLocaleString()}`:" - Free"]})]}),s.jsx(Bs,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(b),className:"space-y-4",children:[s.jsx(rt,{control:u.control,name:"fullName",render:({field:N})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Full Name *"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"Enter your full name",...N,"data-testid":"input-reg-fullname"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:u.control,name:"email",render:({field:N})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Email *"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com",...N,"data-testid":"input-reg-email"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:u.control,name:"phone",render:({field:N})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Phone Number"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"+92 300 1234567",...N,"data-testid":"input-reg-phone"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:u.control,name:"guestCount",render:({field:N})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Number of Guests"}),s.jsx(et,{children:s.jsx(Y,{type:"number",min:0,max:10,placeholder:"0",...N,onChange:S=>N.onChange(parseInt(S.target.value)||0),"data-testid":"input-reg-guests"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:u.control,name:"notes",render:({field:N})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Additional Notes"}),s.jsx(et,{children:s.jsx(ct,{placeholder:"Any special requirements or notes...",className:"resize-none",...N,"data-testid":"textarea-reg-notes"})}),s.jsx(st,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-registration",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:p.isPending,"data-testid":"button-submit-registration",children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]})})]})}),s.jsx(Et,{open:o,onOpenChange:l,children:s.jsxs(_t,{className:"sm:max-w-md",children:[s.jsxs(At,{children:[s.jsxs(Ot,{className:"flex items-center gap-2","data-testid":"text-login-prompt-title",children:[s.jsx(nN,{className:"w-5 h-5"}),"Sign In Required"]}),s.jsx(Rs,{children:"Please sign in to register for this event."})]}),s.jsxs("div",{className:"py-4",children:[r&&s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg mb-4",children:[s.jsx("h4",{className:"font-semibold",children:r.title}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.scheduleDay," ",r.scheduleTime||""]}),s.jsxs("p",{className:"text-sm font-medium text-sky-600 mt-2",children:["PKR ",((_=r.price)==null?void 0:_.toLocaleString())||"Free"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create an account or sign in to complete your registration. Your membership will be set up automatically."})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(me,{href:"/login",className:"w-full",children:s.jsxs(M,{className:"w-full","data-testid":"button-login-to-register",children:[s.jsx(nN,{className:"w-4 h-4 mr-2"}),"Sign In"]})}),s.jsx(M,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-login-prompt",children:"Maybe Later"})]})]})})]})}const Foe=Ip("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),kf=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:we(Foe({variant:t}),e),...r}));kf.displayName="Alert";const Uoe=v.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:we("mb-1 font-medium leading-none tracking-tight",e),...t}));Uoe.displayName="AlertTitle";const Cf=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:we("text-sm [&_p]:leading-relaxed",e),...t}));Cf.displayName="AlertDescription";const Boe=pa({fullName:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email"),phone:vt().optional(),guestCount:W6().min(0).max(10).default(0),notes:vt().optional()}),YO={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300",WORKSHOP:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300"},Voe={TOURNAMENT:"Tournament",CLASS:"Class",ACADEMY:"Academy",SOCIAL:"Social Event",WORKSHOP:"Workshop"};function qoe(){const{slug:e}=ab(),{user:t}=eo(),{toast:r}=mt(),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState(!1),p=v.useRef(null),{data:y}=de({queryKey:["/api/site-settings"],select:O=>O.filter(z=>["bank_name","bank_account_title","bank_account_number","bank_iban","bank_branch_code","bank_swift_code"].includes(z.key))}),m=O=>{const z=y==null?void 0:y.find(A=>A.key===O);return(z==null?void 0:z.value)||""},w=Ls({resolver:Fs(Boe),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:g,isLoading:x}=de({queryKey:["/api/events",e],queryFn:async()=>{const O=await fetch(`/api/events/${e}`);if(!O.ok)throw new Error("Event not found");return O.json()},enabled:!!e});Ur({title:(g==null?void 0:g.title)||"Event Details",description:(g==null?void 0:g.description)||"View event details and register for events at The Quarterdeck sports complex.",ogImage:(g==null?void 0:g.imageUrl)||void 0});const{data:b=[]}=de({queryKey:["/api/user/event-registrations"],enabled:!!t});v.useEffect(()=>{t&&(w.setValue("fullName",`${t.firstName||""} ${t.lastName||""}`.trim()),w.setValue("email",t.email||""))},[t,w]);const j=ye({mutationFn:async O=>await ve("POST",`/api/events/${O.eventId}/register`,O),onSuccess:O=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),a(!1),w.reset(),O.isPaidEvent?(d({id:O.id,isPaid:!0}),c(!0),r({title:"Registration Initiated",description:"Please complete the payment to confirm your spot."})):r({title:"Registration Successful",description:"You have been registered for this event."})},onError:O=>{r({title:"Registration Failed",description:O.message||"Unable to register for this event.",variant:"destructive"})}}),_=async O=>{if(u){h(!0);try{const z=new FormData;z.append("proof",O);const A=await fetch(`/api/event-registrations/${u.id}/upload-proof`,{method:"POST",body:z,credentials:"include"});if(!A.ok){const $=await A.json();throw new Error($.message||"Upload failed")}r({title:"Proof Uploaded",description:"Your payment proof has been submitted for verification."}),c(!1),d(null),re.invalidateQueries({queryKey:["/api/user/event-registrations"]})}catch(z){r({title:"Upload Failed",description:z.message||"Failed to upload payment proof.",variant:"destructive"})}finally{h(!1)}}},N=(O,z)=>{navigator.clipboard.writeText(O),r({title:"Copied",description:`${z} copied to clipboard`})},S=ye({mutationFn:async O=>await ve("DELETE",`/api/events/${O}/register`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),r({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:O=>{r({title:"Cancellation Failed",description:O.message||"Unable to cancel registration.",variant:"destructive"})}}),C=g?b.some(O=>O.eventId===g.id):!1,P=O=>O?new Date(O).toLocaleDateString("en-PK",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"TBD",k=O=>O||"TBD",E=()=>{if(!t){o(!0);return}a(!0)},T=O=>{g&&j.mutate({...O,eventId:g.id})},I=()=>{navigator.share&&g?navigator.share({title:g.title,text:g.description||"",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Event link copied to clipboard"}))};if(x)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1 qd-container py-8",children:[s.jsx($e,{className:"h-[300px] w-full rounded-xl mb-8"}),s.jsx($e,{className:"h-8 w-1/2 mb-4"}),s.jsx($e,{className:"h-4 w-full mb-2"}),s.jsx($e,{className:"h-4 w-3/4"})]}),s.jsx(Ht,{})]});if(!g)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1 qd-container py-16 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The event you're looking for doesn't exist or has been removed."}),s.jsx(me,{href:"/events",children:s.jsxs(M,{"data-testid":"button-back-events",children:[s.jsx(kn,{className:"w-4 h-4 mr-2"}),"Back to Events"]})})]}),s.jsx(Ht,{})]});const R=(g.capacity||0)-(g.enrolledCount||0),D=R<=0;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:g.title,subtitle:g.description||"Join us for this exciting event at The Quarterdeck",testId:"text-event-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{items:[{label:"Events",href:"/events"},{label:g.title}]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mt-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.imageUrl&&s.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-video",children:[s.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-full object-cover","data-testid":"img-event-banner"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx(ce,{className:YO[g.type]||YO.SOCIAL,children:Voe[g.type]||g.type})})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(hb,{className:"w-5 h-5"}),"About This Event"]})}),s.jsxs(se,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:g.description||"Join us for an exciting event at The Quarterdeck Sports Complex. Whether you're a beginner or experienced player, this event offers something for everyone."}),g.instructor&&s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(ls,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Instructor / Host"}),s.jsx("p",{className:"font-medium",children:g.instructor})]})]})]})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(iv,{className:"w-5 h-5"}),"Schedule & Details"]})}),s.jsx(se,{children:s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(mr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:P(g.scheduleDatetime)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Qt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),s.jsx("p",{className:"font-medium",children:k(g.scheduleTime)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(yr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Capacity"}),s.jsxs("p",{className:"font-medium",children:[g.capacity||"Unlimited"," participants"]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ps,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),s.jsx("p",{className:"font-medium",children:"The Quarterdeck, Islamabad"})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(ne,{className:"sticky top-24",children:s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:g.price===0?"Free":`PKR ${(g.price||0).toLocaleString()}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per person"})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Spots Available"}),s.jsx("span",{className:`font-medium ${D?"text-destructive":R<=5?"text-amber-600":""}`,children:D?"Full":`${R} left`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Enrolled"}),s.jsxs("span",{className:"font-medium",children:[g.enrolledCount||0," / ",g.capacity||""]})]}),g.enrollmentDeadline&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Deadline"}),s.jsx("span",{className:"font-medium",children:P(g.enrollmentDeadline)})]})]}),C?s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ce,{className:"w-full justify-center py-2 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),"You're Registered"]}),s.jsxs(M,{variant:"outline",className:"w-full",onClick:()=>S.mutate(g.id),disabled:S.isPending,"data-testid":"button-cancel-registration",children:[S.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Cancel Registration"]})]}):s.jsx(M,{className:"w-full",onClick:E,disabled:D,"data-testid":"button-register-event",children:D?"Event Full":"Register Now"}),s.jsxs(M,{variant:"ghost",className:"w-full mt-3",onClick:I,"data-testid":"button-share-event",children:[s.jsx(EG,{className:"w-4 h-4 mr-2"}),"Share Event"]})]})}),s.jsx(me,{href:"/events",children:s.jsxs(M,{variant:"outline",className:"w-full","data-testid":"button-back-events",children:[s.jsx(kn,{className:"w-4 h-4 mr-2"}),"Back to All Events"]})})]})]})]})]}),s.jsx(Et,{open:i,onOpenChange:o,children:s.jsxs(_t,{children:[s.jsxs(At,{children:[s.jsxs(Ot,{className:"flex items-center gap-2",children:[s.jsx(nN,{className:"w-5 h-5"}),"Login Required"]}),s.jsx(Rs,{children:"Please log in to register for this event."})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx(me,{href:"/login",className:"flex-1",children:s.jsx(M,{className:"w-full","data-testid":"button-login-prompt",children:"Log In"})}),s.jsx(me,{href:"/signup",className:"flex-1",children:s.jsx(M,{variant:"outline",className:"w-full","data-testid":"button-signup-prompt",children:"Sign Up"})})]})]})}),s.jsx(Et,{open:n,onOpenChange:a,children:s.jsxs(_t,{children:[s.jsxs(At,{children:[s.jsxs(Ot,{children:["Register for ",g.title]}),s.jsx(Rs,{children:"Complete the form below to register for this event."})]}),s.jsx(Bs,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(T),className:"space-y-4",children:[s.jsx(rt,{control:w.control,name:"fullName",render:({field:O})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Full Name *"}),s.jsx(et,{children:s.jsx(Y,{...O,"data-testid":"input-reg-name"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:w.control,name:"email",render:({field:O})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Email *"}),s.jsx(et,{children:s.jsx(Y,{type:"email",...O,"data-testid":"input-reg-email"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:w.control,name:"phone",render:({field:O})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Phone (Optional)"}),s.jsx(et,{children:s.jsx(Y,{...O,"data-testid":"input-reg-phone"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:w.control,name:"notes",render:({field:O})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Notes (Optional)"}),s.jsx(et,{children:s.jsx(ct,{...O,"data-testid":"input-reg-notes"})}),s.jsx(st,{})]})}),s.jsx(M,{type:"submit",className:"w-full",disabled:j.isPending,"data-testid":"button-submit-registration",children:j.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})})]})}),s.jsx(Et,{open:l,onOpenChange:c,children:s.jsxs(_t,{className:"max-w-md",children:[s.jsxs(At,{children:[s.jsxs(Ot,{className:"flex items-center gap-2",children:[s.jsx(Jo,{className:"w-5 h-5"}),"Complete Payment"]}),s.jsx(Rs,{children:"Transfer the registration fee to complete your booking."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(kf,{children:[s.jsx(Cn,{className:"h-4 w-4"}),s.jsxs(Cf,{children:[s.jsxs("span",{className:"font-semibold",children:["Amount: PKR ",((g==null?void 0:g.price)||0).toLocaleString()]}),s.jsx("br",{}),"Your spot will be confirmed once payment is verified."]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(un,{className:"w-4 h-4"}),"Bank Details"]}),m("bank_name")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Bank"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:m("bank_name")}),s.jsx(M,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(m("bank_name"),"Bank name"),children:s.jsx($g,{className:"h-3 w-3"})})]})]}),m("bank_account_title")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Title"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:m("bank_account_title")}),s.jsx(M,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(m("bank_account_title"),"Account title"),children:s.jsx($g,{className:"h-3 w-3"})})]})]}),m("bank_account_number")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account No."}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium font-mono",children:m("bank_account_number")}),s.jsx(M,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(m("bank_account_number"),"Account number"),children:s.jsx($g,{className:"h-3 w-3"})})]})]}),m("bank_iban")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"IBAN"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium font-mono text-xs",children:m("bank_iban")}),s.jsx(M,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(m("bank_iban"),"IBAN"),children:s.jsx($g,{className:"h-3 w-3"})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Upload Payment Proof"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a screenshot or photo of your transfer receipt."}),s.jsx("input",{ref:p,type:"file",accept:"image/jpeg,image/png,image/webp,application/pdf",className:"hidden",onChange:O=>{var A;const z=(A=O.target.files)==null?void 0:A[0];z&&_(z)},"data-testid":"input-payment-proof"}),s.jsx(M,{variant:"outline",className:"w-full",onClick:()=>{var O;return(O=p.current)==null?void 0:O.click()},disabled:f,"data-testid":"button-upload-proof",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"})," Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-4 h-4 mr-2"})," Select File"]})})]}),s.jsx("div",{className:"flex gap-2 pt-2",children:s.jsx(M,{variant:"ghost",className:"flex-1",onClick:()=>{c(!1),d(null)},"data-testid":"button-pay-later",children:"Pay Later"})})]})]})}),s.jsx(Ht,{})]})}const zoe=[{id:"all",name:"All Sports",icon:Wn},{id:"padel",name:"Padel",icon:na},{id:"squash",name:"Squash",icon:na},{id:"rifle",name:"Air Rifle",icon:na}];function Woe(){Ur({title:"Leaderboard",description:"View The Quarterdeck's sports leaderboard rankings. Track top players and compete in Padel Tennis, Squash, and Air Rifle competitions."});const[e,t]=v.useState("all"),{isAuthenticated:r,isLoading:n}=eo(),{getValue:a}=Fr(["page_leaderboard_title","page_leaderboard_subtitle","page_leaderboard_coming_soon"],Ee),{data:i=[],isLoading:o}=de({queryKey:["/api/leaderboard",e!=="all"?e:void 0],enabled:r}),l=u=>{switch(u){case 1:return"bg-gradient-to-r from-amber-400 to-yellow-500 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-800";case 3:return"bg-gradient-to-r from-amber-600 to-amber-700 text-white";default:return"bg-gray-100 dark:bg-slate-700 text-foreground"}},c=u=>u<=3?s.jsx(pG,{className:`w-5 h-5 ${u===1?"text-amber-400":u===2?"text-gray-400":"text-amber-600"}`}):s.jsx("span",{className:"text-sm font-bold",children:u});return n?s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsx("main",{className:"flex-1",children:s.jsxs("div",{className:"qd-container py-8",children:[s.jsx($e,{className:"h-12 w-64 mb-8"}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>s.jsx($e,{className:"h-20 rounded-xl"},u))})]})}),s.jsx(Ht,{})]}):r?s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:a("page_leaderboard_title"),subtitle:a("page_leaderboard_subtitle"),testId:"text-leaderboard-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:zoe.map(u=>s.jsxs(M,{variant:e===u.id?"default":"outline",size:"sm",onClick:()=>t(u.id),className:"gap-2","data-testid":`button-filter-${u.id}`,children:[s.jsx(u.icon,{className:"w-4 h-4"}),u.name]},u.id))}),o?s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>s.jsx($e,{className:"h-20 rounded-xl"},u))}):i.length>0?s.jsx("div",{className:"space-y-3",children:i.map((u,d)=>{var f,h;return s.jsx(ne,{className:`overflow-visible ${d<3?"border-2":""} ${d===0?"border-amber-400":d===1?"border-gray-400":d===2?"border-amber-600":""}`,"data-testid":`leaderboard-entry-${u.id}`,children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${l(d+1)}`,children:c(d+1)}),s.jsxs(Od,{className:"w-12 h-12",children:[s.jsx(Td,{src:u.profileImageUrl||""}),s.jsx(Id,{children:((f=u.playerName)==null?void 0:f.split(" ").map(p=>p[0]).join(""))||"P"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:u.playerName||"Anonymous Player"}),s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2 flex-wrap",children:[s.jsxs("span",{children:[u.wins,"W - ",u.losses,"L"]}),u.winRate&&s.jsxs(ce,{variant:"secondary",className:"text-xs",children:[(u.winRate*100).toFixed(0),"% WR"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-sky-600",children:((h=u.rankingPoints)==null?void 0:h.toLocaleString())||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]})})},u.id)})}):s.jsx(ne,{children:s.jsxs(se,{className:"py-16 text-center",children:[s.jsx(Wn,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Rankings Yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Play matches to appear on the leaderboard!"}),s.jsx(me,{href:"/booking",children:s.jsx(M,{"data-testid":"button-book-now",children:"Book a Court"})})]})})]})]}),s.jsx(Ht,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center",children:s.jsx(ne,{className:"max-w-md w-full mx-4",children:s.jsxs(se,{className:"pt-6 text-center",children:[s.jsx(Wn,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view the leaderboard and player rankings."}),s.jsx(me,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),s.jsx(Ht,{})]})}const XO=[{id:"all",label:"All Photos"},{id:"Renders",label:"Architectural Renders"},{id:"Construction",label:"Construction Progress"},{id:"Facilities",label:"Facilities"}];function Koe(){Ur({title:"Gallery",description:"View The Quarterdeck's photo gallery featuring architectural renders, construction progress, and facility images of Islamabad's premier sports complex."});const e=YD(),t=new URLSearchParams(e).get("category"),[r,n]=v.useState(t||"all"),[a,i]=v.useState(null),{getValue:o}=Fr(["page_gallery_title","page_gallery_subtitle"],Ee),{data:l,isLoading:c,error:u}=de({queryKey:["/api/gallery"]}),d=v.useMemo(()=>{if(!l)return[];const h=l.filter(p=>p.isActive!==!1);return r==="all"?h:h.filter(p=>{var y;return((y=p.category)==null?void 0:y.toLowerCase())===r.toLowerCase()})},[r,l]),f=v.useMemo(()=>{if(!l)return XO;const h=new Set(l.filter(p=>p.isActive!==!1).map(p=>{var y;return(y=p.category)==null?void 0:y.toLowerCase()}).filter(Boolean));return XO.filter(p=>p.id==="all"||h.has(p.id.toLowerCase()))},[l]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:o("page_gallery_title"),subtitle:o("page_gallery_subtitle"),testId:"text-gallery-page-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),c?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(h=>s.jsx($e,{className:"aspect-[4/3] rounded-xl"},h))}):u?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(GE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Unable to load gallery images."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-8","data-testid":"gallery-filters",children:[s.jsx(q5,{className:"w-5 h-5 text-muted-foreground mr-2 self-center"}),f.map(h=>s.jsx(M,{variant:r===h.id?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>n(h.id),"data-testid":`filter-${h.id}`,children:h.label},h.id))]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(h=>s.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer",onClick:()=>i(h),"data-testid":`gallery-image-${h.id}`,children:[s.jsx("img",{src:h.imageUrl,alt:h.title||"Gallery image",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:h.title||"Untitled"}),h.category&&s.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-primary/80 text-white uppercase tracking-wide",children:h.category})]})]},h.id))}),d.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(GE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No images found in this category."})]})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>i(null),"data-testid":"gallery-lightbox",children:s.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh]",children:[s.jsx("img",{src:a.imageUrl,alt:a.title||"Gallery image",className:"w-full h-full object-contain rounded-lg"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg",children:[s.jsx("h3",{className:"text-white text-xl font-semibold",children:a.title||"Untitled"}),a.description&&s.jsx("p",{className:"text-white/80 mt-2",children:a.description})]}),s.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-white/80 text-3xl font-light",onClick:h=>{h.stopPropagation(),i(null)},"data-testid":"close-lightbox",children:"x"})]})}),s.jsx(Ht,{})]})}function Hoe(){Ur({title:"Our Vision",description:"Learn about The Quarterdeck's mission, values, and vision for creating a world-class sports and recreation community in Islamabad, Pakistan."});const{getValue:e}=Fr(["page_vision_title","page_vision_subtitle"],Ee);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_vision_title"),subtitle:e("page_vision_subtitle"),testId:"text-vision-title",subtitleTestId:"text-vision-subtitle"}),s.jsx("div",{className:"qd-container py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-mission-title",children:"Our Mission"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"The Quarterdeck aims to create a world-class sports and recreation complex that brings together Islamabad's community through premium facilities, professional coaching, and a commitment to excellence in every aspect of the member experience."}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"We believe that access to quality sports facilities should be available to all who seek it, and we're building a space where professionals, families, and enthusiasts can pursue their passion for sports in a safe, welcoming environment."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-8","data-testid":"text-values-title",children:"Our Values"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(ne,{"data-testid":"card-value-excellence",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Wn,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Excellence"}),s.jsx("p",{className:"text-muted-foreground",children:"We strive for excellence in our facilities, services, and member experiences."})]})]})})}),s.jsx(ne,{"data-testid":"card-value-community",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(yr,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Community"}),s.jsx("p",{className:"text-muted-foreground",children:"Building connections through sports and shared experiences."})]})]})})}),s.jsx(ne,{"data-testid":"card-value-integrity",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ci,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Safety & Integrity"}),s.jsx("p",{className:"text-muted-foreground",children:"Maintaining the highest standards of safety and ethical conduct."})]})]})})}),s.jsx(ne,{"data-testid":"card-value-wellness",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(fb,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Wellness"}),s.jsx("p",{className:"text-muted-foreground",children:"Promoting physical and mental well-being through active lifestyles."})]})]})})})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-future-title",children:"Looking Ahead"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"With our Q4 2026 launch approaching, The Quarterdeck is set to transform the sports and recreation landscape in Islamabad. Our early members will be the first to experience our world-class facilities and exclusive benefits."}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(me,{href:"/roadmap",children:s.jsxs(M,{"data-testid":"button-view-roadmap",children:[s.jsx(un,{className:"w-4 h-4 mr-2"})," View Our Roadmap"]})}),s.jsx(me,{href:"/facilities",children:s.jsx(M,{variant:"outline","data-testid":"button-explore-facilities",children:"Explore Facilities"})})]})]})]})})]}),s.jsx(Ht,{})]})}const Goe="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Qoe="/assets/professional_squash__c4dca43a-DYvE2Lp8.jpg",Yoe="/assets/bridge_card_game_clu_6f83cf65-D9nP8IVw.jpg",Xoe="/assets/multipurpose_event_h_e7c6ac62-D3KmV09D.jpg",JO={"padel-tennis":nl,squash:Gp,"air-rifle-range":$c,"bridge-room":mb,"multipurpose-hall":un},ZO={"padel-tennis":Goe,squash:Qoe,"air-rifle-range":m2,"bridge-room":Yoe,"multipurpose-hall":Xoe},Joe=[{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts with LED lighting and premium surfaces.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade turf, and state-of-the-art LED lighting for evening play.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0},{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards with glass back walls.",longDescription:"Our squash courts meet international competition standards with specially designed floors, glass back walls for viewing, and professional lighting systems. Perfect for casual games or serious training.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental"],requiresCertification:!1,isActive:!0},{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with 6 lanes, electronic scoring, and professional supervision.",longDescription:"Our state-of-the-art air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our safety certification course before using the range.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental"],requiresCertification:!0,isActive:!0},{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for corporate events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. Features include a professional sound system, adjustable lighting, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout"],requiresCertification:!1,isActive:!0}];function Zoe(){Ur({title:"Our Facilities",description:"Explore world-class sports facilities at The Quarterdeck - Padel Tennis courts, Squash courts, Air Rifle Range, Bridge Room, and Multipurpose Hall in Islamabad."});const{getValue:e}=Fr(["page_facilities_title","page_facilities_subtitle","page_facilities_ready_title","page_facilities_ready_description","page_facilities_book_cta","page_facilities_contact_cta"],Ee),{data:t}=de({queryKey:["/api/facilities"]}),n=(t&&t.length>0?t.filter(a=>!a.isHidden).map(a=>({...a,courtCount:a.resourceCount||a.courtCount||1,operatingHours:a.operatingHours||"6:00 AM - 11:00 PM",maxPlayers:a.maxPlayers||a.minPlayers||4,basePrice:String(a.basePrice||0),isActive:a.status!=="CLOSED"})):Joe).filter(a=>a.isActive);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_facilities_title"),subtitle:e("page_facilities_subtitle"),testId:"text-facilities-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsxs("div",{className:"max-w-5xl mx-auto mt-4",children:[s.jsx("div",{className:"grid gap-6",children:n.map(a=>s.jsx(me,{href:`/facilities/${a.slug}`,children:s.jsx(ne,{className:"overflow-hidden hover-elevate cursor-pointer","data-testid":`card-facility-${a.slug}`,children:s.jsx(se,{className:"p-0",children:s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:"md:w-1/3 h-48 md:h-auto relative overflow-hidden",children:a.imageUrl||ZO[a.slug]?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:a.imageUrl||ZO[a.slug],alt:a.name,className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:(()=>{const i=JO[a.slug]||nl;return s.jsx(i,{className:"w-5 h-5 text-white"})})()})]}):s.jsx("div",{className:"w-full h-full bg-primary/10 flex items-center justify-center",children:(()=>{const i=JO[a.slug]||nl;return s.jsx(i,{className:"w-12 h-12 text-primary/50"})})()})}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-xl mb-1",children:a.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fa,{className:"w-4 h-4"})," ",a.courtCount," ",a.courtCount===1?"Unit":"Courts/Lanes"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(yr,{className:"w-4 h-4"})," ",a.minPlayers,"-",a.maxPlayers," players"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Qt,{className:"w-4 h-4"})," ",a.operatingHours]})]})]}),a.requiresCertification&&s.jsx(ce,{variant:"destructive",className:"flex-shrink-0",children:"Certification Required"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:a.description}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"From "}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(a.basePrice).toLocaleString()]}),s.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),s.jsxs(M,{variant:"ghost",size:"sm",className:"text-primary",children:["View Details ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})]})]})]})})})},a.id))}),s.jsxs("div",{className:"mt-12 mb-16 md:mb-24 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-primary mb-4",children:e("page_facilities_ready_title")}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:e("page_facilities_ready_description")}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(me,{href:"/booking",children:s.jsx(M,{"data-testid":"button-book-now",children:e("page_facilities_book_cta")})}),s.jsx(me,{href:"/contact",children:s.jsx(M,{variant:"outline","data-testid":"button-contact-us",children:e("page_facilities_contact_cta")})})]})]})]})]})]}),s.jsx(Ht,{})]})}const ele="/assets/indoor_squash_court__3447d74a-DPwnnr4G.jpg",tle="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",rle="/assets/elegant_card_game_ro_42b0454d-y4j-Rn8N.jpg",nle="/assets/large_event_hall_int_32ffc7ae-BCjqhoII.jpg",sle={"padel-tennis":nl,squash:Gp,"air-rifle-range":$c,"bridge-room":mb,"multipurpose-hall":un},ale={"padel-tennis":Sf,squash:ele,"air-rifle-range":tle,"bridge-room":rle,"multipurpose-hall":nle},ile={"padel-tennis":{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade artificial turf, and state-of-the-art LED lighting for evening play. Whether you're a beginner or seasoned player, our facilities provide the perfect environment for this dynamic sport.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available","Video Analysis","Pro Shop"],requiresCertification:!1,isActive:!0,features:["4 International-standard courts","Tempered glass walls","Professional-grade artificial turf","LED lighting system for night play","Covered and climate-controlled"],addOns:[{id:"racket",name:"Rent Racket",price:500},{id:"balls",name:"Sleeve of Balls",price:1500},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},squash:{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards.",longDescription:"Our squash courts meet international competition standards with specially designed maple floors, glass back walls for viewing, and professional lighting systems. The courts are perfect for casual games, serious training, or competitive matches.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0,features:["2 Championship-grade courts","World Squash Federation compliant","Glass back walls for spectating","Professional maple flooring","Climate-controlled environment"],addOns:[{id:"sq_racket",name:"Squash Racket Rental",price:500},{id:"sq_balls",name:"Squash Balls (Tube)",price:1200},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},"air-rifle-range":{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with professional supervision.",longDescription:"Our state-of-the-art 10-meter air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our mandatory safety certification course before using the range. Professional supervision is provided at all times.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental","Certification Course"],requiresCertification:!0,isActive:!0,features:["6 Shooting lanes","10-meter Olympic distance","Electronic scoring system","Professional-grade air rifles","Full safety equipment provided"],addOns:[{id:"ear_protection",name:"Ear Protection",price:300},{id:"safety_glasses",name:"Safety Glasses",price:400},{id:"water",name:"Mineral Water",price:100}]},"multipurpose-hall":{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. The venue features a professional sound system, adjustable lighting, projector facilities, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout","Stage Available"],requiresCertification:!1,isActive:!0,features:["500-person capacity","Professional sound system","HD Projector and screen","Flexible seating arrangements","Full catering kitchen"],addOns:[{id:"mats",name:"Floor Mats",price:500},{id:"speaker",name:"Speaker & Mic Setup",price:1500},{id:"water",name:"Mineral Water",price:100}]}};function ole(){var c,u,d,f;const{slug:e}=ab(),{data:t}=de({queryKey:["/api/facilities",e],enabled:!!e}),{data:r=[]}=de({queryKey:["/api/pricing-tiers"]}),n=v.useMemo(()=>{const h={};return r.forEach(p=>{const m=(p.benefits||[]).find(w=>w.toLowerCase().includes("discount")&&w.toLowerCase().includes("off-peak"));if(m){const w=m.match(/(\d+)%/);w&&(h[p.tier]=w[1])}}),h},[r]),a=ile[e||""],i=t?{...a,...t,features:(c=t.features)!=null&&c.length?t.features:a==null?void 0:a.features,amenities:(u=t.amenities)!=null&&u.length?t.amenities:a==null?void 0:a.amenities,longDescription:t.aboutContent||(a==null?void 0:a.longDescription),aboutContent:t.aboutContent||(a==null?void 0:a.longDescription),operatingHours:t.operatingHours||(a==null?void 0:a.operatingHours),addOns:t.addOns||(a==null?void 0:a.addOns),courtCount:t.resourceCount||t.courtCount||(a==null?void 0:a.courtCount),pricingNotes:t.pricingNotes,certificationInfo:t.certificationInfo,galleryImages:t.galleryImages,keywords:t.keywords,quickInfo:t.quickInfo}:a;if(!i)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(ne,{className:"max-w-md",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Facility Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The facility you're looking for doesn't exist or has been removed."}),s.jsx(me,{href:"/facilities",children:s.jsx(M,{children:"View All Facilities"})})]})})});const o=sle[e||""]||nl,l=i.imageUrl||ale[e||""]||Sf;return Ur({title:i.name,description:i.description||`Book ${i.name} at The Quarterdeck sports complex in Islamabad.`,ogImage:l}),s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[50vh] min-h-[400px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:s.jsx(o,{className:"w-8 h-8"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-facility-name",children:i.name}),i.requiresCertification&&s.jsx(ce,{variant:"destructive",className:"mb-4",children:"Safety Certification Required"}),i.restricted&&s.jsx(ce,{className:"bg-amber-500 mb-4",children:"Founding & Forces Members Only"}),s.jsx("p",{className:"text-xl max-w-3xl opacity-90",children:i.description})]})]}),s.jsxs("div",{className:"container mx-auto px-6 py-12",children:[s.jsx(me,{href:"/facilities",children:s.jsxs(M,{variant:"ghost",className:"mb-8","data-testid":"button-back-facilities",children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," Back to Facilities"]})}),s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"About This Facility"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.longDescription})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Features"}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:(d=i.features)==null?void 0:d.map((h,p)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsx("span",{children:h})]},p))})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(f=i.amenities)==null?void 0:f.map((h,p)=>s.jsx(ce,{variant:"secondary",children:h},p))})]}),i.addOns&&i.addOns.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Available Add-Ons"}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:i.addOns.map(h=>s.jsx(ne,{children:s.jsxs(se,{className:"p-4 flex items-center justify-between",children:[s.jsx("span",{children:h.name}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",h.price.toLocaleString()]})]})},h.id))})]}),i.galleryImages&&i.galleryImages.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.galleryImages.map((h,p)=>s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:h,alt:`${i.name} gallery image ${p+1}`,className:"w-full h-full object-cover","data-testid":`img-gallery-${p}`})},p))})]}),(t==null?void 0:t.howToPlayContent)&&s.jsxs("section",{"data-testid":"section-how-to-play",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"How To Play"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.howToPlayContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.scoringRulesContent)&&s.jsxs("section",{"data-testid":"section-scoring-rules",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Scoring Rules"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.scoringRulesContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.winningCriteriaContent)&&s.jsxs("section",{"data-testid":"section-winning-criteria",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Winning Criteria"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.winningCriteriaContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.pointsSystemContent)&&s.jsxs("section",{"data-testid":"section-points-system",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Points & Ranking System"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.pointsSystemContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:"Quick Info"})}),s.jsx(se,{className:"space-y-4",children:i.quickInfo&&Object.keys(i.quickInfo).length>0?Object.entries(i.quickInfo).map(([h,p])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qt,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:h}),s.jsx("p",{className:"font-medium",children:String(p)})]})]},h)):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qt,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Operating Hours"}),s.jsx("p",{className:"font-medium",children:i.operatingHours})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yr,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Players"}),s.jsxs("p",{className:"font-medium",children:[i.minPlayers," - ",i.maxPlayers," players"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ps,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Units"}),s.jsxs("p",{className:"font-medium",children:[i.courtCount," ",i.courtCount===1?"Unit":"Courts/Lanes"]})]})]})]})})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:"Pricing"})}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Off-Peak (10AM-5PM)"}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.basePrice||"0").toLocaleString(),"/hr"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Peak Hours"}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.peakPrice||"0").toLocaleString(),"/hr"]})]}),Object.keys(n).length>0?s.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Member discounts during off-peak hours (10AM-5PM):",s.jsx("br",{}),n.FOUNDING&&`Founding: ${n.FOUNDING}%`,n.FOUNDING&&n.GOLD&&" | ",n.GOLD&&`Gold: ${n.GOLD}%`,n.GOLD&&n.SILVER&&" | ",n.SILVER&&`Silver: ${n.SILVER}%`]}):s.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:"Members enjoy off-peak discounts (10AM-5PM)"}),i.pricingNotes&&s.jsx("p",{className:"text-xs text-muted-foreground pt-2 mt-2 border-t",children:i.pricingNotes})]})})]}),i.requiresCertification&&s.jsx(ne,{className:"border-amber-500/50 bg-amber-500/5",children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($p,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Certification Required"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.certificationInfo||"Safety certification is mandatory before using this facility. Please complete the certification course first."})]})]})})}),s.jsx(me,{href:"/booking",children:s.jsxs(M,{className:"w-full",size:"lg","data-testid":"button-book-facility",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"})," Book This Facility"]})})]})]})})]})]}),s.jsx(Ht,{})]})}const lle=e=>e.isComplete?s.jsx(ce,{className:"bg-green-500",children:"Completed"}):e.isActive?s.jsxs(ce,{className:"bg-amber-500",children:["In Progress - ",e.progress,"%"]}):s.jsx(ce,{variant:"secondary",children:"Upcoming"}),eT=e=>e.isComplete?s.jsx(ym,{className:"w-8 h-8 text-green-500"}):e.isActive?s.jsx(Qt,{className:"w-8 h-8 text-amber-500"}):s.jsx(mr,{className:"w-8 h-8 text-muted-foreground"});function cle(){Ur({title:"Construction Roadmap",description:"Follow The Quarterdeck's construction progress in Islamabad. View milestones, timeline, and development phases for our sports complex launch in Q4 2026."});const{getValue:e}=Fr(["page_roadmap_title","page_roadmap_subtitle"],Ee),{data:t=[],isLoading:r}=de({queryKey:["/api/construction-phases"]}),n=v.useMemo(()=>[...t].sort((i,o)=>i.sortOrder-o.sortOrder),[t]),a=v.useMemo(()=>n.length===0?0:n.reduce((i,o)=>i+o.progress,0)/n.length,[n]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_roadmap_title"),subtitle:e("page_roadmap_subtitle"),testId:"text-roadmap-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsx("div",{className:"max-w-5xl mx-auto mb-12",children:s.jsx("div",{className:"p-6 rounded-xl bg-card border shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),s.jsxs("div",{className:"text-2xl font-bold text-primary dark:text-white mt-1",children:[Math.round(a),"% Complete"]})]}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${a}%`}})})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:n.filter(i=>i.isComplete).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-amber-600",children:n.filter(i=>i.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:n.filter(i=>!i.isComplete&&!i.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})}),s.jsxs("div",{className:"max-w-5xl mx-auto",children:[r?s.jsx("div",{className:"space-y-8",children:[1,2,3,4].map(i=>s.jsx("div",{className:"relative",children:s.jsx("div",{className:"md:ml-16",children:s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsx($e,{className:"h-6 w-48"}),s.jsx($e,{className:"h-4 w-32 mt-2"})]}),s.jsxs(se,{children:[s.jsx($e,{className:"h-4 w-full mb-4"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>s.jsx($e,{className:"h-4 w-full"},o))}),s.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>s.jsx($e,{className:"h-4 w-full"},o))})]})]})]})})},i))}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(un,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Roadmap Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"Our development timeline will be available shortly."})]}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border hidden md:block"}),s.jsx("div",{className:"space-y-8",children:n.map((i,o)=>s.jsx("div",{id:i.id,className:"relative","data-testid":`card-phase-${i.id}`,children:s.jsxs("div",{className:"md:ml-16",children:[s.jsx("div",{className:"absolute left-4 top-6 hidden md:block",children:eT(i)}),s.jsxs(ne,{className:i.isActive?"border-amber-500/50 border-2":"",children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"md:hidden",children:eT(i)}),s.jsxs("div",{children:[s.jsxs(We,{className:"text-xl",children:[i.label,": ",i.title]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.timeframe||"Timeline TBD"})]})]}),lle(i)]}),i.isActive&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-500",style:{width:`${i.progress}%`}})})})]}),s.jsx(se,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.milestones&&i.milestones.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(ym,{className:"w-4 h-4"})," Milestones"]}),s.jsx("ul",{className:"space-y-2",children:i.milestones.map((l,c)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.isComplete?s.jsx(ym,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-muted-foreground/30 flex-shrink-0"}),s.jsx("span",{className:i.isComplete?"":"text-muted-foreground",children:l})]},c))})]}),i.highlights&&i.highlights.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.icon==="rocket"?s.jsx(kG,{className:"w-4 h-4"}):s.jsx(un,{className:"w-4 h-4"}),"Key Highlights"]}),s.jsx("ul",{className:"space-y-2",children:i.highlights.map((l,c)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[s.jsx("span",{className:"text-primary dark:text-sky-400",children:""}),l]},c))})]})]})})]})]})},i.id))})]}),s.jsxs("div",{className:"mt-12 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Stay Updated"}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Follow our progress and be the first to know about new developments, preview events, and exclusive opportunities."}),s.jsx(me,{href:"/contact",children:s.jsx(M,{"data-testid":"button-register-interest",children:"Register Your Interest"})})]})]})]})]}),s.jsx(Ht,{})]})}var Xb="Collapsible",[ule,y8]=An(Xb),[dle,$2]=ule(Xb),b8=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=ms({prop:n,defaultProp:a??!1,onChange:o,caller:Xb});return s.jsx(dle,{scope:r,disabled:i,contentId:Gr(),open:c,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Me.div,{"data-state":L2(c),"data-disabled":i?"":void 0,...l,ref:t})})});b8.displayName=Xb;var w8="CollapsibleTrigger",j8=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=$2(w8,r);return s.jsx(Me.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":L2(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:je(e.onClick,a.onOpenToggle)})});j8.displayName=w8;var D2="CollapsibleContent",N8=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$2(D2,e.__scopeCollapsible);return s.jsx(dn,{present:r||a.open,children:({present:i})=>s.jsx(fle,{...n,ref:t,present:i})})});N8.displayName=D2;var fle=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=$2(D2,r),[l,c]=v.useState(n),u=v.useRef(null),d=ft(t,u),f=v.useRef(0),h=f.current,p=v.useRef(0),y=p.current,m=o.open||l,w=v.useRef(m),g=v.useRef(void 0);return v.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),Lr(()=>{const x=u.current;if(x){g.current=g.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const b=x.getBoundingClientRect();f.current=b.height,p.current=b.width,w.current||(x.style.transitionDuration=g.current.transitionDuration,x.style.animationName=g.current.animationName),c(n)}},[o.open,n]),s.jsx(Me.div,{"data-state":L2(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:m&&a})});function L2(e){return e?"open":"closed"}var hle=b8,mle=j8,ple=N8,qa="Accordion",gle=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[F2,xle,vle]=Op(qa),[Jb]=An(qa,[vle,y8]),U2=y8(),_8=L.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(F2.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(jle,{...i,ref:t}):s.jsx(wle,{...a,ref:t})})});_8.displayName=qa;var[S8,yle]=Jb(qa),[k8,ble]=Jb(qa,{collapsible:!1}),wle=L.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=ms({prop:r,defaultProp:n??"",onChange:a,caller:qa});return s.jsx(S8,{scope:e.__scopeAccordion,value:L.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:L.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(k8,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(C8,{...o,ref:t})})})}),jle=L.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=ms({prop:r,defaultProp:n??[],onChange:a,caller:qa}),c=L.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=L.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(S8,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(k8,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(C8,{...i,ref:t})})})}),[Nle,Zb]=Jb(qa),C8=L.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=L.useRef(null),c=ft(l,t),u=xle(r),f=Nf(a)==="ltr",h=je(e.onKeyDown,p=>{var C;if(!gle.includes(p.key))return;const y=p.target,m=u().filter(P=>{var k;return!((k=P.ref.current)!=null&&k.disabled)}),w=m.findIndex(P=>P.ref.current===y),g=m.length;if(w===-1)return;p.preventDefault();let x=w;const b=0,j=g-1,_=()=>{x=w+1,x>j&&(x=b)},N=()=>{x=w-1,x<b&&(x=j)};switch(p.key){case"Home":x=b;break;case"End":x=j;break;case"ArrowRight":i==="horizontal"&&(f?_():N());break;case"ArrowDown":i==="vertical"&&_();break;case"ArrowLeft":i==="horizontal"&&(f?N():_());break;case"ArrowUp":i==="vertical"&&N();break}const S=x%g;(C=m[S].ref.current)==null||C.focus()});return s.jsx(Nle,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(F2.Slot,{scope:r,children:s.jsx(Me.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),Uv="AccordionItem",[_le,B2]=Jb(Uv),P8=L.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=Zb(Uv,r),o=yle(Uv,r),l=U2(r),c=Gr(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return s.jsx(_le,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(hle,{"data-orientation":i.orientation,"data-state":R8(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});P8.displayName=Uv;var E8="AccordionHeader",A8=L.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Zb(qa,r),i=B2(E8,r);return s.jsx(Me.h3,{"data-orientation":a.orientation,"data-state":R8(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});A8.displayName=E8;var UN="AccordionTrigger",O8=L.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Zb(qa,r),i=B2(UN,r),o=ble(UN,r),l=U2(r);return s.jsx(F2.ItemSlot,{scope:r,children:s.jsx(mle,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});O8.displayName=UN;var T8="AccordionContent",I8=L.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Zb(qa,r),i=B2(T8,r),o=U2(r);return s.jsx(ple,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});I8.displayName=T8;function R8(e){return e?"open":"closed"}var Sle=_8,kle=P8,Cle=A8,M8=O8,$8=I8;const D8=Sle,Fu=v.forwardRef(({className:e,...t},r)=>s.jsx(kle,{ref:r,className:we("border-b",e),...t}));Fu.displayName="AccordionItem";const Uu=v.forwardRef(({className:e,children:t,...r},n)=>s.jsx(Cle,{className:"flex",children:s.jsxs(M8,{ref:n,className:we("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(la,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Uu.displayName=M8.displayName;const Bu=v.forwardRef(({className:e,children:t,...r},n)=>s.jsx($8,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:we("pb-4 pt-0",e),children:t})}));Bu.displayName=$8.displayName;const Ple={general:{title:"General Rules",icon:ci},booking:{title:"Booking & Scheduling",icon:Qt},conduct:{title:"Conduct & Behavior",icon:yr},safety:{title:"Safety Requirements",icon:$p},dresscode:{title:"Dress Code",icon:AG},equipment:{title:"Equipment & Facilities",icon:rG},guests:{title:"Guest Policy",icon:fb},emergency:{title:"Emergency Procedures",icon:bm}},Ele=["general","booking","conduct","safety","dresscode","equipment","guests","emergency"];function Ale(){Ur({title:"Club Rules & Guidelines",description:"Review The Quarterdeck's club rules, safety requirements, dress code, booking policies, and guest guidelines for our sports facilities."});const{getValue:e}=Fr(["page_rules_title","page_rules_subtitle"],Ee),{data:t=[],isLoading:r}=de({queryKey:["/api/rules"]}),n=t.reduce((i,o)=>{const l=o.category||"general";return i[l]||(i[l]=[]),i[l].push(o),i},{}),a=Ele.filter(i=>{var o;return((o=n[i])==null?void 0:o.length)>0});return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_rules_title"),subtitle:e("page_rules_subtitle"),testId:"text-rules-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(ne,{className:"mb-8 border-amber-500/50 bg-amber-500/5",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx($p,{className:"w-6 h-6 text-amber-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Important Safety Notice"}),s.jsx("p",{className:"text-muted-foreground",children:"Certain facilities require mandatory safety certifications before use. The Air Rifle Range requires completion of our safety course. Please contact reception to schedule your certification session."})]})]})})}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(ci,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Rules are being updated. Please check back soon."})]}):s.jsx(D8,{type:"multiple",className:"space-y-4",children:a.map(i=>{const o=Ple[i]||{title:i,icon:ci},l=o.icon,c=n[i]||[];return s.jsxs(Fu,{value:i,className:"border rounded-md px-4","data-testid":`accordion-${i}`,children:[s.jsx(Uu,{className:"hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center",children:s.jsx(l,{className:"w-5 h-5 text-primary dark:text-sky-400"})}),s.jsx("span",{className:"font-semibold",children:o.title})]})}),s.jsx(Bu,{children:s.jsx("ul",{className:"space-y-3 pl-13 py-4",children:c.map((u,d)=>s.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[s.jsxs("span",{className:"text-primary dark:text-sky-400 font-bold",children:[d+1,"."]}),s.jsxs("div",{children:[u.title&&s.jsxs("span",{className:"font-medium text-foreground",children:[u.title,": "]}),u.content]})]},u.id))})})]},i)})}),s.jsxs(ne,{className:"mt-8",children:[s.jsx(Le,{children:s.jsx(We,{children:"Questions About Our Rules?"})}),s.jsxs(se,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"If you have any questions about our rules and policies, or need clarification on any point, please don't hesitate to contact us."}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(me,{href:"/contact",children:s.jsx(M,{"data-testid":"button-contact-us",children:"Contact Us"})}),s.jsx(me,{href:"/terms",children:s.jsx(M,{variant:"outline","data-testid":"button-view-terms",children:"View Terms & Conditions"})})]})]})]})]})]})]}),s.jsx(Ht,{})]})}const tT=pa({name:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email"),phone:vt().min(10,"Please enter a valid phone number"),cvUrl:vt().optional().or(QO("")),linkedinUrl:vt().url("Please enter a valid LinkedIn URL").optional().or(QO("")),coverLetter:vt().min(50,"Cover letter should be at least 50 characters")}),Ole=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],Tle=[".pdf",".doc",".docx"],Ile=[{id:"1",title:"Sports Facility Manager",department:"Operations",location:"Islamabad",type:"Full-time",description:"Lead the day-to-day operations of our sports facilities, ensuring excellent member experience and efficient facility management.",requirements:"5+ years experience in sports facility management. Strong leadership and communication skills. Knowledge of sports equipment maintenance.",salary:"PKR 150,000 - 200,000 / month",isActive:!0},{id:"2",title:"Padel Tennis Coach",department:"Sports",location:"Islamabad",type:"Full-time",description:"Provide professional coaching for our Padel Tennis program, conducting group classes and private lessons for members of all skill levels.",requirements:"Certified Padel Tennis instructor. 3+ years coaching experience. Fluent in English and Urdu.",salary:"PKR 80,000 - 120,000 / month",isActive:!0},{id:"3",title:"Member Relations Officer",department:"Customer Service",location:"Islamabad",type:"Full-time",description:"Serve as the primary point of contact for members, handling inquiries, feedback, and ensuring exceptional service standards.",requirements:"2+ years customer service experience. Excellent communication skills. Proficiency in CRM systems.",salary:"PKR 50,000 - 70,000 / month",isActive:!0},{id:"4",title:"Range Safety Officer",department:"Safety",location:"Islamabad",type:"Full-time",description:"Ensure safe operations of the Air Rifle Range, conduct safety certifications, and supervise shooting sessions.",requirements:"Military or law enforcement background preferred. Safety certification required. First aid trained.",salary:"PKR 60,000 - 90,000 / month",isActive:!0},{id:"5",title:"Events Coordinator",department:"Events",location:"Islamabad",type:"Part-time",description:"Plan and execute tournaments, social events, and corporate functions at The Quarterdeck.",requirements:"Event management experience. Strong organizational skills. Weekend availability required.",salary:"PKR 40,000 - 60,000 / month",isActive:!0}];function Rle(){Ur({title:"Careers",description:"Join The Quarterdeck team. Explore career opportunities at Islamabad's premier sports and recreation complex. Apply for positions in operations, coaching, and hospitality."});const{toast:e}=mt(),{user:t}=eo(),[r,n]=v.useState(null),[a,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(""),[h,p]=v.useState(!1),y=v.useRef(null),[m,w]=v.useState(null),[g,x]=v.useState(""),[b,j]=v.useState(!1),_=v.useRef(null),{getValue:N}=Fr(["page_careers_title","page_careers_subtitle","page_careers_positions_title","page_careers_apply_cta","page_careers_no_positions"],Ee),S=(t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN",{data:C}=de({queryKey:["/api/careers"]}),P=Ls({resolver:Fs(tT),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),k=Ls({resolver:Fs(tT),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),E=ye({mutationFn:async q=>await ve("POST",`/api/careers/${q.careerId}/apply`,{fullName:q.name,email:q.email,phone:q.phone,cvUrl:q.cvUrl||null,linkedinUrl:q.linkedinUrl||null,coverLetter:q.coverLetter}),onSuccess:()=>{e({title:"Application Submitted",description:"Thank you for your application. We will review it and get back to you soon."}),i(!1),P.reset()},onError:q=>{e({title:"Submission Failed",description:q.message||"Unable to submit application. Please try again.",variant:"destructive"})}}),T=ye({mutationFn:async q=>await ve("POST","/api/careers/general-application",{fullName:q.name,email:q.email,phone:q.phone,cvUrl:q.cvUrl||null,linkedinUrl:q.linkedinUrl||null,coverLetter:q.coverLetter}),onSuccess:()=>{e({title:"CV Submitted",description:"Thank you for your interest! We will keep your CV on file for future opportunities."}),l(!1),k.reset()},onError:q=>{e({title:"Submission Failed",description:q.message||"Unable to submit CV. Please try again.",variant:"destructive"})}}),I=q=>{if(!Ole.includes(q.type)){const ee=q.name.toLowerCase().slice(q.name.lastIndexOf("."));if(!Tle.includes(ee))return e({title:"Invalid File Type",description:"Please upload a PDF, DOC, or DOCX file.",variant:"destructive"}),!1}return q.size>10*1024*1024?(e({title:"File Too Large",description:"Maximum file size is 10MB.",variant:"destructive"}),!1):!0},R=async q=>{const ee=new FormData;ee.append("cv",q);const pe=await fetch("/api/careers/upload-cv",{method:"POST",body:ee});if(!pe.ok){const be=await pe.json();throw new Error(be.message||"Failed to upload CV")}return(await pe.json()).cvUrl},D=q=>{var pe;const ee=(pe=q.target.files)==null?void 0:pe[0];ee&&I(ee)&&(u(ee),f(ee.name))},O=q=>{var pe;const ee=(pe=q.target.files)==null?void 0:pe[0];ee&&I(ee)&&(w(ee),x(ee.name))},z=()=>{u(null),f(""),y.current&&(y.current.value="")},A=()=>{w(null),x(""),_.current&&(_.current.value="")},$=async q=>{if(r)try{let ee=q.cvUrl||null;c&&(p(!0),ee=await R(c)),E.mutate({...q,careerId:r.id,cvUrl:ee||""})}catch(ee){e({title:"Upload Failed",description:ee.message||"Failed to upload CV. Please try again.",variant:"destructive"})}finally{p(!1)}},Q=async q=>{try{let ee=q.cvUrl||null;m&&(j(!0),ee=await R(m)),T.mutate({...q,cvUrl:ee||""})}catch(ee){e({title:"Upload Failed",description:ee.message||"Failed to upload CV. Please try again.",variant:"destructive"})}finally{j(!1)}},X=q=>{n(q),z(),i(!0)},J=(C&&C.length>0?C:Ile).filter(q=>q.isActive);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:N("page_careers_title"),subtitle:N("page_careers_subtitle"),testId:"text-careers-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Why Work at The Quarterdeck?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(vm,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Career Growth"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Opportunities for advancement and professional development"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(ps,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Prime Location"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Work in a beautiful, state-of-the-art facility in Islamabad"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Qt,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Flexible Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Various shift options to accommodate work-life balance"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-6",children:"Open Positions"}),J.length===0?s.jsx(ne,{children:s.jsx(se,{className:"p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No open positions at the moment. Check back soon or send us your CV for future opportunities."})})}):s.jsx("div",{className:"space-y-4",children:J.map(q=>s.jsx(ne,{className:"hover-elevate","data-testid":`card-job-${q.id}`,children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:q.title}),s.jsx(ce,{variant:"secondary",className:"text-xs",children:q.type})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(vm,{className:"w-4 h-4"})," ",q.department]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ps,{className:"w-4 h-4"})," ",q.location]}),S&&q.salary&&s.jsx("span",{className:"text-primary dark:text-sky-400 font-medium",children:q.salary})]}),s.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:q.description}),q.requirements&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Requirements: "}),s.jsx("span",{className:"text-muted-foreground",children:q.requirements})]})]}),s.jsxs(M,{className:" flex-shrink-0",onClick:()=>X(q),"data-testid":`button-apply-${q.id}`,children:["Apply Now ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})]})})},q.id))})]}),s.jsxs(ne,{className:"mt-12",children:[s.jsx(Le,{children:s.jsx(We,{children:"Don't See the Right Fit?"})}),s.jsxs(se,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"We're always looking for talented individuals to join our team. Send us your CV and we'll keep you in mind for future opportunities."}),s.jsxs(M,{className:"",onClick:()=>l(!0),"data-testid":"button-submit-cv",children:[s.jsx(hs,{className:"w-4 h-4 mr-2"})," Send Your CV"]})]})]})]})]})]}),s.jsx(Ht,{}),s.jsx(Et,{open:a,onOpenChange:i,children:s.jsxs(_t,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(At,{children:[s.jsxs(Ot,{children:["Apply for ",r==null?void 0:r.title]}),s.jsx(Rs,{children:"Fill out the form below to submit your application"})]}),s.jsx(Bs,{...P,children:s.jsxs("form",{onSubmit:P.handleSubmit($),className:"space-y-4",children:[s.jsx(rt,{control:P.control,name:"name",render:({field:q})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Full Name"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"John Doe",...q,"data-testid":"input-applicant-name"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:P.control,name:"email",render:({field:q})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Email"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"john@example.com",...q,"data-testid":"input-applicant-email"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:P.control,name:"phone",render:({field:q})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Phone Number"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"+92 300 1234567",...q,"data-testid":"input-applicant-phone"})}),s.jsx(st,{})]})}),s.jsxs(Ye,{children:[s.jsx(Ze,{children:"CV/Resume (Optional)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{ref:y,type:"file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:D,className:"hidden","data-testid":"input-applicant-cv-file"}),d?s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[s.jsx(hs,{className:"w-4 h-4 text-primary dark:text-sky-400"}),s.jsx("span",{className:"flex-1 text-sm truncate","data-testid":"text-cv-filename",children:d}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",onClick:z,"data-testid":"button-clear-cv",children:s.jsx(zi,{className:"w-4 h-4"})})]}):s.jsxs(M,{type:"button",variant:"outline",onClick:()=>{var q;return(q=y.current)==null?void 0:q.click()},className:"w-full","data-testid":"button-upload-cv",children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Upload CV/Resume"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: PDF, DOC, DOCX (max 10MB)"})]})]}),s.jsx(rt,{control:P.control,name:"linkedinUrl",render:({field:q})=>s.jsxs(Ye,{children:[s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(rN,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),s.jsx(et,{children:s.jsx(Y,{placeholder:"https://linkedin.com/in/...",...q,"data-testid":"input-applicant-linkedin"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:P.control,name:"coverLetter",render:({field:q})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Cover Letter"}),s.jsx(et,{children:s.jsx(ct,{placeholder:"Tell us why you're interested in this position and what makes you a great fit...",className:"min-h-[120px]",...q,"data-testid":"input-applicant-cover-letter"})}),s.jsx(st,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-application",children:"Cancel"}),s.jsxs(M,{type:"submit",disabled:E.isPending||h,className:"","data-testid":"button-submit-application",children:[E.isPending||h?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(lv,{className:"w-4 h-4 mr-2"}),h?"Uploading CV...":"Submit Application"]})]})]})})]})}),s.jsx(Et,{open:o,onOpenChange:l,children:s.jsxs(_t,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(At,{children:[s.jsx(Ot,{children:"Send Your CV"}),s.jsx(Rs,{children:"Submit your CV for future opportunities at The Quarterdeck"})]}),s.jsx(Bs,{...k,children:s.jsxs("form",{onSubmit:k.handleSubmit(Q),className:"space-y-4",children:[s.jsx(rt,{control:k.control,name:"name",render:({field:q})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Full Name"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"John Doe",...q,"data-testid":"input-cv-name"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:k.control,name:"email",render:({field:q})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Email"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"john@example.com",...q,"data-testid":"input-cv-email"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:k.control,name:"phone",render:({field:q})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Phone Number"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"+92 300 1234567",...q,"data-testid":"input-cv-phone"})}),s.jsx(st,{})]})}),s.jsxs(Ye,{children:[s.jsx(Ze,{children:"CV/Resume"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{ref:_,type:"file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:O,className:"hidden","data-testid":"input-general-cv-file"}),g?s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[s.jsx(hs,{className:"w-4 h-4 text-primary dark:text-sky-400"}),s.jsx("span",{className:"flex-1 text-sm truncate","data-testid":"text-general-cv-filename",children:g}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",onClick:A,"data-testid":"button-clear-general-cv",children:s.jsx(zi,{className:"w-4 h-4"})})]}):s.jsxs(M,{type:"button",variant:"outline",onClick:()=>{var q;return(q=_.current)==null?void 0:q.click()},className:"w-full","data-testid":"button-upload-general-cv",children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Upload CV/Resume"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: PDF, DOC, DOCX (max 10MB)"})]})]}),s.jsx(rt,{control:k.control,name:"linkedinUrl",render:({field:q})=>s.jsxs(Ye,{children:[s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(rN,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),s.jsx(et,{children:s.jsx(Y,{placeholder:"https://linkedin.com/in/...",...q,"data-testid":"input-cv-linkedin"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:k.control,name:"coverLetter",render:({field:q})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Message / Cover Letter"}),s.jsx(et,{children:s.jsx(ct,{placeholder:"Tell us about yourself, your skills, and what kind of role you're looking for...",className:"min-h-[120px]",...q,"data-testid":"input-cv-cover-letter"})}),s.jsx(st,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-cv",children:"Cancel"}),s.jsxs(M,{type:"submit",disabled:T.isPending||b,className:"","data-testid":"button-submit-cv-form",children:[T.isPending||b?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(lv,{className:"w-4 h-4 mr-2"}),b?"Uploading CV...":"Submit CV"]})]})]})})]})})]})}function Mle(){Ur({title:"Terms & Conditions",description:"The Quarterdeck's terms and conditions. Review our policies for membership, facility usage, bookings, and member conduct."});const{getValue:e}=Fr(["page_terms_title","page_terms_subtitle"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/cms/bulk"]}),n=t==null?void 0:t.find(i=>i.key==="terms_conditions");let a=[];try{n!=null&&n.content&&(a=JSON.parse(n.content))}catch{console.error("Failed to parse terms content")}return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_terms_title"),subtitle:e("page_terms_subtitle"),testId:"text-terms-title"}),s.jsx("div",{className:"qd-container py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(hs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Terms & Conditions are being updated. Please check back soon."})]}):a.map((i,o)=>s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:i.section}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:i.content}),i.items&&i.items.length>0&&s.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:i.items.map((l,c)=>s.jsx("li",{children:l},c))})]},o))})})]}),s.jsx(Ht,{})]})}function $le(){Ur({title:"Privacy Policy",description:"The Quarterdeck's privacy policy. Learn how we collect, use, and protect your personal information at our sports complex."});const{getValue:e}=Fr(["page_privacy_title","page_privacy_subtitle"],Ee),{data:t,isLoading:r}=de({queryKey:["/api/cms/bulk"]}),n=t==null?void 0:t.find(i=>i.key==="privacy_policy");let a=[];try{n!=null&&n.content&&(a=JSON.parse(n.content))}catch{console.error("Failed to parse privacy policy content")}return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:e("page_privacy_title"),subtitle:e("page_privacy_subtitle"),testId:"text-privacy-title"}),s.jsx("div",{className:"qd-container py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(kd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Privacy policy is being updated. Please check back soon."})]}):a.map((i,o)=>s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:i.section}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:i.content}),i.items&&i.items.length>0&&s.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:i.items.map((l,c)=>{const u=l.indexOf(":");if(u>-1&&u<30){const d=l.slice(0,u),f=l.slice(u+1);return s.jsxs("li",{children:[s.jsxs("strong",{children:[d,":"]}),f]},c)}return s.jsx("li",{children:l},c)})})]},o))})})]}),s.jsx(Ht,{})]})}const Dle=[{key:"coming-soon-1",src:a6,alt:"Complex Exterior Render",caption:"Premium Sports Complex Design"},{key:"coming-soon-2",src:Sf,alt:"Padel Tennis Courts",caption:"World-Class Padel Courts"},{key:"coming-soon-3",src:Ub,alt:"Squash Court",caption:"Professional Squash Facility"},{key:"coming-soon-4",src:i6,alt:"Sports Arena",caption:"Modern Architecture"},{key:"coming-soon-5",src:o6,alt:"Construction Progress",caption:"Building Your Future"}];function Lle(){Ur({title:"Coming Soon",description:"The Quarterdeck is coming to Islamabad in Q4 2026. Join our waitlist for exclusive early access to Pakistan's premier sports and recreation complex."});const{toast:e}=mt(),[t,r]=v.useState(""),[n,a]=v.useState({days:0,hours:0,minutes:0,seconds:0}),[i,o]=v.useState(!1),{getValue:l}=Fr(["coming_soon_title","coming_soon_subtitle","coming_soon_launch_date","coming_soon_location","site_name","hero_eyebrow"],Ee),{data:c=[]}=de({queryKey:["/api/site-images","coming-soon"],queryFn:async()=>{const w=await(await fetch("/api/site-images?page=coming-soon")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),u=v.useMemo(()=>Dle.map(m=>{const w=c.find(g=>g.section===m.key&&g.isActive);return{...m,src:(w==null?void 0:w.imageUrl)||m.src,alt:(w==null?void 0:w.alt)||m.alt,caption:(w==null?void 0:w.title)||m.caption}}),[c]),d=l("coming_soon_launch_date")||Ee.coming_soon_launch_date||"2026-10-01",f=new Date(d);v.useEffect(()=>{const m=()=>{const g=+f-+new Date;return g>0?(o(!1),{days:Math.floor(g/864e5),hours:Math.floor(g/36e5%24),minutes:Math.floor(g/1e3/60%60),seconds:Math.floor(g/1e3%60)}):(o(!0),{days:0,hours:0,minutes:0,seconds:0})};a(m());const w=setInterval(()=>{a(m())},1e3);return()=>clearInterval(w)},[d]);const h=ye({mutationFn:async m=>await ve("POST","/api/contact",{name:"Early Interest Subscriber",email:m,subject:"Coming Soon - Early Interest",message:"I would like to receive updates about The Quarterdeck launch."}),onSuccess:()=>{e({title:"Successfully Subscribed",description:"You'll be the first to know when we launch!"}),r("")},onError:m=>{e({title:"Subscription Failed",description:m.message||"Please try again later.",variant:"destructive"})}}),p=m=>{m.preventDefault(),t&&h.mutate(t)},y=({value:m,label:w})=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 flex items-center justify-center rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:s.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white tabular-nums",children:m.toString().padStart(2,"0")})}),s.jsx("span",{className:"mt-2 text-sm sm:text-base text-white/80 uppercase tracking-widest font-medium",children:w})]});return s.jsxs("div",{className:"min-h-screen bg-[#1a2a40] relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-amber-500/20 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("header",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(me,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center backdrop-blur",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"Q"})}),s.jsx("span",{className:"text-xl font-semibold text-white hidden sm:block",children:l("site_name")||Ee.site_name})]})}),s.jsx(me,{href:"/",children:s.jsxs(M,{variant:"outline",className:"text-white border-white/30 bg-white/10 backdrop-blur-sm",children:["Full Website ",s.jsx(cb,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx("main",{className:"container mx-auto px-6 py-12 md:py-24",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("span",{className:"inline-block px-4 py-1.5 bg-amber-500/20 text-amber-300 rounded-full text-sm font-medium",children:l("hero_eyebrow")||Ee.hero_eyebrow}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight",children:l("coming_soon_title")||Ee.coming_soon_title}),s.jsx("p",{className:"text-lg text-white/70 max-w-lg",children:l("coming_soon_subtitle")||Ee.coming_soon_subtitle})]}),s.jsxs("div",{className:"flex items-center gap-4 text-white/70",children:[s.jsx(ps,{className:"w-5 h-5"}),s.jsx("span",{children:l("coming_soon_location")||Ee.coming_soon_location||"Islamabad, Pakistan"})]}),i?s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-xl",children:[s.jsx(yn,{className:"w-6 h-6"}),s.jsx("span",{className:"font-semibold",children:"We're Live!"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[s.jsx(mr,{className:"w-5 h-5"}),s.jsx("span",{children:"Expected Launch: Q4 2026"})]}),s.jsxs("div",{className:"flex gap-3 sm:gap-4 md:gap-6",children:[s.jsx(y,{value:n.days,label:"Days"}),s.jsx(y,{value:n.hours,label:"Hours"}),s.jsx(y,{value:n.minutes,label:"Mins"}),s.jsx(y,{value:n.seconds,label:"Secs"})]})]}),s.jsx(ne,{className:"bg-white/10 border-white/20 backdrop-blur",children:s.jsxs(se,{className:"p-6",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[s.jsx(gf,{className:"w-5 h-5"}),"Get Early Access Updates"]}),s.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(Y,{type:"email",placeholder:"your@email.com",value:t,onChange:m=>r(m.target.value),className:"flex-1 bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0,"data-testid":"input-email-subscribe"}),s.jsx(M,{type:"submit",disabled:h.isPending,className:"bg-amber-500 text-white","data-testid":"button-subscribe",children:h.isPending?s.jsx(Te,{className:"w-4 h-4 animate-spin"}):"Notify Me"})]}),s.jsx("p",{className:"text-xs text-white/50 mt-3",children:"Join the waitlist for exclusive pre-launch offers and founding member benefits."})]})})]}),s.jsx("div",{className:"lg:pl-8",children:s.jsx(Yp,{opts:{loop:!0},plugins:[_f({delay:4e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Xp,{children:u.map((m,w)=>s.jsx(Jp,{children:s.jsxs("div",{className:"relative aspect-[4/3] rounded-2xl overflow-hidden",children:[s.jsx("img",{src:m.src,alt:m.alt,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:s.jsx("p",{className:"text-white font-medium text-lg",children:m.caption})})]})},w))})})})]})}),s.jsx("footer",{className:"container mx-auto px-6 py-8 border-t border-white/10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsx("p",{className:"text-white/50 text-sm",children:"2024-2027 The Quarterdeck. All rights reserved."}),s.jsxs("div",{className:"flex items-center gap-4 text-white/50 text-sm",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsx("span",{children:"Pre-launch Phase"})]})]})})]})]})}const Fle=pa({name:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email address"),phone:vt().optional(),subject:vt().min(3,"Subject must be at least 3 characters"),message:vt().min(10,"Message must be at least 10 characters")});function Ule(){Ur({title:"Contact Us",description:"Get in touch with The Quarterdeck. Contact us for facility inquiries, membership questions, event bookings, or general information about our sports complex in Islamabad."});const{toast:e}=mt(),[t,r]=v.useState(!1),{getValue:n}=Fr(["page_contact_title","page_contact_subtitle","page_contact_form_title","page_contact_success_title","page_contact_success_message","page_contact_info_title","page_contact_social_title","page_contact_faq_title"],Ee),{data:a={}}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const d=await fetch("/api/site-settings");if(!d.ok)return{};const f=await d.json();return f&&typeof f=="object"&&!f.message?f:{}}catch{return{}}}}),i=d=>a[d]||"",o=Ls({resolver:Fs(Fle),defaultValues:{name:"",email:"",phone:"",subject:"",message:""}}),l=ye({mutationFn:async d=>await ve("POST","/api/contact",d),onSuccess:()=>{e({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),r(!0),o.reset()},onError:d=>{e({title:"Error",description:d.message||"Failed to send message. Please try again.",variant:"destructive"})}}),c=d=>{l.mutate(d)},u=[{icon:mr,title:"Book a Facility",description:"Reserve courts, halls, and more",href:"/booking"},{icon:yr,title:"Membership",description:"Join The Quarterdeck community",href:"/membership"},{icon:un,title:"Our Facilities",description:"Explore what we offer",href:"/facilities"}];return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:n("page_contact_title"),subtitle:n("page_contact_subtitle"),testId:"text-contact-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Tk,{className:"w-5 h-5"}),n("page_contact_form_title")]})}),s.jsx(se,{children:t?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mx-auto mb-4",children:s.jsx(lv,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:n("page_contact_success_title")}),s.jsx("p",{className:"text-muted-foreground mb-4",children:n("page_contact_success_message")}),s.jsx(M,{onClick:()=>r(!1),variant:"outline",children:"Send Another Message"})]}):s.jsx(Bs,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(rt,{control:o.control,name:"name",render:({field:d})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Full Name *"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"Your name",...d,"data-testid":"input-contact-name"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:o.control,name:"email",render:({field:d})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Email Address *"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com",...d,"data-testid":"input-contact-email"})}),s.jsx(st,{})]})})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(rt,{control:o.control,name:"phone",render:({field:d})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Phone Number"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"+92 xxx xxxxxxx",...d,"data-testid":"input-contact-phone"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:o.control,name:"subject",render:({field:d})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Subject *"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"What's this about?",...d,"data-testid":"input-contact-subject"})}),s.jsx(st,{})]})})]}),s.jsx(rt,{control:o.control,name:"message",render:({field:d})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Message *"}),s.jsx(et,{children:s.jsx(ct,{placeholder:"How can we help you?",rows:5,...d,"data-testid":"input-contact-message"})}),s.jsx(st,{})]})}),s.jsx(M,{type:"submit",className:"w-full sm:w-auto",disabled:l.isPending,"data-testid":"button-contact-submit",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lv,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Links"}),s.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:u.map(d=>s.jsx(me,{href:d.href,children:s.jsx(ne,{className:"h-full hover-elevate cursor-pointer","data-testid":`link-quick-${d.title.toLowerCase().replace(/\s/g,"-")}`,children:s.jsxs(se,{className:"p-4",children:[s.jsx(d.icon,{className:"w-8 h-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold mb-1",children:d.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})})},d.href))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:n("page_contact_info_title")})}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ps,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("address")||"The Quarterdeck Sports Complex, Islamabad, Pakistan"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(bm,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("phone")||"+92 51 XXX XXXX"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(gf,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("email")||"info@thequarterdeck.pk"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Qt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Operating Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("operating_hours")||"6:00 AM - 11:00 PM Daily"})]})]})]})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:n("page_contact_social_title")})}),s.jsx(se,{children:s.jsxs("div",{className:"flex gap-3",children:[i("facebook")&&s.jsx("a",{href:i("facebook"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-facebook",children:s.jsx(V5,{className:"w-5 h-5 text-primary"})}),i("instagram")&&s.jsx("a",{href:i("instagram"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-instagram",children:s.jsx(K5,{className:"w-5 h-5 text-primary"})}),i("twitter")&&s.jsx("a",{href:i("twitter"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-twitter",children:s.jsx(MG,{className:"w-5 h-5 text-primary"})}),!i("facebook")&&!i("instagram")&&!i("twitter")&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Social links coming soon"})]})})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Ts,{className:"w-5 h-5"}),n("page_contact_faq_title")]})}),s.jsxs(se,{className:"space-y-1",children:[s.jsxs(D8,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(Fu,{value:"booking",className:"border-b-0",children:[s.jsx(Uu,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-booking",children:"How do I book a facility?"}),s.jsx(Bu,{className:"text-sm text-muted-foreground",children:"You can book facilities through our booking page. Simply select the facility, choose your preferred date and time slot, and confirm your reservation. Members get priority booking windows based on their tier."})]}),s.jsxs(Fu,{value:"membership",className:"border-b-0",children:[s.jsx(Uu,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-membership",children:"What membership options are available?"}),s.jsx(Bu,{className:"text-sm text-muted-foreground",children:"We offer Founding Member, Gold, Silver, and Pay-to-Play options. Each tier includes different benefits like booking windows, discounts, and guest passes. Visit our membership page for details."})]}),s.jsxs(Fu,{value:"rules",className:"border-b-0",children:[s.jsx(Uu,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-rules",children:"What are the facility rules?"}),s.jsx(Bu,{className:"text-sm text-muted-foreground",children:"All members must follow our facility guidelines including proper attire, court etiquette, and safety protocols. Visit our Rules page for the complete list."})]}),s.jsxs(Fu,{value:"events",className:"border-b-0",children:[s.jsx(Uu,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-events",children:"How do I join events?"}),s.jsx(Bu,{className:"text-sm text-muted-foreground",children:"Check our Events page for upcoming tournaments and activities. Members can register directly through the event details page. Some events may have limited spots."})]})]}),s.jsx("div",{className:"pt-3 border-t",children:s.jsx(me,{href:"/faq",children:s.jsx(M,{variant:"outline",size:"sm",className:"w-full","data-testid":"link-view-more-faq",children:"View All FAQs"})})})]})]})]})]})]})]}),s.jsx(Ht,{})]})}const Ble={"help-circle":Ts,users:yr,calendar:mr,"credit-card":Jo,clock:Qt,"building-2":un,shield:ci,settings:wm};function Vle({item:e,isOpen:t,onToggle:r}){return s.jsxs("div",{className:"border-b border-border last:border-b-0",children:[s.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between py-4 text-left hover-elevate","data-testid":`button-faq-${e.id}`,children:[s.jsx("span",{className:"font-medium text-foreground pr-4",children:e.question}),s.jsx(la,{className:`w-5 h-5 text-muted-foreground shrink-0 transition-transform ${t?"rotate-180":""}`})]}),t&&s.jsx("div",{className:"pb-4 text-muted-foreground animate-qd-fade-in",children:e.answer})]})}function qle(){Ur({title:"Frequently Asked Questions",description:"Find answers to common questions about The Quarterdeck - membership, booking, facilities, payments, and policies at Islamabad's sports complex."});const[e,t]=v.useState({}),{getValue:r}=Fr(["page_faq_title","page_faq_subtitle","page_faq_contact_cta"],Ee),{data:n=[],isLoading:a}=de({queryKey:["/api/faq"]}),i=l=>{t(c=>({...c,[l]:!c[l]}))},o=l=>Ble[l||"help-circle"]||Ts;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:r("page_faq_title"),subtitle:r("page_faq_subtitle"),testId:"text-faq-title"}),s.jsx("section",{className:"py-12 md:py-16",children:s.jsxs("div",{className:"qd-container max-w-5xl mx-auto",children:[s.jsx(Va,{items:[{label:"FAQ"}]}),a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx(ne,{className:"overflow-visible",children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(Ts,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQs Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Check back later for frequently asked questions."})]})}):s.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:n.map(l=>{const c=o(l.icon);return s.jsx(ne,{className:"overflow-visible","data-testid":`card-faq-${l.id}`,children:s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(c,{className:"w-5 h-5 text-primary"})}),s.jsx("h2",{className:"text-lg font-semibold",children:l.title})]}),s.jsx("div",{children:l.items.length===0?s.jsx("p",{className:"text-muted-foreground text-sm",children:"No questions in this category yet."}):l.items.map(u=>s.jsx(Vle,{item:u,isOpen:e[u.id]||!1,onToggle:()=>i(u.id)},u.id))})]})},l.id)})}),s.jsx("div",{className:"mt-12 text-center",children:s.jsx(ne,{className:"inline-block overflow-visible",children:s.jsxs(se,{className:"p-8",children:[s.jsx(Ts,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Still have questions?"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Our team is here to help. Get in touch and we'll respond as soon as possible."}),s.jsx(me,{href:"/contact",children:s.jsx(M,{"data-testid":"button-contact-us",children:"Contact Us"})})]})})})]})})]}),s.jsx(Ht,{})]})}function zle(e){const t=Wle(e),r=v.forwardRef((n,a)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(Hle);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Wle(e){const t=v.forwardRef((r,n)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=Qle(a),l=Gle(i,a.props);return a.type!==v.Fragment&&(l.ref=n?Jn(n,o):o),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Kle=Symbol("radix.slottable");function Hle(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kle}function Gle(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Qle(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function V2(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Yle=[" ","Enter","ArrowUp","ArrowDown"],Xle=[" ","Enter"],Nc="Select",[e0,t0,Jle]=Op(Nc),[Pf]=An(Nc,[Jle,ul]),r0=ul(),[Zle,fl]=Pf(Nc),[ece,tce]=Pf(Nc),L8=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,m=r0(t),[w,g]=v.useState(null),[x,b]=v.useState(null),[j,_]=v.useState(!1),N=Nf(u),[S,C]=ms({prop:n,defaultProp:a??!1,onChange:i,caller:Nc}),[P,k]=ms({prop:o,defaultProp:l,onChange:c,caller:Nc}),E=v.useRef(null),T=w?y||!!w.closest("form"):!0,[I,R]=v.useState(new Set),D=Array.from(I).map(O=>O.props.value).join(";");return s.jsx(yb,{...m,children:s.jsxs(Zle,{required:p,scope:t,trigger:w,onTriggerChange:g,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:Gr(),value:P,onValueChange:k,open:S,onOpenChange:C,dir:N,triggerPointerDownPosRef:E,disabled:h,children:[s.jsx(e0.Provider,{scope:t,children:s.jsx(ece,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(O=>{R(z=>new Set(z).add(O))},[]),onNativeOptionRemove:v.useCallback(O=>{R(z=>{const A=new Set(z);return A.delete(O),A})},[]),children:r})}),T?s.jsxs(lU,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:O=>k(O.target.value),disabled:h,form:y,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},D):null]})})};L8.displayName=Nc;var F8="SelectTrigger",U8=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=r0(r),o=fl(F8,r),l=o.disabled||n,c=ft(t,o.onTriggerChange),u=t0(r),d=v.useRef("touch"),[f,h,p]=uU(m=>{const w=u().filter(b=>!b.disabled),g=w.find(b=>b.value===o.value),x=dU(w,m,g);x!==void 0&&o.onValueChange(x.value)}),y=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(Lp,{asChild:!0,...i,children:s.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":cU(o.value)?"":void 0,...a,ref:c,onClick:je(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:je(a.onPointerDown,m=>{d.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:je(a.onKeyDown,m=>{const w=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(w&&m.key===" ")&&Yle.includes(m.key)&&(y(),m.preventDefault())})})})});U8.displayName=F8;var B8="SelectValue",V8=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=fl(B8,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=ft(t,c.onValueNodeChange);return Lr(()=>{u(d)},[u,d]),s.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:cU(c.value)?s.jsx(s.Fragment,{children:o}):i})});V8.displayName=B8;var rce="SelectIcon",q8=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Me.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});q8.displayName=rce;var nce="SelectPortal",z8=e=>s.jsx(pf,{asChild:!0,...e});z8.displayName=nce;var _c="SelectContent",W8=v.forwardRef((e,t)=>{const r=fl(_c,e.__scopeSelect),[n,a]=v.useState();if(Lr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Rc.createPortal(s.jsx(K8,{scope:e.__scopeSelect,children:s.jsx(e0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(H8,{...e,ref:t})});W8.displayName=_c;var wa=10,[K8,hl]=Pf(_c),sce="SelectContentImpl",ace=zle("SelectContent.RemoveScroll"),H8=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:w,...g}=e,x=fl(_c,r),[b,j]=v.useState(null),[_,N]=v.useState(null),S=ft(t,te=>j(te)),[C,P]=v.useState(null),[k,E]=v.useState(null),T=t0(r),[I,R]=v.useState(!1),D=v.useRef(!1);v.useEffect(()=>{if(b)return Eb(b)},[b]),Pb();const O=v.useCallback(te=>{const[be,...ie]=T().map(G=>G.ref.current),[U]=ie.slice(-1),le=document.activeElement;for(const G of te)if(G===le||(G==null||G.scrollIntoView({block:"nearest"}),G===be&&_&&(_.scrollTop=0),G===U&&_&&(_.scrollTop=_.scrollHeight),G==null||G.focus(),document.activeElement!==le))return},[T,_]),z=v.useCallback(()=>O([C,b]),[O,C,b]);v.useEffect(()=>{I&&z()},[I,z]);const{onOpenChange:A,triggerPointerDownPosRef:$}=x;v.useEffect(()=>{if(b){let te={x:0,y:0};const be=U=>{var le,G;te={x:Math.abs(Math.round(U.pageX)-(((le=$.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(U.pageY)-(((G=$.current)==null?void 0:G.y)??0))}},ie=U=>{te.x<=10&&te.y<=10?U.preventDefault():b.contains(U.target)||A(!1),document.removeEventListener("pointermove",be),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",ie,{capture:!0})}}},[b,A,$]),v.useEffect(()=>{const te=()=>A(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[A]);const[Q,X]=uU(te=>{const be=T().filter(le=>!le.disabled),ie=be.find(le=>le.ref.current===document.activeElement),U=dU(be,te,ie);U&&setTimeout(()=>U.ref.current.focus())}),F=v.useCallback((te,be,ie)=>{const U=!D.current&&!ie;(x.value!==void 0&&x.value===be||U)&&(P(te),U&&(D.current=!0))},[x.value]),J=v.useCallback(()=>b==null?void 0:b.focus(),[b]),q=v.useCallback((te,be,ie)=>{const U=!D.current&&!ie;(x.value!==void 0&&x.value===be||U)&&E(te)},[x.value]),ee=n==="popper"?BN:G8,pe=ee===BN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:w}:{};return s.jsx(K8,{scope:r,content:b,viewport:_,onViewportChange:N,itemRefCallback:F,selectedItem:C,onItemLeave:J,itemTextRefCallback:q,focusSelectedItem:z,selectedItemText:k,position:n,isPositioned:I,searchRef:Q,children:s.jsx(Vp,{as:ace,allowPinchZoom:!0,children:s.jsx(Bp,{asChild:!0,trapped:x.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:je(a,te=>{var be;(be=x.trigger)==null||be.focus({preventScroll:!0}),te.preventDefault()}),children:s.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(ee,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:te=>te.preventDefault(),...g,...pe,onPlaced:()=>R(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:je(g.onKeyDown,te=>{const be=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!be&&te.key.length===1&&X(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let U=T().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(te.key)&&(U=U.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const le=te.target,G=U.indexOf(le);U=U.slice(G+1)}setTimeout(()=>O(U)),te.preventDefault()}})})})})})})});H8.displayName=sce;var ice="SelectItemAlignedPosition",G8=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=fl(_c,r),o=hl(_c,r),[l,c]=v.useState(null),[u,d]=v.useState(null),f=ft(t,S=>d(S)),h=t0(r),p=v.useRef(!1),y=v.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:g,focusSelectedItem:x}=o,b=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&w&&g){const S=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),k=g.getBoundingClientRect();if(i.dir!=="rtl"){const le=k.left-C.left,G=P.left-le,B=S.left-G,ge=S.width+B,Xe=Math.max(ge,C.width),at=window.innerWidth-wa,pt=jN(G,[wa,Math.max(wa,at-Xe)]);l.style.minWidth=ge+"px",l.style.left=pt+"px"}else{const le=C.right-k.right,G=window.innerWidth-P.right-le,B=window.innerWidth-S.right-G,ge=S.width+B,Xe=Math.max(ge,C.width),at=window.innerWidth-wa,pt=jN(G,[wa,Math.max(wa,at-Xe)]);l.style.minWidth=ge+"px",l.style.right=pt+"px"}const E=h(),T=window.innerHeight-wa*2,I=m.scrollHeight,R=window.getComputedStyle(u),D=parseInt(R.borderTopWidth,10),O=parseInt(R.paddingTop,10),z=parseInt(R.borderBottomWidth,10),A=parseInt(R.paddingBottom,10),$=D+O+I+A+z,Q=Math.min(w.offsetHeight*5,$),X=window.getComputedStyle(m),F=parseInt(X.paddingTop,10),J=parseInt(X.paddingBottom,10),q=S.top+S.height/2-wa,ee=T-q,pe=w.offsetHeight/2,te=w.offsetTop+pe,be=D+O+te,ie=$-be;if(be<=q){const le=E.length>0&&w===E[E.length-1].ref.current;l.style.bottom="0px";const G=u.clientHeight-m.offsetTop-m.offsetHeight,B=Math.max(ee,pe+(le?J:0)+G+z),ge=be+B;l.style.height=ge+"px"}else{const le=E.length>0&&w===E[0].ref.current;l.style.top="0px";const B=Math.max(q,D+m.offsetTop+(le?F:0)+pe)+ie;l.style.height=B+"px",m.scrollTop=be-q+m.offsetTop}l.style.margin=`${wa}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,w,g,i.dir,n]);Lr(()=>b(),[b]);const[j,_]=v.useState();Lr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=v.useCallback(S=>{S&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return s.jsx(lce,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Me.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});G8.displayName=ice;var oce="SelectPopperPosition",BN=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=wa,...i}=e,o=r0(r);return s.jsx(bb,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});BN.displayName=oce;var[lce,q2]=Pf(_c,{}),VN="SelectViewport",Q8=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=hl(VN,r),o=q2(VN,r),l=ft(t,i.onViewportChange),c=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(e0.Slot,{scope:r,children:s.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:je(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-wa*2,m=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),g=Math.max(m,w);if(g<y){const x=g+p,b=Math.min(y,x),j=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Q8.displayName=VN;var Y8="SelectGroup",[cce,uce]=Pf(Y8),dce=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Gr();return s.jsx(cce,{scope:r,id:a,children:s.jsx(Me.div,{role:"group","aria-labelledby":a,...n,ref:t})})});dce.displayName=Y8;var X8="SelectLabel",J8=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=uce(X8,r);return s.jsx(Me.div,{id:a.id,...n,ref:t})});J8.displayName=X8;var Bv="SelectItem",[fce,Z8]=Pf(Bv),eU=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=fl(Bv,r),c=hl(Bv,r),u=l.value===n,[d,f]=v.useState(i??""),[h,p]=v.useState(!1),y=ft(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),m=Gr(),w=v.useRef("touch"),g=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(fce,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:v.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(e0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Me.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:je(o.onFocus,()=>p(!0)),onBlur:je(o.onBlur,()=>p(!1)),onClick:je(o.onClick,()=>{w.current!=="mouse"&&g()}),onPointerUp:je(o.onPointerUp,()=>{w.current==="mouse"&&g()}),onPointerDown:je(o.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:je(o.onPointerMove,x=>{var b;w.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:je(o.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(Xle.includes(x.key)&&g(),x.key===" "&&x.preventDefault())})})})})});eU.displayName=Bv;var Ph="SelectItemText",tU=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=fl(Ph,r),l=hl(Ph,r),c=Z8(Ph,r),u=tce(Ph,r),[d,f]=v.useState(null),h=ft(t,g=>f(g),c.onItemTextChange,g=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,g,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=v.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=u;return Lr(()=>(m(y),()=>w(y)),[m,w,y]),s.jsxs(s.Fragment,{children:[s.jsx(Me.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rc.createPortal(i.children,o.valueNode):null]})});tU.displayName=Ph;var rU="SelectItemIndicator",nU=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Z8(rU,r).isSelected?s.jsx(Me.span,{"aria-hidden":!0,...n,ref:t}):null});nU.displayName=rU;var qN="SelectScrollUpButton",sU=v.forwardRef((e,t)=>{const r=hl(qN,e.__scopeSelect),n=q2(qN,e.__scopeSelect),[a,i]=v.useState(!1),o=ft(t,n.onScrollButtonChange);return Lr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(iU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});sU.displayName=qN;var zN="SelectScrollDownButton",aU=v.forwardRef((e,t)=>{const r=hl(zN,e.__scopeSelect),n=q2(zN,e.__scopeSelect),[a,i]=v.useState(!1),o=ft(t,n.onScrollButtonChange);return Lr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(iU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});aU.displayName=zN;var iU=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=hl("SelectScrollButton",r),o=v.useRef(null),l=t0(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Lr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:je(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:je(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:je(a.onPointerLeave,()=>{c()})})}),hce="SelectSeparator",oU=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Me.div,{"aria-hidden":!0,...n,ref:t})});oU.displayName=hce;var WN="SelectArrow",mce=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=r0(r),i=fl(WN,r),o=hl(WN,r);return i.open&&o.position==="popper"?s.jsx(wb,{...a,...n,ref:t}):null});mce.displayName=WN;var pce="SelectBubbleInput",lU=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=v.useRef(null),i=ft(n,a),o=V2(t);return v.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Me.select,{...r,style:{...v5,...r.style},ref:i,defaultValue:t})});lU.displayName=pce;function cU(e){return e===""||e===void 0}function uU(e){const t=Rr(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function dU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=gce(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function gce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var xce=L8,fU=U8,vce=V8,yce=q8,bce=z8,hU=W8,wce=Q8,mU=J8,pU=eU,jce=tU,Nce=nU,gU=sU,xU=aU,vU=oU;const kt=xce,Ct=vce,jt=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(fU,{ref:n,className:we("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(yce,{asChild:!0,children:s.jsx(la,{className:"h-4 w-4 opacity-50"})})]}));jt.displayName=fU.displayName;const yU=v.forwardRef(({className:e,...t},r)=>s.jsx(gU,{ref:r,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(gc,{className:"h-4 w-4"})}));yU.displayName=gU.displayName;const bU=v.forwardRef(({className:e,...t},r)=>s.jsx(xU,{ref:r,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(la,{className:"h-4 w-4"})}));bU.displayName=xU.displayName;const Nt=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(bce,{children:s.jsxs(hU,{ref:a,className:we("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(yU,{}),s.jsx(wce,{className:we("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(bU,{})]})}));Nt.displayName=hU.displayName;const _ce=v.forwardRef(({className:e,...t},r)=>s.jsx(mU,{ref:r,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));_ce.displayName=mU.displayName;const Ce=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(pU,{ref:n,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Nce,{children:s.jsx(wr,{className:"h-4 w-4"})})}),s.jsx(jce,{children:t})]}));Ce.displayName=pU.displayName;const Sce=v.forwardRef(({className:e,...t},r)=>s.jsx(vU,{ref:r,className:we("-mx-1 my-1 h-px bg-muted",e),...t}));Sce.displayName=vU.displayName;const rT={FOUNDING:35e3,GOLD:15e3,SILVER:5e3};function kce({onSuccess:e}){const{toast:t}=mt(),[r,n]=v.useState(""),[a,i]=v.useState("bank_transfer"),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,f]=v.useState(null),h=v.useRef(null),{data:p}=de({queryKey:["/api/site-settings"]}),y=v.useMemo(()=>p?p.reduce((P,k)=>(P[k.key]=k.value,P),{}):{},[p]),m={bankName:(y==null?void 0:y.bank_name)||"Bank Details Loading...",accountTitle:(y==null?void 0:y.bank_account_title)||"-",accountNumber:(y==null?void 0:y.bank_account_number)||"-",iban:(y==null?void 0:y.bank_iban)||"-",branchCode:(y==null?void 0:y.bank_branch_code)||"-"},{data:w,isLoading:g}=de({queryKey:["/api/membership-applications/mine"]}),x=w==null?void 0:w.find(P=>P.status==="PENDING"),b=ye({mutationFn:async P=>await ve("POST","/api/membership-applications",P),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/membership-applications/mine"]}),t({title:"Application submitted",description:"Please upload your payment proof to complete the application."}),e==null||e()},onError:P=>{t({title:"Failed to submit application",description:P.message||"An error occurred",variant:"destructive"})}}),j=ye({mutationFn:async({id:P,data:k})=>await ve("PATCH",`/api/membership-applications/${P}`,k),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/membership-applications/mine"]}),t({title:"Payment proof uploaded",description:"Your application is now under review. We'll notify you once it's processed."})},onError:P=>{t({title:"Failed to upload payment proof",description:P.message||"An error occurred",variant:"destructive"})}}),_=async P=>{var T;const k=(T=P.target.files)==null?void 0:T[0];if(!k)return;if(k.size>10*1024*1024){t({title:"File too large",description:"Maximum file size is 10MB",variant:"destructive"});return}if(!["image/jpeg","image/png","image/webp","application/pdf"].includes(k.type)){t({title:"Invalid file type",description:"Please upload an image (JPEG, PNG, WebP) or PDF",variant:"destructive"});return}u(!0);try{const I=new FormData;I.append("file",k);const R=await fetch("/api/membership/upload-payment-proof",{method:"POST",body:I,credentials:"include"});if(!R.ok)throw new Error("Upload failed");const D=await R.json();f({name:k.name,url:D.url}),t({title:"File uploaded successfully"})}catch{t({title:"Upload failed",description:"Please try again",variant:"destructive"})}finally{u(!1)}},N=()=>{if(!r){t({title:"Please select a membership tier",variant:"destructive"});return}b.mutate({tierDesired:r,paymentMethod:a,paymentAmount:rT[r]||0})},S=()=>{!x||!d||j.mutate({id:x.id,data:{paymentProofUrl:d.url,paymentReference:o}})},C=P=>{switch(P){case"PENDING":return s.jsxs(ce,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:[s.jsx(Qt,{className:"w-3 h-3 mr-1"}),"Pending Review"]});case"APPROVED":return s.jsxs(ce,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[s.jsx(yn,{className:"w-3 h-3 mr-1"}),"Approved"]});case"REJECTED":return s.jsxs(ce,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[s.jsx(ov,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(ce,{variant:"secondary",children:P})}};if(g)return s.jsx(ne,{children:s.jsx(se,{className:"p-6 flex items-center justify-center",children:s.jsx(Te,{className:"w-6 h-6 animate-spin text-muted-foreground"})})});if(x){const P=!x.paymentProofUrl;return s.jsxs(ne,{"data-testid":"card-pending-application",children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Jo,{className:"w-5 h-5"}),"Your Membership Application"]}),s.jsx(Rt,{children:P?"Please complete your payment and upload proof to proceed":"Your application is being reviewed by our team"})]}),s.jsxs(se,{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[x.tierDesired," Membership"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Applied on ",x.createdAt?Xn(new Date(x.createdAt),"PPP"):"N/A"]})]}),C(x.status||"PENDING")]}),P&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(un,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"Bank Transfer Details"})]}),s.jsxs("div",{className:"grid gap-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Bank Name:"}),s.jsx("span",{className:"font-medium",children:m.bankName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Title:"}),s.jsx("span",{className:"font-medium",children:m.accountTitle})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Number:"}),s.jsx("span",{className:"font-medium",children:m.accountNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"IBAN:"}),s.jsx("span",{className:"font-medium text-xs sm:text-sm",children:m.iban})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-bold text-primary",children:["PKR ",(x.paymentAmount||0).toLocaleString()]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:"paymentReference",children:"Payment Reference / Transaction ID"}),s.jsx(Y,{id:"paymentReference",value:o,onChange:k=>l(k.target.value),placeholder:"Enter your transaction reference number",className:"mt-1","data-testid":"input-payment-reference"})]}),s.jsxs("div",{children:[s.jsx(V,{children:"Payment Proof (Screenshot/Receipt)"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{ref:h,type:"file",accept:"image/*,.pdf",onChange:_,className:"hidden"}),s.jsxs(M,{variant:"outline",onClick:()=>{var k;return(k=h.current)==null?void 0:k.click()},disabled:c,className:"w-full","data-testid":"button-upload-proof",children:[c?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(cn,{className:"w-4 h-4 mr-2"}),d?d.name:"Upload Payment Proof"]}),d&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-green-600",children:[s.jsx(yn,{className:"w-4 h-4"}),s.jsxs("span",{children:["File uploaded: ",d.name]})]})]})]}),s.jsxs(M,{onClick:S,disabled:!d||j.isPending,className:"w-full","data-testid":"button-submit-proof",children:[j.isPending&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Submit Payment Proof"]})]})]}),!P&&s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg text-center",children:[s.jsx(hs,{className:"w-10 h-10 mx-auto text-primary mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your payment proof has been submitted. Our team will review your application and notify you once approved."})]})]})]})}return s.jsxs(ne,{"data-testid":"card-new-application",children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Jo,{className:"w-5 h-5"}),"Apply for Membership"]}),s.jsx(Rt,{children:"Choose your membership tier and complete the payment to join The Quarterdeck"})]}),s.jsxs(se,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:"tier",children:"Select Membership Tier"}),s.jsxs(kt,{value:r,onValueChange:n,children:[s.jsx(jt,{className:"mt-1","data-testid":"select-tier",children:s.jsx(Ct,{placeholder:"Choose a membership tier"})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"GOLD",children:"Gold Membership - PKR 15,000/month"}),s.jsx(Ce,{value:"SILVER",children:"Silver Membership - PKR 5,000/month"})]})]})]}),s.jsxs("div",{children:[s.jsx(V,{htmlFor:"paymentMethod",children:"Payment Method"}),s.jsxs(kt,{value:a,onValueChange:i,children:[s.jsx(jt,{className:"mt-1","data-testid":"select-payment-method",children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"bank_transfer",children:"Bank Transfer"}),s.jsx(Ce,{value:"cash",children:"Cash (at reception)"})]})]})]}),r&&s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Fee:"}),s.jsxs("span",{className:"text-xl font-bold",children:["PKR ",(rT[r]||0).toLocaleString()]})]})}),s.jsxs(M,{onClick:N,disabled:!r||b.isPending,className:"w-full","data-testid":"button-submit-application",children:[b.isPending&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Start Application"]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"After submitting, you'll receive bank details for payment. Upload your payment proof to complete the application."})]})]})}const Cce={clock:Qt,gift:db,award:si,shield:ci,target:na,zap:X5,heart:fb,ticket:cv,calendar:mr,trophy:Wn,star:fa,crown:ub,users:yr,check:wr,helpCircle:Ts};function Pce(e){if(!e)return Ts;const t=e.toLowerCase();return Cce[t]||Ts}const Ece={FOUNDING:ub,GOLD:fa,SILVER:Y5,GUEST:yr},nT={FOUNDING:{bg:"bg-amber-500/10 dark:bg-amber-500/20",text:"text-amber-600 dark:text-amber-400",border:"border-amber-500/30"},GOLD:{bg:"bg-yellow-500/10 dark:bg-yellow-500/20",text:"text-yellow-600 dark:text-yellow-400",border:"border-yellow-500/30"},SILVER:{bg:"bg-gray-500/10 dark:bg-gray-500/20",text:"text-gray-600 dark:text-gray-400",border:"border-gray-500/30"},GUEST:{bg:"bg-blue-500/10 dark:bg-blue-500/20",text:"text-blue-600 dark:text-blue-400",border:"border-blue-500/30"}},Ace=[{id:"founding",name:"Founding Member",tier:"FOUNDING",tagline:"Limited & Exclusive",description:"For early supporters and investors who believe in our vision.",price:35e3,billingPeriod:"monthly",featured:!0,closed:!0,benefits:["Lifetime priority booking (14-day window)","25% discount on off-peak bookings (10 AM - 5 PM)","10 guest passes per month","Permanent credit bonus (10%)","VIP parking & locker","Invitation to all exclusive events","Founding member recognition wall"],isActive:!0,sortOrder:1},{id:"gold",name:"Gold Membership",tier:"GOLD",tagline:"Premium Access",description:"For serious athletes and frequent players who want the best experience.",price:15e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["7-day advance booking window","20% discount on off-peak bookings (10 AM - 5 PM)","4 guest passes per month","Priority event registration","15% off coaching & clinics","Free equipment rental (2x/month)","Access to member lounge"],isActive:!0,sortOrder:2},{id:"silver",name:"Silver Membership",tier:"SILVER",tagline:"Standard Access",description:"Perfect for recreational players who want regular access at great value.",price:5e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["5-day advance booking window","10% discount on off-peak bookings (10 AM - 5 PM)","2 guest passes per month","10% off coaching & clinics","Member newsletter & updates","Discounted event entry"],isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Non-Member Access",description:"Try our facilities without commitment. Subject to availability.",price:0,billingPeriod:"per visit",featured:!1,closed:!1,benefits:["2-day advance booking window","Access after member priority","Equipment rental available","Guest registration required","Can be upgraded to membership"],isActive:!0,sortOrder:4}],Oce=[{feature:"Advance Booking Window",foundingValue:"14 days",goldValue:"7 days",silverValue:"5 days",guestValue:"2 days"},{feature:"Off-Peak Discount (10 AM - 5 PM)",foundingValue:"25%",goldValue:"20%",silverValue:"10%",guestValue:"None"},{feature:"Monthly Guest Passes",foundingValue:"10",goldValue:"4",silverValue:"2",guestValue:"N/A"},{feature:"Coaching Discount",foundingValue:"20%",goldValue:"15%",silverValue:"10%",guestValue:"None"},{feature:"Event Priority",foundingValue:"VIP",goldValue:"Priority",silverValue:"Standard",guestValue:"Last"}],Tce=[{icon:"clock",title:"Priority Booking",description:"Book your preferred time slots ahead of non-members"},{icon:"gift",title:"Exclusive Discounts",description:"Save on bookings, events, and coaching sessions"},{icon:"award",title:"Guest Passes",description:"Share the experience with friends and family"},{icon:"shield",title:"Member-Only Events",description:"Access exclusive tournaments and social gatherings"}];function Ice(){Ur({title:"Membership Plans",description:"Join The Quarterdeck with exclusive membership tiers - Founding, Gold, Silver, and Guest. Enjoy priority booking, discounts, and premium benefits at Islamabad's premier sports complex."});const[e,t]=v.useState(null),[r,n]=v.useState(!1),[,a]=Ln(),{isAuthenticated:i}=eo(),{data:o}=de({queryKey:["/api/memberships/my"],enabled:i}),l=g=>{var x;i?o?a("/profile?tab=membership"):(x=document.getElementById("apply"))==null||x.scrollIntoView({behavior:"smooth"}):a(`/signup?redirect=/membership&tier=${g.tier}`)},{getValue:c}=Fr(["page_membership_title","page_membership_subtitle","page_membership_why_title","page_membership_why_description","page_membership_tiers_title","page_membership_tiers_description","page_membership_ready_title","page_membership_ready_description","page_membership_create_cta","page_membership_contact_cta"],Ee),{data:u,isLoading:d}=de({queryKey:["/api/pricing-tiers"],queryFn:async()=>{const g=await fetch("/api/pricing-tiers");if(!g.ok)throw new Error("Failed to fetch pricing tiers");return g.json()}}),{data:f}=de({queryKey:["/api/comparison-features"]}),{data:h}=de({queryKey:["/api/member-benefits"]}),p=v.useMemo(()=>f&&f.length>0?f:Oce,[f]),y=v.useMemo(()=>h&&h.length>0?h:Tce,[h]),m=v.useMemo(()=>u&&u.length>0?u.filter(g=>g.isActive).sort((g,x)=>(g.sortOrder||0)-(x.sortOrder||0)).map(g=>({...g,tagline:g.tier==="FOUNDING"?"Limited & Exclusive":g.tier==="GOLD"?"Premium Access":g.tier==="SILVER"?"Standard Access":"Non-Member Access",closed:g.tier==="FOUNDING"})):Ace,[u]),w=g=>{t(e===g?null:g)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:c("page_membership_title"),subtitle:c("page_membership_subtitle"),testId:"text-membership-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Va,{}),s.jsxs("section",{className:"mt-8 mb-16",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:c("page_membership_why_title")}),s.jsx("p",{className:"text-muted-foreground",children:c("page_membership_why_description")})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:y.map((g,x)=>{const b=Pce(g.icon);return s.jsx(ne,{className:"text-center","data-testid":`card-benefit-${x}`,children:s.jsxs(se,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(b,{className:"w-6 h-6 text-primary"})}),s.jsx("h3",{className:"font-semibold mb-2",children:g.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]})},x)})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:c("page_membership_tiers_title")}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:c("page_membership_tiers_description")})]}),d?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[1,2,3,4].map(g=>s.jsx(ne,{children:s.jsxs(se,{className:"p-6 space-y-4",children:[s.jsx($e,{className:"h-8 w-24"}),s.jsx($e,{className:"h-10 w-32"}),s.jsx($e,{className:"h-4 w-full"}),s.jsx($e,{className:"h-4 w-3/4"})]})},g))}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:m.map(g=>{var _,N,S,C;const x=Ece[g.tier]||fa,b=nT[g.tier]||nT.SILVER,j=e===g.id;return s.jsxs(ne,{className:`relative overflow-visible ${g.featured?"ring-2 ring-primary":""}`,"data-testid":`card-tier-${(_=g.tier)==null?void 0:_.toLowerCase()}`,children:[g.featured&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx("span",{className:"bg-primary text-primary-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Most Popular"})}),g.closed&&s.jsx("div",{className:"absolute -top-3 right-4",children:s.jsx("span",{className:"bg-destructive text-destructive-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Closed"})}),s.jsxs(se,{className:"p-6",children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${b.bg} flex items-center justify-center mb-4`,children:s.jsx(x,{className:`w-6 h-6 ${b.text}`})}),s.jsx("h3",{className:"font-bold text-lg mb-1",children:g.name}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:g.tagline}),s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"text-3xl font-bold",children:g.price===0?"Free":`PKR ${g.price.toLocaleString()}`}),g.price>0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",g.billingPeriod]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:g.description}),s.jsxs("button",{onClick:()=>w(g.id),className:"flex items-center gap-1 text-sm text-primary hover:underline mb-4","data-testid":`button-toggle-benefits-${(N=g.tier)==null?void 0:N.toLowerCase()}`,children:[j?"Hide":"View"," Benefits",j?s.jsx(gc,{className:"w-4 h-4"}):s.jsx(la,{className:"w-4 h-4"})]}),j&&s.jsx("ul",{className:"space-y-2 mb-4 animate-qd-fade-in",children:(S=g.benefits)==null?void 0:S.map((P,k)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(wr,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),s.jsx("span",{children:P})]},k))}),g.closed?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Registration Closed"}):s.jsx(M,{variant:g.featured?"default":"outline",className:"w-full",onClick:()=>l(g),"data-testid":`button-join-${(C=g.tier)==null?void 0:C.toLowerCase()}`,children:i?o?"View My Membership":"Apply for Membership":g.price===0?"Register Free":"Join Now"})]})]},g.id)})})]}),s.jsxs("section",{className:"mb-16 max-w-5xl mx-auto",children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 text-lg font-semibold mx-auto mb-6 hover:text-primary transition-colors","data-testid":"button-toggle-comparison",children:["Compare Membership Tiers",r?s.jsx(gc,{className:"w-5 h-5"}):s.jsx(la,{className:"w-5 h-5"})]}),r&&s.jsx(ne,{className:"overflow-visible animate-qd-fade-in",children:s.jsx(se,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-4 font-medium",children:"Feature"}),s.jsx("th",{className:"text-center p-4 font-medium text-amber-600 dark:text-amber-400",children:"Founding"}),s.jsx("th",{className:"text-center p-4 font-medium text-yellow-600 dark:text-yellow-400",children:"Gold"}),s.jsx("th",{className:"text-center p-4 font-medium text-gray-600 dark:text-gray-400",children:"Silver"}),s.jsx("th",{className:"text-center p-4 font-medium text-blue-600 dark:text-blue-400",children:"Guest"})]})}),s.jsx("tbody",{children:p.map((g,x)=>s.jsxs("tr",{className:"border-b last:border-b-0",children:[s.jsx("td",{className:"p-4 text-sm",children:g.feature}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.foundingValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.goldValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.silverValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.guestValue})]},x))})]})})})})]}),i&&!o&&s.jsxs("section",{className:"mb-16 max-w-xl mx-auto",id:"apply",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Apply for Membership"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete your application and start enjoying member benefits today"})]}),s.jsx(kce,{})]}),s.jsx("section",{className:"text-center max-w-2xl mx-auto",children:s.jsx(ne,{children:s.jsxs(se,{className:"p-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:c("page_membership_ready_title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:c("page_membership_ready_description")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[i?o?s.jsx(me,{href:"/profile?tab=membership",children:s.jsx(M,{"data-testid":"button-view-my-membership",children:"View My Membership"})}):s.jsx(M,{onClick:()=>{var g;return(g=document.getElementById("apply"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},"data-testid":"button-apply-membership",children:"Apply for Membership"}):s.jsx(me,{href:"/signup?redirect=/membership",children:s.jsx(M,{"data-testid":"button-create-account",children:c("page_membership_create_cta")})}),s.jsx(me,{href:"/contact",children:s.jsx(M,{variant:"outline","data-testid":"button-contact-membership",children:c("page_membership_contact_cta")})})]})]})})})]})]}),s.jsx(Ht,{})]})}function Rce(){Ur({title:"Certifications & Training",description:"Get certified for specialized facilities at The Quarterdeck. Enroll in training classes and obtain required certifications for Air Rifle Range and other facilities."});const{isAuthenticated:e}=eo(),{toast:t}=mt(),[r,n]=v.useState("overview"),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState({certificateNumber:"",expiresAt:"",notes:"",proofFile:null}),{data:d=[],isLoading:f}=de({queryKey:["/api/certifications"]}),{data:h=[],isLoading:p}=de({queryKey:["/api/certification-classes"]}),{data:y=[],isLoading:m}=de({queryKey:["/api/my-certifications"],enabled:e}),{data:w=[],isLoading:g}=de({queryKey:["/api/my-enrollments"],enabled:e}),x=ye({mutationFn:async k=>{const E=await fetch(`/api/certification-classes/${k}/enroll`,{method:"POST",credentials:"include"});if(!E.ok){const T=await E.json();throw new Error(T.message||"Enrollment failed")}return E.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/my-enrollments"]}),re.invalidateQueries({queryKey:["/api/certification-classes"]}),t({title:"Success",description:"You have been enrolled in the class."})},onError:k=>{t({title:"Error",description:k.message,variant:"destructive"})}}),b=ye({mutationFn:async k=>{const E=await fetch("/api/my-certifications/submit",{method:"POST",body:k,credentials:"include"});if(!E.ok){const T=await E.json();throw new Error(T.message||"Submission failed")}return E.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/my-certifications"]}),i(!1),u({certificateNumber:"",expiresAt:"",notes:"",proofFile:null}),l(null),t({title:"Submitted",description:"Your certification has been submitted for verification."})},onError:k=>{t({title:"Error",description:k.message,variant:"destructive"})}}),j=()=>{if(!o)return;const k=new FormData;k.append("certificationId",o.id),c.certificateNumber&&k.append("certificateNumber",c.certificateNumber),c.expiresAt&&k.append("expiresAt",c.expiresAt),c.notes&&k.append("notes",c.notes),c.proofFile&&k.append("proofDocument",c.proofFile),b.mutate(k)},_=k=>d.find(E=>E.id===k.certificationId),N=k=>w.some(E=>E.classId===k),S=k=>{switch(k){case"ACTIVE":return s.jsxs(ce,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:[s.jsx(yn,{className:"w-3 h-3 mr-1"})," Active"]});case"PENDING":return s.jsxs(ce,{className:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:[s.jsx(Qt,{className:"w-3 h-3 mr-1"})," Pending Verification"]});case"REVOKED":case"EXPIRED":return s.jsxs(ce,{className:"bg-red-500/20 text-red-700 dark:text-red-400",children:[s.jsx($p,{className:"w-3 h-3 mr-1"})," ",k]});default:return s.jsx(ce,{variant:"secondary",children:k})}},C=y.filter(k=>k.status==="ACTIVE"),P=y.filter(k=>k.status==="PENDING");return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsx(Fn,{title:"Certifications & Training",subtitle:"Some facilities require safety certifications. View available classes or submit your existing credentials."}),s.jsx(Va,{items:[{label:"Home",href:"/"},{label:"Certifications"}]}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:s.jsxs(ua,{value:r,onValueChange:n,className:"space-y-6",children:[s.jsxs(Ds,{className:"grid w-full max-w-md mx-auto grid-cols-3",children:[s.jsx(Vt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(Vt,{value:"classes","data-testid":"tab-classes",children:"Classes"}),s.jsx(Vt,{value:"my-certs","data-testid":"tab-my-certs",children:"My Certs"})]}),s.jsxs(qt,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Available Certifications"}),s.jsx("p",{className:"text-muted-foreground",children:"These certifications may be required for certain facilities"})]}),f?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(k=>s.jsx(ne,{children:s.jsx(se,{className:"p-6",children:s.jsx($e,{className:"h-32"})})},k))}):d.length===0?s.jsx(ne,{children:s.jsx(se,{className:"p-8 text-center text-muted-foreground",children:"No certifications available at this time."})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(k=>{const E=C.some(I=>I.certificationId===k.id),T=P.some(I=>I.certificationId===k.id);return s.jsxs(ne,{"data-testid":`card-certification-${k.id}`,className:E?"border-green-500/50":"",children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(si,{className:"w-8 h-8 text-primary shrink-0"}),E&&s.jsx(ce,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:"Certified"}),T&&s.jsx(ce,{className:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:"Pending"})]}),s.jsx(We,{className:"text-lg",children:k.name}),s.jsx(Rt,{children:k.description})]}),s.jsxs(se,{className:"space-y-3",children:[k.validityMonths&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Valid for ",k.validityMonths," months"]})]}),k.facilityId&&s.jsx(ce,{variant:"destructive",children:"Required for facility access"})]}),s.jsx(Ev,{children:e?E?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Already Certified"}):T?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Verification Pending"}):s.jsxs(M,{className:"w-full",onClick:()=>{l(k),i(!0)},"data-testid":`button-submit-cert-${k.id}`,children:[s.jsx(cn,{className:"w-4 h-4 mr-2"})," Submit Certification"]}):s.jsx(M,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign in to submit"})})})]},k.id)})})]}),s.jsxs(qt,{value:"classes",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Upcoming Training Classes"}),s.jsx("p",{className:"text-muted-foreground",children:"Enroll in a class to get certified at our facility"})]}),p?s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[1,2].map(k=>s.jsx(ne,{children:s.jsx(se,{className:"p-6",children:s.jsx($e,{className:"h-40"})})},k))}):h.length===0?s.jsx(ne,{children:s.jsx(se,{className:"p-8 text-center text-muted-foreground",children:"No upcoming classes scheduled. Check back later."})}):s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:h.map(k=>{const E=_(k),T=N(k.id),I=(k.enrolledCount||0)>=(k.capacity||1/0);return s.jsxs(ne,{"data-testid":`card-class-${k.id}`,children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[s.jsx(Z1,{className:"w-6 h-6 text-primary"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(ce,{variant:"secondary",children:(E==null?void 0:E.name)||"Certification"}),T&&s.jsx(ce,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:"Enrolled"})]})]}),s.jsx(We,{children:k.title}),s.jsx(Rt,{children:k.description})]}),s.jsxs(se,{className:"space-y-3",children:[k.scheduledDate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(mr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:Xn(new Date(k.scheduledDate),"PPP 'at' p")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(yr,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[k.enrolledCount||0," / ",k.capacity||"Unlimited"," enrolled"]})]}),k.location&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Location: ",k.location]}),k.price&&Number(k.price)>0&&s.jsxs("div",{className:"text-lg font-semibold",children:["PKR ",Number(k.price).toLocaleString()]})]}),s.jsx(Ev,{children:e?T?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Already Enrolled"}):I?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Class Full"}):s.jsx(M,{className:"w-full",onClick:()=>x.mutate(k.id),disabled:x.isPending,"data-testid":`button-enroll-${k.id}`,children:"Enroll Now"}):s.jsx(M,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign in to enroll"})})})]},k.id)})})]}),s.jsx(qt,{value:"my-certs",className:"space-y-6",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"My Certifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your certifications and class enrollments"})]}),m||g?s.jsx("div",{className:"space-y-4",children:[1,2].map(k=>s.jsx(ne,{children:s.jsx(se,{className:"p-6",children:s.jsx($e,{className:"h-20"})})},k))}):y.length===0&&w.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(Ek,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"You don't have any certifications yet."}),s.jsx("p",{className:"mt-2",children:"Submit your existing certificates or enroll in a training class."})]})}):s.jsxs("div",{className:"space-y-6",children:[y.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Issued Certifications"}),y.map(k=>{const E=d.find(T=>T.id===k.certificationId);return s.jsx(ne,{"data-testid":`card-my-cert-${k.id}`,children:s.jsxs(se,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(si,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(E==null?void 0:E.name)||"Certification"}),k.certificateNumber&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",k.certificateNumber]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[S(k.status),k.expiresAt&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Expires: ",Xn(new Date(k.expiresAt),"PP")]})]})]})},k.id)})]}),w.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Class Enrollments"}),w.map(k=>{const E=h.find(T=>T.id===k.classId);return s.jsx(ne,{"data-testid":`card-enrollment-${k.id}`,children:s.jsxs(se,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Z1,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(E==null?void 0:E.title)||"Training Class"}),(E==null?void 0:E.scheduledDate)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:Xn(new Date(E.scheduledDate),"PPP 'at' p")})]})]}),s.jsx(ce,{variant:"secondary",children:k.status})]})},k.id)})]})]})]}):s.jsx(ne,{children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Sign in to view your certifications"}),s.jsx(M,{asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign In"})})]})})})]})}),s.jsx(Et,{open:a,onOpenChange:i,children:s.jsxs(_t,{children:[s.jsxs(At,{children:[s.jsx(Ot,{children:"Submit Certification"}),s.jsxs(Rs,{children:["Upload proof of your ",o==null?void 0:o.name," certification for verification."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"certificateNumber",children:"Certificate Number (optional)"}),s.jsx(Y,{id:"certificateNumber",value:c.certificateNumber,onChange:k=>u(E=>({...E,certificateNumber:k.target.value})),placeholder:"Enter your certificate number","data-testid":"input-certificate-number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"expiresAt",children:"Expiration Date (optional)"}),s.jsx(Y,{id:"expiresAt",type:"date",value:c.expiresAt,onChange:k=>u(E=>({...E,expiresAt:k.target.value})),"data-testid":"input-expires-at"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"proofFile",children:"Proof Document"}),s.jsx(Y,{id:"proofFile",type:"file",accept:"image/*,.pdf",onChange:k=>u(E=>{var T;return{...E,proofFile:((T=k.target.files)==null?void 0:T[0])||null}}),"data-testid":"input-proof-file"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload an image or PDF of your certificate"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"notes",children:"Additional Notes (optional)"}),s.jsx(ct,{id:"notes",value:c.notes,onChange:k=>u(E=>({...E,notes:k.target.value})),placeholder:"Any additional information...","data-testid":"input-notes"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(M,{onClick:j,disabled:b.isPending,"data-testid":"button-submit-certification",children:b.isPending?"Submitting...":"Submit for Verification"})]})]})}),s.jsx(Ht,{})]})}function Mce(){const[,e]=Ln();return v.useEffect(()=>{e("/roadmap")},[e]),null}function $ce(){return Ur({title:"Page Not Found",description:"The page you're looking for doesn't exist or has been moved. Visit The Quarterdeck homepage to explore our sports complex."}),s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center py-16",children:s.jsx(ne,{className:"w-full max-w-lg mx-4",children:s.jsxs(se,{className:"pt-8 pb-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-6xl font-bold text-muted-foreground mb-2",children:"404"}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2","data-testid":"text-error-title",children:"Page Not Found"}),s.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Here are some helpful links:"}),s.jsx(me,{href:"/",children:s.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-home",children:[s.jsx(Ak,{className:"h-4 w-4"}),"Go to Homepage"]})}),s.jsx(me,{href:"/facilities",children:s.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-facilities",children:[s.jsx(mr,{className:"h-4 w-4"}),"View Facilities"]})}),s.jsx(me,{href:"/#membership",children:s.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-membership",children:[s.jsx(yr,{className:"h-4 w-4"}),"Membership Plans"]})})]}),s.jsx("div",{className:"text-center",children:s.jsxs(M,{variant:"ghost",onClick:()=>window.history.back(),className:"gap-2","data-testid":"button-go-back",children:[s.jsx(kn,{className:"h-4 w-4"}),"Go Back"]})})]})})}),s.jsx(Ht,{})]})}function wU(e){return to({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function Dce(e){return to({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}function Lce(e){return to({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function Fce(e){return to({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},child:[]}]})(e)}function Uce(e){return to({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(e)}function jU(e){return to({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}function Bce(e){return to({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(e)}const Vce=[{id:"twitter",name:"X",icon:jU},{id:"github",name:"GitHub",icon:Dce},{id:"facebook",name:"Facebook",icon:wU}];function NU({mode:e}){const{signInWithOAuth:t,isSupabaseConfigured:r}=jf(),{toast:n}=mt(),[a,i]=v.useState(null),o=async c=>{if(!r){n({title:"Configuration Error",description:"Social login is not properly configured.",variant:"destructive"});return}i(c);try{const{error:u}=await t(c);u&&n({title:`${c.charAt(0).toUpperCase()+c.slice(1)} login failed`,description:u.message||"Failed to connect with provider",variant:"destructive"})}catch{n({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(null)}},l=e==="signin"?"Sign in":"Sign up";return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Vce.map(c=>{const u=c.icon,d=a===c.id;return s.jsxs(M,{type:"button",variant:"outline",className:"gap-2",disabled:a!==null,onClick:()=>o(c.id),"data-testid":`button-oauth-${c.id}`,children:[d?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(u,{className:"h-4 w-4"}),c.name]},c.id)})}),s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[l," with a social account for instant verification"]})]})}var qce=({as:e="div",...t},r)=>s.jsx(e,{...t,ref:r}),zce=v.forwardRef(qce),Wce="https://challenges.cloudflare.com/turnstile/v0/api.js",z2="cf-turnstile-script",Kce="cf-turnstile",W2="onloadTurnstileCallback",_U=e=>!!document.getElementById(e),Hce=({render:e="explicit",onLoadCallbackName:t=W2,scriptOptions:{nonce:r="",defer:n=!0,async:a=!0,id:i="",appendTo:o,onError:l,crossOrigin:c=""}={}})=>{let u=i||z2;if(_U(u))return;let d=document.createElement("script");d.id=u,d.src=`${Wce}?onload=${t}&render=${e}`,!document.querySelector(`script[src="${d.src}"]`)&&(d.defer=!!n,d.async=!!a,r&&(d.nonce=r),c&&(d.crossOrigin=c),l&&(d.onerror=l,delete window[t]),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(d))},_l={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function Gce(e){if(e!=="invisible"&&e!=="interactionOnly")return e}function Qce(e=z2){let[t,r]=v.useState(!1);return v.useEffect(()=>{let n=()=>{_U(e)&&r(!0)},a=new MutationObserver(n);return a.observe(document,{childList:!0,subtree:!0}),n(),()=>{a.disconnect()}},[e]),t}var Hh="unloaded",SU,Yce=new Promise((e,t)=>{SU={resolve:e,reject:t},Hh==="ready"&&e(void 0)}),Xce=(e=W2)=>(Hh==="unloaded"&&(Hh="loading",window[e]=()=>{SU.resolve(),Hh="ready",delete window[e]}),Yce),K2=v.forwardRef((e,t)=>{let{scriptOptions:r,options:n={},siteKey:a,onWidgetLoad:i,onSuccess:o,onExpire:l,onError:c,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h,onLoadScript:p,id:y,style:m,as:w="div",injectScript:g=!0,rerenderOnCallbackChange:x=!1,...b}=e,j=n.size,_=v.useCallback(()=>typeof j>"u"?{}:n.execution==="execute"?_l.invisible:n.appearance==="interaction-only"?_l.interactionOnly:_l[j],[n.execution,j,n.appearance]),[N,S]=v.useState(_()),C=v.useRef(null),[P,k]=v.useState(!1),E=v.useRef(void 0),T=v.useRef(!1),I=y||Kce,R=v.useRef({onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h});v.useEffect(()=>{x||(R.current={onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h})});let D=(r==null?void 0:r.id)||z2,O=Qce(D),z=(r==null?void 0:r.onLoadCallbackName)||W2,A=n.appearance||"always",$=v.useMemo(()=>({sitekey:a,action:n.action,cData:n.cData,theme:n.theme||"auto",language:n.language||"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:Gce(j),retry:n.retry||"auto","retry-interval":n.retryInterval||8e3,"refresh-expired":n.refreshExpired||"auto","refresh-timeout":n.refreshTimeout||"auto",execution:n.execution||"render",appearance:n.appearance||"always","feedback-enabled":n.feedbackEnabled||!0,callback:X=>{var F,J;T.current=!0,x?o==null||o(X):(J=(F=R.current).onSuccess)==null||J.call(F,X)},"error-callback":x?c:(...X)=>{var F,J;return(J=(F=R.current).onError)==null?void 0:J.call(F,...X)},"expired-callback":x?l:(...X)=>{var F,J;return(J=(F=R.current).onExpire)==null?void 0:J.call(F,...X)},"before-interactive-callback":x?u:(...X)=>{var F,J;return(J=(F=R.current).onBeforeInteractive)==null?void 0:J.call(F,...X)},"after-interactive-callback":x?d:(...X)=>{var F,J;return(J=(F=R.current).onAfterInteractive)==null?void 0:J.call(F,...X)},"unsupported-callback":x?f:(...X)=>{var F,J;return(J=(F=R.current).onUnsupported)==null?void 0:J.call(F,...X)},"timeout-callback":x?h:(...X)=>{var F,J;return(J=(F=R.current).onTimeout)==null?void 0:J.call(F,...X)}}),[n.action,n.appearance,n.cData,n.execution,n.language,n.refreshExpired,n.responseField,n.responseFieldName,n.retry,n.retryInterval,n.tabIndex,n.theme,n.feedbackEnabled,n.refreshTimeout,a,j,x,x?o:null,x?c:null,x?l:null,x?u:null,x?d:null,x?f:null,x?h:null]),Q=v.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return v.useEffect(function(){g&&!P&&Hce({onLoadCallbackName:z,scriptOptions:{...r,id:D}})},[g,P,r,D]),v.useEffect(function(){Hh!=="ready"&&Xce(z).then(()=>k(!0)).catch(console.error)},[]),v.useEffect(function(){if(!C.current||!P)return;let X=!1;return(async()=>{if(X||!C.current)return;let F=window.turnstile.render(C.current,$);E.current=F,E.current&&(i==null||i(E.current))})(),()=>{X=!0,E.current&&(window.turnstile.remove(E.current),T.current=!1)}},[I,P,$]),v.useImperativeHandle(t,()=>{let{turnstile:X}=window;return{getResponse(){if(!(X!=null&&X.getResponse)||!E.current||!Q()){console.warn("Turnstile has not been loaded");return}return X.getResponse(E.current)},async getResponsePromise(F=3e4,J=100){return new Promise((q,ee)=>{let pe,te=async()=>{if(T.current&&window.turnstile&&E.current)try{let be=window.turnstile.getResponse(E.current);return pe&&clearTimeout(pe),be?q(be):ee(new Error("No response received"))}catch(be){return pe&&clearTimeout(pe),console.warn("Failed to get response",be),ee(new Error("Failed to get response"))}pe||(pe=setTimeout(()=>{pe&&clearTimeout(pe),ee(new Error("Timeout"))},F)),await new Promise(be=>setTimeout(be,J)),await te()};te()})},reset(){if(!(X!=null&&X.reset)||!E.current||!Q()){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&S(_l.invisible);try{T.current=!1,X.reset(E.current)}catch(F){console.warn(`Failed to reset Turnstile widget ${E}`,F)}},remove(){if(!(X!=null&&X.remove)||!E.current||!Q()){console.warn("Turnstile has not been loaded");return}S(_l.invisible),T.current=!1,X.remove(E.current),E.current=null},render(){if(!(X!=null&&X.render)||!C.current||!Q()||E.current){console.warn("Turnstile has not been loaded or container not found");return}let F=X.render(C.current,$);return E.current=F,E.current&&(i==null||i(E.current)),n.execution!=="execute"&&S(j?_l[j]:{}),F},execute(){if(n.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!(X!=null&&X.execute)||!C.current||!E.current||!Q()){console.warn("Turnstile has not been loaded or container not found");return}X.execute(C.current,$),S(j?_l[j]:{})},isExpired(){return!(X!=null&&X.isExpired)||!E.current||!Q()?(console.warn("Turnstile has not been loaded"),!1):X.isExpired(E.current)}}},[E,n.execution,j,$,C,Q,P,i]),v.useEffect(()=>{O&&!P&&window.turnstile&&k(!0)},[P,O]),v.useEffect(()=>{S(_())},[n.execution,j,A]),v.useEffect(()=>{!O||typeof p!="function"||p()},[O]),s.jsx(zce,{ref:C,as:w,id:I,style:{...N,...m},...b})});K2.displayName="Turnstile";const Jce=pa({email:vt().email("Please enter a valid email address"),password:vt().min(1,"Password is required")});function Zce(){const[,e]=Ln(),{toast:t}=mt(),{signIn:r,isSupabaseConfigured:n,isLoading:a}=jf(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState(null),p=v.useRef(null);v.useEffect(()=>{fetch("/api/public-config").then(w=>w.json()).then(w=>{w.turnstileSiteKey&&h(w.turnstileSiteKey)}).catch(()=>{})},[]);const y=Ls({resolver:Fs(Jce),defaultValues:{email:"",password:""}}),m=async w=>{var g;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(f&&!u){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}c(!0);try{const{error:x,requiresEmailVerification:b}=await r(w.email,w.password);x?(t(b?{title:"Email Verification Required",description:"Please check your inbox and verify your email address before signing in.",variant:"destructive"}:{title:"Login failed",description:x.message||"Invalid email or password",variant:"destructive"}),(g=p.current)==null||g.reset(),d(null)):(t({title:"Welcome back!",description:"You have successfully logged in."}),e("/"))}catch{t({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{c(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsx(se,{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx(me,{href:"/",children:s.jsxs(M,{variant:"ghost",size:"sm",className:"gap-1","data-testid":"button-back",children:[s.jsx(kn,{className:"w-4 h-4"}),"Back"]})}),s.jsx(me,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})}),s.jsx("div",{className:"w-16"})]}),s.jsx(We,{className:"text-2xl font-bold",children:"Welcome Back"}),s.jsx(Rt,{children:"Sign in to your Quarterdeck account"})]}),s.jsxs(se,{children:[s.jsx(Bs,{...y,children:s.jsxs("form",{onSubmit:y.handleSubmit(m),className:"space-y-4",children:[s.jsx(rt,{control:y.control,name:"email",render:({field:w})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Email"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...w})}),s.jsx(st,{})]})}),s.jsx(rt,{control:y.control,name:"password",render:({field:w})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Password"}),s.jsx(et,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:i?"text":"password",placeholder:"Enter your password","data-testid":"input-password",...w}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(qi,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})}),s.jsx(st,{})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(me,{href:"/forgot-password",className:"text-sm text-muted-foreground hover:underline","data-testid":"link-forgot-password",children:"Forgot password?"})}),f&&s.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:s.jsx(K2,{ref:p,siteKey:f,options:{theme:"dark"},onSuccess:w=>d(w),onError:()=>d(null),onExpire:()=>d(null)})}),s.jsx(M,{type:"submit",className:"w-full",disabled:l,"data-testid":"button-login",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),s.jsx("div",{className:"mt-6",children:s.jsx(NU,{mode:"signin"})}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),s.jsx(me,{href:"/signup",className:"font-medium hover:underline","data-testid":"link-signup",children:"Sign up"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsx(Le,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),s.jsxs(se,{children:[s.jsxs(kf,{variant:"destructive",children:[s.jsx(Cn,{className:"h-4 w-4"}),s.jsx(Cf,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(me,{href:"/",children:s.jsx(M,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}var n0="Checkbox",[eue]=An(n0),[tue,H2]=eue(n0);function rue(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=ms({prop:r,defaultProp:a??!1,onChange:c,caller:n0}),[y,m]=v.useState(null),[w,g]=v.useState(null),x=v.useRef(!1),b=y?!!o||!!y.closest("form"):!0,j={checked:h,disabled:i,setChecked:p,control:y,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Ho(a)?!1:a,isFormControl:b,bubbleInput:w,setBubbleInput:g};return s.jsx(tue,{scope:t,...j,children:nue(f)?f(j):n})}var kU="CheckboxTrigger",CU=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=H2(kU,e),m=ft(a,d),w=v.useRef(c);return v.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const x=()=>f(w.current);return g.addEventListener("reset",x),()=>g.removeEventListener("reset",x)}},[i,f]),s.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Ho(c)?"mixed":c,"aria-required":u,"data-state":TU(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:je(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:je(r,g=>{f(x=>Ho(x)?!0:!x),y&&p&&(h.current=g.isPropagationStopped(),h.current||g.stopPropagation())})})});CU.displayName=kU;var G2=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(rue,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(CU,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(OU,{__scopeCheckbox:r})]})})});G2.displayName=n0;var PU="CheckboxIndicator",EU=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=H2(PU,r);return s.jsx(dn,{present:n||Ho(i.checked)||i.checked===!0,children:s.jsx(Me.span,{"data-state":TU(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});EU.displayName=PU;var AU="CheckboxBubbleInput",OU=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=H2(AU,e),y=ft(r,p),m=V2(i),w=Uk(n);v.useEffect(()=>{const x=h;if(!x)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,N=!a.current;if(m!==i&&_){const S=new Event("click",{bubbles:N});x.indeterminate=Ho(i),_.call(x,Ho(i)?!1:i),x.dispatchEvent(S)}},[h,m,i,a]);const g=v.useRef(Ho(i)?!1:i);return s.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});OU.displayName=AU;function nue(e){return typeof e=="function"}function Ho(e){return e==="indeterminate"}function TU(e){return Ho(e)?"indeterminate":e?"checked":"unchecked"}const IU=v.forwardRef(({className:e,...t},r)=>s.jsx(G2,{ref:r,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(EU,{className:we("flex items-center justify-center text-current"),children:s.jsx(wr,{className:"h-4 w-4"})})}));IU.displayName=G2.displayName;const sue=pa({email:vt().email("Please enter a valid email address"),password:vt().min(8,"Password must be at least 8 characters"),confirmPassword:vt(),firstName:vt().min(1,"First name is required"),lastName:vt().min(1,"Last name is required"),phone:vt().optional(),termsAccepted:C2().refine(e=>e===!0,{message:"You must accept the terms and conditions"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function aue(){const[,e]=Ln(),{toast:t}=mt(),{signUp:r,isSupabaseConfigured:n,isLoading:a}=jf(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(null),[p,y]=v.useState(null),m=v.useRef(null);v.useEffect(()=>{fetch("/api/public-config").then(x=>x.json()).then(x=>{x.turnstileSiteKey&&y(x.turnstileSiteKey)}).catch(()=>{})},[]);const w=Ls({resolver:Fs(sue),defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",termsAccepted:!1}}),g=async x=>{var b;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(p&&!f){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}d(!0);try{const{error:j}=await r(x.email,x.password,{firstName:x.firstName,lastName:x.lastName});j?(t({title:"Signup failed",description:j.message||"Failed to create account",variant:"destructive"}),(b=m.current)==null||b.reset(),h(null)):(t({title:"Account created!",description:"Please check your email to verify your account."}),e("/login"))}catch{t({title:"Signup failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsx(se,{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(me,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Create Account"}),s.jsx(Rt,{children:"Join The Quarterdeck community"})]}),s.jsxs(se,{children:[s.jsx(Bs,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(g),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(rt,{control:w.control,name:"firstName",render:({field:x})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"First Name"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"John","data-testid":"input-first-name",...x})}),s.jsx(st,{})]})}),s.jsx(rt,{control:w.control,name:"lastName",render:({field:x})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Last Name"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"Doe","data-testid":"input-last-name",...x})}),s.jsx(st,{})]})})]}),s.jsx(rt,{control:w.control,name:"email",render:({field:x})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Email"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...x})}),s.jsx(st,{})]})}),s.jsx(rt,{control:w.control,name:"phone",render:({field:x})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Phone (Optional)"}),s.jsx(et,{children:s.jsx(Y,{type:"tel",placeholder:"+92 300 1234567","data-testid":"input-phone",...x})}),s.jsx(st,{})]})}),s.jsx(rt,{control:w.control,name:"password",render:({field:x})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Password"}),s.jsx(et,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...x}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(qi,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})}),s.jsx(st,{})]})}),s.jsx(rt,{control:w.control,name:"confirmPassword",render:({field:x})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Confirm Password"}),s.jsx(et,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...x}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?s.jsx(qi,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})}),s.jsx(st,{})]})}),s.jsx(rt,{control:w.control,name:"termsAccepted",render:({field:x})=>s.jsxs(Ye,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(et,{children:s.jsx(IU,{checked:x.value,onCheckedChange:x.onChange,"data-testid":"checkbox-terms"})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsxs(Ze,{className:"text-sm font-normal",children:["I agree to the"," ",s.jsx(me,{href:"/terms",className:"underline hover:no-underline","data-testid":"link-terms",children:"Terms of Service"})," ","and"," ",s.jsx(me,{href:"/privacy",className:"underline hover:no-underline","data-testid":"link-privacy",children:"Privacy Policy"})]}),s.jsx(st,{})]})]})}),p&&s.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:s.jsx(K2,{ref:m,siteKey:p,options:{theme:"dark"},onSuccess:x=>h(x),onError:()=>h(null),onExpire:()=>h(null)})}),s.jsx(M,{type:"submit",className:"w-full",disabled:u,"data-testid":"button-signup",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})}),s.jsx("div",{className:"mt-6",children:s.jsx(NU,{mode:"signup"})}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),s.jsx(me,{href:"/login",className:"font-medium hover:underline","data-testid":"link-login",children:"Sign in"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsx(Le,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),s.jsxs(se,{children:[s.jsxs(kf,{variant:"destructive",children:[s.jsx(Cn,{className:"h-4 w-4"}),s.jsx(Cf,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(me,{href:"/",children:s.jsx(M,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}const iue=pa({email:vt().email("Please enter a valid email address")});function oue(){const{toast:e}=mt(),{resetPassword:t,isSupabaseConfigured:r}=jf(),[n,a]=v.useState(!1),[i,o]=v.useState(!1),l=Ls({resolver:Fs(iue),defaultValues:{email:""}}),c=async u=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}o(!0);try{const{error:d}=await t(u.email);d?e({title:"Error",description:d.message||"Failed to send reset email",variant:"destructive"}):a(!0)}catch{e({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}};return r?n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(yn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Check Your Email"}),s.jsx(Rt,{children:"If an account exists with that email, we've sent password reset instructions."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"The link will expire in 60 minutes."}),s.jsxs("p",{className:"mt-2",children:["Didn't receive the email? Check your spam folder or"," ",s.jsx("button",{onClick:()=>a(!1),className:"font-medium underline hover:no-underline","data-testid":"button-try-again",children:"try again"})]})]}),s.jsx(me,{href:"/login",children:s.jsxs(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:[s.jsx(kn,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:s.jsx(gf,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Forgot Password?"}),s.jsx(Rt,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsxs(se,{children:[s.jsx(Bs,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[s.jsx(rt,{control:l.control,name:"email",render:({field:u})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Email"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...u})}),s.jsx(st,{})]})}),s.jsx(M,{type:"submit",className:"w-full",disabled:i,"data-testid":"button-send-reset",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(me,{href:"/login",className:"text-sm text-muted-foreground hover:underline inline-flex items-center gap-1","data-testid":"link-back-to-login",children:[s.jsx(kn,{className:"h-3 w-3"}),"Back to Sign In"]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsx(Le,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Service Unavailable"})}),s.jsxs(se,{children:[s.jsxs(kf,{variant:"destructive",children:[s.jsx(Cn,{className:"h-4 w-4"}),s.jsx(Cf,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(me,{href:"/login",children:s.jsx(M,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}const lue=pa({password:vt().min(8,"Password must be at least 8 characters"),confirmPassword:vt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function cue(){Ln();const{toast:e}=mt(),{updatePassword:t,isSupabaseConfigured:r,isAuthenticated:n,isLoading:a}=jf(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(!1),[p,y]=v.useState(!0),m=Ls({resolver:Fs(lue),defaultValues:{password:"",confirmPassword:""}});v.useEffect(()=>{if(!a){const g=setTimeout(()=>{y(!1)},1e3);return()=>clearTimeout(g)}},[a]);const w=async g=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}h(!0);try{const{error:x}=await t(g.password);x?e({title:"Reset failed",description:x.message||"Failed to reset password",variant:"destructive"}):d(!0)}catch{e({title:"Reset failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{h(!1)}};return p||a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsxs(se,{className:"flex flex-col items-center justify-center py-8 gap-3",children:[s.jsx(Te,{className:"h-8 w-8 animate-spin text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying your session..."})]})})}):r?n?u?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(yn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Password Reset!"}),s.jsx(Rt,{children:"Your password has been successfully reset. You can now sign in with your new password."})]}),s.jsx(se,{children:s.jsx(me,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-go-to-login",children:"Sign In"})})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(me,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Reset Password"}),s.jsx(Rt,{children:"Enter your new password below"})]}),s.jsx(se,{children:s.jsx(Bs,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(w),className:"space-y-4",children:[s.jsx(rt,{control:m.control,name:"password",render:({field:g})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"New Password"}),s.jsx(et,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...g}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(qi,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})}),s.jsx(st,{})]})}),s.jsx(rt,{control:m.control,name:"confirmPassword",render:({field:g})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Confirm New Password"}),s.jsx(et,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...g}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?s.jsx(qi,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})}),s.jsx(st,{})]})}),s.jsx(M,{type:"submit",className:"w-full",disabled:f,"data-testid":"button-reset-password",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(Cn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Session Expired"}),s.jsx(Rt,{children:"Your password reset link has expired or is invalid. Please request a new one."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsx(me,{href:"/forgot-password",children:s.jsx(M,{className:"w-full","data-testid":"button-request-new-link",children:"Request New Reset Link"})}),s.jsx(me,{href:"/login",children:s.jsx(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsx(Le,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Service Unavailable"})}),s.jsxs(se,{children:[s.jsxs(kf,{variant:"destructive",children:[s.jsx(Cn,{className:"h-4 w-4"}),s.jsx(Cf,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(me,{href:"/login",children:s.jsx(M,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}function uue(){const[,e]=Ln(),{isAuthenticated:t,isLoading:r}=jf(),[n,a]=v.useState("checking");return v.useEffect(()=>{(async()=>{const o=window.location.hash;o&&o.includes("access_token"),r||(t?(a("verified"),setTimeout(()=>{e("/")},2e3)):a("pending"))})()},[t,r,e]),n==="checking"||r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Te,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),s.jsx(We,{className:"text-2xl font-bold",children:"Verifying Email"}),s.jsx(Rt,{children:"Please wait while we verify your email address..."})]})})}):n==="verified"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(yn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Email Verified!"}),s.jsx(Rt,{children:"Your email has been successfully verified. Redirecting you shortly..."})]}),s.jsx(se,{children:s.jsx(me,{href:"/",children:s.jsx(M,{className:"w-full","data-testid":"button-go-home",children:"Go to Homepage"})})})]})}):n==="error"||!lL()?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(Cn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Verification Failed"}),s.jsx(Rt,{children:"This verification link is invalid or has expired."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsx(me,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})}),s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Need a new verification link? Sign up again or contact support."})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:s.jsx(gf,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Check Your Email"}),s.jsx(Rt,{children:"We've sent a verification link to your email address. Click the link in the email to verify your account."})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"The link will expire in 24 hours."}),s.jsx("p",{className:"mt-2",children:"Didn't receive the email? Check your spam folder."})]}),s.jsx(me,{href:"/login",children:s.jsx(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})})}function due(){const[,e]=Ln(),[t,r]=v.useState("loading"),[n,a]=v.useState("");return v.useEffect(()=>{const o=setTimeout(async()=>{{r("error"),a("Authentication is not configured.");return}},100);return()=>clearTimeout(o)},[e]),t==="loading"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Te,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),s.jsx(We,{className:"text-2xl font-bold",children:"Processing"}),s.jsx(Rt,{children:"Please wait while we complete your request..."})]})})}):t==="success"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ne,{className:"w-full max-w-md",children:s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(yn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Success!"}),s.jsx(Rt,{children:n})]})})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"w-full max-w-md",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(Cn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Something Went Wrong"}),s.jsx(Rt,{children:n})]}),s.jsx(se,{className:"space-y-4",children:s.jsx(me,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})})})]})})}var sT=1,fue=.9,hue=.8,mue=.17,oj=.1,lj=.999,pue=.9999,gue=.99,xue=/[\\\/_+.#"@\[\(\{&]/,vue=/[\\\/_+.#"@\[\(\{&]/g,yue=/[\s-]/,RU=/[\s-]/g;function KN(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?sT:gue;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),u=r.indexOf(c,a),d=0,f,h,p,y;u>=0;)f=KN(e,t,r,n,u+1,i+1,o),f>d&&(u===a?f*=sT:xue.test(e.charAt(u-1))?(f*=hue,p=e.slice(a,u-1).match(vue),p&&a>0&&(f*=Math.pow(lj,p.length))):yue.test(e.charAt(u-1))?(f*=fue,y=e.slice(a,u-1).match(RU),y&&a>0&&(f*=Math.pow(lj,y.length))):(f*=mue,a>0&&(f*=Math.pow(lj,u-a))),e.charAt(u)!==t.charAt(i)&&(f*=pue)),(f<oj&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=KN(e,t,r,n,u+1,i+2,o),h*oj>f&&(f=h*oj)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function aT(e){return e.toLowerCase().replace(RU," ")}function bue(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,KN(e,t,aT(e),aT(t),0,0,{})}var ih='[cmdk-group=""]',cj='[cmdk-group-items=""]',wue='[cmdk-group-heading=""]',MU='[cmdk-item=""]',iT=`${MU}:not([aria-disabled="true"])`,HN="cmdk-item-select",_u="data-value",jue=(e,t,r)=>bue(e,t,r),$U=v.createContext(void 0),eg=()=>v.useContext($U),DU=v.createContext(void 0),Q2=()=>v.useContext(DU),LU=v.createContext(void 0),FU=v.forwardRef((e,t)=>{let r=Su(()=>{var F,J;return{search:"",value:(J=(F=e.value)!=null?F:e.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Su(()=>new Set),a=Su(()=>new Map),i=Su(()=>new Map),o=Su(()=>new Set),l=UU(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:p,loop:y,disablePointerSelection:m=!1,vimBindings:w=!0,...g}=e,x=Gr(),b=Gr(),j=Gr(),_=v.useRef(null),N=Iue();Sc(()=>{if(d!==void 0){let F=d.trim();r.current.value=F,S.emit()}},[d]),Sc(()=>{N(6,I)},[]);let S=v.useMemo(()=>({subscribe:F=>(o.current.add(F),()=>o.current.delete(F)),snapshot:()=>r.current,setState:(F,J,q)=>{var ee,pe,te,be;if(!Object.is(r.current[F],J)){if(r.current[F]=J,F==="search")T(),k(),N(1,E);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ie=document.getElementById(j);ie?ie.focus():(ee=document.getElementById(x))==null||ee.focus()}if(N(7,()=>{var ie;r.current.selectedItemId=(ie=R())==null?void 0:ie.id,S.emit()}),q||N(5,I),((pe=l.current)==null?void 0:pe.value)!==void 0){let ie=J??"";(be=(te=l.current).onValueChange)==null||be.call(te,ie);return}}S.emit()}},emit:()=>{o.current.forEach(F=>F())}}),[]),C=v.useMemo(()=>({value:(F,J,q)=>{var ee;J!==((ee=i.current.get(F))==null?void 0:ee.value)&&(i.current.set(F,{value:J,keywords:q}),r.current.filtered.items.set(F,P(J,q)),N(2,()=>{k(),S.emit()}))},item:(F,J)=>(n.current.add(F),J&&(a.current.has(J)?a.current.get(J).add(F):a.current.set(J,new Set([F]))),N(3,()=>{T(),k(),r.current.value||E(),S.emit()}),()=>{i.current.delete(F),n.current.delete(F),r.current.filtered.items.delete(F);let q=R();N(4,()=>{T(),(q==null?void 0:q.getAttribute("id"))===F&&E(),S.emit()})}),group:F=>(a.current.has(F)||a.current.set(F,new Set),()=>{i.current.delete(F),a.current.delete(F)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:x,inputId:j,labelId:b,listInnerRef:_}),[]);function P(F,J){var q,ee;let pe=(ee=(q=l.current)==null?void 0:q.filter)!=null?ee:jue;return F?pe(F,r.current.search,J):0}function k(){if(!r.current.search||l.current.shouldFilter===!1)return;let F=r.current.filtered.items,J=[];r.current.filtered.groups.forEach(ee=>{let pe=a.current.get(ee),te=0;pe.forEach(be=>{let ie=F.get(be);te=Math.max(ie,te)}),J.push([ee,te])});let q=_.current;D().sort((ee,pe)=>{var te,be;let ie=ee.getAttribute("id"),U=pe.getAttribute("id");return((te=F.get(U))!=null?te:0)-((be=F.get(ie))!=null?be:0)}).forEach(ee=>{let pe=ee.closest(cj);pe?pe.appendChild(ee.parentElement===pe?ee:ee.closest(`${cj} > *`)):q.appendChild(ee.parentElement===q?ee:ee.closest(`${cj} > *`))}),J.sort((ee,pe)=>pe[1]-ee[1]).forEach(ee=>{var pe;let te=(pe=_.current)==null?void 0:pe.querySelector(`${ih}[${_u}="${encodeURIComponent(ee[0])}"]`);te==null||te.parentElement.appendChild(te)})}function E(){let F=D().find(q=>q.getAttribute("aria-disabled")!=="true"),J=F==null?void 0:F.getAttribute(_u);S.setState("value",J||void 0)}function T(){var F,J,q,ee;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let pe=0;for(let te of n.current){let be=(J=(F=i.current.get(te))==null?void 0:F.value)!=null?J:"",ie=(ee=(q=i.current.get(te))==null?void 0:q.keywords)!=null?ee:[],U=P(be,ie);r.current.filtered.items.set(te,U),U>0&&pe++}for(let[te,be]of a.current)for(let ie of be)if(r.current.filtered.items.get(ie)>0){r.current.filtered.groups.add(te);break}r.current.filtered.count=pe}function I(){var F,J,q;let ee=R();ee&&(((F=ee.parentElement)==null?void 0:F.firstChild)===ee&&((q=(J=ee.closest(ih))==null?void 0:J.querySelector(wue))==null||q.scrollIntoView({block:"nearest"})),ee.scrollIntoView({block:"nearest"}))}function R(){var F;return(F=_.current)==null?void 0:F.querySelector(`${MU}[aria-selected="true"]`)}function D(){var F;return Array.from(((F=_.current)==null?void 0:F.querySelectorAll(iT))||[])}function O(F){let J=D()[F];J&&S.setState("value",J.getAttribute(_u))}function z(F){var J;let q=R(),ee=D(),pe=ee.findIndex(be=>be===q),te=ee[pe+F];(J=l.current)!=null&&J.loop&&(te=pe+F<0?ee[ee.length-1]:pe+F===ee.length?ee[0]:ee[pe+F]),te&&S.setState("value",te.getAttribute(_u))}function A(F){let J=R(),q=J==null?void 0:J.closest(ih),ee;for(;q&&!ee;)q=F>0?Oue(q,ih):Tue(q,ih),ee=q==null?void 0:q.querySelector(iT);ee?S.setState("value",ee.getAttribute(_u)):z(F)}let $=()=>O(D().length-1),Q=F=>{F.preventDefault(),F.metaKey?$():F.altKey?A(1):z(1)},X=F=>{F.preventDefault(),F.metaKey?O(0):F.altKey?A(-1):z(-1)};return v.createElement(Me.div,{ref:t,tabIndex:-1,...g,"cmdk-root":"",onKeyDown:F=>{var J;(J=g.onKeyDown)==null||J.call(g,F);let q=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||q))switch(F.key){case"n":case"j":{w&&F.ctrlKey&&Q(F);break}case"ArrowDown":{Q(F);break}case"p":case"k":{w&&F.ctrlKey&&X(F);break}case"ArrowUp":{X(F);break}case"Home":{F.preventDefault(),O(0);break}case"End":{F.preventDefault(),$();break}case"Enter":{F.preventDefault();let ee=R();if(ee){let pe=new Event(HN);ee.dispatchEvent(pe)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:Mue},c),s0(e,F=>v.createElement(DU.Provider,{value:S},v.createElement($U.Provider,{value:C},F))))}),Nue=v.forwardRef((e,t)=>{var r,n;let a=Gr(),i=v.useRef(null),o=v.useContext(LU),l=eg(),c=UU(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Sc(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=BU(a,i,[e.value,e.children,i],e.keywords),f=Q2(),h=il(N=>N.value&&N.value===d.current),p=il(N=>u||l.filter()===!1?!0:N.search?N.filtered.items.get(a)>0:!0);v.useEffect(()=>{let N=i.current;if(!(!N||e.disabled))return N.addEventListener(HN,y),()=>N.removeEventListener(HN,y)},[p,e.onSelect,e.disabled]);function y(){var N,S;m(),(S=(N=c.current).onSelect)==null||S.call(N,d.current)}function m(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:w,value:g,onSelect:x,forceMount:b,keywords:j,..._}=e;return v.createElement(Me.div,{ref:Jn(i,t),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!h,"data-disabled":!!w,"data-selected":!!h,onPointerMove:w||l.getDisablePointerSelection()?void 0:m,onClick:w?void 0:y},e.children)}),_ue=v.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Gr(),l=v.useRef(null),c=v.useRef(null),u=Gr(),d=eg(),f=il(p=>a||d.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Sc(()=>d.group(o),[]),BU(o,l,[e.value,e.heading,c]);let h=v.useMemo(()=>({id:o,forceMount:a}),[a]);return v.createElement(Me.div,{ref:Jn(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),s0(e,p=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},v.createElement(LU.Provider,{value:h},p))))}),Sue=v.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=v.useRef(null),i=il(o=>!o.search);return!r&&!i?null:v.createElement(Me.div,{ref:Jn(a,t),...n,"cmdk-separator":"",role:"separator"})}),kue=v.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=Q2(),o=il(u=>u.search),l=il(u=>u.selectedItemId),c=eg();return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(Me.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Cue=v.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=v.useRef(null),o=v.useRef(null),l=il(u=>u.selectedItemId),c=eg();return v.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),v.createElement(Me.div,{ref:Jn(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},s0(e,u=>v.createElement("div",{ref:Jn(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Pue=v.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return v.createElement(O2,{open:r,onOpenChange:n},v.createElement(T2,{container:o},v.createElement(Gb,{"cmdk-overlay":"",className:a}),v.createElement(Qb,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(FU,{ref:t,...l}))))}),Eue=v.forwardRef((e,t)=>il(r=>r.filtered.count===0)?v.createElement(Me.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Aue=v.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return v.createElement(Me.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},s0(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),gs=Object.assign(FU,{List:Cue,Item:Nue,Input:kue,Group:_ue,Separator:Sue,Dialog:Pue,Empty:Eue,Loading:Aue});function Oue(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Tue(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function UU(e){let t=v.useRef(e);return Sc(()=>{t.current=e}),t}var Sc=typeof window>"u"?v.useEffect:v.useLayoutEffect;function Su(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function il(e){let t=Q2(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function BU(e,t,r,n=[]){let a=v.useRef(),i=eg();return Sc(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(_u,l),a.current=l}),a}var Iue=()=>{let[e,t]=v.useState(),r=Su(()=>new Map);return Sc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function Rue(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function s0({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(Rue(t),{ref:t.ref},r(t.props.children)):r(t)}var Mue={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const VU=v.forwardRef(({className:e,...t},r)=>s.jsx(gs,{ref:r,className:we("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));VU.displayName=gs.displayName;const $ue=({children:e,...t})=>s.jsx(Et,{...t,children:s.jsx(_t,{className:"overflow-hidden p-0 shadow-lg",children:s.jsx(VU,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),qU=v.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Mp,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(gs.Input,{ref:r,className:we("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));qU.displayName=gs.Input.displayName;const zU=v.forwardRef(({className:e,...t},r)=>s.jsx(gs.List,{ref:r,className:we("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));zU.displayName=gs.List.displayName;const WU=v.forwardRef((e,t)=>s.jsx(gs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));WU.displayName=gs.Empty.displayName;const Eh=v.forwardRef(({className:e,...t},r)=>s.jsx(gs.Group,{ref:r,className:we("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Eh.displayName=gs.Group.displayName;const Due=v.forwardRef(({className:e,...t},r)=>s.jsx(gs.Separator,{ref:r,className:we("-mx-1 h-px bg-border",e),...t}));Due.displayName=gs.Separator.displayName;const Ah=v.forwardRef(({className:e,...t},r)=>s.jsx(gs.Item,{ref:r,className:we("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));Ah.displayName=gs.Item.displayName;const Lue=3e4,oT=["mousemove","keydown","click","scroll","touchstart"],Fue=5e3;function Uue(){const[,e]=Ln(),{toast:t}=mt(),[r,n]=v.useState(null),a=v.useRef(Date.now()),i=v.useRef(null),o=v.useRef(!1),l=v.useCallback((d,f)=>{i.current&&clearInterval(i.current),t({variant:"destructive",title:"Session Expired",description:d||"Please log in again to continue."}),setTimeout(()=>{e("/login")},1500)},[t,e]),c=v.useCallback(async()=>{try{const f=await(await ve("POST","/api/admin/heartbeat")).json();f.success&&(n({sessionRemainingMs:f.sessionRemainingMs,inactivityTimeoutMs:f.inactivityTimeoutMs,reauthTimeoutMs:f.reauthTimeoutMs,isActive:!0}),o.current=!1)}catch(d){(d==null?void 0:d.code)==="ADMIN_REAUTH_REQUIRED"||(d==null?void 0:d.code)==="ADMIN_INACTIVITY_TIMEOUT"?l(d.reason||d.message,d.code):((d==null?void 0:d.status)===401||(d==null?void 0:d.status)===403)&&l("Your session has expired. Please log in again.","SESSION_EXPIRED")}},[l]),u=v.useCallback(()=>{const d=Date.now();d-a.current>Fue&&(a.current=d,c())},[c]);return v.useEffect(()=>(c(),i.current=setInterval(c,Lue),oT.forEach(d=>{window.addEventListener(d,u,{passive:!0})}),()=>{i.current&&clearInterval(i.current),oT.forEach(d=>{window.removeEventListener(d,u)})}),[c,u]),v.useEffect(()=>{if(r&&r.sessionRemainingMs<6e4&&!o.current){o.current=!0;const d=Math.ceil(r.sessionRemainingMs/6e4);t({variant:"default",title:"Session Expiring Soon",description:`Your admin session will expire in ${d} minute(s). You will need to log in again.`})}},[r,t]),{sessionState:r,sendHeartbeat:c}}const lT={USER:0,EDITOR:1,ADMIN:2,SUPER_ADMIN:3};function cT(e,t){return lT[e]>=lT[t]}function Bue(e){return[{path:e,label:"Dashboard",icon:mG,minRole:"EDITOR"},{path:`${e}/bookings`,label:"Bookings",icon:Jo,minRole:"EDITOR"},{path:`${e}/members`,label:"Members",icon:yr,minRole:"EDITOR"},{path:`${e}/membership-applications`,label:"Membership Applications",icon:iG,minRole:"EDITOR"},{path:`${e}/certifications`,label:"Certifications",icon:si,minRole:"EDITOR"},{path:`${e}/user-management`,label:"User Roles",icon:kd,minRole:"SUPER_ADMIN"},{path:`${e}/branding`,label:"Branding & Nav",icon:SG,minRole:"ADMIN"},{path:`${e}/homepage`,label:"Site Content",icon:Ak,minRole:"ADMIN"},{path:`${e}/coming-soon`,label:"Coming Soon",icon:Qt,minRole:"ADMIN"},{path:`${e}/venues`,label:"Venues & Locations",icon:ps,minRole:"ADMIN"},{path:`${e}/facilities`,label:"Facilities",icon:un,minRole:"ADMIN"},{path:`${e}/comparison-features`,label:"Comparison Features",icon:H5,minRole:"ADMIN"},{path:`${e}/member-benefits`,label:"Member Benefits",icon:db,minRole:"ADMIN"},{path:`${e}/blogs`,label:"Blog / News",icon:lG,minRole:"ADMIN"},{path:`${e}/testimonials`,label:"Testimonials",icon:xG,minRole:"ADMIN"},{path:`${e}/roadmap`,label:"Construction Status",icon:W5,minRole:"ADMIN"},{path:`${e}/events`,label:"Events & Academies",icon:mr,minRole:"ADMIN"},{path:`${e}/pricing`,label:"Pricing Tiers",icon:eN,minRole:"ADMIN"},{path:`${e}/announcements`,label:"Announcements",icon:pc,minRole:"ADMIN"},{path:`${e}/careers`,label:"Careers",icon:vm,minRole:"ADMIN"},{path:`${e}/rules`,label:"Rules & Safety",icon:hs,minRole:"ADMIN"},{path:`${e}/faq`,label:"FAQ",icon:Ts,minRole:"ADMIN"},{path:`${e}/policies`,label:"Privacy & Terms",icon:kd,minRole:"ADMIN"},{path:`${e}/gallery`,label:"Gallery",icon:ra,minRole:"ADMIN"},{path:`${e}/site-images`,label:"Site Images",icon:ra,minRole:"ADMIN"},{path:`${e}/hero-sections`,label:"Hero Sections",icon:ra,minRole:"ADMIN"},{path:`${e}/ctas`,label:"CTAs",icon:wG,minRole:"ADMIN"},{path:`${e}/site-settings`,label:"Site Settings",icon:wm,minRole:"ADMIN"}]}function nt({children:e,title:t}){var j,_;const[r,n]=Ln(),[a,i]=v.useState(!1),[o,l]=v.useState(!1),{adminPath:c}=Up();Uue();const u=`/${c}`,d=v.useMemo(()=>Bue(u),[u]),{data:f,isLoading:h}=de({queryKey:["/api/auth/user"]}),{data:p}=de({queryKey:["/api/admin/users"]}),{data:y}=de({queryKey:["/api/admin/bookings"]}),{data:m}=de({queryKey:["/api/admin/facilities"]});v.useEffect(()=>{const N=S=>{S.key==="k"&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),l(C=>!C))};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[]);const w=v.useCallback(N=>{l(!1),n(N)},[n]);if(h)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const g=f==null?void 0:f.role,x=g&&cT(g,"EDITOR");if(!f||!x)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"You need staff privileges to access this page."}),s.jsx(me,{href:"/",children:s.jsxs(M,{children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," Return to Home"]})})]})});const b=d.filter(N=>cT(g,N.minRole));return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(M,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 lg:hidden",onClick:()=>i(!a),"data-testid":"button-mobile-menu",children:a?s.jsx(zi,{className:"h-5 w-5"}):s.jsx(G5,{className:"h-5 w-5"})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),s.jsx("aside",{className:`
        fixed top-0 left-0 z-40 h-screen w-64 bg-card border-r transition-transform duration-300
        lg:translate-x-0
        ${a?"translate-x-0":"-translate-x-full"}
      `,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs(me,{href:"/",className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-[#2a4060] flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"Q"})}),s.jsx("span",{className:"font-semibold",children:"Quarterdeck Admin"})]})}),s.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:b.map(N=>{const S=N.icon,C=r===N.path||N.path!=="/admin"&&r.startsWith(N.path);return s.jsx(me,{href:N.path,children:s.jsxs("div",{className:`
                      flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer
                      ${C?"bg-[#2a4060] text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                    `,onClick:()=>i(!1),"data-testid":`nav-${N.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(S,{className:"w-4 h-4"}),N.label]})},N.path)})}),s.jsx("div",{className:"p-4 border-t",children:s.jsx(me,{href:"/",children:s.jsxs(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-site",children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," Back to Site"]})})})]})}),s.jsxs("main",{className:"lg:ml-64",children:[s.jsx("header",{className:"sticky top-0 z-30 bg-background border-b px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold ml-12 lg:ml-0","data-testid":"text-admin-title",children:t}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(M,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:w-64 lg:w-80",onClick:()=>l(!0),"data-testid":"button-global-search",children:[s.jsx(Mp,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Search bookings, users, facilities..."}),s.jsx("span",{className:"inline sm:hidden",children:"Search..."}),s.jsxs("kbd",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[s.jsx("span",{className:"text-xs",children:"Ctrl"}),"K"]})]}),s.jsxs("span",{className:"text-sm text-muted-foreground hidden md:block",children:[f.firstName," ",f.lastName]}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:f.profileImageUrl?s.jsx("img",{src:f.profileImageUrl,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):s.jsxs("span",{className:"text-xs font-medium",children:[(j=f.firstName)==null?void 0:j[0],(_=f.lastName)==null?void 0:_[0]]})})]})]})}),s.jsxs($ue,{open:o,onOpenChange:l,children:[s.jsx(qU,{placeholder:"Search bookings, users, facilities...","data-testid":"input-global-search"}),s.jsxs(zU,{children:[s.jsx(WU,{children:"No results found."}),s.jsx(Eh,{heading:"Navigation",children:b.map(N=>s.jsxs(Ah,{value:N.label,onSelect:()=>w(N.path),"data-testid":`search-nav-${N.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(N.icon,{className:"mr-2 h-4 w-4"}),N.label]},N.path))}),m&&m.length>0&&s.jsx(Eh,{heading:"Facilities",children:m.slice(0,5).map(N=>s.jsxs(Ah,{value:`facility ${N.name} ${N.slug}`,onSelect:()=>w("/admin/facilities"),"data-testid":`search-facility-${N.id}`,children:[s.jsx(un,{className:"mr-2 h-4 w-4"}),N.name]},N.id))}),p&&p.length>0&&s.jsx(Eh,{heading:"Users",children:p.slice(0,5).map(N=>s.jsxs(Ah,{value:`user ${N.firstName} ${N.lastName} ${N.email}`,onSelect:()=>w("/admin/bookings"),"data-testid":`search-user-${N.id}`,children:[s.jsx(yr,{className:"mr-2 h-4 w-4"}),N.firstName," ",N.lastName," - ",N.email]},N.id))}),y&&y.length>0&&s.jsx(Eh,{heading:"Recent Bookings",children:y.slice(0,5).map(N=>{const S=m==null?void 0:m.find(C=>C.id===N.facilityId);return s.jsxs(Ah,{value:`booking ${N.id} ${S==null?void 0:S.name} ${N.date}`,onSelect:()=>w("/admin/bookings"),"data-testid":`search-booking-${N.id}`,children:[s.jsx(mr,{className:"mr-2 h-4 w-4"}),S==null?void 0:S.name," - ",N.date," at ",N.startTime]},N.id)})})]})]}),s.jsx("div",{className:"p-6",children:e})]})]})}const Mr=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:we("w-full caption-bottom text-sm",e),...t})}));Mr.displayName="Table";const $r=v.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:we("[&_tr]:border-b",e),...t}));$r.displayName="TableHeader";const Dr=v.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:we("[&_tr:last-child]:border-0",e),...t}));Dr.displayName="TableBody";const Vue=v.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Vue.displayName="TableFooter";const tt=v.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));tt.displayName="TableRow";const ue=v.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ue.displayName="TableHead";const oe=v.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));oe.displayName="TableCell";const que=v.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:we("mt-4 text-sm text-muted-foreground",e),...t}));que.displayName="TableCaption";var zue=Array.isArray,xs=zue,Wue=typeof pg=="object"&&pg&&pg.Object===Object&&pg,KU=Wue,Kue=KU,Hue=typeof self=="object"&&self&&self.Object===Object&&self,Gue=Kue||Hue||Function("return this")(),mi=Gue,Que=mi,Yue=Que.Symbol,tg=Yue,uT=tg,HU=Object.prototype,Xue=HU.hasOwnProperty,Jue=HU.toString,oh=uT?uT.toStringTag:void 0;function Zue(e){var t=Xue.call(e,oh),r=e[oh];try{e[oh]=void 0;var n=!0}catch{}var a=Jue.call(e);return n&&(t?e[oh]=r:delete e[oh]),a}var ede=Zue,tde=Object.prototype,rde=tde.toString;function nde(e){return rde.call(e)}var sde=nde,dT=tg,ade=ede,ide=sde,ode="[object Null]",lde="[object Undefined]",fT=dT?dT.toStringTag:void 0;function cde(e){return e==null?e===void 0?lde:ode:fT&&fT in Object(e)?ade(e):ide(e)}var ro=cde;function ude(e){return e!=null&&typeof e=="object"}var no=ude,dde=ro,fde=no,hde="[object Symbol]";function mde(e){return typeof e=="symbol"||fde(e)&&dde(e)==hde}var Ef=mde,pde=xs,gde=Ef,xde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vde=/^\w*$/;function yde(e,t){if(pde(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||gde(e)?!0:vde.test(e)||!xde.test(e)||t!=null&&e in Object(t)}var Y2=yde;function bde(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ml=bde;const Af=Yt(ml);var wde=ro,jde=ml,Nde="[object AsyncFunction]",_de="[object Function]",Sde="[object GeneratorFunction]",kde="[object Proxy]";function Cde(e){if(!jde(e))return!1;var t=wde(e);return t==_de||t==Sde||t==Nde||t==kde}var X2=Cde;const ht=Yt(X2);var Pde=mi,Ede=Pde["__core-js_shared__"],Ade=Ede,uj=Ade,hT=function(){var e=/[^.]+$/.exec(uj&&uj.keys&&uj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ode(e){return!!hT&&hT in e}var Tde=Ode,Ide=Function.prototype,Rde=Ide.toString;function Mde(e){if(e!=null){try{return Rde.call(e)}catch{}try{return e+""}catch{}}return""}var GU=Mde,$de=X2,Dde=Tde,Lde=ml,Fde=GU,Ude=/[\\^$.*+?()[\]{}|]/g,Bde=/^\[object .+?Constructor\]$/,Vde=Function.prototype,qde=Object.prototype,zde=Vde.toString,Wde=qde.hasOwnProperty,Kde=RegExp("^"+zde.call(Wde).replace(Ude,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hde(e){if(!Lde(e)||Dde(e))return!1;var t=$de(e)?Kde:Bde;return t.test(Fde(e))}var Gde=Hde;function Qde(e,t){return e==null?void 0:e[t]}var Yde=Qde,Xde=Gde,Jde=Yde;function Zde(e,t){var r=Jde(e,t);return Xde(r)?r:void 0}var Fc=Zde,efe=Fc,tfe=efe(Object,"create"),a0=tfe,mT=a0;function rfe(){this.__data__=mT?mT(null):{},this.size=0}var nfe=rfe;function sfe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var afe=sfe,ife=a0,ofe="__lodash_hash_undefined__",lfe=Object.prototype,cfe=lfe.hasOwnProperty;function ufe(e){var t=this.__data__;if(ife){var r=t[e];return r===ofe?void 0:r}return cfe.call(t,e)?t[e]:void 0}var dfe=ufe,ffe=a0,hfe=Object.prototype,mfe=hfe.hasOwnProperty;function pfe(e){var t=this.__data__;return ffe?t[e]!==void 0:mfe.call(t,e)}var gfe=pfe,xfe=a0,vfe="__lodash_hash_undefined__";function yfe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=xfe&&t===void 0?vfe:t,this}var bfe=yfe,wfe=nfe,jfe=afe,Nfe=dfe,_fe=gfe,Sfe=bfe;function Of(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Of.prototype.clear=wfe;Of.prototype.delete=jfe;Of.prototype.get=Nfe;Of.prototype.has=_fe;Of.prototype.set=Sfe;var kfe=Of;function Cfe(){this.__data__=[],this.size=0}var Pfe=Cfe;function Efe(e,t){return e===t||e!==e&&t!==t}var J2=Efe,Afe=J2;function Ofe(e,t){for(var r=e.length;r--;)if(Afe(e[r][0],t))return r;return-1}var i0=Ofe,Tfe=i0,Ife=Array.prototype,Rfe=Ife.splice;function Mfe(e){var t=this.__data__,r=Tfe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Rfe.call(t,r,1),--this.size,!0}var $fe=Mfe,Dfe=i0;function Lfe(e){var t=this.__data__,r=Dfe(t,e);return r<0?void 0:t[r][1]}var Ffe=Lfe,Ufe=i0;function Bfe(e){return Ufe(this.__data__,e)>-1}var Vfe=Bfe,qfe=i0;function zfe(e,t){var r=this.__data__,n=qfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Wfe=zfe,Kfe=Pfe,Hfe=$fe,Gfe=Ffe,Qfe=Vfe,Yfe=Wfe;function Tf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Tf.prototype.clear=Kfe;Tf.prototype.delete=Hfe;Tf.prototype.get=Gfe;Tf.prototype.has=Qfe;Tf.prototype.set=Yfe;var o0=Tf,Xfe=Fc,Jfe=mi,Zfe=Xfe(Jfe,"Map"),Z2=Zfe,pT=kfe,ehe=o0,the=Z2;function rhe(){this.size=0,this.__data__={hash:new pT,map:new(the||ehe),string:new pT}}var nhe=rhe;function she(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ahe=she,ihe=ahe;function ohe(e,t){var r=e.__data__;return ihe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var l0=ohe,lhe=l0;function che(e){var t=lhe(this,e).delete(e);return this.size-=t?1:0,t}var uhe=che,dhe=l0;function fhe(e){return dhe(this,e).get(e)}var hhe=fhe,mhe=l0;function phe(e){return mhe(this,e).has(e)}var ghe=phe,xhe=l0;function vhe(e,t){var r=xhe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var yhe=vhe,bhe=nhe,whe=uhe,jhe=hhe,Nhe=ghe,_he=yhe;function If(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}If.prototype.clear=bhe;If.prototype.delete=whe;If.prototype.get=jhe;If.prototype.has=Nhe;If.prototype.set=_he;var eC=If,QU=eC,She="Expected a function";function tC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(She);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(tC.Cache||QU),r}tC.Cache=QU;var YU=tC;const khe=Yt(YU);var Che=YU,Phe=500;function Ehe(e){var t=Che(e,function(n){return r.size===Phe&&r.clear(),n}),r=t.cache;return t}var Ahe=Ehe,Ohe=Ahe,The=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ihe=/\\(\\)?/g,Rhe=Ohe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(The,function(r,n,a,i){t.push(a?i.replace(Ihe,"$1"):n||r)}),t}),Mhe=Rhe;function $he(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var rC=$he,gT=tg,Dhe=rC,Lhe=xs,Fhe=Ef,xT=gT?gT.prototype:void 0,vT=xT?xT.toString:void 0;function XU(e){if(typeof e=="string")return e;if(Lhe(e))return Dhe(e,XU)+"";if(Fhe(e))return vT?vT.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Uhe=XU,Bhe=Uhe;function Vhe(e){return e==null?"":Bhe(e)}var JU=Vhe,qhe=xs,zhe=Y2,Whe=Mhe,Khe=JU;function Hhe(e,t){return qhe(e)?e:zhe(e,t)?[e]:Whe(Khe(e))}var ZU=Hhe,Ghe=Ef;function Qhe(e){if(typeof e=="string"||Ghe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var c0=Qhe,Yhe=ZU,Xhe=c0;function Jhe(e,t){t=Yhe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Xhe(t[r++])];return r&&r==n?e:void 0}var nC=Jhe,Zhe=nC;function eme(e,t,r){var n=e==null?void 0:Zhe(e,t);return n===void 0?r:n}var eB=eme;const Ms=Yt(eB);function tme(e){return e==null}var rme=tme;const Pt=Yt(rme);var nme=ro,sme=xs,ame=no,ime="[object String]";function ome(e){return typeof e=="string"||!sme(e)&&ame(e)&&nme(e)==ime}var lme=ome;const kc=Yt(lme);var tB={exports:{}},sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=Symbol.for("react.element"),aC=Symbol.for("react.portal"),u0=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),f0=Symbol.for("react.profiler"),h0=Symbol.for("react.provider"),m0=Symbol.for("react.context"),cme=Symbol.for("react.server_context"),p0=Symbol.for("react.forward_ref"),g0=Symbol.for("react.suspense"),x0=Symbol.for("react.suspense_list"),v0=Symbol.for("react.memo"),y0=Symbol.for("react.lazy"),ume=Symbol.for("react.offscreen"),rB;rB=Symbol.for("react.module.reference");function ga(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sC:switch(e=e.type,e){case u0:case f0:case d0:case g0:case x0:return e;default:switch(e=e&&e.$$typeof,e){case cme:case m0:case p0:case y0:case v0:case h0:return e;default:return t}}case aC:return t}}}sr.ContextConsumer=m0;sr.ContextProvider=h0;sr.Element=sC;sr.ForwardRef=p0;sr.Fragment=u0;sr.Lazy=y0;sr.Memo=v0;sr.Portal=aC;sr.Profiler=f0;sr.StrictMode=d0;sr.Suspense=g0;sr.SuspenseList=x0;sr.isAsyncMode=function(){return!1};sr.isConcurrentMode=function(){return!1};sr.isContextConsumer=function(e){return ga(e)===m0};sr.isContextProvider=function(e){return ga(e)===h0};sr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sC};sr.isForwardRef=function(e){return ga(e)===p0};sr.isFragment=function(e){return ga(e)===u0};sr.isLazy=function(e){return ga(e)===y0};sr.isMemo=function(e){return ga(e)===v0};sr.isPortal=function(e){return ga(e)===aC};sr.isProfiler=function(e){return ga(e)===f0};sr.isStrictMode=function(e){return ga(e)===d0};sr.isSuspense=function(e){return ga(e)===g0};sr.isSuspenseList=function(e){return ga(e)===x0};sr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===u0||e===f0||e===d0||e===g0||e===x0||e===ume||typeof e=="object"&&e!==null&&(e.$$typeof===y0||e.$$typeof===v0||e.$$typeof===h0||e.$$typeof===m0||e.$$typeof===p0||e.$$typeof===rB||e.getModuleId!==void 0)};sr.typeOf=ga;tB.exports=sr;var dme=tB.exports,fme=ro,hme=no,mme="[object Number]";function pme(e){return typeof e=="number"||hme(e)&&fme(e)==mme}var nB=pme;const gme=Yt(nB);var xme=nB;function vme(e){return xme(e)&&e!=+e}var yme=vme;const rg=Yt(yme);var Hn=function(t){return t===0?0:t>0?1:-1},zl=function(t){return kc(t)&&t.indexOf("%")===t.length-1},Pe=function(t){return gme(t)&&!rg(t)},bme=function(t){return Pt(t)},ln=function(t){return Pe(t)||kc(t)},wme=0,ng=function(t){var r=++wme;return"".concat(t||"").concat(r)},Gn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&!kc(t))return n;var i;if(zl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return rg(i)&&(i=n),a&&i>r&&(i=r),i},_o=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},jme=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},yo=function(t,r){return Pe(t)&&Pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function GN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ms(n,t))===r})}var Nme=function(t,r){return Pe(t)&&Pe(r)?t-r:kc(t)&&kc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function rd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function QN(e){"@babel/helpers - typeof";return QN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QN(e)}var _me=["viewBox","children"],Sme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yT=["points","pathLength"],dj={svg:_me,polygon:yT,polyline:yT},iC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!Af(n))return null;var a={};return Object.keys(n).forEach(function(i){iC.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},kme=function(t,r,n){return function(a){return t(r,n,a),null}},Cc=function(t,r,n){if(!Af(t)||QN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];iC.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=kme(o,r,n))}),a},Cme=["children"],Pme=["children"];function bT(e,t){if(e==null)return{};var r=Eme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$i=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},jT=null,fj=null,oC=function e(t){if(t===jT&&Array.isArray(fj))return fj;var r=[];return v.Children.forEach(t,function(n){Pt(n)||(dme.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),fj=r,jT=t,r};function aa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return $i(a)}):n=[$i(t)],oC(e).forEach(function(a){var i=Ms(a,"type.displayName")||Ms(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ns(e,t){var r=aa(e,t);return r&&r[0]}var NT=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Pe(n)||n<=0||!Pe(a)||a<=0)},Ame=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ome=function(t){return t&&t.type&&kc(t.type)&&Ame.indexOf(t.type)>=0},Tme=function(t,r,n,a){var i,o=(i=dj==null?void 0:dj[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ht(t)&&(a&&o.includes(r)||Sme.includes(r))||n&&iC.includes(r)},dt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!Af(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Tme((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},YN=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return _T(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!_T(i,o))return!1}return!0},_T=function(t,r){if(Pt(t)&&Pt(r))return!0;if(!Pt(t)&&!Pt(r)){var n=t.props||{},a=n.children,i=bT(n,Cme),o=r.props||{},l=o.children,c=bT(o,Pme);return a&&l?rd(i,c)&&YN(a,l):!a&&!l?rd(i,c):!1}return!1},ST=function(t,r){var n=[],a={};return oC(t).forEach(function(i,o){if(Ome(i))n.push(i);else if(i){var l=$i(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},Ime=function(t){var r=t&&t.type;return r&&wT[r]?wT[r]:null},Rme=function(t,r){return oC(r).indexOf(t)},Mme=["children","width","height","viewBox","className","style","title","desc"];function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XN.apply(this,arguments)}function $me(e,t){if(e==null)return{};var r=Dme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=$me(e,Mme),d=a||{width:r,height:n,x:0,y:0},f=yt("recharts-surface",i);return L.createElement("svg",XN({},dt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),t)}var Lme=["children","className"];function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZN.apply(this,arguments)}function Fme(e,t){if(e==null)return{};var r=Ume(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ume(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Zt=L.forwardRef(function(e,t){var r=e.children,n=e.className,a=Fme(e,Lme),i=yt("recharts-layer",n);return L.createElement("g",ZN({className:i},dt(a,!0),{ref:t}),r)}),Da=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Bme(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Vme=Bme,qme=Vme;function zme(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:qme(e,t,r)}var Wme=zme,Kme="\\ud800-\\udfff",Hme="\\u0300-\\u036f",Gme="\\ufe20-\\ufe2f",Qme="\\u20d0-\\u20ff",Yme=Hme+Gme+Qme,Xme="\\ufe0e\\ufe0f",Jme="\\u200d",Zme=RegExp("["+Jme+Kme+Yme+Xme+"]");function epe(e){return Zme.test(e)}var sB=epe;function tpe(e){return e.split("")}var rpe=tpe,aB="\\ud800-\\udfff",npe="\\u0300-\\u036f",spe="\\ufe20-\\ufe2f",ape="\\u20d0-\\u20ff",ipe=npe+spe+ape,ope="\\ufe0e\\ufe0f",lpe="["+aB+"]",e_="["+ipe+"]",t_="\\ud83c[\\udffb-\\udfff]",cpe="(?:"+e_+"|"+t_+")",iB="[^"+aB+"]",oB="(?:\\ud83c[\\udde6-\\uddff]){2}",lB="[\\ud800-\\udbff][\\udc00-\\udfff]",upe="\\u200d",cB=cpe+"?",uB="["+ope+"]?",dpe="(?:"+upe+"(?:"+[iB,oB,lB].join("|")+")"+uB+cB+")*",fpe=uB+cB+dpe,hpe="(?:"+[iB+e_+"?",e_,oB,lB,lpe].join("|")+")",mpe=RegExp(t_+"(?="+t_+")|"+hpe+fpe,"g");function ppe(e){return e.match(mpe)||[]}var gpe=ppe,xpe=rpe,vpe=sB,ype=gpe;function bpe(e){return vpe(e)?ype(e):xpe(e)}var wpe=bpe,jpe=Wme,Npe=sB,_pe=wpe,Spe=JU;function kpe(e){return function(t){t=Spe(t);var r=Npe(t)?_pe(t):void 0,n=r?r[0]:t.charAt(0),a=r?jpe(r,1).join(""):t.slice(1);return n[e]()+a}}var Cpe=kpe,Ppe=Cpe,Epe=Ppe("toUpperCase"),Ape=Epe;const b0=Yt(Ape);function ur(e){return function(){return e}}const dB=Math.cos,qv=Math.sin,za=Math.sqrt,zv=Math.PI,w0=2*zv,r_=Math.PI,n_=2*r_,Tl=1e-6,Ope=n_-Tl;function fB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Tpe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fB;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Ipe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fB:Tpe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Tl)if(!(Math.abs(f*c-u*d)>Tl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=a-l,m=c*c+u*u,w=p*p+y*y,g=Math.sqrt(m),x=Math.sqrt(h),b=i*Math.tan((r_-Math.acos((m+h-w)/(2*g*x)))/2),j=b/x,_=b/g;Math.abs(j-1)>Tl&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*y)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Tl||Math.abs(this._y1-d)>Tl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%n_+n_),h>Ope?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Tl&&this._append`A${n},${n},0,${+(h>=r_)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Ipe(t)}function cC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hB(e){this._context=e}hB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function j0(e){return new hB(e)}function mB(e){return e[0]}function pB(e){return e[1]}function gB(e,t){var r=ur(!0),n=null,a=j0,i=null,o=lC(l);e=typeof e=="function"?e:e===void 0?mB:ur(e),t=typeof t=="function"?t:t===void 0?pB:ur(t);function l(c){var u,d=(c=cC(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ur(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ur(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ur(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Zg(e,t,r){var n=null,a=ur(!0),i=null,o=j0,l=null,c=lC(u);e=typeof e=="function"?e:e===void 0?mB:ur(+e),t=typeof t=="function"?t:ur(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?pB:ur(+r);function u(f){var h,p,y,m=(f=cC(f)).length,w,g=!1,x,b=new Array(m),j=new Array(m);for(i==null&&(l=o(x=c())),h=0;h<=m;++h){if(!(h<m&&a(w=f[h],h,f))===g)if(g=!g)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(b[y],j[y]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):b[h],r?+r(w,h,f):j[h]))}if(x)return l=null,x+""||null}function d(){return gB().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ur(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ur(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ur(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ur(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ur(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ur(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ur(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class xB{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Rpe(e){return new xB(e,!0)}function Mpe(e){return new xB(e,!1)}const uC={draw(e,t){const r=za(t/zv);e.moveTo(r,0),e.arc(0,0,r,0,w0)}},$pe={draw(e,t){const r=za(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},vB=za(1/3),Dpe=vB*2,Lpe={draw(e,t){const r=za(t/Dpe),n=r*vB;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Fpe={draw(e,t){const r=za(t),n=-r/2;e.rect(n,n,r,r)}},Upe=.8908130915292852,yB=qv(zv/10)/qv(7*zv/10),Bpe=qv(w0/10)*yB,Vpe=-dB(w0/10)*yB,qpe={draw(e,t){const r=za(t*Upe),n=Bpe*r,a=Vpe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=w0*i/5,l=dB(o),c=qv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},hj=za(3),zpe={draw(e,t){const r=-za(t/(hj*3));e.moveTo(0,r*2),e.lineTo(-hj*r,-r),e.lineTo(hj*r,-r),e.closePath()}},Ws=-.5,Ks=za(3)/2,s_=1/za(12),Wpe=(s_/2+1)*3,Kpe={draw(e,t){const r=za(t/Wpe),n=r/2,a=r*s_,i=n,o=r*s_+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ws*n-Ks*a,Ks*n+Ws*a),e.lineTo(Ws*i-Ks*o,Ks*i+Ws*o),e.lineTo(Ws*l-Ks*c,Ks*l+Ws*c),e.lineTo(Ws*n+Ks*a,Ws*a-Ks*n),e.lineTo(Ws*i+Ks*o,Ws*o-Ks*i),e.lineTo(Ws*l+Ks*c,Ws*c-Ks*l),e.closePath()}};function Hpe(e,t){let r=null,n=lC(a);e=typeof e=="function"?e:ur(e||uC),t=typeof t=="function"?t:ur(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:ur(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:ur(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Wv(){}function Kv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function bB(e){this._context=e}bB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Gpe(e){return new bB(e)}function wB(e){this._context=e}wB.prototype={areaStart:Wv,areaEnd:Wv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qpe(e){return new wB(e)}function jB(e){this._context=e}jB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ype(e){return new jB(e)}function NB(e){this._context=e}NB.prototype={areaStart:Wv,areaEnd:Wv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Xpe(e){return new NB(e)}function kT(e){return e<0?-1:1}function CT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(kT(i)+kT(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function PT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function mj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Hv(e){this._context=e}Hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mj(this,this._t0,PT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mj(this,PT(this,r=CT(this,e,t)),r);break;default:mj(this,this._t0,r=CT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _B(e){this._context=new SB(e)}(_B.prototype=Object.create(Hv.prototype)).point=function(e,t){Hv.prototype.point.call(this,t,e)};function SB(e){this._context=e}SB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Jpe(e){return new Hv(e)}function Zpe(e){return new _B(e)}function kB(e){this._context=e}kB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ET(e),a=ET(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ET(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function ege(e){return new kB(e)}function N0(e,t){this._context=e,this._t=t}N0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function tge(e){return new N0(e,.5)}function rge(e){return new N0(e,0)}function nge(e){return new N0(e,1)}function Fd(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function a_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function sge(e,t){return e[t]}function age(e){const t=[];return t.key=e,t}function ige(){var e=ur([]),t=a_,r=Fd,n=sge;function a(i){var o=Array.from(e.apply(this,arguments),age),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=cC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ur(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:ur(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?a_:typeof i=="function"?i:ur(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Fd,a):r},a}function oge(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Fd(e,t)}}function lge(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Fd(e,t)}}function cge(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var m=e[t[y]],w=m[n][1]||0,g=m[n-1][1]||0;p+=w-g}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Fd(e,t)}}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}var uge=["type","size","sizeType"];function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(this,arguments)}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){dge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dge(e,t,r){return t=fge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fge(e){var t=hge(e,"string");return Um(t)=="symbol"?t:t+""}function hge(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mge(e,t){if(e==null)return{};var r=pge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var CB={symbolCircle:uC,symbolCross:$pe,symbolDiamond:Lpe,symbolSquare:Fpe,symbolStar:qpe,symbolTriangle:zpe,symbolWye:Kpe},gge=Math.PI/180,xge=function(t){var r="symbol".concat(b0(t));return CB[r]||uC},vge=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*gge;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yge=function(t,r){CB["symbol".concat(b0(t))]=r},dC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=mge(t,uge),u=OT(OT({},c),{},{type:n,size:i,sizeType:l}),d=function(){var w=xge(n),g=Hpe().type(w).size(vge(i,l,n));return g()},f=u.className,h=u.cx,p=u.cy,y=dt(u,!0);return h===+h&&p===+p&&i===+i?L.createElement("path",i_({},y,{className:yt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};dC.registerSymbol=yge;function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(this,arguments)}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){Bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EB(n.key),n)}}function Nge(e,t,r){return t&&jge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ge(e,t,r){return t=Gv(t),Sge(e,PB()?Reflect.construct(t,r||[],Gv(e).constructor):t.apply(e,r))}function Sge(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kge(e)}function kge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PB=function(){return!!e})()}function Gv(e){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gv(e)}function Cge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l_(e,t)}function l_(e,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l_(e,t)}function Bm(e,t,r){return t=EB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EB(e){var t=Pge(e,"string");return Ud(t)=="symbol"?t:t+""}function Pge(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hs=32,fC=function(e){function t(){return wge(this,t),_ge(this,t,arguments)}return Cge(t,e),Nge(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Hs/2,o=Hs/6,l=Hs/3,c=n.inactive?a:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Hs,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Hs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Hs/8,"h").concat(Hs,"v").concat(Hs*3/4,"h").concat(-Hs,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=bge({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(dC,{fill:c,cx:i,cy:i,size:Hs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Hs,height:Hs},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var m=p.formatter||c,w=yt(Bm(Bm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=ht(p.value)?null:p.value;Da(!ht(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return L.createElement("li",o_({className:w,style:f,key:"legend-item-".concat(y)},Cc(n.props,p,y)),L.createElement(JN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(g,p,y):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Bm(fC,"displayName","Legend");Bm(fC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ege=o0;function Age(){this.__data__=new Ege,this.size=0}var Oge=Age;function Tge(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Ige=Tge;function Rge(e){return this.__data__.get(e)}var Mge=Rge;function $ge(e){return this.__data__.has(e)}var Dge=$ge,Lge=o0,Fge=Z2,Uge=eC,Bge=200;function Vge(e,t){var r=this.__data__;if(r instanceof Lge){var n=r.__data__;if(!Fge||n.length<Bge-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Uge(n)}return r.set(e,t),this.size=r.size,this}var qge=Vge,zge=o0,Wge=Oge,Kge=Ige,Hge=Mge,Gge=Dge,Qge=qge;function Rf(e){var t=this.__data__=new zge(e);this.size=t.size}Rf.prototype.clear=Wge;Rf.prototype.delete=Kge;Rf.prototype.get=Hge;Rf.prototype.has=Gge;Rf.prototype.set=Qge;var AB=Rf,Yge="__lodash_hash_undefined__";function Xge(e){return this.__data__.set(e,Yge),this}var Jge=Xge;function Zge(e){return this.__data__.has(e)}var exe=Zge,txe=eC,rxe=Jge,nxe=exe;function Qv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new txe;++t<r;)this.add(e[t])}Qv.prototype.add=Qv.prototype.push=rxe;Qv.prototype.has=nxe;var OB=Qv;function sxe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var TB=sxe;function axe(e,t){return e.has(t)}var IB=axe,ixe=OB,oxe=TB,lxe=IB,cxe=1,uxe=2;function dxe(e,t,r,n,a,i){var o=r&cxe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&uxe?new ixe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var y=e[f],m=t[f];if(n)var w=o?n(m,y,f,t,e,i):n(y,m,f,e,t,i);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!oxe(t,function(g,x){if(!lxe(p,x)&&(y===g||a(y,g,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(y===m||a(y,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var RB=dxe,fxe=mi,hxe=fxe.Uint8Array,mxe=hxe;function pxe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var gxe=pxe;function xxe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var hC=xxe,IT=tg,RT=mxe,vxe=J2,yxe=RB,bxe=gxe,wxe=hC,jxe=1,Nxe=2,_xe="[object Boolean]",Sxe="[object Date]",kxe="[object Error]",Cxe="[object Map]",Pxe="[object Number]",Exe="[object RegExp]",Axe="[object Set]",Oxe="[object String]",Txe="[object Symbol]",Ixe="[object ArrayBuffer]",Rxe="[object DataView]",MT=IT?IT.prototype:void 0,pj=MT?MT.valueOf:void 0;function Mxe(e,t,r,n,a,i,o){switch(r){case Rxe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ixe:return!(e.byteLength!=t.byteLength||!i(new RT(e),new RT(t)));case _xe:case Sxe:case Pxe:return vxe(+e,+t);case kxe:return e.name==t.name&&e.message==t.message;case Exe:case Oxe:return e==t+"";case Cxe:var l=bxe;case Axe:var c=n&jxe;if(l||(l=wxe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Nxe,o.set(e,t);var d=yxe(l(e),l(t),n,a,i,o);return o.delete(e),d;case Txe:if(pj)return pj.call(e)==pj.call(t)}return!1}var $xe=Mxe;function Dxe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var MB=Dxe,Lxe=MB,Fxe=xs;function Uxe(e,t,r){var n=t(e);return Fxe(e)?n:Lxe(n,r(e))}var Bxe=Uxe;function Vxe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var qxe=Vxe;function zxe(){return[]}var Wxe=zxe,Kxe=qxe,Hxe=Wxe,Gxe=Object.prototype,Qxe=Gxe.propertyIsEnumerable,$T=Object.getOwnPropertySymbols,Yxe=$T?function(e){return e==null?[]:(e=Object(e),Kxe($T(e),function(t){return Qxe.call(e,t)}))}:Hxe,Xxe=Yxe;function Jxe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Zxe=Jxe,eve=ro,tve=no,rve="[object Arguments]";function nve(e){return tve(e)&&eve(e)==rve}var sve=nve,DT=sve,ave=no,$B=Object.prototype,ive=$B.hasOwnProperty,ove=$B.propertyIsEnumerable,lve=DT(function(){return arguments}())?DT:function(e){return ave(e)&&ive.call(e,"callee")&&!ove.call(e,"callee")},mC=lve,Yv={exports:{}};function cve(){return!1}var uve=cve;Yv.exports;(function(e,t){var r=mi,n=uve,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Yv,Yv.exports);var DB=Yv.exports,dve=9007199254740991,fve=/^(?:0|[1-9]\d*)$/;function hve(e,t){var r=typeof e;return t=t??dve,!!t&&(r=="number"||r!="symbol"&&fve.test(e))&&e>-1&&e%1==0&&e<t}var pC=hve,mve=9007199254740991;function pve(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mve}var gC=pve,gve=ro,xve=gC,vve=no,yve="[object Arguments]",bve="[object Array]",wve="[object Boolean]",jve="[object Date]",Nve="[object Error]",_ve="[object Function]",Sve="[object Map]",kve="[object Number]",Cve="[object Object]",Pve="[object RegExp]",Eve="[object Set]",Ave="[object String]",Ove="[object WeakMap]",Tve="[object ArrayBuffer]",Ive="[object DataView]",Rve="[object Float32Array]",Mve="[object Float64Array]",$ve="[object Int8Array]",Dve="[object Int16Array]",Lve="[object Int32Array]",Fve="[object Uint8Array]",Uve="[object Uint8ClampedArray]",Bve="[object Uint16Array]",Vve="[object Uint32Array]",gr={};gr[Rve]=gr[Mve]=gr[$ve]=gr[Dve]=gr[Lve]=gr[Fve]=gr[Uve]=gr[Bve]=gr[Vve]=!0;gr[yve]=gr[bve]=gr[Tve]=gr[wve]=gr[Ive]=gr[jve]=gr[Nve]=gr[_ve]=gr[Sve]=gr[kve]=gr[Cve]=gr[Pve]=gr[Eve]=gr[Ave]=gr[Ove]=!1;function qve(e){return vve(e)&&xve(e.length)&&!!gr[gve(e)]}var zve=qve;function Wve(e){return function(t){return e(t)}}var LB=Wve,Xv={exports:{}};Xv.exports;(function(e,t){var r=KU,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Xv,Xv.exports);var Kve=Xv.exports,Hve=zve,Gve=LB,LT=Kve,FT=LT&&LT.isTypedArray,Qve=FT?Gve(FT):Hve,FB=Qve,Yve=Zxe,Xve=mC,Jve=xs,Zve=DB,eye=pC,tye=FB,rye=Object.prototype,nye=rye.hasOwnProperty;function sye(e,t){var r=Jve(e),n=!r&&Xve(e),a=!r&&!n&&Zve(e),i=!r&&!n&&!a&&tye(e),o=r||n||a||i,l=o?Yve(e.length,String):[],c=l.length;for(var u in e)(t||nye.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||eye(u,c)))&&l.push(u);return l}var aye=sye,iye=Object.prototype;function oye(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||iye;return e===r}var lye=oye;function cye(e,t){return function(r){return e(t(r))}}var UB=cye,uye=UB,dye=uye(Object.keys,Object),fye=dye,hye=lye,mye=fye,pye=Object.prototype,gye=pye.hasOwnProperty;function xye(e){if(!hye(e))return mye(e);var t=[];for(var r in Object(e))gye.call(e,r)&&r!="constructor"&&t.push(r);return t}var vye=xye,yye=X2,bye=gC;function wye(e){return e!=null&&bye(e.length)&&!yye(e)}var sg=wye,jye=aye,Nye=vye,_ye=sg;function Sye(e){return _ye(e)?jye(e):Nye(e)}var _0=Sye,kye=Bxe,Cye=Xxe,Pye=_0;function Eye(e){return kye(e,Pye,Cye)}var Aye=Eye,UT=Aye,Oye=1,Tye=Object.prototype,Iye=Tye.hasOwnProperty;function Rye(e,t,r,n,a,i){var o=r&Oye,l=UT(e),c=l.length,u=UT(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Iye.call(t,h)))return!1}var p=i.get(e),y=i.get(t);if(p&&y)return p==t&&y==e;var m=!0;i.set(e,t),i.set(t,e);for(var w=o;++f<c;){h=l[f];var g=e[h],x=t[h];if(n)var b=o?n(x,g,h,t,e,i):n(g,x,h,e,t,i);if(!(b===void 0?g===x||a(g,x,r,n,i):b)){m=!1;break}w||(w=h=="constructor")}if(m&&!w){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return i.delete(e),i.delete(t),m}var Mye=Rye,$ye=Fc,Dye=mi,Lye=$ye(Dye,"DataView"),Fye=Lye,Uye=Fc,Bye=mi,Vye=Uye(Bye,"Promise"),qye=Vye,zye=Fc,Wye=mi,Kye=zye(Wye,"Set"),BB=Kye,Hye=Fc,Gye=mi,Qye=Hye(Gye,"WeakMap"),Yye=Qye,c_=Fye,u_=Z2,d_=qye,f_=BB,h_=Yye,VB=ro,Mf=GU,BT="[object Map]",Xye="[object Object]",VT="[object Promise]",qT="[object Set]",zT="[object WeakMap]",WT="[object DataView]",Jye=Mf(c_),Zye=Mf(u_),ebe=Mf(d_),tbe=Mf(f_),rbe=Mf(h_),Il=VB;(c_&&Il(new c_(new ArrayBuffer(1)))!=WT||u_&&Il(new u_)!=BT||d_&&Il(d_.resolve())!=VT||f_&&Il(new f_)!=qT||h_&&Il(new h_)!=zT)&&(Il=function(e){var t=VB(e),r=t==Xye?e.constructor:void 0,n=r?Mf(r):"";if(n)switch(n){case Jye:return WT;case Zye:return BT;case ebe:return VT;case tbe:return qT;case rbe:return zT}return t});var nbe=Il,gj=AB,sbe=RB,abe=$xe,ibe=Mye,KT=nbe,HT=xs,GT=DB,obe=FB,lbe=1,QT="[object Arguments]",YT="[object Array]",ex="[object Object]",cbe=Object.prototype,XT=cbe.hasOwnProperty;function ube(e,t,r,n,a,i){var o=HT(e),l=HT(t),c=o?YT:KT(e),u=l?YT:KT(t);c=c==QT?ex:c,u=u==QT?ex:u;var d=c==ex,f=u==ex,h=c==u;if(h&&GT(e)){if(!GT(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new gj),o||obe(e)?sbe(e,t,r,n,a,i):abe(e,t,c,r,n,a,i);if(!(r&lbe)){var p=d&&XT.call(e,"__wrapped__"),y=f&&XT.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,w=y?t.value():t;return i||(i=new gj),a(m,w,r,n,i)}}return h?(i||(i=new gj),ibe(e,t,r,n,a,i)):!1}var dbe=ube,fbe=dbe,JT=no;function qB(e,t,r,n,a){return e===t?!0:e==null||t==null||!JT(e)&&!JT(t)?e!==e&&t!==t:fbe(e,t,r,n,qB,a)}var xC=qB,hbe=AB,mbe=xC,pbe=1,gbe=2;function xbe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new hbe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?mbe(d,u,pbe|gbe,n,f):h))return!1}}return!0}var vbe=xbe,ybe=ml;function bbe(e){return e===e&&!ybe(e)}var zB=bbe,wbe=zB,jbe=_0;function Nbe(e){for(var t=jbe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,wbe(a)]}return t}var _be=Nbe;function Sbe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var WB=Sbe,kbe=vbe,Cbe=_be,Pbe=WB;function Ebe(e){var t=Cbe(e);return t.length==1&&t[0][2]?Pbe(t[0][0],t[0][1]):function(r){return r===e||kbe(r,e,t)}}var Abe=Ebe;function Obe(e,t){return e!=null&&t in Object(e)}var Tbe=Obe,Ibe=ZU,Rbe=mC,Mbe=xs,$be=pC,Dbe=gC,Lbe=c0;function Fbe(e,t,r){t=Ibe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Lbe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Dbe(a)&&$be(o,a)&&(Mbe(e)||Rbe(e)))}var Ube=Fbe,Bbe=Tbe,Vbe=Ube;function qbe(e,t){return e!=null&&Vbe(e,t,Bbe)}var zbe=qbe,Wbe=xC,Kbe=eB,Hbe=zbe,Gbe=Y2,Qbe=zB,Ybe=WB,Xbe=c0,Jbe=1,Zbe=2;function e0e(e,t){return Gbe(e)&&Qbe(t)?Ybe(Xbe(e),t):function(r){var n=Kbe(r,e);return n===void 0&&n===t?Hbe(r,e):Wbe(t,n,Jbe|Zbe)}}var t0e=e0e;function r0e(e){return e}var $f=r0e;function n0e(e){return function(t){return t==null?void 0:t[e]}}var s0e=n0e,a0e=nC;function i0e(e){return function(t){return a0e(t,e)}}var o0e=i0e,l0e=s0e,c0e=o0e,u0e=Y2,d0e=c0;function f0e(e){return u0e(e)?l0e(d0e(e)):c0e(e)}var h0e=f0e,m0e=Abe,p0e=t0e,g0e=$f,x0e=xs,v0e=h0e;function y0e(e){return typeof e=="function"?e:e==null?g0e:typeof e=="object"?x0e(e)?p0e(e[0],e[1]):m0e(e):v0e(e)}var pi=y0e;function b0e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var KB=b0e;function w0e(e){return e!==e}var j0e=w0e;function N0e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var _0e=N0e,S0e=KB,k0e=j0e,C0e=_0e;function P0e(e,t,r){return t===t?C0e(e,t,r):S0e(e,k0e,r)}var E0e=P0e,A0e=E0e;function O0e(e,t){var r=e==null?0:e.length;return!!r&&A0e(e,t,0)>-1}var T0e=O0e;function I0e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var R0e=I0e;function M0e(){}var $0e=M0e,xj=BB,D0e=$0e,L0e=hC,F0e=1/0,U0e=xj&&1/L0e(new xj([,-0]))[1]==F0e?function(e){return new xj(e)}:D0e,B0e=U0e,V0e=OB,q0e=T0e,z0e=R0e,W0e=IB,K0e=B0e,H0e=hC,G0e=200;function Q0e(e,t,r){var n=-1,a=q0e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=z0e;else if(i>=G0e){var u=t?null:K0e(e);if(u)return H0e(u);o=!1,a=W0e,c=new V0e}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Y0e=Q0e,X0e=pi,J0e=Y0e;function Z0e(e,t){return e&&e.length?J0e(e,X0e(t)):[]}var ewe=Z0e;const ZT=Yt(ewe);function HB(e,t,r){return t===!0?ZT(e,r):ht(t)?ZT(e,t):e}function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}var twe=["ref"];function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){S0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QB(n.key),n)}}function nwe(e,t,r){return t&&t4(e.prototype,t),r&&t4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function swe(e,t,r){return t=Jv(t),awe(e,GB()?Reflect.construct(t,r||[],Jv(e).constructor):t.apply(e,r))}function awe(e,t){if(t&&(Bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iwe(e)}function iwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GB=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(e)}function owe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m_(e,t)}function S0(e,t,r){return t=QB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=lwe(e,"string");return Bd(t)=="symbol"?t:t+""}function lwe(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cwe(e,t){if(e==null)return{};var r=uwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dwe(e){return e.value}function fwe(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var r=cwe(t,twe);return L.createElement(fC,r)}var r4=1,ac=function(e){function t(){var r;rwe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=swe(this,t,[].concat(a)),S0(r,"lastBoundingBox",{width:-1,height:-1}),r}return owe(t,e),nwe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>r4||Math.abs(a.height-this.lastBoundingBox.height)>r4)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return yi(yi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=yi(yi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},fwe(i,yi(yi({},this.props),{},{payload:HB(d,u,dwe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=yi(yi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);S0(ac,"displayName","Legend");S0(ac,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var n4=tg,hwe=mC,mwe=xs,s4=n4?n4.isConcatSpreadable:void 0;function pwe(e){return mwe(e)||hwe(e)||!!(s4&&e&&e[s4])}var gwe=pwe,xwe=MB,vwe=gwe;function YB(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=vwe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?YB(l,t-1,r,n,a):xwe(a,l):n||(a[a.length]=l)}return a}var XB=YB;function ywe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var bwe=ywe,wwe=bwe,jwe=wwe(),Nwe=jwe,_we=Nwe,Swe=_0;function kwe(e,t){return e&&_we(e,t,Swe)}var JB=kwe,Cwe=sg;function Pwe(e,t){return function(r,n){if(r==null)return r;if(!Cwe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Ewe=Pwe,Awe=JB,Owe=Ewe,Twe=Owe(Awe),vC=Twe,Iwe=vC,Rwe=sg;function Mwe(e,t){var r=-1,n=Rwe(e)?Array(e.length):[];return Iwe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var ZB=Mwe;function $we(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Dwe=$we,a4=Ef;function Lwe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=a4(e),o=t!==void 0,l=t===null,c=t===t,u=a4(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Fwe=Lwe,Uwe=Fwe;function Bwe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Uwe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Vwe=Bwe,vj=rC,qwe=nC,zwe=pi,Wwe=ZB,Kwe=Dwe,Hwe=LB,Gwe=Vwe,Qwe=$f,Ywe=xs;function Xwe(e,t,r){t.length?t=vj(t,function(i){return Ywe(i)?function(o){return qwe(o,i.length===1?i[0]:i)}:i}):t=[Qwe];var n=-1;t=vj(t,Hwe(zwe));var a=Wwe(e,function(i,o,l){var c=vj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Kwe(a,function(i,o){return Gwe(i,o,r)})}var Jwe=Xwe;function Zwe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var eje=Zwe,tje=eje,i4=Math.max;function rje(e,t,r){return t=i4(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=i4(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),tje(e,this,l)}}var nje=rje;function sje(e){return function(){return e}}var aje=sje,ije=Fc,oje=function(){try{var e=ije(Object,"defineProperty");return e({},"",{}),e}catch{}}(),eV=oje,lje=aje,o4=eV,cje=$f,uje=o4?function(e,t){return o4(e,"toString",{configurable:!0,enumerable:!1,value:lje(t),writable:!0})}:cje,dje=uje,fje=800,hje=16,mje=Date.now;function pje(e){var t=0,r=0;return function(){var n=mje(),a=hje-(n-r);if(r=n,a>0){if(++t>=fje)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var gje=pje,xje=dje,vje=gje,yje=vje(xje),bje=yje,wje=$f,jje=nje,Nje=bje;function _je(e,t){return Nje(jje(e,t,wje),e+"")}var Sje=_je,kje=J2,Cje=sg,Pje=pC,Eje=ml;function Aje(e,t,r){if(!Eje(r))return!1;var n=typeof t;return(n=="number"?Cje(r)&&Pje(t,r.length):n=="string"&&t in r)?kje(r[t],e):!1}var k0=Aje,Oje=XB,Tje=Jwe,Ije=Sje,l4=k0,Rje=Ije(function(e,t){if(e==null)return[];var r=t.length;return r>1&&l4(e,t[0],t[1])?t=[]:r>2&&l4(t[0],t[1],t[2])&&(t=[t[0]]),Tje(e,Oje(t,1),[])}),Mje=Rje;const yC=Yt(Mje);function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p_.apply(this,arguments)}function $je(e,t){return Uje(e)||Fje(e,t)||Lje(e,t)||Dje()}function Dje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lje(e,t){if(e){if(typeof e=="string")return c4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c4(e,t)}}function c4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Uje(e){if(Array.isArray(e))return e}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){Bje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bje(e,t,r){return t=Vje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vje(e){var t=qje(e,"string");return Vm(t)=="symbol"?t:t+""}function qje(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zje(e){return Array.isArray(e)&&ln(e[0])&&ln(e[1])?e.join(" ~ "):e}var Wje=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,w=t.labelFormatter,g=t.accessibilityLayer,x=g===void 0?!1:g,b=function(){if(d&&d.length){var T={padding:0,margin:0},I=(h?yC(d,h):d).map(function(R,D){if(R.type==="none")return null;var O=yj({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),z=R.formatter||f||zje,A=R.value,$=R.name,Q=A,X=$;if(z&&Q!=null&&X!=null){var F=z(A,$,R,D,d);if(Array.isArray(F)){var J=$je(F,2);Q=J[0],X=J[1]}else Q=F}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:O},ln(X)?L.createElement("span",{className:"recharts-tooltip-item-name"},X):null,ln(X)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},Q),L.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:T},I)}return null},j=yj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=yj({margin:0},u),N=!Pt(m),S=N?m:"",C=yt("recharts-default-tooltip",p),P=yt("recharts-tooltip-label",y);N&&w&&d!==void 0&&d!==null&&(S=w(m,d));var k=x?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",p_({className:C,style:j},k),L.createElement("p",{className:P,style:_},L.isValidElement(S)?S:"".concat(S)),b())};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function tx(e,t,r){return t=Kje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kje(e){var t=Hje(e,"string");return qm(t)=="symbol"?t:t+""}function Hje(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lh="recharts-tooltip-wrapper",Gje={visibility:"hidden"};function Qje(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return yt(lh,tx(tx(tx(tx({},"".concat(lh,"-right"),Pe(r)&&t&&Pe(t.x)&&r>=t.x),"".concat(lh,"-left"),Pe(r)&&t&&Pe(t.x)&&r<t.x),"".concat(lh,"-bottom"),Pe(n)&&t&&Pe(t.y)&&n>=t.y),"".concat(lh,"-top"),Pe(n)&&t&&Pe(t.y)&&n<t.y))}function d4(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Pe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,m=c[n]+u;return y>m?Math.max(d,c[n]):Math.max(f,c[n])}function Yje(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Xje(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=d4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=d4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Yje({translateX:d,translateY:f,useTranslate3d:l})):u=Gje,{cssProperties:u,cssClasses:Qje({translateX:d,translateY:f,coordinate:r})}}function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function f4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(r),!0).forEach(function(n){x_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rV(n.key),n)}}function e1e(e,t,r){return t&&Zje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t1e(e,t,r){return t=Zv(t),r1e(e,tV()?Reflect.construct(t,r||[],Zv(e).constructor):t.apply(e,r))}function r1e(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n1e(e)}function n1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(e)}function s1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g_(e,t)}function g_(e,t){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g_(e,t)}function x_(e,t,r){return t=rV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=a1e(e,"string");return Vd(t)=="symbol"?t:t+""}function a1e(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var m4=1,i1e=function(e){function t(){var r;Jje(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=t1e(this,t,[].concat(a)),x_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),x_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return s1e(t,e),e1e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>m4||Math.abs(n.height-this.state.lastBoundingBox.height)>m4)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,m=a.reverseDirection,w=a.useTranslate3d,g=a.viewBox,x=a.wrapperStyle,b=Xje({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:g}),j=b.cssClasses,_=b.cssProperties,N=h4(h4({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return L.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(C){n.wrapperNode=C}},u)}}])}(v.PureComponent),o1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Df={isSsr:o1e()};function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function p4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(r),!0).forEach(function(n){bC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sV(n.key),n)}}function u1e(e,t,r){return t&&c1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d1e(e,t,r){return t=ey(t),f1e(e,nV()?Reflect.construct(t,r||[],ey(e).constructor):t.apply(e,r))}function f1e(e,t){if(t&&(qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1e(e)}function h1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(e)}function m1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v_(e,t)}function v_(e,t){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},v_(e,t)}function bC(e,t,r){return t=sV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sV(e){var t=p1e(e,"string");return qd(t)=="symbol"?t:t+""}function p1e(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function g1e(e){return e.dataKey}function x1e(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(Wje,t)}var Pa=function(e){function t(){return l1e(this,t),d1e(this,t,arguments)}return m1e(t,e),u1e(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,m=a.payloadUniqBy,w=a.position,g=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,j=a.wrapperStyle,_=y??[];f&&_.length&&(_=HB(y.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,g1e));var N=_.length>0;return L.createElement(i1e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:w,reverseDirection:g,useTranslate3d:x,viewBox:b,wrapperStyle:j},x1e(u,g4(g4({},this.props),{},{payload:_})))}}])}(v.PureComponent);bC(Pa,"displayName","Tooltip");bC(Pa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Df.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var v1e=mi,y1e=function(){return v1e.Date.now()},b1e=y1e,w1e=/\s/;function j1e(e){for(var t=e.length;t--&&w1e.test(e.charAt(t)););return t}var N1e=j1e,_1e=N1e,S1e=/^\s+/;function k1e(e){return e&&e.slice(0,_1e(e)+1).replace(S1e,"")}var C1e=k1e,P1e=C1e,x4=ml,E1e=Ef,v4=NaN,A1e=/^[-+]0x[0-9a-f]+$/i,O1e=/^0b[01]+$/i,T1e=/^0o[0-7]+$/i,I1e=parseInt;function R1e(e){if(typeof e=="number")return e;if(E1e(e))return v4;if(x4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=x4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=P1e(e);var r=O1e.test(e);return r||T1e.test(e)?I1e(e.slice(2),r?2:8):A1e.test(e)?v4:+e}var aV=R1e,M1e=ml,bj=b1e,y4=aV,$1e="Expected a function",D1e=Math.max,L1e=Math.min;function F1e(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError($1e);t=y4(t)||0,M1e(r)&&(d=!!r.leading,f="maxWait"in r,i=f?D1e(y4(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var S=n,C=a;return n=a=void 0,u=N,o=e.apply(C,S),o}function y(N){return u=N,l=setTimeout(g,t),d?p(N):o}function m(N){var S=N-c,C=N-u,P=t-S;return f?L1e(P,i-C):P}function w(N){var S=N-c,C=N-u;return c===void 0||S>=t||S<0||f&&C>=i}function g(){var N=bj();if(w(N))return x(N);l=setTimeout(g,m(N))}function x(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:x(bj())}function _(){var N=bj(),S=w(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(g,t),p(c)}return l===void 0&&(l=setTimeout(g,t)),o}return _.cancel=b,_.flush=j,_}var U1e=F1e,B1e=U1e,V1e=ml,q1e="Expected a function";function z1e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(q1e);return V1e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),B1e(e,t,{leading:n,maxWait:t,trailing:a})}var W1e=z1e;const iV=Yt(W1e);function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){K1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K1e(e,t,r){return t=H1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H1e(e){var t=G1e(e,"string");return zm(t)=="symbol"?t:t+""}function G1e(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q1e(e,t){return Z1e(e)||J1e(e,t)||X1e(e,t)||Y1e()}function Y1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X1e(e,t){if(e){if(typeof e=="string")return w4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w4(e,t)}}function w4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Z1e(e){if(Array.isArray(e))return e}var j4=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,w=e.id,g=e.className,x=e.onResize,b=e.style,j=b===void 0?{}:b,_=v.useRef(null),N=v.useRef();N.current=x,v.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var S=v.useState({containerWidth:a.width,containerHeight:a.height}),C=Q1e(S,2),P=C[0],k=C[1],E=v.useCallback(function(I,R){k(function(D){var O=Math.round(I),z=Math.round(R);return D.containerWidth===O&&D.containerHeight===z?D:{containerWidth:O,containerHeight:z}})},[]);v.useEffect(function(){var I=function($){var Q,X=$[0].contentRect,F=X.width,J=X.height;E(F,J),(Q=N.current)===null||Q===void 0||Q.call(N,F,J)};m>0&&(I=iV(I,m,{trailing:!0,leading:!1}));var R=new ResizeObserver(I),D=_.current.getBoundingClientRect(),O=D.width,z=D.height;return E(O,z),R.observe(_.current),function(){R.disconnect()}},[E,m]);var T=v.useMemo(function(){var I=P.containerWidth,R=P.containerHeight;if(I<0||R<0)return null;Da(zl(o)||zl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Da(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=zl(o)?I:o,O=zl(c)?R:c;r&&r>0&&(D?O=D/r:O&&(D=O*r),h&&O>h&&(O=h)),Da(D>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,O,o,c,d,f,r);var z=!Array.isArray(p)&&$i(p.type).endsWith("Chart");return L.Children.map(p,function(A){return L.isValidElement(A)?v.cloneElement(A,rx({width:D,height:O},z?{style:rx({height:"100%",width:"100%",maxHeight:O,maxWidth:D},A.props.style)}:{})):A})},[r,p,c,h,f,d,P,o]);return L.createElement("div",{id:w?"".concat(w):void 0,className:yt("recharts-responsive-container",g),style:rx(rx({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},T)}),C0=function(t){return null};C0.displayName="Cell";function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function N4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N4(Object(r),!0).forEach(function(n){eNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eNe(e,t,r){return t=tNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tNe(e){var t=rNe(e,"string");return Wm(t)=="symbol"?t:t+""}function rNe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pu={widthCache:{},cacheCount:0},nNe=2e3,sNe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_4="recharts_measurement_span";function aNe(e){var t=y_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Gh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Df.isSsr)return{width:0,height:0};var n=aNe(r),a=JSON.stringify({text:t,copyStyle:n});if(pu.widthCache[a])return pu.widthCache[a];try{var i=document.getElementById(_4);i||(i=document.createElement("span"),i.setAttribute("id",_4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=y_(y_({},sNe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return pu.widthCache[a]=c,++pu.cacheCount>nNe&&(pu.cacheCount=0,pu.widthCache={}),c}catch{return{width:0,height:0}}},iNe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function ty(e,t){return uNe(e)||cNe(e,t)||lNe(e,t)||oNe()}function oNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lNe(e,t){if(e){if(typeof e=="string")return S4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S4(e,t)}}function S4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function uNe(e){if(Array.isArray(e))return e}function dNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hNe(n.key),n)}}function fNe(e,t,r){return t&&k4(e.prototype,t),r&&k4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hNe(e){var t=mNe(e,"string");return Km(t)=="symbol"?t:t+""}function mNe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var C4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,P4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xNe=Object.keys(oV),Vu="NaN";function vNe(e,t){return e*oV[t]}var nx=function(){function e(t,r){dNe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!pNe.test(r)&&(this.num=NaN,this.unit=""),xNe.includes(r)&&(this.num=vNe(t,r),this.unit="px")}return fNe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=gNe.exec(r))!==null&&n!==void 0?n:[],i=ty(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function lV(e){if(e.includes(Vu))return Vu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=C4.exec(t))!==null&&r!==void 0?r:[],a=ty(n,4),i=a[1],o=a[2],l=a[3],c=nx.parse(i??""),u=nx.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Vu;t=t.replace(C4,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=P4.exec(t))!==null&&f!==void 0?f:[],p=ty(h,4),y=p[1],m=p[2],w=p[3],g=nx.parse(y??""),x=nx.parse(w??""),b=m==="+"?g.add(x):g.subtract(x);if(b.isNaN())return Vu;t=t.replace(P4,b.toString())}return t}var E4=/\(([^()]*)\)/;function yNe(e){for(var t=e;t.includes("(");){var r=E4.exec(t),n=ty(r,2),a=n[1];t=t.replace(E4,lV(a))}return t}function bNe(e){var t=e.replace(/\s+/g,"");return t=yNe(t),t=lV(t),t}function wNe(e){try{return bNe(e)}catch{return Vu}}function wj(e){var t=wNe(e.slice(5,-1));return t===Vu?"":t}var jNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],NNe=["dx","dy","angle","className","breakAll"];function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b_.apply(this,arguments)}function A4(e,t){if(e==null)return{};var r=_Ne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Ne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O4(e,t){return PNe(e)||CNe(e,t)||kNe(e,t)||SNe()}function SNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kNe(e,t){if(e){if(typeof e=="string")return T4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T4(e,t)}}function T4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function PNe(e){if(Array.isArray(e))return e}var cV=/[ \f\n\r\t\v\u2028\u2029]+/,uV=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Pt(r)||(n?i=r.toString().split(""):i=r.toString().split(cV));var o=i.map(function(c){return{word:c,width:Gh(c,a).width}}),l=n?0:Gh("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},ENe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Pe(o),f=l,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(O,z){var A=z.word,$=z.width,Q=O[O.length-1];if(Q&&(a==null||i||Q.width+$+n<Number(a)))Q.words.push(A),Q.width+=$+n;else{var X={words:[A],width:$};O.push(X)}return O},[])},p=h(r),y=function(D){return D.reduce(function(O,z){return O.width>z.width?O:z})};if(!d)return p;for(var m="",w=function(D){var O=f.slice(0,D),z=uV({breakAll:u,style:c,children:O+m}).wordsWithComputedWidth,A=h(z),$=A.length>o||y(A).width>Number(a);return[$,A]},g=0,x=f.length-1,b=0,j;g<=x&&b<=f.length-1;){var _=Math.floor((g+x)/2),N=_-1,S=w(N),C=O4(S,2),P=C[0],k=C[1],E=w(_),T=O4(E,1),I=T[0];if(!P&&!I&&(g=_+1),P&&I&&(x=_-1),!P&&I){j=k;break}b++}return j||p},I4=function(t){var r=Pt(t)?[]:t.toString().split(cV);return[{words:r}]},ANe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Df.isSsr){var c,u,d=uV({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return I4(a);return ENe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return I4(a)},R4="#808080",Pc=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,w=t.fill,g=w===void 0?R4:w,x=A4(t,jNe),b=v.useMemo(function(){return ANe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),j=x.dx,_=x.dy,N=x.angle,S=x.className,C=x.breakAll,P=A4(x,NNe);if(!ln(n)||!ln(i))return null;var k=n+(Pe(j)?j:0),E=i+(Pe(_)?_:0),T;switch(m){case"start":T=wj("calc(".concat(u,")"));break;case"middle":T=wj("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=wj("calc(".concat(b.length-1," * -").concat(l,")"));break}var I=[];if(f){var R=b[0].width,D=x.width;I.push("scale(".concat((Pe(D)?D/R:1)/R,")"))}return N&&I.push("rotate(".concat(N,", ").concat(k,", ").concat(E,")")),I.length&&(P.transform=I.join(" ")),L.createElement("text",b_({},dt(P,!0),{x:k,y:E,className:yt("recharts-text",S),textAnchor:p,fill:g.includes("url")?R4:g}),b.map(function(O,z){var A=O.words.join(C?"":" ");return L.createElement("tspan",{x:k,dy:z===0?T:l,key:"".concat(A,"-").concat(z)},A)}))};function Go(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ONe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wC(e){let t,r,n;e.length!==2?(t=Go,r=(l,c)=>Go(e(l),c),n=(l,c)=>e(l)-c):(t=e===Go||e===ONe?e:TNe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function TNe(){return 0}function dV(e){return e===null?NaN:+e}function*INe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const RNe=wC(Go),ag=RNe.right;wC(dV).center;class M4 extends Map{constructor(t,r=DNe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get($4(this,t))}has(t){return super.has($4(this,t))}set(t,r){return super.set(MNe(this,t),r)}delete(t){return super.delete($Ne(this,t))}}function $4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function MNe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function $Ne({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function DNe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function LNe(e=Go){if(e===Go)return fV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const FNe=Math.sqrt(50),UNe=Math.sqrt(10),BNe=Math.sqrt(2);function ry(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=FNe?10:i>=UNe?5:i>=BNe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ry(e,t,r*2):[l,c,u]}function w_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?ry(t,e,r):ry(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function j_(e,t,r){return t=+t,e=+e,r=+r,ry(e,t,r)[2]}function N_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?j_(t,e,r):j_(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function D4(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function L4(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hV(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?fV:LNe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));hV(e,t,p,y,a)}const i=e[t];let o=r,l=n;for(ch(e,r,t),a(e[n],i)>0&&ch(e,r,n);o<l;){for(ch(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?ch(e,r,l):(++l,ch(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function ch(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function VNe(e,t,r){if(e=Float64Array.from(INe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return L4(e);if(t>=1)return D4(e);var n,a=(n-1)*t,i=Math.floor(a),o=D4(hV(e,i).subarray(0,i+1)),l=L4(e.subarray(i+1));return o+(l-o)*(a-i)}}function qNe(e,t,r=dV){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function zNe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function so(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const __=Symbol("implicit");function jC(){var e=new M4,t=[],r=[],n=__;function a(i){let o=e.get(i);if(o===void 0){if(n!==__)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new M4;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return jC(t,r).unknown(n)},xa.apply(a,arguments),a}function Hm(){var e=jC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,y=p?a:n,m=p?n:a;i=(m-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(m-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var w=zNe(h).map(function(g){return y+i*g});return r(p?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Hm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},xa.apply(f(),arguments)}function mV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mV(t())},e}function Qh(){return mV(Hm.apply(null,arguments).paddingInner(1))}function NC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function pV(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ig(){}var Gm=.7,ny=1/Gm,nd="\\s*([+-]?\\d+)\\s*",Qm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WNe=/^#([0-9a-f]{3,8})$/,KNe=new RegExp(`^rgb\\(${nd},${nd},${nd}\\)$`),HNe=new RegExp(`^rgb\\(${oi},${oi},${oi}\\)$`),GNe=new RegExp(`^rgba\\(${nd},${nd},${nd},${Qm}\\)$`),QNe=new RegExp(`^rgba\\(${oi},${oi},${oi},${Qm}\\)$`),YNe=new RegExp(`^hsl\\(${Qm},${oi},${oi}\\)$`),XNe=new RegExp(`^hsla\\(${Qm},${oi},${oi},${Qm}\\)$`),F4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NC(ig,Ym,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:U4,formatHex:U4,formatHex8:JNe,formatHsl:ZNe,formatRgb:B4,toString:B4});function U4(){return this.rgb().formatHex()}function JNe(){return this.rgb().formatHex8()}function ZNe(){return gV(this).formatHsl()}function B4(){return this.rgb().formatRgb()}function Ym(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=WNe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?V4(t):r===3?new cs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=KNe.exec(e))?new cs(t[1],t[2],t[3],1):(t=HNe.exec(e))?new cs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=GNe.exec(e))?sx(t[1],t[2],t[3],t[4]):(t=QNe.exec(e))?sx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YNe.exec(e))?W4(t[1],t[2]/100,t[3]/100,1):(t=XNe.exec(e))?W4(t[1],t[2]/100,t[3]/100,t[4]):F4.hasOwnProperty(e)?V4(F4[e]):e==="transparent"?new cs(NaN,NaN,NaN,0):null}function V4(e){return new cs(e>>16&255,e>>8&255,e&255,1)}function sx(e,t,r,n){return n<=0&&(e=t=r=NaN),new cs(e,t,r,n)}function e_e(e){return e instanceof ig||(e=Ym(e)),e?(e=e.rgb(),new cs(e.r,e.g,e.b,e.opacity)):new cs}function S_(e,t,r,n){return arguments.length===1?e_e(e):new cs(e,t,r,n??1)}function cs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}NC(cs,S_,pV(ig,{brighter(e){return e=e==null?ny:Math.pow(ny,e),new cs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gm:Math.pow(Gm,e),new cs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cs(ic(this.r),ic(this.g),ic(this.b),sy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q4,formatHex:q4,formatHex8:t_e,formatRgb:z4,toString:z4}));function q4(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}`}function t_e(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}${Wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function z4(){const e=sy(this.opacity);return`${e===1?"rgb(":"rgba("}${ic(this.r)}, ${ic(this.g)}, ${ic(this.b)}${e===1?")":`, ${e})`}`}function sy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ic(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wl(e){return e=ic(e),(e<16?"0":"")+e.toString(16)}function W4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ia(e,t,r,n)}function gV(e){if(e instanceof Ia)return new Ia(e.h,e.s,e.l,e.opacity);if(e instanceof ig||(e=Ym(e)),!e)return new Ia;if(e instanceof Ia)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ia(o,l,c,e.opacity)}function r_e(e,t,r,n){return arguments.length===1?gV(e):new Ia(e,t,r,n??1)}function Ia(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}NC(Ia,r_e,pV(ig,{brighter(e){return e=e==null?ny:Math.pow(ny,e),new Ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gm:Math.pow(Gm,e),new Ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new cs(jj(e>=240?e-240:e+120,a,n),jj(e,a,n),jj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ia(K4(this.h),ax(this.s),ax(this.l),sy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sy(this.opacity);return`${e===1?"hsl(":"hsla("}${K4(this.h)}, ${ax(this.s)*100}%, ${ax(this.l)*100}%${e===1?")":`, ${e})`}`}}));function K4(e){return e=(e||0)%360,e<0?e+360:e}function ax(e){return Math.max(0,Math.min(1,e||0))}function jj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _C=e=>()=>e;function n_e(e,t){return function(r){return e+r*t}}function s_e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function a_e(e){return(e=+e)==1?xV:function(t,r){return r-t?s_e(t,r,e):_C(isNaN(t)?r:t)}}function xV(e,t){var r=t-e;return r?n_e(e,r):_C(isNaN(e)?t:e)}const H4=function e(t){var r=a_e(t);function n(a,i){var o=r((a=S_(a)).r,(i=S_(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=xV(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function i_e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function o_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function l_e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Lf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function c_e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ay(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function u_e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Lf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var k_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nj=new RegExp(k_.source,"g");function d_e(e){return function(){return e}}function f_e(e){return function(t){return e(t)+""}}function h_e(e,t){var r=k_.lastIndex=Nj.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=k_.exec(e))&&(a=Nj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ay(n,a)})),r=Nj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?f_e(c[0].x):d_e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Lf(e,t){var r=typeof t,n;return t==null||r==="boolean"?_C(t):(r==="number"?ay:r==="string"?(n=Ym(t))?(t=n,H4):h_e:t instanceof Ym?H4:t instanceof Date?c_e:o_e(t)?i_e:Array.isArray(t)?l_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?u_e:ay)(e,t)}function SC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function m_e(e,t){t===void 0&&(t=e,e=Lf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function p_e(e){return function(){return e}}function iy(e){return+e}var G4=[0,1];function Qn(e){return e}function C_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:p_e(isNaN(t)?NaN:.5)}function g_e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function x_e(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=C_(a,n),i=r(o,i)):(n=C_(n,a),i=r(i,o)),function(l){return i(n(l))}}function v_e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=C_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=ag(e,l,1,n)-1;return i[c](a[c](l))}}function og(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function P0(){var e=G4,t=G4,r=Lf,n,a,i,o=Qn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Qn&&(o=g_e(e[0],e[h-1])),l=h>2?v_e:x_e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ay)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,iy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=SC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Qn,d()):o!==Qn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function kC(){return P0()(Qn,Qn)}function y_e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function oy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function zd(e){return e=oy(Math.abs(e)),e?e[1]:NaN}function b_e(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function w_e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var j_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xm(e){if(!(t=j_e.exec(e)))throw new Error("invalid format: "+e);var t;return new CC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xm.prototype=CC.prototype;function CC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}CC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function N_e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var vV;function __e(e,t){var r=oy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(vV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+oy(e,Math.max(0,t+i-1))[0]}function Q4(e,t){var r=oy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Y4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:y_e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Q4(e*100,t),r:Q4,s:__e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function X4(e){return e}var J4=Array.prototype.map,Z4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function S_e(e){var t=e.grouping===void 0||e.thousands===void 0?X4:b_e(J4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?X4:w_e(J4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Xm(f);var h=f.fill,p=f.align,y=f.sign,m=f.symbol,w=f.zero,g=f.width,x=f.comma,b=f.precision,j=f.trim,_=f.type;_==="n"?(x=!0,_="g"):Y4[_]||(b===void 0&&(b=12),j=!0,_="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",S=m==="$"?n:/[%p]/.test(_)?o:"",C=Y4[_],P=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(E){var T=N,I=S,R,D,O;if(_==="c")I=C(E)+I,E="";else{E=+E;var z=E<0||1/E<0;if(E=isNaN(E)?c:C(Math.abs(E),b),j&&(E=N_e(E)),z&&+E==0&&y!=="+"&&(z=!1),T=(z?y==="("?y:l:y==="-"||y==="("?"":y)+T,I=(_==="s"?Z4[8+vV/3]:"")+I+(z&&y==="("?")":""),P){for(R=-1,D=E.length;++R<D;)if(O=E.charCodeAt(R),48>O||O>57){I=(O===46?a+E.slice(R+1):E.slice(R))+I,E=E.slice(0,R);break}}}x&&!w&&(E=t(E,1/0));var A=T.length+E.length+I.length,$=A<g?new Array(g-A+1).join(h):"";switch(x&&w&&(E=t($+E,$.length?g-I.length:1/0),$=""),p){case"<":E=T+E+I+$;break;case"=":E=T+$+E+I;break;case"^":E=$.slice(0,A=$.length>>1)+T+E+I+$.slice(A);break;default:E=$+T+E+I;break}return i(E)}return k.toString=function(){return f+""},k}function d(f,h){var p=u((f=Xm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(zd(h)/3)))*3,m=Math.pow(10,-y),w=Z4[8+y/3];return function(g){return p(m*g)+w}}return{format:u,formatPrefix:d}}var ix,PC,yV;k_e({thousands:",",grouping:[3],currency:["$",""]});function k_e(e){return ix=S_e(e),PC=ix.format,yV=ix.formatPrefix,ix}function C_e(e){return Math.max(0,-zd(Math.abs(e)))}function P_e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zd(t)/3)))*3-zd(Math.abs(e)))}function E_e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zd(t)-zd(e))+1}function bV(e,t,r,n){var a=N_(e,t,r),i;switch(n=Xm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=P_e(a,o))&&(n.precision=i),yV(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=E_e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=C_e(a))&&(n.precision=i-(n.type==="%")*2);break}}return PC(n)}function pl(e){var t=e.domain;return e.ticks=function(r){var n=t();return w_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return bV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=j_(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ly(){var e=kC();return e.copy=function(){return og(e,ly())},xa.apply(e,arguments),pl(e)}function wV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,iy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return wV(e).unknown(t)},e=arguments.length?Array.from(e,iy):[0,1],pl(r)}function jV(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function eI(e){return Math.log(e)}function tI(e){return Math.exp(e)}function A_e(e){return-Math.log(-e)}function O_e(e){return-Math.exp(-e)}function T_e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function I_e(e){return e===10?T_e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function R_e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rI(e){return(t,r)=>-e(-t,r)}function EC(e){const t=e(eI,tI),r=t.domain;let n=10,a,i;function o(){return a=R_e(n),i=I_e(n),r()[0]<0?(a=rI(a),i=rI(i),e(A_e,O_e)):e(eI,tI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),y,m;const w=l==null?10:+l;let g=[];if(!(n%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;g.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;g.push(m)}g.length*2<w&&(g=w_(u,d,w))}else g=w_(h,p,Math.min(p-h,w)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Xm(c)).precision==null&&(c.trim=!0),c=PC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(jV(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function NV(){const e=EC(P0()).domain([1,10]);return e.copy=()=>og(e,NV()).base(e.base()),xa.apply(e,arguments),e}function nI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function AC(e){var t=1,r=e(nI(t),sI(t));return r.constant=function(n){return arguments.length?e(nI(t=+n),sI(t)):t},pl(r)}function _V(){var e=AC(P0());return e.copy=function(){return og(e,_V()).constant(e.constant())},xa.apply(e,arguments)}function aI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function M_e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $_e(e){return e<0?-e*e:e*e}function OC(e){var t=e(Qn,Qn),r=1;function n(){return r===1?e(Qn,Qn):r===.5?e(M_e,$_e):e(aI(r),aI(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},pl(t)}function TC(){var e=OC(P0());return e.copy=function(){return og(e,TC()).exponent(e.exponent())},xa.apply(e,arguments),e}function D_e(){return TC.apply(null,arguments).exponent(.5)}function iI(e){return Math.sign(e)*e*e}function L_e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function SV(){var e=kC(),t=[0,1],r=!1,n;function a(i){var o=L_e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(iI(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,iy)).map(iI)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return SV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xa.apply(a,arguments),pl(a)}function kV(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=qNe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[ag(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Go),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return kV().domain(e).range(t).unknown(n)},xa.apply(i,arguments)}function CV(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[ag(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return CV().domain([e,t]).range(a).unknown(i)},xa.apply(pl(o),arguments)}function PV(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ag(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return PV().domain(e).range(t).unknown(r)},xa.apply(a,arguments)}const _j=new Date,Sj=new Date;function fn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>fn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(_j.setTime(+i),Sj.setTime(+o),e(_j),e(Sj),Math.floor(r(_j,Sj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const cy=fn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):cy);cy.range;const Ti=1e3,ea=Ti*60,Ii=ea*60,Gi=Ii*24,IC=Gi*7,oI=Gi*30,kj=Gi*365,Kl=fn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ti)},(e,t)=>(t-e)/Ti,e=>e.getUTCSeconds());Kl.range;const RC=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ti)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getMinutes());RC.range;const MC=fn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCMinutes());MC.range;const $C=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ti-e.getMinutes()*ea)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getHours());$C.range;const DC=fn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCHours());DC.range;const lg=fn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ea)/Gi,e=>e.getDate()-1);lg.range;const E0=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>e.getUTCDate()-1);E0.range;const EV=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>Math.floor(e/Gi));EV.range;function Uc(e){return fn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ea)/IC)}const A0=Uc(0),uy=Uc(1),F_e=Uc(2),U_e=Uc(3),Wd=Uc(4),B_e=Uc(5),V_e=Uc(6);A0.range;uy.range;F_e.range;U_e.range;Wd.range;B_e.range;V_e.range;function Bc(e){return fn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/IC)}const O0=Bc(0),dy=Bc(1),q_e=Bc(2),z_e=Bc(3),Kd=Bc(4),W_e=Bc(5),K_e=Bc(6);O0.range;dy.range;q_e.range;z_e.range;Kd.range;W_e.range;K_e.range;const LC=fn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());LC.range;const FC=fn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());FC.range;const Qi=fn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Qi.range;const Yi=fn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Yi.range;function AV(e,t,r,n,a,i){const o=[[Kl,1,Ti],[Kl,5,5*Ti],[Kl,15,15*Ti],[Kl,30,30*Ti],[i,1,ea],[i,5,5*ea],[i,15,15*ea],[i,30,30*ea],[a,1,Ii],[a,3,3*Ii],[a,6,6*Ii],[a,12,12*Ii],[n,1,Gi],[n,2,2*Gi],[r,1,IC],[t,1,oI],[t,3,3*oI],[e,1,kj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=wC(([,,w])=>w).right(o,h);if(p===o.length)return e.every(N_(u/kj,d/kj,f));if(p===0)return cy.every(Math.max(N_(u,d,f),1));const[y,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[H_e,G_e]=AV(Yi,FC,O0,EV,DC,MC),[Q_e,Y_e]=AV(Qi,LC,A0,lg,$C,RC);function Cj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Pj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function uh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function X_e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=dh(a),d=fh(a),f=dh(i),h=fh(i),p=dh(o),y=fh(o),m=dh(l),w=fh(l),g=dh(c),x=fh(c),b={a:z,A,b:$,B:Q,c:null,d:hI,e:hI,f:bSe,g:ASe,G:TSe,H:xSe,I:vSe,j:ySe,L:OV,m:wSe,M:jSe,p:X,q:F,Q:gI,s:xI,S:NSe,u:_Se,U:SSe,V:kSe,w:CSe,W:PSe,x:null,X:null,y:ESe,Y:OSe,Z:ISe,"%":pI},j={a:J,A:q,b:ee,B:pe,c:null,d:mI,e:mI,f:DSe,g:HSe,G:QSe,H:RSe,I:MSe,j:$Se,L:IV,m:LSe,M:FSe,p:te,q:be,Q:gI,s:xI,S:USe,u:BSe,U:VSe,V:qSe,w:zSe,W:WSe,x:null,X:null,y:KSe,Y:GSe,Z:YSe,"%":pI},_={a:k,A:E,b:T,B:I,c:R,d:dI,e:dI,f:hSe,g:uI,G:cI,H:fI,I:fI,j:cSe,L:fSe,m:lSe,M:uSe,p:P,q:oSe,Q:pSe,s:gSe,S:dSe,u:rSe,U:nSe,V:sSe,w:tSe,W:aSe,x:D,X:O,y:uI,Y:cI,Z:iSe,"%":mSe};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(ie,U){return function(le){var G=[],B=-1,ge=0,Xe=ie.length,at,pt,Ft;for(le instanceof Date||(le=new Date(+le));++B<Xe;)ie.charCodeAt(B)===37&&(G.push(ie.slice(ge,B)),(pt=lI[at=ie.charAt(++B)])!=null?at=ie.charAt(++B):pt=at==="e"?" ":"0",(Ft=U[at])&&(at=Ft(le,pt)),G.push(at),ge=B+1);return G.push(ie.slice(ge,B)),G.join("")}}function S(ie,U){return function(le){var G=uh(1900,void 0,1),B=C(G,ie,le+="",0),ge,Xe;if(B!=le.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(U&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(ge=Pj(uh(G.y,0,1)),Xe=ge.getUTCDay(),ge=Xe>4||Xe===0?dy.ceil(ge):dy(ge),ge=E0.offset(ge,(G.V-1)*7),G.y=ge.getUTCFullYear(),G.m=ge.getUTCMonth(),G.d=ge.getUTCDate()+(G.w+6)%7):(ge=Cj(uh(G.y,0,1)),Xe=ge.getDay(),ge=Xe>4||Xe===0?uy.ceil(ge):uy(ge),ge=lg.offset(ge,(G.V-1)*7),G.y=ge.getFullYear(),G.m=ge.getMonth(),G.d=ge.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Xe="Z"in G?Pj(uh(G.y,0,1)).getUTCDay():Cj(uh(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Xe+5)%7:G.w+G.U*7-(Xe+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Pj(G)):Cj(G)}}function C(ie,U,le,G){for(var B=0,ge=U.length,Xe=le.length,at,pt;B<ge;){if(G>=Xe)return-1;if(at=U.charCodeAt(B++),at===37){if(at=U.charAt(B++),pt=_[at in lI?U.charAt(B++):at],!pt||(G=pt(ie,le,G))<0)return-1}else if(at!=le.charCodeAt(G++))return-1}return G}function P(ie,U,le){var G=u.exec(U.slice(le));return G?(ie.p=d.get(G[0].toLowerCase()),le+G[0].length):-1}function k(ie,U,le){var G=p.exec(U.slice(le));return G?(ie.w=y.get(G[0].toLowerCase()),le+G[0].length):-1}function E(ie,U,le){var G=f.exec(U.slice(le));return G?(ie.w=h.get(G[0].toLowerCase()),le+G[0].length):-1}function T(ie,U,le){var G=g.exec(U.slice(le));return G?(ie.m=x.get(G[0].toLowerCase()),le+G[0].length):-1}function I(ie,U,le){var G=m.exec(U.slice(le));return G?(ie.m=w.get(G[0].toLowerCase()),le+G[0].length):-1}function R(ie,U,le){return C(ie,t,U,le)}function D(ie,U,le){return C(ie,r,U,le)}function O(ie,U,le){return C(ie,n,U,le)}function z(ie){return o[ie.getDay()]}function A(ie){return i[ie.getDay()]}function $(ie){return c[ie.getMonth()]}function Q(ie){return l[ie.getMonth()]}function X(ie){return a[+(ie.getHours()>=12)]}function F(ie){return 1+~~(ie.getMonth()/3)}function J(ie){return o[ie.getUTCDay()]}function q(ie){return i[ie.getUTCDay()]}function ee(ie){return c[ie.getUTCMonth()]}function pe(ie){return l[ie.getUTCMonth()]}function te(ie){return a[+(ie.getUTCHours()>=12)]}function be(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var U=N(ie+="",b);return U.toString=function(){return ie},U},parse:function(ie){var U=S(ie+="",!1);return U.toString=function(){return ie},U},utcFormat:function(ie){var U=N(ie+="",j);return U.toString=function(){return ie},U},utcParse:function(ie){var U=S(ie+="",!0);return U.toString=function(){return ie},U}}}var lI={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,J_e=/^%/,Z_e=/[\\^$*+?|[\]().{}]/g;function Bt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function eSe(e){return e.replace(Z_e,"\\$&")}function dh(e){return new RegExp("^(?:"+e.map(eSe).join("|")+")","i")}function fh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function tSe(e,t,r){var n=bn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function rSe(e,t,r){var n=bn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function nSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function sSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function aSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function cI(e,t,r){var n=bn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function uI(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function iSe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function oSe(e,t,r){var n=bn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function lSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function dI(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function cSe(e,t,r){var n=bn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function fI(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function uSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function dSe(e,t,r){var n=bn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function fSe(e,t,r){var n=bn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function hSe(e,t,r){var n=bn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mSe(e,t,r){var n=J_e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function pSe(e,t,r){var n=bn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function gSe(e,t,r){var n=bn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hI(e,t){return Bt(e.getDate(),t,2)}function xSe(e,t){return Bt(e.getHours(),t,2)}function vSe(e,t){return Bt(e.getHours()%12||12,t,2)}function ySe(e,t){return Bt(1+lg.count(Qi(e),e),t,3)}function OV(e,t){return Bt(e.getMilliseconds(),t,3)}function bSe(e,t){return OV(e,t)+"000"}function wSe(e,t){return Bt(e.getMonth()+1,t,2)}function jSe(e,t){return Bt(e.getMinutes(),t,2)}function NSe(e,t){return Bt(e.getSeconds(),t,2)}function _Se(e){var t=e.getDay();return t===0?7:t}function SSe(e,t){return Bt(A0.count(Qi(e)-1,e),t,2)}function TV(e){var t=e.getDay();return t>=4||t===0?Wd(e):Wd.ceil(e)}function kSe(e,t){return e=TV(e),Bt(Wd.count(Qi(e),e)+(Qi(e).getDay()===4),t,2)}function CSe(e){return e.getDay()}function PSe(e,t){return Bt(uy.count(Qi(e)-1,e),t,2)}function ESe(e,t){return Bt(e.getFullYear()%100,t,2)}function ASe(e,t){return e=TV(e),Bt(e.getFullYear()%100,t,2)}function OSe(e,t){return Bt(e.getFullYear()%1e4,t,4)}function TSe(e,t){var r=e.getDay();return e=r>=4||r===0?Wd(e):Wd.ceil(e),Bt(e.getFullYear()%1e4,t,4)}function ISe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Bt(t/60|0,"0",2)+Bt(t%60,"0",2)}function mI(e,t){return Bt(e.getUTCDate(),t,2)}function RSe(e,t){return Bt(e.getUTCHours(),t,2)}function MSe(e,t){return Bt(e.getUTCHours()%12||12,t,2)}function $Se(e,t){return Bt(1+E0.count(Yi(e),e),t,3)}function IV(e,t){return Bt(e.getUTCMilliseconds(),t,3)}function DSe(e,t){return IV(e,t)+"000"}function LSe(e,t){return Bt(e.getUTCMonth()+1,t,2)}function FSe(e,t){return Bt(e.getUTCMinutes(),t,2)}function USe(e,t){return Bt(e.getUTCSeconds(),t,2)}function BSe(e){var t=e.getUTCDay();return t===0?7:t}function VSe(e,t){return Bt(O0.count(Yi(e)-1,e),t,2)}function RV(e){var t=e.getUTCDay();return t>=4||t===0?Kd(e):Kd.ceil(e)}function qSe(e,t){return e=RV(e),Bt(Kd.count(Yi(e),e)+(Yi(e).getUTCDay()===4),t,2)}function zSe(e){return e.getUTCDay()}function WSe(e,t){return Bt(dy.count(Yi(e)-1,e),t,2)}function KSe(e,t){return Bt(e.getUTCFullYear()%100,t,2)}function HSe(e,t){return e=RV(e),Bt(e.getUTCFullYear()%100,t,2)}function GSe(e,t){return Bt(e.getUTCFullYear()%1e4,t,4)}function QSe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Kd(e):Kd.ceil(e),Bt(e.getUTCFullYear()%1e4,t,4)}function YSe(){return"+0000"}function pI(){return"%"}function gI(e){return+e}function xI(e){return Math.floor(+e/1e3)}var gu,MV,$V;XSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XSe(e){return gu=X_e(e),MV=gu.format,gu.parse,$V=gu.utcFormat,gu.utcParse,gu}function JSe(e){return new Date(e)}function ZSe(e){return e instanceof Date?+e:+new Date(+e)}function UC(e,t,r,n,a,i,o,l,c,u){var d=kC(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),w=u("%I %p"),g=u("%a %d"),x=u("%b %d"),b=u("%B"),j=u("%Y");function _(N){return(c(N)<N?p:l(N)<N?y:o(N)<N?m:i(N)<N?w:n(N)<N?a(N)<N?g:x:r(N)<N?b:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,ZSe)):h().map(JSe)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?_:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(jV(S,N)):d},d.copy=function(){return og(d,UC(e,t,r,n,a,i,o,l,c,u))},d}function eke(){return xa.apply(UC(Q_e,Y_e,Qi,LC,A0,lg,$C,RC,Kl,MV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tke(){return xa.apply(UC(H_e,G_e,Yi,FC,O0,E0,DC,MC,Kl,$V).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function T0(){var e=0,t=1,r,n,a,i,o=Qn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(Lf),u.rangeRound=d(SC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function gl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function DV(){var e=pl(T0()(Qn));return e.copy=function(){return gl(e,DV())},so.apply(e,arguments)}function LV(){var e=EC(T0()).domain([1,10]);return e.copy=function(){return gl(e,LV()).base(e.base())},so.apply(e,arguments)}function FV(){var e=AC(T0());return e.copy=function(){return gl(e,FV()).constant(e.constant())},so.apply(e,arguments)}function BC(){var e=OC(T0());return e.copy=function(){return gl(e,BC()).exponent(e.exponent())},so.apply(e,arguments)}function rke(){return BC.apply(null,arguments).exponent(.5)}function UV(){var e=[],t=Qn;function r(n){if(n!=null&&!isNaN(n=+n))return t((ag(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Go),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>VNe(e,i/n))},r.copy=function(){return UV(t).domain(e)},so.apply(r,arguments)}function I0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Qn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(w){var g,x,b;return arguments.length?([g,x,b]=w,u=m_e(m,[g,x,b]),p):[u(0),u(.5),u(1)]}}return p.range=y(Lf),p.rangeRound=y(SC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function BV(){var e=pl(I0()(Qn));return e.copy=function(){return gl(e,BV())},so.apply(e,arguments)}function VV(){var e=EC(I0()).domain([.1,1,10]);return e.copy=function(){return gl(e,VV()).base(e.base())},so.apply(e,arguments)}function qV(){var e=AC(I0());return e.copy=function(){return gl(e,qV()).constant(e.constant())},so.apply(e,arguments)}function VC(){var e=OC(I0());return e.copy=function(){return gl(e,VC()).exponent(e.exponent())},so.apply(e,arguments)}function nke(){return VC.apply(null,arguments).exponent(.5)}const vI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hm,scaleDiverging:BV,scaleDivergingLog:VV,scaleDivergingPow:VC,scaleDivergingSqrt:nke,scaleDivergingSymlog:qV,scaleIdentity:wV,scaleImplicit:__,scaleLinear:ly,scaleLog:NV,scaleOrdinal:jC,scalePoint:Qh,scalePow:TC,scaleQuantile:kV,scaleQuantize:CV,scaleRadial:SV,scaleSequential:DV,scaleSequentialLog:LV,scaleSequentialPow:BC,scaleSequentialQuantile:UV,scaleSequentialSqrt:rke,scaleSequentialSymlog:FV,scaleSqrt:D_e,scaleSymlog:_V,scaleThreshold:PV,scaleTime:eke,scaleUtc:tke,tickFormat:bV},Symbol.toStringTag,{value:"Module"}));var ske=Ef;function ake(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!ske(o):r(o,l)))var l=o,c=i}return c}var R0=ake;function ike(e,t){return e>t}var zV=ike,oke=R0,lke=zV,cke=$f;function uke(e){return e&&e.length?oke(e,cke,lke):void 0}var dke=uke;const M0=Yt(dke);function fke(e,t){return e<t}var WV=fke,hke=R0,mke=WV,pke=$f;function gke(e){return e&&e.length?hke(e,pke,mke):void 0}var xke=gke;const $0=Yt(xke);var vke=rC,yke=pi,bke=ZB,wke=xs;function jke(e,t){var r=wke(e)?vke:bke;return r(e,yke(t))}var Nke=jke,_ke=XB,Ske=Nke;function kke(e,t){return _ke(Ske(e,t),1)}var Cke=kke;const Pke=Yt(Cke);var Eke=xC;function Ake(e,t){return Eke(e,t)}var Oke=Ake;const D0=Yt(Oke);var Ff=1e9,Tke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zC,jr=!0,da="[DecimalError] ",oc=da+"Invalid argument: ",qC=da+"Exponent out of range: ",Uf=Math.floor,Rl=Math.pow,Ike=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Es,pn=1e7,xr=7,KV=9007199254740991,fy=Uf(KV/xr),Ue={};Ue.absoluteValue=Ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ue.comparedTo=Ue.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*xr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ue.dividedBy=Ue.div=function(e){return Di(this,new this.constructor(e))};Ue.dividedToIntegerBy=Ue.idiv=function(e){var t=this,r=t.constructor;return ir(Di(t,new r(e),0,1),r.precision)};Ue.equals=Ue.eq=function(e){return!this.cmp(e)};Ue.exponent=function(){return Xr(this)};Ue.greaterThan=Ue.gt=function(e){return this.cmp(e)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(e){return this.cmp(e)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(e){return this.cmp(e)<0};Ue.lessThanOrEqualTo=Ue.lte=function(e){return this.cmp(e)<1};Ue.logarithm=Ue.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Es))throw Error(da+"NaN");if(r.s<1)throw Error(da+(r.s?"NaN":"-Infinity"));return r.eq(Es)?new n(0):(jr=!1,t=Di(Jm(r,i),Jm(e,i),i),jr=!0,ir(t,a))};Ue.minus=Ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QV(t,e):HV(t,(e.s=-e.s,e))};Ue.modulo=Ue.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(da+"NaN");return r.s?(jr=!1,t=Di(r,e,0,1).times(e),jr=!0,r.minus(t)):ir(new n(r),a)};Ue.naturalExponential=Ue.exp=function(){return GV(this)};Ue.naturalLogarithm=Ue.ln=function(){return Jm(this)};Ue.negated=Ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ue.plus=Ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HV(t,e):QV(t,(e.s=-e.s,e))};Ue.precision=Ue.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(oc+e);if(t=Xr(a)+1,n=a.d.length-1,r=n*xr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ue.squareRoot=Ue.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(da+"NaN")}for(e=Xr(l),jr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ti(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Uf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Di(l,i,o+2)).times(.5),ti(i.d).slice(0,o)===(t=ti(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ir(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return jr=!0,ir(n,r)};Ue.times=Ue.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%pn|0,t=l/pn|0;i[a]=(i[a]+t)%pn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,jr?ir(e,f.precision):e};Ue.toDecimalPlaces=Ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(di(e,0,Ff),t===void 0?t=n.rounding:di(t,0,8),ir(r,e+Xr(r)+1,t))};Ue.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ec(n,!0):(di(e,0,Ff),t===void 0?t=a.rounding:di(t,0,8),n=ir(new a(n),e+1,t),r=Ec(n,!0,e+1)),r};Ue.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ec(a):(di(e,0,Ff),t===void 0?t=i.rounding:di(t,0,8),n=ir(new i(a),e+Xr(a)+1,t),r=Ec(n.abs(),!1,e+Xr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ue.toInteger=Ue.toint=function(){var e=this,t=e.constructor;return ir(new t(e),Xr(e)+1,t.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Es);if(l=new c(l),!l.s){if(e.s<1)throw Error(da+"Infinity");return l}if(l.eq(Es))return l;if(n=c.precision,e.eq(Es))return ir(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=KV){for(a=new c(Es),t=Math.ceil(n/xr+4),jr=!1;r%2&&(a=a.times(l),bI(a.d,t)),r=Uf(r/2),r!==0;)l=l.times(l),bI(l.d,t);return jr=!0,e.s<0?new c(Es).div(a):ir(a,n)}}else if(i<0)throw Error(da+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,jr=!1,a=e.times(Jm(l,n+u)),jr=!0,a=GV(a),a.s=i,a};Ue.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Xr(a),n=Ec(a,r<=i.toExpNeg||r>=i.toExpPos)):(di(e,1,Ff),t===void 0?t=i.rounding:di(t,0,8),a=ir(new i(a),e,t),r=Xr(a),n=Ec(a,e<=r||r<=i.toExpNeg,e)),n};Ue.toSignificantDigits=Ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(di(e,1,Ff),t===void 0?t=n.rounding:di(t,0,8)),ir(new n(r),e,t)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xr(e),r=e.constructor;return Ec(e,t<=r.toExpNeg||t>=r.toExpPos)};function HV(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),jr?ir(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/xr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/pn|0,c[i]%=pn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,jr?ir(t,f):t}function di(e,t,r){if(e!==~~e||e<t||e>r)throw Error(oc+e)}function ti(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=xr-n.length,r&&(i+=bo(r)),i+=n;o=e[t],n=o+"",r=xr-n.length,r&&(i+=bo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Di=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%pn|0,o=i/pn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*pn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,y,m,w,g,x,b,j,_,N,S,C,P=n.constructor,k=n.s==a.s?1:-1,E=n.d,T=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(da+"Division by zero");for(c=n.e-a.e,S=T.length,_=E.length,p=new P(k),y=p.d=[],u=0;T[u]==(E[u]||0);)++u;if(T[u]>(E[u]||0)&&--c,i==null?x=i=P.precision:o?x=i+(Xr(n)-Xr(a))+1:x=i,x<0)return new P(0);if(x=x/xr+2|0,u=0,S==1)for(d=0,T=T[0],x++;(u<_||d)&&x--;u++)b=d*pn+(E[u]||0),y[u]=b/T|0,d=b%T|0;else{for(d=pn/(T[0]+1)|0,d>1&&(T=e(T,d),E=e(E,d),S=T.length,_=E.length),j=S,m=E.slice(0,S),w=m.length;w<S;)m[w++]=0;C=T.slice(),C.unshift(0),N=T[0],T[1]>=pn/2&&++N;do d=0,l=t(T,m,S,w),l<0?(g=m[0],S!=w&&(g=g*pn+(m[1]||0)),d=g/N|0,d>1?(d>=pn&&(d=pn-1),f=e(T,d),h=f.length,w=m.length,l=t(f,m,h,w),l==1&&(d--,r(f,S<h?C:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<w&&f.unshift(0),r(m,f,w),l==-1&&(w=m.length,l=t(T,m,S,w),l<1&&(d++,r(m,S<w?C:T,w))),w=m.length):l===0&&(d++,m=[0]),y[u++]=d,l&&m[0]?m[w++]=E[j]||0:(m=[E[j]],w=1);while((j++<_||m[0]!==void 0)&&x--)}return y[0]||y.shift(),p.e=c,ir(p,o?i+Xr(p)+1:i)}}();function GV(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Xr(e)>16)throw Error(qC+Xr(e));if(!e.s)return new d(Es);for(jr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Rl(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Es),d.precision=l;;){if(a=ir(a.times(e),l),r=r.times(++c),o=i.plus(Di(a,r,l)),ti(o.d).slice(0,l)===ti(i.d).slice(0,l)){for(;u--;)i=ir(i.times(i),l);return d.precision=f,t==null?(jr=!0,ir(i,f)):i}i=o}}function Xr(e){for(var t=e.e*xr,r=e.d[0];r>=10;r/=10)t++;return t}function Ej(e,t,r){if(t>e.LN10.sd())throw jr=!0,r&&(e.precision=r),Error(da+"LN10 precision limit exceeded");return ir(new e(e.LN10),t)}function bo(e){for(var t="";e--;)t+="0";return t}function Jm(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,y=p.d,m=p.constructor,w=m.precision;if(p.s<1)throw Error(da+(p.s?"NaN":"-Infinity"));if(p.eq(Es))return new m(0);if(t==null?(jr=!1,u=w):u=t,p.eq(10))return t==null&&(jr=!0),Ej(m,u);if(u+=h,m.precision=u,r=ti(y),n=r.charAt(0),i=Xr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ti(p.d),n=r.charAt(0),f++;i=Xr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Ej(m,u+2,w).times(i+""),p=Jm(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=w,t==null?(jr=!0,ir(p,w)):p;for(l=o=p=Di(p.minus(Es),p.plus(Es),u),d=ir(p.times(p),u),a=3;;){if(o=ir(o.times(d),u),c=l.plus(Di(o,new m(a),u)),ti(c.d).slice(0,u)===ti(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Ej(m,u+2,w).times(i+""))),l=Di(l,new m(f),u),m.precision=w,t==null?(jr=!0,ir(l,w)):l;l=c,a+=2}}function yI(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Uf(r/xr),e.d=[],n=(r+1)%xr,r<0&&(n+=xr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=xr;n<a;)e.d.push(+t.slice(n,n+=xr));t=t.slice(n),n=xr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),jr&&(e.e>fy||e.e<-fy))throw Error(qC+r)}else e.s=0,e.e=0,e.d=[0];return e}function ir(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=xr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/xr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=xr,a=n-xr+o}if(r!==void 0&&(i=Rl(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Rl(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Xr(e),f.length=1,t=t-i-1,f[0]=Rl(10,(xr-t%xr)%xr),e.e=Uf(-t/xr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Rl(10,xr-n),f[d]=a>0?(u/Rl(10,o-a)%Rl(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==pn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=pn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(jr&&(e.e>fy||e.e<-fy))throw Error(qC+Xr(e));return e}function QV(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),jr?ir(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/xr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=pn-1;--c[i],c[a]+=pn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,jr?ir(t,p):t):new h(0)}function Ec(e,t,r){var n,a=Xr(e),i=ti(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+bo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+bo(-a-1)+i,r&&(n=r-o)>0&&(i+=bo(n))):a>=o?(i+=bo(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+bo(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=bo(n))),e.s<0?"-"+i:i}function bI(e,t){if(e.length>t)return e.length=t,!0}function YV(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(oc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return yI(o,i.toString())}else if(typeof i!="string")throw Error(oc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Ike.test(i))yI(o,i);else throw Error(oc+i)}if(a.prototype=Ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=YV,a.config=a.set=Rke,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Rke(e){if(!e||typeof e!="object")throw Error(da+"Object expected");var t,r,n,a=["precision",1,Ff,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Uf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(oc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(oc+r+": "+n);return this}var zC=YV(Tke);Es=new zC(1);const ar=zC;function Mke(e){return Fke(e)||Lke(e)||Dke(e)||$ke()}function $ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dke(e,t){if(e){if(typeof e=="string")return P_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P_(e,t)}}function Lke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Fke(e){if(Array.isArray(e))return P_(e)}function P_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Uke=function(t){return t},XV={},JV=function(t){return t===XV},wI=function(t){return function r(){return arguments.length===0||arguments.length===1&&JV(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Bke=function e(t,r){return t===1?r:wI(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==XV}).length;return o>=t?r.apply(void 0,a):e(t-o,wI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return JV(f)?c.shift():f});return r.apply(void 0,Mke(d).concat(c))}))})},L0=function(t){return Bke(t.length,t)},E_=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Vke=L0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),qke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Uke;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},A_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},ZV=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function zke(e){var t;return e===0?t=1:t=Math.floor(new ar(e).abs().log(10).toNumber())+1,t}function Wke(e,t,r){for(var n=new ar(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Kke=L0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Hke=L0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Gke=L0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const F0={rangeStep:Wke,getDigitCount:zke,interpolateNumber:Kke,uninterpolateNumber:Hke,uninterpolateTruncation:Gke};function O_(e){return Xke(e)||Yke(e)||eq(e)||Qke()}function Qke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Xke(e){if(Array.isArray(e))return T_(e)}function Zm(e,t){return e2e(e)||Zke(e,t)||eq(e,t)||Jke()}function Jke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eq(e,t){if(e){if(typeof e=="string")return T_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T_(e,t)}}function T_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function e2e(e){if(Array.isArray(e))return e}function tq(e){var t=Zm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function rq(e,t,r){if(e.lte(0))return new ar(0);var n=F0.getDigitCount(e.toNumber()),a=new ar(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ar(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new ar(Math.ceil(c))}function t2e(e,t,r){var n=1,a=new ar(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ar(10).pow(F0.getDigitCount(e)-1),a=new ar(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ar(Math.floor(e)))}else e===0?a=new ar(Math.floor((t-1)/2)):r||(a=new ar(Math.floor(e)));var o=Math.floor((t-1)/2),l=qke(Vke(function(c){return a.add(new ar(c-o).mul(n)).toNumber()}),E_);return l(0,t)}function nq(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ar(0),tickMin:new ar(0),tickMax:new ar(0)};var i=rq(new ar(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new ar(0):(o=new ar(e).add(t).div(2),o=o.sub(new ar(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new ar(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?nq(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new ar(l).mul(i)),tickMax:o.add(new ar(c).mul(i))})}function r2e(e){var t=Zm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=tq([r,n]),c=Zm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(O_(E_(0,a-1).map(function(){return 1/0}))):[].concat(O_(E_(0,a-1).map(function(){return-1/0})),[d]);return r>n?A_(f):f}if(u===d)return t2e(u,a,i);var h=nq(u,d,o,i),p=h.step,y=h.tickMin,m=h.tickMax,w=F0.rangeStep(y,m.add(new ar(.1).mul(p)),p);return r>n?A_(w):w}function n2e(e,t){var r=Zm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=tq([n,a]),l=Zm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=rq(new ar(u).sub(c).div(d-1),i,0),h=[].concat(O_(F0.rangeStep(new ar(c),new ar(u).sub(new ar(.99).mul(f)),f)),[u]);return n>a?A_(h):h}var s2e=ZV(r2e),a2e=ZV(n2e),i2e="Invariant failed";function Ac(e,t){throw new Error(i2e)}var o2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(this,arguments)}function l2e(e,t){return f2e(e)||d2e(e,t)||u2e(e,t)||c2e()}function c2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u2e(e,t){if(e){if(typeof e=="string")return jI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jI(e,t)}}function jI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function f2e(e){if(Array.isArray(e))return e}function h2e(e,t){if(e==null)return{};var r=m2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iq(n.key),n)}}function x2e(e,t,r){return t&&g2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v2e(e,t,r){return t=my(t),y2e(e,sq()?Reflect.construct(t,r||[],my(e).constructor):t.apply(e,r))}function y2e(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b2e(e)}function b2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sq=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},my(e)}function w2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I_(e,t)}function aq(e,t,r){return t=iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=j2e(e,"string");return Hd(t)=="symbol"?t:t+""}function j2e(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U0=function(e){function t(){return p2e(this,t),v2e(this,t,arguments)}return w2e(t,e),x2e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=h2e(n,o2e),p=dt(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ac();var y=c.map(function(m){var w=u(m,l),g=w.x,x=w.y,b=w.value,j=w.errorVal;if(!j)return null;var _=[],N,S;if(Array.isArray(j)){var C=l2e(j,2);N=C[0],S=C[1]}else N=S=j;if(i==="vertical"){var P=d.scale,k=x+a,E=k+o,T=k-o,I=P(b-N),R=P(b+S);_.push({x1:R,y1:E,x2:R,y2:T}),_.push({x1:I,y1:k,x2:R,y2:k}),_.push({x1:I,y1:E,x2:I,y2:T})}else if(i==="horizontal"){var D=f.scale,O=g+a,z=O-o,A=O+o,$=D(b-N),Q=D(b+S);_.push({x1:z,y1:Q,x2:A,y2:Q}),_.push({x1:O,y1:$,x2:O,y2:Q}),_.push({x1:z,y1:$,x2:A,y2:$})}return L.createElement(Zt,hy({className:"recharts-errorBar",key:"bar-".concat(_.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),_.map(function(X){return L.createElement("line",hy({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return L.createElement(Zt,{className:"recharts-errorBars"},y)}}])}(L.Component);aq(U0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});aq(U0,"displayName","ErrorBar");function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(r),!0).forEach(function(n){N2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N2e(e,t,r){return t=_2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _2e(e){var t=S2e(e,"string");return ep(t)=="symbol"?t:t+""}function S2e(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oq=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ns(r,ac);if(!o)return null;var l=ac.defaultProps,c=l!==void 0?Sl(Sl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Sl(Sl({},h),f.props):{},y=p.dataKey,m=p.name,w=p.legendType,g=p.hide;return{inactive:g,dataKey:y,type:c.iconType||w||"square",color:WC(f),value:m||y,payload:p}}),Sl(Sl(Sl({},c),ac.getWithHeight(o,a)),{},{payload:u,item:o})};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function _I(e){return E2e(e)||P2e(e)||C2e(e)||k2e()}function k2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C2e(e,t){if(e){if(typeof e=="string")return R_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R_(e,t)}}function P2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E2e(e){if(Array.isArray(e))return R_(e)}function R_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(n){sd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sd(e,t,r){return t=A2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A2e(e){var t=O2e(e,"string");return tp(t)=="symbol"?t:t+""}function O2e(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(e,t,r){return Pt(e)||Pt(t)?r:ln(t)?Ms(e,t,r):ht(t)?t(e):r}function Yh(e,t,r,n){var a=Pke(e,function(l){return $n(l,t)});if(r==="number"){var i=a.filter(function(l){return Pe(l)||parseFloat(l)});return i.length?[$0(i),M0(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Pt(l)}):a;return o.map(function(l){return ln(l)||l instanceof Date?l:""})}var T2e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Hn(f-d)!==Hn(h-f)){var y=[];if(Hn(h-f)===Hn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{p=d;var w=h+c[1]-c[0];y[0]=Math.min(f,(w+f)/2),y[1]=Math.max(f,(w+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>g[0]&&t<=g[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(t>(x+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},WC=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},I2e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],m=y.items,w=y.cateAxisId,g=m.filter(function(S){return $i(S.type).indexOf("Bar")>=0});if(g&&g.length){var x=g[0].type.defaultProps,b=x!==void 0?Ir(Ir({},x),g[0].props):g[0].props,j=b.barSize,_=b[w];o[_]||(o[_]=[]);var N=Pt(j)?r:j;o[_].push({item:g[0],stackList:g.slice(1),barSize:Pt(N)?void 0:Gn(N,n,0)})}}return o},R2e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Gn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,y=o.reduce(function(j,_){return j+_.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var m=(a-y)/2>>0,w={offset:m-u,size:0};d=o.reduce(function(j,_){var N={item:_.item,position:{offset:w.offset+w.size+u,size:h?p:_.barSize}},S=[].concat(_I(j),[N]);return w=S[S.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(C){S.push({item:C,position:w})}),S},f)}else{var g=Gn(n,a,0,!0);a-2*g-(c-1)*u<=0&&(u=0);var x=(a-2*g-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;d=o.reduce(function(j,_,N){var S=[].concat(_I(j),[{item:_.item,position:{offset:g+(x+u)*N+(x-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},f)}return d},M2e=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=oq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&Pe(t[p]))return Ir(Ir({},t),{},sd({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&Pe(t[y]))return Ir(Ir({},t),{},sd({},y,t[y]+(h||0)))}return t},$2e=function(t,r,n){return Pt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},lq=function(t,r,n,a,i){var o=r.props.children,l=aa(o,U0).filter(function(u){return $2e(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=$n(d,n);if(Pt(f))return u;var h=Array.isArray(f)?[$0(f),M0(f)]:[f,f],p=c.reduce(function(y,m){var w=$n(d,m,0),g=h[0]-Math.abs(Array.isArray(w)?w[0]:w),x=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(g,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},D2e=function(t,r,n,a,i){var o=r.map(function(l){return lq(t,l,n,i,a)}).filter(function(l){return!Pt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},cq=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&lq(t,c,u,a)||Yh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},uq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},dq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ri=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Hn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!rg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Aj=new WeakMap,ox=function(t,r){if(typeof r!="function")return t;Aj.has(t)||Aj.set(t,new WeakMap);var n=Aj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},fq=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Hm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ly(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Qh(),realScaleType:"point"}:i==="category"?{scale:Hm(),realScaleType:"band"}:{scale:ly(),realScaleType:"linear"};if(kc(a)){var c="scale".concat(b0(a));return{scale:(vI[c]||Qh)(),realScaleType:vI[c]?c:"point"}}return ht(a)?{scale:a}:{scale:Qh(),realScaleType:"point"}},kI=1e-4,hq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-kI,o=Math.max(a[0],a[1])+kI,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},L2e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},F2e=function(t,r){if(!r||r.length!==2||!Pe(r[0])||!Pe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(i[0]=n),(!Pe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},U2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=rg(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},B2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=rg(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},V2e={sign:U2e,expand:oge,none:Fd,silhouette:lge,wiggle:cge,positive:B2e},q2e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=V2e[n],o=ige().keys(a).value(function(l,c){return+$n(l,c,0)}).order(a_).offset(i);return o(t)},z2e=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ir(Ir({},h.type.defaultProps),h.props):h.props,m=y.stackId,w=y.hide;if(w)return f;var g=y[n],x=f[g]||{hasStack:!1,stackGroups:{}};if(ln(m)){var b=x.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[m]=b}else x.stackGroups[ng("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Ir(Ir({},f),{},sd({},g,x))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,w){var g=p.stackGroups[w];return Ir(Ir({},m),{},sd({},w,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:q2e(t,g.items,i)}))},y)}return Ir(Ir({},f),{},sd({},h,p))},d)},mq=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=s2e(u,i,l);return t.domain([$0(d),M0(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=a2e(f,i,l);return{niceTicks:h}}return null},CI=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=$n(o,r.dataKey,r.domain[l]);return Pt(c)?null:r.scale(c)-i/2+a},W2e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},K2e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ln(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},H2e=function(t){return t.reduce(function(r,n){return[$0(n.concat([r[0]]).filter(Pe)),M0(n.concat([r[1]]).filter(Pe))]},[1/0,-1/0])},pq=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=H2e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},PI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M_=function(t,r,n){if(ht(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Pe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(PI.test(t[0])){var i=+PI.exec(t[0])[1];a[0]=r[0]-i}else ht(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Pe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(EI.test(t[1])){var o=+EI.exec(t[1])[1];a[1]=r[1]+o}else ht(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},py=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=yC(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},AI=function(t,r,n){return!t||!t.length||D0(t,Ms(n,"type.defaultProps.domain"))?r:t},gq=function(t,r){var n=t.type.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ir(Ir({},dt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:WC(t),value:$n(r,a),type:c,payload:r,chartType:u,hide:d})};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function OI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(r),!0).forEach(function(n){xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xq(e,t,r){return t=G2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G2e(e){var t=Q2e(e,"string");return rp(t)=="symbol"?t:t+""}function Q2e(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y2e(e,t){return eCe(e)||Z2e(e,t)||J2e(e,t)||X2e()}function X2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J2e(e,t){if(e){if(typeof e=="string")return TI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TI(e,t)}}function TI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function eCe(e){if(Array.isArray(e))return e}var gy=Math.PI/180,tCe=function(t){return t*180/Math.PI},fr=function(t,r,n,a){return{x:t+Math.cos(-gy*a)*n,y:r+Math.sin(-gy*a)*n}},vq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},rCe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Gn(t.cx,o,o/2),f=Gn(t.cy,l,l/2),h=vq(o,l,n),p=Gn(t.innerRadius,h,0),y=Gn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(w,g){var x=r[g],b=x.domain,j=x.reversed,_;if(Pt(x.range))a==="angleAxis"?_=[c,u]:a==="radiusAxis"&&(_=[p,y]),j&&(_=[_[1],_[0]]);else{_=x.range;var N=_,S=Y2e(N,2);c=S[0],u=S[1]}var C=fq(x,i),P=C.realScaleType,k=C.scale;k.domain(b).range(_),hq(k);var E=mq(k,Ni(Ni({},x),{},{realScaleType:P})),T=Ni(Ni(Ni({},x),E),{},{range:_,radius:y,realScaleType:P,scale:k,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Ni(Ni({},w),{},xq({},g,T))},{})},nCe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},sCe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=nCe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:tCe(u),angleInRadian:u}},aCe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},iCe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},II=function(t,r){var n=t.x,a=t.y,i=sCe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=aCe(r),f=d.startAngle,h=d.endAngle,p=l,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?Ni(Ni({},r),{},{radius:o,angle:iCe(p,r)}):null},yq=function(t){return!v.isValidElement(t)&&!ht(t)&&typeof t!="boolean"?t.className:""};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}var oCe=["offset"];function lCe(e){return fCe(e)||dCe(e)||uCe(e)||cCe()}function cCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uCe(e,t){if(e){if(typeof e=="string")return $_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $_(e,t)}}function dCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fCe(e){if(Array.isArray(e))return $_(e)}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hCe(e,t){if(e==null)return{};var r=mCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){pCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pCe(e,t,r){return t=gCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gCe(e){var t=xCe(e,"string");return np(t)=="symbol"?t:t+""}function xCe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sp.apply(this,arguments)}var vCe=function(t){var r=t.value,n=t.formatter,a=Pt(t.children)?r:t.children;return ht(n)?n(a):a},yCe=function(t,r){var n=Hn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},bCe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,w=(f+h)/2,g=yCe(p,y),x=g>=0?1:-1,b,j;a==="insideStart"?(b=p+x*o,j=m):a==="insideEnd"?(b=y-x*o,j=!m):a==="end"&&(b=y+x*o,j=m),j=g<=0?j:!j;var _=fr(u,d,w,b),N=fr(u,d,w,b+(j?1:-1)*359),S="M".concat(_.x,",").concat(_.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),C=Pt(t.id)?ng("recharts-radial-line-"):t.id;return L.createElement("text",sp({},n,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:C,d:S})),L.createElement("textPath",{xlinkHref:"#".concat(C)},r))},wCe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=fr(o,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,g=fr(o,l,w,h),x=g.x,b=g.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},jCe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,w=m*a,g=m>0?"end":"start",x=m>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return tn(tn({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return tn(tn({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var _={x:l-w,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return tn(tn({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+w,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return tn(tn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?tn({x:l+w,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):i==="insideRight"?tn({x:l+u-w,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideTop"?tn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},S):i==="insideBottom"?tn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?tn({x:l+w,y:c+h,textAnchor:x,verticalAnchor:y},S):i==="insideTopRight"?tn({x:l+u-w,y:c+h,textAnchor:g,verticalAnchor:y},S):i==="insideBottomLeft"?tn({x:l+w,y:c+d-h,textAnchor:x,verticalAnchor:p},S):i==="insideBottomRight"?tn({x:l+u-w,y:c+d-h,textAnchor:g,verticalAnchor:p},S):Af(i)&&(Pe(i.x)||zl(i.x))&&(Pe(i.y)||zl(i.y))?tn({x:l+Gn(i.x,u),y:c+Gn(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):tn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},NCe=function(t){return"cx"in t&&Pe(t.cx)};function xn(e){var t=e.offset,r=t===void 0?5:t,n=hCe(e,oCe),a=tn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Pt(l)&&Pt(c)&&!v.isValidElement(u)&&!ht(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var p;if(ht(u)){if(p=v.createElement(u,a),v.isValidElement(p))return p}else p=vCe(a);var y=NCe(i),m=dt(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return bCe(a,p,m);var w=y?wCe(a):jCe(a);return L.createElement(Pc,sp({className:yt("recharts-label",f)},m,w,{breakAll:h}),p)}xn.displayName="Label";var bq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,y=t.left,m=t.width,w=t.height,g=t.clockWise,x=t.labelViewBox;if(x)return x;if(Pe(m)&&Pe(w)){if(Pe(f)&&Pe(h))return{x:f,y:h,width:m,height:w};if(Pe(p)&&Pe(y))return{x:p,y,width:m,height:w}}return Pe(f)&&Pe(h)?{x:f,y:h,width:0,height:0}:Pe(r)&&Pe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},_Ce=function(t,r){return t?t===!0?L.createElement(xn,{key:"label-implicit",viewBox:r}):ln(t)?L.createElement(xn,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===xn?v.cloneElement(t,{key:"label-implicit",viewBox:r}):L.createElement(xn,{key:"label-implicit",content:t,viewBox:r}):ht(t)?L.createElement(xn,{key:"label-implicit",content:t,viewBox:r}):Af(t)?L.createElement(xn,sp({viewBox:r},t,{key:"label-implicit"})):null:null},SCe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=bq(t),o=aa(a,xn).map(function(c,u){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=_Ce(t.label,r||i);return[l].concat(lCe(o))};xn.parseViewBox=bq;xn.renderCallByParent=SCe;function kCe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var CCe=kCe;const PCe=Yt(CCe);function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}var ECe=["valueAccessor"],ACe=["data","dataKey","clockWise","id","textBreakAll"];function OCe(e){return MCe(e)||RCe(e)||ICe(e)||TCe()}function TCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ICe(e,t){if(e){if(typeof e=="string")return D_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D_(e,t)}}function RCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MCe(e){if(Array.isArray(e))return D_(e)}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(n){$Ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ce(e,t,r){return t=DCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DCe(e){var t=LCe(e,"string");return ap(t)=="symbol"?t:t+""}function LCe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DI(e,t){if(e==null)return{};var r=FCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UCe=function(t){return Array.isArray(t.value)?PCe(t.value):t.value};function Qo(e){var t=e.valueAccessor,r=t===void 0?UCe:t,n=DI(e,ECe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=DI(n,ACe);return!a||!a.length?null:L.createElement(Zt,{className:"recharts-label-list"},a.map(function(d,f){var h=Pt(i)?r(d,f):$n(d&&d.payload,i),p=Pt(l)?{}:{id:"".concat(l,"-").concat(f)};return L.createElement(xn,xy({},dt(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:xn.parseViewBox(Pt(o)?d:$I($I({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Qo.displayName="LabelList";function BCe(e,t){return e?e===!0?L.createElement(Qo,{key:"labelList-implicit",data:t}):L.isValidElement(e)||ht(e)?L.createElement(Qo,{key:"labelList-implicit",data:t,content:e}):Af(e)?L.createElement(Qo,xy({data:t},e,{key:"labelList-implicit"})):null:null}function VCe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=aa(n,Qo).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=BCe(e.label,t);return[i].concat(OCe(a))}Qo.renderCallByParent=VCe;function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(this,arguments)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){qCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qCe(e,t,r){return t=zCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zCe(e){var t=WCe(e,"string");return ip(t)=="symbol"?t:t+""}function WCe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KCe=function(t,r){var n=Hn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},lx=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/gy,h=u?i:i+o*f,p=fr(r,n,d,h),y=fr(r,n,a,h),m=u?i-o*f:i,w=fr(r,n,d*Math.cos(f*gy),m);return{center:p,circleTangency:y,lineTangency:w,theta:f}},wq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=KCe(o,l),u=o+c,d=fr(r,n,i,o),f=fr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=fr(r,n,a,o),y=fr(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},HCe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Hn(d-u),h=lx({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,w=lx({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=w.circleTangency,x=w.lineTangency,b=w.theta,j=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(j<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):wq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var _="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var N=lx({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,C=N.lineTangency,P=N.theta,k=lx({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=k.circleTangency,T=k.lineTangency,I=k.theta,R=c?Math.abs(u-d):Math.abs(u-d)-P-I;if(R<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},GCe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jq=function(t){var r=FI(FI({},GCe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=yt("recharts-sector",h),y=o-i,m=Gn(l,y,0,!0),w;return m>0&&Math.abs(d-f)<360?w=HCe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):w=wq({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),L.createElement("path",L_({},dt(r,!0),{className:p,d:w,role:"img"}))};function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F_.apply(this,arguments)}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){QCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QCe(e,t,r){return t=YCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YCe(e){var t=XCe(e,"string");return op(t)=="symbol"?t:t+""}function XCe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VI={curveBasisClosed:Qpe,curveBasisOpen:Ype,curveBasis:Gpe,curveBumpX:Rpe,curveBumpY:Mpe,curveLinearClosed:Xpe,curveLinear:j0,curveMonotoneX:Jpe,curveMonotoneY:Zpe,curveNatural:ege,curveStep:tge,curveStepAfter:nge,curveStepBefore:rge},cx=function(t){return t.x===+t.x&&t.y===+t.y},hh=function(t){return t.x},mh=function(t){return t.y},JCe=function(t,r){if(ht(t))return t;var n="curve".concat(b0(t));return(n==="curveMonotone"||n==="curveBump")&&r?VI["".concat(n).concat(r==="vertical"?"Y":"X")]:VI[n]||j0},ZCe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=JCe(n,l),f=u?i.filter(function(m){return cx(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return cx(m)}):o,y=f.map(function(m,w){return BI(BI({},m),{},{base:p[w]})});return l==="vertical"?h=Zg().y(mh).x1(hh).x0(function(m){return m.base.x}):h=Zg().x(hh).y1(mh).y0(function(m){return m.base.y}),h.defined(cx).curve(d),h(y)}return l==="vertical"&&Pe(o)?h=Zg().y(mh).x1(hh).x0(o):Pe(o)?h=Zg().x(hh).y1(mh).y0(o):h=gB().x(hh).y(mh),h.defined(cx).curve(d),h(f)},U_=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?ZCe(t):a;return v.createElement("path",F_({},dt(t,!1),Vv(t),{className:yt("recharts-curve",r),d:o,ref:i}))},Nq={exports:{}},ePe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tPe=ePe,rPe=tPe;function _q(){}function Sq(){}Sq.resetWarningCache=_q;var nPe=function(){function e(n,a,i,o,l,c){if(c!==rPe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Sq,resetWarningCache:_q};return r.PropTypes=r,r};Nq.exports=nPe();var sPe=Nq.exports;const zt=Yt(sPe),{getOwnPropertyNames:aPe,getOwnPropertySymbols:iPe}=Object,{hasOwnProperty:oPe}=Object.prototype;function Oj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function ux(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function lPe(e){return e!=null?e[Symbol.toStringTag]:void 0}function qI(e){return aPe(e).concat(iPe(e))}const cPe=Object.hasOwn||((e,t)=>oPe.call(e,t));function Vc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const uPe="__v",dPe="__o",fPe="_owner",{getOwnPropertyDescriptor:zI,keys:WI}=Object;function hPe(e,t){return e.byteLength===t.byteLength&&vy(new Uint8Array(e),new Uint8Array(t))}function mPe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function pPe(e,t){return e.byteLength===t.byteLength&&vy(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function gPe(e,t){return Vc(e.getTime(),t.getTime())}function xPe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function vPe(e,t){return e===t}function KI(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const yPe=Vc;function bPe(e,t,r){const n=WI(e);let a=n.length;if(WI(t).length!==a)return!1;for(;a-- >0;)if(!kq(e,t,r,n[a]))return!1;return!0}function ph(e,t,r){const n=qI(e);let a=n.length;if(qI(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!kq(e,t,r,i)||(o=zI(e,i),l=zI(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function wPe(e,t){return Vc(e.valueOf(),t.valueOf())}function jPe(e,t){return e.source===t.source&&e.flags===t.flags}function HI(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function vy(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function NPe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function kq(e,t,r,n){return(n===fPe||n===dPe||n===uPe)&&(e.$$typeof||t.$$typeof)?!0:cPe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const _Pe="[object ArrayBuffer]",SPe="[object Arguments]",kPe="[object Boolean]",CPe="[object DataView]",PPe="[object Date]",EPe="[object Error]",APe="[object Map]",OPe="[object Number]",TPe="[object Object]",IPe="[object RegExp]",RPe="[object Set]",MPe="[object String]",$Pe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},DPe="[object URL]",LPe=Object.prototype.toString;function FPe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:y}){return function(w,g,x){if(w===g)return!0;if(w==null||g==null)return!1;const b=typeof w;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?l(w,g,x):b==="function"?i(w,g,x):!1;const j=w.constructor;if(j!==g.constructor)return!1;if(j===Object)return c(w,g,x);if(Array.isArray(w))return t(w,g,x);if(j===Date)return n(w,g,x);if(j===RegExp)return d(w,g,x);if(j===Map)return o(w,g,x);if(j===Set)return f(w,g,x);const _=LPe.call(w);if(_===PPe)return n(w,g,x);if(_===IPe)return d(w,g,x);if(_===APe)return o(w,g,x);if(_===RPe)return f(w,g,x);if(_===TPe)return typeof w.then!="function"&&typeof g.then!="function"&&c(w,g,x);if(_===DPe)return p(w,g,x);if(_===EPe)return a(w,g,x);if(_===SPe)return c(w,g,x);if($Pe[_])return h(w,g,x);if(_===_Pe)return e(w,g,x);if(_===CPe)return r(w,g,x);if(_===kPe||_===OPe||_===MPe)return u(w,g,x);if(y){let N=y[_];if(!N){const S=lPe(w);S&&(N=y[S])}if(N)return N(w,g,x)}return!1}}function UPe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:hPe,areArraysEqual:r?ph:mPe,areDataViewsEqual:pPe,areDatesEqual:gPe,areErrorsEqual:xPe,areFunctionsEqual:vPe,areMapsEqual:r?Oj(KI,ph):KI,areNumbersEqual:yPe,areObjectsEqual:r?ph:bPe,arePrimitiveWrappersEqual:wPe,areRegExpsEqual:jPe,areSetsEqual:r?Oj(HI,ph):HI,areTypedArraysEqual:r?Oj(vy,ph):vy,areUrlsEqual:NPe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=ux(n.areArraysEqual),i=ux(n.areMapsEqual),o=ux(n.areObjectsEqual),l=ux(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function BPe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function VPe({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const qPe=xl();xl({strict:!0});xl({circular:!0});xl({circular:!0,strict:!0});xl({createInternalComparator:()=>Vc});xl({strict:!0,createInternalComparator:()=>Vc});xl({circular:!0,createInternalComparator:()=>Vc});xl({circular:!0,createInternalComparator:()=>Vc,strict:!0});function xl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=UPe(e),o=FPe(i),l=r?r(o):BPe(o);return VPe({circular:t,comparator:o,createState:n,equals:l,strict:a})}function zPe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function GI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):zPe(a)};requestAnimationFrame(n)}function B_(e){"@babel/helpers - typeof";return B_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B_(e)}function WPe(e){return QPe(e)||GPe(e)||HPe(e)||KPe()}function KPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HPe(e,t){if(e){if(typeof e=="string")return QI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QI(e,t)}}function QI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QPe(e){if(Array.isArray(e))return e}function YPe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=WPe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){GI(a.bind(null,u),c);return}a(c),GI(a.bind(null,u));return}B_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function YI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(r),!0).forEach(function(n){Cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cq(e,t,r){return t=XPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XPe(e){var t=JPe(e,"string");return lp(t)==="symbol"?t:String(t)}function JPe(e,t){if(lp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZPe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},eEe=function(t){return t},tEe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Xh=function(t,r){return Object.keys(r).reduce(function(n,a){return XI(XI({},n),{},Cq({},a,t(a,r[a])))},{})},JI=function(t,r,n){return t.map(function(a){return"".concat(tEe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function rEe(e,t){return aEe(e)||sEe(e,t)||Pq(e,t)||nEe()}function nEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aEe(e){if(Array.isArray(e))return e}function iEe(e){return cEe(e)||lEe(e)||Pq(e)||oEe()}function oEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pq(e,t){if(e){if(typeof e=="string")return V_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V_(e,t)}}function lEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cEe(e){if(Array.isArray(e))return V_(e)}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yy=1e-4,Eq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Aq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},ZI=function(t,r){return function(n){var a=Eq(t,r);return Aq(a,n)}},uEe=function(t,r){return function(n){var a=Eq(t,r),i=[].concat(iEe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Aq(i,n)}},eR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=rEe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=ZI(a,o),h=ZI(i,l),p=uEe(a,o),y=function(g){return g>1?1:g<0?0:g},m=function(g){for(var x=g>1?1:g,b=x,j=0;j<8;++j){var _=f(b)-x,N=p(b);if(Math.abs(_-x)<yy||N<yy)return h(b);b=y(b-_/N)}return h(b)};return m.isStepper=!1,m},dEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,y=h*i,m=h+(p-y)*l/1e3,w=h*l/1e3+d;return Math.abs(w-f)<yy&&Math.abs(m)<yy?[f,0]:[w,m]};return c.isStepper=!0,c.dt=l,c},fEe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eR(a);case"spring":return dEe();default:if(a.split("(")[0]==="cubic-bezier")return eR(a)}return typeof a=="function"?a:null};function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function tR(e){return pEe(e)||mEe(e)||Oq(e)||hEe()}function hEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pEe(e){if(Array.isArray(e))return z_(e)}function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(n){q_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q_(e,t,r){return t=gEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gEe(e){var t=xEe(e,"string");return cp(t)==="symbol"?t:String(t)}function xEe(e,t){if(cp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vEe(e,t){return wEe(e)||bEe(e,t)||Oq(e,t)||yEe()}function yEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(e,t){if(e){if(typeof e=="string")return z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z_(e,t)}}function z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wEe(e){if(Array.isArray(e))return e}var by=function(t,r,n){return t+(r-t)*n},W_=function(t){var r=t.from,n=t.to;return r!==n},jEe=function e(t,r,n){var a=Xh(function(i,o){if(W_(o)){var l=t(o.from,o.to,o.velocity),c=vEe(l,2),u=c[0],d=c[1];return _n(_n({},o),{},{from:u,velocity:d})}return o},r);return n<1?Xh(function(i,o){return W_(o)?_n(_n({},o),{},{velocity:by(o.velocity,a[i].velocity,n),from:by(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const NEe=function(e,t,r,n,a){var i=ZPe(e,t),o=i.reduce(function(w,g){return _n(_n({},w),{},q_({},g,[e[g],t[g]]))},{}),l=i.reduce(function(w,g){return _n(_n({},w),{},q_({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Xh(function(g,x){return x.from},l)},p=function(){return!Object.values(l).filter(W_).length},y=function(g){u||(u=g);var x=g-u,b=x/r.dt;l=jEe(r,l,b),a(_n(_n(_n({},e),t),h())),u=g,p()||(c=requestAnimationFrame(f))},m=function(g){d||(d=g);var x=(g-d)/n,b=Xh(function(_,N){return by.apply(void 0,tR(N).concat([r(x)]))},o);if(a(_n(_n(_n({},e),t),b)),x<1)c=requestAnimationFrame(f);else{var j=Xh(function(_,N){return by.apply(void 0,tR(N).concat([r(1)]))},o);a(_n(_n(_n({},e),t),j))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}var _Ee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function SEe(e,t){if(e==null)return{};var r=kEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kEe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Tj(e){return AEe(e)||EEe(e)||PEe(e)||CEe()}function CEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PEe(e,t){if(e){if(typeof e=="string")return K_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K_(e,t)}}function EEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AEe(e){if(Array.isArray(e))return K_(e)}function K_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){Oh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oh(e,t,r){return t=Tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tq(n.key),n)}}function IEe(e,t,r){return t&&TEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tq(e){var t=REe(e,"string");return Gd(t)==="symbol"?t:String(t)}function REe(e,t){if(Gd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H_(e,t)}function H_(e,t){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H_(e,t)}function $Ee(e){var t=DEe();return function(){var n=wy(e),a;if(t){var i=wy(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return G_(this,a)}}function G_(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q_(e)}function Q_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wy(e)}var Xi=function(e){MEe(r,e);var t=$Ee(r);function r(n,a){var i;OEe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Q_(i)),i.changeStyle=i.changeStyle.bind(Q_(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),G_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},G_(i);i.state={style:c?Oh({},c,u):u}}else i.state={style:{}};return i}return IEe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Oh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(qPe(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:a.to;if(this.state&&h){var w={style:c?Oh({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(w)}this.runAnimation(ya(ya({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=NEe(o,l,fEe(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,w,g){if(g===0)return m;var x=w.duration,b=w.easing,j=b===void 0?"ease":b,_=w.style,N=w.properties,S=w.onAnimationEnd,C=g>0?o[g-1]:w,P=N||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(Tj(m),[i.runJSAnimation.bind(i,{from:C.style,to:_,duration:x,easing:j}),x]);var k=JI(P,x,j),E=ya(ya(ya({},C.style),_),{},{transition:k});return[].concat(Tj(m),[E,x,S]).filter(eEe)};return this.manager.start([c].concat(Tj(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=YPe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?Oh({},l,c):c,w=JI(Object.keys(m),o,u);y.start([d,i,ya(ya({},m),{},{transition:w}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=SEe(a,_Ee),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var y=p.props,m=y.style,w=m===void 0?{}:m,g=y.className,x=v.cloneElement(p,ya(ya({},c),{},{style:ya(ya({},w),d),className:g}));return x};return u===1?f(v.Children.only(i)):L.createElement("div",null,v.Children.map(i,function(h){return f(h)}))}}]),r}(v.PureComponent);Xi.displayName="Animate";Xi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xi.propTypes={from:zt.oneOfType([zt.object,zt.string]),to:zt.oneOfType([zt.object,zt.string]),attributeName:zt.string,duration:zt.number,begin:zt.number,easing:zt.oneOfType([zt.string,zt.func]),steps:zt.arrayOf(zt.shape({duration:zt.number.isRequired,style:zt.object.isRequired,easing:zt.oneOfType([zt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zt.func]),properties:zt.arrayOf("string"),onAnimationEnd:zt.func})),children:zt.oneOfType([zt.node,zt.func]),isActive:zt.bool,canBegin:zt.bool,onAnimationEnd:zt.func,shouldReAnimate:zt.bool,onAnimationStart:zt.func,onAnimationReStart:zt.func};function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(this,arguments)}function LEe(e,t){return VEe(e)||BEe(e,t)||UEe(e,t)||FEe()}function FEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UEe(e,t){if(e){if(typeof e=="string")return sR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sR(e,t)}}function sR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function VEe(e){if(Array.isArray(e))return e}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){qEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qEe(e,t,r){return t=zEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zEe(e){var t=WEe(e,"string");return up(t)=="symbol"?t:t+""}function WEe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oR=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},KEe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},HEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KC=function(t){var r=iR(iR({},HEe),t),n=v.useRef(),a=v.useState(-1),i=LEe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,w=r.animationBegin,g=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=yt("recharts-rectangle",p);return x?L.createElement(Xi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:y,isActive:x},function(j){var _=j.width,N=j.height,S=j.x,C=j.y;return L.createElement(Xi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:m,isActive:g,easing:y},L.createElement("path",jy({},dt(r,!0),{className:b,d:oR(S,C,_,N,h),ref:n})))}):L.createElement("path",jy({},dt(r,!0),{className:b,d:oR(c,u,d,f,h)}))},GEe=["points","className","baseLinePoints","connectNulls"];function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(this,arguments)}function QEe(e,t){if(e==null)return{};var r=YEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lR(e){return eAe(e)||ZEe(e)||JEe(e)||XEe()}function XEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(e,t){if(e){if(typeof e=="string")return Y_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y_(e,t)}}function ZEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eAe(e){if(Array.isArray(e))return Y_(e)}function Y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cR=function(t){return t&&t.x===+t.x&&t.y===+t.y},tAe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){cR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),cR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Jh=function(t,r){var n=tAe(t);r&&(n=[n.reduce(function(i,o){return[].concat(lR(i),lR(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},rAe=function(t,r,n){var a=Jh(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Jh(r.reverse(),n).slice(1))},nAe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=QEe(t,GEe);if(!r||!r.length)return null;var l=yt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=rAe(r,a,i);return L.createElement("g",{className:l},L.createElement("path",qu({},dt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?L.createElement("path",qu({},dt(o,!0),{fill:"none",d:Jh(r,i)})):null,c?L.createElement("path",qu({},dt(o,!0),{fill:"none",d:Jh(a,i)})):null)}var d=Jh(r,i);return L.createElement("path",qu({},dt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X_.apply(this,arguments)}var HC=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=yt("recharts-dot",i);return r===+r&&n===+n&&a===+a?v.createElement("circle",X_({},dt(t,!1),Vv(t),{className:o,cx:r,cy:n,r:a})):null};function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}var sAe=["x","y","top","left","width","height","className"];function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J_.apply(this,arguments)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){iAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iAe(e,t,r){return t=oAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oAe(e){var t=lAe(e,"string");return dp(t)=="symbol"?t:t+""}function lAe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cAe(e,t){if(e==null)return{};var r=uAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dAe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},fAe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,y=t.className,m=cAe(t,sAe),w=aAe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!Pe(n)||!Pe(i)||!Pe(f)||!Pe(p)||!Pe(l)||!Pe(u)?null:L.createElement("path",J_({},dt(w,!0),{className:yt("recharts-cross",y),d:dAe(n,i,f,p,l,u)}))},hAe=R0,mAe=zV,pAe=pi;function gAe(e,t){return e&&e.length?hAe(e,pAe(t),mAe):void 0}var xAe=gAe;const vAe=Yt(xAe);var yAe=R0,bAe=pi,wAe=WV;function jAe(e,t){return e&&e.length?yAe(e,bAe(t),wAe):void 0}var NAe=jAe;const _Ae=Yt(NAe);var SAe=["cx","cy","angle","ticks","axisLine"],kAe=["ticks","tick","angle","tickFormatter","stroke"];function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zh.apply(this,arguments)}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){B0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fR(e,t){if(e==null)return{};var r=CAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rq(n.key),n)}}function EAe(e,t,r){return t&&hR(e.prototype,t),r&&hR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AAe(e,t,r){return t=Ny(t),OAe(e,Iq()?Reflect.construct(t,r||[],Ny(e).constructor):t.apply(e,r))}function OAe(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TAe(e)}function TAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iq=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(e)}function IAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z_(e,t)}function B0(e,t,r){return t=Rq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=RAe(e,"string");return Qd(t)=="symbol"?t:t+""}function RAe(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var V0=function(e){function t(){return PAe(this,t),AAe(this,t,arguments)}return IAe(t,e),EAe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return fr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=vAe(l,function(d){return d.coordinate||0}),u=_Ae(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=fR(n,SAe),d=l.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),f=fr(a,i,d[0],o),h=fr(a,i,d[1],o),p=kl(kl(kl({},dt(u,!1)),{},{fill:"none"},dt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",Zh({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=fR(a,kAe),f=this.getTickTextAnchor(),h=dt(d,!1),p=dt(o,!1),y=i.map(function(m,w){var g=n.getTickValueCoord(m),x=kl(kl(kl(kl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:w},g),{},{payload:m});return L.createElement(Zt,Zh({className:yt("recharts-polar-radius-axis-tick",yq(o)),key:"tick-".concat(m.coordinate)},Cc(n.props,m,w)),t.renderTickItem(o,x,c?c(m.value,w):m.value))});return L.createElement(Zt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:L.createElement(Zt,{className:yt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),xn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return L.isValidElement(n)?o=L.cloneElement(n,a):ht(n)?o=n(a):o=L.createElement(Pc,Zh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);B0(V0,"displayName","PolarRadiusAxis");B0(V0,"axisType","radiusAxis");B0(V0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dl.apply(this,arguments)}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(n){q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$q(n.key),n)}}function $Ae(e,t,r){return t&&pR(e.prototype,t),r&&pR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DAe(e,t,r){return t=_y(t),LAe(e,Mq()?Reflect.construct(t,r||[],_y(e).constructor):t.apply(e,r))}function LAe(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FAe(e)}function FAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!e})()}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_y(e)}function UAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}function eS(e,t){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eS(e,t)}function q0(e,t,r){return t=$q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=BAe(e,"string");return Yd(t)=="symbol"?t:t+""}function BAe(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VAe=Math.PI/180,gR=1e-5,z0=function(e){function t(){return MAe(this,t),DAe(this,t,arguments)}return UAe(t,e),$Ae(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=fr(i,o,l,n.coordinate),h=fr(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*VAe),o;return i>gR?o=a==="outer"?"start":"end":i<-gR?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Cl(Cl({},dt(this.props,!1)),{},{fill:"none"},dt(l,!1));if(c==="circle")return L.createElement(HC,Dl({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return fr(a,i,o,h.coordinate)});return L.createElement(nAe,Dl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=dt(this.props,!1),f=dt(o,!1),h=Cl(Cl({},d),{},{fill:"none"},dt(l,!1)),p=i.map(function(y,m){var w=n.getTickLineCoord(y),g=n.getTickTextAnchor(y),x=Cl(Cl(Cl({textAnchor:g},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:y,x:w.x2,y:w.y2});return L.createElement(Zt,Dl({className:yt("recharts-polar-angle-axis-tick",yq(o)),key:"tick-".concat(y.coordinate)},Cc(n.props,y,m)),l&&L.createElement("line",Dl({className:"recharts-polar-angle-axis-tick-line"},h,w)),o&&t.renderTickItem(o,x,c?c(y.value,m):y.value))});return L.createElement(Zt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:L.createElement(Zt,{className:yt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return L.isValidElement(n)?o=L.cloneElement(n,a):ht(n)?o=n(a):o=L.createElement(Pc,Dl({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);q0(z0,"displayName","PolarAngleAxis");q0(z0,"axisType","angleAxis");q0(z0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var qAe=UB,zAe=qAe(Object.getPrototypeOf,Object),WAe=zAe,KAe=ro,HAe=WAe,GAe=no,QAe="[object Object]",YAe=Function.prototype,XAe=Object.prototype,Dq=YAe.toString,JAe=XAe.hasOwnProperty,ZAe=Dq.call(Object);function eOe(e){if(!GAe(e)||KAe(e)!=QAe)return!1;var t=HAe(e);if(t===null)return!0;var r=JAe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Dq.call(r)==ZAe}var tOe=eOe;const rOe=Yt(tOe);var nOe=ro,sOe=no,aOe="[object Boolean]";function iOe(e){return e===!0||e===!1||sOe(e)&&nOe(e)==aOe}var oOe=iOe;const lOe=Yt(oOe);function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function cOe(e,t){return hOe(e)||fOe(e,t)||dOe(e,t)||uOe()}function uOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dOe(e,t){if(e){if(typeof e=="string")return xR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xR(e,t)}}function xR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function hOe(e){if(Array.isArray(e))return e}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){mOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mOe(e,t,r){return t=pOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pOe(e){var t=gOe(e,"string");return fp(t)=="symbol"?t:t+""}function gOe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bR=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},xOe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vOe=function(t){var r=yR(yR({},xOe),t),n=v.useRef(),a=v.useState(-1),i=cOe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,w=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=yt("recharts-trapezoid",p);return g?L.createElement(Xi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:g},function(b){var j=b.upperWidth,_=b.lowerWidth,N=b.height,S=b.x,C=b.y;return L.createElement(Xi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:m,easing:y},L.createElement("path",Sy({},dt(r,!0),{className:x,d:bR(S,C,j,_,N),ref:n})))}):L.createElement("g",null,L.createElement("path",Sy({},dt(r,!0),{className:x,d:bR(c,u,d,f,h)})))},yOe=["option","shapeType","propTransformer","activeClassName","isActive"];function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function bOe(e,t){if(e==null)return{};var r=wOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){jOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jOe(e,t,r){return t=NOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NOe(e){var t=_Oe(e,"string");return hp(t)=="symbol"?t:t+""}function _Oe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SOe(e,t){return ky(ky({},t),e)}function kOe(e,t){return e==="symbols"}function jR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return L.createElement(KC,r);case"trapezoid":return L.createElement(vOe,r);case"sector":return L.createElement(jq,r);case"symbols":if(kOe(t))return L.createElement(dC,r);break;default:return null}}function COe(e){return v.isValidElement(e)?e.props:e}function Lq(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?SOe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=bOe(e,yOe),u;if(v.isValidElement(t))u=v.cloneElement(t,ky(ky({},c),COe(t)));else if(ht(t))u=t(c);else if(rOe(t)&&!lOe(t)){var d=a(t,c);u=L.createElement(jR,{shapeType:r,elementProps:d})}else{var f=c;u=L.createElement(jR,{shapeType:r,elementProps:f})}return l?L.createElement(Zt,{className:o},u):u}function W0(e,t){return t!=null&&"trapezoids"in e.props}function K0(e,t){return t!=null&&"sectors"in e.props}function mp(e,t){return t!=null&&"points"in e.props}function POe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function EOe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function AOe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function OOe(e,t){var r;return W0(e,t)?r=POe:K0(e,t)?r=EOe:mp(e,t)&&(r=AOe),r}function TOe(e,t){var r;return W0(e,t)?r="trapezoids":K0(e,t)?r="sectors":mp(e,t)&&(r="points"),r}function IOe(e,t){if(W0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(K0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return mp(e,t)?t.payload:{}}function ROe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=TOe(r,t),i=IOe(r,t),o=n.filter(function(c,u){var d=D0(i,c),f=r.props[a].filter(function(y){var m=OOe(r,t);return m(y,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Ix;function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zu.apply(this,arguments)}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){Js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uq(n.key),n)}}function $Oe(e,t,r){return t&&_R(e.prototype,t),r&&_R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DOe(e,t,r){return t=Cy(t),LOe(e,Fq()?Reflect.construct(t,r||[],Cy(e).constructor):t.apply(e,r))}function LOe(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FOe(e)}function FOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fq=function(){return!!e})()}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(e)}function UOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tS(e,t)}function Js(e,t,r){return t=Uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=BOe(e,"string");return Xd(t)=="symbol"?t:t+""}function BOe(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ao=function(e){function t(r){var n;return MOe(this,t),n=DOe(this,t,[r]),Js(n,"pieRef",null),Js(n,"sectorRefs",[]),Js(n,"id",ng("recharts-pie-")),Js(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ht(a)&&a()}),Js(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ht(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return UOe(t,e),$Oe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=dt(this.props,!1),f=dt(o,!1),h=dt(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(m,w){var g=(m.startAngle+m.endAngle)/2,x=fr(m.cx,m.cy,m.outerRadius+p,g),b=cr(cr(cr(cr({},d),m),{},{stroke:"none"},f),{},{index:w,textAnchor:t.getTextAnchor(x.x,m.cx)},x),j=cr(cr(cr(cr({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:w,points:[fr(m.cx,m.cy,m.outerRadius,g),x]}),_=c;return Pt(c)&&Pt(u)?_="value":Pt(c)&&(_=u),L.createElement(Zt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(w)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,b,$n(m,_)))});return L.createElement(Zt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,y=cr(cr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return L.createElement(Zt,zu({ref:function(w){w&&!a.sectorRefs.includes(w)&&a.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Cc(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(Lq,zu({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return L.createElement(Xi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,w=[],g=i&&i[0],x=g.startAngle;return i.forEach(function(b,j){var _=h&&h[j],N=j>0?Ms(b,"paddingAngle",0):0;if(_){var S=yo(_.endAngle-_.startAngle,b.endAngle-b.startAngle),C=cr(cr({},b),{},{startAngle:x+N,endAngle:x+S(m)+N});w.push(C),x=C.endAngle}else{var P=b.endAngle,k=b.startAngle,E=yo(0,P-k),T=E(m),I=cr(cr({},b),{},{startAngle:x+N,endAngle:x+T+N});w.push(I),x=I.endAngle}}),L.createElement(Zt,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!D0(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!Pe(u)||!Pe(d)||!Pe(f)||!Pe(h))return null;var m=yt("recharts-pie",l);return L.createElement(Zt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),xn.renderCallByParent(this.props,null,!1),(!p||y)&&Qo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(L.isValidElement(n))return L.cloneElement(n,a);if(ht(n))return n(a);var o=yt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(U_,zu({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(L.isValidElement(n))return L.cloneElement(n,a);var o=i;if(ht(n)&&(o=n(a),L.isValidElement(o)))return o;var l=yt("recharts-pie-label-text",typeof n!="boolean"&&!ht(n)?n.className:"");return L.createElement(Pc,zu({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);Ix=ao;Js(ao,"displayName","Pie");Js(ao,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Df.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Js(ao,"parseDeltaAngle",function(e,t){var r=Hn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Js(ao,"getRealPieData",function(e){var t=e.data,r=e.children,n=dt(e,!1),a=aa(r,C0);return t&&t.length?t.map(function(i,o){return cr(cr(cr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return cr(cr({},n),i.props)}):[]});Js(ao,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=vq(a,i),l=n+Gn(e.cx,a,a/2),c=r+Gn(e.cy,i,i/2),u=Gn(e.innerRadius,o,0),d=Gn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Js(ao,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?cr(cr({},t.type.defaultProps),t.props):t.props,a=Ix.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=Ix.parseCoordinateOfPie(n,r),m=Ix.parseDeltaAngle(o,l),w=Math.abs(m),g=u;Pt(u)&&Pt(f)?(Da(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):Pt(u)&&(Da(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=f);var x=a.filter(function(C){return $n(C,g,0)!==0}).length,b=(w>=360?x:x-1)*c,j=w-x*p-b,_=a.reduce(function(C,P){var k=$n(P,g,0);return C+(Pe(k)?k:0)},0),N;if(_>0){var S;N=a.map(function(C,P){var k=$n(C,g,0),E=$n(C,d,P),T=(Pe(k)?k:0)/_,I;P?I=S.endAngle+Hn(m)*c*(k!==0?1:0):I=o;var R=I+Hn(m)*((k!==0?p:0)+T*j),D=(I+R)/2,O=(y.innerRadius+y.outerRadius)/2,z=[{name:E,value:k,payload:C,dataKey:g,type:h}],A=fr(y.cx,y.cy,O,D);return S=cr(cr(cr({percent:T,cornerRadius:i,name:E,tooltipPayload:z,midAngle:D,middleRadius:O,tooltipPosition:A},C),y),{},{value:$n(C,g),startAngle:I,endAngle:R,payload:C,paddingAngle:Hn(m)*c}),S})}return cr(cr({},y),{},{sectors:N,data:a})});var VOe=Math.ceil,qOe=Math.max;function zOe(e,t,r,n){for(var a=-1,i=qOe(VOe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var WOe=zOe,KOe=aV,SR=1/0,HOe=17976931348623157e292;function GOe(e){if(!e)return e===0?e:0;if(e=KOe(e),e===SR||e===-SR){var t=e<0?-1:1;return t*HOe}return e===e?e:0}var Bq=GOe,QOe=WOe,YOe=k0,Ij=Bq;function XOe(e){return function(t,r,n){return n&&typeof n!="number"&&YOe(t,r,n)&&(r=n=void 0),t=Ij(t),r===void 0?(r=t,t=0):r=Ij(r),n=n===void 0?t<r?1:-1:Ij(n),QOe(t,r,n,e)}}var JOe=XOe,ZOe=JOe,eTe=ZOe(),tTe=eTe;const Py=Yt(tTe);function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){Vq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vq(e,t,r){return t=rTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rTe(e){var t=nTe(e,"string");return pp(t)=="symbol"?t:t+""}function nTe(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sTe=["Webkit","Moz","O","ms"],aTe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=sTe.reduce(function(i,o){return CR(CR({},i),{},Vq({},o+n,r))},{});return a[t]=r,a};function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){ws(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ER(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zq(n.key),n)}}function oTe(e,t,r){return t&&ER(e.prototype,t),r&&ER(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lTe(e,t,r){return t=Ay(t),cTe(e,qq()?Reflect.construct(t,r||[],Ay(e).constructor):t.apply(e,r))}function cTe(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uTe(e)}function uTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(e)}function dTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rS(e,t)}function rS(e,t){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rS(e,t)}function ws(e,t,r){return t=zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zq(e){var t=fTe(e,"string");return Jd(t)=="symbol"?t:t+""}function fTe(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hTe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Qh().domain(Py(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},AR=function(t){return t.changedTouches&&!!t.changedTouches.length},Zd=function(e){function t(r){var n;return iTe(this,t),n=lTe(this,t,[r]),ws(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ws(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ws(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ws(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ws(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ws(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ws(n,"handleSlideDragStart",function(a){var i=AR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return dTe(t,e),oTe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=$n(i[n],l,n);return ht(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var w=this.getIndex({startX:o+m,endX:l+m});(w.startIndex!==h||w.endIndex!==p)&&y&&y(w),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=AR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,m=d.gap,w=d.data,g={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),g[o]=u+x;var b=this.getIndex(g),j=b.startIndex,_=b.endIndex,N=function(){var C=w.length-1;return o==="startX"&&(l>c?j%m===0:_%m===0)||l<c&&_===C||o==="endX"&&(l>c?_%m===0:j%m===0)||l>c&&_===C};this.setState(ws(ws({},o,u+x),"brushMoveStartX",n.pageX),function(){y&&N()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ws({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?L.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,w=c.endIndex,g=Math.max(n,this.props.x),x=Rj(Rj({},dt(this.props,!1)),{},{x:g,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=y[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[w])===null||o===void 0?void 0:o.name);return L.createElement(Zt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return L.createElement(Zt,{className:"recharts-brush-texts"},L.createElement(Pc,Ey({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},y),this.getTextOfTick(a)),L.createElement(Pc,Ey({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,w=h.isSlideMoving,g=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!Pe(l)||!Pe(c)||!Pe(u)||!Pe(d)||u<=0||d<=0)return null;var b=yt("recharts-brush",i),j=L.Children.count(o)===1,_=aTe("userSelect","none");return L.createElement(Zt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||w||g||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return L.isValidElement(n)?i=L.cloneElement(n,a):ht(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Rj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?hTe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(v.PureComponent);ws(Zd,"displayName","Brush");ws(Zd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var mTe=vC;function pTe(e,t){var r;return mTe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var gTe=pTe,xTe=TB,vTe=pi,yTe=gTe,bTe=xs,wTe=k0;function jTe(e,t,r){var n=bTe(e)?xTe:yTe;return r&&wTe(e,t,r)&&(t=void 0),n(e,vTe(t))}var NTe=jTe;const _Te=Yt(NTe);var li=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},OR=eV;function STe(e,t,r){t=="__proto__"&&OR?OR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var kTe=STe,CTe=kTe,PTe=JB,ETe=pi;function ATe(e,t){var r={};return t=ETe(t),PTe(e,function(n,a,i){CTe(r,a,t(n,a,i))}),r}var OTe=ATe;const TTe=Yt(OTe);function ITe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var RTe=ITe,MTe=vC;function $Te(e,t){var r=!0;return MTe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var DTe=$Te,LTe=RTe,FTe=DTe,UTe=pi,BTe=xs,VTe=k0;function qTe(e,t,r){var n=BTe(e)?LTe:FTe;return r&&VTe(e,t,r)&&(t=void 0),n(e,UTe(t))}var zTe=qTe;const Wq=Yt(zTe);var WTe=["x","y"];function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nS.apply(this,arguments)}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){KTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KTe(e,t,r){return t=HTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HTe(e){var t=GTe(e,"string");return gp(t)=="symbol"?t:t+""}function GTe(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QTe(e,t){if(e==null)return{};var r=YTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XTe(e,t){var r=e.x,n=e.y,a=QTe(e,WTe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return gh(gh(gh(gh(gh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function IR(e){return L.createElement(Lq,nS({shapeType:"rectangle",propTransformer:XTe,activeClassName:"recharts-active-bar"},e))}var JTe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Pe(n)||bme(n);return i?t(n,a):(i||Ac(),r)}},ZTe=["value","background"],Kq;function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function e4e(e,t){if(e==null)return{};var r=t4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(this,arguments)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){$o(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gq(n.key),n)}}function n4e(e,t,r){return t&&MR(e.prototype,t),r&&MR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s4e(e,t,r){return t=Ty(t),a4e(e,Hq()?Reflect.construct(t,r||[],Ty(e).constructor):t.apply(e,r))}function a4e(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i4e(e)}function i4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hq=function(){return!!e})()}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ty(e)}function o4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sS(e,t)}function $o(e,t,r){return t=Gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){var t=l4e(e,"string");return ef(t)=="symbol"?t:t+""}function l4e(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qc=function(e){function t(){var r;r4e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=s4e(this,t,[].concat(a)),$o(r,"state",{isAnimationFinished:!1}),$o(r,"id",ng("recharts-bar-")),$o(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),$o(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return o4e(t,e),n4e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=dt(this.props,!1);return n&&n.map(function(f,h){var p=h===c,y=p?u:o,m=zr(zr(zr({},d),f),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return L.createElement(Zt,Oy({className:"recharts-bar-rectangle"},Cc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),L.createElement(IR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return L.createElement(Xi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=i.map(function(w,g){var x=h&&h[g];if(x){var b=yo(x.x,w.x),j=yo(x.y,w.y),_=yo(x.width,w.width),N=yo(x.height,w.height);return zr(zr({},w),{},{x:b(y),y:j(y),width:_(y),height:N(y)})}if(o==="horizontal"){var S=yo(0,w.height),C=S(y);return zr(zr({},w),{},{y:w.y+w.height-C,height:C})}var P=yo(0,w.width),k=P(y);return zr(zr({},w),{},{width:k})});return L.createElement(Zt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!D0(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=dt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=e4e(u,ZTe);if(!f)return null;var p=zr(zr(zr(zr(zr({},h),{},{fill:"#eee"},f),c),Cc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(IR,Oy({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=aa(d,U0);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(w,g){var x=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:x,errorVal:$n(w,g)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return L.createElement(Zt,y,f.map(function(m){return L.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(a||!i||!i.length)return null;var w=this.state.isAnimationFinished,g=yt("recharts-bar",o),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,j=x||b,_=Pt(m)?this.id:m;return L.createElement(Zt,{className:g},x||b?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(_)},L.createElement("rect",{x:x?u:u-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,L.createElement(Zt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!p||w)&&Qo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(v.PureComponent);Kq=qc;$o(qc,"displayName","Bar");$o(qc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Df.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$o(qc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=L2e(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,w=m!==void 0?zr(zr({},m),r.props):r.props,g=w.dataKey,x=w.children,b=w.minPointSize,j=y==="horizontal"?o:i,_=u?j.scale.domain():null,N=W2e({numericAxis:j}),S=aa(x,C0),C=f.map(function(P,k){var E,T,I,R,D,O;u?E=F2e(u[d+k],_):(E=$n(P,g),Array.isArray(E)||(E=[N,E]));var z=JTe(b,Kq.defaultProps.minPointSize)(E[1],k);if(y==="horizontal"){var A,$=[o.scale(E[0]),o.scale(E[1])],Q=$[0],X=$[1];T=CI({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:k}),I=(A=X??Q)!==null&&A!==void 0?A:void 0,R=p.size;var F=Q-X;if(D=Number.isNaN(F)?0:F,O={x:T,y:o.y,width:R,height:o.height},Math.abs(z)>0&&Math.abs(D)<Math.abs(z)){var J=Hn(D||z)*(Math.abs(z)-Math.abs(D));I-=J,D+=J}}else{var q=[i.scale(E[0]),i.scale(E[1])],ee=q[0],pe=q[1];if(T=ee,I=CI({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:k}),R=pe-ee,D=p.size,O={x:i.x,y:I,width:i.width,height:D},Math.abs(z)>0&&Math.abs(R)<Math.abs(z)){var te=Hn(R||z)*(Math.abs(z)-Math.abs(R));R+=te}}return zr(zr(zr({},P),{},{x:T,y:I,width:R,height:D,value:u?E:E[1],payload:P,background:O},S&&S[k]&&S[k].props),{},{tooltipPayload:[gq(r,P)],tooltipPosition:{x:T+R/2,y:I+D/2}})});return zr({data:C,layout:y},h)});function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function c4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qq(n.key),n)}}function u4e(e,t,r){return t&&$R(e.prototype,t),r&&$R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){H0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H0(e,t,r){return t=Qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=d4e(e,"string");return xp(t)=="symbol"?t:t+""}function d4e(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f4e=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ns(u,qc);return d.reduce(function(p,y){var m=r[y],w=m.orientation,g=m.domain,x=m.padding,b=x===void 0?{}:x,j=m.mirror,_=m.reversed,N="".concat(w).concat(j?"Mirror":""),S,C,P,k,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var T=g[1]-g[0],I=1/0,R=m.categoricalDomain.sort(Nme);if(R.forEach(function(q,ee){ee>0&&(I=Math.min((q||0)-(R[ee-1]||0),I))}),Number.isFinite(I)){var D=I/T,O=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=D*O/2),m.padding==="no-gap"){var z=Gn(t.barCategoryGap,D*O),A=D*O/2;S=A-z-(A-z)/O*z}}}a==="xAxis"?C=[n.left+(b.left||0)+(S||0),n.left+n.width-(b.right||0)-(S||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(S||0),n.top+n.height-(b.bottom||0)-(S||0)]:C=m.range,_&&(C=[C[1],C[0]]);var $=fq(m,i,h),Q=$.scale,X=$.realScaleType;Q.domain(g).range(C),hq(Q);var F=mq(Q,Ea(Ea({},m),{},{realScaleType:X}));a==="xAxis"?(E=w==="top"&&!j||w==="bottom"&&j,P=n.left,k=f[N]-E*m.height):a==="yAxis"&&(E=w==="left"&&!j||w==="right"&&j,P=f[N]-E*m.width,k=n.top);var J=Ea(Ea(Ea({},m),F),{},{realScaleType:X,x:P,y:k,scale:Q,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return J.bandSize=py(J,F),!m.hide&&a==="xAxis"?f[N]+=(E?-1:1)*J.height:m.hide||(f[N]+=(E?-1:1)*J.width),Ea(Ea({},p),{},H0({},y,J))},{})},Yq=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},h4e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Yq({x:r,y:n},{x:a,y:i})},Xq=function(){function e(t){c4e(this,e),this.scale=t}return u4e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();H0(Xq,"EPS",1e-4);var GC=function(t){var r=Object.keys(t).reduce(function(n,a){return Ea(Ea({},n),{},H0({},a,Xq.create(t[a])))},{});return Ea(Ea({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return TTe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Wq(a,function(i,o){return r[o].isInRange(i)})}})};function m4e(e){return(e%180+180)%180}var p4e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=m4e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},g4e=pi,x4e=sg,v4e=_0;function y4e(e){return function(t,r,n){var a=Object(t);if(!x4e(t)){var i=g4e(r);t=v4e(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var b4e=y4e,w4e=Bq;function j4e(e){var t=w4e(e),r=t%1;return t===t?r?t-r:t:0}var N4e=j4e,_4e=KB,S4e=pi,k4e=N4e,C4e=Math.max;function P4e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:k4e(r);return a<0&&(a=C4e(n+a,0)),_4e(e,S4e(t),a)}var E4e=P4e,A4e=b4e,O4e=E4e,T4e=A4e(O4e),I4e=T4e;const R4e=Yt(I4e);var M4e=khe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),QC=v.createContext(void 0),YC=v.createContext(void 0),Jq=v.createContext(void 0),Zq=v.createContext({}),e9=v.createContext(void 0),t9=v.createContext(0),r9=v.createContext(0),LR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=M4e(i);return L.createElement(QC.Provider,{value:n},L.createElement(YC.Provider,{value:a},L.createElement(Zq.Provider,{value:i},L.createElement(Jq.Provider,{value:d},L.createElement(e9.Provider,{value:o},L.createElement(t9.Provider,{value:u},L.createElement(r9.Provider,{value:c},l)))))))},$4e=function(){return v.useContext(e9)},n9=function(t){var r=v.useContext(QC);r==null&&Ac();var n=r[t];return n==null&&Ac(),n},D4e=function(){var t=v.useContext(QC);return _o(t)},L4e=function(){var t=v.useContext(YC),r=R4e(t,function(n){return Wq(n.domain,Number.isFinite)});return r||_o(t)},s9=function(t){var r=v.useContext(YC);r==null&&Ac();var n=r[t];return n==null&&Ac(),n},F4e=function(){var t=v.useContext(Jq);return t},U4e=function(){return v.useContext(Zq)},XC=function(){return v.useContext(r9)},JC=function(){return v.useContext(t9)};function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function B4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i9(n.key),n)}}function q4e(e,t,r){return t&&V4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z4e(e,t,r){return t=Iy(t),W4e(e,a9()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function W4e(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K4e(e)}function K4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function H4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aS(e,t)}function aS(e,t){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aS(e,t)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){ZC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZC(e,t,r){return t=i9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=G4e(e,"string");return tf(t)=="symbol"?t:t+""}function G4e(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Q4e(e,t){return Z4e(e)||J4e(e,t)||X4e(e,t)||Y4e()}function Y4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X4e(e,t){if(e){if(typeof e=="string")return BR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BR(e,t)}}function BR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Z4e(e){if(Array.isArray(e))return e}function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iS.apply(this,arguments)}var eIe=function(t,r){var n;return L.isValidElement(t)?n=L.cloneElement(t,r):ht(t)?n=t(r):n=L.createElement("line",iS({},r,{className:"recharts-reference-line-line"})),n},tIe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var y=u.y,m=t.y.apply(y,{position:o});if(li(u,"discard")&&!t.y.isInRange(m))return null;var w=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?w.reverse():w}if(r){var g=u.x,x=t.x.apply(g,{position:o});if(li(u,"discard")&&!t.x.isInRange(x))return null;var b=[{x,y:f+p},{x,y:f}];return l==="top"?b.reverse():b}if(a){var j=u.segment,_=j.map(function(N){return t.apply(N,{position:o})});return li(u,"discard")&&_Te(_,function(N){return!t.isInRange(N)})?null:_}return null};function rIe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=$4e(),d=n9(a),f=s9(i),h=F4e();if(!u||!h)return null;Da(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=GC({x:d.scale,y:f.scale}),y=ln(t),m=ln(r),w=n&&n.length===2,g=tIe(p,y,m,w,h,e.position,d.orientation,f.orientation,e);if(!g)return null;var x=Q4e(g,2),b=x[0],j=b.x,_=b.y,N=x[1],S=N.x,C=N.y,P=li(e,"hidden")?"url(#".concat(u,")"):void 0,k=UR(UR({clipPath:P},dt(e,!0)),{},{x1:j,y1:_,x2:S,y2:C});return L.createElement(Zt,{className:yt("recharts-reference-line",l)},eIe(o,k),xn.renderCallByParent(e,h4e({x1:j,y1:_,x2:S,y2:C})))}var eP=function(e){function t(){return B4e(this,t),z4e(this,t,arguments)}return H4e(t,e),q4e(t,[{key:"render",value:function(){return L.createElement(rIe,this.props)}}])}(L.Component);ZC(eP,"displayName","ReferenceLine");ZC(eP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oS.apply(this,arguments)}function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){G0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l9(n.key),n)}}function aIe(e,t,r){return t&&sIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iIe(e,t,r){return t=Ry(t),oIe(e,o9()?Reflect.construct(t,r||[],Ry(e).constructor):t.apply(e,r))}function oIe(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lIe(e)}function lIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o9=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(e)}function cIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}function lS(e,t){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lS(e,t)}function G0(e,t,r){return t=l9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l9(e){var t=uIe(e,"string");return rf(t)=="symbol"?t:t+""}function uIe(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dIe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=GC({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return li(t,"discard")&&!o.isInRange(l)?null:l},Q0=function(e){function t(){return nIe(this,t),iIe(this,t,arguments)}return cIe(t,e),aIe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=ln(a),d=ln(i);if(Da(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=dIe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,m=y.shape,w=y.className,g=li(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=qR(qR({clipPath:g},dt(this.props,!0)),{},{cx:h,cy:p});return L.createElement(Zt,{className:yt("recharts-reference-dot",w)},t.renderDot(m,x),xn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(L.Component);G0(Q0,"displayName","ReferenceDot");G0(Q0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});G0(Q0,"renderDot",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):ht(e)?r=e(t):r=L.createElement(HC,oS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cS.apply(this,arguments)}function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){Y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u9(n.key),n)}}function mIe(e,t,r){return t&&hIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pIe(e,t,r){return t=My(t),gIe(e,c9()?Reflect.construct(t,r||[],My(e).constructor):t.apply(e,r))}function gIe(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xIe(e)}function xIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c9=function(){return!!e})()}function My(e){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},My(e)}function vIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uS(e,t)}function Y0(e,t,r){return t=u9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u9(e){var t=yIe(e,"string");return nf(t)=="symbol"?t:t+""}function yIe(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bIe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=GC({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return li(i,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:Yq(p,y)},X0=function(e){function t(){return fIe(this,t),pIe(this,t,arguments)}return vIe(t,e),mIe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Da(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ln(a),h=ln(i),p=ln(o),y=ln(l),m=this.props.shape;if(!f&&!h&&!p&&!y&&!m)return null;var w=bIe(f,h,p,y,this.props);if(!w&&!m)return null;var g=li(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(Zt,{className:yt("recharts-reference-area",c)},t.renderRect(m,WR(WR({clipPath:g},dt(this.props,!0)),w)),xn.renderCallByParent(this.props,w))}}])}(L.Component);Y0(X0,"displayName","ReferenceArea");Y0(X0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Y0(X0,"renderRect",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):ht(e)?r=e(t):r=L.createElement(KC,cS({},t,{className:"recharts-reference-area-rect"})),r});function d9(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function wIe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return p4e(n,r)}function jIe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function $y(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function NIe(e,t){return d9(e,t+1)}function _Ie(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:d9(n,u)};var m=c,w,g=function(){return w===void 0&&(w=r(y,m)),w},x=y.coordinate,b=c===0||$y(e,x,g,d,l);b||(c=0,d=o,u+=1),b&&(d=x+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function KR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(r),!0).forEach(function(n){SIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SIe(e,t,r){return t=kIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kIe(e){var t=CIe(e,"string");return vp(t)=="symbol"?t:t+""}function CIe(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PIe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var w=e*(p.coordinate+e*m()/2-c);i[h]=p=In(In({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else i[h]=p=In(In({},p),{},{tickCoord:p.coordinate});var g=$y(e,p.tickCoord,m,l,c);g&&(c=p.tickCoord-e*(m()/2+a),i[h]=In(In({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function EIe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=In(In({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=$y(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=In(In({},d),{},{isShow:!0}))}for(var y=i?l-1:l,m=function(x){var b=o[x],j,_=function(){return j===void 0&&(j=r(b,x)),j};if(x===0){var N=e*(b.coordinate-e*_()/2-c);o[x]=b=In(In({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else o[x]=b=In(In({},b),{},{tickCoord:b.coordinate});var S=$y(e,b.tickCoord,_,c,u);S&&(c=b.tickCoord+e*(_()/2+a),o[x]=In(In({},b),{},{isShow:!0}))},w=0;w<y;w++)m(w);return o}function tP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Pe(c)||Df.isSsr)return NIe(a,typeof c=="number"&&Pe(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?Gh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,j){var _=ht(u)?u(b.value,j):b.value;return p==="width"?wIe(Gh(_,{fontSize:t,letterSpacing:r}),y,f):Gh(_,{fontSize:t,letterSpacing:r})[p]},w=a.length>=2?Hn(a[1].coordinate-a[0].coordinate):1,g=jIe(i,w,p);return c==="equidistantPreserveStart"?_Ie(w,g,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=EIe(w,g,m,a,o,c==="preserveStartEnd"):h=PIe(w,g,m,a,o),h.filter(function(x){return x.isShow}))}var AIe=["viewBox"],OIe=["viewBox"],TIe=["ticks"];function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(this,arguments)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){rP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mj(e,t){if(e==null)return{};var r=IIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h9(n.key),n)}}function MIe(e,t,r){return t&&GR(e.prototype,t),r&&GR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ie(e,t,r){return t=Dy(t),DIe(e,f9()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function DIe(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LIe(e)}function LIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(e)}function FIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dS(e,t)}function rP(e,t,r){return t=h9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h9(e){var t=UIe(e,"string");return sf(t)=="symbol"?t:t+""}function UIe(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bf=function(e){function t(r){var n;return RIe(this,t),n=$Ie(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return FIe(t,e),MIe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Mj(n,AIe),l=this.props,c=l.viewBox,u=Mj(l,OIe);return!rd(i,c)||!rd(o,u)||!rd(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,y,m,w,g,x,b=f?-1:1,j=n.tickSize||d,_=Pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,w=o+ +!f*c,m=w-b*j,x=m-b*h,g=_;break;case"left":m=w=n.coordinate,y=i+ +!f*l,p=y-b*j,g=p-b*h,x=_;break;case"right":m=w=n.coordinate,y=i+ +f*l,p=y+b*j,g=p+b*h,x=_;break;default:p=y=n.coordinate,w=o+ +f*c,m=w+b*j,x=m+b*h,g=_;break}return{line:{x1:p,y1:m,x2:y,y2:w},tick:{x:g,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=en(en(en({},dt(this.props,!1)),dt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=en(en({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=en(en({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return L.createElement("line",Wu({},f,{className:yt("recharts-cartesian-axis-line",Ms(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=tP(en(en({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),w=dt(this.props,!1),g=dt(d,!1),x=en(en({},w),{},{fill:"none"},dt(c,!1)),b=p.map(function(j,_){var N=o.getTickLineCoord(j),S=N.line,C=N.tick,P=en(en(en(en({textAnchor:y,verticalAnchor:m},w),{},{stroke:"none",fill:u},g),C),{},{index:_,payload:j,visibleTicksCount:p.length,tickFormatter:f});return L.createElement(Zt,Wu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Cc(o.props,j,_)),c&&L.createElement("line",Wu({},x,S,{className:yt("recharts-cartesian-axis-tick-line",Ms(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(ht(f)?f(j.value,_):j.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Mj(f,TIe),y=h;return ht(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:L.createElement(Zt,{className:yt("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),xn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=yt(a.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?o=L.cloneElement(n,en(en({},a),{},{className:l})):ht(n)?o=n(en(en({},a),{},{className:l})):o=L.createElement(Pc,Wu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);rP(Bf,"displayName","CartesianAxis");rP(Bf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var BIe=["x1","y1","x2","y2","key"],VIe=["offset"];function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){qIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qIe(e,t,r){return t=zIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zIe(e){var t=WIe(e,"string");return Oc(t)=="symbol"?t:t+""}function WIe(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}function YR(e,t){if(e==null)return{};var r=KIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HIe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return L.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function m9(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(ht(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=YR(t,BIe),u=dt(c,!1);u.offset;var d=YR(u,VIe);r=L.createElement("line",Hl({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function GIe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Mn(Mn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return m9(a,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function QIe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Mn(Mn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return m9(a,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function YIe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?a+o-h:d[p+1]-h;if(m<=0)return null;var w=p%t.length;return L.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function XIe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?i+l-h:d[p+1]-h;if(m<=0)return null;var w=p%n.length;return L.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var JIe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return dq(tP(Mn(Mn(Mn({},Bf.defaultProps),n),{},{ticks:Ri(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},ZIe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return dq(tP(Mn(Mn(Mn({},Bf.defaultProps),n),{},{ticks:Ri(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},xu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function p9(e){var t,r,n,a,i,o,l=XC(),c=JC(),u=U4e(),d=Mn(Mn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:xu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:xu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:xu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:xu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:xu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:xu.verticalFill,x:Pe(e.x)?e.x:u.left,y:Pe(e.y)?e.y:u.top,width:Pe(e.width)?e.width:u.width,height:Pe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,m=d.syncWithTicks,w=d.horizontalValues,g=d.verticalValues,x=D4e(),b=L4e();if(!Pe(p)||p<=0||!Pe(y)||y<=0||!Pe(f)||f!==+f||!Pe(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||JIe,_=d.horizontalCoordinatesGenerator||ZIe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&ht(_)){var C=w&&w.length,P=_({yAxis:b?Mn(Mn({},b),{},{ticks:C?w:b.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);Da(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Oc(P),"]")),Array.isArray(P)&&(N=P)}if((!S||!S.length)&&ht(j)){var k=g&&g.length,E=j({xAxis:x?Mn(Mn({},x),{},{ticks:k?g:x.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);Da(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Oc(E),"]")),Array.isArray(E)&&(S=E)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(HIe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(GIe,Hl({},d,{offset:u,horizontalPoints:N,xAxis:x,yAxis:b})),L.createElement(QIe,Hl({},d,{offset:u,verticalPoints:S,xAxis:x,yAxis:b})),L.createElement(YIe,Hl({},d,{horizontalPoints:N})),L.createElement(XIe,Hl({},d,{verticalPoints:S})))}p9.displayName="CartesianGrid";function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function eRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v9(n.key),n)}}function rRe(e,t,r){return t&&tRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nRe(e,t,r){return t=Ly(t),sRe(e,g9()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function sRe(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aRe(e)}function aRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g9=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function iRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fS(e,t)}function x9(e,t,r){return t=v9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=oRe(e,"string");return af(t)=="symbol"?t:t+""}function oRe(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hS.apply(this,arguments)}function lRe(e){var t=e.xAxisId,r=XC(),n=JC(),a=n9(t);return a==null?null:v.createElement(Bf,hS({},a,{className:yt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ri(o,!0)}}))}var J0=function(e){function t(){return eRe(this,t),nRe(this,t,arguments)}return iRe(t,e),rRe(t,[{key:"render",value:function(){return v.createElement(lRe,this.props)}}])}(v.Component);x9(J0,"displayName","XAxis");x9(J0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function cRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w9(n.key),n)}}function dRe(e,t,r){return t&&uRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fRe(e,t,r){return t=Fy(t),hRe(e,y9()?Reflect.construct(t,r||[],Fy(e).constructor):t.apply(e,r))}function hRe(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mRe(e)}function mRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y9=function(){return!!e})()}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fy(e)}function pRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mS(e,t)}function b9(e,t,r){return t=w9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9(e){var t=gRe(e,"string");return of(t)=="symbol"?t:t+""}function gRe(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pS.apply(this,arguments)}var xRe=function(t){var r=t.yAxisId,n=XC(),a=JC(),i=s9(r);return i==null?null:v.createElement(Bf,pS({},i,{className:yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ri(l,!0)}}))},Z0=function(e){function t(){return cRe(this,t),fRe(this,t,arguments)}return pRe(t,e),dRe(t,[{key:"render",value:function(){return v.createElement(xRe,this.props)}}])}(v.Component);b9(Z0,"displayName","YAxis");b9(Z0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XR(e){return wRe(e)||bRe(e)||yRe(e)||vRe()}function vRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yRe(e,t){if(e){if(typeof e=="string")return gS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gS(e,t)}}function bRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wRe(e){if(Array.isArray(e))return gS(e)}function gS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xS=function(t,r,n,a,i){var o=aa(t,eP),l=aa(t,Q0),c=[].concat(XR(o),XR(l)),u=aa(t,X0),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,w){if(w.props[d]===n&&li(w.props,"extendDomain")&&Pe(w.props[f])){var g=w.props[f];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,w){if(w.props[d]===n&&li(w.props,"extendDomain")&&Pe(w.props[p])&&Pe(w.props[y])){var g=w.props[p],x=w.props[y];return[Math.min(m[0],g,x),Math.max(m[1],g,x)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,w){return Pe(w)?[Math.min(m[0],w),Math.max(m[1],w)]:m},h)),h},j9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var w=this._events[m],g=arguments.length,x,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),g){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,p),!0;case 6:return w.fn.call(w.context,d,f,h,p,y),!0}for(b=1,x=new Array(g-1);b<g;b++)x[b-1]=arguments[b];w.fn.apply(w.context,x)}else{var j=w.length,_;for(b=0;b<j;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),g){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,f);break;case 4:w[b].fn.call(w[b].context,d,f,h);break;default:if(!x)for(_=1,x=new Array(g-1);_<g;_++)x[_-1]=arguments[_];w[b].fn.apply(w[b].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var m=0,w=[],g=y.length;m<g;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&w.push(y[m]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(j9);var jRe=j9.exports;const NRe=Yt(jRe);var $j=new NRe,Dj="recharts.syncMouseEvents";function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function _Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N9(n.key),n)}}function kRe(e,t,r){return t&&SRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lj(e,t,r){return t=N9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N9(e){var t=CRe(e,"string");return yp(t)=="symbol"?t:t+""}function CRe(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PRe=function(){function e(){_Re(this,e),Lj(this,"activeIndex",0),Lj(this,"coordinateList",[]),Lj(this,"layout","horizontal")}return kRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function ERe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Pe(n)&&Pe(a))return!0}return!1}function ARe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function _9(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=fr(t,r,n,a),l=fr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function ORe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=fr(l,c,u,f),p=fr(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return _9(t);return[{x:n,y:a},{x:i,y:o}]}function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){TRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TRe(e,t,r){return t=IRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IRe(e){var t=RRe(e,"string");return bp(t)=="symbol"?t:t+""}function RRe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MRe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,m=U_;if(h==="ScatterChart")y=o,m=fAe;else if(h==="BarChart")y=ARe(f,o,c,d),m=KC;else if(f==="radial"){var w=_9(o),g=w.cx,x=w.cy,b=w.radius,j=w.startAngle,_=w.endAngle;y={cx:g,cy:x,startAngle:j,endAngle:_,innerRadius:b,outerRadius:b},m=jq}else y={points:ORe(f,o,c)},m=U_;var N=dx(dx(dx(dx({stroke:"#ccc",pointerEvents:"none"},c),y),dt(p,!1)),{},{payload:l,payloadIndex:u,className:yt("recharts-tooltip-cursor",p.className)});return v.isValidElement(p)?v.cloneElement(p,N):v.createElement(m,N)}var $Re=["item"],DRe=["children","className","width","height","style","compact","title","desc"];function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(this,arguments)}function ZR(e,t){return URe(e)||FRe(e,t)||k9(e,t)||LRe()}function LRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function URe(e){if(Array.isArray(e))return e}function eM(e,t){if(e==null)return{};var r=BRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C9(n.key),n)}}function zRe(e,t,r){return t&&qRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WRe(e,t,r){return t=Uy(t),KRe(e,S9()?Reflect.construct(t,r||[],Uy(e).constructor):t.apply(e,r))}function KRe(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HRe(e)}function HRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S9=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uy(e)}function GRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vS(e,t)}function vS(e,t){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vS(e,t)}function cf(e){return XRe(e)||YRe(e)||k9(e)||QRe()}function QRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k9(e,t){if(e){if(typeof e=="string")return yS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yS(e,t)}}function YRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XRe(e){if(Array.isArray(e))return yS(e)}function yS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(r),!0).forEach(function(n){it(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function it(e,t,r){return t=C9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=JRe(e,"string");return lf(t)=="symbol"?t:t+""}function JRe(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZRe={xAxis:["bottom","top"],yAxis:["left","right"]},eMe={width:"100%",height:"100%"},P9={x:0,y:0};function fx(e){return e}var tMe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},rMe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return fe(fe(fe({},a),fr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return fe(fe(fe({},a),fr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return P9},ew=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(cf(l),cf(u)):l},[]);return o.length>0?o:t&&t.length&&Pe(a)&&Pe(i)?t.slice(a,i+1):[]};function E9(e){return e==="number"?[0,"auto"]:void 0}var bS=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=ew(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=GN(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(cf(c),[gq(u,h)]):c},[])},rM=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=tMe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=T2e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=bS(t,r,d,f),p=rMe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},nMe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=uq(d,i);return n.reduce(function(y,m){var w,g=m.type.defaultProps!==void 0?fe(fe({},m.type.defaultProps),m.props):m.props,x=g.type,b=g.dataKey,j=g.allowDataOverflow,_=g.allowDuplicatedCategory,N=g.scale,S=g.ticks,C=g.includeHidden,P=g[o];if(y[P])return y;var k=ew(t.data,{graphicalItems:a.filter(function(F){var J,q=o in F.props?F.props[o]:(J=F.type.defaultProps)===null||J===void 0?void 0:J[o];return q===P}),dataStartIndex:c,dataEndIndex:u}),E=k.length,T,I,R;ERe(g.domain,j,x)&&(T=M_(g.domain,null,j),p&&(x==="number"||N!=="auto")&&(R=Yh(k,b,"category")));var D=E9(x);if(!T||T.length===0){var O,z=(O=g.domain)!==null&&O!==void 0?O:D;if(b){if(T=Yh(k,b,x),x==="category"&&p){var A=jme(T);_&&A?(I=T,T=Py(0,E)):_||(T=AI(z,T,m).reduce(function(F,J){return F.indexOf(J)>=0?F:[].concat(cf(F),[J])},[]))}else if(x==="category")_?T=T.filter(function(F){return F!==""&&!Pt(F)}):T=AI(z,T,m).reduce(function(F,J){return F.indexOf(J)>=0||J===""||Pt(J)?F:[].concat(cf(F),[J])},[]);else if(x==="number"){var $=D2e(k,a.filter(function(F){var J,q,ee=o in F.props?F.props[o]:(J=F.type.defaultProps)===null||J===void 0?void 0:J[o],pe="hide"in F.props?F.props.hide:(q=F.type.defaultProps)===null||q===void 0?void 0:q.hide;return ee===P&&(C||!pe)}),b,i,d);$&&(T=$)}p&&(x==="number"||N!=="auto")&&(R=Yh(k,b,"category"))}else p?T=Py(0,E):l&&l[P]&&l[P].hasStack&&x==="number"?T=h==="expand"?[0,1]:pq(l[P].stackGroups,c,u):T=cq(k,a.filter(function(F){var J=o in F.props?F.props[o]:F.type.defaultProps[o],q="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return J===P&&(C||!q)}),x,d,!0);if(x==="number")T=xS(f,T,P,i,S),z&&(T=M_(z,T,j));else if(x==="category"&&z){var Q=z,X=T.every(function(F){return Q.indexOf(F)>=0});X&&(T=Q)}}return fe(fe({},y),{},it({},P,fe(fe({},g),{},{axisType:i,domain:T,categoricalDomain:R,duplicateDomain:I,originalDomain:(w=g.domain)!==null&&w!==void 0?w:D,isCategorical:p,layout:d})))},{})},sMe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=ew(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=uq(d,i),m=-1;return n.reduce(function(w,g){var x=g.type.defaultProps!==void 0?fe(fe({},g.type.defaultProps),g.props):g.props,b=x[o],j=E9("number");if(!w[b]){m++;var _;return y?_=Py(0,p):l&&l[b]&&l[b].hasStack?(_=pq(l[b].stackGroups,c,u),_=xS(f,_,b,i)):(_=M_(j,cq(h,n.filter(function(N){var S,C,P=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],k="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===b&&!k}),"number",d),a.defaultProps.allowDataOverflow),_=xS(f,_,b,i)),fe(fe({},w),{},it({},b,fe(fe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ms(ZRe,"".concat(i,".").concat(m%2),null),domain:_,originalDomain:j,isCategorical:y,layout:d})))}return w},{})},aMe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=aa(d,i),p={};return h&&h.length?p=nMe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=sMe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},iMe=function(t){var r=_o(t),n=Ri(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:yC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:py(r,n)}},nM=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ns(r,Zd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},oMe=function(t){return!t||!t.length?!1:t.some(function(r){var n=$i(r&&r.type);return n&&n.indexOf("Bar")>=0})},sM=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lMe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Ns(f,Zd),y=Ns(f,ac),m=Object.keys(c).reduce(function(_,N){var S=c[N],C=S.orientation;return!S.mirror&&!S.hide?fe(fe({},_),{},it({},C,_[C]+S.width)):_},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(_,N){var S=o[N],C=S.orientation;return!S.mirror&&!S.hide?fe(fe({},_),{},it({},C,Ms(_,"".concat(C))+S.height)):_},{top:h.top||0,bottom:h.bottom||0}),g=fe(fe({},w),m),x=g.bottom;p&&(g.bottom+=p.props.height||Zd.defaultProps.height),y&&r&&(g=M2e(g,a,n,r));var b=u-g.left-g.right,j=d-g.top-g.bottom;return fe(fe({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(j,0)})},cMe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},A9=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,x){var b=x.graphicalItems,j=x.stackGroups,_=x.offset,N=x.updateId,S=x.dataStartIndex,C=x.dataEndIndex,P=g.barSize,k=g.layout,E=g.barGap,T=g.barCategoryGap,I=g.maxBarSize,R=sM(k),D=R.numericAxisName,O=R.cateAxisName,z=oMe(b),A=[];return b.forEach(function($,Q){var X=ew(g.data,{graphicalItems:[$],dataStartIndex:S,dataEndIndex:C}),F=$.type.defaultProps!==void 0?fe(fe({},$.type.defaultProps),$.props):$.props,J=F.dataKey,q=F.maxBarSize,ee=F["".concat(D,"Id")],pe=F["".concat(O,"Id")],te={},be=c.reduce(function(K,Z){var ae=x["".concat(Z.axisType,"Map")],Ae=F["".concat(Z.axisType,"Id")];ae&&ae[Ae]||Z.axisType==="zAxis"||Ac();var Se=ae[Ae];return fe(fe({},K),{},it(it({},Z.axisType,Se),"".concat(Z.axisType,"Ticks"),Ri(Se)))},te),ie=be[O],U=be["".concat(O,"Ticks")],le=j&&j[ee]&&j[ee].hasStack&&K2e($,j[ee].stackGroups),G=$i($.type).indexOf("Bar")>=0,B=py(ie,U),ge=[],Xe=z&&I2e({barSize:P,stackGroups:j,totalSize:cMe(be,O)});if(G){var at,pt,Ft=Pt(q)?I:q,Be=(at=(pt=py(ie,U,!0))!==null&&pt!==void 0?pt:Ft)!==null&&at!==void 0?at:0;ge=R2e({barGap:E,barCategoryGap:T,bandSize:Be!==B?Be:B,sizeList:Xe[pe],maxBarSize:Ft}),Be!==B&&(ge=ge.map(function(K){return fe(fe({},K),{},{position:fe(fe({},K.position),{},{offset:K.position.offset-Be/2})})}))}var Vr=$&&$.type&&$.type.getComposedData;Vr&&A.push({props:fe(fe({},Vr(fe(fe({},be),{},{displayedData:X,props:g,dataKey:J,item:$,bandSize:B,barPosition:ge,offset:_,stackedData:le,layout:k,dataStartIndex:S,dataEndIndex:C}))),{},it(it(it({key:$.key||"item-".concat(Q)},D,be[D]),O,be[O]),"animationId",N)),childIndex:Rme($,g.children),item:$})}),A},p=function(g,x){var b=g.props,j=g.dataStartIndex,_=g.dataEndIndex,N=g.updateId;if(!NT({props:b}))return null;var S=b.children,C=b.layout,P=b.stackOffset,k=b.data,E=b.reverseStackOrder,T=sM(C),I=T.numericAxisName,R=T.cateAxisName,D=aa(S,n),O=z2e(k,D,"".concat(I,"Id"),"".concat(R,"Id"),P,E),z=c.reduce(function(F,J){var q="".concat(J.axisType,"Map");return fe(fe({},F),{},it({},q,aMe(b,fe(fe({},J),{},{graphicalItems:D,stackGroups:J.axisType===I&&O,dataStartIndex:j,dataEndIndex:_}))))},{}),A=lMe(fe(fe({},z),{},{props:b,graphicalItems:D}),x==null?void 0:x.legendBBox);Object.keys(z).forEach(function(F){z[F]=d(b,z[F],A,F.replace("Map",""),r)});var $=z["".concat(R,"Map")],Q=iMe($),X=h(b,fe(fe({},z),{},{dataStartIndex:j,dataEndIndex:_,updateId:N,graphicalItems:D,stackGroups:O,offset:A}));return fe(fe({formattedGraphicalItems:X,graphicalItems:D,offset:A,stackGroups:O},Q),z)},y=function(w){function g(x){var b,j,_;return VRe(this,g),_=WRe(this,g,[x]),it(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),it(_,"accessibilityManager",new PRe),it(_,"handleLegendBBoxUpdate",function(N){if(N){var S=_.state,C=S.dataStartIndex,P=S.dataEndIndex,k=S.updateId;_.setState(fe({legendBBox:N},p({props:_.props,dataStartIndex:C,dataEndIndex:P,updateId:k},fe(fe({},_.state),{},{legendBBox:N}))))}}),it(_,"handleReceiveSyncEvent",function(N,S,C){if(_.props.syncId===N){if(C===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(S)}}),it(_,"handleBrushChange",function(N){var S=N.startIndex,C=N.endIndex;if(S!==_.state.dataStartIndex||C!==_.state.dataEndIndex){var P=_.state.updateId;_.setState(function(){return fe({dataStartIndex:S,dataEndIndex:C},p({props:_.props,dataStartIndex:S,dataEndIndex:C,updateId:P},_.state))}),_.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),it(_,"handleMouseEnter",function(N){var S=_.getMouseInfo(N);if(S){var C=fe(fe({},S),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var P=_.props.onMouseEnter;ht(P)&&P(C,N)}}),it(_,"triggeredAfterMouseMove",function(N){var S=_.getMouseInfo(N),C=S?fe(fe({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var P=_.props.onMouseMove;ht(P)&&P(C,N)}),it(_,"handleItemMouseEnter",function(N){_.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),it(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),it(_,"handleMouseMove",function(N){N.persist(),_.throttleTriggeredAfterMouseMove(N)}),it(_,"handleMouseLeave",function(N){_.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var C=_.props.onMouseLeave;ht(C)&&C(S,N)}),it(_,"handleOuterEvent",function(N){var S=Ime(N),C=Ms(_.props,"".concat(S));if(S&&ht(C)){var P,k;/.*touch.*/i.test(S)?k=_.getMouseInfo(N.changedTouches[0]):k=_.getMouseInfo(N),C((P=k)!==null&&P!==void 0?P:{},N)}}),it(_,"handleClick",function(N){var S=_.getMouseInfo(N);if(S){var C=fe(fe({},S),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var P=_.props.onClick;ht(P)&&P(C,N)}}),it(_,"handleMouseDown",function(N){var S=_.props.onMouseDown;if(ht(S)){var C=_.getMouseInfo(N);S(C,N)}}),it(_,"handleMouseUp",function(N){var S=_.props.onMouseUp;if(ht(S)){var C=_.getMouseInfo(N);S(C,N)}}),it(_,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),it(_,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseDown(N.changedTouches[0])}),it(_,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseUp(N.changedTouches[0])}),it(_,"handleDoubleClick",function(N){var S=_.props.onDoubleClick;if(ht(S)){var C=_.getMouseInfo(N);S(C,N)}}),it(_,"handleContextMenu",function(N){var S=_.props.onContextMenu;if(ht(S)){var C=_.getMouseInfo(N);S(C,N)}}),it(_,"triggerSyncEvent",function(N){_.props.syncId!==void 0&&$j.emit(Dj,_.props.syncId,N,_.eventEmitterSymbol)}),it(_,"applySyncEvent",function(N){var S=_.props,C=S.layout,P=S.syncMethod,k=_.state.updateId,E=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)_.setState(fe({dataStartIndex:E,dataEndIndex:T},p({props:_.props,dataStartIndex:E,dataEndIndex:T,updateId:k},_.state)));else if(N.activeTooltipIndex!==void 0){var I=N.chartX,R=N.chartY,D=N.activeTooltipIndex,O=_.state,z=O.offset,A=O.tooltipTicks;if(!z)return;if(typeof P=="function")D=P(A,N);else if(P==="value"){D=-1;for(var $=0;$<A.length;$++)if(A[$].value===N.activeLabel){D=$;break}}var Q=fe(fe({},z),{},{x:z.left,y:z.top}),X=Math.min(I,Q.x+Q.width),F=Math.min(R,Q.y+Q.height),J=A[D]&&A[D].value,q=bS(_.state,_.props.data,D),ee=A[D]?{x:C==="horizontal"?A[D].coordinate:X,y:C==="horizontal"?F:A[D].coordinate}:P9;_.setState(fe(fe({},N),{},{activeLabel:J,activeCoordinate:ee,activePayload:q,activeTooltipIndex:D}))}else _.setState(N)}),it(_,"renderCursor",function(N){var S,C=_.state,P=C.isTooltipActive,k=C.activeCoordinate,E=C.activePayload,T=C.offset,I=C.activeTooltipIndex,R=C.tooltipAxisBandSize,D=_.getTooltipEventType(),O=(S=N.props.active)!==null&&S!==void 0?S:P,z=_.props.layout,A=N.key||"_recharts-cursor";return L.createElement(MRe,{key:A,activeCoordinate:k,activePayload:E,activeTooltipIndex:I,chartName:r,element:N,isActive:O,layout:z,offset:T,tooltipAxisBandSize:R,tooltipEventType:D})}),it(_,"renderPolarAxis",function(N,S,C){var P=Ms(N,"type.axisType"),k=Ms(_.state,"".concat(P,"Map")),E=N.type.defaultProps,T=E!==void 0?fe(fe({},E),N.props):N.props,I=k&&k[T["".concat(P,"Id")]];return v.cloneElement(N,fe(fe({},I),{},{className:yt(P,I.className),key:N.key||"".concat(S,"-").concat(C),ticks:Ri(I,!0)}))}),it(_,"renderPolarGrid",function(N){var S=N.props,C=S.radialLines,P=S.polarAngles,k=S.polarRadius,E=_.state,T=E.radiusAxisMap,I=E.angleAxisMap,R=_o(T),D=_o(I),O=D.cx,z=D.cy,A=D.innerRadius,$=D.outerRadius;return v.cloneElement(N,{polarAngles:Array.isArray(P)?P:Ri(D,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(k)?k:Ri(R,!0).map(function(Q){return Q.coordinate}),cx:O,cy:z,innerRadius:A,outerRadius:$,key:N.key||"polar-grid",radialLines:C})}),it(_,"renderLegend",function(){var N=_.state.formattedGraphicalItems,S=_.props,C=S.children,P=S.width,k=S.height,E=_.props.margin||{},T=P-(E.left||0)-(E.right||0),I=oq({children:C,formattedGraphicalItems:N,legendWidth:T,legendContent:u});if(!I)return null;var R=I.item,D=eM(I,$Re);return v.cloneElement(R,fe(fe({},D),{},{chartWidth:P,chartHeight:k,margin:E,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),it(_,"renderTooltip",function(){var N,S=_.props,C=S.children,P=S.accessibilityLayer,k=Ns(C,Pa);if(!k)return null;var E=_.state,T=E.isTooltipActive,I=E.activeCoordinate,R=E.activePayload,D=E.activeLabel,O=E.offset,z=(N=k.props.active)!==null&&N!==void 0?N:T;return v.cloneElement(k,{viewBox:fe(fe({},O),{},{x:O.left,y:O.top}),active:z,label:D,payload:z?R:[],coordinate:I,accessibilityLayer:P})}),it(_,"renderBrush",function(N){var S=_.props,C=S.margin,P=S.data,k=_.state,E=k.offset,T=k.dataStartIndex,I=k.dataEndIndex,R=k.updateId;return v.cloneElement(N,{key:N.key||"_recharts-brush",onChange:ox(_.handleBrushChange,N.props.onChange),data:P,x:Pe(N.props.x)?N.props.x:E.left,y:Pe(N.props.y)?N.props.y:E.top+E.height+E.brushBottom-(C.bottom||0),width:Pe(N.props.width)?N.props.width:E.width,startIndex:T,endIndex:I,updateId:"brush-".concat(R)})}),it(_,"renderReferenceElement",function(N,S,C){if(!N)return null;var P=_,k=P.clipPathId,E=_.state,T=E.xAxisMap,I=E.yAxisMap,R=E.offset,D=N.type.defaultProps||{},O=N.props,z=O.xAxisId,A=z===void 0?D.xAxisId:z,$=O.yAxisId,Q=$===void 0?D.yAxisId:$;return v.cloneElement(N,{key:N.key||"".concat(S,"-").concat(C),xAxis:T[A],yAxis:I[Q],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:k})}),it(_,"renderActivePoints",function(N){var S=N.item,C=N.activePoint,P=N.basePoint,k=N.childIndex,E=N.isRange,T=[],I=S.props.key,R=S.item.type.defaultProps!==void 0?fe(fe({},S.item.type.defaultProps),S.item.props):S.item.props,D=R.activeDot,O=R.dataKey,z=fe(fe({index:k,dataKey:O,cx:C.x,cy:C.y,r:4,fill:WC(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},dt(D,!1)),Vv(D));return T.push(g.renderActiveDot(D,z,"".concat(I,"-activePoint-").concat(k))),P?T.push(g.renderActiveDot(D,fe(fe({},z),{},{cx:P.x,cy:P.y}),"".concat(I,"-basePoint-").concat(k))):E&&T.push(null),T}),it(_,"renderGraphicChild",function(N,S,C){var P=_.filterFormatItem(N,S,C);if(!P)return null;var k=_.getTooltipEventType(),E=_.state,T=E.isTooltipActive,I=E.tooltipAxis,R=E.activeTooltipIndex,D=E.activeLabel,O=_.props.children,z=Ns(O,Pa),A=P.props,$=A.points,Q=A.isRange,X=A.baseLine,F=P.item.type.defaultProps!==void 0?fe(fe({},P.item.type.defaultProps),P.item.props):P.item.props,J=F.activeDot,q=F.hide,ee=F.activeBar,pe=F.activeShape,te=!!(!q&&T&&z&&(J||ee||pe)),be={};k!=="axis"&&z&&z.props.trigger==="click"?be={onClick:ox(_.handleItemMouseEnter,N.props.onClick)}:k!=="axis"&&(be={onMouseLeave:ox(_.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:ox(_.handleItemMouseEnter,N.props.onMouseEnter)});var ie=v.cloneElement(N,fe(fe({},P.props),be));function U(Z){return typeof I.dataKey=="function"?I.dataKey(Z.payload):null}if(te)if(R>=0){var le,G;if(I.dataKey&&!I.allowDuplicatedCategory){var B=typeof I.dataKey=="function"?U:"payload.".concat(I.dataKey.toString());le=GN($,B,D),G=Q&&X&&GN(X,B,D)}else le=$==null?void 0:$[R],G=Q&&X&&X[R];if(pe||ee){var ge=N.props.activeIndex!==void 0?N.props.activeIndex:R;return[v.cloneElement(N,fe(fe(fe({},P.props),be),{},{activeIndex:ge})),null,null]}if(!Pt(le))return[ie].concat(cf(_.renderActivePoints({item:P,activePoint:le,basePoint:G,childIndex:R,isRange:Q})))}else{var Xe,at=(Xe=_.getItemByXY(_.state.activeCoordinate))!==null&&Xe!==void 0?Xe:{graphicalItem:ie},pt=at.graphicalItem,Ft=pt.item,Be=Ft===void 0?N:Ft,Vr=pt.childIndex,K=fe(fe(fe({},P.props),be),{},{activeIndex:Vr});return[v.cloneElement(Be,K),null,null]}return Q?[ie,null,null]:[ie,null]}),it(_,"renderCustomized",function(N,S,C){return v.cloneElement(N,fe(fe({key:"recharts-customized-".concat(C)},_.props),_.state))}),it(_,"renderMap",{CartesianGrid:{handler:fx,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:fx},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:fx},YAxis:{handler:fx},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:ng("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=iV(_.triggeredAfterMouseMove,(j=x.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return GRe(g,w),zRe(g,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,_=b.data,N=b.height,S=b.layout,C=Ns(j,Pa);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,E=bS(this.state,_,P,k),T=this.state.tooltipTicks[P].coordinate,I=(this.state.offset.top+N)/2,R=S==="horizontal",D=R?{x:T,y:I}:{y:T,x:I},O=this.state.formattedGraphicalItems.find(function(A){var $=A.item;return $.type.name==="Scatter"});O&&(D=fe(fe({},D),O.props.points[P].tooltipPosition),E=O.props.points[P].tooltipPayload);var z={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:E,activeCoordinate:D};this.setState(z),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,N;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){YN([Ns(b.children,Pa)],[Ns(this.props.children,Pa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ns(this.props.children,Pa);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),N=iNe(_),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},C=_.width/j.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,C);if(!P)return null;var k=this.state,E=k.xAxisMap,T=k.yAxisMap,I=this.getTooltipEventType(),R=rM(this.state,this.props.data,this.props.layout,P);if(I!=="axis"&&E&&T){var D=_o(E).scale,O=_o(T).scale,z=D&&D.invert?D.invert(S.chartX):null,A=O&&O.invert?O.invert(S.chartY):null;return fe(fe({},S),{},{xValue:z,yValue:A},R)}return R?fe(fe({},S),R):null}},{key:"inRange",value:function(b,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/_,C=j/_;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,k=S>=P.left&&S<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return k?{x:S,y:C}:null}var E=this.state,T=E.angleAxisMap,I=E.radiusAxisMap;if(T&&I){var R=_o(T);return II({x:S,y:C},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),_=Ns(b,Pa),N={};_&&j==="axis"&&(_.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Vv(this.props,this.handleOuterEvent);return fe(fe({},S),N)}},{key:"addListener",value:function(){$j.on(Dj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$j.removeListener(Dj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,_){for(var N=this.state.formattedGraphicalItems,S=0,C=N.length;S<C;S++){var P=N[S];if(P.item===b||P.props.key===b.key||j===$i(P.item.type)&&_===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,_=j.left,N=j.top,S=j.height,C=j.width;return L.createElement("defs",null,L.createElement("clipPath",{id:b},L.createElement("rect",{x:_,y:N,height:S,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,_){var N=ZR(_,2),S=N[0],C=N[1];return fe(fe({},j),{},it({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,_){var N=ZR(_,2),S=N[0],C=N[1];return fe(fe({},j),{},it({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,_=j.formattedGraphicalItems,N=j.activeItem;if(_&&_.length)for(var S=0,C=_.length;S<C;S++){var P=_[S],k=P.props,E=P.item,T=E.type.defaultProps!==void 0?fe(fe({},E.type.defaultProps),E.props):E.props,I=$i(E.type);if(I==="Bar"){var R=(k.data||[]).find(function(A){return KEe(b,A)});if(R)return{graphicalItem:P,payload:R}}else if(I==="RadialBar"){var D=(k.data||[]).find(function(A){return II(b,A)});if(D)return{graphicalItem:P,payload:D}}else if(W0(P,N)||K0(P,N)||mp(P,N)){var O=ROe({graphicalItem:P,activeTooltipItem:N,itemData:T.data}),z=T.activeIndex===void 0?O:T.activeIndex;return{graphicalItem:fe(fe({},P),{},{childIndex:z}),payload:mp(P,N)?T.data[O]:P.props.data[O]}}}return null}},{key:"render",value:function(){var b=this;if(!NT(this))return null;var j=this.props,_=j.children,N=j.className,S=j.width,C=j.height,P=j.style,k=j.compact,E=j.title,T=j.desc,I=eM(j,DRe),R=dt(I,!1);if(k)return L.createElement(LR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(JN,Ku({},R,{width:S,height:C,title:E,desc:T}),this.renderClipPath(),ST(_,this.renderMap)));if(this.props.accessibilityLayer){var D,O;R.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,R.role=(O=this.props.role)!==null&&O!==void 0?O:"application",R.onKeyDown=function(A){b.accessibilityManager.keyboardEvent(A)},R.onFocus=function(){b.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return L.createElement(LR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Ku({className:yt("recharts-wrapper",N),style:fe({position:"relative",cursor:"default",width:S,height:C},P)},z,{ref:function($){b.container=$}}),L.createElement(JN,Ku({},R,{width:S,height:C,title:E,desc:T,style:eMe}),this.renderClipPath(),ST(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);it(y,"displayName",r),it(y,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),it(y,"getDerivedStateFromProps",function(w,g){var x=w.dataKey,b=w.data,j=w.children,_=w.width,N=w.height,S=w.layout,C=w.stackOffset,P=w.margin,k=g.dataStartIndex,E=g.dataEndIndex;if(g.updateId===void 0){var T=nM(w);return fe(fe(fe({},T),{},{updateId:0},p(fe(fe({props:w},T),{},{updateId:0}),g)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:P,prevChildren:j})}if(x!==g.prevDataKey||b!==g.prevData||_!==g.prevWidth||N!==g.prevHeight||S!==g.prevLayout||C!==g.prevStackOffset||!rd(P,g.prevMargin)){var I=nM(w),R={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},D=fe(fe({},rM(g,b,S)),{},{updateId:g.updateId+1}),O=fe(fe(fe({},I),R),D);return fe(fe(fe({},O),p(fe({props:w},O),g)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:P,prevChildren:j})}if(!YN(j,g.prevChildren)){var z,A,$,Q,X=Ns(j,Zd),F=X&&(z=(A=X.props)===null||A===void 0?void 0:A.startIndex)!==null&&z!==void 0?z:k,J=X&&($=(Q=X.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&$!==void 0?$:E,q=F!==k||J!==E,ee=!Pt(b),pe=ee&&!q?g.updateId:g.updateId+1;return fe(fe({updateId:pe},p(fe(fe({props:w},g),{},{updateId:pe,dataStartIndex:F,dataEndIndex:J}),g)),{},{prevChildren:j,dataStartIndex:F,dataEndIndex:J})}return null}),it(y,"renderActiveDot",function(w,g,x){var b;return v.isValidElement(w)?b=v.cloneElement(w,g):ht(w)?b=w(g):b=L.createElement(HC,g),L.createElement(Zt,{className:"recharts-active-dot",key:x},b)});var m=v.forwardRef(function(g,x){return L.createElement(y,Ku({},g,{ref:x}))});return m.displayName=y.displayName,m},uMe=A9({chartName:"BarChart",GraphicalChild:qc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:J0},{axisType:"yAxis",AxisComp:Z0}],formatAxisMap:f4e}),dMe=A9({chartName:"PieChart",GraphicalChild:ao,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:z0},{axisType:"radiusAxis",AxisComp:V0}],formatAxisMap:rCe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const hx={VERIFIED:"#22c55e",PENDING_VERIFICATION:"#eab308",PENDING_PAYMENT:"#6b7280",REJECTED:"#ef4444"};function fMe(){const{adminPath:e}=Up(),t=`/${e}`,{data:r}=de({queryKey:["/api/admin/facilities"]}),{data:n}=de({queryKey:["/api/admin/announcements"]}),{data:a}=de({queryKey:["/api/admin/gallery"]}),{data:i}=de({queryKey:["/api/admin/pricing-tiers"]}),{data:o}=de({queryKey:["/api/admin/careers"]}),{data:l}=de({queryKey:["/api/admin/rules"]}),{data:c}=de({queryKey:["/api/admin/bookings"]}),{data:u}=de({queryKey:["/api/admin/users"]}),d=(c==null?void 0:c.filter(_=>_.paymentStatus==="PENDING_VERIFICATION").length)||0,f=(c==null?void 0:c.filter(_=>_.status==="CONFIRMED").length)||0,h=(c==null?void 0:c.filter(_=>_.paymentStatus==="VERIFIED").reduce((_,N)=>_+(N.totalPrice||0),0))||0,p=[{name:"Verified",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="VERIFIED").length)||0,color:hx.VERIFIED},{name:"Pending Verification",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="PENDING_VERIFICATION").length)||0,color:hx.PENDING_VERIFICATION},{name:"Awaiting Payment",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="PENDING_PAYMENT").length)||0,color:hx.PENDING_PAYMENT},{name:"Rejected",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="REJECTED").length)||0,color:hx.REJECTED}].filter(_=>_.value>0),y=(r==null?void 0:r.map(_=>({name:_.name.length>15?_.name.slice(0,12)+"...":_.name,fullName:_.name,bookings:(c==null?void 0:c.filter(N=>N.facilityId===_.id).length)||0,revenue:(c==null?void 0:c.filter(N=>N.facilityId===_.id&&N.paymentStatus==="VERIFIED").reduce((N,S)=>N+(S.totalPrice||0),0))||0})))||[],m=(c==null?void 0:c.slice().sort((_,N)=>{const S=new Date(`${_.date} ${_.startTime}`);return new Date(`${N.date} ${N.startTime}`).getTime()-S.getTime()}).slice(0,5))||[],w=[{label:"Total Bookings",value:(c==null?void 0:c.length)||0,icon:mr,color:"text-blue-500",bgColor:"bg-blue-500/10",trend:`${f} confirmed`},{label:"Pending Verification",value:d,icon:Qt,color:"text-amber-500",bgColor:"bg-amber-500/10",trend:d>0?"Action needed":"All clear"},{label:"Verified Revenue",value:`PKR ${h.toLocaleString()}`,icon:eN,color:"text-green-500",bgColor:"bg-green-500/10",trend:`${(c==null?void 0:c.filter(_=>_.paymentStatus==="VERIFIED").length)||0} payments`},{label:"Total Users",value:(u==null?void 0:u.length)||0,icon:yr,color:"text-purple-500",bgColor:"bg-purple-500/10",trend:`${(u==null?void 0:u.filter(_=>_.role==="ADMIN"||_.role==="SUPER_ADMIN").length)||0} admins`}],g=[{label:"Facilities",value:(r==null?void 0:r.length)||0,icon:un,color:"text-blue-500"},{label:"Pricing Tiers",value:(i==null?void 0:i.length)||0,icon:eN,color:"text-green-500"},{label:"Announcements",value:(n==null?void 0:n.length)||0,icon:pc,color:"text-amber-500"},{label:"Career Listings",value:(o==null?void 0:o.length)||0,icon:vm,color:"text-purple-500"},{label:"Rules & Policies",value:(l==null?void 0:l.length)||0,icon:hs,color:"text-red-500"},{label:"Gallery Images",value:(a==null?void 0:a.length)||0,icon:ra,color:"text-indigo-500"}],x=_=>{switch(_){case"VERIFIED":return s.jsx(ce,{className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return s.jsx(ce,{className:"bg-amber-500",children:"Pending"});case"REJECTED":return s.jsx(ce,{variant:"destructive",children:"Rejected"});default:return s.jsx(ce,{variant:"secondary",children:"Awaiting"})}},b=(_,N)=>_==="CONFIRMED"&&N==="VERIFIED"?s.jsx(ce,{className:"bg-green-600",children:"Confirmed"}):_==="CANCELLED"?s.jsx(ce,{variant:"destructive",children:"Cancelled"}):s.jsx(ce,{variant:"secondary",children:"Tentative"}),j=_=>{if(!_||!r)return"Unknown";const N=r.find(S=>S.id===_);return(N==null?void 0:N.name)||"Unknown"};return s.jsx(nt,{title:"Dashboard",children:s.jsxs("div",{className:"space-y-6",children:[d>0&&s.jsx(ne,{className:"border-amber-500 bg-amber-50 dark:bg-amber-900/20","data-testid":"alert-pending-verification",children:s.jsxs(se,{className:"flex flex-wrap items-center gap-4 p-4",children:[s.jsx(Cn,{className:"h-5 w-5 text-amber-600 shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"font-medium text-amber-800 dark:text-amber-200",children:[d," booking",d>1?"s":""," pending payment verification"]}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Review and verify payments to confirm bookings."})]}),s.jsx(me,{href:`${t}/bookings`,children:s.jsxs(M,{size:"sm",variant:"outline","data-testid":"button-view-pending",children:["View Pending ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map(_=>{const N=_.icon;return s.jsx(ne,{"data-testid":`card-stat-${_.label.toLowerCase().replace(/\s+/g,"-")}`,children:s.jsx(se,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:_.label}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:_.value}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[s.jsx(RG,{className:"w-3 h-3"}),_.trend]})]}),s.jsx("div",{className:`p-3 rounded-full ${_.bgColor}`,children:s.jsx(N,{className:`w-6 h-6 ${_.color}`})})]})})},_.label)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsx(We,{className:"text-lg",children:"Bookings by Facility"}),s.jsx(Rt,{children:"Total bookings and revenue per facility"})]}),s.jsx(se,{children:y.length>0?s.jsx("div",{className:"h-[300px]",children:s.jsx(j4,{width:"100%",height:"100%",children:s.jsxs(uMe,{data:y,margin:{top:10,right:10,left:-10,bottom:0},children:[s.jsx(p9,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(J0,{dataKey:"name",tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(Z0,{tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(Pa,{formatter:(_,N)=>[N==="revenue"?`PKR ${_.toLocaleString()}`:_,N==="revenue"?"Revenue":"Bookings"],labelFormatter:_=>{const N=y.find(S=>S.name===_);return(N==null?void 0:N.fullName)||_},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(qc,{dataKey:"bookings",fill:"#3b82f6",radius:[4,4,0,0],name:"Bookings"})]})})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No booking data available"})})]}),s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsx(We,{className:"text-lg",children:"Payment Status Distribution"}),s.jsx(Rt,{children:"Overview of payment statuses across all bookings"})]}),s.jsx(se,{children:p.length>0?s.jsx("div",{className:"h-[300px]",children:s.jsx(j4,{width:"100%",height:"100%",children:s.jsxs(dMe,{children:[s.jsx(ao,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:p.map((_,N)=>s.jsx(C0,{fill:_.color},`cell-${N}`))}),s.jsx(Pa,{formatter:_=>[_,"Bookings"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(ac,{})]})})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No payment data available"})})]})]}),s.jsxs(ne,{children:[s.jsxs(Le,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(We,{className:"text-lg",children:"Recent Bookings"}),s.jsx(Rt,{children:"Latest booking activity"})]}),s.jsx(me,{href:`${t}/bookings`,children:s.jsxs(M,{variant:"outline",size:"sm","data-testid":"button-view-all-bookings",children:["View All ",s.jsx(ca,{className:"w-4 h-4 ml-1"})]})})]}),s.jsx(se,{children:m.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Booking ID"}),s.jsx(ue,{children:"Date / Time"}),s.jsx(ue,{children:"Facility"}),s.jsx(ue,{children:"Amount"}),s.jsx(ue,{children:"Payment"}),s.jsx(ue,{children:"Status"})]})}),s.jsx(Dr,{children:m.map(_=>{var N;return s.jsxs(tt,{"data-testid":`row-recent-booking-${_.id}`,children:[s.jsxs(oe,{className:"font-mono text-xs",children:[_.id.slice(0,8),"..."]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-sm font-medium",children:_.date}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[_.startTime," - ",_.endTime]})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-sm",children:j(_.facilityId)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",_.resourceId]})]}),s.jsx(oe,{children:s.jsxs("span",{className:"font-medium",children:["PKR ",((N=_.totalPrice)==null?void 0:N.toLocaleString())||0]})}),s.jsx(oe,{children:x(_.paymentStatus)}),s.jsx(oe,{children:b(_.status,_.paymentStatus)})]},_.id)})})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings yet"})})]}),s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsx(We,{className:"text-lg",children:"Content Overview"}),s.jsx(Rt,{children:"Quick stats on website content managed through the admin panel"})]}),s.jsx(se,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:g.map(_=>{const N=_.icon;return s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50","data-testid":`stat-${_.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(N,{className:`w-8 h-8 mx-auto mb-2 ${_.color}`}),s.jsx("p",{className:"text-2xl font-bold",children:_.value}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_.label})]},_.label)})})})]})]})})}var tw="Switch",[hMe]=An(tw),[mMe,pMe]=hMe(tw),O9=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=v.useState(null),y=ft(t,b=>p(b)),m=v.useRef(!1),w=h?d||!!h.closest("form"):!0,[g,x]=ms({prop:a,defaultProp:i??!1,onChange:u,caller:tw});return s.jsxs(mMe,{scope:r,checked:g,disabled:l,children:[s.jsx(Me.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":M9(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:je(e.onClick,b=>{x(j=>!j),w&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),w&&s.jsx(R9,{control:h,bubbles:!m.current,name:n,value:c,checked:g,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});O9.displayName=tw;var T9="SwitchThumb",I9=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=pMe(T9,r);return s.jsx(Me.span,{"data-state":M9(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});I9.displayName=T9;var gMe="SwitchBubbleInput",R9=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=v.useRef(null),l=ft(o,i),c=V2(r),u=Uk(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});R9.displayName=gMe;function M9(e){return e?"checked":"unchecked"}var $9=O9,xMe=I9;const Gt=v.forwardRef(({className:e,...t},r)=>s.jsx($9,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(xMe,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Gt.displayName=$9.displayName;const Fj={hero:{title:"Hero Section",description:"The main banner section at the top of the homepage.",fields:[{key:"hero_eyebrow",label:"Eyebrow Text",type:"text",placeholder:"Target Launch: Q4 2026"},{key:"hero_title",label:"Main Title",type:"textarea",placeholder:"A bright, premium multi-sport arena..."},{key:"hero_subtitle",label:"Subtitle",type:"textarea",placeholder:"The Quarterdeck brings state-of-the-art..."},{key:"hero_launch_date",label:"Launch Date (for countdown)",type:"date"},{key:"hero_cta_1",label:"Primary Button Text",type:"text",placeholder:"Explore Facilities"},{key:"hero_cta_2",label:"Secondary Button Text",type:"text",placeholder:"View Site Updates"},{key:"hero_status_active",label:"Status Badge 1",type:"text",placeholder:"Construction Active"},{key:"hero_status_updates",label:"Status Badge 2",type:"text",placeholder:"Transparent progress updates"},{key:"hero_status_booking",label:"Status Badge 3",type:"text",placeholder:"Early booking & waitlists planned"}]},about:{title:"About Section",description:"Information about The Quarterdeck's vision and team.",fields:[{key:"about_title",label:"Section Title",type:"text",placeholder:"About The Quarterdeck"},{key:"about_subtitle",label:"Section Subtitle",type:"textarea",placeholder:"Our core vision..."},{key:"about_vision_title",label:"Vision Card Title",type:"text",placeholder:"Vision & Philosophy"},{key:"about_vision_content",label:"Vision Content",type:"textarea",placeholder:"The Quarterdeck is born from..."},{key:"about_vision_content_2",label:"Vision Content (Paragraph 2)",type:"textarea"},{key:"about_tags",label:"Keyword Tags (comma-separated)",type:"text",placeholder:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly"},{key:"about_team_title",label:"Team Card Title",type:"text",placeholder:"The Project Team"},{key:"about_team_content",label:"Team Content",type:"textarea"},{key:"about_team_credits",label:"Team Credits (pipe-separated)",type:"textarea",placeholder:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation"}]},facilities:{title:"Facilities Section",description:"Overview of available sports facilities.",fields:[{key:"facilities_title",label:"Section Title",type:"text",placeholder:"World-Class Facilities"},{key:"facilities_subtitle",label:"Section Subtitle",type:"textarea"},{key:"facilities_cta",label:"CTA Button Text",type:"text",placeholder:"Check Court Availability"}]},membership:{title:"Membership Section",description:"Membership options and benefits.",fields:[{key:"membership_title",label:"Section Title",type:"text",placeholder:"Membership Options"},{key:"membership_subtitle",label:"Section Subtitle",type:"textarea"},{key:"membership_cta",label:"CTA Button Text",type:"text",placeholder:"Explore Membership"}]},contact:{title:"Contact Information",description:"Contact details displayed across the site.",fields:[{key:"contact_title",label:"Section Title",type:"text",placeholder:"Get In Touch"},{key:"contact_subtitle",label:"Section Subtitle",type:"textarea"},{key:"contact_email",label:"Email Address",type:"email",placeholder:"info@thequarterdeck.pk"},{key:"contact_phone",label:"Phone Number",type:"text",placeholder:"+92 51 1234567"},{key:"contact_address",label:"Physical Address",type:"textarea"},{key:"contact_hours",label:"Operating Hours",type:"text"}]},updates:{title:"Updates Section",description:"Construction updates and progress section.",fields:[{key:"updates_title",label:"Section Title",type:"text",placeholder:"Construction Updates"},{key:"updates_subtitle",label:"Section Subtitle",type:"textarea"},{key:"updates_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Roadmap"}]},gallery:{title:"Gallery Section",description:"Progress photos and renders section.",fields:[{key:"gallery_title",label:"Section Title",type:"text",placeholder:"Gallery & Progress Photos"},{key:"gallery_subtitle",label:"Section Subtitle",type:"textarea"},{key:"gallery_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Gallery"}]},careers:{title:"Careers Page",description:"Content for the careers/jobs section.",fields:[{key:"careers_title",label:"Page Title",type:"text",placeholder:"Join Our Team"},{key:"careers_subtitle",label:"Page Subtitle",type:"textarea"},{key:"careers_cta",label:"CTA Button Text",type:"text",placeholder:"View Open Positions"}]},rules:{title:"Rules Page",description:"Club rules and etiquette content.",fields:[{key:"rules_title",label:"Page Title",type:"text",placeholder:"Club Rules & Etiquette"},{key:"rules_subtitle",label:"Page Subtitle",type:"textarea"},{key:"rules_cta",label:"CTA Button Text",type:"text",placeholder:"View All Rules"}]},events:{title:"Events Page",description:"Content for events and programs section.",fields:[{key:"events_title",label:"Page Title",type:"text",placeholder:"Events & Programs"},{key:"events_subtitle",label:"Page Subtitle",type:"textarea"}]},leaderboard:{title:"Leaderboard Page",description:"Content for the leaderboard section.",fields:[{key:"leaderboard_title",label:"Page Title",type:"text",placeholder:"Leaderboard"},{key:"leaderboard_subtitle",label:"Page Subtitle",type:"textarea"}]},coming_soon:{title:"Coming Soon Page",description:"Content for the pre-launch Coming Soon page.",fields:[{key:"coming_soon_title",label:"Page Title",type:"text",placeholder:"Something Amazing Is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",type:"textarea"},{key:"coming_soon_description",label:"Description",type:"textarea"},{key:"coming_soon_cta",label:"CTA Button Text",type:"text",placeholder:"Join the Waitlist"},{key:"coming_soon_launch_date",label:"Launch Date",type:"date"},{key:"coming_soon_location",label:"Location Text",type:"text"}]},social:{title:"Social Media Links",description:"Social media profile URLs.",fields:[{key:"social_facebook",label:"Facebook URL",type:"text"},{key:"social_instagram",label:"Instagram URL",type:"text"},{key:"social_twitter",label:"Twitter/X URL",type:"text"},{key:"social_linkedin",label:"LinkedIn URL",type:"text"},{key:"social_youtube",label:"YouTube URL",type:"text"}]},footer:{title:"Footer Content",description:"Footer text and copyright information.",fields:[{key:"footer_tagline",label:"Tagline",type:"text"},{key:"footer_copyright",label:"Copyright Text",type:"text"},{key:"footer_disclaimer",label:"Disclaimer Text",type:"textarea"}]},visibility:{title:"Section Visibility & Order",description:"Control which sections are displayed on the homepage and their display order.",fields:[]}},vMe=[{key:"section_about_visible",orderKey:"section_about_order",label:"About Section",description:"Vision, philosophy and team info",defaultOrder:1},{key:"section_facilities_visible",orderKey:"section_facilities_order",label:"Facilities Section",description:"Sports facility cards",defaultOrder:2},{key:"section_updates_visible",orderKey:"section_updates_order",label:"Construction Updates",description:"Progress timeline and milestones",defaultOrder:3},{key:"section_gallery_visible",orderKey:"section_gallery_order",label:"Gallery Section",description:"Photo gallery preview",defaultOrder:4},{key:"section_membership_visible",orderKey:"section_membership_order",label:"Membership Section",description:"Membership tiers and pricing",defaultOrder:5},{key:"section_rules_visible",orderKey:"section_rules_order",label:"Rules Section",description:"Club rules and safety",defaultOrder:6},{key:"section_careers_visible",orderKey:"section_careers_order",label:"Careers Section",description:"Job openings preview",defaultOrder:7}];function yMe(){const{toast:e}=mt(),[t,r]=v.useState({}),[n,a]=v.useState(new Set),[i,o]=v.useState(new Set),{data:l,isLoading:c}=de({queryKey:["/api/admin/cms"]});v.useEffect(()=>{if(l){const x={};l.forEach(b=>{x[b.key]=b.content||""}),r(b=>({...x,...b}))}},[l]);const u=ye({mutationFn:async x=>await ve("POST","/api/admin/cms",{key:x.key,title:x.title,content:x.content}),onSuccess:(x,b)=>{re.invalidateQueries({queryKey:["/api/admin/cms"]}),re.invalidateQueries({queryKey:["/api/cms/bulk"]}),a(j=>{const _=new Set(j);return _.delete(b.key),_}),o(j=>new Set(j).add(b.key)),setTimeout(()=>{o(j=>{const _=new Set(j);return _.delete(b.key),_})},2e3),e({title:"Content saved successfully"})},onError:(x,b)=>{a(j=>{const _=new Set(j);return _.delete(b.key),_}),e({title:"Failed to save content",variant:"destructive"})}}),d=x=>{const b=l==null?void 0:l.find(j=>j.key===x);return(b==null?void 0:b.content)??void 0},f=x=>Ee[x]||"",h=x=>{const b=d(x);return b!==void 0&&b!==""},p=x=>{const b=d(x)||"",j=t[x];return j!==void 0&&j!==b},y=(x,b)=>{r(j=>({...j,[x]:b}))},m=(x,b)=>{const j=t[x]??d(x)??"";a(_=>new Set(_).add(x)),u.mutate({key:x,content:j,title:b})},w=x=>{Fj[x].fields.forEach(j=>{((t[j.key]??d(j.key)??"")||p(j.key))&&m(j.key,j.label)})},g=x=>{const b=f(x);r(j=>({...j,[x]:b}))};return c?s.jsx(nt,{title:"Site Content",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"Site Content",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:"Edit Site Content"})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(KE,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Saved in database"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-sm",children:"Using default value"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Unsaved changes"})]})]}),s.jsxs(ua,{defaultValue:"hero",className:"w-full",children:[s.jsx(Ds,{className:"flex flex-wrap h-auto gap-1 mb-6",children:Object.entries(Fj).map(([x,b])=>s.jsx(Vt,{value:x,className:"text-xs","data-testid":`tab-${x}`,children:b.title},x))}),Object.entries(Fj).map(([x,b])=>s.jsxs(qt,{value:x,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:b.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]}),x!=="visibility"&&s.jsxs(M,{variant:"outline",onClick:()=>w(x),"data-testid":`button-save-all-${x}`,children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Save All Changes"]})]}),x==="visibility"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Toggle sections on or off and set their display order on the homepage. Lower numbers appear first. Changes are saved automatically."}),vMe.slice().sort((j,_)=>{const N=parseInt(t[j.orderKey]??d(j.orderKey)??String(j.defaultOrder),10),S=parseInt(t[_.orderKey]??d(_.orderKey)??String(_.defaultOrder),10);return N-S}).map(j=>{const _=d(j.key),N=(t[j.key]??_??"true").toLowerCase()==="true",S=n.has(j.key)||n.has(j.orderKey),C=i.has(j.key)||i.has(j.orderKey),P=t[j.orderKey]??d(j.orderKey)??String(j.defaultOrder);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[N?s.jsx(Zn,{className:"w-5 h-5 text-green-600 shrink-0"}):s.jsx(qi,{className:"w-5 h-5 text-muted-foreground shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx(V,{htmlFor:j.key,className:"font-medium cursor-pointer",children:j.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:j.description})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V,{htmlFor:j.orderKey,className:"text-xs text-muted-foreground whitespace-nowrap",children:"Order:"}),s.jsx(Y,{id:j.orderKey,type:"number",min:"1",max:"10",className:"w-16 text-center",value:P,onChange:k=>{const E=k.target.value;r(T=>({...T,[j.orderKey]:E}))},onBlur:()=>{const k=t[j.orderKey]??String(j.defaultOrder);a(E=>new Set(E).add(j.orderKey)),u.mutate({key:j.orderKey,content:k,title:`${j.label} Order`})},"data-testid":`input-${j.orderKey}`})]}),C&&s.jsxs(ce,{className:"bg-green-500 text-xs",children:[s.jsx(ym,{className:"w-3 h-3 mr-1"}),"Saved"]}),S&&s.jsx(Te,{className:"w-4 h-4 animate-spin"}),s.jsx(Gt,{id:j.key,checked:N,onCheckedChange:k=>{const E=k?"true":"false";r(T=>({...T,[j.key]:E})),a(T=>new Set(T).add(j.key)),u.mutate({key:j.key,content:E,title:j.label})},disabled:S,"data-testid":`toggle-${j.key}`})]})]},j.key)})]}):s.jsx("div",{className:"space-y-6",children:b.fields.map(j=>{const _=d(j.key),N=f(j.key),S=t[j.key]??_??"",C=h(j.key),P=p(j.key);return s.jsxs("div",{className:"space-y-2 p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V,{htmlFor:j.key,className:"font-medium",children:j.label}),i.has(j.key)?s.jsxs(ce,{className:"bg-green-500 text-xs",children:[s.jsx(ym,{className:"w-3 h-3 mr-1"}),"Saved"]}):P?s.jsxs(ce,{variant:"outline",className:"text-blue-600 border-blue-600 text-xs",children:[s.jsx(Cn,{className:"w-3 h-3 mr-1"}),"Unsaved"]}):C?s.jsxs(ce,{variant:"outline",className:"text-green-600 border-green-600 text-xs",children:[s.jsx(KE,{className:"w-3 h-3 mr-1"}),"Database"]}):N?s.jsxs(ce,{variant:"outline",className:"text-amber-600 border-amber-600 text-xs",children:[s.jsx(hs,{className:"w-3 h-3 mr-1"}),"Default"]}):null]}),s.jsxs("div",{className:"flex items-center gap-1",children:[N&&!C&&s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>g(j.key),className:"text-xs",title:"Use default value",children:"Reset"}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>m(j.key,j.label),disabled:n.has(j.key),"data-testid":`button-save-${j.key}`,children:n.has(j.key)?s.jsx(Te,{className:"w-4 h-4 animate-spin"}):s.jsx(nr,{className:"w-4 h-4"})})]})]}),N&&!C&&s.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded border-l-2 border-amber-500",children:[s.jsx("span",{className:"font-medium",children:"Currently showing on website: "}),s.jsx("span",{className:"italic",children:N.length>150?N.substring(0,150)+"...":N})]}),j.type==="textarea"?s.jsx(ct,{id:j.key,value:S,onChange:k=>y(j.key,k.target.value),placeholder:j.placeholder||N||"Enter content...",rows:4,className:P?"border-blue-500":"","data-testid":`input-${j.key}`}):s.jsx(Y,{id:j.key,type:j.type==="date"?"date":j.type==="email"?"email":"text",value:S,onChange:k=>y(j.key,k.target.value),placeholder:j.placeholder||N||"Enter content...",className:P?"border-blue-500":"","data-testid":`input-${j.key}`})]},j.key)})})]},x))]})]})]})})})}const aM=[{key:"coming_soon_launch_date",label:"Launch Date",description:"The countdown timer on the Coming Soon page counts down to this date",type:"date",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_launch_date||"2025-12-25"},{key:"coming_soon_title",label:"Main Title",description:"The large heading on the Coming Soon page",type:"text",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_title||"Something Extraordinary is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",description:"The description text below the main title",type:"textarea",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_subtitle||"Premium sports and recreation complex launching soon in Islamabad"},{key:"coming_soon_location",label:"Location",description:"The location displayed at the bottom of the page",type:"text",pageRef:"/coming-soon",defaultValue:Ee.coming_soon_location||"Sector F-7, Islamabad"},{key:"hero_eyebrow",label:"Launch Badge Text",description:"The small badge text shown above the countdown (e.g., 'Target Launch: Q4 2025')",type:"text",pageRef:"/coming-soon",defaultValue:Ee.hero_eyebrow||"Target Launch: Q4 2025"}];function bMe(){const{toast:e}=mt(),[t,r]=v.useState({}),[n,a]=v.useState(new Set),{data:i,isLoading:o}=de({queryKey:["/api/cms"]}),{data:l,isLoading:c}=de({queryKey:["/api/admin/site-settings"]});v.useEffect(()=>{if(!o&&!c){const g={};aM.forEach(x=>{const b=i==null?void 0:i.find(_=>_.key===x.key),j=l==null?void 0:l.find(_=>_.key===x.key);g[x.key]=(b==null?void 0:b.content)||(j==null?void 0:j.value)||x.defaultValue}),r(g)}},[i,l,o,c]);const u=ye({mutationFn:async({key:g,value:x})=>await ve("POST","/api/admin/cms",{key:g,content:x}),onSuccess:(g,x)=>{re.invalidateQueries({queryKey:["/api/cms"]}),re.invalidateQueries({queryKey:["/api/cms/bulk"]}),re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),a(b=>{const j=new Set(b);return j.delete(x.key),j}),e({title:"Setting saved successfully"})},onError:()=>{e({title:"Failed to save setting",variant:"destructive"})}}),d=(g,x)=>{r(b=>({...b,[g]:x})),a(b=>new Set(b).add(g))},f=g=>{u.mutate({key:g,value:t[g]})},h=async()=>{const g=Array.from(n).map(x=>ve("POST","/api/admin/cms",{key:x,content:t[x]}));try{await Promise.all(g),re.invalidateQueries({queryKey:["/api/cms"]}),re.invalidateQueries({queryKey:["/api/cms/bulk"]}),re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),a(new Set),e({title:"All changes saved successfully"})}catch{e({title:"Failed to save some settings",variant:"destructive"})}},p=g=>{if(n.has(g))return"edited";const x=i==null?void 0:i.find(j=>j.key===g),b=l==null?void 0:l.find(j=>j.key===g);return x||b?"database":"default"},y=g=>{switch(g){case"database":return s.jsx(ce,{className:"bg-green-500 text-xs",children:"From Database"});case"edited":return s.jsx(ce,{className:"bg-amber-500 text-xs",children:"Edited (Unsaved)"});default:return s.jsx(ce,{variant:"secondary",className:"text-xs",children:"Using Default"})}},m=t.coming_soon_launch_date?new Date(t.coming_soon_launch_date):new Date("2025-12-25"),w=Xte(m,new Date);return o||c?s.jsx(nt,{title:"Coming Soon Page",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Coming Soon Page",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage the Coming Soon page content and countdown timer."}),s.jsxs("a",{href:"/coming-soon",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[s.jsx(Zn,{className:"w-3 h-3"})," View Coming Soon Page",s.jsx(Zo,{className:"w-3 h-3"})]})]}),n.size>0&&s.jsxs(M,{onClick:h,"data-testid":"button-save-all-coming-soon",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"})," Save All Changes (",n.size,")"]})]}),s.jsxs(ne,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"w-5 h-5"}),"Countdown Status"]}),s.jsx(Rt,{children:"Current countdown configuration"})]}),s.jsx(se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:w}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Until Launch"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-xl font-semibold",children:Xn(m,"MMMM d, yyyy")}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Launch Date"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-xl font-semibold",children:w>0?"Counting Down":"Launched!"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]})]})})]}),s.jsx("div",{className:"grid gap-6",children:aM.map(g=>{const x=p(g.key);return s.jsxs(ne,{children:[s.jsx(Le,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsxs(We,{className:"text-base flex items-center gap-2",children:[g.label,y(x)]}),s.jsx(Rt,{className:"mt-1",children:g.description})]}),s.jsxs("a",{href:g.pageRef,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary flex items-center gap-1 hover:underline whitespace-nowrap",children:["View on site ",s.jsx(Zo,{className:"w-3 h-3"})]})]})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex gap-3",children:[g.type==="textarea"?s.jsx(ct,{value:t[g.key]||"",onChange:b=>d(g.key,b.target.value),rows:3,className:"flex-1","data-testid":`input-${g.key}`}):g.type==="date"?s.jsx(Y,{type:"date",value:t[g.key]||"",onChange:b=>d(g.key,b.target.value),className:"flex-1","data-testid":`input-${g.key}`}):s.jsx(Y,{value:t[g.key]||"",onChange:b=>d(g.key,b.target.value),className:"flex-1","data-testid":`input-${g.key}`}),s.jsx(M,{variant:"outline",onClick:()=>f(g.key),disabled:!n.has(g.key)||u.isPending,"data-testid":`button-save-${g.key}`,children:s.jsx(nr,{className:"w-4 h-4"})})]}),g.key==="coming_soon_launch_date"&&t[g.key]&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Formatted: ",Xn(new Date(t[g.key]),"EEEE, MMMM d, yyyy")]})]})]},g.key)})})]})})}function wMe(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState("details"),[l,c]=v.useState(!1),[u,d]=v.useState(null),f=v.useRef(null),[h,p]=v.useState({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:"",aboutContent:"",features:[],amenities:[],keywords:[],quickInfo:{},pricingNotes:"",certificationInfo:"",galleryImages:[],howToPlayContent:"",scoringRulesContent:"",winningCriteriaContent:"",pointsSystemContent:""}),[y,m]=v.useState({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""}),[w,g]=v.useState({label:"",price:0,icon:""}),[x,b]=v.useState(null),{data:j,isLoading:_}=de({queryKey:["/api/admin/facilities"]}),{data:N}=de({queryKey:["/api/admin/venues"]}),{data:S,refetch:C}=de({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"venues"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const B=await fetch(`/api/admin/facilities/${t.id}/venues`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch");return B.json()},enabled:!!(t!=null&&t.id)}),{data:P,refetch:k}=de({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"addons"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const B=await fetch(`/api/admin/facilities/${t.id}/addons`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch");return B.json()},enabled:!!(t!=null&&t.id)}),E=ye({mutationFn:async B=>await ve("POST","/api/admin/facilities",B),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility created successfully"}),a(!1),Q()},onError:()=>{e({title:"Failed to create facility",variant:"destructive"})}}),T=ye({mutationFn:async({id:B,data:ge})=>await ve("PATCH",`/api/admin/facilities/${B}`,ge),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility updated successfully"}),a(!1),r(null),Q()},onError:()=>{e({title:"Failed to update facility",variant:"destructive"})}}),I=ye({mutationFn:async B=>await ve("DELETE",`/api/admin/facilities/${B}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility deleted successfully"})},onError:()=>{e({title:"Failed to delete facility",variant:"destructive"})}}),R=ye({mutationFn:async B=>await ve("POST",`/api/admin/facilities/${B.facilityId}/venues`,B),onSuccess:()=>{C(),e({title:"Venue added to facility"}),F()},onError:()=>{e({title:"Failed to add venue",variant:"destructive"})}}),D=ye({mutationFn:async({id:B,data:ge})=>await ve("PATCH",`/api/admin/facility-venues/${B}`,ge),onSuccess:()=>{C(),e({title:"Venue settings updated"})},onError:()=>{e({title:"Failed to update venue settings",variant:"destructive"})}}),O=ye({mutationFn:async B=>await ve("DELETE",`/api/admin/facility-venues/${B}`),onSuccess:()=>{C(),e({title:"Venue removed from facility"})},onError:()=>{e({title:"Failed to remove venue",variant:"destructive"})}}),z=ye({mutationFn:async B=>await ve("POST",`/api/admin/facilities/${B.facilityId}/addons`,B),onSuccess:()=>{k(),e({title:"Add-on created successfully"}),J()},onError:()=>{e({title:"Failed to create add-on",variant:"destructive"})}}),A=ye({mutationFn:async({id:B,data:ge})=>await ve("PATCH",`/api/admin/facility-addons/${B}`,ge),onSuccess:()=>{k(),e({title:"Add-on updated successfully"}),J()},onError:()=>{e({title:"Failed to update add-on",variant:"destructive"})}}),$=ye({mutationFn:async B=>await ve("DELETE",`/api/admin/facility-addons/${B}`),onSuccess:()=>{k(),e({title:"Add-on deleted successfully"})},onError:()=>{e({title:"Failed to delete add-on",variant:"destructive"})}}),Q=()=>{p({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:"",aboutContent:"",features:[],amenities:[],keywords:[],quickInfo:{},pricingNotes:"",certificationInfo:"",galleryImages:[],howToPlayContent:"",scoringRulesContent:"",winningCriteriaContent:"",pointsSystemContent:""}),o("details"),d(null),f.current&&(f.current.value="")},X=async B=>{var Xe;const ge=(Xe=B.target.files)==null?void 0:Xe[0];if(ge){if(!["image/jpeg","image/png","image/webp"].includes(ge.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(ge.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const at=new FormData;at.append("image",ge);const pt=await fetch("/api/admin/upload",{method:"POST",body:at,credentials:"include"});if(!pt.ok){let Be="Upload failed";try{Be=(await pt.json()).message||Be}catch{Be=pt.statusText||Be}throw new Error(Be)}const Ft=await pt.json();d({name:ge.name,url:Ft.imageUrl}),p(Be=>({...Be,imageUrl:Ft.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(at){e({title:"Upload failed",description:at.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1)}}},F=()=>{m({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""})},J=()=>{g({label:"",price:0,icon:""}),b(null)},q=()=>{t&&(x?A.mutate({id:x.id,data:w}):z.mutate({facilityId:t.id,...w}))},ee=B=>{b(B),g({label:B.label,price:B.price,icon:B.icon||""})},pe=B=>{r(B),p({slug:B.slug,name:B.name,description:B.description||"",category:B.category||"",basePrice:B.basePrice,minPlayers:B.minPlayers||1,resourceCount:B.resourceCount||1,requiresCertification:B.requiresCertification||!1,isRestricted:B.isRestricted||!1,isHidden:B.isHidden||!1,status:B.status||"PLANNED",imageUrl:B.imageUrl||"",aboutContent:B.aboutContent||"",features:B.features||[],amenities:B.amenities||[],keywords:B.keywords||[],quickInfo:typeof B.quickInfo=="object"&&!Array.isArray(B.quickInfo)?B.quickInfo:{},pricingNotes:B.pricingNotes||"",certificationInfo:B.certificationInfo||"",galleryImages:B.galleryImages||[],howToPlayContent:B.howToPlayContent||"",scoringRulesContent:B.scoringRulesContent||"",winningCriteriaContent:B.winningCriteriaContent||"",pointsSystemContent:B.pointsSystemContent||""}),o("details"),a(!0)},te=()=>{t?T.mutate({id:t.id,data:h}):E.mutate(h)},be=()=>{!t||!y.venueId||R.mutate({facilityId:t.id,venueId:y.venueId,status:y.status,resourceCount:y.resourceCount,priceOverride:y.priceOverride?parseInt(y.priceOverride):null})},ie=B=>{switch(B){case"ACTIVE":return s.jsx(ce,{className:"bg-green-500",children:"Active"});case"OPENING_SOON":return s.jsx(ce,{className:"bg-amber-500",children:"Opening Soon"});case"COMING_SOON":return s.jsx(ce,{className:"bg-amber-500",children:"Coming Soon"});case"PLANNED":default:return s.jsx(ce,{variant:"secondary",children:"Planned"})}},U=B=>{const ge=N==null?void 0:N.find(Xe=>Xe.id===B);return(ge==null?void 0:ge.name)||"Unknown Venue"},le=(S==null?void 0:S.map(B=>B.venueId))||[],G=(N==null?void 0:N.filter(B=>!le.includes(B.id)))||[];return _?s.jsx(nt,{title:"Facilities",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Facilities",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage facilities available for booking at The Quarterdeck."}),s.jsxs(Et,{open:n,onOpenChange:B=>{a(B),B||(r(null),Q())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-facility",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Facility"]})}),s.jsxs(_t,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:t?"Edit Facility":"Add New Facility"})}),s.jsxs(ua,{value:i,onValueChange:o,children:[s.jsxs(Ds,{className:"grid w-full grid-cols-4",children:[s.jsxs(Vt,{value:"details",className:"flex items-center gap-2",children:[s.jsx(Ck,{className:"w-4 h-4"}),"Details"]}),s.jsxs(Vt,{value:"content",className:"flex items-center gap-2",children:[s.jsx(hs,{className:"w-4 h-4"}),"Content"]}),s.jsxs(Vt,{value:"venues",className:"flex items-center gap-2",disabled:!t,children:[s.jsx(ps,{className:"w-4 h-4"}),"Venues",!t&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]}),s.jsxs(Vt,{value:"addons",className:"flex items-center gap-2",disabled:!t,children:[s.jsx(_G,{className:"w-4 h-4"}),"Add-ons",!t&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]})]}),s.jsxs(qt,{value:"details",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"name",children:"Name"}),s.jsx(Y,{id:"name",value:h.name,onChange:B=>p({...h,name:B.target.value}),"data-testid":"input-facility-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),s.jsx(Y,{id:"slug",value:h.slug,onChange:B=>p({...h,slug:B.target.value}),"data-testid":"input-facility-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:h.description,onChange:B=>p({...h,description:B.target.value}),rows:3,"data-testid":"input-facility-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:h.category,onChange:B=>p({...h,category:B.target.value}),placeholder:"e.g., Indoor Court, Precision Sport","data-testid":"input-facility-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"status",children:"Default Status"}),s.jsxs(kt,{value:h.status,onValueChange:B=>p({...h,status:B}),children:[s.jsx(jt,{"data-testid":"select-facility-status",children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"PLANNED",children:"Planned"}),s.jsx(Ce,{value:"OPENING_SOON",children:"Opening Soon"}),s.jsx(Ce,{value:"ACTIVE",children:"Active"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"basePrice",children:"Base Price (PKR)"}),s.jsx(Y,{id:"basePrice",type:"number",value:h.basePrice,onChange:B=>p({...h,basePrice:parseInt(B.target.value)||0}),"data-testid":"input-facility-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"minPlayers",children:"Min Players"}),s.jsx(Y,{id:"minPlayers",type:"number",value:h.minPlayers,onChange:B=>p({...h,minPlayers:parseInt(B.target.value)||1}),"data-testid":"input-facility-min-players"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"resourceCount",children:"Default Resource Count"}),s.jsx(Y,{id:"resourceCount",type:"number",value:h.resourceCount,onChange:B=>p({...h,resourceCount:parseInt(B.target.value)||1}),"data-testid":"input-facility-resource-count"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Facility Image"}),s.jsxs("div",{className:"border rounded-md p-3 space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:X,className:"hidden","data-testid":"input-facility-image-file"}),s.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:()=>{var B;return(B=f.current)==null?void 0:B.click()},disabled:l,"data-testid":"button-upload-facility-image",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Upload"]})}),s.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"or"}),s.jsx(Y,{id:"imageUrl",value:h.imageUrl,onChange:B=>p({...h,imageUrl:B.target.value}),placeholder:"Enter image URL...",className:"flex-1","data-testid":"input-facility-image-url"})]}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(yn,{className:"w-4 h-4"}),u.name]}),h.imageUrl&&s.jsx("div",{className:"rounded-md border overflow-hidden",children:s.jsx("img",{src:h.imageUrl,alt:"Preview",className:"w-full h-24 object-cover",onError:B=>{B.target.style.display="none"}})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"requiresCertification",checked:h.requiresCertification,onCheckedChange:B=>p({...h,requiresCertification:B})}),s.jsx(V,{htmlFor:"requiresCertification",children:"Requires Certification"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isRestricted",checked:h.isRestricted,onCheckedChange:B=>p({...h,isRestricted:B})}),s.jsx(V,{htmlFor:"isRestricted",children:"Restricted Access"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isHidden",checked:h.isHidden,onCheckedChange:B=>p({...h,isHidden:B}),"data-testid":"switch-is-hidden"}),s.jsx(V,{htmlFor:"isHidden",children:"Hide from Public"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:te,disabled:E.isPending||T.isPending,"data-testid":"button-save-facility",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),s.jsxs(qt,{value:"content",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"aboutContent",children:"About / Extended Description"}),s.jsx(ct,{id:"aboutContent",value:h.aboutContent,onChange:B=>p({...h,aboutContent:B.target.value}),placeholder:"Detailed information about the facility...",rows:4,"data-testid":"input-about-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Features (one per line)"}),s.jsx(ct,{value:h.features.join(`
`),onChange:B=>p({...h,features:B.target.value.split(`
`).filter(ge=>ge.trim())}),placeholder:`Professional lighting
Climate controlled
Premium equipment`,rows:4,"data-testid":"input-features"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each feature on a new line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Amenities (one per line)"}),s.jsx(ct,{value:h.amenities.join(`
`),onChange:B=>p({...h,amenities:B.target.value.split(`
`).filter(ge=>ge.trim())}),placeholder:`Changing rooms
Shower facilities
Equipment rental`,rows:4,"data-testid":"input-amenities"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each amenity on a new line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Keywords (comma-separated)"}),s.jsx(Y,{value:h.keywords.join(", "),onChange:B=>p({...h,keywords:B.target.value.split(",").map(ge=>ge.trim()).filter(ge=>ge)}),placeholder:"padel, tennis, racquet sports, indoor","data-testid":"input-keywords"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for SEO and search"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Quick Info (key: value pairs, one per line)"}),s.jsx(ct,{value:Object.entries(h.quickInfo).map(([B,ge])=>`${B}: ${ge}`).join(`
`),onChange:B=>{const ge={};B.target.value.split(`
`).forEach(Xe=>{const at=Xe.indexOf(":");if(at>0){const pt=Xe.substring(0,at).trim(),Ft=Xe.substring(at+1).trim();pt&&(ge[pt]=Ft)}}),p({...h,quickInfo:ge})},placeholder:`Hours: 6AM - 11PM
Courts: 4
Surface: Artificial Turf`,rows:4,"data-testid":"input-quick-info"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: Key: Value (one per line). These appear in the Quick Info sidebar."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"pricingNotes",children:"Pricing Notes"}),s.jsx(ct,{id:"pricingNotes",value:h.pricingNotes,onChange:B=>p({...h,pricingNotes:B.target.value}),placeholder:"Special pricing conditions, discounts, or package information...",rows:3,"data-testid":"input-pricing-notes"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"certificationInfo",children:"Certification Requirements"}),s.jsx(ct,{id:"certificationInfo",value:h.certificationInfo,onChange:B=>p({...h,certificationInfo:B.target.value}),placeholder:"Required certifications, safety training, or prerequisites...",rows:3,"data-testid":"input-certification-info"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Gallery Images (URLs, one per line)"}),s.jsx(ct,{value:h.galleryImages.join(`
`),onChange:B=>p({...h,galleryImages:B.target.value.split(`
`).filter(ge=>ge.trim())}),placeholder:`/uploads/facility1.jpg
/uploads/facility2.jpg`,rows:3,"data-testid":"input-gallery-images"})]}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Educational Content"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Help players understand the sport with detailed guides."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"howToPlayContent",children:"How To Play"}),s.jsx(ct,{id:"howToPlayContent",value:h.howToPlayContent,onChange:B=>p({...h,howToPlayContent:B.target.value}),placeholder:"Explain how the sport/game is played, basic rules, court layout, equipment needed...",rows:5,"data-testid":"input-how-to-play"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the basics of how to play this sport."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"scoringRulesContent",children:"Scoring Rules"}),s.jsx(ct,{id:"scoringRulesContent",value:h.scoringRulesContent,onChange:B=>p({...h,scoringRulesContent:B.target.value}),placeholder:"Explain how points are scored, game structure (sets, games), point values...",rows:5,"data-testid":"input-scoring-rules"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe how scoring works in this sport."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"winningCriteriaContent",children:"Winning Criteria"}),s.jsx(ct,{id:"winningCriteriaContent",value:h.winningCriteriaContent,onChange:B=>p({...h,winningCriteriaContent:B.target.value}),placeholder:"Explain how to determine the winner, tiebreakers, match formats...",rows:5,"data-testid":"input-winning-criteria"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe how winners are determined."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"pointsSystemContent",children:"Points & Ranking System"}),s.jsx(ct,{id:"pointsSystemContent",value:h.pointsSystemContent,onChange:B=>p({...h,pointsSystemContent:B.target.value}),placeholder:"Explain how leaderboard points are awarded, ranking system, tournament points...",rows:5,"data-testid":"input-points-system"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the points and ranking system at The Quarterdeck."})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:te,disabled:E.isPending||T.isPending,"data-testid":"button-save-facility-content",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),s.jsx(qt,{value:"venues",className:"space-y-4 py-4",children:t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Venue"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Venue"}),s.jsxs(kt,{value:y.venueId,onValueChange:B=>m({...y,venueId:B}),children:[s.jsx(jt,{"data-testid":"select-venue",children:s.jsx(Ct,{placeholder:"Select venue..."})}),s.jsx(Nt,{children:G.length===0?s.jsx(Ce,{value:"none",disabled:!0,children:"No venues available"}):G.map(B=>s.jsxs(Ce,{value:B.id,children:[B.name," (",B.city,")"]},B.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Status at Venue"}),s.jsxs(kt,{value:y.status,onValueChange:B=>m({...y,status:B}),children:[s.jsx(jt,{"data-testid":"select-venue-status",children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"PLANNED",children:"Planned"}),s.jsx(Ce,{value:"COMING_SOON",children:"Coming Soon"}),s.jsx(Ce,{value:"ACTIVE",children:"Active"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Resource Count at Venue"}),s.jsx(Y,{type:"number",value:y.resourceCount,onChange:B=>m({...y,resourceCount:parseInt(B.target.value)||1}),"data-testid":"input-venue-resource-count"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Price Override (PKR)"}),s.jsx(Y,{type:"number",value:y.priceOverride,onChange:B=>m({...y,priceOverride:B.target.value}),placeholder:`Leave empty to use base price (${h.basePrice})`,"data-testid":"input-venue-price-override"})]})]}),s.jsxs(M,{onClick:be,disabled:!y.venueId||R.isPending,"data-testid":"button-add-venue",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Assigned Venues"}),!S||S.length===0?s.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No venues assigned to this facility yet. Add a venue above to configure venue-specific settings."}):s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Venue"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{children:"Resources"}),s.jsx(ue,{children:"Price"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:S.map(B=>s.jsxs(tt,{"data-testid":`row-venue-${B.id}`,children:[s.jsx(oe,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ps,{className:"w-4 h-4 text-muted-foreground"}),U(B.venueId)]})}),s.jsx(oe,{children:s.jsxs(kt,{value:B.status||"PLANNED",onValueChange:ge=>D.mutate({id:B.id,data:{status:ge}}),children:[s.jsx(jt,{className:"w-32","data-testid":`select-fv-status-${B.id}`,children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"PLANNED",children:"Planned"}),s.jsx(Ce,{value:"COMING_SOON",children:"Coming Soon"}),s.jsx(Ce,{value:"ACTIVE",children:"Active"})]})]})}),s.jsx(oe,{children:s.jsx(Y,{type:"number",className:"w-20",value:B.resourceCount||1,onChange:ge=>D.mutate({id:B.id,data:{resourceCount:parseInt(ge.target.value)||1}}),"data-testid":`input-fv-resources-${B.id}`})}),s.jsx(oe,{children:s.jsx(Y,{type:"number",className:"w-28",value:B.priceOverride||"",placeholder:h.basePrice.toString(),onChange:ge=>D.mutate({id:B.id,data:{priceOverride:ge.target.value?parseInt(ge.target.value):null}}),"data-testid":`input-fv-price-${B.id}`})}),s.jsx(oe,{className:"text-right",children:s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remove this venue from the facility?")&&O.mutate(B.id)},"data-testid":`button-remove-venue-${B.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})})]},B.id))})]})]})]})}),s.jsx(qt,{value:"addons",className:"space-y-4 py-4",children:t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:x?"Edit Add-on":"Add New Add-on"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Label"}),s.jsx(Y,{value:w.label,onChange:B=>g({...w,label:B.target.value}),placeholder:"e.g., Equipment Rental","data-testid":"input-addon-label"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Price (PKR)"}),s.jsx(Y,{type:"number",value:w.price,onChange:B=>g({...w,price:parseInt(B.target.value)||0}),placeholder:"0","data-testid":"input-addon-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Icon (optional)"}),s.jsx(Y,{value:w.icon,onChange:B=>g({...w,icon:B.target.value}),placeholder:"e.g., Target, Coffee","data-testid":"input-addon-icon"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{onClick:q,disabled:!w.label||z.isPending||A.isPending,"data-testid":"button-save-addon",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),x?"Update Add-on":"Add Add-on"]}),x&&s.jsx(M,{variant:"outline",onClick:J,children:"Cancel"})]})]}),s.jsxs("div",{className:"rounded-lg border",children:[s.jsx("h4",{className:"font-medium p-4 border-b",children:"Facility Add-ons"}),!P||P.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No add-ons configured for this facility yet."}):s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Label"}),s.jsx(ue,{children:"Price"}),s.jsx(ue,{children:"Icon"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:P.map(B=>s.jsxs(tt,{"data-testid":`row-addon-${B.id}`,children:[s.jsx(oe,{className:"font-medium",children:B.label}),s.jsxs(oe,{children:["PKR ",B.price.toLocaleString()]}),s.jsx(oe,{children:B.icon||"-"}),s.jsxs(oe,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>ee(B),"data-testid":`button-edit-addon-${B.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Delete this add-on?")&&$.mutate(B.id)},"data-testid":`button-delete-addon-${B.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},B.id))})]})]})]})})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Category"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{children:"Base Price"}),s.jsx(ue,{children:"Courts/Resources"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[j==null?void 0:j.map(B=>s.jsxs(tt,{"data-testid":`row-facility-${B.id}`,children:[s.jsx(oe,{className:"font-medium",children:B.name}),s.jsx(oe,{children:B.category||"-"}),s.jsx(oe,{children:ie(B.status)}),s.jsxs(oe,{children:["PKR ",B.basePrice.toLocaleString()]}),s.jsx(oe,{children:B.resourceCount}),s.jsxs(oe,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>pe(B),"data-testid":`button-edit-facility-${B.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this facility?")&&I.mutate(B.id)},"data-testid":`button-delete-facility-${B.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},B.id)),(!j||j.length===0)&&s.jsx(tt,{children:s.jsx(oe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No facilities found. Add your first facility to get started."})})]})]})})})]})})}function jMe(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:p,...y}=f,m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,w=v.useMemo(()=>y,Object.values(y));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=v.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,NMe(a,...t)]}function NMe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var _Me=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],D9=_Me.reduce((e,t)=>{const r=Cb(`Primitive.${t}`),n=v.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),nP="Progress",sP=100,[SMe]=jMe(nP),[kMe,CMe]=SMe(nP),L9=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=PMe,...o}=e;(a||a===0)&&!iM(a)&&console.error(EMe(`${a}`,"Progress"));const l=iM(a)?a:sP;n!==null&&!oM(n,l)&&console.error(AMe(`${n}`,"Progress"));const c=oM(n,l)?n:null,u=By(c)?i(c,l):void 0;return s.jsx(kMe,{scope:r,value:c,max:l,children:s.jsx(D9.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":By(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":B9(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});L9.displayName=nP;var F9="ProgressIndicator",U9=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=CMe(F9,r);return s.jsx(D9.div,{"data-state":B9(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});U9.displayName=F9;function PMe(e,t){return`${Math.round(e/t*100)}%`}function B9(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function By(e){return typeof e=="number"}function iM(e){return By(e)&&!isNaN(e)&&e>0}function oM(e,t){return By(e)&&!isNaN(e)&&e<=t&&e>=0}function EMe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${sP}\`.`}function AMe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${sP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var V9=L9,OMe=U9;const wS=v.forwardRef(({className:e,value:t,...r},n)=>s.jsx(V9,{ref:n,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(OMe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));wS.displayName=V9.displayName;function TMe(){const{toast:e}=mt(),[t,r]=v.useState(new Set),[n,a]=v.useState(null),[i,o]=v.useState({}),{data:l,isLoading:c}=de({queryKey:["/api/admin/construction-phases"]});v.useEffect(()=>{if(l){const m={};l.forEach(w=>{m[w.id]={...w}}),o(m)}},[l]);const u=ye({mutationFn:async({id:m,data:w})=>{const g={...w,progress:w.progress!==void 0?Number(w.progress):void 0,isActive:w.status==="IN_PROGRESS",isComplete:w.status==="COMPLETE"||w.progress===100};return await ve("PATCH",`/api/admin/construction-phases/${m}`,g)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/construction-phases"]}),e({title:"Phase updated successfully"}),a(null)},onError:()=>{e({title:"Failed to update phase",variant:"destructive"})}}),d=(m,w,g)=>{o(x=>({...x,[m]:{...x[m],[w]:g}}))},f=m=>{u.mutate({id:m,data:i[m]})},h=m=>{switch(m){case"COMPLETE":return s.jsx(yn,{className:"w-5 h-5 text-green-500"});case"IN_PROGRESS":return s.jsx(z5,{className:"w-5 h-5 text-amber-500"});default:return s.jsx(Qt,{className:"w-5 h-5 text-muted-foreground"})}},p=m=>{switch(m){case"COMPLETE":return s.jsx(ce,{className:"bg-green-500",children:"Complete"});case"IN_PROGRESS":return s.jsx(ce,{className:"bg-amber-500",children:"In Progress"});default:return s.jsx(ce,{variant:"secondary",children:"Not Started"})}},y=()=>{if(!l||l.length===0)return 0;const m=l.reduce((w,g)=>w+(g.progress||0),0);return Math.round(m/l.length)};return c?s.jsx(nt,{title:"Construction Status",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Construction Status",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage construction phases and milestones. Changes automatically update the public roadmap."}),s.jsxs("a",{href:"/roadmap",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[s.jsx(Zn,{className:"w-3 h-3"})," View Public Roadmap",s.jsx(Zo,{className:"w-3 h-3"})]})]})}),s.jsxs(ne,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Le,{children:[s.jsx(We,{children:"Overall Project Progress"}),s.jsx(Rt,{children:"Combined progress across all construction phases"})]}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-2xl font-bold",children:[y(),"%"]}),s.jsxs("span",{className:"text-muted-foreground",children:[(l==null?void 0:l.filter(m=>m.status==="COMPLETE").length)||0," of ",(l==null?void 0:l.length)||0," phases complete"]})]}),s.jsx(wS,{value:y(),className:"h-3"})]})})]}),s.jsx("div",{className:"space-y-4",children:l==null?void 0:l.sort((m,w)=>(m.sortOrder||0)-(w.sortOrder||0)).map(m=>{const w=i[m.id]||m,g=n===m.id;return s.jsxs(ne,{className:`transition-all ${g?"ring-2 ring-primary":""}`,children:[s.jsxs(Le,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h(w.status),s.jsxs("div",{children:[s.jsxs(We,{className:"text-lg flex items-center gap-2",children:[w.label,": ",w.title,p(w.status)]}),s.jsx(Rt,{children:w.timeframe||"No timeframe set"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-lg font-semibold",children:[w.progress||0,"%"]}),s.jsx(M,{variant:g?"default":"outline",size:"sm",onClick:()=>a(g?null:m.id),"data-testid":`button-edit-phase-${m.id}`,children:g?"Cancel":"Edit"}),g&&s.jsxs(M,{size:"sm",onClick:()=>f(m.id),disabled:u.isPending,"data-testid":`button-save-phase-${m.id}`,children:[s.jsx(nr,{className:"w-4 h-4 mr-1"})," Save"]})]})]}),s.jsx(wS,{value:w.progress||0,className:"mt-3"})]}),g&&s.jsxs(se,{className:"border-t pt-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Phase Label"}),s.jsx(Y,{value:w.label||"",onChange:x=>d(m.id,"label",x.target.value),"data-testid":`input-phase-label-${m.id}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Phase Title"}),s.jsx(Y,{value:w.title||"",onChange:x=>d(m.id,"title",x.target.value),"data-testid":`input-phase-title-${m.id}`})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Status"}),s.jsxs(kt,{value:w.status,onValueChange:x=>{const b=x==="COMPLETE"?100:x==="NOT_STARTED"?0:w.progress;d(m.id,"status",x),d(m.id,"progress",b),d(m.id,"isComplete",x==="COMPLETE"),d(m.id,"isActive",x==="IN_PROGRESS")},children:[s.jsx(jt,{"data-testid":`select-phase-status-${m.id}`,children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"NOT_STARTED",children:"Not Started"}),s.jsx(Ce,{value:"IN_PROGRESS",children:"In Progress"}),s.jsx(Ce,{value:"COMPLETE",children:"Complete"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Progress (%)"}),s.jsx(Y,{type:"number",min:"0",max:"100",value:w.progress||0,onChange:x=>{const b=Math.min(100,Math.max(0,parseInt(x.target.value)||0));d(m.id,"progress",b),b===100?(d(m.id,"status","COMPLETE"),d(m.id,"isComplete",!0),d(m.id,"isActive",!1)):b>0?(d(m.id,"status","IN_PROGRESS"),d(m.id,"isComplete",!1),d(m.id,"isActive",!0)):(d(m.id,"status","NOT_STARTED"),d(m.id,"isComplete",!1),d(m.id,"isActive",!1))},"data-testid":`input-phase-progress-${m.id}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Timeframe"}),s.jsx(Y,{value:w.timeframe||"",onChange:x=>d(m.id,"timeframe",x.target.value),placeholder:"e.g., March - August 2024","data-testid":`input-phase-timeframe-${m.id}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Milestones (one per line)"}),s.jsx(ct,{value:(w.milestones||[]).join(`
`),onChange:x=>d(m.id,"milestones",x.target.value.split(`
`).filter(b=>b.trim())),rows:4,placeholder:"Enter milestones, one per line","data-testid":`input-phase-milestones-${m.id}`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix with [x] for completed milestones, [ ] for pending"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Highlights (one per line)"}),s.jsx(ct,{value:(w.highlights||[]).join(`
`),onChange:x=>d(m.id,"highlights",x.target.value.split(`
`).filter(b=>b.trim())),rows:2,placeholder:"Key achievements or notes","data-testid":`input-phase-highlights-${m.id}`})]})]}),!g&&s.jsx(se,{className:"pt-0",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Milestones"}),s.jsxs("ul",{className:"space-y-1",children:[(w.milestones||[]).slice(0,4).map((x,b)=>s.jsxs("li",{className:"text-sm flex items-center gap-2",children:[s.jsx(yn,{className:`w-3 h-3 ${x.startsWith("[x]")?"text-green-500":"text-muted-foreground"}`}),s.jsx("span",{className:x.startsWith("[x]")?"line-through text-muted-foreground":"",children:x.replace(/^\[(x| )\] /,"")})]},b)),(w.milestones||[]).length>4&&s.jsxs("li",{className:"text-sm text-muted-foreground",children:["+",w.milestones.length-4," more..."]})]})]}),(w.highlights||[]).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Highlights"}),s.jsx("ul",{className:"space-y-1",children:(w.highlights||[]).map((x,b)=>s.jsx("li",{className:"text-sm text-muted-foreground",children:x},b))})]})]})})]},m.id)})}),s.jsx(ne,{className:"border-dashed",children:s.jsxs(se,{className:"py-6 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-2",children:"Construction phases are automatically synced with the public roadmap page."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When you update progress or mark milestones as complete, the changes will be immediately visible to visitors."})]})})]})})}function IMe(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState(null),[h,p]=v.useState(null),[y,m]=v.useState({facilityId:"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),{data:w,isLoading:g}=de({queryKey:["/api/admin/events"]}),{data:x}=de({queryKey:["/api/admin/facilities"]}),b=ye({mutationFn:async O=>await ve("POST","/api/admin/events",O),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event created successfully"}),a(!1),k()},onError:()=>{e({title:"Failed to create event",variant:"destructive"})}}),j=ye({mutationFn:async({id:O,data:z})=>await ve("PATCH",`/api/admin/events/${O}`,z),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event updated successfully"}),a(!1),r(null),k()},onError:()=>{e({title:"Failed to update event",variant:"destructive"})}}),_=ye({mutationFn:async O=>await ve("DELETE",`/api/admin/events/${O}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event deleted successfully"})},onError:()=>{e({title:"Failed to delete event",variant:"destructive"})}}),{data:N,isLoading:S}=de({queryKey:["/api/admin/events",d==null?void 0:d.id,"registrations"],queryFn:async()=>{const O=await fetch(`/api/admin/events/${d==null?void 0:d.id}/registrations`,{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch registrations");return O.json()},enabled:!!d}),C=ye({mutationFn:async({registrationId:O,status:z,notes:A})=>await ve("POST",`/api/admin/event-registrations/${O}/verify-payment`,{status:z,notes:A}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events",d==null?void 0:d.id,"registrations"]}),e({title:"Payment status updated"}),p(null)},onError:()=>{e({title:"Failed to update payment status",variant:"destructive"})}}),P=O=>{switch(O){case"VERIFIED":return s.jsx(ce,{className:"bg-green-500",children:"Verified"});case"PENDING":return s.jsx(ce,{variant:"secondary",children:"Awaiting Payment"});case"PENDING_VERIFICATION":return s.jsx(ce,{className:"bg-amber-500",children:"Needs Verification"});case"REJECTED":return s.jsx(ce,{variant:"destructive",children:"Rejected"});case"NOT_REQUIRED":default:return s.jsx(ce,{variant:"outline",children:"Free"})}},k=()=>{var O;m({facilityId:((O=x==null?void 0:x[0])==null?void 0:O.id)||"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),c(null),u.current&&(u.current.value="")},E=async O=>{var A;const z=(A=O.target.files)==null?void 0:A[0];if(z){if(!["image/jpeg","image/png","image/webp"].includes(z.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(z.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const $=new FormData;$.append("image",z);const Q=await fetch("/api/admin/upload",{method:"POST",body:$,credentials:"include"});if(!Q.ok){let F="Upload failed";try{F=(await Q.json()).message||F}catch{F=Q.statusText||F}throw new Error(F)}const X=await Q.json();c({name:z.name,url:X.imageUrl}),m(F=>({...F,imageUrl:X.imageUrl})),u.current&&(u.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch($){e({title:"Upload failed",description:$.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},T=O=>{r(O),m({facilityId:O.facilityId,title:O.title,description:O.description||"",type:O.type,instructor:O.instructor||"",scheduleDay:O.scheduleDay||"",scheduleTime:O.scheduleTime||"",scheduleDatetime:O.scheduleDatetime?Xn(new Date(O.scheduleDatetime),"yyyy-MM-dd'T'HH:mm"):"",price:O.price||0,capacity:O.capacity||20,enrollmentDeadline:O.enrollmentDeadline?Xn(new Date(O.enrollmentDeadline),"yyyy-MM-dd"):"",imageUrl:O.imageUrl||"",slug:O.slug||"",isActive:O.isActive??!0}),a(!0)},I=()=>{if(!y.facilityId){e({title:"Please select a facility",variant:"destructive"});return}t?j.mutate({id:t.id,data:y}):b.mutate(y)},R=O=>{switch(O){case"ACADEMY":return s.jsx(ce,{className:"bg-purple-500",children:"Academy"});case"TOURNAMENT":return s.jsx(ce,{className:"bg-orange-500",children:"Tournament"});case"CLASS":return s.jsx(ce,{className:"bg-blue-500",children:"Class"});case"SOCIAL":return s.jsx(ce,{className:"bg-green-500",children:"Social"});default:return s.jsx(ce,{variant:"secondary",children:O})}},D=O=>{var z;return((z=x==null?void 0:x.find(A=>A.id===O))==null?void 0:z.name)||"Unknown"};return g?s.jsx(nt,{title:"Events & Academies",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Events & Academies",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage events, academies, tournaments, and classes at The Quarterdeck."}),s.jsxs(Et,{open:n,onOpenChange:O=>{a(O),O||(r(null),k())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-event",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Event"]})}),s.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:t?"Edit Event":"Add New Event"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"title",children:"Event Title"}),s.jsx(Y,{id:"title",value:y.title,onChange:O=>m({...y,title:O.target.value}),placeholder:"e.g., Beginner Padel Academy","data-testid":"input-event-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"type",children:"Event Type"}),s.jsxs(kt,{value:y.type,onValueChange:O=>m({...y,type:O}),children:[s.jsx(jt,{"data-testid":"select-event-type",children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"ACADEMY",children:"Academy (Ongoing Program)"}),s.jsx(Ce,{value:"TOURNAMENT",children:"Tournament"}),s.jsx(Ce,{value:"CLASS",children:"Class (One-time)"}),s.jsx(Ce,{value:"SOCIAL",children:"Social Event"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"facilityId",children:"Facility"}),s.jsxs(kt,{value:y.facilityId,onValueChange:O=>m({...y,facilityId:O}),children:[s.jsx(jt,{"data-testid":"select-event-facility",children:s.jsx(Ct,{placeholder:"Select facility"})}),s.jsx(Nt,{children:x==null?void 0:x.map(O=>s.jsx(Ce,{value:O.id,children:O.name},O.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"instructor",children:"Instructor/Host"}),s.jsx(Y,{id:"instructor",value:y.instructor,onChange:O=>m({...y,instructor:O.target.value}),placeholder:"e.g., Coach Ahmad","data-testid":"input-event-instructor"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:y.description,onChange:O=>m({...y,description:O.target.value}),rows:3,placeholder:"Describe the event, what participants will learn, etc.","data-testid":"input-event-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"scheduleDay",children:"Schedule Day"}),s.jsx(Y,{id:"scheduleDay",value:y.scheduleDay,onChange:O=>m({...y,scheduleDay:O.target.value}),placeholder:"e.g., Mon, Wed, Fri","data-testid":"input-event-schedule-day"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"scheduleTime",children:"Schedule Time"}),s.jsx(Y,{id:"scheduleTime",value:y.scheduleTime,onChange:O=>m({...y,scheduleTime:O.target.value}),placeholder:"e.g., 6:00 PM - 8:00 PM","data-testid":"input-event-schedule-time"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"scheduleDatetime",children:"Specific Date/Time"}),s.jsx(Y,{id:"scheduleDatetime",type:"datetime-local",value:y.scheduleDatetime,onChange:O=>m({...y,scheduleDatetime:O.target.value}),"data-testid":"input-event-datetime"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"price",children:"Price (PKR)"}),s.jsx(Y,{id:"price",type:"number",value:y.price,onChange:O=>m({...y,price:parseInt(O.target.value)||0}),"data-testid":"input-event-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"capacity",children:"Capacity"}),s.jsx(Y,{id:"capacity",type:"number",value:y.capacity,onChange:O=>m({...y,capacity:parseInt(O.target.value)||20}),"data-testid":"input-event-capacity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"enrollmentDeadline",children:"Enrollment Deadline"}),s.jsx(Y,{id:"enrollmentDeadline",type:"date",value:y.enrollmentDeadline,onChange:O=>m({...y,enrollmentDeadline:O.target.value}),"data-testid":"input-event-deadline"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Event Image"}),s.jsxs(ua,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-2",children:[s.jsxs(Vt,{value:"upload",className:"flex items-center gap-2",children:[s.jsx(cn,{className:"w-4 h-4"}),"Upload"]}),s.jsxs(Vt,{value:"url",className:"flex items-center gap-2",children:[s.jsx(Ok,{className:"w-4 h-4"}),"URL"]})]}),s.jsxs(qt,{value:"upload",className:"space-y-3",children:[s.jsx("input",{ref:u,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:E,className:"hidden","data-testid":"input-event-image-file"}),s.jsx(M,{type:"button",variant:"outline",onClick:()=>{var O;return(O=u.current)==null?void 0:O.click()},disabled:i,className:"w-full","data-testid":"button-upload-event-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Choose Image"]})}),l&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(yn,{className:"w-4 h-4"}),l.name]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]}),s.jsx(qt,{value:"url",className:"space-y-3",children:s.jsx(Y,{id:"imageUrl",value:y.imageUrl,onChange:O=>m({...y,imageUrl:O.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-event-image-url"})})]}),y.imageUrl&&s.jsx("div",{className:"mt-3 rounded-md border overflow-hidden",children:s.jsx("img",{src:y.imageUrl,alt:"Preview",className:"w-full h-32 object-cover",onError:O=>{O.target.style.display="none"}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"slug",children:"URL Slug"}),s.jsx(Y,{id:"slug",value:y.slug,onChange:O=>m({...y,slug:O.target.value}),placeholder:"beginner-padel-academy","data-testid":"input-event-slug"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[s.jsx(Gt,{id:"isActive",checked:y.isActive,onCheckedChange:O=>m({...y,isActive:O})}),s.jsx(V,{htmlFor:"isActive",children:"Active (visible on website)"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:I,disabled:b.isPending||j.isPending,"data-testid":"button-save-event",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Event"}),s.jsx(ue,{children:"Type"}),s.jsx(ue,{children:"Facility"}),s.jsx(ue,{children:"Schedule"}),s.jsx(ue,{children:"Capacity"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[w==null?void 0:w.map(O=>s.jsxs(tt,{"data-testid":`row-event-${O.id}`,children:[s.jsx(oe,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:O.title}),O.instructor&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["by ",O.instructor]})]})}),s.jsx(oe,{children:R(O.type)}),s.jsx(oe,{children:D(O.facilityId)}),s.jsx(oe,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[O.scheduleDay&&s.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[s.jsx(mr,{className:"w-3 h-3"}),O.scheduleDay]}),O.scheduleTime&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(Qt,{className:"w-3 h-3"}),O.scheduleTime]})]})}),s.jsx(oe,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(yr,{className:"w-3 h-3"}),O.enrolledCount||0,"/",O.capacity]})}),s.jsx(oe,{children:O.isActive?s.jsx(ce,{className:"bg-green-500",children:"Active"}):s.jsx(ce,{variant:"secondary",children:"Inactive"})}),s.jsxs(oe,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>f(O),title:"View registrations","data-testid":`button-view-registrations-${O.id}`,children:s.jsx(Zn,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>T(O),"data-testid":`button-edit-event-${O.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this event?")&&_.mutate(O.id)},"data-testid":`button-delete-event-${O.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},O.id)),(!w||w.length===0)&&s.jsx(tt,{children:s.jsx(oe,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No events found. Add your first event to get started."})})]})]})})}),s.jsx(Et,{open:!!d,onOpenChange:O=>!O&&f(null),children:s.jsxs(_t,{className:"max-w-4xl max-h-[80vh] overflow-auto",children:[s.jsxs(At,{children:[s.jsxs(Ot,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"w-5 h-5"}),"Registrations - ",d==null?void 0:d.title]}),s.jsx(Rs,{children:d!=null&&d.price&&d.price>0?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jo,{className:"w-4 h-4"}),"Paid event: PKR ",d.price.toLocaleString()]}):"Free event - no payment required"})]}),S?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Te,{className:"w-6 h-6 animate-spin"})}):N&&N.length>0?s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Email"}),s.jsx(ue,{children:"Phone"}),s.jsx(ue,{children:"Payment"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:N.map(O=>s.jsxs(tt,{"data-testid":`row-registration-${O.id}`,children:[s.jsx(oe,{className:"font-medium",children:O.fullName}),s.jsx(oe,{children:O.email}),s.jsx(oe,{children:O.phone||"-"}),s.jsx(oe,{children:P(O.paymentStatus)}),s.jsx(oe,{children:s.jsx(ce,{variant:O.status==="REGISTERED"?"default":"secondary",children:O.status})}),s.jsxs(oe,{className:"text-right",children:[O.paymentProofUrl&&s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>window.open(O.paymentProofUrl||"","_blank"),title:"View payment proof","data-testid":`button-view-proof-${O.id}`,children:s.jsx(Zo,{className:"w-4 h-4"})}),O.paymentStatus==="PENDING_VERIFICATION"&&s.jsxs(s.Fragment,{children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>C.mutate({registrationId:O.id,status:"VERIFIED"}),disabled:C.isPending,title:"Approve payment","data-testid":`button-approve-payment-${O.id}`,children:s.jsx(wr,{className:"w-4 h-4 text-green-600"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>C.mutate({registrationId:O.id,status:"REJECTED",notes:"Payment not verified"}),disabled:C.isPending,title:"Reject payment","data-testid":`button-reject-payment-${O.id}`,children:s.jsx(zi,{className:"w-4 h-4 text-destructive"})})]})]})]},O.id))})]}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Cn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No registrations yet for this event."]})]})})]})})}function RMe(){const{toast:e}=mt(),{adminPath:t}=Up(),[r,n]=v.useState(null),[a,i]=v.useState(!1),[o,l]=v.useState({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),[c,u]=v.useState(""),{data:d,isLoading:f}=de({queryKey:["/api/admin/pricing-tiers"]}),{data:h}=de({queryKey:["/api/admin/membership-tiers"]}),p=()=>{re.invalidateQueries({queryKey:["/api/admin/pricing-tiers"]}),re.invalidateQueries({queryKey:["/api/pricing-tiers"]})},y=ye({mutationFn:async S=>await ve("POST","/api/admin/pricing-tiers",S),onSuccess:()=>{p(),e({title:"Pricing tier created successfully"}),i(!1),g()},onError:()=>{e({title:"Failed to create pricing tier",variant:"destructive"})}}),m=ye({mutationFn:async({id:S,data:C})=>await ve("PATCH",`/api/admin/pricing-tiers/${S}`,C),onSuccess:()=>{p(),e({title:"Pricing tier updated successfully"}),i(!1),n(null),g()},onError:()=>{e({title:"Failed to update pricing tier",variant:"destructive"})}}),w=ye({mutationFn:async S=>await ve("DELETE",`/api/admin/pricing-tiers/${S}`),onSuccess:()=>{p(),e({title:"Pricing tier deleted successfully"})},onError:()=>{e({title:"Failed to delete pricing tier",variant:"destructive"})}}),g=()=>{l({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),u("")},x=S=>{n(S),l({name:S.name,tier:S.tier,price:S.price,billingPeriod:S.billingPeriod||"yearly",benefits:S.benefits||[],isPopular:S.isPopular||!1,sortOrder:S.sortOrder||0,isActive:S.isActive??!0}),i(!0)},b=()=>{r?m.mutate({id:r.id,data:o}):y.mutate(o)},j=()=>{c.trim()&&(l({...o,benefits:[...o.benefits,c.trim()]}),u(""))},_=S=>{l({...o,benefits:o.benefits.filter((C,P)=>P!==S)})},N=S=>{switch(S){case"FOUNDING":return s.jsx(ce,{className:"bg-amber-600",children:"Founding"});case"GOLD":return s.jsx(ce,{className:"bg-yellow-500",children:"Gold"});case"SILVER":return s.jsx(ce,{className:"bg-gray-400",children:"Silver"});default:return s.jsx(ce,{variant:"secondary",children:"Guest"})}};return f?s.jsx(nt,{title:"Pricing Tiers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Pricing Tiers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage membership pricing tiers and their benefits."}),s.jsx(me,{href:`/${t}/membership-tiers`,children:s.jsxs(M,{variant:"link",size:"sm",className:"p-0 h-auto text-primary","data-testid":"link-manage-tiers",children:[s.jsx(wm,{className:"w-3 h-3 mr-1"})," Manage Tier Definitions"]})})]}),s.jsxs(Et,{open:a,onOpenChange:S=>{i(S),S||(n(null),g())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-pricing-tier",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Pricing Tier"]})}),s.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:r?"Edit Pricing Tier":"Add New Pricing Tier"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"name",children:"Display Name"}),s.jsx(Y,{id:"name",value:o.name,onChange:S=>l({...o,name:S.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-tier-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"tier",children:"Tier Level"}),s.jsxs(kt,{value:o.tier,onValueChange:S=>l({...o,tier:S}),children:[s.jsx(jt,{"data-testid":"select-tier-level",children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[h==null?void 0:h.filter(S=>S.isActive).map(S=>s.jsx(Ce,{value:S.slug.toUpperCase(),"data-testid":`select-tier-${S.slug}`,children:S.displayName},S.id)),(!h||h.length===0)&&s.jsxs(s.Fragment,{children:[s.jsx(Ce,{value:"FOUNDING",children:"Founding"}),s.jsx(Ce,{value:"GOLD",children:"Gold"}),s.jsx(Ce,{value:"SILVER",children:"Silver"}),s.jsx(Ce,{value:"GUEST",children:"Guest"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"price",children:"Price (PKR)"}),s.jsx(Y,{id:"price",type:"number",value:o.price,onChange:S=>l({...o,price:parseInt(S.target.value)||0}),"data-testid":"input-tier-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"billingPeriod",children:"Billing Period"}),s.jsxs(kt,{value:o.billingPeriod,onValueChange:S=>l({...o,billingPeriod:S}),children:[s.jsx(jt,{"data-testid":"select-billing-period",children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"monthly",children:"Monthly"}),s.jsx(Ce,{value:"yearly",children:"Yearly"}),s.jsx(Ce,{value:"lifetime",children:"Lifetime"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Benefits"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:c,onChange:S=>u(S.target.value),placeholder:"Add a benefit",onKeyDown:S=>S.key==="Enter"&&(S.preventDefault(),j()),"data-testid":"input-benefit"}),s.jsx(M,{type:"button",onClick:j,variant:"secondary",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.benefits.map((S,C)=>s.jsxs(ce,{variant:"secondary",className:"px-2 py-1",children:[S,s.jsx("button",{type:"button",onClick:()=>_(C),className:"ml-2 text-muted-foreground hover:text-foreground",children:""})]},C))})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:o.sortOrder,onChange:S=>l({...o,sortOrder:parseInt(S.target.value)||0}),"data-testid":"input-sort-order"})]})}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isPopular",checked:o.isPopular,onCheckedChange:S=>l({...o,isPopular:S})}),s.jsx(V,{htmlFor:"isPopular",children:"Mark as Popular"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isActive",checked:o.isActive,onCheckedChange:S=>l({...o,isActive:S})}),s.jsx(V,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsxs(M,{onClick:b,disabled:y.isPending||m.isPending,"data-testid":"button-save-tier",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"]})]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Tier"}),s.jsx(ue,{children:"Price"}),s.jsx(ue,{children:"Billing"}),s.jsx(ue,{children:"Benefits"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[d==null?void 0:d.map(S=>{var C;return s.jsxs(tt,{"data-testid":`row-tier-${S.id}`,children:[s.jsxs(oe,{className:"font-medium",children:[S.name,S.isPopular&&s.jsx(fa,{className:"inline w-4 h-4 ml-2 text-amber-500"})]}),s.jsx(oe,{children:N(S.tier)}),s.jsxs(oe,{children:["PKR ",S.price.toLocaleString()]}),s.jsx(oe,{className:"capitalize",children:S.billingPeriod}),s.jsxs(oe,{children:[((C=S.benefits)==null?void 0:C.length)||0," benefits"]}),s.jsx(oe,{children:S.isActive?s.jsx(ce,{className:"bg-green-500",children:"Active"}):s.jsx(ce,{variant:"secondary",children:"Inactive"})}),s.jsxs(oe,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>x(S),"data-testid":`button-edit-tier-${S.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this pricing tier?")&&w.mutate(S.id)},"data-testid":`button-delete-tier-${S.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},S.id)}),(!d||d.length===0)&&s.jsx(tt,{children:s.jsx(oe,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No pricing tiers found. Add your first tier to get started."})})]})]})})})]})})}function MMe(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),[l,c]=v.useState(""),{data:u,isLoading:d}=de({queryKey:["/api/admin/membership-tiers"]}),f=()=>{re.invalidateQueries({queryKey:["/api/admin/membership-tiers"]}),re.invalidateQueries({queryKey:["/api/membership-tiers"]})},h=ye({mutationFn:async N=>await ve("POST","/api/admin/membership-tiers",N),onSuccess:()=>{f(),e({title:"Membership tier created successfully"}),a(!1),m()},onError:()=>{e({title:"Failed to create membership tier",variant:"destructive"})}}),p=ye({mutationFn:async({id:N,data:S})=>await ve("PATCH",`/api/admin/membership-tiers/${N}`,S),onSuccess:()=>{f(),e({title:"Membership tier updated successfully"}),a(!1),r(null),m()},onError:()=>{e({title:"Failed to update membership tier",variant:"destructive"})}}),y=ye({mutationFn:async N=>await ve("DELETE",`/api/admin/membership-tiers/${N}`),onSuccess:()=>{f(),e({title:"Membership tier deleted successfully"})},onError:()=>{e({title:"Failed to delete membership tier",variant:"destructive"})}}),m=()=>{o({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),c("")},w=N=>{r(N),o({slug:N.slug,displayName:N.displayName,description:N.description||"",color:N.color||"#6B7280",discountPercent:N.discountPercent||0,guestPassesIncluded:N.guestPassesIncluded||0,benefits:N.benefits||[],sortOrder:N.sortOrder||0,isActive:N.isActive??!0}),a(!0)},g=()=>{t?p.mutate({id:t.id,data:i}):h.mutate(i)},x=()=>{l.trim()&&(o({...i,benefits:[...i.benefits,l.trim()]}),c(""))},b=N=>{o({...i,benefits:i.benefits.filter((S,C)=>C!==N)})},j=N=>N.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");if(d)return s.jsx(nt,{title:"Membership Tiers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const _=[...u||[]].sort((N,S)=>(N.sortOrder||0)-(S.sortOrder||0));return s.jsx(nt,{title:"Membership Tiers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Define membership tier types with their names, colors, discount percentages, and benefits."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"These tiers are used throughout the website for pricing and membership management."})]}),s.jsxs(Et,{open:n,onOpenChange:N=>{a(N),N||(r(null),m())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-tier",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Tier"]})}),s.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:t?"Edit Membership Tier":"Add New Membership Tier"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"displayName",children:"Display Name"}),s.jsx(Y,{id:"displayName",value:i.displayName,onChange:N=>{const S=N.target.value;o({...i,displayName:S,slug:i.slug||j(S)})},placeholder:"e.g., Platinum Member","data-testid":"input-display-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),s.jsx(Y,{id:"slug",value:i.slug,onChange:N=>o({...i,slug:j(N.target.value)}),placeholder:"e.g., platinum","data-testid":"input-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:i.description,onChange:N=>o({...i,description:N.target.value}),placeholder:"Brief description of this membership tier","data-testid":"input-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"color",children:"Tier Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"color",type:"color",value:i.color,onChange:N=>o({...i,color:N.target.value}),className:"w-12 h-9 p-1 cursor-pointer","data-testid":"input-color"}),s.jsx(Y,{value:i.color,onChange:N=>o({...i,color:N.target.value}),placeholder:"#6B7280",className:"flex-1","data-testid":"input-color-text"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"discountPercent",children:"Discount % (Off-Peak)"}),s.jsx(Y,{id:"discountPercent",type:"number",min:"0",max:"100",value:i.discountPercent,onChange:N=>o({...i,discountPercent:parseInt(N.target.value)||0}),"data-testid":"input-discount"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"guestPasses",children:"Guest Passes/Month"}),s.jsx(Y,{id:"guestPasses",type:"number",min:"0",value:i.guestPassesIncluded,onChange:N=>o({...i,guestPassesIncluded:parseInt(N.target.value)||0}),"data-testid":"input-guest-passes"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Benefits"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:l,onChange:N=>c(N.target.value),placeholder:"Add a benefit",onKeyDown:N=>N.key==="Enter"&&(N.preventDefault(),x()),"data-testid":"input-benefit"}),s.jsx(M,{type:"button",onClick:x,variant:"secondary","data-testid":"button-add-benefit",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.benefits.map((N,S)=>s.jsxs(ce,{variant:"secondary",className:"px-2 py-1","data-testid":`badge-benefit-${S}`,children:[N,s.jsx("button",{type:"button",onClick:()=>b(S),className:"ml-2 text-muted-foreground hover:text-foreground","data-testid":`button-remove-benefit-${S}`,children:"x"})]},S))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:N=>o({...i,sortOrder:parseInt(N.target.value)||0}),"data-testid":"input-sort-order"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(Gt,{id:"isActive",checked:i.isActive,onCheckedChange:N=>o({...i,isActive:N}),"data-testid":"switch-is-active"}),s.jsx(V,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel",children:"Cancel"}),s.jsx(M,{onClick:g,disabled:h.isPending||p.isPending,"data-testid":"button-save-tier",children:h.isPending||p.isPending?"Saving...":t?"Update Tier":"Create Tier"})]})]})]})]})]}),s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsx(We,{children:"Membership Tier Definitions"}),s.jsx(Rt,{children:"Configure the properties of each membership tier. Changes here affect how tiers are displayed across the website."})]}),s.jsx(se,{children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{className:"w-12",children:"Order"}),s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Slug"}),s.jsx(ue,{children:"Color"}),s.jsx(ue,{children:"Discount"}),s.jsx(ue,{children:"Guest Passes"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[_.map(N=>s.jsxs(tt,{"data-testid":`row-tier-${N.id}`,children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Rp,{className:"w-4 h-4"}),N.sortOrder]})}),s.jsx(oe,{className:"font-medium","data-testid":`text-tier-name-${N.id}`,children:N.displayName}),s.jsx(oe,{children:s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded","data-testid":`text-tier-slug-${N.id}`,children:N.slug})}),s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:N.color||"#6B7280"}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:N.color})]})}),s.jsxs(oe,{children:[N.discountPercent,"%"]}),s.jsx(oe,{children:N.guestPassesIncluded}),s.jsx(oe,{children:s.jsx(ce,{variant:N.isActive?"default":"secondary","data-testid":`badge-status-${N.id}`,children:N.isActive?"Active":"Inactive"})}),s.jsx(oe,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>w(N),"data-testid":`button-edit-tier-${N.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this tier?")&&y.mutate(N.id)},disabled:y.isPending,"data-testid":`button-delete-tier-${N.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})})]},N.id)),_.length===0&&s.jsx(tt,{children:s.jsx(oe,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'No membership tiers defined yet. Click "Add Tier" to create one.'})})]})]})})]})]})})}function $Me(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState({title:"",content:"",category:"",isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/announcements"]}),u=ye({mutationFn:async m=>await ve("POST","/api/admin/announcements",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create announcement",variant:"destructive"})}}),d=ye({mutationFn:async({id:m,data:w})=>await ve("PATCH",`/api/admin/announcements/${m}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update announcement",variant:"destructive"})}}),f=ye({mutationFn:async m=>await ve("DELETE",`/api/admin/announcements/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement deleted successfully"})},onError:()=>{e({title:"Failed to delete announcement",variant:"destructive"})}}),h=()=>{o({title:"",content:"",category:"",isActive:!0})},p=m=>{r(m),o({title:m.title,content:m.content||"",category:m.category||"",isActive:m.isActive??!0}),a(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(nt,{title:"Announcements",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Announcements",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage announcements and updates shown on the website."}),s.jsxs(Et,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-announcement",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Announcement"]})}),s.jsxs(_t,{className:"max-w-2xl",children:[s.jsx(At,{children:s.jsx(Ot,{children:t?"Edit Announcement":"Add New Announcement"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-announcement-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"content",children:"Content"}),s.jsx(ct,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:5,"data-testid":"input-announcement-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., Construction, Events, General","data-testid":"input-announcement-category"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(V,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-announcement",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Title"}),s.jsx(ue,{children:"Category"}),s.jsx(ue,{children:"Published"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[l==null?void 0:l.map(m=>s.jsxs(tt,{"data-testid":`row-announcement-${m.id}`,children:[s.jsx(oe,{className:"font-medium",children:m.title}),s.jsx(oe,{children:m.category||"-"}),s.jsx(oe,{children:m.publishedAt?Xn(new Date(m.publishedAt),"MMM d, yyyy"):"-"}),s.jsx(oe,{children:m.isActive?s.jsx(ce,{className:"bg-green-500",children:"Active"}):s.jsx(ce,{variant:"secondary",children:"Inactive"})}),s.jsxs(oe,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-announcement-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this announcement?")&&f.mutate(m.id)},"data-testid":`button-delete-announcement-${m.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(tt,{children:s.jsx(oe,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No announcements found. Add your first announcement to get started."})})]})]})})})]})})}function DMe(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/careers"]}),u=ye({mutationFn:async m=>await ve("POST","/api/admin/careers",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create career listing",variant:"destructive"})}}),d=ye({mutationFn:async({id:m,data:w})=>await ve("PATCH",`/api/admin/careers/${m}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update career listing",variant:"destructive"})}}),f=ye({mutationFn:async m=>await ve("DELETE",`/api/admin/careers/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing deleted successfully"})},onError:()=>{e({title:"Failed to delete career listing",variant:"destructive"})}}),h=()=>{o({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0})},p=m=>{r(m),o({title:m.title,department:m.department||"",location:m.location||"Islamabad",type:m.type||"Full-time",description:m.description||"",requirements:m.requirements||"",salary:m.salary||"",isActive:m.isActive??!0}),a(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(nt,{title:"Careers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Careers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage job listings and career opportunities at The Quarterdeck."}),s.jsxs(Et,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-career",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Job Listing"]})}),s.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:t?"Edit Job Listing":"Add New Job Listing"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"title",children:"Job Title"}),s.jsx(Y,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-career-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"department",children:"Department"}),s.jsx(Y,{id:"department",value:i.department,onChange:m=>o({...i,department:m.target.value}),placeholder:"e.g., Operations, Sports, Admin","data-testid":"input-career-department"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"location",children:"Location"}),s.jsx(Y,{id:"location",value:i.location,onChange:m=>o({...i,location:m.target.value}),"data-testid":"input-career-location"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"type",children:"Employment Type"}),s.jsxs(kt,{value:i.type,onValueChange:m=>o({...i,type:m}),children:[s.jsx(jt,{"data-testid":"select-career-type",children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"Full-time",children:"Full-time"}),s.jsx(Ce,{value:"Part-time",children:"Part-time"}),s.jsx(Ce,{value:"Contract",children:"Contract"}),s.jsx(Ce,{value:"Internship",children:"Internship"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"salary",children:"Salary Range"}),s.jsx(Y,{id:"salary",value:i.salary,onChange:m=>o({...i,salary:m.target.value}),placeholder:"e.g., PKR 50,000 - 80,000 / month","data-testid":"input-career-salary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"description",children:"Job Description"}),s.jsx(ct,{id:"description",value:i.description,onChange:m=>o({...i,description:m.target.value}),rows:4,"data-testid":"input-career-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"requirements",children:"Requirements"}),s.jsx(ct,{id:"requirements",value:i.requirements,onChange:m=>o({...i,requirements:m.target.value}),rows:4,placeholder:"List the requirements, each on a new line","data-testid":"input-career-requirements"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(V,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-career",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Title"}),s.jsx(ue,{children:"Department"}),s.jsx(ue,{children:"Location"}),s.jsx(ue,{children:"Type"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[l==null?void 0:l.map(m=>s.jsxs(tt,{"data-testid":`row-career-${m.id}`,children:[s.jsx(oe,{className:"font-medium",children:m.title}),s.jsx(oe,{children:m.department||"-"}),s.jsx(oe,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ps,{className:"w-3 h-3"}),m.location]})}),s.jsx(oe,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(vm,{className:"w-3 h-3"}),m.type]})}),s.jsx(oe,{children:m.isActive?s.jsx(ce,{className:"bg-green-500",children:"Active"}):s.jsx(ce,{variant:"secondary",children:"Inactive"})}),s.jsxs(oe,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-career-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this job listing?")&&f.mutate(m.id)},"data-testid":`button-delete-career-${m.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(tt,{children:s.jsx(oe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No job listings found. Add your first listing to get started."})})]})]})})})]})})}function LMe(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState({title:"",category:"",content:"",sortOrder:0,isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/rules"]}),u=ye({mutationFn:async m=>await ve("POST","/api/admin/rules",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create rule",variant:"destructive"})}}),d=ye({mutationFn:async({id:m,data:w})=>await ve("PATCH",`/api/admin/rules/${m}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update rule",variant:"destructive"})}}),f=ye({mutationFn:async m=>await ve("DELETE",`/api/admin/rules/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule deleted successfully"})},onError:()=>{e({title:"Failed to delete rule",variant:"destructive"})}}),h=()=>{o({title:"",category:"",content:"",sortOrder:0,isActive:!0})},p=m=>{r(m),o({title:m.title,category:m.category||"",content:m.content||"",sortOrder:m.sortOrder||0,isActive:m.isActive??!0}),a(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(nt,{title:"Rules & Policies",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Rules & Policies",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage facility rules, policies, and guidelines shown to members."}),s.jsxs(Et,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-rule",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Rule"]})}),s.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:t?"Edit Rule":"Add New Rule"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-rule-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., General, Safety, Booking","data-testid":"input-rule-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:m=>o({...i,sortOrder:parseInt(m.target.value)||0}),"data-testid":"input-rule-sort"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"content",children:"Content"}),s.jsx(ct,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:8,placeholder:"Enter the rule or policy details...","data-testid":"input-rule-content"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(V,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-rule",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{className:"w-12",children:"Order"}),s.jsx(ue,{children:"Title"}),s.jsx(ue,{children:"Category"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[l==null?void 0:l.map(m=>s.jsxs(tt,{"data-testid":`row-rule-${m.id}`,children:[s.jsx(oe,{children:s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Rp,{className:"w-4 h-4"}),m.sortOrder]})}),s.jsx(oe,{className:"font-medium",children:m.title}),s.jsx(oe,{children:m.category?s.jsx(ce,{variant:"outline",children:m.category}):"-"}),s.jsx(oe,{children:m.isActive?s.jsx(ce,{className:"bg-green-500",children:"Active"}):s.jsx(ce,{variant:"secondary",children:"Inactive"})}),s.jsxs(oe,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-rule-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this rule?")&&f.mutate(m.id)},"data-testid":`button-delete-rule-${m.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(tt,{children:s.jsx(oe,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No rules found. Add your first rule to get started."})})]})]})})})]})})}const lM=[{section:"1. Information We Collect",content:"We collect information to provide and improve our services:",items:["Personal Information: Name, email, phone number","Membership Data: Tier, payment history, bookings","Usage Information: Facility patterns, preferences"]},{section:"2. How We Use Information",content:"Your information is used to:",items:["Process memberships and bookings","Communicate updates","Improve facilities and services"]},{section:"3. Contact",content:"For privacy inquiries, contact privacy@thequarterdeck.pk",items:[]}],cM=[{section:"1. Acceptance of Terms",content:"By using The Quarterdeck facilities, you agree to these terms.",items:[]},{section:"2. Membership",content:"Membership is subject to approval and payment of fees.",items:["Non-transferable","Valid ID required","Guest privileges vary by tier"]},{section:"3. Contact",content:"For questions, contact legal@thequarterdeck.pk",items:[]}];function FMe(){const{toast:e}=mt(),[t,r]=v.useState("privacy"),[n,a]=v.useState([]),[i,o]=v.useState([]),[l,c]=v.useState(!1),{data:u,isLoading:d}=de({queryKey:["/api/cms/bulk"]});v.useEffect(()=>{if(u){const _=u.find(S=>S.key==="privacy_policy"),N=u.find(S=>S.key==="terms_conditions");try{_!=null&&_.content?a(JSON.parse(_.content)):a(lM)}catch{a(lM)}try{N!=null&&N.content?o(JSON.parse(N.content)):o(cM)}catch{o(cM)}}},[u]);const f=ye({mutationFn:async({key:_,content:N})=>ve("POST","/api/admin/cms",{key:_,title:_==="privacy_policy"?"Privacy Policy":"Terms & Conditions",content:N,isActive:!0}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/cms/bulk"]}),e({title:"Saved successfully"})},onError:()=>{e({title:"Failed to save",variant:"destructive"})}}),h=async()=>{c(!0);try{await f.mutateAsync({key:"privacy_policy",content:JSON.stringify(n)})}finally{c(!1)}},p=async()=>{c(!0);try{await f.mutateAsync({key:"terms_conditions",content:JSON.stringify(i)})}finally{c(!1)}},y=(_,N,S,C)=>{(_==="privacy"?a:o)(k=>k.map((E,T)=>T===N?{...E,[S]:C}:E))},m=_=>{const N={section:`${_==="privacy"?n.length+1:i.length+1}. New Section`,content:"",items:[]};_==="privacy"?a([...n,N]):o([...i,N])},w=(_,N)=>{_==="privacy"?a(S=>S.filter((C,P)=>P!==N)):o(S=>S.filter((C,P)=>P!==N))},g=(_,N,S,C)=>{(_==="privacy"?a:o)(k=>k.map((E,T)=>{if(T!==N)return E;const I=[...E.items];return I[S]=C,{...E,items:I}}))},x=(_,N)=>{(_==="privacy"?a:o)(C=>C.map((P,k)=>k!==N?P:{...P,items:[...P.items,""]}))},b=(_,N,S)=>{(_==="privacy"?a:o)(P=>P.map((k,E)=>E!==N?k:{...k,items:k.items.filter((T,I)=>I!==S)}))},j=(_,N)=>s.jsxs("div",{className:"space-y-6",children:[N.map((S,C)=>s.jsxs(ne,{className:"relative",children:[s.jsx(Le,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Rp,{className:"w-5 h-5 text-muted-foreground mt-2 cursor-grab"}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx(V,{children:"Section Title"}),s.jsx(Y,{value:S.section,onChange:P=>y(_,C,"section",P.target.value),placeholder:"1. Section Title","data-testid":`input-section-title-${C}`})]}),s.jsxs("div",{children:[s.jsx(V,{children:"Content"}),s.jsx(ct,{value:S.content,onChange:P=>y(_,C,"content",P.target.value),placeholder:"Section content...",rows:3,"data-testid":`input-section-content-${C}`})]})]}),s.jsx(M,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>w(_,C),"data-testid":`button-remove-section-${C}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{className:"text-sm",children:"Bullet Points"}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>x(_,C),"data-testid":`button-add-item-${C}`,children:[s.jsx(rr,{className:"w-3 h-3 mr-1"})," Add Item"]})]}),S.items.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:'No bullet points. Click "Add Item" to add one.'}):s.jsx("div",{className:"space-y-2",children:S.items.map((P,k)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:P,onChange:E=>g(_,C,k,E.target.value),placeholder:"Bullet point text...","data-testid":`input-item-${C}-${k}`}),s.jsx(M,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive flex-shrink-0",onClick:()=>b(_,C,k),"data-testid":`button-remove-item-${C}-${k}`,children:s.jsx(hr,{className:"w-4 h-4"})})]},k))})]})})]},C)),s.jsxs(M,{variant:"outline",className:"w-full",onClick:()=>m(_),"data-testid":`button-add-section-${_}`,children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Section"]})]});return d?s.jsx(nt,{title:"Policy Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"Policy Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Privacy Policy & Terms Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Edit the content displayed on the Privacy Policy and Terms & Conditions pages. Changes are reflected immediately on the website."})]}),s.jsxs(ua,{value:t,onValueChange:r,children:[s.jsxs(Ds,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsxs(Vt,{value:"privacy",className:"flex items-center gap-2","data-testid":"tab-privacy",children:[s.jsx(kd,{className:"w-4 h-4"}),"Privacy Policy"]}),s.jsxs(Vt,{value:"terms",className:"flex items-center gap-2","data-testid":"tab-terms",children:[s.jsx(hs,{className:"w-4 h-4"}),"Terms & Conditions"]})]}),s.jsxs(qt,{value:"privacy",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Privacy Policy Sections"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /privacy page."})]}),s.jsxs(M,{onClick:h,disabled:l,"data-testid":"button-save-privacy",children:[l?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Save Privacy Policy"]})]}),j("privacy",n)]}),s.jsxs(qt,{value:"terms",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Terms & Conditions Sections"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /terms page."})]}),s.jsxs(M,{onClick:p,disabled:l,"data-testid":"button-save-terms",children:[l?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Save Terms & Conditions"]})]}),j("terms",i)]})]})]})})}const vu={dimensions:{recommended:"1920 x 1080 px (16:9 aspect ratio)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",categories:{Renders:"3D architectural renders and concept designs for The Quarterdeck complex",Construction:"Progress photos from the construction site showing different phases",Facilities:"Photos of completed or in-progress facilities (courts, halls, etc.)"}};function UMe(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),h=async E=>{var I;const T=(I=E.target.files)==null?void 0:I[0];if(T){if(!["image/jpeg","image/png","image/webp"].includes(T.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(T.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const R=new FormData;R.append("image",T);const D=await fetch("/api/admin/upload",{method:"POST",body:R,credentials:"include"});if(!D.ok){let z="Upload failed";try{z=(await D.json()).message||z}catch{z=D.statusText||z}throw new Error(z)}const O=await D.json();c({name:T.name,url:O.imageUrl}),f(z=>({...z,imageUrl:O.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(R){e({title:"Upload failed",description:R.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:y}=de({queryKey:["/api/admin/gallery"]}),m=ye({mutationFn:async E=>await ve("POST","/api/admin/gallery",E),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image added successfully"}),a(!1),x()},onError:()=>{e({title:"Failed to add gallery image",variant:"destructive"})}}),w=ye({mutationFn:async({id:E,data:T})=>await ve("PATCH",`/api/admin/gallery/${E}`,T),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image updated successfully"}),a(!1),r(null),x()},onError:()=>{e({title:"Failed to update gallery image",variant:"destructive"})}}),g=ye({mutationFn:async E=>await ve("DELETE",`/api/admin/gallery/${E}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image deleted successfully"})},onError:()=>{e({title:"Failed to delete gallery image",variant:"destructive"})}}),x=()=>{f({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),c(null),u.current&&(u.current.value="")},b=E=>{r(E),f({imageUrl:E.imageUrl,title:E.title||"",description:E.description||"",category:E.category||"Construction",sortOrder:E.sortOrder||0,isActive:E.isActive??!0}),a(!0)},j=()=>{t?w.mutate({id:t.id,data:d}):m.mutate(d)},_=E=>{switch(E){case"Renders":return s.jsx(ce,{className:"bg-purple-500",children:"Renders"});case"Construction":return s.jsx(ce,{className:"bg-orange-500",children:"Construction"});case"Facilities":return s.jsx(ce,{className:"bg-blue-500",children:"Facilities"});default:return s.jsx(ce,{variant:"secondary",children:E||"Other"})}};if(y)return s.jsx(nt,{title:"Gallery",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const N=(p==null?void 0:p.filter(E=>E.category==="Renders").length)||0,S=(p==null?void 0:p.filter(E=>E.category==="Construction").length)||0,C=(p==null?void 0:p.filter(E=>E.category==="Facilities").length)||0,P=(p==null?void 0:p.filter(E=>E.isActive).length)||0,k=(p==null?void 0:p.filter(E=>!E.isActive).length)||0;return s.jsx(nt,{title:"Gallery",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 via-orange-500/10 to-blue-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Gallery Management"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage gallery images shown on the website. Images should be high-quality and relevant to The Quarterdeck."}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),s.jsxs("span",{className:"text-sm",children:[N," Renders"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),s.jsxs("span",{className:"text-sm",children:[S," Construction"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsxs("span",{className:"text-sm",children:[C," Facilities"]})]}),s.jsxs("div",{className:"border-l pl-3 flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400",children:[P," Active"]}),k>0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",k," Hidden"]})]})]})]}),s.jsxs(Et,{open:n,onOpenChange:E=>{a(E),E||(r(null),x())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-gallery-image",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Image"]})}),s.jsxs(_t,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:t?"Edit Image":"Add New Image"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(hb,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Image Guidelines"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-blue-700 dark:text-blue-400",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Recommended:"}),s.jsx("p",{className:"text-xs",children:vu.dimensions.recommended})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Formats:"}),s.jsx("p",{className:"text-xs",children:vu.formats.join(", ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Max Size:"}),s.jsx("p",{className:"text-xs",children:vu.maxFileSize})]})]})]})]})}),s.jsxs(ua,{defaultValue:"url",className:"w-full",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-2",children:[s.jsxs(Vt,{value:"url",className:"flex items-center gap-2","data-testid":"tab-url",children:[s.jsx(Ok,{className:"w-4 h-4"})," URL"]}),s.jsxs(Vt,{value:"upload",className:"flex items-center gap-2","data-testid":"tab-upload",children:[s.jsx(cn,{className:"w-4 h-4"})," Upload (Testing)"]})]}),s.jsx(qt,{value:"url",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"imageUrl",children:"Image URL"}),s.jsx(Y,{id:"imageUrl",value:d.imageUrl,onChange:E=>f({...d,imageUrl:E.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-gallery-url"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a direct link to your image. Supports any publicly accessible URL."})]})}),s.jsxs(qt,{value:"upload",className:"space-y-4 mt-4",children:[s.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var E;return!i&&((E=u.current)==null?void 0:E.click())},children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Uploading..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while your image is being uploaded."})]}):l?s.jsxs(s.Fragment,{children:[s.jsx(yn,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),s.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),s.jsx(M,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),c(null),f(T=>({...T,imageUrl:""})),u.current&&(u.current.value="")},"data-testid":"button-clear-upload",children:"Upload Different Image"})]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop or click to browse"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Preview"}),s.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:E=>{E.target.style.display="none"}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:d.title,onChange:E=>f({...d,title:E.target.value}),placeholder:"e.g., Padel Court Construction - Week 12","data-testid":"input-gallery-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V,{htmlFor:"category",children:"Category"}),s.jsxs(vX,{children:[s.jsx(yX,{asChild:!0,children:s.jsx(Ts,{className:"w-4 h-4 text-muted-foreground cursor-help"})}),s.jsx(z3,{className:"max-w-xs",children:s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Renders:"})," ",vu.categories.Renders]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Construction:"})," ",vu.categories.Construction]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Facilities:"})," ",vu.categories.Facilities]})]})})]})]}),s.jsxs(kt,{value:d.category,onValueChange:E=>f({...d,category:E}),children:[s.jsx(jt,{"data-testid":"select-gallery-category",children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"Renders",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Renders"]})}),s.jsx(Ce,{value:"Construction",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Construction"]})}),s.jsx(Ce,{value:"Facilities",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Facilities"]})})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:d.description,onChange:E=>f({...d,description:E.target.value}),rows:3,"data-testid":"input-gallery-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:E=>f({...d,sortOrder:parseInt(E.target.value)||0}),"data-testid":"input-gallery-sort"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isActive",checked:d.isActive,onCheckedChange:E=>f({...d,isActive:E})}),s.jsx(V,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),s.jsx(M,{onClick:j,disabled:i||m.isPending||w.isPending,"data-testid":"button-save-gallery-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[p==null?void 0:p.map(E=>s.jsxs(ne,{className:"overflow-hidden","data-testid":`card-gallery-${E.id}`,children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[E.imageUrl?s.jsx("img",{src:E.imageUrl,alt:E.title||"Gallery image",className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(ra,{className:"w-12 h-12 text-muted-foreground"})}),!E.isActive&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(ce,{variant:"secondary",children:"Hidden"})})]}),s.jsxs(se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium truncate",children:E.title||"Untitled"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:E.description||"No description"})]}),_(E.category)]}),s.jsxs("div",{className:"flex justify-end gap-1 mt-3",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>b(E),"data-testid":`button-edit-gallery-${E.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this image?")&&g.mutate(E.id)},"data-testid":`button-delete-gallery-${E.id}`,children:s.jsx(hr,{className:"w-4 h-4 text-destructive"})})]})]})]},E.id)),(!p||p.length===0)&&s.jsxs("div",{className:"col-span-full text-center text-muted-foreground py-12",children:[s.jsx(ra,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No gallery images found. Add your first image to get started."})]})]})]})})}const uM=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"coming-soon",label:"Coming Soon"},{value:"about",label:"About Page"},{value:"contact",label:"Contact Page"},{value:"events",label:"Events Page"}],dM={landing:[{value:"hero",label:"Hero Background",dimensions:"1920x1080"},{value:"gallery-1",label:"Gallery Image 1",dimensions:"800x600"},{value:"gallery-2",label:"Gallery Image 2",dimensions:"800x600"},{value:"gallery-3",label:"Gallery Image 3",dimensions:"800x600"},{value:"about-bg",label:"About Section Background",dimensions:"1200x800"}],facilities:[{value:"padel-tennis",label:"Padel Tennis Header",dimensions:"1920x600"},{value:"squash",label:"Squash Courts Header",dimensions:"1920x600"},{value:"air-rifle-range",label:"Air Rifle Range Header",dimensions:"1920x600"},{value:"bridge-room",label:"Bridge Room Header",dimensions:"1920x600"},{value:"multipurpose-hall",label:"Multipurpose Hall Header",dimensions:"1920x600"}],"coming-soon":[{value:"hero",label:"Coming Soon Hero",dimensions:"1920x1080"},{value:"countdown-bg",label:"Countdown Background",dimensions:"1920x600"}],about:[{value:"hero",label:"About Hero",dimensions:"1920x600"},{value:"team",label:"Team Section Background",dimensions:"1200x800"}],contact:[{value:"hero",label:"Contact Hero",dimensions:"1920x400"},{value:"map-bg",label:"Map Background",dimensions:"1200x600"}],events:[{value:"hero",label:"Events Hero",dimensions:"1920x600"},{value:"academy-bg",label:"Academy Section",dimensions:"1200x600"}]};function BMe(){var P,k,E,T;const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),h=async I=>{var D;const R=(D=I.target.files)==null?void 0:D[0];if(R){if(!["image/jpeg","image/png","image/webp"].includes(R.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(R.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const O=new FormData;O.append("image",R);const z=await fetch("/api/admin/upload",{method:"POST",body:O,credentials:"include"});if(!z.ok){let $="Upload failed";try{$=(await z.json()).message||$}catch{$=z.statusText||$}throw new Error($)}const A=await z.json();c({name:R.name,url:A.imageUrl}),f($=>({...$,imageUrl:A.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(O){e({title:"Upload failed",description:O.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:y}=de({queryKey:["/api/admin/site-images"]}),m=ye({mutationFn:I=>ve("POST","/api/admin/site-images",I),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),a(!1),x(),e({title:"Site image added successfully"})},onError:()=>{e({title:"Failed to add site image",variant:"destructive"})}}),w=ye({mutationFn:({id:I,data:R})=>ve("PATCH",`/api/admin/site-images/${I}`,R),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),a(!1),x(),e({title:"Site image updated successfully"})},onError:()=>{e({title:"Failed to update site image",variant:"destructive"})}}),g=ye({mutationFn:I=>ve("DELETE",`/api/admin/site-images/${I}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),e({title:"Site image deleted successfully"})},onError:()=>{e({title:"Failed to delete site image",variant:"destructive"})}}),x=()=>{f({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),r(null),c(null),u.current&&(u.current.value="")},b=I=>{r(I),f({key:I.key,imageUrl:I.imageUrl,alt:I.alt||"",title:I.title||"",description:I.description||"",page:I.page,section:I.section||"",dimensions:I.dimensions||"",isActive:I.isActive??!0,sortOrder:I.sortOrder||0}),a(!0)},j=()=>{if(!d.key||!d.imageUrl||!d.page){e({title:"Missing required fields",description:"Please fill in the key, image URL, and page.",variant:"destructive"});return}t?w.mutate({id:t.id,data:d}):m.mutate(d)},_=I=>{f(R=>({...R,page:I,section:""}))},N=I=>{var D;const R=(D=dM[d.page])==null?void 0:D.find(O=>O.value===I);f(O=>({...O,section:I,dimensions:(R==null?void 0:R.dimensions)||"",key:t?O.key:`${d.page}_${I}`}))},S=I=>{const R=uM.find(O=>O.value===I),D={landing:"bg-blue-500",facilities:"bg-green-500","coming-soon":"bg-purple-500",about:"bg-amber-500",contact:"bg-teal-500",events:"bg-rose-500"};return s.jsx(ce,{className:D[I]||"bg-gray-500",children:(R==null?void 0:R.label)||I})};if(y)return s.jsx(nt,{title:"Site Images",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const C=(p==null?void 0:p.reduce((I,R)=>{const D=R.page||"other";return I[D]||(I[D]=[]),I[D].push(R),I},{}))||{};return s.jsx(nt,{title:"Site Images",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Site Images Management"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage all website images from a central location. Upload and update images for the landing page, facility pages, coming soon pages, and more."}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 rounded",children:["Landing: ",((P=C.landing)==null?void 0:P.length)||0]}),s.jsxs("span",{className:"px-2 py-1 bg-green-500/20 rounded",children:["Facilities: ",((k=C.facilities)==null?void 0:k.length)||0]}),s.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 rounded",children:["Coming Soon: ",((E=C["coming-soon"])==null?void 0:E.length)||0]})]})]}),s.jsxs(Et,{open:n,onOpenChange:I=>{a(I),I||x()},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-site-image",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Site Image"]})}),s.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:t?"Edit Site Image":"Add New Site Image"})}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"page",children:"Page *"}),s.jsxs(kt,{value:d.page,onValueChange:_,children:[s.jsx(jt,{"data-testid":"select-site-image-page",children:s.jsx(Ct,{placeholder:"Select page"})}),s.jsx(Nt,{children:uM.map(I=>s.jsx(Ce,{value:I.value,children:I.label},I.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"section",children:"Section"}),s.jsxs(kt,{value:d.section,onValueChange:N,children:[s.jsx(jt,{"data-testid":"select-site-image-section",children:s.jsx(Ct,{placeholder:"Select section"})}),s.jsx(Nt,{children:(T=dM[d.page])==null?void 0:T.map(I=>s.jsxs(Ce,{value:I.value,children:[I.label," (",I.dimensions,")"]},I.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"key",children:"Unique Key *"}),s.jsx(Y,{id:"key",value:d.key,onChange:I=>f({...d,key:I.target.value.toLowerCase().replace(/\s+/g,"_")}),placeholder:"e.g., landing_hero",disabled:!!t,"data-testid":"input-site-image-key"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This key is used to reference the image in the code."})]}),s.jsxs(ua,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-2",children:[s.jsx(Vt,{value:"upload",children:"Upload File"}),s.jsx(Vt,{value:"url",children:"Use URL"})]}),s.jsxs(qt,{value:"url",className:"space-y-2 mt-4",children:[s.jsx(V,{htmlFor:"imageUrl",children:"Image URL *"}),s.jsx(Y,{id:"imageUrl",value:d.imageUrl,onChange:I=>f({...d,imageUrl:I.target.value}),placeholder:"https://...","data-testid":"input-site-image-url"})]}),s.jsxs(qt,{value:"upload",className:"space-y-4 mt-4",children:[s.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var I;return!i&&((I=u.current)==null?void 0:I.click())},children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Uploading..."})]}):l?s.jsxs(s.Fragment,{children:[s.jsx(yn,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),s.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),s.jsx(M,{variant:"outline",size:"sm",onClick:I=>{I.stopPropagation(),c(null),f(R=>({...R,imageUrl:""})),u.current&&(u.current.value="")},children:"Upload Different Image"})]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Preview"}),s.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:I=>{I.target.style.display="none"}})})]}),d.dimensions&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[s.jsx(hb,{className:"w-4 h-4 text-blue-500"}),s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Recommended dimensions: ",s.jsx("strong",{children:d.dimensions})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:d.title,onChange:I=>f({...d,title:I.target.value}),placeholder:"Image title","data-testid":"input-site-image-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"alt",children:"Alt Text"}),s.jsx(Y,{id:"alt",value:d.alt,onChange:I=>f({...d,alt:I.target.value}),placeholder:"Image description for accessibility","data-testid":"input-site-image-alt"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:d.description,onChange:I=>f({...d,description:I.target.value}),rows:2,"data-testid":"input-site-image-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:I=>f({...d,sortOrder:parseInt(I.target.value)||0}),"data-testid":"input-site-image-sort"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(Gt,{id:"isActive",checked:d.isActive,onCheckedChange:I=>f({...d,isActive:I})}),s.jsx(V,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),s.jsx(M,{onClick:j,disabled:i||m.isPending||w.isPending,"data-testid":"button-save-site-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),Object.keys(C).length===0?s.jsx(ne,{className:"border-dashed",children:s.jsxs(se,{className:"py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ra,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Site Images Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Upload images to customize the look of your website. Images can be used for hero backgrounds, facility headers, gallery sections, and more."}),s.jsxs(M,{onClick:()=>a(!0),"data-testid":"button-add-first-image",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Your First Image"]})]}),s.jsxs("div",{className:"border-t pt-8 mt-8",children:[s.jsx("h4",{className:"font-semibold text-center mb-6",children:"Where Images Can Be Used"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[s.jsx("h5",{className:"font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Landing Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero background, gallery images, about section"}),s.jsx("p",{className:"text-xs text-blue-500 mt-2",children:"Recommended: 1920x1080 for hero"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[s.jsx("h5",{className:"font-medium text-green-700 dark:text-green-300 mb-1",children:"Facilities"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Headers for each sport facility page"}),s.jsx("p",{className:"text-xs text-green-500 mt-2",children:"Recommended: 1920x600"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[s.jsx("h5",{className:"font-medium text-purple-700 dark:text-purple-300 mb-1",children:"Coming Soon"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero and countdown backgrounds"}),s.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"Recommended: 1920x1080"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[s.jsx("h5",{className:"font-medium text-amber-700 dark:text-amber-300 mb-1",children:"About Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"About hero and team section"}),s.jsx("p",{className:"text-xs text-amber-500 mt-2",children:"Recommended: 1920x600"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-teal-500/10 border border-teal-500/20",children:[s.jsx("h5",{className:"font-medium text-teal-700 dark:text-teal-300 mb-1",children:"Contact Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact hero and map background"}),s.jsx("p",{className:"text-xs text-teal-500 mt-2",children:"Recommended: 1920x400"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-rose-500/10 border border-rose-500/20",children:[s.jsx("h5",{className:"font-medium text-rose-700 dark:text-rose-300 mb-1",children:"Events Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Events hero and academy section"}),s.jsx("p",{className:"text-xs text-rose-500 mt-2",children:"Recommended: 1920x600"})]})]})]}),s.jsxs("div",{className:"border-t pt-8 mt-8 text-center",children:[s.jsx("h4",{className:"font-semibold mb-4",children:"How It Works"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-6 text-sm text-muted-foreground max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"1"})}),s.jsx("span",{children:'Click "Add Site Image" and select a page and section'})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"2"})}),s.jsx("span",{children:"Upload your image or paste a URL"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"3"})}),s.jsx("span",{children:"Save and it appears on your website instantly"})]})]})]})]})}):Object.entries(C).map(([I,R])=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[S(I),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",R.length," images)"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:R.map(D=>s.jsxs(ne,{className:"overflow-hidden","data-testid":`card-site-image-${D.id}`,children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[D.imageUrl?s.jsx("img",{src:D.imageUrl,alt:D.alt||D.title||"Site image",className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(ra,{className:"w-12 h-12 text-muted-foreground"})}),!D.isActive&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(ce,{variant:"secondary",children:"Hidden"})})]}),s.jsxs(se,{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"font-medium truncate",children:D.title||D.key}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:D.key}),D.section&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:D.section}),D.dimensions&&s.jsx("p",{className:"text-xs text-blue-500 mt-1",children:D.dimensions})]})}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsxs(M,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(D),"data-testid":`button-edit-site-image-${D.id}`,children:[s.jsx(Jr,{className:"w-3 h-3 mr-1"}),"Edit"]}),s.jsx(M,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>g.mutate(D.id),"data-testid":`button-delete-site-image-${D.id}`,children:s.jsx(hr,{className:"w-3 h-3"})})]})]})]},D.id))})]},I))]})})}function VMe(){var F,J;const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(""),[p,y]=v.useState(""),[m,w]=v.useState("all"),[g,x]=v.useState("all"),[b,j]=v.useState(!1),[_,N]=v.useState(null),S=v.useRef(null),C=async q=>{var te;const ee=(te=q.target.files)==null?void 0:te[0];if(!ee)return;if(ee.size>10*1024*1024){e({title:"File too large",description:"Maximum file size is 10MB",variant:"destructive"});return}if(!["image/jpeg","image/png","image/webp","application/pdf"].includes(ee.type)){e({title:"Invalid file type",description:"Please upload an image (JPEG, PNG, WebP) or PDF",variant:"destructive"});return}j(!0);try{const be=new FormData;be.append("file",ee);const ie=await fetch("/api/admin/bookings/upload-proof",{method:"POST",body:be,credentials:"include"});if(!ie.ok)throw new Error("Upload failed");const U=await ie.json();N({name:ee.name,url:U.url}),d(U.url),e({title:"Payment proof uploaded successfully"})}catch{e({title:"Upload failed",description:"Please try again",variant:"destructive"})}finally{j(!1)}},{data:P,isLoading:k}=de({queryKey:["/api/admin/bookings"]}),{data:E}=de({queryKey:["/api/admin/facilities"]}),T=q=>{if(!q||!E)return"Unknown";const ee=E.find(pe=>pe.id===q);return(ee==null?void 0:ee.name)||"Unknown"},I=ye({mutationFn:async({id:q,data:ee})=>await ve("PATCH",`/api/admin/bookings/${q}/payment`,ee),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Booking updated successfully"}),a(!1),r(null),c("")},onError:()=>{e({title:"Failed to update booking",variant:"destructive"})}}),R=ye({mutationFn:async({id:q,status:ee,cancelReason:pe})=>await ve("PATCH",`/api/admin/bookings/${q}/status`,{status:ee,cancelReason:pe}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Status updated successfully"}),o(!1),h("")},onError:()=>{e({title:"Failed to update status",variant:"destructive"})}}),D=()=>{t&&R.mutate({id:t.id,status:"CANCELLED",cancelReason:f})},O=()=>{t&&I.mutate({id:t.id,data:{paymentStatus:"VERIFIED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},z=()=>{t&&I.mutate({id:t.id,data:{paymentStatus:"REJECTED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},A=q=>{switch(q){case"VERIFIED":return s.jsx(ce,{variant:"default",className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return s.jsx(ce,{variant:"default",className:"bg-yellow-600",children:"Pending Verification"});case"REJECTED":return s.jsx(ce,{variant:"destructive",children:"Rejected"});case"PENDING_PAYMENT":default:return s.jsx(ce,{variant:"secondary",children:"Awaiting Payment"})}},$=(q,ee)=>q==="CONFIRMED"&&ee==="VERIFIED"?s.jsx(ce,{variant:"default",className:"bg-green-600",children:"Confirmed"}):q==="CANCELLED"?s.jsx(ce,{variant:"destructive",children:"Cancelled"}):ee==="VERIFIED"&&q!=="CONFIRMED"?s.jsx(ce,{variant:"default",className:"bg-blue-600",children:"Payment Verified"}):ee==="PENDING_VERIFICATION"?s.jsx(ce,{variant:"default",className:"bg-amber-500",children:"Tentative - Awaiting Verification"}):s.jsx(ce,{variant:"secondary",children:"Tentative - Awaiting Payment"}),Q=P==null?void 0:P.filter(q=>{var ie;const ee=T(q.facilityId),pe=q.id.toLowerCase().includes(p.toLowerCase())||ee.toLowerCase().includes(p.toLowerCase())||((ie=q.userId)==null?void 0:ie.toLowerCase().includes(p.toLowerCase())),te=m==="all"||q.paymentStatus===m,be=g==="all"||q.status===g;return pe&&te&&be}),X=(P==null?void 0:P.filter(q=>q.paymentStatus==="PENDING_VERIFICATION").length)||0;return k?s.jsx(nt,{title:"Bookings Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Bookings Management",children:s.jsxs("div",{className:"space-y-6",children:[X>0&&s.jsx(ne,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:s.jsxs(se,{className:"flex items-center gap-3 p-4",children:[s.jsx(Cn,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("span",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:[X," booking",X>1?"s":""," pending payment verification"]}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>w("PENDING_VERIFICATION"),className:"ml-auto","data-testid":"button-show-pending",children:"Show Pending"})]})}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Qt,{className:"h-5 w-5"}),"All Bookings (",(P==null?void 0:P.length)||0,")"]})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(Mp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Y,{placeholder:"Search by ID, facility, or user...",value:p,onChange:q=>y(q.target.value),className:"pl-10","data-testid":"input-search-bookings"})]})}),s.jsxs(kt,{value:m,onValueChange:w,children:[s.jsxs(jt,{className:"w-[180px]","data-testid":"select-payment-filter",children:[s.jsx(q5,{className:"h-4 w-4 mr-2"}),s.jsx(Ct,{placeholder:"Payment Status"})]}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"all",children:"All Payments"}),s.jsx(Ce,{value:"PENDING_PAYMENT",children:"Awaiting Payment"}),s.jsx(Ce,{value:"PENDING_VERIFICATION",children:"Pending Verification"}),s.jsx(Ce,{value:"VERIFIED",children:"Verified"}),s.jsx(Ce,{value:"REJECTED",children:"Rejected"})]})]}),s.jsxs(kt,{value:g,onValueChange:x,children:[s.jsx(jt,{className:"w-[160px]","data-testid":"select-status-filter",children:s.jsx(Ct,{placeholder:"Status"})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"all",children:"All Status"}),s.jsx(Ce,{value:"PENDING",children:"Pending"}),s.jsx(Ce,{value:"CONFIRMED",children:"Confirmed"}),s.jsx(Ce,{value:"CANCELLED",children:"Cancelled"})]})]})]}),Q&&Q.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Booking ID"}),s.jsx(ue,{children:"Date / Time"}),s.jsx(ue,{children:"Facility"}),s.jsx(ue,{children:"Amount"}),s.jsx(ue,{children:"Payment"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{children:"Actions"})]})}),s.jsx(Dr,{children:Q.map(q=>{var ee;return s.jsxs(tt,{"data-testid":`row-booking-${q.id}`,children:[s.jsxs(oe,{className:"font-mono text-xs",children:[q.id.slice(0,8),"..."]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-sm font-medium",children:q.date}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[q.startTime," - ",q.endTime]})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-sm",children:T(q.facilityId)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",q.resourceId]})]}),s.jsx(oe,{children:s.jsxs("span",{className:"font-medium",children:["PKR ",((ee=q.totalPrice)==null?void 0:ee.toLocaleString())||0]})}),s.jsx(oe,{children:A(q.paymentStatus)}),s.jsx(oe,{children:$(q.status,q.paymentStatus)}),s.jsx(oe,{children:s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>{r(q),c(q.paymentNotes||""),d(q.paymentProofUrl||""),N(null),a(!0)},"data-testid":`button-view-${q.id}`,children:s.jsx(Zn,{className:"h-4 w-4"})})})]},q.id)})})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings found matching your filters."})]})]}),s.jsx(Et,{open:n,onOpenChange:a,children:s.jsxs(_t,{className:"max-w-2xl",children:[s.jsx(At,{children:s.jsx(Ot,{children:"Booking Details"})}),t&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(V,{className:"text-xs text-muted-foreground",children:"Booking ID"}),s.jsx("p",{className:"font-mono text-sm",children:t.id})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-xs text-muted-foreground",children:"User ID"}),s.jsx("p",{className:"font-mono text-sm",children:t.userId})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-xs text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:t.date})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-xs text-muted-foreground",children:"Time"}),s.jsxs("p",{className:"font-medium",children:[t.startTime," - ",t.endTime]})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-xs text-muted-foreground",children:"Facility"}),s.jsx("p",{className:"font-medium",children:T(t.facilityId)})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-xs text-muted-foreground",children:"Resource"}),s.jsxs("p",{className:"font-medium",children:["#",t.resourceId]})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-xs text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-bold text-lg",children:["PKR ",((F=t.totalPrice)==null?void 0:F.toLocaleString())||0]})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-xs text-muted-foreground",children:"Payment Method"}),s.jsx("p",{className:"font-medium capitalize",children:((J=t.paymentMethod)==null?void 0:J.replace("_"," "))||"N/A"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx(V,{className:"text-xs text-muted-foreground",children:"Payment Status"}),s.jsx("div",{className:"mt-1",children:A(t.paymentStatus)})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-xs text-muted-foreground",children:"Booking Status"}),s.jsx("div",{className:"mt-1",children:$(t.status,t.paymentStatus)})]})]}),s.jsxs("div",{className:"mb-4 space-y-3",children:[s.jsx(V,{children:"Payment Proof"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",ref:S,onChange:C,accept:"image/jpeg,image/png,image/webp,application/pdf",className:"hidden","data-testid":"input-file-proof"}),s.jsx(M,{type:"button",variant:"outline",onClick:()=>{var q;return(q=S.current)==null?void 0:q.click()},disabled:b,className:"flex-1","data-testid":"button-upload-proof",children:b?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"h-4 w-4 mr-2 animate-spin"})," Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2"})," Upload Receipt/Screenshot"]})}),(t.paymentProofUrl||u)&&s.jsx(M,{variant:"outline",size:"icon",onClick:()=>window.open(u||t.paymentProofUrl||"","_blank"),title:"View proof document","data-testid":"button-view-proof",children:s.jsx(Zo,{className:"h-4 w-4"})})]}),_&&s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Uploaded: ",_.name]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("div",{className:"flex-1 h-px bg-border"}),s.jsx("span",{children:"or enter URL manually"}),s.jsx("div",{className:"flex-1 h-px bg-border"})]}),s.jsx(Y,{id:"paymentProofUrl",value:u,onChange:q=>{d(q.target.value),N(null)},placeholder:"Enter proof URL (receipt/transfer screenshot)","data-testid":"input-payment-proof-url"}),t.paymentProofUrl&&!u&&!_&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current: ",s.jsx("a",{href:t.paymentProofUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View existing proof"})]})]}),t.paymentVerifiedBy&&s.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Verified by: ",t.paymentVerifiedBy,t.paymentVerifiedAt&&s.jsxs(s.Fragment,{children:[" on ",Xn(new Date(t.paymentVerifiedAt),"PPp")]})]}),t.paymentStatus==="VERIFIED"&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-950 rounded-md border border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Receipt Available"}),t.receiptNumber&&s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 font-mono",children:["#",t.receiptNumber]})]}),s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>window.open(`/api/admin/bookings/${t.id}/receipt`,"_blank"),"data-testid":"button-view-receipt",children:[s.jsx(hs,{className:"h-4 w-4 mr-2"}),"View Receipt"]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"paymentNotes",children:"Admin Notes"}),s.jsx(ct,{id:"paymentNotes",value:l,onChange:q=>c(q.target.value),placeholder:"Add notes about payment verification...",rows:3,"data-testid":"textarea-payment-notes"})]})]}),(t.paymentStatus==="PENDING_VERIFICATION"||t.paymentStatus==="PENDING_PAYMENT")&&s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs(M,{onClick:O,disabled:I.isPending,className:"flex-1 bg-green-600 hover:bg-green-500","data-testid":"button-verify-payment",children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Verify Payment"]}),s.jsxs(M,{onClick:z,disabled:I.isPending,variant:"destructive",className:"flex-1","data-testid":"button-reject-payment",children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),t.status!=="CANCELLED"&&s.jsx("div",{className:"flex gap-3 pt-4 border-t",children:s.jsxs(M,{onClick:()=>{o(!0)},disabled:R.isPending,variant:"destructive","data-testid":"button-cancel-booking",children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})]})}),s.jsx(Et,{open:i,onOpenChange:o,children:s.jsxs(_t,{children:[s.jsx(At,{children:s.jsx(Ot,{children:"Cancel Booking"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to cancel this booking? This action cannot be undone. The user will receive an email notification about the cancellation."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"cancelReason",children:"Cancellation Reason (Optional)"}),s.jsx(ct,{id:"cancelReason",value:f,onChange:q=>h(q.target.value),placeholder:"Reason for cancellation...",rows:3,"data-testid":"textarea-cancel-reason"})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(M,{variant:"outline",onClick:()=>{o(!1),h("")},"data-testid":"button-cancel-dialog-close",children:"Keep Booking"}),s.jsx(M,{variant:"destructive",onClick:D,disabled:R.isPending,"data-testid":"button-confirm-cancel",children:R.isPending?"Cancelling...":"Confirm Cancellation"})]})]})]})})]})})}function qMe(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""}),[l,c]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(""),[p,y]=v.useState(""),[m,w]=v.useState(""),[g,x]=v.useState(null),b=async(A,$,Q)=>{x(Q);try{const X=new FormData;X.append("image",A);const F=await fetch("/api/admin/upload",{method:"POST",body:X,credentials:"include"});if(!F.ok){const q=await F.json();throw new Error(q.message||"Upload failed")}const J=await F.json();J.imageUrl&&($(J.imageUrl),e({title:"Image uploaded successfully"}))}catch(X){e({title:"Upload failed",description:X.message||"Failed to upload image",variant:"destructive"})}finally{x(null)}},{data:j,isLoading:_,dataUpdatedAt:N}=de({queryKey:["/api/admin/site-settings"]}),{data:S,isLoading:C}=de({queryKey:["/api/admin/navbar-items"]}),P=A=>{var $;return(($=j==null?void 0:j.find(Q=>Q.key===A))==null?void 0:$.value)||""};v.useEffect(()=>{j&&!_&&(c(P("logo_main_url")),d(P("logo_dark_url")),h(P("favicon_url")),y(P("site_name")||"The Quarterdeck"),w(P("site_tagline")||"Sports & Recreation Complex"))},[j,_,N]);const k=ye({mutationFn:async A=>{for(const $ of A)await ve("POST","/api/admin/site-settings",$)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),re.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Branding settings saved successfully"})},onError:()=>{e({title:"Failed to save branding settings",variant:"destructive"})}}),E=ye({mutationFn:async A=>await ve("POST","/api/admin/navbar-items",A),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item created successfully"}),a(!1),R()},onError:()=>{e({title:"Failed to create navigation item",variant:"destructive"})}}),T=ye({mutationFn:async({id:A,data:$})=>await ve("PATCH",`/api/admin/navbar-items/${A}`,$),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item updated successfully"}),a(!1),r(null),R()},onError:()=>{e({title:"Failed to update navigation item",variant:"destructive"})}}),I=ye({mutationFn:async A=>await ve("DELETE",`/api/admin/navbar-items/${A}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item deleted successfully"})},onError:()=>{e({title:"Failed to delete navigation item",variant:"destructive"})}}),R=()=>{o({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""})},D=A=>{r(A),o({label:A.label,href:A.href,sortOrder:A.sortOrder,isVisible:A.isVisible,target:A.target||"_self",requiresAuth:A.requiresAuth||!1,icon:A.icon||""}),a(!0)},O=()=>{t?T.mutate({id:t.id,data:i}):E.mutate(i)},z=()=>{const A=[{key:"logo_main_url",value:l,label:"Main Logo URL",category:"branding"},{key:"logo_dark_url",value:u,label:"Dark Mode Logo URL",category:"branding"},{key:"favicon_url",value:f,label:"Favicon URL",category:"branding"},{key:"site_name",value:p,label:"Site Name",category:"branding"},{key:"site_tagline",value:m,label:"Site Tagline",category:"branding"}];k.mutate(A)};return _||C?s.jsx(nt,{title:"Branding & Navigation",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Branding & Navigation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"h-5 w-5"}),"Site Branding"]}),s.jsx(Rt,{children:"Customize your site logo, favicon, and branding text. Provide URLs to your logo images."})]}),s.jsxs(se,{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"siteName",children:"Site Name"}),s.jsx(Y,{id:"siteName",value:p,onChange:A=>y(A.target.value),placeholder:"The Quarterdeck","data-testid":"input-site-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"siteTagline",children:"Site Tagline"}),s.jsx(Y,{id:"siteTagline",value:m,onChange:A=>w(A.target.value),placeholder:"Sports & Recreation Complex","data-testid":"input-site-tagline"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"logoUrl",children:"Main Logo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"logoUrl",value:l,onChange:A=>c(A.target.value),placeholder:"https://example.com/logo.png or upload","data-testid":"input-logo-url",className:"flex-1"}),s.jsx(M,{variant:"outline",size:"icon",disabled:g==="logo",onClick:()=>{var A;return(A=document.getElementById("logo-upload"))==null?void 0:A.click()},"data-testid":"button-upload-logo",children:g==="logo"?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(cn,{className:"h-4 w-4"})}),s.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",className:"hidden",onChange:A=>{var Q;const $=(Q=A.target.files)==null?void 0:Q[0];$&&b($,c,"logo"),A.target.value=""}})]}),l&&s.jsxs("div",{className:"mt-2 p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),s.jsx("img",{src:l,alt:"Logo preview",className:"h-12 w-auto object-contain"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"logoDarkUrl",children:"Dark Mode Logo (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"logoDarkUrl",value:u,onChange:A=>d(A.target.value),placeholder:"https://example.com/logo-dark.png or upload","data-testid":"input-logo-dark-url",className:"flex-1"}),s.jsx(M,{variant:"outline",size:"icon",disabled:g==="logoDark",onClick:()=>{var A;return(A=document.getElementById("logo-dark-upload"))==null?void 0:A.click()},"data-testid":"button-upload-logo-dark",children:g==="logoDark"?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(cn,{className:"h-4 w-4"})}),s.jsx("input",{id:"logo-dark-upload",type:"file",accept:"image/*",className:"hidden",onChange:A=>{var Q;const $=(Q=A.target.files)==null?void 0:Q[0];$&&b($,d,"logoDark"),A.target.value=""}})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"faviconUrl",children:"Favicon"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"faviconUrl",value:f,onChange:A=>h(A.target.value),placeholder:"https://example.com/favicon.ico or upload","data-testid":"input-favicon-url",className:"flex-1"}),s.jsx(M,{variant:"outline",size:"icon",disabled:g==="favicon",onClick:()=>{var A;return(A=document.getElementById("favicon-upload"))==null?void 0:A.click()},"data-testid":"button-upload-favicon",children:g==="favicon"?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(cn,{className:"h-4 w-4"})}),s.jsx("input",{id:"favicon-upload",type:"file",accept:"image/*,.ico",className:"hidden",onChange:A=>{var Q;const $=(Q=A.target.files)==null?void 0:Q[0];$&&b($,h,"favicon"),A.target.value=""}})]})]}),s.jsxs(M,{onClick:z,disabled:k.isPending,"data-testid":"button-save-branding",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),k.isPending?"Saving...":"Save Branding Settings"]})]})]}),s.jsxs(ne,{children:[s.jsxs(Le,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(NG,{className:"h-5 w-5"}),"Navigation Items"]}),s.jsx(Rt,{children:"Manage the navigation links that appear in the header."})]}),s.jsxs(M,{onClick:()=>{R(),r(null),a(!0)},"data-testid":"button-add-nav-item",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.jsx(se,{children:S&&S.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{className:"w-[50px]",children:"Order"}),s.jsx(ue,{children:"Label"}),s.jsx(ue,{children:"Link"}),s.jsx(ue,{children:"Visibility"}),s.jsx(ue,{children:"Actions"})]})}),s.jsx(Dr,{children:S.map(A=>s.jsxs(tt,{"data-testid":`row-nav-${A.id}`,children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rp,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:A.sortOrder})]})}),s.jsx(oe,{className:"font-medium",children:A.label}),s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[A.href,A.target==="_blank"&&s.jsx(Zo,{className:"h-3 w-3"})]})}),s.jsx(oe,{children:A.isVisible?s.jsx(ce,{variant:"default",className:"bg-green-600",children:"Visible"}):s.jsx(ce,{variant:"secondary",children:"Hidden"})}),s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>D(A),"data-testid":`button-edit-nav-${A.id}`,children:s.jsx(Jr,{className:"h-4 w-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>I.mutate(A.id),"data-testid":`button-delete-nav-${A.id}`,children:s.jsx(hr,{className:"h-4 w-4"})})]})})]},A.id))})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No navigation items configured. Click "Add Item" to create one.'})})]}),s.jsx(Et,{open:n,onOpenChange:a,children:s.jsxs(_t,{children:[s.jsx(At,{children:s.jsx(Ot,{children:t?"Edit Navigation Item":"Add Navigation Item"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"navLabel",children:"Label"}),s.jsx(Y,{id:"navLabel",value:i.label,onChange:A=>o({...i,label:A.target.value}),placeholder:"Home","data-testid":"input-nav-label"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"navHref",children:"Link URL"}),s.jsx(Y,{id:"navHref",value:i.href,onChange:A=>o({...i,href:A.target.value}),placeholder:"/home or https://...","data-testid":"input-nav-href"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"navOrder",children:"Sort Order"}),s.jsx(Y,{id:"navOrder",type:"number",value:i.sortOrder,onChange:A=>o({...i,sortOrder:parseInt(A.target.value)||0}),"data-testid":"input-nav-order"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"navTarget",children:"Link Target"}),s.jsxs(kt,{value:i.target,onValueChange:A=>o({...i,target:A}),children:[s.jsx(jt,{"data-testid":"select-nav-target",children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"_self",children:"Same Window"}),s.jsx(Ce,{value:"_blank",children:"New Window"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"navVisible",children:"Visible"}),s.jsx(Gt,{id:"navVisible",checked:i.isVisible,onCheckedChange:A=>o({...i,isVisible:A}),"data-testid":"switch-nav-visible"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"navAuth",children:"Requires Authentication"}),s.jsx(Gt,{id:"navAuth",checked:i.requiresAuth,onCheckedChange:A=>o({...i,requiresAuth:A}),"data-testid":"switch-nav-auth"})]}),s.jsxs(M,{className:"w-full",onClick:O,disabled:E.isPending||T.isPending,"data-testid":"button-save-nav-item",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),t?"Update Item":"Create Item"]})]})]})})]})})}var zMe=Symbol("radix.slottable");function WMe(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=zMe,t}var q9="AlertDialog",[KMe]=An(q9,[H6]),io=H6(),z9=e=>{const{__scopeAlertDialog:t,...r}=e,n=io(t);return s.jsx(O2,{...n,...r,modal:!0})};z9.displayName=q9;var HMe="AlertDialogTrigger",W9=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=io(r);return s.jsx(c8,{...a,...n,ref:t})});W9.displayName=HMe;var GMe="AlertDialogPortal",K9=e=>{const{__scopeAlertDialog:t,...r}=e,n=io(t);return s.jsx(T2,{...n,...r})};K9.displayName=GMe;var QMe="AlertDialogOverlay",H9=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=io(r);return s.jsx(Gb,{...a,...n,ref:t})});H9.displayName=QMe;var ad="AlertDialogContent",[YMe,XMe]=KMe(ad),JMe=WMe("AlertDialogContent"),G9=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=io(r),o=v.useRef(null),l=ft(t,o),c=v.useRef(null);return s.jsx(koe,{contentName:ad,titleName:Q9,docsSlug:"alert-dialog",children:s.jsx(YMe,{scope:r,cancelRef:c,children:s.jsxs(Qb,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:je(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(JMe,{children:n}),s.jsx(e$e,{contentRef:o})]})})})});G9.displayName=ad;var Q9="AlertDialogTitle",Y9=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=io(r);return s.jsx(I2,{...a,...n,ref:t})});Y9.displayName=Q9;var X9="AlertDialogDescription",J9=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=io(r);return s.jsx(R2,{...a,...n,ref:t})});J9.displayName=X9;var ZMe="AlertDialogAction",Z9=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=io(r);return s.jsx(M2,{...a,...n,ref:t})});Z9.displayName=ZMe;var e7="AlertDialogCancel",t7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=XMe(e7,r),i=io(r),o=ft(t,a);return s.jsx(M2,{...i,...n,ref:o})});t7.displayName=e7;var e$e=({contentRef:e})=>{const t=`\`${ad}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ad}\` by passing a \`${X9}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ad}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},t$e=z9,r$e=W9,n$e=K9,r7=H9,n7=G9,s7=Z9,a7=t7,i7=Y9,o7=J9;const Vf=t$e,aP=r$e,s$e=n$e,l7=v.forwardRef(({className:e,...t},r)=>s.jsx(r7,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));l7.displayName=r7.displayName;const zc=v.forwardRef(({className:e,...t},r)=>s.jsxs(s$e,{children:[s.jsx(l7,{}),s.jsx(n7,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));zc.displayName=n7.displayName;const Wc=({className:e,...t})=>s.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",e),...t});Wc.displayName="AlertDialogHeader";const Kc=({className:e,...t})=>s.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Kc.displayName="AlertDialogFooter";const Hc=v.forwardRef(({className:e,...t},r)=>s.jsx(i7,{ref:r,className:we("text-lg font-semibold",e),...t}));Hc.displayName=i7.displayName;const Gc=v.forwardRef(({className:e,...t},r)=>s.jsx(o7,{ref:r,className:we("text-sm text-muted-foreground",e),...t}));Gc.displayName=o7.displayName;const Qc=v.forwardRef(({className:e,...t},r)=>s.jsx(s7,{ref:r,className:we(Yk(),e),...t}));Qc.displayName=s7.displayName;const Yc=v.forwardRef(({className:e,...t},r)=>s.jsx(a7,{ref:r,className:we(Yk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Yc.displayName=a7.displayName;const a$e=pa({title:vt().min(1,"Title is required"),icon:vt().optional(),sortOrder:Kb.number().default(0),isActive:C2().default(!0)}),i$e=pa({categoryId:vt().min(1,"Category is required"),question:vt().min(1,"Question is required"),answer:vt().min(1,"Answer is required"),sortOrder:Kb.number().default(0),isActive:C2().default(!0)}),o$e=[{value:"help-circle",label:"Help Circle"},{value:"users",label:"Users"},{value:"calendar",label:"Calendar"},{value:"credit-card",label:"Credit Card"},{value:"building-2",label:"Building"},{value:"shield",label:"Shield"},{value:"clock",label:"Clock"},{value:"settings",label:"Settings"}];function l$e(){const{toast:e}=mt(),[t,r]=v.useState(!1),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,h]=v.useState(null),[p,y]=v.useState(new Set),{data:m=[],isLoading:w}=de({queryKey:["/api/admin/faq/categories"]}),{data:g=[],isLoading:x}=de({queryKey:["/api/admin/faq/items"]}),b=Ls({resolver:Fs(a$e),defaultValues:{title:"",icon:"help-circle",sortOrder:0,isActive:!0}}),j=Ls({resolver:Fs(i$e),defaultValues:{categoryId:"",question:"",answer:"",sortOrder:0,isActive:!0}}),_=ye({mutationFn:async A=>await ve("POST","/api/admin/faq/categories",A),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category created successfully"}),r(!1),b.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),N=ye({mutationFn:async({id:A,data:$})=>await ve("PATCH",`/api/admin/faq/categories/${A}`,$),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category updated successfully"}),r(!1),o(null),b.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),S=ye({mutationFn:async A=>await ve("DELETE",`/api/admin/faq/categories/${A}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"Category deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),C=ye({mutationFn:async A=>await ve("POST","/api/admin/faq/items",A),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item created successfully"}),a(!1),j.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),P=ye({mutationFn:async({id:A,data:$})=>await ve("PATCH",`/api/admin/faq/items/${A}`,$),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item updated successfully"}),a(!1),c(null),j.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),k=ye({mutationFn:async A=>await ve("DELETE",`/api/admin/faq/items/${A}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),E=A=>{o(A),b.reset({title:A.title,icon:A.icon||"help-circle",sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),r(!0)},T=A=>{c(A),j.reset({categoryId:A.categoryId,question:A.question,answer:A.answer,sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),a(!0)},I=A=>{i?N.mutate({id:i.id,data:A}):_.mutate(A)},R=A=>{l?P.mutate({id:l.id,data:A}):C.mutate(A)},D=()=>{f&&(f.type==="category"?S.mutate(f.id):k.mutate(f.id),d(!1),h(null))},O=A=>{y($=>{const Q=new Set($);return Q.has(A)?Q.delete(A):Q.add(A),Q})},z=A=>g.filter($=>$.categoryId===A).sort(($,Q)=>($.sortOrder||0)-(Q.sortOrder||0));return w||x?s.jsx(nt,{title:"FAQ Management",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"FAQ Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-faq-management-title",children:"FAQ Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage frequently asked questions and categories"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Et,{open:t,onOpenChange:A=>{r(A),A||(o(null),b.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{variant:"outline","data-testid":"button-add-category",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),s.jsxs(_t,{children:[s.jsx(At,{children:s.jsx(Ot,{children:i?"Edit Category":"Add Category"})}),s.jsx(Bs,{...b,children:s.jsxs("form",{onSubmit:b.handleSubmit(I),className:"space-y-4",children:[s.jsx(rt,{control:b.control,name:"title",render:({field:A})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Title"}),s.jsx(et,{children:s.jsx(Y,{...A,"data-testid":"input-category-title"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:b.control,name:"icon",render:({field:A})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Icon"}),s.jsxs(kt,{onValueChange:A.onChange,value:A.value,children:[s.jsx(et,{children:s.jsx(jt,{"data-testid":"select-category-icon",children:s.jsx(Ct,{placeholder:"Select an icon"})})}),s.jsx(Nt,{children:o$e.map($=>s.jsx(Ce,{value:$.value,children:$.label},$.value))})]}),s.jsx(st,{})]})}),s.jsx(rt,{control:b.control,name:"sortOrder",render:({field:A})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Sort Order"}),s.jsx(et,{children:s.jsx(Y,{type:"number",...A,"data-testid":"input-category-sort-order"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:b.control,name:"isActive",render:({field:A})=>s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(et,{children:s.jsx(Gt,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-category-active"})}),s.jsx(V,{children:"Active"})]})}),s.jsxs(M,{type:"submit",className:"w-full",disabled:_.isPending||N.isPending,"data-testid":"button-save-category",children:[(_.isPending||N.isPending)&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Update":"Create"," Category"]})]})})]})]}),s.jsxs(Et,{open:n,onOpenChange:A=>{a(A),A||(c(null),j.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-faq-item",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add FAQ Item"]})}),s.jsxs(_t,{className:"max-w-2xl",children:[s.jsx(At,{children:s.jsx(Ot,{children:l?"Edit FAQ Item":"Add FAQ Item"})}),s.jsx(Bs,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(R),className:"space-y-4",children:[s.jsx(rt,{control:j.control,name:"categoryId",render:({field:A})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Category"}),s.jsxs(kt,{onValueChange:A.onChange,value:A.value,children:[s.jsx(et,{children:s.jsx(jt,{"data-testid":"select-item-category",children:s.jsx(Ct,{placeholder:"Select a category"})})}),s.jsx(Nt,{children:m.map($=>s.jsx(Ce,{value:$.id,children:$.title},$.id))})]}),s.jsx(st,{})]})}),s.jsx(rt,{control:j.control,name:"question",render:({field:A})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Question"}),s.jsx(et,{children:s.jsx(Y,{...A,"data-testid":"input-item-question"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:j.control,name:"answer",render:({field:A})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Answer"}),s.jsx(et,{children:s.jsx(ct,{...A,rows:4,"data-testid":"input-item-answer"})}),s.jsx(st,{})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(rt,{control:j.control,name:"sortOrder",render:({field:A})=>s.jsxs(Ye,{className:"flex-1",children:[s.jsx(Ze,{children:"Sort Order"}),s.jsx(et,{children:s.jsx(Y,{type:"number",...A,"data-testid":"input-item-sort-order"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:j.control,name:"isActive",render:({field:A})=>s.jsxs(Ye,{className:"flex items-center gap-2 pt-8",children:[s.jsx(et,{children:s.jsx(Gt,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-item-active"})}),s.jsx(V,{children:"Active"})]})})]}),s.jsxs(M,{type:"submit",className:"w-full",disabled:C.isPending||P.isPending,"data-testid":"button-save-item",children:[(C.isPending||P.isPending)&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),l?"Update":"Create"," FAQ Item"]})]})})]})]})]})]}),m.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(Ts,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQ Categories"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first category to start adding FAQ items."})]})}):s.jsx("div",{className:"space-y-4",children:m.sort((A,$)=>(A.sortOrder||0)-($.sortOrder||0)).map(A=>s.jsxs(ne,{className:"overflow-visible","data-testid":`card-category-${A.id}`,children:[s.jsx(Le,{className:"cursor-pointer",onClick:()=>O(A.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p.has(A.id)?s.jsx(gc,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(la,{className:"w-5 h-5 text-muted-foreground"}),s.jsx(We,{className:"text-lg",children:A.title}),!A.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Inactive"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",z(A.id).length," items)"]})]}),s.jsxs("div",{className:"flex gap-2",onClick:$=>$.stopPropagation(),children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>E(A),"data-testid":`button-edit-category-${A.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{h({type:"category",id:A.id}),d(!0)},"data-testid":`button-delete-category-${A.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})]})}),p.has(A.id)&&s.jsx(se,{className:"pt-0",children:z(A.id).length===0?s.jsx("p",{className:"text-muted-foreground text-sm py-4",children:"No FAQ items in this category."}):s.jsx("div",{className:"space-y-2",children:z(A.id).map($=>s.jsxs("div",{className:"border rounded-md p-4 flex items-start justify-between gap-4","data-testid":`item-faq-${$.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:$.question}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:$.answer}),!$.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded mt-2 inline-block",children:"Inactive"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>T($),"data-testid":`button-edit-item-${$.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{h({type:"item",id:$.id}),d(!0)},"data-testid":`button-delete-item-${$.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})]},$.id))})})]},A.id))}),s.jsx(Vf,{open:u,onOpenChange:d,children:s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Are you sure?"}),s.jsx(Gc,{children:(f==null?void 0:f.type)==="category"?"This will delete the category and all its FAQ items. This action cannot be undone.":"This will delete the FAQ item. This action cannot be undone."})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Qc,{onClick:D,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})})}const xh={dimensions:{recommended:"800 x 800 px (1:1 square)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",dpi:"72-150 DPI (web optimized)",tips:["Use a well-lit, clear photo of the face","Avoid filters or heavy editing","Ensure the face is centered in the frame","Use a neutral or solid background if possible","Live selfie or camera capture is acceptable"]};function c$e(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState(null),f=v.useRef(null),[h,p]=v.useState({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),{data:y,isLoading:m}=de({queryKey:["/api/admin/users"]}),{data:w}=de({queryKey:["/api/auth/user"]}),g=(w==null?void 0:w.role)==="SUPER_ADMIN",x=ye({mutationFn:async({id:k,data:E})=>await ve("PATCH",`/api/admin/users/${k}`,E),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Member updated successfully"}),a(!1),r(null),b()},onError:k=>{e({title:"Failed to update member",description:k.message||"An error occurred",variant:"destructive"})}}),b=()=>{p({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),d(null),f.current&&(f.current.value="")},j=async k=>{var T;const E=(T=k.target.files)==null?void 0:T[0];if(E){if(!["image/jpeg","image/png","image/webp"].includes(E.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(E.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const I=new FormData;I.append("image",E);const R=await fetch("/api/admin/upload",{method:"POST",body:I,credentials:"include"});if(!R.ok){let O="Upload failed";try{O=(await R.json()).message||O}catch{O=R.statusText||O}throw new Error(O)}const D=await R.json();d({name:E.name,url:D.imageUrl}),p(O=>({...O,profileImageUrl:D.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Profile photo has been uploaded."})}catch(I){e({title:"Upload failed",description:I.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1),f.current&&(f.current.value="")}}},_=k=>{r(k),p({firstName:k.firstName||"",lastName:k.lastName||"",phone:k.phone||"",profileImageUrl:k.profileImageUrl||"",role:k.role,isSafetyCertified:k.isSafetyCertified||!1,hasSignedWaiver:k.hasSignedWaiver||!1}),d(null),f.current&&(f.current.value=""),a(!0)},N=()=>{t&&x.mutate({id:t.id,data:h})},S=y==null?void 0:y.filter(k=>{var I,R;if(!i)return!0;const E=i.toLowerCase();return`${k.firstName||""} ${k.lastName||""}`.toLowerCase().includes(E)||((I=k.email)==null?void 0:I.toLowerCase().includes(E))||((R=k.phone)==null?void 0:R.toLowerCase().includes(E))}),C=k=>{switch(k){case"SUPER_ADMIN":return"destructive";case"ADMIN":return"default";default:return"secondary"}},P=k=>{var I,R,D;const E=((I=k.firstName)==null?void 0:I.charAt(0))||"",T=((R=k.lastName)==null?void 0:R.charAt(0))||"";return(E+T).toUpperCase()||((D=k.email)==null?void 0:D.charAt(0).toUpperCase())||"?"};return s.jsx(nt,{title:"Members Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-members-title",children:"Members Management"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage member profiles, certifications, and profile photos"})]})}),s.jsxs(ne,{children:[s.jsxs(Le,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-4",children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"w-5 h-5"}),"All Members (",(S==null?void 0:S.length)||0,")"]}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Mp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Y,{placeholder:"Search by name, email, phone...",value:i,onChange:k=>o(k.target.value),className:"pl-9","data-testid":"input-member-search"})]})]}),s.jsx(se,{children:m?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{className:"w-16",children:"Photo"}),s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Email"}),s.jsx(ue,{children:"Phone"}),s.jsx(ue,{children:"Role"}),s.jsx(ue,{children:"Certifications"}),s.jsx(ue,{className:"w-20",children:"Actions"})]})}),s.jsxs(Dr,{children:[S==null?void 0:S.map(k=>s.jsxs(tt,{"data-testid":`row-member-${k.id}`,children:[s.jsx(oe,{children:s.jsxs(Od,{className:"w-10 h-10",children:[s.jsx(Td,{src:k.profileImageUrl||void 0,alt:`${k.firstName} ${k.lastName}`}),s.jsx(Id,{children:P(k)})]})}),s.jsx(oe,{className:"font-medium",children:k.firstName||k.lastName?`${k.firstName||""} ${k.lastName||""}`.trim():s.jsx("span",{className:"text-muted-foreground",children:"Not set"})}),s.jsx(oe,{children:k.email||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(oe,{children:k.phone||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(oe,{children:s.jsx(ce,{variant:C(k.role),children:k.role})}),s.jsx(oe,{children:s.jsxs("div",{className:"flex gap-1",children:[k.isSafetyCertified&&s.jsx(ce,{variant:"outline",className:"text-xs",children:"Safety"}),k.hasSignedWaiver&&s.jsx(ce,{variant:"outline",className:"text-xs",children:"Waiver"}),!k.isSafetyCertified&&!k.hasSignedWaiver&&s.jsx("span",{className:"text-muted-foreground text-sm",children:"None"})]})}),s.jsx(oe,{children:s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>_(k),"data-testid":`button-edit-member-${k.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})})})]},k.id)),(S==null?void 0:S.length)===0&&s.jsx(tt,{children:s.jsx(oe,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No members found"})})]})]})})]}),s.jsx(Et,{open:n,onOpenChange:k=>{a(k),k||(r(null),b())},children:s.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:"Edit Member Profile"})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(V,{className:"text-base font-medium flex items-center gap-2",children:[s.jsx(U5,{className:"w-4 h-4"}),"Profile Photo"]}),s.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(Od,{className:"w-20 h-20",children:[s.jsx(Td,{src:h.profileImageUrl||void 0}),s.jsx(Id,{className:"text-xl",children:t?P(t):"?"})]}),s.jsx("div",{className:"flex-1 space-y-3",children:s.jsxs(ua,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-2",children:[s.jsxs(Vt,{value:"upload","data-testid":"tab-upload",children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Upload"]}),s.jsxs(Vt,{value:"url","data-testid":"tab-url",children:[s.jsx(ra,{className:"w-4 h-4 mr-2"}),"URL"]})]}),s.jsxs(qt,{value:"upload",className:"space-y-3 mt-3",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:j,className:"hidden","data-testid":"input-member-image-file"}),s.jsx(M,{type:"button",variant:"outline",onClick:()=>{var k;return(k=f.current)==null?void 0:k.click()},disabled:l,className:"w-full","data-testid":"button-upload-member-image",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Choose File or Take Selfie"]})}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(yn,{className:"w-4 h-4"}),u.name]})]}),s.jsx(qt,{value:"url",className:"space-y-3 mt-3",children:s.jsx(Y,{value:h.profileImageUrl,onChange:k=>p({...h,profileImageUrl:k.target.value}),placeholder:"Enter image URL...","data-testid":"input-member-image-url"})})]})})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(hb,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Image Guidelines:"}),s.jsxs("ul",{className:"list-disc ml-4 space-y-0.5",children:[s.jsxs("li",{children:["Dimensions: ",xh.dimensions.recommended]}),s.jsxs("li",{children:["Formats: ",xh.formats.join(", ")]}),s.jsxs("li",{children:["Max size: ",xh.maxFileSize]}),s.jsxs("li",{children:["DPI: ",xh.dpi]})]}),s.jsx("p",{className:"font-medium mt-2",children:"Tips:"}),s.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:xh.tips.map((k,E)=>s.jsx("li",{children:k},E))})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"firstName",children:"First Name"}),s.jsx(Y,{id:"firstName",value:h.firstName,onChange:k=>p({...h,firstName:k.target.value}),"data-testid":"input-member-firstname"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"lastName",children:"Last Name"}),s.jsx(Y,{id:"lastName",value:h.lastName,onChange:k=>p({...h,lastName:k.target.value}),"data-testid":"input-member-lastname"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Y,{id:"phone",value:h.phone,onChange:k=>p({...h,phone:k.target.value}),placeholder:"+92 300 1234567","data-testid":"input-member-phone"})]}),g?s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"role",children:"Role"}),s.jsxs(kt,{value:h.role,onValueChange:k=>p({...h,role:k}),children:[s.jsx(jt,{"data-testid":"select-member-role",children:s.jsx(Ct,{placeholder:"Select role..."})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"USER",children:"User"}),s.jsx(Ce,{value:"ADMIN",children:"Admin"}),s.jsx(Ce,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Role"}),s.jsxs("div",{className:"flex items-center gap-2 h-9 px-3 rounded-md border bg-muted/50",children:[s.jsx(ce,{variant:C(h.role),children:h.role}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Only super admins can change roles)"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(V,{className:"text-base font-medium",children:"Certifications"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:"safetyCertified",className:"font-normal",children:"Safety Certified"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has completed safety training"})]}),s.jsx(Gt,{id:"safetyCertified",checked:h.isSafetyCertified,onCheckedChange:k=>p({...h,isSafetyCertified:k}),"data-testid":"switch-safety-certified"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:"signedWaiver",className:"font-normal",children:"Signed Waiver"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has signed liability waiver"})]}),s.jsx(Gt,{id:"signedWaiver",checked:h.hasSignedWaiver,onCheckedChange:k=>p({...h,hasSignedWaiver:k}),"data-testid":"switch-signed-waiver"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),s.jsxs(M,{onClick:N,disabled:x.isPending,"data-testid":"button-save-member",children:[x.isPending&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})]})})}const Uj=[{key:"instagram",label:"Instagram",icon:Lce,placeholder:"https://instagram.com/yourpage"},{key:"facebook",label:"Facebook",icon:wU,placeholder:"https://facebook.com/yourpage"},{key:"youtube",label:"YouTube",icon:Bce,placeholder:"https://youtube.com/@yourchannel"},{key:"twitter",label:"Twitter/X",icon:jU,placeholder:"https://twitter.com/yourhandle"},{key:"linkedin",label:"LinkedIn",icon:Fce,placeholder:"https://linkedin.com/company/yourcompany"}];function u$e(){const{toast:e}=mt(),[t,r]=v.useState(""),[n,a]=v.useState(""),[i,o]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState({}),[f,h]=v.useState(""),[p,y]=v.useState(!1),[m,w]=v.useState(""),{data:g,isLoading:x}=de({queryKey:["/api/admin/site-settings"]}),b=P=>{var k;return((k=g==null?void 0:g.find(E=>E.key===P))==null?void 0:k.value)||""};v.useEffect(()=>{if(g&&!x){r(b("email")),a(b("phone")),o(b("address")),c(b("operating_hours"));const P={};Uj.forEach(k=>{P[k.key]=b(k.key)}),d(P),h(b("whatsapp_phone")),y(b("whatsapp_button_visible")==="true"),w(b("whatsapp_message"))}},[g,x]);const j=ye({mutationFn:async P=>{for(const k of P)await ve("POST","/api/admin/site-settings",k)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),re.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Settings saved successfully"})},onError:()=>{e({title:"Failed to save settings",variant:"destructive"})}}),_=()=>{j.mutate([{key:"email",value:t,label:"Contact Email",category:"contact"},{key:"phone",value:n,label:"Contact Phone",category:"contact"},{key:"address",value:i,label:"Contact Address",category:"contact"},{key:"operating_hours",value:l,label:"Operating Hours",category:"contact"}])},N=()=>{const P=Uj.map(k=>({key:k.key,value:u[k.key]||"",label:`${k.label} URL`,category:"social"}));j.mutate(P)},S=()=>{j.mutate([{key:"whatsapp_phone",value:f,label:"WhatsApp Phone",category:"whatsapp"},{key:"whatsapp_button_visible",value:p?"true":"false",label:"WhatsApp Button Visible",category:"whatsapp"},{key:"whatsapp_message",value:m,label:"WhatsApp Default Message",category:"whatsapp"}])},C=(P,k)=>{d(E=>({...E,[P]:k}))};return x?s.jsx(nt,{title:"Site Settings",children:s.jsx("div",{className:"p-6",children:"Loading..."})}):s.jsx(nt,{title:"Site Settings",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Site Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage contact information, social media links, and WhatsApp settings"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(tN,{className:"h-5 w-5"}),"Contact Information"]}),s.jsx(Rt,{children:"Update your business contact details displayed on the Contact page and footer"})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{htmlFor:"email",className:"flex items-center gap-2",children:[s.jsx(gf,{className:"h-4 w-4"}),"Email Address"]}),s.jsx(Y,{id:"email",type:"email",value:t,onChange:P=>r(P.target.value),placeholder:"info@thequarterdeck.pk","data-testid":"input-contact-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{htmlFor:"phone",className:"flex items-center gap-2",children:[s.jsx(bm,{className:"h-4 w-4"}),"Phone Number"]}),s.jsx(Y,{id:"phone",value:n,onChange:P=>a(P.target.value),placeholder:"+92 51 1234567","data-testid":"input-contact-phone"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{htmlFor:"address",className:"flex items-center gap-2",children:[s.jsx(ps,{className:"h-4 w-4"}),"Address"]}),s.jsx(ct,{id:"address",value:i,onChange:P=>o(P.target.value),placeholder:"Sector F-7, Islamabad, Pakistan",rows:2,"data-testid":"input-contact-address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{htmlFor:"hours",className:"flex items-center gap-2",children:[s.jsx(Qt,{className:"h-4 w-4"}),"Operating Hours"]}),s.jsx(ct,{id:"hours",value:l,onChange:P=>c(P.target.value),placeholder:"Mon-Fri: 6:00 AM - 11:00 PM | Sat-Sun: 7:00 AM - 10:00 PM",rows:2,"data-testid":"input-operating-hours"})]}),s.jsxs(M,{onClick:_,disabled:j.isPending,className:"w-full","data-testid":"button-save-contact",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Save Contact Info"]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(tN,{className:"h-5 w-5"}),"Social Media Links"]}),s.jsx(Rt,{children:"Manage your social media URLs shown in the footer and Contact page"})]}),s.jsxs(se,{className:"space-y-4",children:[Uj.map(P=>{const k=P.icon;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{htmlFor:P.key,className:"flex items-center gap-2",children:[s.jsx(k,{className:"h-4 w-4"}),P.label]}),s.jsx(Y,{id:P.key,value:u[P.key]||"",onChange:E=>C(P.key,E.target.value),placeholder:P.placeholder,"data-testid":`input-${P.key}`})]},P.key)}),s.jsxs(M,{onClick:N,disabled:j.isPending,className:"w-full","data-testid":"button-save-social",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Save Social Links"]})]})]}),s.jsxs(ne,{children:[s.jsxs(Le,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Uce,{className:"h-5 w-5 text-green-500"}),"WhatsApp Button"]}),s.jsx(Rt,{children:"Configure the floating WhatsApp button for quick customer contact"})]}),s.jsxs(se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"whatsapp-visible",className:"flex items-center gap-2",children:"Show WhatsApp Button"}),s.jsx(Gt,{id:"whatsapp-visible",checked:p,onCheckedChange:y,"data-testid":"switch-whatsapp-visible"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{htmlFor:"whatsapp-phone",className:"flex items-center gap-2",children:[s.jsx(bm,{className:"h-4 w-4"}),"WhatsApp Phone Number"]}),s.jsx(Y,{id:"whatsapp-phone",value:f,onChange:P=>h(P.target.value),placeholder:"+92 300 1234567 (include country code)","data-testid":"input-whatsapp-phone"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Include country code, e.g., +92 for Pakistan"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{htmlFor:"whatsapp-message",className:"flex items-center gap-2",children:[s.jsx(Tk,{className:"h-4 w-4"}),"Default Message (Optional)"]}),s.jsx(ct,{id:"whatsapp-message",value:m,onChange:P=>w(P.target.value),placeholder:"Hello! I'd like to inquire about...",rows:2,"data-testid":"input-whatsapp-message"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pre-filled message when users click the WhatsApp button"})]}),s.jsxs(M,{onClick:S,disabled:j.isPending,className:"w-full","data-testid":"button-save-whatsapp",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Save WhatsApp Settings"]})]})]})]})]})]})})}const d$e={landing:"Landing Page",facilities:"Facilities",membership:"Membership",events:"Events",contact:"Contact",careers:"Careers",gallery:"Gallery",roadmap:"Roadmap",faq:"FAQ",rules:"Rules",leaderboard:"Leaderboard"};function f$e(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState({}),[i,o]=v.useState(null),{data:l,isLoading:c}=de({queryKey:["/api/admin/hero-sections"]});v.useEffect(()=>{if(l){const y={};l.forEach(m=>{y[m.id]={...m}}),a(y)}},[l]);const u=ye({mutationFn:async({id:y,data:m})=>await ve("PATCH",`/api/admin/hero-sections/${y}`,m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/hero-sections"]}),re.invalidateQueries({queryKey:["/api/hero-sections"]}),e({title:"Hero section updated successfully"})},onError:()=>{e({title:"Failed to update hero section",variant:"destructive"})}}),d=async(y,m)=>{o(y);try{const w=new FormData;w.append("image",m);const g=await fetch("/api/admin/upload",{method:"POST",body:w,credentials:"include"});if(!g.ok){const b=await g.json();throw new Error(b.message||"Upload failed")}const x=await g.json();x.imageUrl&&(a(b=>({...b,[y]:{...b[y],backgroundImageUrl:x.imageUrl}})),e({title:"Image uploaded successfully"}))}catch(w){e({title:"Upload failed",description:w.message||"Failed to upload image",variant:"destructive"})}finally{o(null)}},f=(y,m,w)=>{a(g=>({...g,[y]:{...g[y],[m]:w}}))},h=y=>{const m=n[y];m&&u.mutate({id:y,data:m})},p=y=>{var w;const m=((w=n[y])==null?void 0:w.isActive)??!0;u.mutate({id:y,data:{isActive:!m}})};return c?s.jsx(nt,{title:"Hero Sections",children:s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsx(Te,{className:"h-6 w-6 animate-spin"})})}):s.jsx(nt,{title:"Hero Sections",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Hero Sections"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage hero banners for each page. Toggle visibility, update content, and customize appearance."})]}),s.jsxs("div",{className:"space-y-4",children:[l==null?void 0:l.map(y=>{const m=t===y.id,w=n[y.id]||y,g=w.isActive??!0;return s.jsxs(ne,{className:g?"":"opacity-60",children:[s.jsx(Le,{className:"cursor-pointer",onClick:()=>r(m?null:y.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ra,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx(We,{className:"text-lg",children:d$e[y.page]||y.page}),s.jsx(Rt,{children:y.title})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{variant:g?"default":"secondary",children:g?"Visible":"Hidden"}),s.jsx(M,{variant:"ghost",size:"icon",onClick:x=>{x.stopPropagation(),p(y.id)},"data-testid":`button-toggle-hero-${y.page}`,children:g?s.jsx(Zn,{className:"h-4 w-4"}):s.jsx(qi,{className:"h-4 w-4"})}),m?s.jsx(gc,{className:"h-4 w-4"}):s.jsx(la,{className:"h-4 w-4"})]})]})}),m&&s.jsxs(se,{className:"space-y-4 pt-0",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Title"}),s.jsx(Y,{value:w.title||"",onChange:x=>f(y.id,"title",x.target.value),placeholder:"Hero title","data-testid":`input-hero-title-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Subtitle"}),s.jsx(Y,{value:w.subtitle||"",onChange:x=>f(y.id,"subtitle",x.target.value),placeholder:"Hero subtitle","data-testid":`input-hero-subtitle-${y.page}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Description"}),s.jsx(ct,{value:w.description||"",onChange:x=>f(y.id,"description",x.target.value),placeholder:"Optional description text",rows:2,"data-testid":`input-hero-description-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Background Image URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:w.backgroundImageUrl||"",onChange:x=>f(y.id,"backgroundImageUrl",x.target.value),placeholder:"https://example.com/image.jpg or upload",className:"flex-1","data-testid":`input-hero-image-${y.page}`}),s.jsx(M,{variant:"outline",size:"icon",disabled:i===y.id,onClick:()=>{var x;return(x=document.getElementById(`hero-upload-${y.id}`))==null?void 0:x.click()},"data-testid":`button-upload-hero-${y.page}`,children:i===y.id?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(cn,{className:"h-4 w-4"})}),s.jsx("input",{id:`hero-upload-${y.id}`,type:"file",accept:"image/*",className:"hidden",onChange:x=>{var j;const b=(j=x.target.files)==null?void 0:j[0];b&&d(y.id,b),x.target.value=""}})]}),w.backgroundImageUrl&&s.jsx("div",{className:"mt-2 rounded-lg overflow-hidden h-32 bg-muted",children:s.jsx("img",{src:w.backgroundImageUrl,alt:"Preview",className:"w-full h-full object-cover"})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Primary CTA Text"}),s.jsx(Y,{value:w.ctaText||"",onChange:x=>f(y.id,"ctaText",x.target.value),placeholder:"Explore Now","data-testid":`input-hero-cta-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Primary CTA Link"}),s.jsx(Y,{value:w.ctaLink||"",onChange:x=>f(y.id,"ctaLink",x.target.value),placeholder:"/facilities","data-testid":`input-hero-cta-link-${y.page}`})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Secondary CTA Text"}),s.jsx(Y,{value:w.ctaSecondaryText||"",onChange:x=>f(y.id,"ctaSecondaryText",x.target.value),placeholder:"Learn More","data-testid":`input-hero-cta2-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Secondary CTA Link"}),s.jsx(Y,{value:w.ctaSecondaryLink||"",onChange:x=>f(y.id,"ctaSecondaryLink",x.target.value),placeholder:"/about","data-testid":`input-hero-cta2-link-${y.page}`})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Alignment"}),s.jsxs(kt,{value:w.alignment||"center",onValueChange:x=>f(y.id,"alignment",x),children:[s.jsx(jt,{"data-testid":`select-hero-alignment-${y.page}`,children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"left",children:"Left"}),s.jsx(Ce,{value:"center",children:"Center"}),s.jsx(Ce,{value:"right",children:"Right"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Height"}),s.jsxs(kt,{value:w.height||"large",onValueChange:x=>f(y.id,"height",x),children:[s.jsx(jt,{"data-testid":`select-hero-height-${y.page}`,children:s.jsx(Ct,{})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"small",children:"Small"}),s.jsx(Ce,{value:"medium",children:"Medium"}),s.jsx(Ce,{value:"large",children:"Large"}),s.jsx(Ce,{value:"full",children:"Full Screen"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{children:["Overlay Opacity (",w.overlayOpacity||50,"%)"]}),s.jsx(Y,{type:"range",min:"0",max:"100",value:w.overlayOpacity||50,onChange:x=>f(y.id,"overlayOpacity",parseInt(x.target.value)),className:"h-9","data-testid":`input-hero-overlay-${y.page}`})]})]}),s.jsxs(M,{onClick:()=>h(y.id),disabled:u.isPending,className:"w-full","data-testid":`button-save-hero-${y.page}`,children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]},y.id)}),(!l||l.length===0)&&s.jsx(ne,{children:s.jsx(se,{className:"p-8 text-center text-muted-foreground",children:"No hero sections found. Hero sections are created automatically when pages are first accessed."})})]})]})})}const fM=[{value:"default",label:"Default"},{value:"gradient",label:"Gradient"},{value:"image",label:"With Image"},{value:"minimal",label:"Minimal"}],Bj=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"membership",label:"Membership"},{value:"events",label:"Events"},{value:"contact",label:"Contact"},{value:"footer",label:"Footer"},{value:"global",label:"Global (All Pages)"}];function h$e(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState({}),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState({key:"",title:"",subtitle:"",description:"",buttonText:"",buttonLink:"",secondaryButtonText:"",secondaryButtonLink:"",page:"landing",section:"",style:"default",isActive:!0}),{data:f,isLoading:h}=de({queryKey:["/api/admin/ctas"]});v.useEffect(()=>{if(f){const j={};f.forEach(_=>{j[_.id]={..._}}),a(j)}},[f]);const p=ye({mutationFn:async({id:j,data:_})=>await ve("PATCH",`/api/admin/ctas/${j}`,_),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),re.invalidateQueries({queryKey:["/api/ctas"]}),e({title:"CTA updated successfully"})},onError:()=>{e({title:"Failed to update CTA",variant:"destructive"})}}),y=ye({mutationFn:async j=>await ve("POST","/api/admin/ctas",j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),c(!1),d({key:"",title:"",subtitle:"",description:"",buttonText:"",buttonLink:"",secondaryButtonText:"",secondaryButtonLink:"",page:"landing",section:"",style:"default",isActive:!0}),e({title:"CTA created successfully"})},onError:()=>{e({title:"Failed to create CTA",variant:"destructive"})}}),m=ye({mutationFn:async j=>await ve("DELETE",`/api/admin/ctas/${j}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),e({title:"CTA deleted successfully"})},onError:()=>{e({title:"Failed to delete CTA",variant:"destructive"})}}),w=async(j,_)=>{o(j);try{const N=new FormData;N.append("image",_);const S=await fetch("/api/admin/upload",{method:"POST",body:N,credentials:"include"});if(!S.ok){const P=await S.json();throw new Error(P.message||"Upload failed")}const C=await S.json();C.imageUrl&&(a(P=>({...P,[j]:{...P[j],backgroundImageUrl:C.imageUrl}})),e({title:"Image uploaded successfully"}))}catch(N){e({title:"Upload failed",description:N.message||"Failed to upload image",variant:"destructive"})}finally{o(null)}},g=(j,_,N)=>{a(S=>({...S,[j]:{...S[j],[_]:N}}))},x=j=>{const _=n[j];_&&p.mutate({id:j,data:_})},b=j=>{var N;const _=((N=n[j])==null?void 0:N.isActive)??!0;p.mutate({id:j,data:{isActive:!_}})};return h?s.jsx(nt,{title:"CTAs",children:s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsx(Te,{className:"h-6 w-6 animate-spin"})})}):s.jsx(nt,{title:"CTAs",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Call-to-Action Buttons"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage CTA buttons and links throughout the site. Edit button text, URLs, and styling."})]}),s.jsxs(Et,{open:l,onOpenChange:c,children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-cta",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add CTA"]})}),s.jsxs(_t,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:"Create New CTA"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Key (unique identifier)"}),s.jsx(Y,{value:u.key,onChange:j=>d({...u,key:j.target.value}),placeholder:"e.g., landing-membership","data-testid":"input-new-cta-key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Page"}),s.jsxs(kt,{value:u.page,onValueChange:j=>d({...u,page:j}),children:[s.jsx(jt,{"data-testid":"select-new-cta-page",children:s.jsx(Ct,{})}),s.jsx(Nt,{children:Bj.map(j=>s.jsx(Ce,{value:j.value,children:j.label},j.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Title"}),s.jsx(Y,{value:u.title,onChange:j=>d({...u,title:j.target.value}),placeholder:"CTA Title","data-testid":"input-new-cta-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Subtitle"}),s.jsx(Y,{value:u.subtitle,onChange:j=>d({...u,subtitle:j.target.value}),placeholder:"Optional subtitle","data-testid":"input-new-cta-subtitle"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Primary Button Text"}),s.jsx(Y,{value:u.buttonText,onChange:j=>d({...u,buttonText:j.target.value}),placeholder:"Get Started","data-testid":"input-new-cta-button-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Primary Button Link"}),s.jsx(Y,{value:u.buttonLink,onChange:j=>d({...u,buttonLink:j.target.value}),placeholder:"/membership","data-testid":"input-new-cta-button-link"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Secondary Button Text"}),s.jsx(Y,{value:u.secondaryButtonText,onChange:j=>d({...u,secondaryButtonText:j.target.value}),placeholder:"Learn More","data-testid":"input-new-cta-secondary-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Secondary Button Link"}),s.jsx(Y,{value:u.secondaryButtonLink,onChange:j=>d({...u,secondaryButtonLink:j.target.value}),placeholder:"/about","data-testid":"input-new-cta-secondary-link"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Style"}),s.jsxs(kt,{value:u.style,onValueChange:j=>d({...u,style:j}),children:[s.jsx(jt,{"data-testid":"select-new-cta-style",children:s.jsx(Ct,{})}),s.jsx(Nt,{children:fM.map(j=>s.jsx(Ce,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs(M,{onClick:()=>y.mutate(u),disabled:!u.key||!u.title||y.isPending,className:"w-full","data-testid":"button-create-cta",children:[y.isPending?s.jsx(Te,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create CTA"]})]})]})]})]}),(!f||f.length===0)&&s.jsx(ne,{children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx(YE,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No CTAs Yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first call-to-action button to get started."}),s.jsxs(M,{onClick:()=>c(!0),children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add CTA"]})]})}),s.jsx("div",{className:"space-y-4",children:f==null?void 0:f.map(j=>{var C;const _=t===j.id,N=n[j.id]||j,S=N.isActive??!0;return s.jsxs(ne,{className:S?"":"opacity-60",children:[s.jsx(Le,{className:"cursor-pointer",onClick:()=>r(_?null:j.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(YE,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs(We,{className:"text-lg flex items-center gap-2",children:[j.title,s.jsx(ce,{variant:"outline",className:"font-mono text-xs",children:j.key})]}),s.jsxs(Rt,{className:"flex items-center gap-2",children:[s.jsx("span",{children:((C=Bj.find(P=>P.value===j.page))==null?void 0:C.label)||j.page}),j.buttonLink&&s.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[s.jsx(Ok,{className:"h-3 w-3"}),j.buttonLink]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{variant:S?"default":"secondary",children:S?"Active":"Inactive"}),s.jsx(M,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),b(j.id)},"data-testid":`button-toggle-cta-${j.key}`,children:S?s.jsx(Zn,{className:"h-4 w-4"}):s.jsx(qi,{className:"h-4 w-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),confirm("Are you sure you want to delete this CTA?")&&m.mutate(j.id)},"data-testid":`button-delete-cta-${j.key}`,children:s.jsx(hr,{className:"h-4 w-4 text-destructive"})}),_?s.jsx(gc,{className:"h-4 w-4"}):s.jsx(la,{className:"h-4 w-4"})]})]})}),_&&s.jsxs(se,{className:"space-y-6 pt-0",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Title"}),s.jsx(Y,{value:N.title||"",onChange:P=>g(j.id,"title",P.target.value),"data-testid":`input-cta-title-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Subtitle"}),s.jsx(Y,{value:N.subtitle||"",onChange:P=>g(j.id,"subtitle",P.target.value),"data-testid":`input-cta-subtitle-${j.key}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Description"}),s.jsx(ct,{value:N.description||"",onChange:P=>g(j.id,"description",P.target.value),"data-testid":`textarea-cta-description-${j.key}`})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Primary Button Text"}),s.jsx(Y,{value:N.buttonText||"",onChange:P=>g(j.id,"buttonText",P.target.value),placeholder:"e.g., Get Started","data-testid":`input-cta-button-text-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Primary Button Link"}),s.jsx(Y,{value:N.buttonLink||"",onChange:P=>g(j.id,"buttonLink",P.target.value),placeholder:"e.g., /membership","data-testid":`input-cta-button-link-${j.key}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Secondary Button Text"}),s.jsx(Y,{value:N.secondaryButtonText||"",onChange:P=>g(j.id,"secondaryButtonText",P.target.value),placeholder:"e.g., Learn More","data-testid":`input-cta-secondary-text-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Secondary Button Link"}),s.jsx(Y,{value:N.secondaryButtonLink||"",onChange:P=>g(j.id,"secondaryButtonLink",P.target.value),placeholder:"e.g., /about","data-testid":`input-cta-secondary-link-${j.key}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Page"}),s.jsxs(kt,{value:N.page||"landing",onValueChange:P=>g(j.id,"page",P),children:[s.jsx(jt,{"data-testid":`select-cta-page-${j.key}`,children:s.jsx(Ct,{})}),s.jsx(Nt,{children:Bj.map(P=>s.jsx(Ce,{value:P.value,children:P.label},P.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Section"}),s.jsx(Y,{value:N.section||"",onChange:P=>g(j.id,"section",P.target.value),placeholder:"e.g., header, footer","data-testid":`input-cta-section-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Style"}),s.jsxs(kt,{value:N.style||"default",onValueChange:P=>g(j.id,"style",P),children:[s.jsx(jt,{"data-testid":`select-cta-style-${j.key}`,children:s.jsx(Ct,{})}),s.jsx(Nt,{children:fM.map(P=>s.jsx(Ce,{value:P.value,children:P.label},P.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Background Image"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:N.backgroundImageUrl||"",onChange:P=>g(j.id,"backgroundImageUrl",P.target.value),placeholder:"Image URL",className:"flex-1","data-testid":`input-cta-bg-image-${j.key}`}),s.jsxs("label",{children:[s.jsx(M,{variant:"outline",size:"icon",disabled:i===j.id,asChild:!0,children:s.jsx("span",{children:i===j.id?s.jsx(Te,{className:"h-4 w-4 animate-spin"}):s.jsx(cn,{className:"h-4 w-4"})})}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P=>{var E;const k=(E=P.target.files)==null?void 0:E[0];k&&w(j.id,k)}})]})]}),N.backgroundImageUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:N.backgroundImageUrl,alt:"CTA Background",className:"h-24 w-48 object-cover rounded-md border"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Background Color"}),s.jsx(Y,{value:N.backgroundColor||"",onChange:P=>g(j.id,"backgroundColor",P.target.value),placeholder:"e.g., #1a1a1a or gradient","data-testid":`input-cta-bg-color-${j.key}`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{checked:S,onCheckedChange:P=>g(j.id,"isActive",P),"data-testid":`switch-cta-active-${j.key}`}),s.jsx(V,{children:"Active"})]}),s.jsxs(M,{onClick:()=>x(j.id),disabled:p.isPending,"data-testid":`button-save-cta-${j.key}`,children:[p.isPending?s.jsx(Te,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]},j.id)})})]})})}const hM=[{value:"ACTIVE",label:"Active"},{value:"COMING_SOON",label:"Coming Soon"},{value:"PLANNED",label:"Planned"}];function m$e(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState({}),[i,o]=v.useState(!1),[l,c]=v.useState({name:"",slug:"",city:"",country:"Pakistan",status:"PLANNED",isDefault:!1,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/venues"]});v.useEffect(()=>{if(u){const g={};u.forEach(x=>{g[x.id]={...x}}),a(g)}},[u]);const f=ye({mutationFn:async({id:g,data:x})=>await ve("PATCH",`/api/admin/venues/${g}`,x),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),e({title:"Venue updated successfully"})},onError:()=>{e({title:"Failed to update venue",variant:"destructive"})}}),h=ye({mutationFn:async g=>await ve("POST","/api/admin/venues",g),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),o(!1),c({name:"",slug:"",city:"",country:"Pakistan",status:"PLANNED",isDefault:!1,sortOrder:0}),e({title:"Venue created successfully"})},onError:()=>{e({title:"Failed to create venue",variant:"destructive"})}}),p=ye({mutationFn:async g=>await ve("DELETE",`/api/admin/venues/${g}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),e({title:"Venue deleted successfully"})},onError:()=>{e({title:"Failed to delete venue",variant:"destructive"})}}),y=(g,x,b)=>{a(j=>({...j,[g]:{...j[g],[x]:b}}))},m=g=>{const x=n[g];if(x){const{id:b,createdAt:j,updatedAt:_,...N}=x;f.mutate({id:g,data:N})}},w=g=>g.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return d?s.jsx(nt,{title:"Venues Management",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(nt,{title:"Venues Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-venues-title",children:"Venue Locations"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage multi-location venues (Islamabad, Lahore, Karachi, etc.)"})]}),s.jsxs(Et,{open:i,onOpenChange:o,children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-venue",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Venue"]})}),s.jsxs(_t,{className:"sm:max-w-[500px]",children:[s.jsx(At,{children:s.jsx(Ot,{children:"Add New Venue"})}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:"new-name",children:"Venue Name"}),s.jsx(Y,{id:"new-name",value:l.name,onChange:g=>{c({...l,name:g.target.value,slug:w(g.target.value)})},placeholder:"The Quarterdeck Lahore","data-testid":"input-new-venue-name"})]}),s.jsxs("div",{children:[s.jsx(V,{htmlFor:"new-slug",children:"Slug"}),s.jsx(Y,{id:"new-slug",value:l.slug,onChange:g=>c({...l,slug:g.target.value}),placeholder:"lahore","data-testid":"input-new-venue-slug"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:"new-city",children:"City"}),s.jsx(Y,{id:"new-city",value:l.city,onChange:g=>c({...l,city:g.target.value}),placeholder:"Lahore","data-testid":"input-new-venue-city"})]}),s.jsxs("div",{children:[s.jsx(V,{htmlFor:"new-country",children:"Country"}),s.jsx(Y,{id:"new-country",value:l.country,onChange:g=>c({...l,country:g.target.value}),placeholder:"Pakistan","data-testid":"input-new-venue-country"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:"new-status",children:"Status"}),s.jsxs(kt,{value:l.status,onValueChange:g=>c({...l,status:g}),children:[s.jsx(jt,{"data-testid":"select-new-venue-status",children:s.jsx(Ct,{})}),s.jsx(Nt,{children:hM.map(g=>s.jsx(Ce,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{children:[s.jsx(V,{htmlFor:"new-sort",children:"Sort Order"}),s.jsx(Y,{id:"new-sort",type:"number",value:l.sortOrder,onChange:g=>c({...l,sortOrder:parseInt(g.target.value)||0}),"data-testid":"input-new-venue-sort"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{checked:l.isDefault,onCheckedChange:g=>c({...l,isDefault:g}),"data-testid":"switch-new-venue-default"}),s.jsx(V,{children:"Default venue (selected by default in booking system)"})]}),s.jsxs(M,{onClick:()=>h.mutate(l),disabled:!l.name||!l.city||!l.slug||h.isPending,className:"w-full","data-testid":"button-create-venue",children:[h.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Create Venue"]})]})]})]})]}),u!=null&&u.length?s.jsx("div",{className:"grid gap-4",children:u.map(g=>{const x=t===g.id,b=n[g.id]||g;return s.jsxs(ne,{className:"overflow-hidden",children:[s.jsx(Le,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r(x?null:g.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(un,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs(We,{className:"text-lg flex items-center gap-2",children:[g.name,g.isDefault&&s.jsx(ce,{variant:"secondary",className:"text-xs",children:"Default"})]}),s.jsxs(Rt,{className:"flex items-center gap-2",children:[s.jsx(ps,{className:"w-3 h-3"}),g.city,", ",g.country||"Pakistan"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{variant:g.status==="ACTIVE"?"default":g.status==="COMING_SOON"?"secondary":"outline",children:g.status==="ACTIVE"?"Active":g.status==="COMING_SOON"?"Coming Soon":"Planned"}),x?s.jsx(gc,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(la,{className:"w-5 h-5 text-muted-foreground"})]})]})}),x&&s.jsx(se,{className:"border-t pt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:`name-${g.id}`,children:"Venue Name"}),s.jsx(Y,{id:`name-${g.id}`,value:b.name||"",onChange:j=>y(g.id,"name",j.target.value),"data-testid":`input-venue-name-${g.id}`})]}),s.jsxs("div",{children:[s.jsx(V,{htmlFor:`slug-${g.id}`,children:"Slug"}),s.jsx(Y,{id:`slug-${g.id}`,value:b.slug||"",onChange:j=>y(g.id,"slug",j.target.value),"data-testid":`input-venue-slug-${g.id}`})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:`city-${g.id}`,children:"City"}),s.jsx(Y,{id:`city-${g.id}`,value:b.city||"",onChange:j=>y(g.id,"city",j.target.value),"data-testid":`input-venue-city-${g.id}`})]}),s.jsxs("div",{children:[s.jsxs(V,{htmlFor:`country-${g.id}`,className:"flex items-center gap-1",children:[s.jsx(tN,{className:"w-3 h-3"})," Country"]}),s.jsx(Y,{id:`country-${g.id}`,value:b.country||"Pakistan",onChange:j=>y(g.id,"country",j.target.value),"data-testid":`input-venue-country-${g.id}`})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:`status-${g.id}`,children:"Status"}),s.jsxs(kt,{value:b.status||"PLANNED",onValueChange:j=>y(g.id,"status",j),children:[s.jsx(jt,{"data-testid":`select-venue-status-${g.id}`,children:s.jsx(Ct,{})}),s.jsx(Nt,{children:hM.map(j=>s.jsx(Ce,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{children:[s.jsx(V,{htmlFor:`sort-${g.id}`,children:"Sort Order"}),s.jsx(Y,{id:`sort-${g.id}`,type:"number",value:b.sortOrder??0,onChange:j=>y(g.id,"sortOrder",parseInt(j.target.value)||0),"data-testid":`input-venue-sort-${g.id}`})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{checked:b.isDefault??!1,onCheckedChange:j=>y(g.id,"isDefault",j),"data-testid":`switch-venue-default-${g.id}`}),s.jsx(V,{children:"Default venue (auto-selected in booking system)"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs(Vf,{children:[s.jsx(aP,{asChild:!0,children:s.jsxs(M,{variant:"destructive",size:"sm","data-testid":`button-delete-venue-${g.id}`,children:[s.jsx(hr,{className:"w-4 h-4 mr-2"})," Delete Venue"]})}),s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Delete Venue?"}),s.jsxs(Gc,{children:['This will permanently delete "',g.name,'" and all associated data. This action cannot be undone.']})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Qc,{onClick:()=>p.mutate(g.id),className:"bg-destructive text-destructive-foreground","data-testid":"button-confirm-delete",children:"Delete"})]})]})]}),s.jsxs(M,{onClick:()=>m(g.id),disabled:f.isPending,"data-testid":`button-save-venue-${g.id}`,children:[f.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})})]},g.id)})}):s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(ps,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Venues Yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first venue location to get started"}),s.jsxs(M,{onClick:()=>o(!0),"data-testid":"button-add-first-venue",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add First Venue"]})]})})]})})}function p$e(){var P,k,E;const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(""),[f,h]=v.useState("pending"),{data:p,isLoading:y}=de({queryKey:["/api/admin/membership-applications","PENDING"],queryFn:async()=>{const T=await fetch("/api/admin/membership-applications?status=PENDING",{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch");return T.json()}}),{data:m,isLoading:w}=de({queryKey:["/api/admin/membership-applications","APPROVED"],queryFn:async()=>{const T=await fetch("/api/admin/membership-applications?status=APPROVED",{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch");return T.json()}}),{data:g,isLoading:x}=de({queryKey:["/api/admin/membership-applications","REJECTED"],queryFn:async()=>{const T=await fetch("/api/admin/membership-applications?status=REJECTED",{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch");return T.json()}}),b=ye({mutationFn:async({id:T,notes:I})=>await ve("POST",`/api/admin/membership-applications/${T}/approve`,{notes:I,skipAmountVerification:!0}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/membership-applications"]}),re.invalidateQueries({queryKey:["/api/memberships"]}),re.invalidateQueries({queryKey:["/api/me"]}),e({title:"Application approved",description:"Membership has been activated and user notified."}),o(!1),r(null),d("")},onError:T=>{e({title:"Failed to approve application",description:T.message||"An error occurred",variant:"destructive"})}}),j=ye({mutationFn:async({id:T,notes:I})=>await ve("POST",`/api/admin/membership-applications/${T}/reject`,{notes:I}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/membership-applications"]}),e({title:"Application rejected",description:"User has been notified."}),c(!1),r(null),d("")},onError:T=>{e({title:"Failed to reject application",description:T.message||"An error occurred",variant:"destructive"})}}),_=async T=>{try{const I=await fetch(`/api/admin/membership-applications/${T.id}`,{credentials:"include"});if(I.ok){const R=await I.json();r(R),a(!0)}}catch{e({title:"Failed to load application details",variant:"destructive"})}},N=T=>{switch(T){case"PENDING":return s.jsxs(ce,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:[s.jsx(Qt,{className:"w-3 h-3 mr-1"}),"Pending"]});case"APPROVED":return s.jsxs(ce,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[s.jsx(yn,{className:"w-3 h-3 mr-1"}),"Approved"]});case"REJECTED":return s.jsxs(ce,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[s.jsx(ov,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(ce,{variant:"secondary",children:T})}},S=T=>T==null?"N/A":`PKR ${T.toLocaleString()}`,C=(T,I)=>I?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Te,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):!T||T.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No applications found"}):s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Applicant"}),s.jsx(ue,{children:"Tier Requested"}),s.jsx(ue,{children:"Amount"}),s.jsx(ue,{children:"Payment Method"}),s.jsx(ue,{children:"Payment Proof"}),s.jsx(ue,{children:"Submitted"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:T.map(R=>{var D,O,z;return s.jsxs(tt,{"data-testid":`row-application-${R.id}`,children:[s.jsxs(oe,{className:"font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[((D=R.user)==null?void 0:D.firstName)||""," ",((O=R.user)==null?void 0:O.lastName)||""]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:(z=R.user)==null?void 0:z.email})]}),s.jsx(oe,{children:s.jsx(ce,{variant:"secondary",children:R.tierDesired})}),s.jsx(oe,{children:S(R.paymentAmount)}),s.jsx(oe,{children:R.paymentMethod||"N/A"}),s.jsx(oe,{children:R.paymentProofUrl?s.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>R.paymentProofUrl&&window.open(R.paymentProofUrl,"_blank"),"data-testid":`button-view-proof-${R.id}`,children:[s.jsx(hs,{className:"w-4 h-4 mr-1"}),"View",s.jsx(Zo,{className:"w-3 h-3 ml-1"})]}):s.jsxs("span",{className:"text-muted-foreground text-sm flex items-center gap-1",children:[s.jsx($p,{className:"w-3 h-3"}),"No proof"]})}),s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(mr,{className:"w-3 h-3 text-muted-foreground"}),R.createdAt?Xn(new Date(R.createdAt),"MMM d, yyyy"):"N/A"]})}),s.jsx(oe,{children:N(R.status||"PENDING")}),s.jsx(oe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>_(R),"data-testid":`button-view-application-${R.id}`,children:s.jsx(Zn,{className:"w-4 h-4"})}),R.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx(M,{variant:"ghost",size:"icon",className:"text-green-600",onClick:()=>{r(R),o(!0)},"data-testid":`button-approve-${R.id}`,children:s.jsx(yn,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>{r(R),c(!0)},"data-testid":`button-reject-${R.id}`,children:s.jsx(ov,{className:"w-4 h-4"})})]})]})})]},R.id)})})]});return s.jsxs(nt,{title:"Membership Applications",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Jo,{className:"w-5 h-5"}),"Membership Applications"]})}),s.jsx(se,{children:s.jsxs(ua,{value:f,onValueChange:h,children:[s.jsxs(Ds,{className:"mb-4",children:[s.jsxs(Vt,{value:"pending","data-testid":"tab-pending",children:["Pending",p&&p.length>0&&s.jsx(ce,{variant:"secondary",className:"ml-2",children:p.length})]}),s.jsx(Vt,{value:"approved","data-testid":"tab-approved",children:"Approved"}),s.jsx(Vt,{value:"rejected","data-testid":"tab-rejected",children:"Rejected"})]}),s.jsx(qt,{value:"pending",children:C(p,y)}),s.jsx(qt,{value:"approved",children:C(m,w)}),s.jsx(qt,{value:"rejected",children:C(g,x)})]})})]}),s.jsx(Et,{open:n,onOpenChange:a,children:s.jsxs(_t,{className:"max-w-2xl",children:[s.jsx(At,{children:s.jsx(Ot,{children:"Application Details"})}),t&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Applicant"}),s.jsxs("p",{className:"font-medium",children:[(P=t.user)==null?void 0:P.firstName," ",(k=t.user)==null?void 0:k.lastName]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(E=t.user)==null?void 0:E.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx("div",{className:"mt-1",children:N(t.status||"PENDING")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Requested Tier"}),s.jsx("p",{className:"font-medium",children:t.tierDesired})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Amount"}),s.jsx("p",{className:"font-medium",children:S(t.paymentAmount)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Method"}),s.jsx("p",{className:"font-medium",children:t.paymentMethod||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Reference"}),s.jsx("p",{className:"font-medium",children:t.paymentReference||"N/A"})]})]}),t.paymentProofUrl&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Proof"}),s.jsx("div",{className:"mt-2",children:s.jsxs(M,{variant:"outline",onClick:()=>t.paymentProofUrl&&window.open(t.paymentProofUrl,"_blank"),"data-testid":"button-view-proof-detail",children:[s.jsx(hs,{className:"w-4 h-4 mr-2"}),"View Payment Proof",s.jsx(Zo,{className:"w-3 h-3 ml-2"})]})})]}),t.adminNotes&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Admin Notes"}),s.jsx("p",{className:"mt-1 p-3 bg-muted rounded-md",children:t.adminNotes})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("label",{className:"font-medium",children:"Submitted"}),s.jsx("p",{children:t.createdAt?Xn(new Date(t.createdAt),"PPpp"):"N/A"})]})]})]})}),s.jsx(Et,{open:i,onOpenChange:o,children:s.jsxs(_t,{children:[s.jsxs(At,{children:[s.jsx(Ot,{children:"Approve Application"}),s.jsxs(Rs,{children:["This will activate a ",t==null?void 0:t.tierDesired," membership for this user."]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Admin Notes (optional)"}),s.jsx(ct,{value:u,onChange:T=>d(T.target.value),placeholder:"Add any notes about this approval...",className:"mt-1","data-testid":"input-approve-notes"})]})}),s.jsxs(Fv,{children:[s.jsx(M,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsxs(M,{onClick:()=>t&&b.mutate({id:t.id,notes:u}),disabled:b.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approve",children:[b.isPending&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Approve Application"]})]})]})}),s.jsx(Et,{open:l,onOpenChange:c,children:s.jsxs(_t,{children:[s.jsxs(At,{children:[s.jsx(Ot,{children:"Reject Application"}),s.jsx(Rs,{children:"Please provide a reason for rejection. The user will be notified."})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Reason for Rejection"}),s.jsx(ct,{value:u,onChange:T=>d(T.target.value),placeholder:"Explain why this application is being rejected...",className:"mt-1","data-testid":"input-reject-reason"})]})}),s.jsxs(Fv,{children:[s.jsx(M,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsxs(M,{variant:"destructive",onClick:()=>t&&j.mutate({id:t.id,notes:u}),disabled:j.isPending,"data-testid":"button-confirm-reject",children:[j.isPending&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Reject Application"]})]})]})})]})}function g$e(){const{toast:e}=mt(),[t,r]=v.useState("certifications"),[n,a]=v.useState(null),[i,o]=v.useState(!1),[l,c]=v.useState({slug:"",name:"",description:"",facilityId:"",validityMonths:12,requirements:"",icon:"",isActive:!0,sortOrder:0}),[u,d]=v.useState(null),[f,h]=v.useState(!1),[p,y]=v.useState({certificationId:"",title:"",description:"",instructor:"",scheduledDate:"",duration:60,capacity:10,price:0,location:"",isActive:!0}),[m,w]=v.useState(!1),[g,x]=v.useState({userId:"",certificationId:"",notes:""}),{data:b=[],isLoading:j}=de({queryKey:["/api/admin/certifications"]}),{data:_=[]}=de({queryKey:["/api/admin/facilities"]}),{data:N=[],isLoading:S}=de({queryKey:["/api/admin/certification-classes"]}),{data:C=[],isLoading:P}=de({queryKey:["/api/admin/user-certifications"]}),{data:k=[]}=de({queryKey:["/api/admin/users"]}),E=ye({mutationFn:async U=>await ve("POST","/api/admin/certifications",U),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification created successfully"}),o(!1),$()},onError:()=>{e({title:"Failed to create certification",variant:"destructive"})}}),T=ye({mutationFn:async({id:U,data:le})=>await ve("PATCH",`/api/admin/certifications/${U}`,le),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification updated successfully"}),o(!1),a(null),$()},onError:()=>{e({title:"Failed to update certification",variant:"destructive"})}}),I=ye({mutationFn:async U=>await ve("DELETE",`/api/admin/certifications/${U}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification deleted successfully"})},onError:()=>{e({title:"Failed to delete certification",variant:"destructive"})}}),R=ye({mutationFn:async U=>await ve("POST","/api/admin/certification-classes",U),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class created successfully"}),h(!1),Q()},onError:()=>{e({title:"Failed to create class",variant:"destructive"})}}),D=ye({mutationFn:async({id:U,data:le})=>await ve("PATCH",`/api/admin/certification-classes/${U}`,le),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class updated successfully"}),h(!1),d(null),Q()},onError:()=>{e({title:"Failed to update class",variant:"destructive"})}}),O=ye({mutationFn:async U=>await ve("DELETE",`/api/admin/certification-classes/${U}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class deleted successfully"})},onError:()=>{e({title:"Failed to delete class",variant:"destructive"})}}),z=ye({mutationFn:async U=>await ve("POST","/api/admin/user-certifications",U),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/user-certifications"]}),e({title:"Certification issued successfully"}),w(!1),X()},onError:()=>{e({title:"Failed to issue certification",variant:"destructive"})}}),A=ye({mutationFn:async({id:U,notes:le})=>await ve("POST",`/api/admin/user-certifications/${U}/revoke`,{notes:le}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/user-certifications"]}),e({title:"Certification revoked successfully"})},onError:()=>{e({title:"Failed to revoke certification",variant:"destructive"})}}),$=()=>{c({slug:"",name:"",description:"",facilityId:"",validityMonths:12,requirements:"",icon:"",isActive:!0,sortOrder:0})},Q=()=>{y({certificationId:"",title:"",description:"",instructor:"",scheduledDate:"",duration:60,capacity:10,price:0,location:"",isActive:!0})},X=()=>{x({userId:"",certificationId:"",notes:""})},F=U=>{a(U),c({slug:U.slug,name:U.name,description:U.description||"",facilityId:U.facilityId||"",validityMonths:U.validityMonths||12,requirements:U.requirements||"",icon:U.icon||"",isActive:U.isActive??!0,sortOrder:U.sortOrder||0}),o(!0)},J=U=>{d(U),y({certificationId:U.certificationId,title:U.title,description:U.description||"",instructor:U.instructor||"",scheduledDate:U.scheduledDate?new Date(U.scheduledDate).toISOString().slice(0,16):"",duration:U.duration||60,capacity:U.capacity||10,price:U.price||0,location:U.location||"",isActive:U.isActive??!0}),h(!0)},q=()=>{n?T.mutate({id:n.id,data:l}):E.mutate(l)},ee=()=>{const U={...p,scheduledDate:p.scheduledDate?new Date(p.scheduledDate).toISOString():""};u?D.mutate({id:u.id,data:U}):R.mutate(U)},pe=U=>{var le;return((le=b.find(G=>G.id===U))==null?void 0:le.name)||"Unknown"},te=U=>{var le;return U?((le=_.find(G=>G.id===U))==null?void 0:le.name)||"Unknown":"-"},be=U=>{const le=k.find(G=>G.id===U);return le?`${le.firstName||""} ${le.lastName||""}`.trim()||le.email:"Unknown"};return j||S||P?s.jsx(nt,{title:"Certifications",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Certifications",children:s.jsxs(ua,{value:t,onValueChange:r,className:"space-y-6",children:[s.jsxs(Ds,{className:"grid w-full grid-cols-3 max-w-md",children:[s.jsxs(Vt,{value:"certifications",className:"gap-2",children:[s.jsx(si,{className:"w-4 h-4"}),"Types"]}),s.jsxs(Vt,{value:"classes",className:"gap-2",children:[s.jsx(mr,{className:"w-4 h-4"}),"Classes"]}),s.jsxs(Vt,{value:"user-certs",className:"gap-2",children:[s.jsx(yr,{className:"w-4 h-4"}),"Issued"]})]}),s.jsxs(qt,{value:"certifications",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Define certification types for restricted facilities like the Air Rifle Range."}),s.jsxs(Et,{open:i,onOpenChange:U=>{o(U),U||(a(null),$())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-certification",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Certification"]})}),s.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:n?"Edit Certification":"Add New Certification"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"cert-name",children:"Name"}),s.jsx(Y,{id:"cert-name",value:l.name,onChange:U=>c({...l,name:U.target.value}),placeholder:"Air Rifle Safety Certification","data-testid":"input-cert-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"cert-slug",children:"Slug"}),s.jsx(Y,{id:"cert-slug",value:l.slug,onChange:U=>c({...l,slug:U.target.value}),placeholder:"air-rifle-safety","data-testid":"input-cert-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"cert-description",children:"Description"}),s.jsx(ct,{id:"cert-description",value:l.description,onChange:U=>c({...l,description:U.target.value}),rows:3,"data-testid":"input-cert-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"cert-facility",children:"Linked Facility"}),s.jsxs(kt,{value:l.facilityId,onValueChange:U=>c({...l,facilityId:U}),children:[s.jsx(jt,{"data-testid":"select-cert-facility",children:s.jsx(Ct,{placeholder:"Select facility"})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"none",children:"None"}),_.map(U=>s.jsx(Ce,{value:U.id,children:U.name},U.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"cert-validity",children:"Validity (months)"}),s.jsx(Y,{id:"cert-validity",type:"number",value:l.validityMonths,onChange:U=>c({...l,validityMonths:parseInt(U.target.value)||12}),"data-testid":"input-cert-validity"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"cert-requirements",children:"Requirements"}),s.jsx(ct,{id:"cert-requirements",value:l.requirements,onChange:U=>c({...l,requirements:U.target.value}),placeholder:"Must complete safety course, pass written exam, demonstrate proper handling...",rows:3,"data-testid":"input-cert-requirements"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"cert-icon",children:"Icon (lucide icon name)"}),s.jsx(Y,{id:"cert-icon",value:l.icon,onChange:U=>c({...l,icon:U.target.value}),placeholder:"shield-check","data-testid":"input-cert-icon"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"cert-sort",children:"Sort Order"}),s.jsx(Y,{id:"cert-sort",type:"number",value:l.sortOrder,onChange:U=>c({...l,sortOrder:parseInt(U.target.value)||0}),"data-testid":"input-cert-sort"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"cert-active",checked:l.isActive,onCheckedChange:U=>c({...l,isActive:U}),"data-testid":"switch-cert-active"}),s.jsx(V,{htmlFor:"cert-active",children:"Active"})]}),s.jsxs(M,{onClick:q,disabled:E.isPending||T.isPending,"data-testid":"button-submit-cert",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),n?"Update":"Create"," Certification"]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Name"}),s.jsx(ue,{children:"Facility"}),s.jsx(ue,{children:"Validity"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:b.length===0?s.jsx(tt,{children:s.jsx(oe,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No certifications defined yet"})}):b.map(U=>s.jsxs(tt,{children:[s.jsx(oe,{className:"font-medium",children:U.name}),s.jsx(oe,{children:te(U.facilityId)}),s.jsxs(oe,{children:[U.validityMonths," months"]}),s.jsx(oe,{children:s.jsx(ce,{variant:U.isActive?"default":"secondary",children:U.isActive?"Active":"Inactive"})}),s.jsx(oe,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>F(U),"data-testid":`button-edit-cert-${U.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>I.mutate(U.id),"data-testid":`button-delete-cert-${U.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})})]},U.id))})]})})})]}),s.jsxs(qt,{value:"classes",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Schedule certification classes and training sessions."}),s.jsxs(Et,{open:f,onOpenChange:U=>{h(U),U||(d(null),Q())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-class",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Schedule Class"]})}),s.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:u?"Edit Class":"Schedule New Class"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"class-cert",children:"Certification Type"}),s.jsxs(kt,{value:p.certificationId,onValueChange:U=>y({...p,certificationId:U}),children:[s.jsx(jt,{"data-testid":"select-class-cert",children:s.jsx(Ct,{placeholder:"Select certification"})}),s.jsx(Nt,{children:b.map(U=>s.jsx(Ce,{value:U.id,children:U.name},U.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"class-title",children:"Class Title"}),s.jsx(Y,{id:"class-title",value:p.title,onChange:U=>y({...p,title:U.target.value}),placeholder:"Air Rifle Safety Fundamentals","data-testid":"input-class-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"class-date",children:"Scheduled Date/Time"}),s.jsx(Y,{id:"class-date",type:"datetime-local",value:p.scheduledDate,onChange:U=>y({...p,scheduledDate:U.target.value}),"data-testid":"input-class-date"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"class-duration",children:"Duration (minutes)"}),s.jsx(Y,{id:"class-duration",type:"number",value:p.duration,onChange:U=>y({...p,duration:parseInt(U.target.value)||60}),"data-testid":"input-class-duration"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"class-instructor",children:"Instructor"}),s.jsx(Y,{id:"class-instructor",value:p.instructor,onChange:U=>y({...p,instructor:U.target.value}),"data-testid":"input-class-instructor"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"class-location",children:"Location"}),s.jsx(Y,{id:"class-location",value:p.location,onChange:U=>y({...p,location:U.target.value}),placeholder:"Range Training Room","data-testid":"input-class-location"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"class-capacity",children:"Capacity"}),s.jsx(Y,{id:"class-capacity",type:"number",value:p.capacity,onChange:U=>y({...p,capacity:parseInt(U.target.value)||10}),"data-testid":"input-class-capacity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"class-price",children:"Price (PKR)"}),s.jsx(Y,{id:"class-price",type:"number",value:p.price,onChange:U=>y({...p,price:parseInt(U.target.value)||0}),"data-testid":"input-class-price"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"class-description",children:"Description"}),s.jsx(ct,{id:"class-description",value:p.description,onChange:U=>y({...p,description:U.target.value}),rows:2,"data-testid":"input-class-description"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"class-active",checked:p.isActive,onCheckedChange:U=>y({...p,isActive:U}),"data-testid":"switch-class-active"}),s.jsx(V,{htmlFor:"class-active",children:"Active"})]}),s.jsxs(M,{onClick:ee,disabled:R.isPending||D.isPending,"data-testid":"button-submit-class",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),u?"Update":"Schedule"," Class"]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Title"}),s.jsx(ue,{children:"Certification"}),s.jsx(ue,{children:"Date"}),s.jsx(ue,{children:"Instructor"}),s.jsx(ue,{children:"Capacity"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:N.length===0?s.jsx(tt,{children:s.jsx(oe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No classes scheduled yet"})}):N.map(U=>s.jsxs(tt,{children:[s.jsx(oe,{className:"font-medium",children:U.title}),s.jsx(oe,{children:pe(U.certificationId)}),s.jsx(oe,{children:U.scheduledDate?new Date(U.scheduledDate).toLocaleString():"-"}),s.jsx(oe,{children:U.instructor||"-"}),s.jsxs(oe,{children:[U.enrolledCount,"/",U.capacity]}),s.jsx(oe,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>J(U),"data-testid":`button-edit-class-${U.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>O.mutate(U.id),"data-testid":`button-delete-class-${U.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})})]},U.id))})]})})})]}),s.jsxs(qt,{value:"user-certs",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"View and manage issued user certifications."}),s.jsxs(Et,{open:m,onOpenChange:w,children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-issue-cert",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Issue Certification"]})}),s.jsxs(_t,{children:[s.jsx(At,{children:s.jsx(Ot,{children:"Issue Certification to User"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"issue-user",children:"User"}),s.jsxs(kt,{value:g.userId,onValueChange:U=>x({...g,userId:U}),children:[s.jsx(jt,{"data-testid":"select-issue-user",children:s.jsx(Ct,{placeholder:"Select user"})}),s.jsx(Nt,{children:k.map(U=>s.jsxs(Ce,{value:U.id,children:[U.firstName," ",U.lastName," (",U.email,")"]},U.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"issue-cert",children:"Certification"}),s.jsxs(kt,{value:g.certificationId,onValueChange:U=>x({...g,certificationId:U}),children:[s.jsx(jt,{"data-testid":"select-issue-cert",children:s.jsx(Ct,{placeholder:"Select certification"})}),s.jsx(Nt,{children:b.map(U=>s.jsx(Ce,{value:U.id,children:U.name},U.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"issue-notes",children:"Notes"}),s.jsx(ct,{id:"issue-notes",value:g.notes,onChange:U=>x({...g,notes:U.target.value}),placeholder:"Optional notes about this certification","data-testid":"input-issue-notes"})]}),s.jsxs(M,{onClick:()=>z.mutate(g),disabled:z.isPending||!g.userId||!g.certificationId,"data-testid":"button-submit-issue",children:[s.jsx(si,{className:"w-4 h-4 mr-2"}),"Issue Certification"]})]})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"User"}),s.jsx(ue,{children:"Certification"}),s.jsx(ue,{children:"Certificate #"}),s.jsx(ue,{children:"Issued"}),s.jsx(ue,{children:"Expires"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:C.length===0?s.jsx(tt,{children:s.jsx(oe,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No certifications issued yet"})}):C.map(U=>s.jsxs(tt,{children:[s.jsx(oe,{className:"font-medium",children:be(U.userId)}),s.jsx(oe,{children:pe(U.certificationId)}),s.jsx(oe,{className:"font-mono text-sm",children:U.certificateNumber||"-"}),s.jsx(oe,{children:U.issuedAt?new Date(U.issuedAt).toLocaleDateString():"-"}),s.jsx(oe,{children:U.expiresAt?new Date(U.expiresAt).toLocaleDateString():"Never"}),s.jsx(oe,{children:s.jsx(ce,{variant:U.status==="ACTIVE"?"default":U.status==="REVOKED"?"destructive":"secondary",children:U.status})}),s.jsx(oe,{className:"text-right",children:U.status==="ACTIVE"&&s.jsxs(M,{size:"sm",variant:"ghost",onClick:()=>A.mutate({id:U.id}),"data-testid":`button-revoke-${U.id}`,children:[s.jsx(ov,{className:"w-4 h-4 mr-1"}),"Revoke"]})})]},U.id))})]})})})]})]})})}const x$e=pa({feature:vt().min(1,"Feature name is required"),foundingValue:vt().optional(),goldValue:vt().optional(),silverValue:vt().optional(),guestValue:vt().optional(),sortOrder:Kb.number().default(0)});function v$e(){const{toast:e}=mt(),[t,r]=v.useState(!1),[n,a]=v.useState(null),[i,o]=v.useState(!1),[l,c]=v.useState(null),{data:u=[],isLoading:d}=de({queryKey:["/api/admin/comparison-features"]}),f=Ls({resolver:Fs(x$e),defaultValues:{feature:"",foundingValue:"",goldValue:"",silverValue:"",guestValue:"",sortOrder:0}}),h=ye({mutationFn:async b=>await ve("POST","/api/admin/comparison-features",b),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature created successfully"}),r(!1),f.reset()},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),p=ye({mutationFn:async({id:b,data:j})=>await ve("PATCH",`/api/admin/comparison-features/${b}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature updated successfully"}),r(!1),a(null),f.reset()},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),y=ye({mutationFn:async b=>await ve("DELETE",`/api/admin/comparison-features/${b}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature deleted successfully"}),o(!1),c(null)},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),m=b=>{a(b),f.reset({feature:b.feature,foundingValue:b.foundingValue||"",goldValue:b.goldValue||"",silverValue:b.silverValue||"",guestValue:b.guestValue||"",sortOrder:b.sortOrder||0}),r(!0)},w=b=>{n?p.mutate({id:n.id,data:b}):h.mutate(b)},g=()=>{l&&y.mutate(l)};if(d)return s.jsx(nt,{title:"Comparison Features",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})});const x=[...u].sort((b,j)=>(b.sortOrder||0)-(j.sortOrder||0));return s.jsx(nt,{title:"Comparison Features",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-comparison-features-title",children:"Comparison Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage membership tier comparison table features"})]}),s.jsxs(Et,{open:t,onOpenChange:b=>{r(b),b||(a(null),f.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-feature",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Feature"]})}),s.jsxs(_t,{className:"max-w-2xl",children:[s.jsx(At,{children:s.jsx(Ot,{children:n?"Edit Feature":"Add Feature"})}),s.jsx(Bs,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-4",children:[s.jsx(rt,{control:f.control,name:"feature",render:({field:b})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Feature Name"}),s.jsx(et,{children:s.jsx(Y,{...b,placeholder:"e.g., Advance Booking Window","data-testid":"input-feature-name"})}),s.jsx(st,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(rt,{control:f.control,name:"foundingValue",render:({field:b})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Founding Member Value"}),s.jsx(et,{children:s.jsx(Y,{...b,placeholder:"e.g., 14 days","data-testid":"input-founding-value"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:f.control,name:"goldValue",render:({field:b})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Gold Member Value"}),s.jsx(et,{children:s.jsx(Y,{...b,placeholder:"e.g., 7 days","data-testid":"input-gold-value"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:f.control,name:"silverValue",render:({field:b})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Silver Member Value"}),s.jsx(et,{children:s.jsx(Y,{...b,placeholder:"e.g., 5 days","data-testid":"input-silver-value"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:f.control,name:"guestValue",render:({field:b})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Guest Value"}),s.jsx(et,{children:s.jsx(Y,{...b,placeholder:"e.g., 2 days","data-testid":"input-guest-value"})}),s.jsx(st,{})]})})]}),s.jsx(rt,{control:f.control,name:"sortOrder",render:({field:b})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Sort Order"}),s.jsx(et,{children:s.jsx(Y,{type:"number",...b,"data-testid":"input-sort-order"})}),s.jsx(st,{})]})}),s.jsxs(M,{type:"submit",className:"w-full",disabled:h.isPending||p.isPending,"data-testid":"button-save-feature",children:[(h.isPending||p.isPending)&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Update":"Create"," Feature"]})]})})]})]})]}),x.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(H5,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Comparison Features"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add features to display in the membership comparison table."})]})}):s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:"Features List"})}),s.jsx(se,{children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{className:"w-8"}),s.jsx(ue,{children:"Feature"}),s.jsx(ue,{className:"text-center",children:"Founding"}),s.jsx(ue,{className:"text-center",children:"Gold"}),s.jsx(ue,{className:"text-center",children:"Silver"}),s.jsx(ue,{className:"text-center",children:"Guest"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:x.map(b=>s.jsxs(tt,{"data-testid":`row-feature-${b.id}`,children:[s.jsx(oe,{children:s.jsx(Rp,{className:"w-4 h-4 text-muted-foreground"})}),s.jsx(oe,{className:"font-medium",children:b.feature}),s.jsx(oe,{className:"text-center",children:b.foundingValue||"-"}),s.jsx(oe,{className:"text-center",children:b.goldValue||"-"}),s.jsx(oe,{className:"text-center",children:b.silverValue||"-"}),s.jsx(oe,{className:"text-center",children:b.guestValue||"-"}),s.jsx(oe,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>m(b),"data-testid":`button-edit-feature-${b.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{c(b.id),o(!0)},"data-testid":`button-delete-feature-${b.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})})]},b.id))})]})})]}),s.jsx(Vf,{open:i,onOpenChange:o,children:s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Are you sure?"}),s.jsx(Gc,{children:"This will delete the comparison feature. This action cannot be undone."})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{disabled:y.isPending,children:"Cancel"}),s.jsxs(Qc,{onClick:g,disabled:y.isPending,"data-testid":"button-confirm-delete",children:[y.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Delete"]})]})]})})]})})}const c7=[{value:"clock",label:"Clock",icon:Qt},{value:"gift",label:"Gift",icon:db},{value:"award",label:"Award",icon:si},{value:"shield",label:"Shield",icon:ci},{value:"target",label:"Target",icon:na},{value:"zap",label:"Zap",icon:X5},{value:"heart",label:"Heart",icon:fb},{value:"ticket",label:"Ticket",icon:cv},{value:"calendar",label:"Calendar",icon:mr},{value:"trophy",label:"Trophy",icon:Wn},{value:"star",label:"Star",icon:fa},{value:"crown",label:"Crown",icon:ub},{value:"users",label:"Users",icon:yr},{value:"check",label:"Check",icon:wr}],y$e=e=>{const t=c7.find(r=>r.value===e.toLowerCase());return(t==null?void 0:t.icon)||Ts},b$e=pa({icon:vt().min(1,"Icon is required"),title:vt().min(1,"Title is required"),description:vt().optional(),sortOrder:Kb.number().default(0)});function w$e(){const{toast:e}=mt(),[t,r]=v.useState(!1),[n,a]=v.useState(null),[i,o]=v.useState(!1),[l,c]=v.useState(null),{data:u=[],isLoading:d}=de({queryKey:["/api/admin/member-benefits"]}),f=Ls({resolver:Fs(b$e),defaultValues:{icon:"gift",title:"",description:"",sortOrder:0}}),h=ye({mutationFn:async b=>await ve("POST","/api/admin/member-benefits",b),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit created successfully"}),r(!1),f.reset()},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),p=ye({mutationFn:async({id:b,data:j})=>await ve("PATCH",`/api/admin/member-benefits/${b}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit updated successfully"}),r(!1),a(null),f.reset()},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),y=ye({mutationFn:async b=>await ve("DELETE",`/api/admin/member-benefits/${b}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit deleted successfully"}),o(!1),c(null)},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),m=b=>{a(b),f.reset({icon:b.icon||"gift",title:b.title,description:b.description||"",sortOrder:b.sortOrder||0}),r(!0)},w=b=>{n?p.mutate({id:n.id,data:b}):h.mutate(b)},g=()=>{l&&y.mutate(l)};if(d)return s.jsx(nt,{title:"Member Benefits",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Te,{className:"w-8 h-8 animate-spin text-muted-foreground"})})});const x=[...u].sort((b,j)=>(b.sortOrder||0)-(j.sortOrder||0));return s.jsx(nt,{title:"Member Benefits",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-member-benefits-title",children:"Member Benefits"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage membership benefit cards displayed on the membership page"})]}),s.jsxs(Et,{open:t,onOpenChange:b=>{r(b),b||(a(null),f.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-benefit",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Benefit"]})}),s.jsxs(_t,{children:[s.jsx(At,{children:s.jsx(Ot,{children:n?"Edit Benefit":"Add Benefit"})}),s.jsx(Bs,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-4",children:[s.jsx(rt,{control:f.control,name:"icon",render:({field:b})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Icon"}),s.jsxs(kt,{onValueChange:b.onChange,value:b.value,children:[s.jsx(et,{children:s.jsx(jt,{"data-testid":"select-benefit-icon",children:s.jsx(Ct,{placeholder:"Select an icon"})})}),s.jsx(Nt,{children:c7.map(j=>{const _=j.icon;return s.jsx(Ce,{value:j.value,"data-testid":`select-icon-${j.value}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_,{className:"w-4 h-4"}),s.jsx("span",{children:j.label})]})},j.value)})})]}),s.jsx(st,{})]})}),s.jsx(rt,{control:f.control,name:"title",render:({field:b})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Title"}),s.jsx(et,{children:s.jsx(Y,{...b,placeholder:"e.g., Priority Booking","data-testid":"input-benefit-title"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:f.control,name:"description",render:({field:b})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Description"}),s.jsx(et,{children:s.jsx(ct,{...b,placeholder:"Brief description of this benefit",rows:3,"data-testid":"input-benefit-description"})}),s.jsx(st,{})]})}),s.jsx(rt,{control:f.control,name:"sortOrder",render:({field:b})=>s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Sort Order"}),s.jsx(et,{children:s.jsx(Y,{type:"number",...b,"data-testid":"input-benefit-sort-order"})}),s.jsx(st,{})]})}),s.jsxs(M,{type:"submit",className:"w-full",disabled:h.isPending||p.isPending,"data-testid":"button-save-benefit",children:[(h.isPending||p.isPending)&&s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Update":"Create"," Benefit"]})]})})]})]})]}),x.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"py-12 text-center",children:[s.jsx(db,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Member Benefits"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add benefits to display on the membership page."})]})}):s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:x.map(b=>{const j=y$e(b.icon);return s.jsxs(ne,{"data-testid":`card-benefit-${b.id}`,children:[s.jsx(Le,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(j,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>m(b),"data-testid":`button-edit-benefit-${b.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{c(b.id),o(!0)},"data-testid":`button-delete-benefit-${b.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})]})]})}),s.jsxs(se,{children:[s.jsx(We,{className:"text-base mb-1",children:b.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.description}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Sort: ",b.sortOrder||0]})]})]},b.id)})}),s.jsx(Vf,{open:i,onOpenChange:o,children:s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Are you sure?"}),s.jsx(Gc,{children:"This will delete the member benefit. This action cannot be undone."})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{disabled:y.isPending,children:"Cancel"}),s.jsxs(Qc,{onClick:g,disabled:y.isPending,"data-testid":"button-confirm-delete",children:[y.isPending?s.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Delete"]})]})]})})]})})}function j$e(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState({title:"",slug:"",excerpt:"",content:"",featuredImageUrl:"",author:"",category:"",tags:"",readTimeMinutes:5,isPublished:!1,isFeatured:!1,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/blogs"]}),f=ye({mutationFn:async x=>await ve("POST","/api/admin/blogs",x),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post created successfully"}),a(!1),y()},onError:()=>{e({title:"Failed to create blog post",variant:"destructive"})}}),h=ye({mutationFn:async({id:x,data:b})=>await ve("PATCH",`/api/admin/blogs/${x}`,b),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post updated successfully"}),a(!1),r(null),y()},onError:()=>{e({title:"Failed to update blog post",variant:"destructive"})}}),p=ye({mutationFn:async x=>await ve("DELETE",`/api/admin/blogs/${x}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post deleted successfully"}),o(null)},onError:()=>{e({title:"Failed to delete blog post",variant:"destructive"})}}),y=()=>{c({title:"",slug:"",excerpt:"",content:"",featuredImageUrl:"",author:"",category:"",tags:"",readTimeMinutes:5,isPublished:!1,isFeatured:!1,sortOrder:0})},m=x=>{var b;r(x),c({title:x.title,slug:x.slug,excerpt:x.excerpt||"",content:x.content||"",featuredImageUrl:x.featuredImageUrl||"",author:x.author||"",category:x.category||"",tags:((b=x.tags)==null?void 0:b.join(", "))||"",readTimeMinutes:x.readTimeMinutes||5,isPublished:x.isPublished??!1,isFeatured:x.isFeatured??!1,sortOrder:x.sortOrder||0}),a(!0)},w=()=>{const x={...l,tags:l.tags?l.tags.split(",").map(b=>b.trim()).filter(Boolean):[],publishedAt:l.isPublished?new Date().toISOString():null};t?h.mutate({id:t.id,data:x}):f.mutate(x)},g=x=>x.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return d?s.jsx(nt,{title:"Blog Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Blog Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Create and manage blog posts and news articles."}),s.jsxs(Et,{open:n,onOpenChange:x=>{a(x),x||(r(null),y())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-blog",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Blog Post"]})}),s.jsxs(_t,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(At,{children:s.jsx(Ot,{children:t?"Edit Blog Post":"Add New Blog Post"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:l.title,onChange:x=>{c({...l,title:x.target.value,slug:t?l.slug:g(x.target.value)})},"data-testid":"input-blog-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"slug",children:"URL Slug"}),s.jsx(Y,{id:"slug",value:l.slug,onChange:x=>c({...l,slug:x.target.value}),"data-testid":"input-blog-slug"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(V,{htmlFor:"excerpt",children:"Excerpt (Short Description)"}),s.jsx(ct,{id:"excerpt",value:l.excerpt,onChange:x=>c({...l,excerpt:x.target.value}),rows:2,"data-testid":"input-blog-excerpt"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(V,{htmlFor:"content",children:"Content"}),s.jsx(ct,{id:"content",value:l.content,onChange:x=>c({...l,content:x.target.value}),rows:10,"data-testid":"input-blog-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"featuredImageUrl",children:"Featured Image URL"}),s.jsx(Y,{id:"featuredImageUrl",value:l.featuredImageUrl,onChange:x=>c({...l,featuredImageUrl:x.target.value}),"data-testid":"input-blog-image"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"author",children:"Author"}),s.jsx(Y,{id:"author",value:l.author,onChange:x=>c({...l,author:x.target.value}),"data-testid":"input-blog-author"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:l.category,onChange:x=>c({...l,category:x.target.value}),placeholder:"e.g., News, Events, Tips","data-testid":"input-blog-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(Y,{id:"tags",value:l.tags,onChange:x=>c({...l,tags:x.target.value}),placeholder:"e.g., padel, tournament, tips","data-testid":"input-blog-tags"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"readTime",children:"Read Time (minutes)"}),s.jsx(Y,{id:"readTime",type:"number",value:l.readTimeMinutes,onChange:x=>c({...l,readTimeMinutes:parseInt(x.target.value)||5}),"data-testid":"input-blog-readtime"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:l.sortOrder,onChange:x=>c({...l,sortOrder:parseInt(x.target.value)||0}),"data-testid":"input-blog-sortorder"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isPublished",checked:l.isPublished,onCheckedChange:x=>c({...l,isPublished:x}),"data-testid":"switch-blog-published"}),s.jsx(V,{htmlFor:"isPublished",children:"Published"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isFeatured",checked:l.isFeatured,onCheckedChange:x=>c({...l,isFeatured:x}),"data-testid":"switch-blog-featured"}),s.jsx(V,{htmlFor:"isFeatured",children:"Featured"})]})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsxs(M,{onClick:w,disabled:f.isPending||h.isPending,"data-testid":"button-save-blog",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"," Blog Post"]})})]})]})]}),s.jsx(ne,{children:s.jsx(se,{className:"p-0",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"Title"}),s.jsx(ue,{children:"Author"}),s.jsx(ue,{children:"Category"}),s.jsx(ue,{children:"Status"}),s.jsx(ue,{children:"Created"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dr,{children:[u==null?void 0:u.map(x=>s.jsxs(tt,{"data-testid":`row-blog-${x.id}`,children:[s.jsx(oe,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[x.title,x.isFeatured&&s.jsx(fa,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"})]})}),s.jsx(oe,{children:x.author||"-"}),s.jsx(oe,{children:x.category||"-"}),s.jsx(oe,{children:x.isPublished?s.jsxs(ce,{variant:"default",className:"gap-1",children:[s.jsx(Zn,{className:"w-3 h-3"})," Published"]}):s.jsxs(ce,{variant:"secondary",className:"gap-1",children:[s.jsx(qi,{className:"w-3 h-3"})," Draft"]})}),s.jsx(oe,{children:x.createdAt?Xn(new Date(x.createdAt),"MMM d, yyyy"):"-"}),s.jsx(oe,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>m(x),"data-testid":`button-edit-blog-${x.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsxs(Vf,{open:i===x.id,onOpenChange:b=>!b&&o(null),children:[s.jsx(aP,{asChild:!0,children:s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>o(x.id),"data-testid":`button-delete-blog-${x.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})}),s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Delete Blog Post"}),s.jsxs(Gc,{children:['Are you sure you want to delete "',x.title,'"? This action cannot be undone.']})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{disabled:p.isPending,children:"Cancel"}),s.jsx(Qc,{onClick:()=>p.mutate(x.id),disabled:p.isPending,"data-testid":"button-confirm-delete-blog",children:p.isPending?"Deleting...":"Delete"})]})]})]})]})})]},x.id)),!(u!=null&&u.length)&&s.jsx(tt,{children:s.jsx(oe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'No blog posts yet. Click "Add Blog Post" to create your first one.'})})]})]})})})]})})}function N$e(){const{toast:e}=mt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState({name:"",title:"",company:"",avatarUrl:"",quote:"",rating:5,facilityId:"",isFeatured:!1,isActive:!0,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/testimonials"]}),{data:f}=de({queryKey:["/api/facilities"]}),h=ye({mutationFn:async b=>await ve("POST","/api/admin/testimonials",b),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial created successfully"}),a(!1),m()},onError:()=>{e({title:"Failed to create testimonial",variant:"destructive"})}}),p=ye({mutationFn:async({id:b,data:j})=>await ve("PATCH",`/api/admin/testimonials/${b}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial updated successfully"}),a(!1),r(null),m()},onError:()=>{e({title:"Failed to update testimonial",variant:"destructive"})}}),y=ye({mutationFn:async b=>await ve("DELETE",`/api/admin/testimonials/${b}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial deleted successfully"}),o(null)},onError:()=>{e({title:"Failed to delete testimonial",variant:"destructive"})}}),m=()=>{c({name:"",title:"",company:"",avatarUrl:"",quote:"",rating:5,facilityId:"",isFeatured:!1,isActive:!0,sortOrder:0})},w=b=>{r(b),c({name:b.name,title:b.title||"",company:b.company||"",avatarUrl:b.avatarUrl||"",quote:b.quote,rating:b.rating||5,facilityId:b.facilityId||"",isFeatured:b.isFeatured??!1,isActive:b.isActive??!0,sortOrder:b.sortOrder||0}),a(!0)},g=()=>{const b={...l,facilityId:l.facilityId||null};t?p.mutate({id:t.id,data:b}):h.mutate(b)},x=b=>Array.from({length:5}).map((j,_)=>s.jsx(fa,{className:`w-4 h-4 ${_<b?"text-yellow-500 fill-yellow-500":"text-muted-foreground"}`},_));return d?s.jsx(nt,{title:"Testimonials Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(nt,{title:"Testimonials Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage customer testimonials and reviews displayed on the website."}),s.jsxs(Et,{open:n,onOpenChange:b=>{a(b),b||(r(null),m())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-testimonial",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Testimonial"]})}),s.jsxs(_t,{className:"max-w-2xl",children:[s.jsx(At,{children:s.jsx(Ot,{children:t?"Edit Testimonial":"Add New Testimonial"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"name",children:"Name"}),s.jsx(Y,{id:"name",value:l.name,onChange:b=>c({...l,name:b.target.value}),"data-testid":"input-testimonial-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"title",children:"Title/Role"}),s.jsx(Y,{id:"title",value:l.title,onChange:b=>c({...l,title:b.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-testimonial-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"company",children:"Company (Optional)"}),s.jsx(Y,{id:"company",value:l.company,onChange:b=>c({...l,company:b.target.value}),"data-testid":"input-testimonial-company"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"avatarUrl",children:"Avatar URL (Optional)"}),s.jsx(Y,{id:"avatarUrl",value:l.avatarUrl,onChange:b=>c({...l,avatarUrl:b.target.value}),"data-testid":"input-testimonial-avatar"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(V,{htmlFor:"quote",children:"Quote"}),s.jsx(ct,{id:"quote",value:l.quote,onChange:b=>c({...l,quote:b.target.value}),rows:4,"data-testid":"input-testimonial-quote"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"rating",children:"Rating (1-5)"}),s.jsxs(kt,{value:l.rating.toString(),onValueChange:b=>c({...l,rating:parseInt(b)}),children:[s.jsx(jt,{"data-testid":"select-testimonial-rating",children:s.jsx(Ct,{})}),s.jsx(Nt,{children:[1,2,3,4,5].map(b=>s.jsxs(Ce,{value:b.toString(),"data-testid":`select-rating-${b}`,children:[b," Star",b!==1?"s":""]},b))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"facilityId",children:"Associated Facility (Optional)"}),s.jsxs(kt,{value:l.facilityId,onValueChange:b=>c({...l,facilityId:b==="none"?"":b}),children:[s.jsx(jt,{"data-testid":"select-testimonial-facility",children:s.jsx(Ct,{placeholder:"Select facility"})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"none","data-testid":"select-facility-none",children:"None"}),f==null?void 0:f.map(b=>s.jsx(Ce,{value:b.id,"data-testid":`select-facility-${b.id}`,children:b.name},b.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:l.sortOrder,onChange:b=>c({...l,sortOrder:parseInt(b.target.value)||0}),"data-testid":"input-testimonial-sortorder"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isActive",checked:l.isActive,onCheckedChange:b=>c({...l,isActive:b}),"data-testid":"switch-testimonial-active"}),s.jsx(V,{htmlFor:"isActive",children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{id:"isFeatured",checked:l.isFeatured,onCheckedChange:b=>c({...l,isFeatured:b}),"data-testid":"switch-testimonial-featured"}),s.jsx(V,{htmlFor:"isFeatured",children:"Featured"})]})]})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsxs(M,{onClick:g,disabled:h.isPending||p.isPending,"data-testid":"button-save-testimonial",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"," Testimonial"]})})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u==null?void 0:u.map(b=>s.jsx(ne,{"data-testid":`card-testimonial-${b.id}`,children:s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(Od,{className:"h-12 w-12",children:[s.jsx(Td,{src:b.avatarUrl||void 0,alt:b.name}),s.jsx(Id,{children:b.name.charAt(0)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:b.name}),b.isFeatured&&s.jsx(ce,{variant:"default",className:"text-xs",children:"Featured"}),!b.isActive&&s.jsx(ce,{variant:"secondary",className:"text-xs",children:"Inactive"})]}),(b.title||b.company)&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.title,b.title&&b.company?" at ":"",b.company]}),s.jsx("div",{className:"flex items-center gap-1 mt-1",children:x(b.rating||5)})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>w(b),"data-testid":`button-edit-testimonial-${b.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsxs(Vf,{open:i===b.id,onOpenChange:j=>!j&&o(null),children:[s.jsx(aP,{asChild:!0,children:s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>o(b.id),"data-testid":`button-delete-testimonial-${b.id}`,children:s.jsx(hr,{className:"w-4 h-4"})})}),s.jsxs(zc,{children:[s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Delete Testimonial"}),s.jsxs(Gc,{children:['Are you sure you want to delete the testimonial from "',b.name,'"? This action cannot be undone.']})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{disabled:y.isPending,children:"Cancel"}),s.jsx(Qc,{onClick:()=>y.mutate(b.id),disabled:y.isPending,"data-testid":"button-confirm-delete-testimonial",children:y.isPending?"Deleting...":"Delete"})]})]})]})]})]}),s.jsxs("div",{className:"mt-4 relative pl-4 border-l-2 border-muted",children:[s.jsx(Q5,{className:"absolute -left-2.5 -top-1 w-4 h-4 text-muted-foreground bg-card"}),s.jsx("p",{className:"text-sm italic text-muted-foreground",children:b.quote})]})]})},b.id)),!(u!=null&&u.length)&&s.jsx(ne,{className:"col-span-2",children:s.jsx(se,{className:"py-12 text-center text-muted-foreground",children:'No testimonials yet. Click "Add Testimonial" to create your first one.'})})]})]})})}const _$e={USER:"User",EDITOR:"Editor (Reception)",ADMIN:"Admin",SUPER_ADMIN:"Super Admin"},S$e={USER:"outline",EDITOR:"secondary",ADMIN:"default",SUPER_ADMIN:"destructive"};function k$e(){const{toast:e}=mt(),[t,r]=v.useState(""),[n,a]=v.useState("all"),[i,o]=v.useState(null),[l,c]=v.useState(""),[u,d]=v.useState(!1),{data:f,isLoading:h}=de({queryKey:["/api/admin/users"]}),{data:p}=de({queryKey:["/api/auth/user"]}),y=ye({mutationFn:async({userId:b,role:j})=>await ve("PATCH",`/api/admin/users/${b}`,{role:j}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Role Updated",description:"User role has been updated successfully."}),d(!1),o(null),c("")},onError:b=>{e({title:"Error",description:b.message||"Failed to update user role.",variant:"destructive"})}}),m=(f==null?void 0:f.filter(b=>{var N,S,C;const j=((N=b.email)==null?void 0:N.toLowerCase().includes(t.toLowerCase()))||((S=b.firstName)==null?void 0:S.toLowerCase().includes(t.toLowerCase()))||((C=b.lastName)==null?void 0:C.toLowerCase().includes(t.toLowerCase())),_=n==="all"||b.role===n;return j&&_}))??[],w=b=>{o(b),c(b.role),d(!0)},g=()=>{i&&l&&y.mutate({userId:i.id,role:l})};return(p==null?void 0:p.role)==="SUPER_ADMIN"?s.jsxs(nt,{title:"User Role Management",children:[s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx($G,{className:"w-5 h-5"}),"Manage User Roles"]})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Mp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Y,{placeholder:"Search by name or email...",value:t,onChange:b=>r(b.target.value),className:"pl-9","data-testid":"input-user-search"})]}),s.jsxs(kt,{value:n,onValueChange:a,children:[s.jsx(jt,{className:"w-[180px]","data-testid":"select-role-filter",children:s.jsx(Ct,{placeholder:"Filter by role"})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"all",children:"All Roles"}),s.jsx(Ce,{value:"USER",children:"Users"}),s.jsx(Ce,{value:"EDITOR",children:"Editors"}),s.jsx(Ce,{value:"ADMIN",children:"Admins"}),s.jsx(Ce,{value:"SUPER_ADMIN",children:"Super Admins"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(ne,{children:s.jsx(se,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.length)??0})]}),s.jsx(yr,{className:"w-8 h-8 text-muted-foreground"})]})})}),s.jsx(ne,{children:s.jsx(se,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Editors"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(b=>b.role==="EDITOR").length)??0})]})})}),s.jsx(ne,{children:s.jsx(se,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Admins"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(b=>b.role==="ADMIN").length)??0})]})})}),s.jsx(ne,{children:s.jsx(se,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Super Admins"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(b=>b.role==="SUPER_ADMIN").length)??0})]})})})]}),h?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Mr,{children:[s.jsx($r,{children:s.jsxs(tt,{children:[s.jsx(ue,{children:"User"}),s.jsx(ue,{children:"Email"}),s.jsx(ue,{children:"Current Role"}),s.jsx(ue,{className:"text-right",children:"Actions"})]})}),s.jsx(Dr,{children:m.length===0?s.jsx(tt,{children:s.jsx(oe,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No users found"})}):m.map(b=>{var j,_;return s.jsxs(tt,{"data-testid":`row-user-${b.id}`,children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:b.profileImageUrl?s.jsx("img",{src:b.profileImageUrl,alt:"",className:"w-full h-full rounded-full object-cover"}):s.jsxs("span",{className:"text-xs font-medium",children:[(j=b.firstName)==null?void 0:j[0],(_=b.lastName)==null?void 0:_[0]]})}),s.jsxs("span",{className:"font-medium",children:[b.firstName," ",b.lastName]})]})}),s.jsx(oe,{className:"text-muted-foreground",children:b.email}),s.jsx(oe,{children:s.jsx(ce,{variant:S$e[b.role]||"outline",children:_$e[b.role]||b.role})}),s.jsx(oe,{className:"text-right",children:s.jsx(M,{variant:"outline",size:"sm",onClick:()=>w(b),disabled:b.id===(p==null?void 0:p.id),"data-testid":`button-edit-role-${b.id}`,children:"Change Role"})})]},b.id)})})]})})]})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(We,{children:"Role Permissions"})}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ce,{variant:"outline",children:"USER"}),s.jsx("span",{className:"font-medium",children:"Regular User"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Can make bookings, register for events, and manage their own profile."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ce,{variant:"secondary",children:"EDITOR"}),s.jsx("span",{className:"font-medium",children:"Editor (Reception Staff)"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Can view and manage bookings, process membership applications, view members, and manage certifications. Cannot edit site content, CMS, or settings."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ce,{variant:"default",children:"ADMIN"}),s.jsx("span",{className:"font-medium",children:"Administrator"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full access to all admin features including CMS, site settings, facilities, events, and content management."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ce,{variant:"destructive",children:"SUPER_ADMIN"}),s.jsx("span",{className:"font-medium",children:"Super Administrator"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"All admin permissions plus ability to manage user roles and promote/demote other users."})]})]})})]})]}),s.jsx(Et,{open:u,onOpenChange:d,children:s.jsxs(_t,{children:[s.jsxs(At,{children:[s.jsx(Ot,{children:"Change User Role"}),s.jsxs(Rs,{children:["Update the role for ",i==null?void 0:i.firstName," ",i==null?void 0:i.lastName]})]}),s.jsx("div",{className:"py-4",children:s.jsxs(kt,{value:l,onValueChange:b=>c(b),children:[s.jsx(jt,{"data-testid":"select-new-role",children:s.jsx(Ct,{placeholder:"Select new role"})}),s.jsxs(Nt,{children:[s.jsx(Ce,{value:"USER",children:"User"}),s.jsx(Ce,{value:"EDITOR",children:"Editor (Reception)"}),s.jsx(Ce,{value:"ADMIN",children:"Admin"}),s.jsx(Ce,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})}),s.jsxs(Fv,{children:[s.jsx(M,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(M,{onClick:g,disabled:y.isPending||!l,"data-testid":"button-confirm-role-change",children:y.isPending?"Updating...":"Update Role"})]})]})})]}):s.jsx(nt,{title:"User Management",children:s.jsx("div",{className:"p-6",children:s.jsx(ne,{children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx(ci,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"Only Super Admins can manage user roles."})]})})})})}function C$e(){const{data:e,isLoading:t}=de({queryKey:["/api/blogs"]}),r=(e==null?void 0:e.filter(a=>a.isFeatured))||[],n=(e==null?void 0:e.filter(a=>!a.isFeatured))||[];return s.jsxs(s.Fragment,{children:[s.jsx(Kt,{}),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("section",{className:"relative py-20 bg-gradient-to-b from-primary/10 to-background",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-blog-title",children:"News & Updates"}),s.jsx("p",{className:"text-lg text-muted-foreground","data-testid":"text-blog-subtitle",children:"Stay updated with the latest news, tips, and happenings at The Quarterdeck"})]})})}),s.jsx("section",{className:"container mx-auto px-4 py-12",children:t?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>s.jsxs(ne,{children:[s.jsx($e,{className:"h-48 w-full rounded-t-lg"}),s.jsxs(Le,{children:[s.jsx($e,{className:"h-6 w-3/4"}),s.jsx($e,{className:"h-4 w-1/2 mt-2"})]}),s.jsxs(se,{children:[s.jsx($e,{className:"h-4 w-full"}),s.jsx($e,{className:"h-4 w-5/6 mt-2"})]})]},a))}):(e==null?void 0:e.length)===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"We're working on bringing you exciting content. Check back soon!"})]}):s.jsxs(s.Fragment,{children:[r.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(fa,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),"Featured Posts"]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(a=>s.jsx(mM,{blog:a,featured:!0},a.id))})]}),n.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Latest Posts"}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>s.jsx(mM,{blog:a},a.id))})]})]})})]}),s.jsx(Ht,{})]})}function mM({blog:e,featured:t=!1}){return s.jsxs(ne,{className:`overflow-hidden hover-elevate transition-all ${t?"md:col-span-1":""}`,"data-testid":`card-blog-${e.id}`,children:[e.featuredImageUrl&&s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:e.featuredImageUrl,alt:e.title,className:"w-full h-full object-cover"}),e.category&&s.jsx(ce,{className:"absolute top-3 left-3",variant:"secondary",children:e.category})]}),s.jsxs(Le,{className:"pb-2",children:[s.jsx(me,{href:`/blog/${e.slug}`,children:s.jsx("h3",{className:"text-xl font-semibold hover:text-primary transition-colors line-clamp-2 cursor-pointer",children:e.title})}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-2",children:[e.publishedAt&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(mr,{className:"w-3.5 h-3.5"}),Xn(new Date(e.publishedAt),"MMM d, yyyy")]}),e.readTimeMinutes&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Qt,{className:"w-3.5 h-3.5"}),e.readTimeMinutes," min read"]})]})]}),s.jsx(se,{className:"pb-2",children:e.excerpt&&s.jsx("p",{className:"text-muted-foreground line-clamp-3",children:e.excerpt})}),s.jsx(Ev,{className:"pt-2",children:s.jsx(me,{href:`/blog/${e.slug}`,children:s.jsxs(M,{variant:"ghost",className:"gap-2 p-0 h-auto","data-testid":`button-read-blog-${e.id}`,children:["Read More ",s.jsx(cb,{className:"w-4 h-4"})]})})})]})}function P$e(){var a;const{slug:e}=ab(),{data:t,isLoading:r,error:n}=de({queryKey:["/api/blogs",e]});return r?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{}),s.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx($e,{className:"h-8 w-1/3 mb-4"}),s.jsx($e,{className:"h-12 w-3/4 mb-4"}),s.jsx($e,{className:"h-6 w-1/2 mb-8"}),s.jsx($e,{className:"h-64 w-full mb-8"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{className:"h-4 w-full"}),s.jsx($e,{className:"h-4 w-full"}),s.jsx($e,{className:"h-4 w-5/6"}),s.jsx($e,{className:"h-4 w-full"}),s.jsx($e,{className:"h-4 w-4/5"})]})]}),s.jsx(Ht,{})]}):n||!t?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{}),s.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Post Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"The blog post you're looking for doesn't exist or has been removed."}),s.jsx(me,{href:"/blog",children:s.jsxs(M,{children:[s.jsx(kn,{className:"w-4 h-4 mr-2"}),"Back to Blog"]})})]}),s.jsx(Ht,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(Kt,{}),s.jsx("article",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx(me,{href:"/blog",children:s.jsxs(M,{variant:"ghost",className:"mb-6 gap-2","data-testid":"button-back-blog",children:[s.jsx(kn,{className:"w-4 h-4"}),"Back to Blog"]})}),s.jsxs("header",{className:"mb-8",children:[t.category&&s.jsx(ce,{className:"mb-4",variant:"secondary",children:t.category}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4","data-testid":"text-blogpost-title",children:t.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[t.author&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(ls,{className:"w-4 h-4"}),t.author]}),t.publishedAt&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(mr,{className:"w-4 h-4"}),Xn(new Date(t.publishedAt),"MMMM d, yyyy")]}),t.readTimeMinutes&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Qt,{className:"w-4 h-4"}),t.readTimeMinutes," min read"]})]})]}),t.featuredImageUrl&&s.jsx("div",{className:"relative mb-8 rounded-lg overflow-hidden",children:s.jsx("img",{src:t.featuredImageUrl,alt:t.title,className:"w-full h-auto max-h-[500px] object-cover","data-testid":"img-blogpost-featured"})}),t.excerpt&&s.jsx("p",{className:"text-xl text-muted-foreground mb-8 font-medium border-l-4 border-primary pl-4",children:t.excerpt}),s.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none","data-testid":"content-blogpost",children:(a=t.content)==null?void 0:a.split(`
`).map((i,o)=>i.trim()&&s.jsx("p",{children:i},o))}),t.tags&&t.tags.length>0&&s.jsxs("div",{className:"mt-12 pt-8 border-t",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((i,o)=>s.jsx(ce,{variant:"outline",children:i},o))})]})]})}),s.jsx(Ht,{})]})}function E$e(){Ur({title:"Testimonials",description:"Read what our members say about The Quarterdeck. Discover why we're Islamabad's premier sports and recreation complex."});const{data:e,isLoading:t}=de({queryKey:["/api/testimonials"]}),r=(e==null?void 0:e.filter(a=>a.isFeatured))||[],n=(e==null?void 0:e.filter(a=>!a.isFeatured))||[];return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Kt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Fn,{title:"What Our Members Say",subtitle:"Hear from our community about their experience at The Quarterdeck",testId:"text-testimonials-title"}),s.jsx("section",{className:"container mx-auto px-4 py-12",children:t?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>s.jsx(ne,{children:s.jsxs(se,{className:"p-6",children:[s.jsx($e,{className:"h-4 w-full mb-2"}),s.jsx($e,{className:"h-4 w-5/6 mb-4"}),s.jsx($e,{className:"h-4 w-3/4"}),s.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[s.jsx($e,{className:"w-10 h-10 rounded-full"}),s.jsxs("div",{children:[s.jsx($e,{className:"h-4 w-24"}),s.jsx($e,{className:"h-3 w-16 mt-1"})]})]})]})},a))}):(e==null?void 0:e.length)===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"We're collecting feedback from our members. Check back soon!"})]}):s.jsxs(s.Fragment,{children:[r.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(fa,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),"Featured Reviews"]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(a=>s.jsx(pM,{testimonial:a,featured:!0},a.id))})]}),n.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Member Reviews"}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>s.jsx(pM,{testimonial:a},a.id))})]})]})})]}),s.jsx(Ht,{})]})}function pM({testimonial:e,featured:t=!1}){var n;const r=a=>{const i=a||5;return Array.from({length:5}).map((o,l)=>s.jsx(fa,{className:`w-4 h-4 ${l<i?"text-yellow-500 fill-yellow-500":"text-muted-foreground"}`},l))};return s.jsx(ne,{className:`overflow-hidden hover-elevate transition-all ${t?"border-primary/20":""}`,"data-testid":`card-testimonial-${e.id}`,children:s.jsxs(se,{className:"p-6",children:[s.jsx(Q5,{className:"w-8 h-8 text-primary/20 mb-4"}),s.jsxs("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:['"',e.quote,'"']}),s.jsx("div",{className:"flex items-center gap-1 mb-4",children:r(e.rating)}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[e.avatarUrl?s.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-semibold text-primary",children:((n=e.name)==null?void 0:n.charAt(0))||"M"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:e.name}),e.title&&s.jsx("p",{className:"text-xs text-muted-foreground",children:e.title})]})]})]})})}function A$e(){const{adminPath:e,isAuthorized:t,isLoading:r}=Up();if(r||!t)return null;const n=`/${e}`;return s.jsxs(ZD,{children:[s.jsx(He,{path:`${n}/homepage`,component:yMe}),s.jsx(He,{path:`${n}/coming-soon`,component:bMe}),s.jsx(He,{path:`${n}/venues`,component:m$e}),s.jsx(He,{path:`${n}/facilities`,component:wMe}),s.jsx(He,{path:`${n}/roadmap`,component:TMe}),s.jsx(He,{path:`${n}/events`,component:IMe}),s.jsx(He,{path:`${n}/pricing`,component:RMe}),s.jsx(He,{path:`${n}/membership-tiers`,component:MMe}),s.jsx(He,{path:`${n}/announcements`,component:$Me}),s.jsx(He,{path:`${n}/careers`,component:DMe}),s.jsx(He,{path:`${n}/rules`,component:LMe}),s.jsx(He,{path:`${n}/policies`,component:FMe}),s.jsx(He,{path:`${n}/gallery`,component:UMe}),s.jsx(He,{path:`${n}/site-images`,component:BMe}),s.jsx(He,{path:`${n}/hero-sections`,component:f$e}),s.jsx(He,{path:`${n}/ctas`,component:h$e}),s.jsx(He,{path:`${n}/bookings`,component:VMe}),s.jsx(He,{path:`${n}/branding`,component:qMe}),s.jsx(He,{path:`${n}/faq`,component:l$e}),s.jsx(He,{path:`${n}/members`,component:c$e}),s.jsx(He,{path:`${n}/membership-applications`,component:p$e}),s.jsx(He,{path:`${n}/certifications`,component:g$e}),s.jsx(He,{path:`${n}/comparison-features`,component:v$e}),s.jsx(He,{path:`${n}/member-benefits`,component:w$e}),s.jsx(He,{path:`${n}/blogs`,component:j$e}),s.jsx(He,{path:`${n}/testimonials`,component:N$e}),s.jsx(He,{path:`${n}/user-management`,component:k$e}),s.jsx(He,{path:`${n}/site-settings`,component:u$e}),s.jsx(He,{path:n,component:fMe})]})}function O$e(){const{adminPath:e,isAuthorized:t}=Up(),[r]=Ln();return t&&e&&r.startsWith(`/${e}`)?null:s.jsxs(ZD,{children:[s.jsx(He,{path:"/booking",component:aie}),s.jsx(He,{path:"/profile",component:xie}),s.jsx(He,{path:"/events/:slug",component:qoe}),s.jsx(He,{path:"/events",component:Loe}),s.jsx(He,{path:"/leaderboard",component:Woe}),s.jsx(He,{path:"/gallery",component:Koe}),s.jsx(He,{path:"/vision",component:Hoe}),s.jsx(He,{path:"/facilities/:slug",component:ole}),s.jsx(He,{path:"/facilities",component:Zoe}),s.jsx(He,{path:"/roadmap",component:cle}),s.jsx(He,{path:"/rules",component:Ale}),s.jsx(He,{path:"/careers",component:Rle}),s.jsx(He,{path:"/terms",component:Mle}),s.jsx(He,{path:"/privacy",component:$le}),s.jsx(He,{path:"/coming-soon",component:Lle}),s.jsx(He,{path:"/contact",component:Ule}),s.jsx(He,{path:"/faq",component:qle}),s.jsx(He,{path:"/membership",component:Ice}),s.jsx(He,{path:"/blog/:slug",component:P$e}),s.jsx(He,{path:"/blog",component:C$e}),s.jsx(He,{path:"/testimonials",component:E$e}),s.jsx(He,{path:"/certifications",component:Rce}),s.jsx(He,{path:"/updates",component:Mce}),s.jsx(He,{path:"/login",component:Zce}),s.jsx(He,{path:"/signup",component:aue}),s.jsx(He,{path:"/forgot-password",component:oue}),s.jsx(He,{path:"/verify-email",component:uue}),s.jsx(He,{path:"/auth/callback",component:due}),s.jsx(He,{path:"/auth/reset-password",component:cue}),s.jsx(He,{path:"/",component:Xae}),s.jsx(He,{component:$ce})]})}function T$e(){return xee(),s.jsxs(s.Fragment,{children:[s.jsx(A$e,{}),s.jsx(O$e,{})]})}function I$e(){const[e,t]=v.useState(!1),r=v.useCallback(()=>{t(!0)},[]);return v.useEffect(()=>{},[]),s.jsx(LK,{client:re,children:s.jsx(xX,{children:s.jsx(aee,{children:s.jsxs(NX,{children:[!e&&s.jsx(gee,{onLoaded:r,minDisplayTime:800}),s.jsx(EQ,{}),s.jsx(pee,{}),s.jsx(T$e,{}),s.jsx(iee,{}),s.jsx(mee,{})]})})})})}FD(document.getElementById("root")).render(s.jsx(I$e,{}));
